"use strict";var OVe=Object.create;var aE=Object.defineProperty;var Jde=Object.getOwnPropertyDescriptor;var UVe=Object.getOwnPropertyNames;var qVe=Object.getPrototypeOf,WVe=Object.prototype.hasOwnProperty;var Yde=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Kde=e=>{throw TypeError(e)};var o=(e,t)=>aE(e,"name",{value:t,configurable:!0});var GVe=(e,t)=>()=>(e&&(t=e(e=0)),t);var H=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),C1=(e,t)=>{for(var r in t)aE(e,r,{get:t[r],enumerable:!0})},Zde=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of UVe(t))!WVe.call(e,i)&&i!==r&&aE(e,i,{get:()=>t[i],enumerable:!(n=Jde(t,i))||n.enumerable});return e};var et=(e,t,r)=>(r=e!=null?OVe(qVe(e)):{},Zde(t||!e||!e.__esModule?aE(r,"default",{value:e,enumerable:!0}):r,e)),HVe=e=>Zde(aE({},"__esModule",{value:!0}),e),Du=(e,t,r,n)=>{for(var i=n>1?void 0:n?Jde(t,r):t,s=e.length-1,a;s>=0;s--)(a=e[s])&&(i=(n?a(t,r,i):a(i))||i);return n&&i&&aE(t,r,i),i},La=(e,t)=>(r,n)=>t(r,n,e);var Wz=(e,t,r)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&Kde("Object expected");var n,i;r&&(n=t[Yde("asyncDispose")]),n===void 0&&(n=t[Yde("dispose")],r&&(i=n)),typeof n!="function"&&Kde("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.push([r,n,t])}else r&&e.push([r]);return t},Gz=(e,t,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,l,c,u){return u=Error(c),u.name="SuppressedError",u.error=a,u.suppressed=l,u},i=a=>t=r?new n(a,t,"An error was suppressed during disposal"):(r=!0,a),s=a=>{for(;a=e.pop();)try{var l=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(l).then(s,c=>(i(c),s()))}catch(c){i(c)}if(r)throw t};return s()};var importMetaUrlShim,d=GVe(()=>{"use strict";importMetaUrlShim=typeof document>"u"?require("node:url").pathToFileURL(__filename).href:importMetaUrlShim});var eme=H(Hz=>{d();var Xde="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Hz.encode=function(e){if(0<=e&&e<Xde.length)return Xde[e];throw new TypeError("Must be between 0 and 63: "+e)};Hz.decode=function(e){var t=65,r=90,n=97,i=122,s=48,a=57,l=43,c=47,u=26,f=52;return t<=e&&e<=r?e-t:n<=e&&e<=i?e-n+u:s<=e&&e<=a?e-s+f:e==l?62:e==c?63:-1}});var $z=H(Vz=>{d();var tme=eme(),jz=5,rme=1<<jz,nme=rme-1,ime=rme;function jVe(e){return e<0?(-e<<1)+1:(e<<1)+0}o(jVe,"toVLQSigned");function VVe(e){var t=(e&1)===1,r=e>>1;return t?-r:r}o(VVe,"fromVLQSigned");Vz.encode=o(function(t){var r="",n,i=jVe(t);do n=i&nme,i>>>=jz,i>0&&(n|=ime),r+=tme.encode(n);while(i>0);return r},"base64VLQ_encode");Vz.decode=o(function(t,r,n){var i=t.length,s=0,a=0,l,c;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(c=tme.decode(t.charCodeAt(r++)),c===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));l=!!(c&ime),c&=nme,s=s+(c<<a),a+=jz}while(l);n.value=VVe(s),n.rest=r},"base64VLQ_decode")});var uE=H(vc=>{d();function $Ve(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}o($Ve,"getArg");vc.getArg=$Ve;var ome=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,zVe=/^data:.+\,.+$/;function wT(e){var t=e.match(ome);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}o(wT,"urlParse");vc.urlParse=wT;function lE(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}o(lE,"urlGenerate");vc.urlGenerate=lE;function zz(e){var t=e,r=wT(e);if(r){if(!r.path)return e;t=r.path}for(var n=vc.isAbsolute(t),i=t.split(/\/+/),s,a=0,l=i.length-1;l>=0;l--)s=i[l],s==="."?i.splice(l,1):s===".."?a++:a>0&&(s===""?(i.splice(l+1,a),a=0):(i.splice(l,2),a--));return t=i.join("/"),t===""&&(t=n?"/":"."),r?(r.path=t,lE(r)):t}o(zz,"normalize");vc.normalize=zz;function sme(e,t){e===""&&(e="."),t===""&&(t=".");var r=wT(t),n=wT(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),lE(r);if(r||t.match(zVe))return t;if(n&&!n.host&&!n.path)return n.host=t,lE(n);var i=t.charAt(0)==="/"?t:zz(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=i,lE(n)):i}o(sme,"join");vc.join=sme;vc.isAbsolute=function(e){return e.charAt(0)==="/"||ome.test(e)};function YVe(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var n=e.lastIndexOf("/");if(n<0||(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}o(YVe,"relative");vc.relative=YVe;var ame=function(){var e=Object.create(null);return!("__proto__"in e)}();function lme(e){return e}o(lme,"identity");function KVe(e){return cme(e)?"$"+e:e}o(KVe,"toSetString");vc.toSetString=ame?lme:KVe;function JVe(e){return cme(e)?e.slice(1):e}o(JVe,"fromSetString");vc.fromSetString=ame?lme:JVe;function cme(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}o(cme,"isProtoString");function ZVe(e,t,r){var n=cE(e.source,t.source);return n!==0||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:cE(e.name,t.name)}o(ZVe,"compareByOriginalPositions");vc.compareByOriginalPositions=ZVe;function XVe(e,t,r){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0||r)||(n=cE(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:cE(e.name,t.name)}o(XVe,"compareByGeneratedPositionsDeflated");vc.compareByGeneratedPositionsDeflated=XVe;function cE(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}o(cE,"strcmp");function e$e(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=cE(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:cE(e.name,t.name)}o(e$e,"compareByGeneratedPositionsInflated");vc.compareByGeneratedPositionsInflated=e$e;function t$e(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}o(t$e,"parseSourceMapInput");vc.parseSourceMapInput=t$e;function r$e(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var n=wT(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}t=sme(lE(n),t)}return zz(t)}o(r$e,"computeSourceURL");vc.computeSourceURL=r$e});var Jz=H(ume=>{d();var Yz=uE(),Kz=Object.prototype.hasOwnProperty,W3=typeof Map<"u";function x1(){this._array=[],this._set=W3?new Map:Object.create(null)}o(x1,"ArraySet");x1.fromArray=o(function(t,r){for(var n=new x1,i=0,s=t.length;i<s;i++)n.add(t[i],r);return n},"ArraySet_fromArray");x1.prototype.size=o(function(){return W3?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");x1.prototype.add=o(function(t,r){var n=W3?t:Yz.toSetString(t),i=W3?this.has(t):Kz.call(this._set,n),s=this._array.length;(!i||r)&&this._array.push(t),i||(W3?this._set.set(t,s):this._set[n]=s)},"ArraySet_add");x1.prototype.has=o(function(t){if(W3)return this._set.has(t);var r=Yz.toSetString(t);return Kz.call(this._set,r)},"ArraySet_has");x1.prototype.indexOf=o(function(t){if(W3){var r=this._set.get(t);if(r>=0)return r}else{var n=Yz.toSetString(t);if(Kz.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");x1.prototype.at=o(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");x1.prototype.toArray=o(function(){return this._array.slice()},"ArraySet_toArray");ume.ArraySet=x1});var mme=H(dme=>{d();var fme=uE();function n$e(e,t){var r=e.generatedLine,n=t.generatedLine,i=e.generatedColumn,s=t.generatedColumn;return n>r||n==r&&s>=i||fme.compareByGeneratedPositionsInflated(e,t)<=0}o(n$e,"generatedPositionAfter");function xD(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o(xD,"MappingList");xD.prototype.unsortedForEach=o(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");xD.prototype.add=o(function(t){n$e(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");xD.prototype.toArray=o(function(){return this._sorted||(this._array.sort(fme.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");dme.MappingList=xD});var Zz=H(hme=>{d();var _T=$z(),Qa=uE(),vD=Jz().ArraySet,i$e=mme().MappingList;function Kf(e){e||(e={}),this._file=Qa.getArg(e,"file",null),this._sourceRoot=Qa.getArg(e,"sourceRoot",null),this._skipValidation=Qa.getArg(e,"skipValidation",!1),this._sources=new vD,this._names=new vD,this._mappings=new i$e,this._sourcesContents=null}o(Kf,"SourceMapGenerator");Kf.prototype._version=3;Kf.fromSourceMap=o(function(t){var r=t.sourceRoot,n=new Kf({file:t.file,sourceRoot:r});return t.eachMapping(function(i){var s={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(s.source=i.source,r!=null&&(s.source=Qa.relative(r,s.source)),s.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(s.name=i.name)),n.addMapping(s)}),t.sources.forEach(function(i){var s=i;r!==null&&(s=Qa.relative(r,i)),n._sources.has(s)||n._sources.add(s);var a=t.sourceContentFor(i);a!=null&&n.setSourceContent(i,a)}),n},"SourceMapGenerator_fromSourceMap");Kf.prototype.addMapping=o(function(t){var r=Qa.getArg(t,"generated"),n=Qa.getArg(t,"original",null),i=Qa.getArg(t,"source",null),s=Qa.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,n,i,s),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:s})},"SourceMapGenerator_addMapping");Kf.prototype.setSourceContent=o(function(t,r){var n=t;this._sourceRoot!=null&&(n=Qa.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Qa.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[Qa.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");Kf.prototype.applySourceMap=o(function(t,r,n){var i=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=t.file}var s=this._sourceRoot;s!=null&&(i=Qa.relative(s,i));var a=new vD,l=new vD;this._mappings.unsortedForEach(function(c){if(c.source===i&&c.originalLine!=null){var u=t.originalPositionFor({line:c.originalLine,column:c.originalColumn});u.source!=null&&(c.source=u.source,n!=null&&(c.source=Qa.join(n,c.source)),s!=null&&(c.source=Qa.relative(s,c.source)),c.originalLine=u.line,c.originalColumn=u.column,u.name!=null&&(c.name=u.name))}var f=c.source;f!=null&&!a.has(f)&&a.add(f);var m=c.name;m!=null&&!l.has(m)&&l.add(m)},this),this._sources=a,this._names=l,t.sources.forEach(function(c){var u=t.sourceContentFor(c);u!=null&&(n!=null&&(c=Qa.join(n,c)),s!=null&&(c=Qa.relative(s,c)),this.setSourceContent(c,u))},this)},"SourceMapGenerator_applySourceMap");Kf.prototype._validateMapping=o(function(t,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!n&&!i)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:r,name:i}))}},"SourceMapGenerator_validateMapping");Kf.prototype._serializeMappings=o(function(){for(var t=0,r=1,n=0,i=0,s=0,a=0,l="",c,u,f,m,h=this._mappings.toArray(),p=0,A=h.length;p<A;p++){if(u=h[p],c="",u.generatedLine!==r)for(t=0;u.generatedLine!==r;)c+=";",r++;else if(p>0){if(!Qa.compareByGeneratedPositionsInflated(u,h[p-1]))continue;c+=","}c+=_T.encode(u.generatedColumn-t),t=u.generatedColumn,u.source!=null&&(m=this._sources.indexOf(u.source),c+=_T.encode(m-a),a=m,c+=_T.encode(u.originalLine-1-i),i=u.originalLine-1,c+=_T.encode(u.originalColumn-n),n=u.originalColumn,u.name!=null&&(f=this._names.indexOf(u.name),c+=_T.encode(f-s),s=f)),l+=c}return l},"SourceMapGenerator_serializeMappings");Kf.prototype._generateSourcesContent=o(function(t,r){return t.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=Qa.relative(r,n));var i=Qa.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)},"SourceMapGenerator_generateSourcesContent");Kf.prototype.toJSON=o(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");Kf.prototype.toString=o(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");hme.SourceMapGenerator=Kf});var pme=H(G3=>{d();G3.GREATEST_LOWER_BOUND=1;G3.LEAST_UPPER_BOUND=2;function Xz(e,t,r,n,i,s){var a=Math.floor((t-e)/2)+e,l=i(r,n[a],!0);return l===0?a:l>0?t-a>1?Xz(a,t,r,n,i,s):s==G3.LEAST_UPPER_BOUND?t<n.length?t:-1:a:a-e>1?Xz(e,a,r,n,i,s):s==G3.LEAST_UPPER_BOUND?a:e<0?-1:e}o(Xz,"recursiveSearch");G3.search=o(function(t,r,n,i){if(r.length===0)return-1;var s=Xz(-1,r.length,t,r,n,i||G3.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&n(r[s],r[s-1],!0)===0;)--s;return s},"search")});var Ame=H(gme=>{d();function eY(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}o(eY,"swap");function o$e(e,t){return Math.round(e+Math.random()*(t-e))}o(o$e,"randomIntInRange");function tY(e,t,r,n){if(r<n){var i=o$e(r,n),s=r-1;eY(e,i,n);for(var a=e[n],l=r;l<n;l++)t(e[l],a)<=0&&(s+=1,eY(e,s,l));eY(e,s+1,l);var c=s+1;tY(e,t,r,c-1),tY(e,t,c+1,n)}}o(tY,"doQuickSort");gme.quickSort=function(e,t){tY(e,t,0,e.length-1)}});var Cme=H(bD=>{d();var Qr=uE(),rY=pme(),fE=Jz().ArraySet,s$e=$z(),ST=Ame().quickSort;function os(e,t){var r=e;return typeof e=="string"&&(r=Qr.parseSourceMapInput(e)),r.sections!=null?new _m(r,t):new $l(r,t)}o(os,"SourceMapConsumer");os.fromSourceMap=function(e,t){return $l.fromSourceMap(e,t)};os.prototype._version=3;os.prototype.__generatedMappings=null;Object.defineProperty(os.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:o(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});os.prototype.__originalMappings=null;Object.defineProperty(os.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:o(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});os.prototype._charIsMappingSeparator=o(function(t,r){var n=t.charAt(r);return n===";"||n===","},"SourceMapConsumer_charIsMappingSeparator");os.prototype._parseMappings=o(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");os.GENERATED_ORDER=1;os.ORIGINAL_ORDER=2;os.GREATEST_LOWER_BOUND=1;os.LEAST_UPPER_BOUND=2;os.prototype.eachMapping=o(function(t,r,n){var i=r||null,s=n||os.GENERATED_ORDER,a;switch(s){case os.GENERATED_ORDER:a=this._generatedMappings;break;case os.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var l=this.sourceRoot;a.map(function(c){var u=c.source===null?null:this._sources.at(c.source);return u=Qr.computeSourceURL(l,u,this._sourceMapURL),{source:u,generatedLine:c.generatedLine,generatedColumn:c.generatedColumn,originalLine:c.originalLine,originalColumn:c.originalColumn,name:c.name===null?null:this._names.at(c.name)}},this).forEach(t,i)},"SourceMapConsumer_eachMapping");os.prototype.allGeneratedPositionsFor=o(function(t){var r=Qr.getArg(t,"line"),n={source:Qr.getArg(t,"source"),originalLine:r,originalColumn:Qr.getArg(t,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Qr.compareByOriginalPositions,rY.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(t.column===void 0)for(var l=a.originalLine;a&&a.originalLine===l;)i.push({line:Qr.getArg(a,"generatedLine",null),column:Qr.getArg(a,"generatedColumn",null),lastColumn:Qr.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var c=a.originalColumn;a&&a.originalLine===r&&a.originalColumn==c;)i.push({line:Qr.getArg(a,"generatedLine",null),column:Qr.getArg(a,"generatedColumn",null),lastColumn:Qr.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return i},"SourceMapConsumer_allGeneratedPositionsFor");bD.SourceMapConsumer=os;function $l(e,t){var r=e;typeof e=="string"&&(r=Qr.parseSourceMapInput(e));var n=Qr.getArg(r,"version"),i=Qr.getArg(r,"sources"),s=Qr.getArg(r,"names",[]),a=Qr.getArg(r,"sourceRoot",null),l=Qr.getArg(r,"sourcesContent",null),c=Qr.getArg(r,"mappings"),u=Qr.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);a&&(a=Qr.normalize(a)),i=i.map(String).map(Qr.normalize).map(function(f){return a&&Qr.isAbsolute(a)&&Qr.isAbsolute(f)?Qr.relative(a,f):f}),this._names=fE.fromArray(s.map(String),!0),this._sources=fE.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(f){return Qr.computeSourceURL(a,f,t)}),this.sourceRoot=a,this.sourcesContent=l,this._mappings=c,this._sourceMapURL=t,this.file=u}o($l,"BasicSourceMapConsumer");$l.prototype=Object.create(os.prototype);$l.prototype.consumer=os;$l.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=Qr.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};$l.fromSourceMap=o(function(t,r){var n=Object.create($l.prototype),i=n._names=fE.fromArray(t._names.toArray(),!0),s=n._sources=fE.fromArray(t._sources.toArray(),!0);n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(p){return Qr.computeSourceURL(n.sourceRoot,p,r)});for(var a=t._mappings.toArray().slice(),l=n.__generatedMappings=[],c=n.__originalMappings=[],u=0,f=a.length;u<f;u++){var m=a[u],h=new yme;h.generatedLine=m.generatedLine,h.generatedColumn=m.generatedColumn,m.source&&(h.source=s.indexOf(m.source),h.originalLine=m.originalLine,h.originalColumn=m.originalColumn,m.name&&(h.name=i.indexOf(m.name)),c.push(h)),l.push(h)}return ST(n.__originalMappings,Qr.compareByOriginalPositions),n},"SourceMapConsumer_fromSourceMap");$l.prototype._version=3;Object.defineProperty($l.prototype,"sources",{get:o(function(){return this._absoluteSources.slice()},"get")});function yme(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}o(yme,"Mapping");$l.prototype._parseMappings=o(function(t,r){for(var n=1,i=0,s=0,a=0,l=0,c=0,u=t.length,f=0,m={},h={},p=[],A=[],x,v,E,b,_;f<u;)if(t.charAt(f)===";")n++,f++,i=0;else if(t.charAt(f)===",")f++;else{for(x=new yme,x.generatedLine=n,b=f;b<u&&!this._charIsMappingSeparator(t,b);b++);if(v=t.slice(f,b),E=m[v],E)f+=v.length;else{for(E=[];f<b;)s$e.decode(t,f,h),_=h.value,f=h.rest,E.push(_);if(E.length===2)throw new Error("Found a source, but no line and column");if(E.length===3)throw new Error("Found a source and line, but no column");m[v]=E}x.generatedColumn=i+E[0],i=x.generatedColumn,E.length>1&&(x.source=l+E[1],l+=E[1],x.originalLine=s+E[2],s=x.originalLine,x.originalLine+=1,x.originalColumn=a+E[3],a=x.originalColumn,E.length>4&&(x.name=c+E[4],c+=E[4])),A.push(x),typeof x.originalLine=="number"&&p.push(x)}ST(A,Qr.compareByGeneratedPositionsDeflated),this.__generatedMappings=A,ST(p,Qr.compareByOriginalPositions),this.__originalMappings=p},"SourceMapConsumer_parseMappings");$l.prototype._findMapping=o(function(t,r,n,i,s,a){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return rY.search(t,r,s,a)},"SourceMapConsumer_findMapping");$l.prototype.computeColumnSpans=o(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");$l.prototype.originalPositionFor=o(function(t){var r={generatedLine:Qr.getArg(t,"line"),generatedColumn:Qr.getArg(t,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",Qr.compareByGeneratedPositionsDeflated,Qr.getArg(t,"bias",os.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var s=Qr.getArg(i,"source",null);s!==null&&(s=this._sources.at(s),s=Qr.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var a=Qr.getArg(i,"name",null);return a!==null&&(a=this._names.at(a)),{source:s,line:Qr.getArg(i,"originalLine",null),column:Qr.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");$l.prototype.hasContentsOfAllSources=o(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");$l.prototype.sourceContentFor=o(function(t,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(t);if(n>=0)return this.sourcesContent[n];var i=t;this.sourceRoot!=null&&(i=Qr.relative(this.sourceRoot,i));var s;if(this.sourceRoot!=null&&(s=Qr.urlParse(this.sourceRoot))){var a=i.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!s.path||s.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");$l.prototype.generatedPositionFor=o(function(t){var r=Qr.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:Qr.getArg(t,"line"),originalColumn:Qr.getArg(t,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Qr.compareByOriginalPositions,Qr.getArg(t,"bias",os.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===n.source)return{line:Qr.getArg(s,"generatedLine",null),column:Qr.getArg(s,"generatedColumn",null),lastColumn:Qr.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");bD.BasicSourceMapConsumer=$l;function _m(e,t){var r=e;typeof e=="string"&&(r=Qr.parseSourceMapInput(e));var n=Qr.getArg(r,"version"),i=Qr.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new fE,this._names=new fE;var s={line:-1,column:0};this._sections=i.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var l=Qr.getArg(a,"offset"),c=Qr.getArg(l,"line"),u=Qr.getArg(l,"column");if(c<s.line||c===s.line&&u<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=l,{generatedOffset:{generatedLine:c+1,generatedColumn:u+1},consumer:new os(Qr.getArg(a,"map"),t)}})}o(_m,"IndexedSourceMapConsumer");_m.prototype=Object.create(os.prototype);_m.prototype.constructor=os;_m.prototype._version=3;Object.defineProperty(_m.prototype,"sources",{get:o(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e},"get")});_m.prototype.originalPositionFor=o(function(t){var r={generatedLine:Qr.getArg(t,"line"),generatedColumn:Qr.getArg(t,"column")},n=rY.search(r,this._sections,function(s,a){var l=s.generatedLine-a.generatedOffset.generatedLine;return l||s.generatedColumn-a.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");_m.prototype.hasContentsOfAllSources=o(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");_m.prototype.sourceContentFor=o(function(t,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],s=i.consumer.sourceContentFor(t,!0);if(s)return s}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");_m.prototype.generatedPositionFor=o(function(t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(Qr.getArg(t,"source"))!==-1){var i=n.consumer.generatedPositionFor(t);if(i){var s={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");_m.prototype._parseMappings=o(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],s=i.consumer._generatedMappings,a=0;a<s.length;a++){var l=s[a],c=i.consumer._sources.at(l.source);c=Qr.computeSourceURL(i.consumer.sourceRoot,c,this._sourceMapURL),this._sources.add(c),c=this._sources.indexOf(c);var u=null;l.name&&(u=i.consumer._names.at(l.name),this._names.add(u),u=this._names.indexOf(u));var f={source:c,generatedLine:l.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(i.generatedOffset.generatedLine===l.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:u};this.__generatedMappings.push(f),typeof f.originalLine=="number"&&this.__originalMappings.push(f)}ST(this.__generatedMappings,Qr.compareByGeneratedPositionsDeflated),ST(this.__originalMappings,Qr.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");bD.IndexedSourceMapConsumer=_m});var vme=H(xme=>{d();var a$e=Zz().SourceMapGenerator,ED=uE(),l$e=/(\r?\n)/,c$e=10,dE="$$$isSourceNode$$$";function Pu(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=e??null,this.column=t??null,this.source=r??null,this.name=i??null,this[dE]=!0,n!=null&&this.add(n)}o(Pu,"SourceNode");Pu.fromStringWithSourceMap=o(function(t,r,n){var i=new Pu,s=t.split(l$e),a=0,l=o(function(){var h=A(),p=A()||"";return h+p;function A(){return a<s.length?s[a++]:void 0}},"shiftNextLine"),c=1,u=0,f=null;return r.eachMapping(function(h){if(f!==null)if(c<h.generatedLine)m(f,l()),c++,u=0;else{var p=s[a]||"",A=p.substr(0,h.generatedColumn-u);s[a]=p.substr(h.generatedColumn-u),u=h.generatedColumn,m(f,A),f=h;return}for(;c<h.generatedLine;)i.add(l()),c++;if(u<h.generatedColumn){var p=s[a]||"";i.add(p.substr(0,h.generatedColumn)),s[a]=p.substr(h.generatedColumn),u=h.generatedColumn}f=h},this),a<s.length&&(f&&m(f,l()),i.add(s.splice(a).join(""))),r.sources.forEach(function(h){var p=r.sourceContentFor(h);p!=null&&(n!=null&&(h=ED.join(n,h)),i.setSourceContent(h,p))}),i;function m(h,p){if(h===null||h.source===void 0)i.add(p);else{var A=n?ED.join(n,h.source):h.source;i.add(new Pu(h.originalLine,h.originalColumn,A,p,h.name))}}o(m,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");Pu.prototype.add=o(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[dE]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");Pu.prototype.prepend=o(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[dE]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");Pu.prototype.walk=o(function(t){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[dE]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");Pu.prototype.join=o(function(t){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(t);r.push(this.children[n]),this.children=r}return this},"SourceNode_join");Pu.prototype.replaceRight=o(function(t,r){var n=this.children[this.children.length-1];return n[dE]?n.replaceRight(t,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");Pu.prototype.setSourceContent=o(function(t,r){this.sourceContents[ED.toSetString(t)]=r},"SourceNode_setSourceContent");Pu.prototype.walkSourceContents=o(function(t){for(var r=0,n=this.children.length;r<n;r++)this.children[r][dE]&&this.children[r].walkSourceContents(t);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)t(ED.fromSetString(i[r]),this.sourceContents[i[r]])},"SourceNode_walkSourceContents");Pu.prototype.toString=o(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");Pu.prototype.toStringWithSourceMap=o(function(t){var r={code:"",line:1,column:0},n=new a$e(t),i=!1,s=null,a=null,l=null,c=null;return this.walk(function(u,f){r.code+=u,f.source!==null&&f.line!==null&&f.column!==null?((s!==f.source||a!==f.line||l!==f.column||c!==f.name)&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name}),s=f.source,a=f.line,l=f.column,c=f.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),s=null,i=!1);for(var m=0,h=u.length;m<h;m++)u.charCodeAt(m)===c$e?(r.line++,r.column=0,m+1===h?(s=null,i=!1):i&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name})):r.column++}),this.walkSourceContents(function(u,f){n.setSourceContent(u,f)}),{code:r.code,map:n}},"SourceNode_toStringWithSourceMap");xme.SourceNode=Pu});var bme=H(ID=>{d();ID.SourceMapGenerator=Zz().SourceMapGenerator;ID.SourceMapConsumer=Cme().SourceMapConsumer;ID.SourceNode=vme().SourceNode});var Ime=H((UUt,Eme)=>{d();var u$e=Object.prototype.toString,nY=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function f$e(e){return u$e.call(e).slice(8,-1)==="ArrayBuffer"}o(f$e,"isArrayBuffer");function d$e(e,t,r){t>>>=0;var n=e.byteLength-t;if(n<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=n;else if(r>>>=0,r>n)throw new RangeError("'length' is out of bounds");return nY?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}o(d$e,"fromArrayBuffer");function m$e(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return nY?Buffer.from(e,t):new Buffer(e,t)}o(m$e,"fromString");function h$e(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return f$e(e)?d$e(e,t,r):typeof e=="string"?m$e(e,t):nY?Buffer.from(e):new Buffer(e)}o(h$e,"bufferFrom");Eme.exports=h$e});var Dme=H((j3,aY)=>{d();var p$e=bme().SourceMapConsumer,iY=require("path"),vp;try{vp=require("fs"),(!vp.existsSync||!vp.readFileSync)&&(vp=null)}catch{}var g$e=Ime();function Tme(e,t){return e.require(t)}o(Tme,"dynamicRequire");var wme=!1,_me=!1,oY=!1,kT="auto",H3={},RT={},A$e=/^data:application\/json[^,]+base64,/,xy=[],vy=[];function lY(){return kT==="browser"?!0:kT==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}o(lY,"isInBrowser");function y$e(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}o(y$e,"hasGlobalProcessEventEmitter");function C$e(){return typeof process=="object"&&process!==null?process.version:""}o(C$e,"globalProcessVersion");function x$e(){if(typeof process=="object"&&process!==null)return process.stderr}o(x$e,"globalProcessStderr");function v$e(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}o(v$e,"globalProcessExit");function TD(e){return function(t){for(var r=0;r<e.length;r++){var n=e[r](t);if(n)return n}return null}}o(TD,"handlerExec");var cY=TD(xy);xy.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(n,i){return i?"":"/"})),e in H3)return H3[e];var t="";try{if(vp)vp.existsSync(e)&&(t=vp.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return H3[e]=t});function sY(e,t){if(!e)return t;var r=iY.dirname(e),n=/^\w+:\/\/[^\/]*/.exec(r),i=n?n[0]:"",s=r.slice(i.length);return i&&/^\/\w\:/.test(s)?(i+="/",i+iY.resolve(r.slice(i.length),t).replace(/\\/g,"/")):i+iY.resolve(r.slice(i.length),t)}o(sY,"supportRelativeURL");function b$e(e){var t;if(lY())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var n=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(n)return n}catch{}t=cY(e);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,s,a;a=i.exec(t);)s=a;return s?s[1]:null}o(b$e,"retrieveSourceMapURL");var uY=TD(vy);vy.push(function(e){var t=b$e(e);if(!t)return null;var r;if(A$e.test(t)){var n=t.slice(t.indexOf(",")+1);r=g$e(n,"base64").toString(),t=e}else t=sY(e,t),r=cY(t);return r?{url:t,map:r}:null});function fY(e){var t=RT[e.source];if(!t){var r=uY(e.source);r?(t=RT[e.source]={url:r.url,map:new p$e(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(i,s){var a=t.map.sourcesContent[s];if(a){var l=sY(t.url,i);H3[l]=a}})):t=RT[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var n=t.map.originalPositionFor(e);if(n.source!==null)return n.source=sY(t.url,n.source),n}return e}o(fY,"mapSourcePosition");function kme(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=fY({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+kme(t[2])+")":e}o(kme,"mapEvalOrigin");function E$e(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var n=this.getColumnNumber();n&&(t+=":"+n)}}var i="",s=this.getFunctionName(),a=!0,l=this.isConstructor(),c=!(this.isToplevel()||l);if(c){var u=this.getTypeName();u==="[object Object]"&&(u="null");var f=this.getMethodName();s?(u&&s.indexOf(u)!=0&&(i+=u+"."),i+=s,f&&s.indexOf("."+f)!=s.length-f.length-1&&(i+=" [as "+f+"]")):i+=u+"."+(f||"<anonymous>")}else l?i+="new "+(s||"<anonymous>"):s?i+=s:(i+=t,a=!1);return a&&(i+=" ("+t+")"),i}o(E$e,"CallSiteToString");function Sme(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=E$e,t}o(Sme,"cloneCallSite");function Rme(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var n=e.getLineNumber(),i=e.getColumnNumber()-1,s=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,a=s.test(C$e())?0:62;n===1&&i>a&&!lY()&&!e.isEval()&&(i-=a);var l=fY({source:r,line:n,column:i});t.curPosition=l,e=Sme(e);var c=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?c():t.nextPosition.name||c()},e.getFileName=function(){return l.source},e.getLineNumber=function(){return l.line},e.getColumnNumber=function(){return l.column+1},e.getScriptNameOrSourceURL=function(){return l.source},e}var u=e.isEval()&&e.getEvalOrigin();return u&&(u=kme(u),e=Sme(e),e.getEvalOrigin=function(){return u}),e}o(Rme,"wrapCallSite");function I$e(e,t){oY&&(H3={},RT={});for(var r=e.name||"Error",n=e.message||"",i=r+": "+n,s={nextPosition:null,curPosition:null},a=[],l=t.length-1;l>=0;l--)a.push(`
    at `+Rme(t[l],s)),s.nextPosition=s.curPosition;return s.curPosition=s.nextPosition=null,i+a.reverse().join("")}o(I$e,"prepareStackTrace");function Bme(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],n=+t[2],i=+t[3],s=H3[r];if(!s&&vp&&vp.existsSync(r))try{s=vp.readFileSync(r,"utf8")}catch{s=""}if(s){var a=s.split(/(?:\r\n|\r|\n)/)[n-1];if(a)return r+":"+n+`
`+a+`
`+new Array(i).join(" ")+"^"}}return null}o(Bme,"getErrorSource");function T$e(e){var t=Bme(e),r=x$e();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),v$e(1)}o(T$e,"printErrorAndExit");function w$e(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,n=this.listeners(t).length>0;if(r&&!n)return T$e(arguments[1])}return e.apply(this,arguments)}}o(w$e,"shimEmitUncaughtException");var _$e=xy.slice(0),S$e=vy.slice(0);j3.wrapCallSite=Rme;j3.getErrorSource=Bme;j3.mapSourcePosition=fY;j3.retrieveSourceMap=uY;j3.install=function(e){if(e=e||{},e.environment&&(kT=e.environment,["node","browser","auto"].indexOf(kT)===-1))throw new Error("environment "+kT+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(xy.length=0),xy.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(vy.length=0),vy.unshift(e.retrieveSourceMap)),e.hookRequire&&!lY()){var t=Tme(aY,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(s,a){return H3[a]=s,RT[a]=void 0,r.call(this,s,a)},t.prototype._compile.__sourceMapSupport=!0)}if(oY||(oY="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),wme||(wme=!0,Error.prepareStackTrace=I$e),!_me){var n="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var i=Tme(aY,"worker_threads");i.isMainThread===!1&&(n=!1)}catch{}n&&y$e()&&(_me=!0,w$e())}};j3.resetRetrieveHandlers=function(){xy.length=0,vy.length=0,xy=_$e.slice(0),vy=S$e.slice(0),uY=TD(vy),cY=TD(xy)}});var ki=H((wD,Pme)=>{d();(function(e,t){typeof wD=="object"?Pme.exports=wD=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(wD,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var i=o(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),s=Object.create||function(){function E(){}return o(E,"F"),function(b){var _;return E.prototype=b,_=new E,E.prototype=null,_}}(),a={},l=a.lib={},c=l.Base=function(){return{extend:o(function(E){var b=s(this);return E&&b.mixIn(E),(!b.hasOwnProperty("init")||this.init===b.init)&&(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},"extend"),create:o(function(){var E=this.extend();return E.init.apply(E,arguments),E},"create"),init:o(function(){},"init"),mixIn:o(function(E){for(var b in E)E.hasOwnProperty(b)&&(this[b]=E[b]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},"mixIn"),clone:o(function(){return this.init.prototype.extend(this)},"clone")}}(),u=l.WordArray=c.extend({init:o(function(E,b){E=this.words=E||[],b!=r?this.sigBytes=b:this.sigBytes=E.length*4},"init"),toString:o(function(E){return(E||m).stringify(this)},"toString"),concat:o(function(E){var b=this.words,_=E.words,R=this.sigBytes,P=E.sigBytes;if(this.clamp(),R%4)for(var F=0;F<P;F++){var W=_[F>>>2]>>>24-F%4*8&255;b[R+F>>>2]|=W<<24-(R+F)%4*8}else for(var se=0;se<P;se+=4)b[R+se>>>2]=_[se>>>2];return this.sigBytes+=P,this},"concat"),clamp:o(function(){var E=this.words,b=this.sigBytes;E[b>>>2]&=4294967295<<32-b%4*8,E.length=t.ceil(b/4)},"clamp"),clone:o(function(){var E=c.clone.call(this);return E.words=this.words.slice(0),E},"clone"),random:o(function(E){for(var b=[],_=0;_<E;_+=4)b.push(i());return new u.init(b,E)},"random")}),f=a.enc={},m=f.Hex={stringify:o(function(E){for(var b=E.words,_=E.sigBytes,R=[],P=0;P<_;P++){var F=b[P>>>2]>>>24-P%4*8&255;R.push((F>>>4).toString(16)),R.push((F&15).toString(16))}return R.join("")},"stringify"),parse:o(function(E){for(var b=E.length,_=[],R=0;R<b;R+=2)_[R>>>3]|=parseInt(E.substr(R,2),16)<<24-R%8*4;return new u.init(_,b/2)},"parse")},h=f.Latin1={stringify:o(function(E){for(var b=E.words,_=E.sigBytes,R=[],P=0;P<_;P++){var F=b[P>>>2]>>>24-P%4*8&255;R.push(String.fromCharCode(F))}return R.join("")},"stringify"),parse:o(function(E){for(var b=E.length,_=[],R=0;R<b;R++)_[R>>>2]|=(E.charCodeAt(R)&255)<<24-R%4*8;return new u.init(_,b)},"parse")},p=f.Utf8={stringify:o(function(E){try{return decodeURIComponent(escape(h.stringify(E)))}catch{throw new Error("Malformed UTF-8 data")}},"stringify"),parse:o(function(E){return h.parse(unescape(encodeURIComponent(E)))},"parse")},A=l.BufferedBlockAlgorithm=c.extend({reset:o(function(){this._data=new u.init,this._nDataBytes=0},"reset"),_append:o(function(E){typeof E=="string"&&(E=p.parse(E)),this._data.concat(E),this._nDataBytes+=E.sigBytes},"_append"),_process:o(function(E){var b,_=this._data,R=_.words,P=_.sigBytes,F=this.blockSize,W=F*4,se=P/W;E?se=t.ceil(se):se=t.max((se|0)-this._minBufferSize,0);var de=se*F,re=t.min(de*4,P);if(de){for(var G=0;G<de;G+=F)this._doProcessBlock(R,G);b=R.splice(0,de),_.sigBytes-=re}return new u.init(b,re)},"_process"),clone:o(function(){var E=c.clone.call(this);return E._data=this._data.clone(),E},"clone"),_minBufferSize:0}),x=l.Hasher=A.extend({cfg:c.extend(),init:o(function(E){this.cfg=this.cfg.extend(E),this.reset()},"init"),reset:o(function(){A.reset.call(this),this._doReset()},"reset"),update:o(function(E){return this._append(E),this._process(),this},"update"),finalize:o(function(E){E&&this._append(E);var b=this._doFinalize();return b},"finalize"),blockSize:512/32,_createHelper:o(function(E){return function(b,_){return new E.init(_).finalize(b)}},"_createHelper"),_createHmacHelper:o(function(E){return function(b,_){return new v.HMAC.init(E,_).finalize(b)}},"_createHmacHelper")}),v=a.algo={};return a}(Math);return e})});var DT=H((_D,Fme)=>{d();(function(e,t){typeof _D=="object"?Fme.exports=_D=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(_D,function(e){return function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=r.x64={},l=a.Word=i.extend({init:o(function(u,f){this.high=u,this.low=f},"init")}),c=a.WordArray=i.extend({init:o(function(u,f){u=this.words=u||[],f!=t?this.sigBytes=f:this.sigBytes=u.length*8},"init"),toX32:o(function(){for(var u=this.words,f=u.length,m=[],h=0;h<f;h++){var p=u[h];m.push(p.high),m.push(p.low)}return s.create(m,this.sigBytes)},"toX32"),clone:o(function(){for(var u=i.clone.call(this),f=u.words=this.words.slice(0),m=f.length,h=0;h<m;h++)f[h]=f[h].clone();return u},"clone")})}(),e})});var Lme=H((SD,Nme)=>{d();(function(e,t){typeof SD=="object"?Nme.exports=SD=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(SD,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,i=n.init,s=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var l=a.byteLength,c=[],u=0;u<l;u++)c[u>>>2]|=a[u]<<24-u%4*8;i.call(this,c,l)}else i.apply(this,arguments)};s.prototype=n}}(),e.lib.WordArray})});var Mme=H((kD,Qme)=>{d();(function(e,t){typeof kD=="object"?Qme.exports=kD=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(kD,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Utf16=i.Utf16BE={stringify:o(function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var h=c[m>>>2]>>>16-m%4*8&65535;f.push(String.fromCharCode(h))}return f.join("")},"stringify"),parse:o(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return n.create(u,c*2)},"parse")};i.Utf16LE={stringify:o(function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var h=a(c[m>>>2]>>>16-m%4*8&65535);f.push(String.fromCharCode(h))}return f.join("")},"stringify"),parse:o(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=a(l.charCodeAt(f)<<16-f%2*16);return n.create(u,c*2)},"parse")};function a(l){return l<<8&4278255360|l>>>8&16711935}o(a,"swapEndian")}(),e.enc.Utf16})});var by=H((RD,Ome)=>{d();(function(e,t){typeof RD=="object"?Ome.exports=RD=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(RD,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64={stringify:o(function(l){var c=l.words,u=l.sigBytes,f=this._map;l.clamp();for(var m=[],h=0;h<u;h+=3)for(var p=c[h>>>2]>>>24-h%4*8&255,A=c[h+1>>>2]>>>24-(h+1)%4*8&255,x=c[h+2>>>2]>>>24-(h+2)%4*8&255,v=p<<16|A<<8|x,E=0;E<4&&h+E*.75<u;E++)m.push(f.charAt(v>>>6*(3-E)&63));var b=f.charAt(64);if(b)for(;m.length%4;)m.push(b);return m.join("")},"stringify"),parse:o(function(l){var c=l.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var m=0;m<u.length;m++)f[u.charCodeAt(m)]=m}var h=u.charAt(64);if(h){var p=l.indexOf(h);p!==-1&&(c=p)}return a(l,c,f)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var f=[],m=0,h=0;h<c;h++)if(h%4){var p=u[l.charCodeAt(h-1)]<<h%4*2,A=u[l.charCodeAt(h)]>>>6-h%4*2,x=p|A;f[m>>>2]|=x<<24-m%4*8,m++}return n.create(f,m)}o(a,"parseLoop")}(),e.enc.Base64})});var qme=H((BD,Ume)=>{d();(function(e,t){typeof BD=="object"?Ume.exports=BD=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(BD,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64url={stringify:o(function(l,c){c===void 0&&(c=!0);var u=l.words,f=l.sigBytes,m=c?this._safe_map:this._map;l.clamp();for(var h=[],p=0;p<f;p+=3)for(var A=u[p>>>2]>>>24-p%4*8&255,x=u[p+1>>>2]>>>24-(p+1)%4*8&255,v=u[p+2>>>2]>>>24-(p+2)%4*8&255,E=A<<16|x<<8|v,b=0;b<4&&p+b*.75<f;b++)h.push(m.charAt(E>>>6*(3-b)&63));var _=m.charAt(64);if(_)for(;h.length%4;)h.push(_);return h.join("")},"stringify"),parse:o(function(l,c){c===void 0&&(c=!0);var u=l.length,f=c?this._safe_map:this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var h=0;h<f.length;h++)m[f.charCodeAt(h)]=h}var p=f.charAt(64);if(p){var A=l.indexOf(p);A!==-1&&(u=A)}return a(l,u,m)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var f=[],m=0,h=0;h<c;h++)if(h%4){var p=u[l.charCodeAt(h-1)]<<h%4*2,A=u[l.charCodeAt(h)]>>>6-h%4*2,x=p|A;f[m>>>2]|=x<<24-m%4*8,m++}return n.create(f,m)}o(a,"parseLoop")}(),e.enc.Base64url})});var Ey=H((DD,Wme)=>{d();(function(e,t){typeof DD=="object"?Wme.exports=DD=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(DD,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[];(function(){for(var p=0;p<64;p++)l[p]=t.abs(t.sin(p+1))*4294967296|0})();var c=a.MD5=s.extend({_doReset:o(function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},"_doReset"),_doProcessBlock:o(function(p,A){for(var x=0;x<16;x++){var v=A+x,E=p[v];p[v]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var b=this._hash.words,_=p[A+0],R=p[A+1],P=p[A+2],F=p[A+3],W=p[A+4],se=p[A+5],de=p[A+6],re=p[A+7],G=p[A+8],U=p[A+9],ne=p[A+10],J=p[A+11],j=p[A+12],O=p[A+13],V=p[A+14],Z=p[A+15],ae=b[0],te=b[1],le=b[2],fe=b[3];ae=u(ae,te,le,fe,_,7,l[0]),fe=u(fe,ae,te,le,R,12,l[1]),le=u(le,fe,ae,te,P,17,l[2]),te=u(te,le,fe,ae,F,22,l[3]),ae=u(ae,te,le,fe,W,7,l[4]),fe=u(fe,ae,te,le,se,12,l[5]),le=u(le,fe,ae,te,de,17,l[6]),te=u(te,le,fe,ae,re,22,l[7]),ae=u(ae,te,le,fe,G,7,l[8]),fe=u(fe,ae,te,le,U,12,l[9]),le=u(le,fe,ae,te,ne,17,l[10]),te=u(te,le,fe,ae,J,22,l[11]),ae=u(ae,te,le,fe,j,7,l[12]),fe=u(fe,ae,te,le,O,12,l[13]),le=u(le,fe,ae,te,V,17,l[14]),te=u(te,le,fe,ae,Z,22,l[15]),ae=f(ae,te,le,fe,R,5,l[16]),fe=f(fe,ae,te,le,de,9,l[17]),le=f(le,fe,ae,te,J,14,l[18]),te=f(te,le,fe,ae,_,20,l[19]),ae=f(ae,te,le,fe,se,5,l[20]),fe=f(fe,ae,te,le,ne,9,l[21]),le=f(le,fe,ae,te,Z,14,l[22]),te=f(te,le,fe,ae,W,20,l[23]),ae=f(ae,te,le,fe,U,5,l[24]),fe=f(fe,ae,te,le,V,9,l[25]),le=f(le,fe,ae,te,F,14,l[26]),te=f(te,le,fe,ae,G,20,l[27]),ae=f(ae,te,le,fe,O,5,l[28]),fe=f(fe,ae,te,le,P,9,l[29]),le=f(le,fe,ae,te,re,14,l[30]),te=f(te,le,fe,ae,j,20,l[31]),ae=m(ae,te,le,fe,se,4,l[32]),fe=m(fe,ae,te,le,G,11,l[33]),le=m(le,fe,ae,te,J,16,l[34]),te=m(te,le,fe,ae,V,23,l[35]),ae=m(ae,te,le,fe,R,4,l[36]),fe=m(fe,ae,te,le,W,11,l[37]),le=m(le,fe,ae,te,re,16,l[38]),te=m(te,le,fe,ae,ne,23,l[39]),ae=m(ae,te,le,fe,O,4,l[40]),fe=m(fe,ae,te,le,_,11,l[41]),le=m(le,fe,ae,te,F,16,l[42]),te=m(te,le,fe,ae,de,23,l[43]),ae=m(ae,te,le,fe,U,4,l[44]),fe=m(fe,ae,te,le,j,11,l[45]),le=m(le,fe,ae,te,Z,16,l[46]),te=m(te,le,fe,ae,P,23,l[47]),ae=h(ae,te,le,fe,_,6,l[48]),fe=h(fe,ae,te,le,re,10,l[49]),le=h(le,fe,ae,te,V,15,l[50]),te=h(te,le,fe,ae,se,21,l[51]),ae=h(ae,te,le,fe,j,6,l[52]),fe=h(fe,ae,te,le,F,10,l[53]),le=h(le,fe,ae,te,ne,15,l[54]),te=h(te,le,fe,ae,R,21,l[55]),ae=h(ae,te,le,fe,G,6,l[56]),fe=h(fe,ae,te,le,Z,10,l[57]),le=h(le,fe,ae,te,de,15,l[58]),te=h(te,le,fe,ae,O,21,l[59]),ae=h(ae,te,le,fe,W,6,l[60]),fe=h(fe,ae,te,le,J,10,l[61]),le=h(le,fe,ae,te,P,15,l[62]),te=h(te,le,fe,ae,U,21,l[63]),b[0]=b[0]+ae|0,b[1]=b[1]+te|0,b[2]=b[2]+le|0,b[3]=b[3]+fe|0},"_doProcessBlock"),_doFinalize:o(function(){var p=this._data,A=p.words,x=this._nDataBytes*8,v=p.sigBytes*8;A[v>>>5]|=128<<24-v%32;var E=t.floor(x/4294967296),b=x;A[(v+64>>>9<<4)+15]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,A[(v+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,p.sigBytes=(A.length+1)*4,this._process();for(var _=this._hash,R=_.words,P=0;P<4;P++){var F=R[P];R[P]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return _},"_doFinalize"),clone:o(function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p},"clone")});function u(p,A,x,v,E,b,_){var R=p+(A&x|~A&v)+E+_;return(R<<b|R>>>32-b)+A}o(u,"FF");function f(p,A,x,v,E,b,_){var R=p+(A&v|x&~v)+E+_;return(R<<b|R>>>32-b)+A}o(f,"GG");function m(p,A,x,v,E,b,_){var R=p+(A^x^v)+E+_;return(R<<b|R>>>32-b)+A}o(m,"HH");function h(p,A,x,v,E,b,_){var R=p+(x^(A|~v))+E+_;return(R<<b|R>>>32-b)+A}o(h,"II"),r.MD5=s._createHelper(c),r.HmacMD5=s._createHmacHelper(c)}(Math),e.MD5})});var dY=H((PD,Gme)=>{d();(function(e,t){typeof PD=="object"?Gme.exports=PD=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(PD,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.Hasher,s=t.algo,a=[],l=s.SHA1=i.extend({_doReset:o(function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(c,u){for(var f=this._hash.words,m=f[0],h=f[1],p=f[2],A=f[3],x=f[4],v=0;v<80;v++){if(v<16)a[v]=c[u+v]|0;else{var E=a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=E<<1|E>>>31}var b=(m<<5|m>>>27)+x+a[v];v<20?b+=(h&p|~h&A)+1518500249:v<40?b+=(h^p^A)+1859775393:v<60?b+=(h&p|h&A|p&A)-1894007588:b+=(h^p^A)-899497514,x=A,A=p,p=h<<30|h>>>2,h=m,m=b}f[0]=f[0]+m|0,f[1]=f[1]+h|0,f[2]=f[2]+p|0,f[3]=f[3]+A|0,f[4]=f[4]+x|0},"_doProcessBlock"),_doFinalize:o(function(){var c=this._data,u=c.words,f=this._nDataBytes*8,m=c.sigBytes*8;return u[m>>>5]|=128<<24-m%32,u[(m+64>>>9<<4)+14]=Math.floor(f/4294967296),u[(m+64>>>9<<4)+15]=f,c.sigBytes=u.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var c=i.clone.call(this);return c._hash=this._hash.clone(),c},"clone")});t.SHA1=i._createHelper(l),t.HmacSHA1=i._createHmacHelper(l)}(),e.SHA1})});var ND=H((FD,Hme)=>{d();(function(e,t){typeof FD=="object"?Hme.exports=FD=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(FD,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[],c=[];(function(){function m(x){for(var v=t.sqrt(x),E=2;E<=v;E++)if(!(x%E))return!1;return!0}o(m,"isPrime");function h(x){return(x-(x|0))*4294967296|0}o(h,"getFractionalBits");for(var p=2,A=0;A<64;)m(p)&&(A<8&&(l[A]=h(t.pow(p,1/2))),c[A]=h(t.pow(p,1/3)),A++),p++})();var u=[],f=a.SHA256=s.extend({_doReset:o(function(){this._hash=new i.init(l.slice(0))},"_doReset"),_doProcessBlock:o(function(m,h){for(var p=this._hash.words,A=p[0],x=p[1],v=p[2],E=p[3],b=p[4],_=p[5],R=p[6],P=p[7],F=0;F<64;F++){if(F<16)u[F]=m[h+F]|0;else{var W=u[F-15],se=(W<<25|W>>>7)^(W<<14|W>>>18)^W>>>3,de=u[F-2],re=(de<<15|de>>>17)^(de<<13|de>>>19)^de>>>10;u[F]=se+u[F-7]+re+u[F-16]}var G=b&_^~b&R,U=A&x^A&v^x&v,ne=(A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22),J=(b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25),j=P+J+G+c[F]+u[F],O=ne+U;P=R,R=_,_=b,b=E+j|0,E=v,v=x,x=A,A=j+O|0}p[0]=p[0]+A|0,p[1]=p[1]+x|0,p[2]=p[2]+v|0,p[3]=p[3]+E|0,p[4]=p[4]+b|0,p[5]=p[5]+_|0,p[6]=p[6]+R|0,p[7]=p[7]+P|0},"_doProcessBlock"),_doFinalize:o(function(){var m=this._data,h=m.words,p=this._nDataBytes*8,A=m.sigBytes*8;return h[A>>>5]|=128<<24-A%32,h[(A+64>>>9<<4)+14]=t.floor(p/4294967296),h[(A+64>>>9<<4)+15]=p,m.sigBytes=h.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m},"clone")});r.SHA256=s._createHelper(f),r.HmacSHA256=s._createHmacHelper(f)}(Math),e.SHA256})});var Vme=H((LD,jme)=>{d();(function(e,t,r){typeof LD=="object"?jme.exports=LD=t(ki(),ND()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(LD,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.algo,s=i.SHA256,a=i.SHA224=s.extend({_doReset:o(function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},"_doReset"),_doFinalize:o(function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l},"_doFinalize")});t.SHA224=s._createHelper(a),t.HmacSHA224=s._createHmacHelper(a)}(),e.SHA224})});var mY=H((QD,$me)=>{d();(function(e,t,r){typeof QD=="object"?$me.exports=QD=t(ki(),DT()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(QD,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,i=t.x64,s=i.Word,a=i.WordArray,l=t.algo;function c(){return s.create.apply(s,arguments)}o(c,"X64Word_create");var u=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var h=0;h<80;h++)f[h]=c()})();var m=l.SHA512=n.extend({_doReset:o(function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},"_doReset"),_doProcessBlock:o(function(h,p){for(var A=this._hash.words,x=A[0],v=A[1],E=A[2],b=A[3],_=A[4],R=A[5],P=A[6],F=A[7],W=x.high,se=x.low,de=v.high,re=v.low,G=E.high,U=E.low,ne=b.high,J=b.low,j=_.high,O=_.low,V=R.high,Z=R.low,ae=P.high,te=P.low,le=F.high,fe=F.low,De=W,ve=se,Ue=de,ke=re,Ze=G,ft=U,at=ne,lt=J,ie=j,Fe=O,Ae=V,Ge=Z,z=ae,ee=te,Le=le,Se=fe,Ce=0;Ce<80;Ce++){var qe,Ve,tt=f[Ce];if(Ce<16)Ve=tt.high=h[p+Ce*2]|0,qe=tt.low=h[p+Ce*2+1]|0;else{var Ct=f[Ce-15],Pt=Ct.high,yt=Ct.low,$t=(Pt>>>1|yt<<31)^(Pt>>>8|yt<<24)^Pt>>>7,Kt=(yt>>>1|Pt<<31)^(yt>>>8|Pt<<24)^(yt>>>7|Pt<<25),sr=f[Ce-2],ge=sr.high,Qe=sr.low,Je=(ge>>>19|Qe<<13)^(ge<<3|Qe>>>29)^ge>>>6,rt=(Qe>>>19|ge<<13)^(Qe<<3|ge>>>29)^(Qe>>>6|ge<<26),St=f[Ce-7],bt=St.high,Qt=St.low,Ot=f[Ce-16],wt=Ot.high,kt=Ot.low;qe=Kt+Qt,Ve=$t+bt+(qe>>>0<Kt>>>0?1:0),qe=qe+rt,Ve=Ve+Je+(qe>>>0<rt>>>0?1:0),qe=qe+kt,Ve=Ve+wt+(qe>>>0<kt>>>0?1:0),tt.high=Ve,tt.low=qe}var _t=ie&Ae^~ie&z,qt=Fe&Ge^~Fe&ee,Ht=De&Ue^De&Ze^Ue&Ze,Jt=ve&ke^ve&ft^ke&ft,ur=(De>>>28|ve<<4)^(De<<30|ve>>>2)^(De<<25|ve>>>7),gr=(ve>>>28|De<<4)^(ve<<30|De>>>2)^(ve<<25|De>>>7),lr=(ie>>>14|Fe<<18)^(ie>>>18|Fe<<14)^(ie<<23|Fe>>>9),fr=(Fe>>>14|ie<<18)^(Fe>>>18|ie<<14)^(Fe<<23|ie>>>9),rr=u[Ce],dr=rr.high,Ie=rr.low,M=Se+fr,me=Le+lr+(M>>>0<Se>>>0?1:0),M=M+qt,me=me+_t+(M>>>0<qt>>>0?1:0),M=M+Ie,me=me+dr+(M>>>0<Ie>>>0?1:0),M=M+qe,me=me+Ve+(M>>>0<qe>>>0?1:0),ye=gr+Jt,Y=ur+Ht+(ye>>>0<gr>>>0?1:0);Le=z,Se=ee,z=Ae,ee=Ge,Ae=ie,Ge=Fe,Fe=lt+M|0,ie=at+me+(Fe>>>0<lt>>>0?1:0)|0,at=Ze,lt=ft,Ze=Ue,ft=ke,Ue=De,ke=ve,ve=M+ye|0,De=me+Y+(ve>>>0<M>>>0?1:0)|0}se=x.low=se+ve,x.high=W+De+(se>>>0<ve>>>0?1:0),re=v.low=re+ke,v.high=de+Ue+(re>>>0<ke>>>0?1:0),U=E.low=U+ft,E.high=G+Ze+(U>>>0<ft>>>0?1:0),J=b.low=J+lt,b.high=ne+at+(J>>>0<lt>>>0?1:0),O=_.low=O+Fe,_.high=j+ie+(O>>>0<Fe>>>0?1:0),Z=R.low=Z+Ge,R.high=V+Ae+(Z>>>0<Ge>>>0?1:0),te=P.low=te+ee,P.high=ae+z+(te>>>0<ee>>>0?1:0),fe=F.low=fe+Se,F.high=le+Le+(fe>>>0<Se>>>0?1:0)},"_doProcessBlock"),_doFinalize:o(function(){var h=this._data,p=h.words,A=this._nDataBytes*8,x=h.sigBytes*8;p[x>>>5]|=128<<24-x%32,p[(x+128>>>10<<5)+30]=Math.floor(A/4294967296),p[(x+128>>>10<<5)+31]=A,h.sigBytes=p.length*4,this._process();var v=this._hash.toX32();return v},"_doFinalize"),clone:o(function(){var h=n.clone.call(this);return h._hash=this._hash.clone(),h},"clone"),blockSize:1024/32});t.SHA512=n._createHelper(m),t.HmacSHA512=n._createHmacHelper(m)}(),e.SHA512})});var Yme=H((MD,zme)=>{d();(function(e,t,r){typeof MD=="object"?zme.exports=MD=t(ki(),DT(),mY()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(MD,function(e){return function(){var t=e,r=t.x64,n=r.Word,i=r.WordArray,s=t.algo,a=s.SHA512,l=s.SHA384=a.extend({_doReset:o(function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},"_doReset"),_doFinalize:o(function(){var c=a._doFinalize.call(this);return c.sigBytes-=16,c},"_doFinalize")});t.SHA384=a._createHelper(l),t.HmacSHA384=a._createHmacHelper(l)}(),e.SHA384})});var Jme=H((OD,Kme)=>{d();(function(e,t,r){typeof OD=="object"?Kme.exports=OD=t(ki(),DT()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(OD,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.x64,l=a.Word,c=r.algo,u=[],f=[],m=[];(function(){for(var A=1,x=0,v=0;v<24;v++){u[A+5*x]=(v+1)*(v+2)/2%64;var E=x%5,b=(2*A+3*x)%5;A=E,x=b}for(var A=0;A<5;A++)for(var x=0;x<5;x++)f[A+5*x]=x+(2*A+3*x)%5*5;for(var _=1,R=0;R<24;R++){for(var P=0,F=0,W=0;W<7;W++){if(_&1){var se=(1<<W)-1;se<32?F^=1<<se:P^=1<<se-32}_&128?_=_<<1^113:_<<=1}m[R]=l.create(P,F)}})();var h=[];(function(){for(var A=0;A<25;A++)h[A]=l.create()})();var p=c.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:o(function(){for(var A=this._state=[],x=0;x<25;x++)A[x]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},"_doReset"),_doProcessBlock:o(function(A,x){for(var v=this._state,E=this.blockSize/2,b=0;b<E;b++){var _=A[x+2*b],R=A[x+2*b+1];_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360;var P=v[b];P.high^=R,P.low^=_}for(var F=0;F<24;F++){for(var W=0;W<5;W++){for(var se=0,de=0,re=0;re<5;re++){var P=v[W+5*re];se^=P.high,de^=P.low}var G=h[W];G.high=se,G.low=de}for(var W=0;W<5;W++)for(var U=h[(W+4)%5],ne=h[(W+1)%5],J=ne.high,j=ne.low,se=U.high^(J<<1|j>>>31),de=U.low^(j<<1|J>>>31),re=0;re<5;re++){var P=v[W+5*re];P.high^=se,P.low^=de}for(var O=1;O<25;O++){var se,de,P=v[O],V=P.high,Z=P.low,ae=u[O];ae<32?(se=V<<ae|Z>>>32-ae,de=Z<<ae|V>>>32-ae):(se=Z<<ae-32|V>>>64-ae,de=V<<ae-32|Z>>>64-ae);var te=h[f[O]];te.high=se,te.low=de}var le=h[0],fe=v[0];le.high=fe.high,le.low=fe.low;for(var W=0;W<5;W++)for(var re=0;re<5;re++){var O=W+5*re,P=v[O],De=h[O],ve=h[(W+1)%5+5*re],Ue=h[(W+2)%5+5*re];P.high=De.high^~ve.high&Ue.high,P.low=De.low^~ve.low&Ue.low}var P=v[0],ke=m[F];P.high^=ke.high,P.low^=ke.low}},"_doProcessBlock"),_doFinalize:o(function(){var A=this._data,x=A.words,v=this._nDataBytes*8,E=A.sigBytes*8,b=this.blockSize*32;x[E>>>5]|=1<<24-E%32,x[(t.ceil((E+1)/b)*b>>>5)-1]|=128,A.sigBytes=x.length*4,this._process();for(var _=this._state,R=this.cfg.outputLength/8,P=R/8,F=[],W=0;W<P;W++){var se=_[W],de=se.high,re=se.low;de=(de<<8|de>>>24)&16711935|(de<<24|de>>>8)&4278255360,re=(re<<8|re>>>24)&16711935|(re<<24|re>>>8)&4278255360,F.push(re),F.push(de)}return new i.init(F,R)},"_doFinalize"),clone:o(function(){for(var A=s.clone.call(this),x=A._state=this._state.slice(0),v=0;v<25;v++)x[v]=x[v].clone();return A},"clone")});r.SHA3=s._createHelper(p),r.HmacSHA3=s._createHmacHelper(p)}(Math),e.SHA3})});var Xme=H((UD,Zme)=>{d();(function(e,t){typeof UD=="object"?Zme.exports=UD=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(UD,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=s.extend({_doReset:o(function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(R,P){for(var F=0;F<16;F++){var W=P+F,se=R[W];R[W]=(se<<8|se>>>24)&16711935|(se<<24|se>>>8)&4278255360}var de=this._hash.words,re=m.words,G=h.words,U=l.words,ne=c.words,J=u.words,j=f.words,O,V,Z,ae,te,le,fe,De,ve,Ue;le=O=de[0],fe=V=de[1],De=Z=de[2],ve=ae=de[3],Ue=te=de[4];for(var ke,F=0;F<80;F+=1)ke=O+R[P+U[F]]|0,F<16?ke+=A(V,Z,ae)+re[0]:F<32?ke+=x(V,Z,ae)+re[1]:F<48?ke+=v(V,Z,ae)+re[2]:F<64?ke+=E(V,Z,ae)+re[3]:ke+=b(V,Z,ae)+re[4],ke=ke|0,ke=_(ke,J[F]),ke=ke+te|0,O=te,te=ae,ae=_(Z,10),Z=V,V=ke,ke=le+R[P+ne[F]]|0,F<16?ke+=b(fe,De,ve)+G[0]:F<32?ke+=E(fe,De,ve)+G[1]:F<48?ke+=v(fe,De,ve)+G[2]:F<64?ke+=x(fe,De,ve)+G[3]:ke+=A(fe,De,ve)+G[4],ke=ke|0,ke=_(ke,j[F]),ke=ke+Ue|0,le=Ue,Ue=ve,ve=_(De,10),De=fe,fe=ke;ke=de[1]+Z+ve|0,de[1]=de[2]+ae+Ue|0,de[2]=de[3]+te+le|0,de[3]=de[4]+O+fe|0,de[4]=de[0]+V+De|0,de[0]=ke},"_doProcessBlock"),_doFinalize:o(function(){var R=this._data,P=R.words,F=this._nDataBytes*8,W=R.sigBytes*8;P[W>>>5]|=128<<24-W%32,P[(W+64>>>9<<4)+14]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,R.sigBytes=(P.length+1)*4,this._process();for(var se=this._hash,de=se.words,re=0;re<5;re++){var G=de[re];de[re]=(G<<8|G>>>24)&16711935|(G<<24|G>>>8)&4278255360}return se},"_doFinalize"),clone:o(function(){var R=s.clone.call(this);return R._hash=this._hash.clone(),R},"clone")});function A(R,P,F){return R^P^F}o(A,"f1");function x(R,P,F){return R&P|~R&F}o(x,"f2");function v(R,P,F){return(R|~P)^F}o(v,"f3");function E(R,P,F){return R&F|P&~F}o(E,"f4");function b(R,P,F){return R^(P|~F)}o(b,"f5");function _(R,P){return R<<P|R>>>32-P}o(_,"rotl"),r.RIPEMD160=s._createHelper(p),r.HmacRIPEMD160=s._createHmacHelper(p)}(Math),e.RIPEMD160})});var WD=H((qD,ehe)=>{d();(function(e,t){typeof qD=="object"?ehe.exports=qD=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(qD,function(e){(function(){var t=e,r=t.lib,n=r.Base,i=t.enc,s=i.Utf8,a=t.algo,l=a.HMAC=n.extend({init:o(function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=s.parse(u));var f=c.blockSize,m=f*4;u.sigBytes>m&&(u=c.finalize(u)),u.clamp();for(var h=this._oKey=u.clone(),p=this._iKey=u.clone(),A=h.words,x=p.words,v=0;v<f;v++)A[v]^=1549556828,x[v]^=909522486;h.sigBytes=p.sigBytes=m,this.reset()},"init"),reset:o(function(){var c=this._hasher;c.reset(),c.update(this._iKey)},"reset"),update:o(function(c){return this._hasher.update(c),this},"update"),finalize:o(function(c){var u=this._hasher,f=u.finalize(c);u.reset();var m=u.finalize(this._oKey.clone().concat(f));return m},"finalize")})})()})});var rhe=H((GD,the)=>{d();(function(e,t,r){typeof GD=="object"?the.exports=GD=t(ki(),ND(),WD()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(GD,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.SHA256,l=s.HMAC,c=s.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:o(function(u){this.cfg=this.cfg.extend(u)},"init"),compute:o(function(u,f){for(var m=this.cfg,h=l.create(m.hasher,u),p=i.create(),A=i.create([1]),x=p.words,v=A.words,E=m.keySize,b=m.iterations;x.length<E;){var _=h.update(f).finalize(A);h.reset();for(var R=_.words,P=R.length,F=_,W=1;W<b;W++){F=h.finalize(F),h.reset();for(var se=F.words,de=0;de<P;de++)R[de]^=se[de]}p.concat(_),v[0]++}return p.sigBytes=E*4,p},"compute")});t.PBKDF2=function(u,f,m){return c.create(m).compute(u,f)}}(),e.PBKDF2})});var v1=H((HD,nhe)=>{d();(function(e,t,r){typeof HD=="object"?nhe.exports=HD=t(ki(),dY(),WD()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(HD,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.MD5,l=s.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:o(function(c){this.cfg=this.cfg.extend(c)},"init"),compute:o(function(c,u){for(var f,m=this.cfg,h=m.hasher.create(),p=i.create(),A=p.words,x=m.keySize,v=m.iterations;A.length<x;){f&&h.update(f),f=h.update(c).finalize(u),h.reset();for(var E=1;E<v;E++)f=h.finalize(f),h.reset();p.concat(f)}return p.sigBytes=x*4,p},"compute")});t.EvpKDF=function(c,u,f){return l.create(f).compute(c,u)}}(),e.EvpKDF})});var il=H((jD,ihe)=>{d();(function(e,t,r){typeof jD=="object"?ihe.exports=jD=t(ki(),v1()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(jD,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=n.BufferedBlockAlgorithm,l=r.enc,c=l.Utf8,u=l.Base64,f=r.algo,m=f.EvpKDF,h=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:o(function(G,U){return this.create(this._ENC_XFORM_MODE,G,U)},"createEncryptor"),createDecryptor:o(function(G,U){return this.create(this._DEC_XFORM_MODE,G,U)},"createDecryptor"),init:o(function(G,U,ne){this.cfg=this.cfg.extend(ne),this._xformMode=G,this._key=U,this.reset()},"init"),reset:o(function(){a.reset.call(this),this._doReset()},"reset"),process:o(function(G){return this._append(G),this._process()},"process"),finalize:o(function(G){G&&this._append(G);var U=this._doFinalize();return U},"finalize"),keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function G(U){return typeof U=="string"?re:W}return o(G,"selectCipherStrategy"),function(U){return{encrypt:o(function(ne,J,j){return G(J).encrypt(U,ne,J,j)},"encrypt"),decrypt:o(function(ne,J,j){return G(J).decrypt(U,ne,J,j)},"decrypt")}}}()}),p=n.StreamCipher=h.extend({_doFinalize:o(function(){var G=this._process(!0);return G},"_doFinalize"),blockSize:1}),A=r.mode={},x=n.BlockCipherMode=i.extend({createEncryptor:o(function(G,U){return this.Encryptor.create(G,U)},"createEncryptor"),createDecryptor:o(function(G,U){return this.Decryptor.create(G,U)},"createDecryptor"),init:o(function(G,U){this._cipher=G,this._iv=U},"init")}),v=A.CBC=function(){var G=x.extend();G.Encryptor=G.extend({processBlock:o(function(ne,J){var j=this._cipher,O=j.blockSize;U.call(this,ne,J,O),j.encryptBlock(ne,J),this._prevBlock=ne.slice(J,J+O)},"processBlock")}),G.Decryptor=G.extend({processBlock:o(function(ne,J){var j=this._cipher,O=j.blockSize,V=ne.slice(J,J+O);j.decryptBlock(ne,J),U.call(this,ne,J,O),this._prevBlock=V},"processBlock")});function U(ne,J,j){var O,V=this._iv;V?(O=V,this._iv=t):O=this._prevBlock;for(var Z=0;Z<j;Z++)ne[J+Z]^=O[Z]}return o(U,"xorBlock"),G}(),E=r.pad={},b=E.Pkcs7={pad:o(function(G,U){for(var ne=U*4,J=ne-G.sigBytes%ne,j=J<<24|J<<16|J<<8|J,O=[],V=0;V<J;V+=4)O.push(j);var Z=s.create(O,J);G.concat(Z)},"pad"),unpad:o(function(G){var U=G.words[G.sigBytes-1>>>2]&255;G.sigBytes-=U},"unpad")},_=n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:v,padding:b}),reset:o(function(){var G;h.reset.call(this);var U=this.cfg,ne=U.iv,J=U.mode;this._xformMode==this._ENC_XFORM_MODE?G=J.createEncryptor:(G=J.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==G?this._mode.init(this,ne&&ne.words):(this._mode=G.call(J,this,ne&&ne.words),this._mode.__creator=G)},"reset"),_doProcessBlock:o(function(G,U){this._mode.processBlock(G,U)},"_doProcessBlock"),_doFinalize:o(function(){var G,U=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(U.pad(this._data,this.blockSize),G=this._process(!0)):(G=this._process(!0),U.unpad(G)),G},"_doFinalize"),blockSize:128/32}),R=n.CipherParams=i.extend({init:o(function(G){this.mixIn(G)},"init"),toString:o(function(G){return(G||this.formatter).stringify(this)},"toString")}),P=r.format={},F=P.OpenSSL={stringify:o(function(G){var U,ne=G.ciphertext,J=G.salt;return J?U=s.create([1398893684,1701076831]).concat(J).concat(ne):U=ne,U.toString(u)},"stringify"),parse:o(function(G){var U,ne=u.parse(G),J=ne.words;return J[0]==1398893684&&J[1]==1701076831&&(U=s.create(J.slice(2,4)),J.splice(0,4),ne.sigBytes-=16),R.create({ciphertext:ne,salt:U})},"parse")},W=n.SerializableCipher=i.extend({cfg:i.extend({format:F}),encrypt:o(function(G,U,ne,J){J=this.cfg.extend(J);var j=G.createEncryptor(ne,J),O=j.finalize(U),V=j.cfg;return R.create({ciphertext:O,key:ne,iv:V.iv,algorithm:G,mode:V.mode,padding:V.padding,blockSize:G.blockSize,formatter:J.format})},"encrypt"),decrypt:o(function(G,U,ne,J){J=this.cfg.extend(J),U=this._parse(U,J.format);var j=G.createDecryptor(ne,J).finalize(U.ciphertext);return j},"decrypt"),_parse:o(function(G,U){return typeof G=="string"?U.parse(G,this):G},"_parse")}),se=r.kdf={},de=se.OpenSSL={execute:o(function(G,U,ne,J,j){if(J||(J=s.random(64/8)),j)var O=m.create({keySize:U+ne,hasher:j}).compute(G,J);else var O=m.create({keySize:U+ne}).compute(G,J);var V=s.create(O.words.slice(U),ne*4);return O.sigBytes=U*4,R.create({key:O,iv:V,salt:J})},"execute")},re=n.PasswordBasedCipher=W.extend({cfg:W.cfg.extend({kdf:de}),encrypt:o(function(G,U,ne,J){J=this.cfg.extend(J);var j=J.kdf.execute(ne,G.keySize,G.ivSize,J.salt,J.hasher);J.iv=j.iv;var O=W.encrypt.call(this,G,U,j.key,J);return O.mixIn(j),O},"encrypt"),decrypt:o(function(G,U,ne,J){J=this.cfg.extend(J),U=this._parse(U,J.format);var j=J.kdf.execute(ne,G.keySize,G.ivSize,U.salt,J.hasher);J.iv=j.iv;var O=W.decrypt.call(this,G,U,j.key,J);return O},"decrypt")})}()})});var she=H((VD,ohe)=>{d();(function(e,t,r){typeof VD=="object"?ohe.exports=VD=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(VD,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize;r.call(this,n,i,a,s),this._prevBlock=n.slice(i,i+a)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=n.slice(i,i+a);r.call(this,n,i,a,s),this._prevBlock=l},"processBlock")});function r(n,i,s,a){var l,c=this._iv;c?(l=c.slice(0),this._iv=void 0):l=this._prevBlock,a.encryptBlock(l,0);for(var u=0;u<s;u++)n[i+u]^=l[u]}return o(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var lhe=H(($D,ahe)=>{d();(function(e,t,r){typeof $D=="object"?ahe.exports=$D=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})($D,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0);var u=c.slice(0);s.encryptBlock(u,0),c[a-1]=c[a-1]+1|0;for(var f=0;f<a;f++)n[i+f]^=u[f]},"processBlock")});return t.Decryptor=r,t}(),e.mode.CTR})});var uhe=H((zD,che)=>{d();(function(e,t,r){typeof zD=="object"?che.exports=zD=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(zD,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(s){if((s>>24&255)===255){var a=s>>16&255,l=s>>8&255,c=s&255;a===255?(a=0,l===255?(l=0,c===255?c=0:++c):++l):++a,s=0,s+=a<<16,s+=l<<8,s+=c}else s+=1<<24;return s}o(r,"incWord");function n(s){return(s[0]=r(s[0]))===0&&(s[1]=r(s[1])),s}o(n,"incCounter");var i=t.Encryptor=t.extend({processBlock:o(function(s,a){var l=this._cipher,c=l.blockSize,u=this._iv,f=this._counter;u&&(f=this._counter=u.slice(0),this._iv=void 0),n(f);var m=f.slice(0);l.encryptBlock(m,0);for(var h=0;h<c;h++)s[a+h]^=m[h]},"processBlock")});return t.Decryptor=i,t}(),e.mode.CTRGladman})});var dhe=H((YD,fhe)=>{d();(function(e,t,r){typeof YD=="object"?fhe.exports=YD=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(YD,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._keystream;l&&(c=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(c,0);for(var u=0;u<a;u++)n[i+u]^=c[u]},"processBlock")});return t.Decryptor=r,t}(),e.mode.OFB})});var hhe=H((KD,mhe)=>{d();(function(e,t,r){typeof KD=="object"?mhe.exports=KD=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(KD,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:o(function(r,n){this._cipher.encryptBlock(r,n)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(r,n){this._cipher.decryptBlock(r,n)},"processBlock")}),t}(),e.mode.ECB})});var ghe=H((JD,phe)=>{d();(function(e,t,r){typeof JD=="object"?phe.exports=JD=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(JD,function(e){return e.pad.AnsiX923={pad:o(function(t,r){var n=t.sigBytes,i=r*4,s=i-n%i,a=n+s-1;t.clamp(),t.words[a>>>2]|=s<<24-a%4*8,t.sigBytes+=s},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Ansix923})});var yhe=H((ZD,Ahe)=>{d();(function(e,t,r){typeof ZD=="object"?Ahe.exports=ZD=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(ZD,function(e){return e.pad.Iso10126={pad:o(function(t,r){var n=r*4,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Iso10126})});var xhe=H((XD,Che)=>{d();(function(e,t,r){typeof XD=="object"?Che.exports=XD=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(XD,function(e){return e.pad.Iso97971={pad:o(function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},"pad"),unpad:o(function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--},"unpad")},e.pad.Iso97971})});var bhe=H((eP,vhe)=>{d();(function(e,t,r){typeof eP=="object"?vhe.exports=eP=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(eP,function(e){return e.pad.ZeroPadding={pad:o(function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},"pad"),unpad:o(function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}},"unpad")},e.pad.ZeroPadding})});var Ihe=H((tP,Ehe)=>{d();(function(e,t,r){typeof tP=="object"?Ehe.exports=tP=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(tP,function(e){return e.pad.NoPadding={pad:o(function(){},"pad"),unpad:o(function(){},"unpad")},e.pad.NoPadding})});var whe=H((rP,The)=>{d();(function(e,t,r){typeof rP=="object"?The.exports=rP=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(rP,function(e){return function(t){var r=e,n=r.lib,i=n.CipherParams,s=r.enc,a=s.Hex,l=r.format,c=l.Hex={stringify:o(function(u){return u.ciphertext.toString(a)},"stringify"),parse:o(function(u){var f=a.parse(u);return i.create({ciphertext:f})},"parse")}}(),e.format.Hex})});var She=H((nP,_he)=>{d();(function(e,t,r){typeof nP=="object"?_he.exports=nP=t(ki(),by(),Ey(),v1(),il()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(nP,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo,s=[],a=[],l=[],c=[],u=[],f=[],m=[],h=[],p=[],A=[];(function(){for(var E=[],b=0;b<256;b++)b<128?E[b]=b<<1:E[b]=b<<1^283;for(var _=0,R=0,b=0;b<256;b++){var P=R^R<<1^R<<2^R<<3^R<<4;P=P>>>8^P&255^99,s[_]=P,a[P]=_;var F=E[_],W=E[F],se=E[W],de=E[P]*257^P*16843008;l[_]=de<<24|de>>>8,c[_]=de<<16|de>>>16,u[_]=de<<8|de>>>24,f[_]=de;var de=se*16843009^W*65537^F*257^_*16843008;m[P]=de<<24|de>>>8,h[P]=de<<16|de>>>16,p[P]=de<<8|de>>>24,A[P]=de,_?(_=F^E[E[E[se^F]]],R^=E[E[R]]):_=R=1}})();var x=[0,1,2,4,8,16,32,64,128,27,54],v=i.AES=n.extend({_doReset:o(function(){var E;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var b=this._keyPriorReset=this._key,_=b.words,R=b.sigBytes/4,P=this._nRounds=R+6,F=(P+1)*4,W=this._keySchedule=[],se=0;se<F;se++)se<R?W[se]=_[se]:(E=W[se-1],se%R?R>6&&se%R==4&&(E=s[E>>>24]<<24|s[E>>>16&255]<<16|s[E>>>8&255]<<8|s[E&255]):(E=E<<8|E>>>24,E=s[E>>>24]<<24|s[E>>>16&255]<<16|s[E>>>8&255]<<8|s[E&255],E^=x[se/R|0]<<24),W[se]=W[se-R]^E);for(var de=this._invKeySchedule=[],re=0;re<F;re++){var se=F-re;if(re%4)var E=W[se];else var E=W[se-4];re<4||se<=4?de[re]=E:de[re]=m[s[E>>>24]]^h[s[E>>>16&255]]^p[s[E>>>8&255]]^A[s[E&255]]}}},"_doReset"),encryptBlock:o(function(E,b){this._doCryptBlock(E,b,this._keySchedule,l,c,u,f,s)},"encryptBlock"),decryptBlock:o(function(E,b){var _=E[b+1];E[b+1]=E[b+3],E[b+3]=_,this._doCryptBlock(E,b,this._invKeySchedule,m,h,p,A,a);var _=E[b+1];E[b+1]=E[b+3],E[b+3]=_},"decryptBlock"),_doCryptBlock:o(function(E,b,_,R,P,F,W,se){for(var de=this._nRounds,re=E[b]^_[0],G=E[b+1]^_[1],U=E[b+2]^_[2],ne=E[b+3]^_[3],J=4,j=1;j<de;j++){var O=R[re>>>24]^P[G>>>16&255]^F[U>>>8&255]^W[ne&255]^_[J++],V=R[G>>>24]^P[U>>>16&255]^F[ne>>>8&255]^W[re&255]^_[J++],Z=R[U>>>24]^P[ne>>>16&255]^F[re>>>8&255]^W[G&255]^_[J++],ae=R[ne>>>24]^P[re>>>16&255]^F[G>>>8&255]^W[U&255]^_[J++];re=O,G=V,U=Z,ne=ae}var O=(se[re>>>24]<<24|se[G>>>16&255]<<16|se[U>>>8&255]<<8|se[ne&255])^_[J++],V=(se[G>>>24]<<24|se[U>>>16&255]<<16|se[ne>>>8&255]<<8|se[re&255])^_[J++],Z=(se[U>>>24]<<24|se[ne>>>16&255]<<16|se[re>>>8&255]<<8|se[G&255])^_[J++],ae=(se[ne>>>24]<<24|se[re>>>16&255]<<16|se[G>>>8&255]<<8|se[U&255])^_[J++];E[b]=O,E[b+1]=V,E[b+2]=Z,E[b+3]=ae},"_doCryptBlock"),keySize:256/32});t.AES=n._createHelper(v)}(),e.AES})});var Rhe=H((iP,khe)=>{d();(function(e,t,r){typeof iP=="object"?khe.exports=iP=t(ki(),by(),Ey(),v1(),il()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(iP,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,s=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=s.DES=i.extend({_doReset:o(function(){for(var x=this._key,v=x.words,E=[],b=0;b<56;b++){var _=a[b]-1;E[b]=v[_>>>5]>>>31-_%32&1}for(var R=this._subKeys=[],P=0;P<16;P++){for(var F=R[P]=[],W=c[P],b=0;b<24;b++)F[b/6|0]|=E[(l[b]-1+W)%28]<<31-b%6,F[4+(b/6|0)]|=E[28+(l[b+24]-1+W)%28]<<31-b%6;F[0]=F[0]<<1|F[0]>>>31;for(var b=1;b<7;b++)F[b]=F[b]>>>(b-1)*4+3;F[7]=F[7]<<5|F[7]>>>27}for(var se=this._invSubKeys=[],b=0;b<16;b++)se[b]=R[15-b]},"_doReset"),encryptBlock:o(function(x,v){this._doCryptBlock(x,v,this._subKeys)},"encryptBlock"),decryptBlock:o(function(x,v){this._doCryptBlock(x,v,this._invSubKeys)},"decryptBlock"),_doCryptBlock:o(function(x,v,E){this._lBlock=x[v],this._rBlock=x[v+1],h.call(this,4,252645135),h.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),h.call(this,1,1431655765);for(var b=0;b<16;b++){for(var _=E[b],R=this._lBlock,P=this._rBlock,F=0,W=0;W<8;W++)F|=u[W][((P^_[W])&f[W])>>>0];this._lBlock=P,this._rBlock=R^F}var se=this._lBlock;this._lBlock=this._rBlock,this._rBlock=se,h.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),x[v]=this._lBlock,x[v+1]=this._rBlock},"_doCryptBlock"),keySize:64/32,ivSize:64/32,blockSize:64/32});function h(x,v){var E=(this._lBlock>>>x^this._rBlock)&v;this._rBlock^=E,this._lBlock^=E<<x}o(h,"exchangeLR");function p(x,v){var E=(this._rBlock>>>x^this._lBlock)&v;this._lBlock^=E,this._rBlock^=E<<x}o(p,"exchangeRL"),t.DES=i._createHelper(m);var A=s.TripleDES=i.extend({_doReset:o(function(){var x=this._key,v=x.words;if(v.length!==2&&v.length!==4&&v.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var E=v.slice(0,2),b=v.length<4?v.slice(0,2):v.slice(2,4),_=v.length<6?v.slice(0,2):v.slice(4,6);this._des1=m.createEncryptor(n.create(E)),this._des2=m.createEncryptor(n.create(b)),this._des3=m.createEncryptor(n.create(_))},"_doReset"),encryptBlock:o(function(x,v){this._des1.encryptBlock(x,v),this._des2.decryptBlock(x,v),this._des3.encryptBlock(x,v)},"encryptBlock"),decryptBlock:o(function(x,v){this._des3.decryptBlock(x,v),this._des2.encryptBlock(x,v),this._des1.decryptBlock(x,v)},"decryptBlock"),keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=i._createHelper(A)}(),e.TripleDES})});var Dhe=H((oP,Bhe)=>{d();(function(e,t,r){typeof oP=="object"?Bhe.exports=oP=t(ki(),by(),Ey(),v1(),il()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(oP,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=i.RC4=n.extend({_doReset:o(function(){for(var c=this._key,u=c.words,f=c.sigBytes,m=this._S=[],h=0;h<256;h++)m[h]=h;for(var h=0,p=0;h<256;h++){var A=h%f,x=u[A>>>2]>>>24-A%4*8&255;p=(p+m[h]+x)%256;var v=m[h];m[h]=m[p],m[p]=v}this._i=this._j=0},"_doReset"),_doProcessBlock:o(function(c,u){c[u]^=a.call(this)},"_doProcessBlock"),keySize:256/32,ivSize:0});function a(){for(var c=this._S,u=this._i,f=this._j,m=0,h=0;h<4;h++){u=(u+1)%256,f=(f+c[u])%256;var p=c[u];c[u]=c[f],c[f]=p,m|=c[(c[u]+c[f])%256]<<24-h*8}return this._i=u,this._j=f,m}o(a,"generateKeystreamWord"),t.RC4=n._createHelper(s);var l=i.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:o(function(){s._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)a.call(this)},"_doReset")});t.RC4Drop=n._createHelper(l)}(),e.RC4})});var Fhe=H((sP,Phe)=>{d();(function(e,t,r){typeof sP=="object"?Phe.exports=sP=t(ki(),by(),Ey(),v1(),il()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(sP,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.Rabbit=n.extend({_doReset:o(function(){for(var f=this._key.words,m=this.cfg.iv,h=0;h<4;h++)f[h]=(f[h]<<8|f[h]>>>24)&16711935|(f[h]<<24|f[h]>>>8)&4278255360;var p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],A=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var h=0;h<4;h++)u.call(this);for(var h=0;h<8;h++)A[h]^=p[h+4&7];if(m){var x=m.words,v=x[0],E=x[1],b=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,_=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,R=b>>>16|_&4294901760,P=_<<16|b&65535;A[0]^=b,A[1]^=R,A[2]^=_,A[3]^=P,A[4]^=b,A[5]^=R,A[6]^=_,A[7]^=P;for(var h=0;h<4;h++)u.call(this)}},"_doReset"),_doProcessBlock:o(function(f,m){var h=this._X;u.call(this),s[0]=h[0]^h[5]>>>16^h[3]<<16,s[1]=h[2]^h[7]>>>16^h[5]<<16,s[2]=h[4]^h[1]>>>16^h[7]<<16,s[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,f[m+p]^=s[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,h=0;h<8;h++)a[h]=m[h];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<a[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<a[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<a[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<a[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<a[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<a[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<a[6]>>>0?1:0)|0,this._b=m[7]>>>0<a[7]>>>0?1:0;for(var h=0;h<8;h++){var p=f[h]+m[h],A=p&65535,x=p>>>16,v=((A*A>>>17)+A*x>>>15)+x*x,E=((p&4294901760)*p|0)+((p&65535)*p|0);l[h]=v^E}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(u,"nextState"),t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var Lhe=H((aP,Nhe)=>{d();(function(e,t,r){typeof aP=="object"?Nhe.exports=aP=t(ki(),by(),Ey(),v1(),il()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(aP,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.RabbitLegacy=n.extend({_doReset:o(function(){var f=this._key.words,m=this.cfg.iv,h=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],p=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var A=0;A<4;A++)u.call(this);for(var A=0;A<8;A++)p[A]^=h[A+4&7];if(m){var x=m.words,v=x[0],E=x[1],b=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,_=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,R=b>>>16|_&4294901760,P=_<<16|b&65535;p[0]^=b,p[1]^=R,p[2]^=_,p[3]^=P,p[4]^=b,p[5]^=R,p[6]^=_,p[7]^=P;for(var A=0;A<4;A++)u.call(this)}},"_doReset"),_doProcessBlock:o(function(f,m){var h=this._X;u.call(this),s[0]=h[0]^h[5]>>>16^h[3]<<16,s[1]=h[2]^h[7]>>>16^h[5]<<16,s[2]=h[4]^h[1]>>>16^h[7]<<16,s[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,f[m+p]^=s[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,h=0;h<8;h++)a[h]=m[h];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<a[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<a[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<a[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<a[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<a[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<a[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<a[6]>>>0?1:0)|0,this._b=m[7]>>>0<a[7]>>>0?1:0;for(var h=0;h<8;h++){var p=f[h]+m[h],A=p&65535,x=p>>>16,v=((A*A>>>17)+A*x>>>15)+x*x,E=((p&4294901760)*p|0)+((p&65535)*p|0);l[h]=v^E}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(u,"nextState"),t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var Mhe=H((lP,Qhe)=>{d();(function(e,t,r){typeof lP=="object"?Qhe.exports=lP=t(ki(),by(),Ey(),v1(),il()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(lP,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo;let s=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function u(A,x){let v=x>>24&255,E=x>>16&255,b=x>>8&255,_=x&255,R=A.sbox[0][v]+A.sbox[1][E];return R=R^A.sbox[2][b],R=R+A.sbox[3][_],R}o(u,"F");function f(A,x,v){let E=x,b=v,_;for(let R=0;R<s;++R)E=E^A.pbox[R],b=u(A,E)^b,_=E,E=b,b=_;return _=E,E=b,b=_,b=b^A.pbox[s],E=E^A.pbox[s+1],{left:E,right:b}}o(f,"BlowFish_Encrypt");function m(A,x,v){let E=x,b=v,_;for(let R=s+1;R>1;--R)E=E^A.pbox[R],b=u(A,E)^b,_=E,E=b,b=_;return _=E,E=b,b=_,b=b^A.pbox[1],E=E^A.pbox[0],{left:E,right:b}}o(m,"BlowFish_Decrypt");function h(A,x,v){for(let P=0;P<4;P++){A.sbox[P]=[];for(let F=0;F<256;F++)A.sbox[P][F]=l[P][F]}let E=0;for(let P=0;P<s+2;P++)A.pbox[P]=a[P]^x[E],E++,E>=v&&(E=0);let b=0,_=0,R=0;for(let P=0;P<s+2;P+=2)R=f(A,b,_),b=R.left,_=R.right,A.pbox[P]=b,A.pbox[P+1]=_;for(let P=0;P<4;P++)for(let F=0;F<256;F+=2)R=f(A,b,_),b=R.left,_=R.right,A.sbox[P][F]=b,A.sbox[P][F+1]=_;return!0}o(h,"BlowFishInit");var p=i.Blowfish=n.extend({_doReset:o(function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key,x=A.words,v=A.sigBytes/4;h(c,x,v)}},"_doReset"),encryptBlock:o(function(A,x){var v=f(c,A[x],A[x+1]);A[x]=v.left,A[x+1]=v.right},"encryptBlock"),decryptBlock:o(function(A,x){var v=m(c,A[x],A[x+1]);A[x]=v.left,A[x+1]=v.right},"decryptBlock"),blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(p)}(),e.Blowfish})});var Iy=H((cP,Ohe)=>{d();(function(e,t,r){typeof cP=="object"?Ohe.exports=cP=t(ki(),DT(),Lme(),Mme(),by(),qme(),Ey(),dY(),ND(),Vme(),mY(),Yme(),Jme(),Xme(),WD(),rhe(),v1(),il(),she(),lhe(),uhe(),dhe(),hhe(),ghe(),yhe(),xhe(),bhe(),Ihe(),whe(),She(),Rhe(),Dhe(),Fhe(),Lhe(),Mhe()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(cP,function(e){return e})});var NE=H(Sc=>{"use strict";d();Object.defineProperty(Sc,"__esModule",{value:!0});Sc.stringArray=Sc.array=Sc.func=Sc.error=Sc.number=Sc.string=Sc.boolean=void 0;function vZe(e){return e===!0||e===!1}o(vZe,"boolean");Sc.boolean=vZe;function Xge(e){return typeof e=="string"||e instanceof String}o(Xge,"string");Sc.string=Xge;function bZe(e){return typeof e=="number"||e instanceof Number}o(bZe,"number");Sc.number=bZe;function EZe(e){return e instanceof Error}o(EZe,"error");Sc.error=EZe;function IZe(e){return typeof e=="function"}o(IZe,"func");Sc.func=IZe;function e1e(e){return Array.isArray(e)}o(e1e,"array");Sc.array=e1e;function TZe(e){return e1e(e)&&e.every(t=>Xge(t))}o(TZe,"stringArray");Sc.stringArray=TZe});var bK=H(Xr=>{"use strict";d();Object.defineProperty(Xr,"__esModule",{value:!0});Xr.Message=Xr.NotificationType9=Xr.NotificationType8=Xr.NotificationType7=Xr.NotificationType6=Xr.NotificationType5=Xr.NotificationType4=Xr.NotificationType3=Xr.NotificationType2=Xr.NotificationType1=Xr.NotificationType0=Xr.NotificationType=Xr.RequestType9=Xr.RequestType8=Xr.RequestType7=Xr.RequestType6=Xr.RequestType5=Xr.RequestType4=Xr.RequestType3=Xr.RequestType2=Xr.RequestType1=Xr.RequestType=Xr.RequestType0=Xr.AbstractMessageSignature=Xr.ParameterStructures=Xr.ResponseError=Xr.ErrorCodes=void 0;var i4=NE(),ZY;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(ZY||(Xr.ErrorCodes=ZY={}));var XY=class e extends Error{static{o(this,"ResponseError")}constructor(t,r,n){super(r),this.code=i4.number(t)?t:ZY.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};Xr.ResponseError=XY;var W0=class e{static{o(this,"ParameterStructures")}constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};Xr.ParameterStructures=W0;W0.auto=new W0("auto");W0.byPosition=new W0("byPosition");W0.byName=new W0("byName");var us=class{static{o(this,"AbstractMessageSignature")}constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return W0.auto}};Xr.AbstractMessageSignature=us;var eK=class extends us{static{o(this,"RequestType0")}constructor(t){super(t,0)}};Xr.RequestType0=eK;var tK=class extends us{static{o(this,"RequestType")}constructor(t,r=W0.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Xr.RequestType=tK;var rK=class extends us{static{o(this,"RequestType1")}constructor(t,r=W0.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Xr.RequestType1=rK;var nK=class extends us{static{o(this,"RequestType2")}constructor(t){super(t,2)}};Xr.RequestType2=nK;var iK=class extends us{static{o(this,"RequestType3")}constructor(t){super(t,3)}};Xr.RequestType3=iK;var oK=class extends us{static{o(this,"RequestType4")}constructor(t){super(t,4)}};Xr.RequestType4=oK;var sK=class extends us{static{o(this,"RequestType5")}constructor(t){super(t,5)}};Xr.RequestType5=sK;var aK=class extends us{static{o(this,"RequestType6")}constructor(t){super(t,6)}};Xr.RequestType6=aK;var lK=class extends us{static{o(this,"RequestType7")}constructor(t){super(t,7)}};Xr.RequestType7=lK;var cK=class extends us{static{o(this,"RequestType8")}constructor(t){super(t,8)}};Xr.RequestType8=cK;var uK=class extends us{static{o(this,"RequestType9")}constructor(t){super(t,9)}};Xr.RequestType9=uK;var fK=class extends us{static{o(this,"NotificationType")}constructor(t,r=W0.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Xr.NotificationType=fK;var dK=class extends us{static{o(this,"NotificationType0")}constructor(t){super(t,0)}};Xr.NotificationType0=dK;var mK=class extends us{static{o(this,"NotificationType1")}constructor(t,r=W0.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Xr.NotificationType1=mK;var hK=class extends us{static{o(this,"NotificationType2")}constructor(t){super(t,2)}};Xr.NotificationType2=hK;var pK=class extends us{static{o(this,"NotificationType3")}constructor(t){super(t,3)}};Xr.NotificationType3=pK;var gK=class extends us{static{o(this,"NotificationType4")}constructor(t){super(t,4)}};Xr.NotificationType4=gK;var AK=class extends us{static{o(this,"NotificationType5")}constructor(t){super(t,5)}};Xr.NotificationType5=AK;var yK=class extends us{static{o(this,"NotificationType6")}constructor(t){super(t,6)}};Xr.NotificationType6=yK;var CK=class extends us{static{o(this,"NotificationType7")}constructor(t){super(t,7)}};Xr.NotificationType7=CK;var xK=class extends us{static{o(this,"NotificationType8")}constructor(t){super(t,8)}};Xr.NotificationType8=xK;var vK=class extends us{static{o(this,"NotificationType9")}constructor(t){super(t,9)}};Xr.NotificationType9=vK;var t1e;(function(e){function t(i){let s=i;return s&&i4.string(s.method)&&(i4.string(s.id)||i4.number(s.id))}o(t,"isRequest"),e.isRequest=t;function r(i){let s=i;return s&&i4.string(s.method)&&i.id===void 0}o(r,"isNotification"),e.isNotification=r;function n(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(i4.string(s.id)||i4.number(s.id)||s.id===null)}o(n,"isResponse"),e.isResponse=n})(t1e||(Xr.Message=t1e={}))});var IK=H(Fy=>{"use strict";d();var r1e;Object.defineProperty(Fy,"__esModule",{value:!0});Fy.LRUCache=Fy.LinkedMap=Fy.Touch=void 0;var kc;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(kc||(Fy.Touch=kc={}));var MP=class{static{o(this,"LinkedMap")}constructor(){this[r1e]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=kc.None){let n=this._map.get(t);if(n)return r!==kc.None&&this.touch(n,r),n.value}set(t,r,n=kc.None){let i=this._map.get(t);if(i)i.value=r,n!==kc.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case kc.None:this.addItemLast(i);break;case kc.First:this.addItemFirst(i);break;case kc.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}[(r1e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==kc.First&&r!==kc.Last)){if(r===kc.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===kc.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};Fy.LinkedMap=MP;var EK=class extends MP{static{o(this,"LRUCache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=kc.AsNew){return super.get(t,r)}peek(t){return super.get(t,kc.None)}set(t,r){return super.set(t,r,kc.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Fy.LRUCache=EK});var i1e=H(OP=>{"use strict";d();Object.defineProperty(OP,"__esModule",{value:!0});OP.Disposable=void 0;var n1e;(function(e){function t(r){return{dispose:r}}o(t,"create"),e.create=t})(n1e||(OP.Disposable=n1e={}))});var Ny=H(_K=>{"use strict";d();Object.defineProperty(_K,"__esModule",{value:!0});var TK;function wK(){if(TK===void 0)throw new Error("No runtime abstraction layer installed");return TK}o(wK,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");TK=r}o(t,"install"),e.install=t})(wK||(wK={}));_K.default=wK});var QE=H(LE=>{"use strict";d();Object.defineProperty(LE,"__esModule",{value:!0});LE.Emitter=LE.Event=void 0;var wZe=Ny(),o1e;(function(e){let t={dispose(){}};e.None=function(){return t}})(o1e||(LE.Event=o1e={}));var SK=class{static{o(this,"CallbackList")}add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:o(()=>this.remove(t,r),"dispose")})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=n.length;s<a;s++)try{r.push(n[s].apply(i[s],t))}catch(l){(0,wZe.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},UP=class e{static{o(this,"Emitter")}constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new SK),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:o(()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};LE.Emitter=UP;UP._noop=function(){}});var GP=H(ME=>{"use strict";d();Object.defineProperty(ME,"__esModule",{value:!0});ME.CancellationTokenSource=ME.CancellationToken=void 0;var _Ze=Ny(),SZe=NE(),kK=QE(),qP;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:kK.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:kK.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||SZe.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}o(t,"is"),e.is=t})(qP||(ME.CancellationToken=qP={}));var kZe=Object.freeze(function(e,t){let r=(0,_Ze.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),WP=class{static{o(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?kZe:(this._emitter||(this._emitter=new kK.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},RK=class{static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new WP),this._token}cancel(){this._token?this._token.cancel():this._token=qP.Cancelled}dispose(){this._token?this._token instanceof WP&&this._token.dispose():this._token=qP.None}};ME.CancellationTokenSource=RK});var s1e=H(OE=>{"use strict";d();Object.defineProperty(OE,"__esModule",{value:!0});OE.SharedArrayReceiverStrategy=OE.SharedArraySenderStrategy=void 0;var RZe=GP(),ZT;(function(e){e.Continue=0,e.Cancelled=1})(ZT||(ZT={}));var BK=class{static{o(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=ZT.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,ZT.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};OE.SharedArraySenderStrategy=BK;var DK=class{static{o(this,"SharedArrayBufferCancellationToken")}constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===ZT.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},PK=class{static{o(this,"SharedArrayBufferCancellationTokenSource")}constructor(t){this.token=new DK(t)}cancel(){}dispose(){}},FK=class{static{o(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new RZe.CancellationTokenSource:new PK(r)}};OE.SharedArrayReceiverStrategy=FK});var LK=H(HP=>{"use strict";d();Object.defineProperty(HP,"__esModule",{value:!0});HP.Semaphore=void 0;var BZe=Ny(),NK=class{static{o(this,"Semaphore")}constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,BZe.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};HP.Semaphore=NK});var l1e=H(Ly=>{"use strict";d();Object.defineProperty(Ly,"__esModule",{value:!0});Ly.ReadableStreamMessageReader=Ly.AbstractMessageReader=Ly.MessageReader=void 0;var MK=Ny(),UE=NE(),QK=QE(),DZe=LK(),a1e;(function(e){function t(r){let n=r;return n&&UE.func(n.listen)&&UE.func(n.dispose)&&UE.func(n.onError)&&UE.func(n.onClose)&&UE.func(n.onPartialMessage)}o(t,"is"),e.is=t})(a1e||(Ly.MessageReader=a1e={}));var jP=class{static{o(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new QK.Emitter,this.closeEmitter=new QK.Emitter,this.partialMessageEmitter=new QK.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${UE.string(t.message)?t.message:"unknown"}`)}};Ly.AbstractMessageReader=jP;var OK;(function(e){function t(r){let n,i,s,a=new Map,l,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(s=r.contentDecoder,a.set(s.name,s)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)a.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,c.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)c.set(u.name,u)}return l===void 0&&(l=(0,MK.default)().applicationJson.decoder,c.set(l.name,l)),{charset:n,contentDecoder:s,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:c}}o(t,"fromOptions"),e.fromOptions=t})(OK||(OK={}));var UK=class extends jP{static{o(this,"ReadableStreamMessageReader")}constructor(t,r){super(),this.readable=t,this.options=OK.fromOptions(r),this.buffer=(0,MK.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new DZe.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,MK.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Ly.ReadableStreamMessageReader=UK});var m1e=H(Qy=>{"use strict";d();Object.defineProperty(Qy,"__esModule",{value:!0});Qy.WriteableStreamMessageWriter=Qy.AbstractMessageWriter=Qy.MessageWriter=void 0;var c1e=Ny(),XT=NE(),PZe=LK(),u1e=QE(),FZe="Content-Length: ",f1e=`\r
`,d1e;(function(e){function t(r){let n=r;return n&&XT.func(n.dispose)&&XT.func(n.onClose)&&XT.func(n.onError)&&XT.func(n.write)}o(t,"is"),e.is=t})(d1e||(Qy.MessageWriter=d1e={}));var VP=class{static{o(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new u1e.Emitter,this.closeEmitter=new u1e.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${XT.string(t.message)?t.message:"unknown"}`)}};Qy.AbstractMessageWriter=VP;var qK;(function(e){function t(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,c1e.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,c1e.default)().applicationJson.encoder}}o(t,"fromOptions"),e.fromOptions=t})(qK||(qK={}));var WK=class extends VP{static{o(this,"WriteableStreamMessageWriter")}constructor(t,r){super(),this.writable=t,this.options=qK.fromOptions(r),this.errorCount=0,this.writeSemaphore=new PZe.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(FZe,n.byteLength.toString(),f1e),i.push(f1e),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};Qy.WriteableStreamMessageWriter=WK});var h1e=H($P=>{"use strict";d();Object.defineProperty($P,"__esModule",{value:!0});$P.AbstractMessageBuffer=void 0;var NZe=13,LZe=10,QZe=`\r
`,GK=class{static{o(this,"AbstractMessageBuffer")}constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,s=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case NZe:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case LZe:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}s+=u.byteLength,n++}if(r!==4)return;let a=this._read(s+i),l=new Map,c=this.toString(a,"ascii").split(QZe);if(c.length<2)return l;for(let u=0;u<c.length-2;u++){let f=c[u],m=f.indexOf(":");if(m===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let h=f.substr(0,m),p=f.substr(m+1).trim();l.set(t?h.toLowerCase():h,p)}return l}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(s)}if(this._chunks[0].byteLength>t){let s=this._chunks[0],a=this.asNative(s,t);return this._chunks[0]=s.slice(t),this._totalLength-=t,a}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let s=this._chunks[i];if(s.byteLength>t){let a=s.slice(0,t);r.set(a,n),n+=t,this._chunks[i]=s.slice(t),this._totalLength-=t,t-=t}else r.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,t-=s.byteLength}return r}};$P.AbstractMessageBuffer=GK});var C1e=H(zn=>{"use strict";d();Object.defineProperty(zn,"__esModule",{value:!0});zn.createMessageConnection=zn.ConnectionOptions=zn.MessageStrategy=zn.CancellationStrategy=zn.CancellationSenderStrategy=zn.CancellationReceiverStrategy=zn.RequestCancellationReceiverStrategy=zn.IdCancellationReceiverStrategy=zn.ConnectionStrategy=zn.ConnectionError=zn.ConnectionErrors=zn.LogTraceNotification=zn.SetTraceNotification=zn.TraceFormat=zn.TraceValues=zn.Trace=zn.NullLogger=zn.ProgressType=zn.ProgressToken=void 0;var p1e=Ny(),Gs=NE(),Tn=bK(),g1e=IK(),ew=QE(),HK=GP(),nw;(function(e){e.type=new Tn.NotificationType("$/cancelRequest")})(nw||(nw={}));var jK;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}o(t,"is"),e.is=t})(jK||(zn.ProgressToken=jK={}));var tw;(function(e){e.type=new Tn.NotificationType("$/progress")})(tw||(tw={}));var VK=class{static{o(this,"ProgressType")}constructor(){}};zn.ProgressType=VK;var $K;(function(e){function t(r){return Gs.func(r)}o(t,"is"),e.is=t})($K||($K={}));zn.NullLogger=Object.freeze({error:o(()=>{},"error"),warn:o(()=>{},"warn"),info:o(()=>{},"info"),log:o(()=>{},"log")});var po;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(po||(zn.Trace=po={}));var A1e;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(A1e||(zn.TraceValues=A1e={}));(function(e){function t(n){if(!Gs.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}o(t,"fromString"),e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}o(r,"toString"),e.toString=r})(po||(zn.Trace=po={}));var qu;(function(e){e.Text="text",e.JSON="json"})(qu||(zn.TraceFormat=qu={}));(function(e){function t(r){return Gs.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}o(t,"fromString"),e.fromString=t})(qu||(zn.TraceFormat=qu={}));var zK;(function(e){e.type=new Tn.NotificationType("$/setTrace")})(zK||(zn.SetTraceNotification=zK={}));var zP;(function(e){e.type=new Tn.NotificationType("$/logTrace")})(zP||(zn.LogTraceNotification=zP={}));var rw;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(rw||(zn.ConnectionErrors=rw={}));var qE=class e extends Error{static{o(this,"ConnectionError")}constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};zn.ConnectionError=qE;var YK;(function(e){function t(r){let n=r;return n&&Gs.func(n.cancelUndispatched)}o(t,"is"),e.is=t})(YK||(zn.ConnectionStrategy=YK={}));var YP;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&Gs.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Gs.func(n.dispose))}o(t,"is"),e.is=t})(YP||(zn.IdCancellationReceiverStrategy=YP={}));var KK;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&Gs.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Gs.func(n.dispose))}o(t,"is"),e.is=t})(KK||(zn.RequestCancellationReceiverStrategy=KK={}));var KP;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new HK.CancellationTokenSource}});function t(r){return YP.is(r)||KK.is(r)}o(t,"is"),e.is=t})(KP||(zn.CancellationReceiverStrategy=KP={}));var JP;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(nw.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&Gs.func(n.sendCancellation)&&Gs.func(n.cleanup)}o(t,"is"),e.is=t})(JP||(zn.CancellationSenderStrategy=JP={}));var ZP;(function(e){e.Message=Object.freeze({receiver:KP.Message,sender:JP.Message});function t(r){let n=r;return n&&KP.is(n.receiver)&&JP.is(n.sender)}o(t,"is"),e.is=t})(ZP||(zn.CancellationStrategy=ZP={}));var XP;(function(e){function t(r){let n=r;return n&&Gs.func(n.handleMessage)}o(t,"is"),e.is=t})(XP||(zn.MessageStrategy=XP={}));var y1e;(function(e){function t(r){let n=r;return n&&(ZP.is(n.cancellationStrategy)||YK.is(n.connectionStrategy)||XP.is(n.messageStrategy))}o(t,"is"),e.is=t})(y1e||(zn.ConnectionOptions=y1e={}));var Om;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Om||(Om={}));function MZe(e,t,r,n){let i=r!==void 0?r:zn.NullLogger,s=0,a=0,l=0,c="2.0",u,f=new Map,m,h=new Map,p=new Map,A,x=new g1e.LinkedMap,v=new Map,E=new Set,b=new Map,_=po.Off,R=qu.Text,P,F=Om.New,W=new ew.Emitter,se=new ew.Emitter,de=new ew.Emitter,re=new ew.Emitter,G=new ew.Emitter,U=n&&n.cancellationStrategy?n.cancellationStrategy:ZP.Message;function ne(ge){if(ge===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+ge.toString()}o(ne,"createRequestQueueKey");function J(ge){return ge===null?"res-unknown-"+(++l).toString():"res-"+ge.toString()}o(J,"createResponseQueueKey");function j(){return"not-"+(++a).toString()}o(j,"createNotificationQueueKey");function O(ge,Qe){Tn.Message.isRequest(Qe)?ge.set(ne(Qe.id),Qe):Tn.Message.isResponse(Qe)?ge.set(J(Qe.id),Qe):ge.set(j(),Qe)}o(O,"addMessageToQueue");function V(ge){}o(V,"cancelUndispatched");function Z(){return F===Om.Listening}o(Z,"isListening");function ae(){return F===Om.Closed}o(ae,"isClosed");function te(){return F===Om.Disposed}o(te,"isDisposed");function le(){(F===Om.New||F===Om.Listening)&&(F=Om.Closed,se.fire(void 0))}o(le,"closeHandler");function fe(ge){W.fire([ge,void 0,void 0])}o(fe,"readErrorHandler");function De(ge){W.fire(ge)}o(De,"writeErrorHandler"),e.onClose(le),e.onError(fe),t.onClose(le),t.onError(De);function ve(){A||x.size===0||(A=(0,p1e.default)().timer.setImmediate(()=>{A=void 0,ke()}))}o(ve,"triggerMessageQueue");function Ue(ge){Tn.Message.isRequest(ge)?ft(ge):Tn.Message.isNotification(ge)?lt(ge):Tn.Message.isResponse(ge)?at(ge):ie(ge)}o(Ue,"handleMessage");function ke(){if(x.size===0)return;let ge=x.shift();try{let Qe=n?.messageStrategy;XP.is(Qe)?Qe.handleMessage(ge,Ue):Ue(ge)}finally{ve()}}o(ke,"processMessageQueue");let Ze=o(ge=>{try{if(Tn.Message.isNotification(ge)&&ge.method===nw.type.method){let Qe=ge.params.id,Je=ne(Qe),rt=x.get(Je);if(Tn.Message.isRequest(rt)){let bt=n?.connectionStrategy,Qt=bt&&bt.cancelUndispatched?bt.cancelUndispatched(rt,V):void 0;if(Qt&&(Qt.error!==void 0||Qt.result!==void 0)){x.delete(Je),b.delete(Qe),Qt.id=rt.id,z(Qt,ge.method,Date.now()),t.write(Qt).catch(()=>i.error("Sending response for canceled message failed."));return}}let St=b.get(Qe);if(St!==void 0){St.cancel(),Le(ge);return}else E.add(Qe)}O(x,ge)}finally{ve()}},"callback");function ft(ge){if(te())return;function Qe(wt,kt,_t){let qt={jsonrpc:c,id:ge.id};wt instanceof Tn.ResponseError?qt.error=wt.toJson():qt.result=wt===void 0?null:wt,z(qt,kt,_t),t.write(qt).catch(()=>i.error("Sending response failed."))}o(Qe,"reply");function Je(wt,kt,_t){let qt={jsonrpc:c,id:ge.id,error:wt.toJson()};z(qt,kt,_t),t.write(qt).catch(()=>i.error("Sending response failed."))}o(Je,"replyError");function rt(wt,kt,_t){wt===void 0&&(wt=null);let qt={jsonrpc:c,id:ge.id,result:wt};z(qt,kt,_t),t.write(qt).catch(()=>i.error("Sending response failed."))}o(rt,"replySuccess"),ee(ge);let St=f.get(ge.method),bt,Qt;St&&(bt=St.type,Qt=St.handler);let Ot=Date.now();if(Qt||u){let wt=ge.id??String(Date.now()),kt=YP.is(U.receiver)?U.receiver.createCancellationTokenSource(wt):U.receiver.createCancellationTokenSource(ge);ge.id!==null&&E.has(ge.id)&&kt.cancel(),ge.id!==null&&b.set(wt,kt);try{let _t;if(Qt)if(ge.params===void 0){if(bt!==void 0&&bt.numberOfParams!==0){Je(new Tn.ResponseError(Tn.ErrorCodes.InvalidParams,`Request ${ge.method} defines ${bt.numberOfParams} params but received none.`),ge.method,Ot);return}_t=Qt(kt.token)}else if(Array.isArray(ge.params)){if(bt!==void 0&&bt.parameterStructures===Tn.ParameterStructures.byName){Je(new Tn.ResponseError(Tn.ErrorCodes.InvalidParams,`Request ${ge.method} defines parameters by name but received parameters by position`),ge.method,Ot);return}_t=Qt(...ge.params,kt.token)}else{if(bt!==void 0&&bt.parameterStructures===Tn.ParameterStructures.byPosition){Je(new Tn.ResponseError(Tn.ErrorCodes.InvalidParams,`Request ${ge.method} defines parameters by position but received parameters by name`),ge.method,Ot);return}_t=Qt(ge.params,kt.token)}else u&&(_t=u(ge.method,ge.params,kt.token));let qt=_t;_t?qt.then?qt.then(Ht=>{b.delete(wt),Qe(Ht,ge.method,Ot)},Ht=>{b.delete(wt),Ht instanceof Tn.ResponseError?Je(Ht,ge.method,Ot):Ht&&Gs.string(Ht.message)?Je(new Tn.ResponseError(Tn.ErrorCodes.InternalError,`Request ${ge.method} failed with message: ${Ht.message}`),ge.method,Ot):Je(new Tn.ResponseError(Tn.ErrorCodes.InternalError,`Request ${ge.method} failed unexpectedly without providing any details.`),ge.method,Ot)}):(b.delete(wt),Qe(_t,ge.method,Ot)):(b.delete(wt),rt(_t,ge.method,Ot))}catch(_t){b.delete(wt),_t instanceof Tn.ResponseError?Qe(_t,ge.method,Ot):_t&&Gs.string(_t.message)?Je(new Tn.ResponseError(Tn.ErrorCodes.InternalError,`Request ${ge.method} failed with message: ${_t.message}`),ge.method,Ot):Je(new Tn.ResponseError(Tn.ErrorCodes.InternalError,`Request ${ge.method} failed unexpectedly without providing any details.`),ge.method,Ot)}}else Je(new Tn.ResponseError(Tn.ErrorCodes.MethodNotFound,`Unhandled method ${ge.method}`),ge.method,Ot)}o(ft,"handleRequest");function at(ge){if(!te())if(ge.id===null)ge.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(ge.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Qe=ge.id,Je=v.get(Qe);if(Se(ge,Je),Je!==void 0){v.delete(Qe);try{if(ge.error){let rt=ge.error;Je.reject(new Tn.ResponseError(rt.code,rt.message,rt.data))}else if(ge.result!==void 0)Je.resolve(ge.result);else throw new Error("Should never happen.")}catch(rt){rt.message?i.error(`Response handler '${Je.method}' failed with message: ${rt.message}`):i.error(`Response handler '${Je.method}' failed unexpectedly.`)}}}}o(at,"handleResponse");function lt(ge){if(te())return;let Qe,Je;if(ge.method===nw.type.method){let rt=ge.params.id;E.delete(rt),Le(ge);return}else{let rt=h.get(ge.method);rt&&(Je=rt.handler,Qe=rt.type)}if(Je||m)try{if(Le(ge),Je)if(ge.params===void 0)Qe!==void 0&&Qe.numberOfParams!==0&&Qe.parameterStructures!==Tn.ParameterStructures.byName&&i.error(`Notification ${ge.method} defines ${Qe.numberOfParams} params but received none.`),Je();else if(Array.isArray(ge.params)){let rt=ge.params;ge.method===tw.type.method&&rt.length===2&&jK.is(rt[0])?Je({token:rt[0],value:rt[1]}):(Qe!==void 0&&(Qe.parameterStructures===Tn.ParameterStructures.byName&&i.error(`Notification ${ge.method} defines parameters by name but received parameters by position`),Qe.numberOfParams!==ge.params.length&&i.error(`Notification ${ge.method} defines ${Qe.numberOfParams} params but received ${rt.length} arguments`)),Je(...rt))}else Qe!==void 0&&Qe.parameterStructures===Tn.ParameterStructures.byPosition&&i.error(`Notification ${ge.method} defines parameters by position but received parameters by name`),Je(ge.params);else m&&m(ge.method,ge.params)}catch(rt){rt.message?i.error(`Notification handler '${ge.method}' failed with message: ${rt.message}`):i.error(`Notification handler '${ge.method}' failed unexpectedly.`)}else de.fire(ge)}o(lt,"handleNotification");function ie(ge){if(!ge){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(ge,null,4)}`);let Qe=ge;if(Gs.string(Qe.id)||Gs.number(Qe.id)){let Je=Qe.id,rt=v.get(Je);rt&&rt.reject(new Error("The received response has neither a result nor an error property."))}}o(ie,"handleInvalidMessage");function Fe(ge){if(ge!=null)switch(_){case po.Verbose:return JSON.stringify(ge,null,4);case po.Compact:return JSON.stringify(ge);default:return}}o(Fe,"stringifyTrace");function Ae(ge){if(!(_===po.Off||!P))if(R===qu.Text){let Qe;(_===po.Verbose||_===po.Compact)&&ge.params&&(Qe=`Params: ${Fe(ge.params)}

`),P.log(`Sending request '${ge.method} - (${ge.id})'.`,Qe)}else Ce("send-request",ge)}o(Ae,"traceSendingRequest");function Ge(ge){if(!(_===po.Off||!P))if(R===qu.Text){let Qe;(_===po.Verbose||_===po.Compact)&&(ge.params?Qe=`Params: ${Fe(ge.params)}

`:Qe=`No parameters provided.

`),P.log(`Sending notification '${ge.method}'.`,Qe)}else Ce("send-notification",ge)}o(Ge,"traceSendingNotification");function z(ge,Qe,Je){if(!(_===po.Off||!P))if(R===qu.Text){let rt;(_===po.Verbose||_===po.Compact)&&(ge.error&&ge.error.data?rt=`Error data: ${Fe(ge.error.data)}

`:ge.result?rt=`Result: ${Fe(ge.result)}

`:ge.error===void 0&&(rt=`No result returned.

`)),P.log(`Sending response '${Qe} - (${ge.id})'. Processing request took ${Date.now()-Je}ms`,rt)}else Ce("send-response",ge)}o(z,"traceSendingResponse");function ee(ge){if(!(_===po.Off||!P))if(R===qu.Text){let Qe;(_===po.Verbose||_===po.Compact)&&ge.params&&(Qe=`Params: ${Fe(ge.params)}

`),P.log(`Received request '${ge.method} - (${ge.id})'.`,Qe)}else Ce("receive-request",ge)}o(ee,"traceReceivedRequest");function Le(ge){if(!(_===po.Off||!P||ge.method===zP.type.method))if(R===qu.Text){let Qe;(_===po.Verbose||_===po.Compact)&&(ge.params?Qe=`Params: ${Fe(ge.params)}

`:Qe=`No parameters provided.

`),P.log(`Received notification '${ge.method}'.`,Qe)}else Ce("receive-notification",ge)}o(Le,"traceReceivedNotification");function Se(ge,Qe){if(!(_===po.Off||!P))if(R===qu.Text){let Je;if((_===po.Verbose||_===po.Compact)&&(ge.error&&ge.error.data?Je=`Error data: ${Fe(ge.error.data)}

`:ge.result?Je=`Result: ${Fe(ge.result)}

`:ge.error===void 0&&(Je=`No result returned.

`)),Qe){let rt=ge.error?` Request failed: ${ge.error.message} (${ge.error.code}).`:"";P.log(`Received response '${Qe.method} - (${ge.id})' in ${Date.now()-Qe.timerStart}ms.${rt}`,Je)}else P.log(`Received response ${ge.id} without active response promise.`,Je)}else Ce("receive-response",ge)}o(Se,"traceReceivedResponse");function Ce(ge,Qe){if(!P||_===po.Off)return;let Je={isLSPMessage:!0,type:ge,message:Qe,timestamp:Date.now()};P.log(Je)}o(Ce,"logLSPMessage");function qe(){if(ae())throw new qE(rw.Closed,"Connection is closed.");if(te())throw new qE(rw.Disposed,"Connection is disposed.")}o(qe,"throwIfClosedOrDisposed");function Ve(){if(Z())throw new qE(rw.AlreadyListening,"Connection is already listening")}o(Ve,"throwIfListening");function tt(){if(!Z())throw new Error("Call listen() first.")}o(tt,"throwIfNotListening");function Ct(ge){return ge===void 0?null:ge}o(Ct,"undefinedToNull");function Pt(ge){if(ge!==null)return ge}o(Pt,"nullToUndefined");function yt(ge){return ge!=null&&!Array.isArray(ge)&&typeof ge=="object"}o(yt,"isNamedParam");function $t(ge,Qe){switch(ge){case Tn.ParameterStructures.auto:return yt(Qe)?Pt(Qe):[Ct(Qe)];case Tn.ParameterStructures.byName:if(!yt(Qe))throw new Error("Received parameters by name but param is not an object literal.");return Pt(Qe);case Tn.ParameterStructures.byPosition:return[Ct(Qe)];default:throw new Error(`Unknown parameter structure ${ge.toString()}`)}}o($t,"computeSingleParam");function Kt(ge,Qe){let Je,rt=ge.numberOfParams;switch(rt){case 0:Je=void 0;break;case 1:Je=$t(ge.parameterStructures,Qe[0]);break;default:Je=[];for(let St=0;St<Qe.length&&St<rt;St++)Je.push(Ct(Qe[St]));if(Qe.length<rt)for(let St=Qe.length;St<rt;St++)Je.push(null);break}return Je}o(Kt,"computeMessageParams");let sr={sendNotification:o((ge,...Qe)=>{qe();let Je,rt;if(Gs.string(ge)){Je=ge;let bt=Qe[0],Qt=0,Ot=Tn.ParameterStructures.auto;Tn.ParameterStructures.is(bt)&&(Qt=1,Ot=bt);let wt=Qe.length,kt=wt-Qt;switch(kt){case 0:rt=void 0;break;case 1:rt=$t(Ot,Qe[Qt]);break;default:if(Ot===Tn.ParameterStructures.byName)throw new Error(`Received ${kt} parameters for 'by Name' notification parameter structure.`);rt=Qe.slice(Qt,wt).map(_t=>Ct(_t));break}}else{let bt=Qe;Je=ge.method,rt=Kt(ge,bt)}let St={jsonrpc:c,method:Je,params:rt};return Ge(St),t.write(St).catch(bt=>{throw i.error("Sending notification failed."),bt})},"sendNotification"),onNotification:o((ge,Qe)=>{qe();let Je;return Gs.func(ge)?m=ge:Qe&&(Gs.string(ge)?(Je=ge,h.set(ge,{type:void 0,handler:Qe})):(Je=ge.method,h.set(ge.method,{type:ge,handler:Qe}))),{dispose:o(()=>{Je!==void 0?h.delete(Je):m=void 0},"dispose")}},"onNotification"),onProgress:o((ge,Qe,Je)=>{if(p.has(Qe))throw new Error(`Progress handler for token ${Qe} already registered`);return p.set(Qe,Je),{dispose:o(()=>{p.delete(Qe)},"dispose")}},"onProgress"),sendProgress:o((ge,Qe,Je)=>sr.sendNotification(tw.type,{token:Qe,value:Je}),"sendProgress"),onUnhandledProgress:re.event,sendRequest:o((ge,...Qe)=>{qe(),tt();let Je,rt,St;if(Gs.string(ge)){Je=ge;let wt=Qe[0],kt=Qe[Qe.length-1],_t=0,qt=Tn.ParameterStructures.auto;Tn.ParameterStructures.is(wt)&&(_t=1,qt=wt);let Ht=Qe.length;HK.CancellationToken.is(kt)&&(Ht=Ht-1,St=kt);let Jt=Ht-_t;switch(Jt){case 0:rt=void 0;break;case 1:rt=$t(qt,Qe[_t]);break;default:if(qt===Tn.ParameterStructures.byName)throw new Error(`Received ${Jt} parameters for 'by Name' request parameter structure.`);rt=Qe.slice(_t,Ht).map(ur=>Ct(ur));break}}else{let wt=Qe;Je=ge.method,rt=Kt(ge,wt);let kt=ge.numberOfParams;St=HK.CancellationToken.is(wt[kt])?wt[kt]:void 0}let bt=s++,Qt;St&&(Qt=St.onCancellationRequested(()=>{let wt=U.sender.sendCancellation(sr,bt);return wt===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${bt}`),Promise.resolve()):wt.catch(()=>{i.log(`Sending cancellation messages for id ${bt} failed`)})}));let Ot={jsonrpc:c,id:bt,method:Je,params:rt};return Ae(Ot),typeof U.sender.enableCancellation=="function"&&U.sender.enableCancellation(Ot),new Promise(async(wt,kt)=>{let _t=o(Jt=>{wt(Jt),U.sender.cleanup(bt),Qt?.dispose()},"resolveWithCleanup"),qt=o(Jt=>{kt(Jt),U.sender.cleanup(bt),Qt?.dispose()},"rejectWithCleanup"),Ht={method:Je,timerStart:Date.now(),resolve:_t,reject:qt};try{await t.write(Ot),v.set(bt,Ht)}catch(Jt){throw i.error("Sending request failed."),Ht.reject(new Tn.ResponseError(Tn.ErrorCodes.MessageWriteError,Jt.message?Jt.message:"Unknown reason")),Jt}})},"sendRequest"),onRequest:o((ge,Qe)=>{qe();let Je=null;return $K.is(ge)?(Je=void 0,u=ge):Gs.string(ge)?(Je=null,Qe!==void 0&&(Je=ge,f.set(ge,{handler:Qe,type:void 0}))):Qe!==void 0&&(Je=ge.method,f.set(ge.method,{type:ge,handler:Qe})),{dispose:o(()=>{Je!==null&&(Je!==void 0?f.delete(Je):u=void 0)},"dispose")}},"onRequest"),hasPendingResponse:o(()=>v.size>0,"hasPendingResponse"),trace:o(async(ge,Qe,Je)=>{let rt=!1,St=qu.Text;Je!==void 0&&(Gs.boolean(Je)?rt=Je:(rt=Je.sendNotification||!1,St=Je.traceFormat||qu.Text)),_=ge,R=St,_===po.Off?P=void 0:P=Qe,rt&&!ae()&&!te()&&await sr.sendNotification(zK.type,{value:po.toString(ge)})},"trace"),onError:W.event,onClose:se.event,onUnhandledNotification:de.event,onDispose:G.event,end:o(()=>{t.end()},"end"),dispose:o(()=>{if(te())return;F=Om.Disposed,G.fire(void 0);let ge=new Tn.ResponseError(Tn.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Qe of v.values())Qe.reject(ge);v=new Map,b=new Map,E=new Set,x=new g1e.LinkedMap,Gs.func(t.dispose)&&t.dispose(),Gs.func(e.dispose)&&e.dispose()},"dispose"),listen:o(()=>{qe(),Ve(),F=Om.Listening,e.listen(Ze)},"listen"),inspect:o(()=>{(0,p1e.default)().console.log("inspect")},"inspect")};return sr.onNotification(zP.type,ge=>{if(_===po.Off||!P)return;let Qe=_===po.Verbose||_===po.Compact;P.log(ge.message,Qe?ge.verbose:void 0)}),sr.onNotification(tw.type,ge=>{let Qe=p.get(ge.token);Qe?Qe(ge.value):re.fire(ge)}),sr}o(MZe,"createMessageConnection");zn.createMessageConnection=MZe});var eF=H(gt=>{"use strict";d();Object.defineProperty(gt,"__esModule",{value:!0});gt.ProgressType=gt.ProgressToken=gt.createMessageConnection=gt.NullLogger=gt.ConnectionOptions=gt.ConnectionStrategy=gt.AbstractMessageBuffer=gt.WriteableStreamMessageWriter=gt.AbstractMessageWriter=gt.MessageWriter=gt.ReadableStreamMessageReader=gt.AbstractMessageReader=gt.MessageReader=gt.SharedArrayReceiverStrategy=gt.SharedArraySenderStrategy=gt.CancellationToken=gt.CancellationTokenSource=gt.Emitter=gt.Event=gt.Disposable=gt.LRUCache=gt.Touch=gt.LinkedMap=gt.ParameterStructures=gt.NotificationType9=gt.NotificationType8=gt.NotificationType7=gt.NotificationType6=gt.NotificationType5=gt.NotificationType4=gt.NotificationType3=gt.NotificationType2=gt.NotificationType1=gt.NotificationType0=gt.NotificationType=gt.ErrorCodes=gt.ResponseError=gt.RequestType9=gt.RequestType8=gt.RequestType7=gt.RequestType6=gt.RequestType5=gt.RequestType4=gt.RequestType3=gt.RequestType2=gt.RequestType1=gt.RequestType0=gt.RequestType=gt.Message=gt.RAL=void 0;gt.MessageStrategy=gt.CancellationStrategy=gt.CancellationSenderStrategy=gt.CancellationReceiverStrategy=gt.ConnectionError=gt.ConnectionErrors=gt.LogTraceNotification=gt.SetTraceNotification=gt.TraceFormat=gt.TraceValues=gt.Trace=void 0;var Jo=bK();Object.defineProperty(gt,"Message",{enumerable:!0,get:o(function(){return Jo.Message},"get")});Object.defineProperty(gt,"RequestType",{enumerable:!0,get:o(function(){return Jo.RequestType},"get")});Object.defineProperty(gt,"RequestType0",{enumerable:!0,get:o(function(){return Jo.RequestType0},"get")});Object.defineProperty(gt,"RequestType1",{enumerable:!0,get:o(function(){return Jo.RequestType1},"get")});Object.defineProperty(gt,"RequestType2",{enumerable:!0,get:o(function(){return Jo.RequestType2},"get")});Object.defineProperty(gt,"RequestType3",{enumerable:!0,get:o(function(){return Jo.RequestType3},"get")});Object.defineProperty(gt,"RequestType4",{enumerable:!0,get:o(function(){return Jo.RequestType4},"get")});Object.defineProperty(gt,"RequestType5",{enumerable:!0,get:o(function(){return Jo.RequestType5},"get")});Object.defineProperty(gt,"RequestType6",{enumerable:!0,get:o(function(){return Jo.RequestType6},"get")});Object.defineProperty(gt,"RequestType7",{enumerable:!0,get:o(function(){return Jo.RequestType7},"get")});Object.defineProperty(gt,"RequestType8",{enumerable:!0,get:o(function(){return Jo.RequestType8},"get")});Object.defineProperty(gt,"RequestType9",{enumerable:!0,get:o(function(){return Jo.RequestType9},"get")});Object.defineProperty(gt,"ResponseError",{enumerable:!0,get:o(function(){return Jo.ResponseError},"get")});Object.defineProperty(gt,"ErrorCodes",{enumerable:!0,get:o(function(){return Jo.ErrorCodes},"get")});Object.defineProperty(gt,"NotificationType",{enumerable:!0,get:o(function(){return Jo.NotificationType},"get")});Object.defineProperty(gt,"NotificationType0",{enumerable:!0,get:o(function(){return Jo.NotificationType0},"get")});Object.defineProperty(gt,"NotificationType1",{enumerable:!0,get:o(function(){return Jo.NotificationType1},"get")});Object.defineProperty(gt,"NotificationType2",{enumerable:!0,get:o(function(){return Jo.NotificationType2},"get")});Object.defineProperty(gt,"NotificationType3",{enumerable:!0,get:o(function(){return Jo.NotificationType3},"get")});Object.defineProperty(gt,"NotificationType4",{enumerable:!0,get:o(function(){return Jo.NotificationType4},"get")});Object.defineProperty(gt,"NotificationType5",{enumerable:!0,get:o(function(){return Jo.NotificationType5},"get")});Object.defineProperty(gt,"NotificationType6",{enumerable:!0,get:o(function(){return Jo.NotificationType6},"get")});Object.defineProperty(gt,"NotificationType7",{enumerable:!0,get:o(function(){return Jo.NotificationType7},"get")});Object.defineProperty(gt,"NotificationType8",{enumerable:!0,get:o(function(){return Jo.NotificationType8},"get")});Object.defineProperty(gt,"NotificationType9",{enumerable:!0,get:o(function(){return Jo.NotificationType9},"get")});Object.defineProperty(gt,"ParameterStructures",{enumerable:!0,get:o(function(){return Jo.ParameterStructures},"get")});var JK=IK();Object.defineProperty(gt,"LinkedMap",{enumerable:!0,get:o(function(){return JK.LinkedMap},"get")});Object.defineProperty(gt,"LRUCache",{enumerable:!0,get:o(function(){return JK.LRUCache},"get")});Object.defineProperty(gt,"Touch",{enumerable:!0,get:o(function(){return JK.Touch},"get")});var OZe=i1e();Object.defineProperty(gt,"Disposable",{enumerable:!0,get:o(function(){return OZe.Disposable},"get")});var x1e=QE();Object.defineProperty(gt,"Event",{enumerable:!0,get:o(function(){return x1e.Event},"get")});Object.defineProperty(gt,"Emitter",{enumerable:!0,get:o(function(){return x1e.Emitter},"get")});var v1e=GP();Object.defineProperty(gt,"CancellationTokenSource",{enumerable:!0,get:o(function(){return v1e.CancellationTokenSource},"get")});Object.defineProperty(gt,"CancellationToken",{enumerable:!0,get:o(function(){return v1e.CancellationToken},"get")});var b1e=s1e();Object.defineProperty(gt,"SharedArraySenderStrategy",{enumerable:!0,get:o(function(){return b1e.SharedArraySenderStrategy},"get")});Object.defineProperty(gt,"SharedArrayReceiverStrategy",{enumerable:!0,get:o(function(){return b1e.SharedArrayReceiverStrategy},"get")});var ZK=l1e();Object.defineProperty(gt,"MessageReader",{enumerable:!0,get:o(function(){return ZK.MessageReader},"get")});Object.defineProperty(gt,"AbstractMessageReader",{enumerable:!0,get:o(function(){return ZK.AbstractMessageReader},"get")});Object.defineProperty(gt,"ReadableStreamMessageReader",{enumerable:!0,get:o(function(){return ZK.ReadableStreamMessageReader},"get")});var XK=m1e();Object.defineProperty(gt,"MessageWriter",{enumerable:!0,get:o(function(){return XK.MessageWriter},"get")});Object.defineProperty(gt,"AbstractMessageWriter",{enumerable:!0,get:o(function(){return XK.AbstractMessageWriter},"get")});Object.defineProperty(gt,"WriteableStreamMessageWriter",{enumerable:!0,get:o(function(){return XK.WriteableStreamMessageWriter},"get")});var UZe=h1e();Object.defineProperty(gt,"AbstractMessageBuffer",{enumerable:!0,get:o(function(){return UZe.AbstractMessageBuffer},"get")});var Kl=C1e();Object.defineProperty(gt,"ConnectionStrategy",{enumerable:!0,get:o(function(){return Kl.ConnectionStrategy},"get")});Object.defineProperty(gt,"ConnectionOptions",{enumerable:!0,get:o(function(){return Kl.ConnectionOptions},"get")});Object.defineProperty(gt,"NullLogger",{enumerable:!0,get:o(function(){return Kl.NullLogger},"get")});Object.defineProperty(gt,"createMessageConnection",{enumerable:!0,get:o(function(){return Kl.createMessageConnection},"get")});Object.defineProperty(gt,"ProgressToken",{enumerable:!0,get:o(function(){return Kl.ProgressToken},"get")});Object.defineProperty(gt,"ProgressType",{enumerable:!0,get:o(function(){return Kl.ProgressType},"get")});Object.defineProperty(gt,"Trace",{enumerable:!0,get:o(function(){return Kl.Trace},"get")});Object.defineProperty(gt,"TraceValues",{enumerable:!0,get:o(function(){return Kl.TraceValues},"get")});Object.defineProperty(gt,"TraceFormat",{enumerable:!0,get:o(function(){return Kl.TraceFormat},"get")});Object.defineProperty(gt,"SetTraceNotification",{enumerable:!0,get:o(function(){return Kl.SetTraceNotification},"get")});Object.defineProperty(gt,"LogTraceNotification",{enumerable:!0,get:o(function(){return Kl.LogTraceNotification},"get")});Object.defineProperty(gt,"ConnectionErrors",{enumerable:!0,get:o(function(){return Kl.ConnectionErrors},"get")});Object.defineProperty(gt,"ConnectionError",{enumerable:!0,get:o(function(){return Kl.ConnectionError},"get")});Object.defineProperty(gt,"CancellationReceiverStrategy",{enumerable:!0,get:o(function(){return Kl.CancellationReceiverStrategy},"get")});Object.defineProperty(gt,"CancellationSenderStrategy",{enumerable:!0,get:o(function(){return Kl.CancellationSenderStrategy},"get")});Object.defineProperty(gt,"CancellationStrategy",{enumerable:!0,get:o(function(){return Kl.CancellationStrategy},"get")});Object.defineProperty(gt,"MessageStrategy",{enumerable:!0,get:o(function(){return Kl.MessageStrategy},"get")});var qZe=Ny();gt.RAL=qZe.default});var T1e=H(nJ=>{"use strict";d();Object.defineProperty(nJ,"__esModule",{value:!0});var E1e=require("util"),P1=eF(),tF=class e extends P1.AbstractMessageBuffer{static{o(this,"MessageBuffer")}constructor(t="utf-8"){super(t)}emptyBuffer(){return e.emptyBuffer}fromString(t,r){return Buffer.from(t,r)}toString(t,r){return t instanceof Buffer?t.toString(r):new E1e.TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,r):Buffer.from(t,0,r)}allocNative(t){return Buffer.allocUnsafe(t)}};tF.emptyBuffer=Buffer.allocUnsafe(0);var eJ=class{static{o(this,"ReadableStreamWrapper")}constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),P1.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),P1.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),P1.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),P1.Disposable.create(()=>this.stream.off("data",t))}},tJ=class{static{o(this,"WritableStreamWrapper")}constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),P1.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),P1.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),P1.Disposable.create(()=>this.stream.off("end",t))}write(t,r){return new Promise((n,i)=>{let s=o(a=>{a==null?n():i(a)},"callback");typeof t=="string"?this.stream.write(t,r,s):this.stream.write(t,s)})}end(){this.stream.end()}},I1e=Object.freeze({messageBuffer:Object.freeze({create:o(e=>new tF(e),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:o((e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(r){return Promise.reject(r)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:o((e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new E1e.TextDecoder(t.charset).decode(e)))}catch(r){return Promise.reject(r)}},"decode")})}),stream:Object.freeze({asReadableStream:o(e=>new eJ(e),"asReadableStream"),asWritableStream:o(e=>new tJ(e),"asWritableStream")}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:o(()=>clearTimeout(n),"dispose")}},setImmediate(e,...t){let r=setImmediate(e,...t);return{dispose:o(()=>clearImmediate(r),"dispose")}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:o(()=>clearInterval(n),"dispose")}}})});function rJ(){return I1e}o(rJ,"RIL");(function(e){function t(){P1.RAL.install(I1e)}o(t,"install"),e.install=t})(rJ||(rJ={}));nJ.default=rJ});var a4=H(qi=>{"use strict";d();var WZe=qi&&qi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),GZe=qi&&qi.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&WZe(t,e,r)};Object.defineProperty(qi,"__esModule",{value:!0});qi.createMessageConnection=qi.createServerSocketTransport=qi.createClientSocketTransport=qi.createServerPipeTransport=qi.createClientPipeTransport=qi.generateRandomPipeName=qi.StreamMessageWriter=qi.StreamMessageReader=qi.SocketMessageWriter=qi.SocketMessageReader=qi.PortMessageWriter=qi.PortMessageReader=qi.IPCMessageWriter=qi.IPCMessageReader=void 0;var WE=T1e();WE.default.install();var w1e=require("path"),HZe=require("os"),jZe=require("crypto"),iF=require("net"),Wu=eF();GZe(eF(),qi);var iJ=class extends Wu.AbstractMessageReader{static{o(this,"IPCMessageReader")}constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),Wu.Disposable.create(()=>this.process.off("message",t))}};qi.IPCMessageReader=iJ;var oJ=class extends Wu.AbstractMessageWriter{static{o(this,"IPCMessageWriter")}constructor(t){super(),this.process=t,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,t)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};qi.IPCMessageWriter=oJ;var sJ=class extends Wu.AbstractMessageReader{static{o(this,"PortMessageReader")}constructor(t){super(),this.onData=new Wu.Emitter,t.on("close",()=>this.fireClose),t.on("error",r=>this.fireError(r)),t.on("message",r=>{this.onData.fire(r)})}listen(t){return this.onData.event(t)}};qi.PortMessageReader=sJ;var aJ=class extends Wu.AbstractMessageWriter{static{o(this,"PortMessageWriter")}constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};qi.PortMessageWriter=aJ;var o4=class extends Wu.ReadableStreamMessageReader{static{o(this,"SocketMessageReader")}constructor(t,r="utf-8"){super((0,WE.default)().stream.asReadableStream(t),r)}};qi.SocketMessageReader=o4;var s4=class extends Wu.WriteableStreamMessageWriter{static{o(this,"SocketMessageWriter")}constructor(t,r){super((0,WE.default)().stream.asWritableStream(t),r),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};qi.SocketMessageWriter=s4;var rF=class extends Wu.ReadableStreamMessageReader{static{o(this,"StreamMessageReader")}constructor(t,r){super((0,WE.default)().stream.asReadableStream(t),r)}};qi.StreamMessageReader=rF;var nF=class extends Wu.WriteableStreamMessageWriter{static{o(this,"StreamMessageWriter")}constructor(t,r){super((0,WE.default)().stream.asWritableStream(t),r)}};qi.StreamMessageWriter=nF;var _1e=process.env.XDG_RUNTIME_DIR,VZe=new Map([["linux",107],["darwin",103]]);function $Ze(){let e=(0,jZe.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;_1e?t=w1e.join(_1e,`vscode-ipc-${e}.sock`):t=w1e.join(HZe.tmpdir(),`vscode-${e}.sock`);let r=VZe.get(process.platform);return r!==void 0&&t.length>r&&(0,WE.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t}o($Ze,"generateRandomPipeName");qi.generateRandomPipeName=$Ze;function zZe(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let a=(0,iF.createServer)(l=>{a.close(),r([new o4(l,t),new s4(l,t)])});a.on("error",s),a.listen(e,()=>{a.removeListener("error",s),i({onConnected:o(()=>n,"onConnected")})})})}o(zZe,"createClientPipeTransport");qi.createClientPipeTransport=zZe;function YZe(e,t="utf-8"){let r=(0,iF.createConnection)(e);return[new o4(r,t),new s4(r,t)]}o(YZe,"createServerPipeTransport");qi.createServerPipeTransport=YZe;function KZe(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let a=(0,iF.createServer)(l=>{a.close(),r([new o4(l,t),new s4(l,t)])});a.on("error",s),a.listen(e,"127.0.0.1",()=>{a.removeListener("error",s),i({onConnected:o(()=>n,"onConnected")})})})}o(KZe,"createClientSocketTransport");qi.createClientSocketTransport=KZe;function JZe(e,t="utf-8"){let r=(0,iF.createConnection)(e,"127.0.0.1");return[new o4(r,t),new s4(r,t)]}o(JZe,"createServerSocketTransport");qi.createServerSocketTransport=JZe;function ZZe(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}o(ZZe,"isReadableStream");function XZe(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}o(XZe,"isWritableStream");function eXe(e,t,r,n){r||(r=Wu.NullLogger);let i=ZZe(e)?new rF(e):e,s=XZe(t)?new nF(t):t;return Wu.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Wu.createMessageConnection)(i,s,r,n)}o(eXe,"createMessageConnection");qi.createMessageConnection=eXe});var lJ=H((Eir,S1e)=>{"use strict";d();S1e.exports=a4()});var sF=H((k1e,oF)=>{d();(function(e){if(typeof oF=="object"&&typeof oF.exports=="object"){var t=e(require,k1e);t!==void 0&&(oF.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var r;(function(M){function me(ye){return typeof ye=="string"}o(me,"is"),M.is=me})(r||(t.DocumentUri=r={}));var n;(function(M){function me(ye){return typeof ye=="string"}o(me,"is"),M.is=me})(n||(t.URI=n={}));var i;(function(M){M.MIN_VALUE=-2147483648,M.MAX_VALUE=2147483647;function me(ye){return typeof ye=="number"&&M.MIN_VALUE<=ye&&ye<=M.MAX_VALUE}o(me,"is"),M.is=me})(i||(t.integer=i={}));var s;(function(M){M.MIN_VALUE=0,M.MAX_VALUE=2147483647;function me(ye){return typeof ye=="number"&&M.MIN_VALUE<=ye&&ye<=M.MAX_VALUE}o(me,"is"),M.is=me})(s||(t.uinteger=s={}));var a;(function(M){function me(Y,L){return Y===Number.MAX_VALUE&&(Y=s.MAX_VALUE),L===Number.MAX_VALUE&&(L=s.MAX_VALUE),{line:Y,character:L}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.objectLiteral(L)&&Ie.uinteger(L.line)&&Ie.uinteger(L.character)}o(ye,"is"),M.is=ye})(a||(t.Position=a={}));var l;(function(M){function me(Y,L,Te,Oe){if(Ie.uinteger(Y)&&Ie.uinteger(L)&&Ie.uinteger(Te)&&Ie.uinteger(Oe))return{start:a.create(Y,L),end:a.create(Te,Oe)};if(a.is(Y)&&a.is(L))return{start:Y,end:L};throw new Error("Range#create called with invalid arguments[".concat(Y,", ").concat(L,", ").concat(Te,", ").concat(Oe,"]"))}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.objectLiteral(L)&&a.is(L.start)&&a.is(L.end)}o(ye,"is"),M.is=ye})(l||(t.Range=l={}));var c;(function(M){function me(Y,L){return{uri:Y,range:L}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.objectLiteral(L)&&l.is(L.range)&&(Ie.string(L.uri)||Ie.undefined(L.uri))}o(ye,"is"),M.is=ye})(c||(t.Location=c={}));var u;(function(M){function me(Y,L,Te,Oe){return{targetUri:Y,targetRange:L,targetSelectionRange:Te,originSelectionRange:Oe}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.objectLiteral(L)&&l.is(L.targetRange)&&Ie.string(L.targetUri)&&l.is(L.targetSelectionRange)&&(l.is(L.originSelectionRange)||Ie.undefined(L.originSelectionRange))}o(ye,"is"),M.is=ye})(u||(t.LocationLink=u={}));var f;(function(M){function me(Y,L,Te,Oe){return{red:Y,green:L,blue:Te,alpha:Oe}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.objectLiteral(L)&&Ie.numberRange(L.red,0,1)&&Ie.numberRange(L.green,0,1)&&Ie.numberRange(L.blue,0,1)&&Ie.numberRange(L.alpha,0,1)}o(ye,"is"),M.is=ye})(f||(t.Color=f={}));var m;(function(M){function me(Y,L){return{range:Y,color:L}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.objectLiteral(L)&&l.is(L.range)&&f.is(L.color)}o(ye,"is"),M.is=ye})(m||(t.ColorInformation=m={}));var h;(function(M){function me(Y,L,Te){return{label:Y,textEdit:L,additionalTextEdits:Te}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.objectLiteral(L)&&Ie.string(L.label)&&(Ie.undefined(L.textEdit)||P.is(L))&&(Ie.undefined(L.additionalTextEdits)||Ie.typedArray(L.additionalTextEdits,P.is))}o(ye,"is"),M.is=ye})(h||(t.ColorPresentation=h={}));var p;(function(M){M.Comment="comment",M.Imports="imports",M.Region="region"})(p||(t.FoldingRangeKind=p={}));var A;(function(M){function me(Y,L,Te,Oe,xt,Wt){var Nt={startLine:Y,endLine:L};return Ie.defined(Te)&&(Nt.startCharacter=Te),Ie.defined(Oe)&&(Nt.endCharacter=Oe),Ie.defined(xt)&&(Nt.kind=xt),Ie.defined(Wt)&&(Nt.collapsedText=Wt),Nt}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.objectLiteral(L)&&Ie.uinteger(L.startLine)&&Ie.uinteger(L.startLine)&&(Ie.undefined(L.startCharacter)||Ie.uinteger(L.startCharacter))&&(Ie.undefined(L.endCharacter)||Ie.uinteger(L.endCharacter))&&(Ie.undefined(L.kind)||Ie.string(L.kind))}o(ye,"is"),M.is=ye})(A||(t.FoldingRange=A={}));var x;(function(M){function me(Y,L){return{location:Y,message:L}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.defined(L)&&c.is(L.location)&&Ie.string(L.message)}o(ye,"is"),M.is=ye})(x||(t.DiagnosticRelatedInformation=x={}));var v;(function(M){M.Error=1,M.Warning=2,M.Information=3,M.Hint=4})(v||(t.DiagnosticSeverity=v={}));var E;(function(M){M.Unnecessary=1,M.Deprecated=2})(E||(t.DiagnosticTag=E={}));var b;(function(M){function me(ye){var Y=ye;return Ie.objectLiteral(Y)&&Ie.string(Y.href)}o(me,"is"),M.is=me})(b||(t.CodeDescription=b={}));var _;(function(M){function me(Y,L,Te,Oe,xt,Wt){var Nt={range:Y,message:L};return Ie.defined(Te)&&(Nt.severity=Te),Ie.defined(Oe)&&(Nt.code=Oe),Ie.defined(xt)&&(Nt.source=xt),Ie.defined(Wt)&&(Nt.relatedInformation=Wt),Nt}o(me,"create"),M.create=me;function ye(Y){var L,Te=Y;return Ie.defined(Te)&&l.is(Te.range)&&Ie.string(Te.message)&&(Ie.number(Te.severity)||Ie.undefined(Te.severity))&&(Ie.integer(Te.code)||Ie.string(Te.code)||Ie.undefined(Te.code))&&(Ie.undefined(Te.codeDescription)||Ie.string((L=Te.codeDescription)===null||L===void 0?void 0:L.href))&&(Ie.string(Te.source)||Ie.undefined(Te.source))&&(Ie.undefined(Te.relatedInformation)||Ie.typedArray(Te.relatedInformation,x.is))}o(ye,"is"),M.is=ye})(_||(t.Diagnostic=_={}));var R;(function(M){function me(Y,L){for(var Te=[],Oe=2;Oe<arguments.length;Oe++)Te[Oe-2]=arguments[Oe];var xt={title:Y,command:L};return Ie.defined(Te)&&Te.length>0&&(xt.arguments=Te),xt}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.defined(L)&&Ie.string(L.title)&&Ie.string(L.command)}o(ye,"is"),M.is=ye})(R||(t.Command=R={}));var P;(function(M){function me(Te,Oe){return{range:Te,newText:Oe}}o(me,"replace"),M.replace=me;function ye(Te,Oe){return{range:{start:Te,end:Te},newText:Oe}}o(ye,"insert"),M.insert=ye;function Y(Te){return{range:Te,newText:""}}o(Y,"del"),M.del=Y;function L(Te){var Oe=Te;return Ie.objectLiteral(Oe)&&Ie.string(Oe.newText)&&l.is(Oe.range)}o(L,"is"),M.is=L})(P||(t.TextEdit=P={}));var F;(function(M){function me(Y,L,Te){var Oe={label:Y};return L!==void 0&&(Oe.needsConfirmation=L),Te!==void 0&&(Oe.description=Te),Oe}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.objectLiteral(L)&&Ie.string(L.label)&&(Ie.boolean(L.needsConfirmation)||L.needsConfirmation===void 0)&&(Ie.string(L.description)||L.description===void 0)}o(ye,"is"),M.is=ye})(F||(t.ChangeAnnotation=F={}));var W;(function(M){function me(ye){var Y=ye;return Ie.string(Y)}o(me,"is"),M.is=me})(W||(t.ChangeAnnotationIdentifier=W={}));var se;(function(M){function me(Te,Oe,xt){return{range:Te,newText:Oe,annotationId:xt}}o(me,"replace"),M.replace=me;function ye(Te,Oe,xt){return{range:{start:Te,end:Te},newText:Oe,annotationId:xt}}o(ye,"insert"),M.insert=ye;function Y(Te,Oe){return{range:Te,newText:"",annotationId:Oe}}o(Y,"del"),M.del=Y;function L(Te){var Oe=Te;return P.is(Oe)&&(F.is(Oe.annotationId)||W.is(Oe.annotationId))}o(L,"is"),M.is=L})(se||(t.AnnotatedTextEdit=se={}));var de;(function(M){function me(Y,L){return{textDocument:Y,edits:L}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.defined(L)&&ae.is(L.textDocument)&&Array.isArray(L.edits)}o(ye,"is"),M.is=ye})(de||(t.TextDocumentEdit=de={}));var re;(function(M){function me(Y,L,Te){var Oe={kind:"create",uri:Y};return L!==void 0&&(L.overwrite!==void 0||L.ignoreIfExists!==void 0)&&(Oe.options=L),Te!==void 0&&(Oe.annotationId=Te),Oe}o(me,"create"),M.create=me;function ye(Y){var L=Y;return L&&L.kind==="create"&&Ie.string(L.uri)&&(L.options===void 0||(L.options.overwrite===void 0||Ie.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||Ie.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||W.is(L.annotationId))}o(ye,"is"),M.is=ye})(re||(t.CreateFile=re={}));var G;(function(M){function me(Y,L,Te,Oe){var xt={kind:"rename",oldUri:Y,newUri:L};return Te!==void 0&&(Te.overwrite!==void 0||Te.ignoreIfExists!==void 0)&&(xt.options=Te),Oe!==void 0&&(xt.annotationId=Oe),xt}o(me,"create"),M.create=me;function ye(Y){var L=Y;return L&&L.kind==="rename"&&Ie.string(L.oldUri)&&Ie.string(L.newUri)&&(L.options===void 0||(L.options.overwrite===void 0||Ie.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||Ie.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||W.is(L.annotationId))}o(ye,"is"),M.is=ye})(G||(t.RenameFile=G={}));var U;(function(M){function me(Y,L,Te){var Oe={kind:"delete",uri:Y};return L!==void 0&&(L.recursive!==void 0||L.ignoreIfNotExists!==void 0)&&(Oe.options=L),Te!==void 0&&(Oe.annotationId=Te),Oe}o(me,"create"),M.create=me;function ye(Y){var L=Y;return L&&L.kind==="delete"&&Ie.string(L.uri)&&(L.options===void 0||(L.options.recursive===void 0||Ie.boolean(L.options.recursive))&&(L.options.ignoreIfNotExists===void 0||Ie.boolean(L.options.ignoreIfNotExists)))&&(L.annotationId===void 0||W.is(L.annotationId))}o(ye,"is"),M.is=ye})(U||(t.DeleteFile=U={}));var ne;(function(M){function me(ye){var Y=ye;return Y&&(Y.changes!==void 0||Y.documentChanges!==void 0)&&(Y.documentChanges===void 0||Y.documentChanges.every(function(L){return Ie.string(L.kind)?re.is(L)||G.is(L)||U.is(L):de.is(L)}))}o(me,"is"),M.is=me})(ne||(t.WorkspaceEdit=ne={}));var J=function(){function M(me,ye){this.edits=me,this.changeAnnotations=ye}return o(M,"TextEditChangeImpl"),M.prototype.insert=function(me,ye,Y){var L,Te;if(Y===void 0?L=P.insert(me,ye):W.is(Y)?(Te=Y,L=se.insert(me,ye,Y)):(this.assertChangeAnnotations(this.changeAnnotations),Te=this.changeAnnotations.manage(Y),L=se.insert(me,ye,Te)),this.edits.push(L),Te!==void 0)return Te},M.prototype.replace=function(me,ye,Y){var L,Te;if(Y===void 0?L=P.replace(me,ye):W.is(Y)?(Te=Y,L=se.replace(me,ye,Y)):(this.assertChangeAnnotations(this.changeAnnotations),Te=this.changeAnnotations.manage(Y),L=se.replace(me,ye,Te)),this.edits.push(L),Te!==void 0)return Te},M.prototype.delete=function(me,ye){var Y,L;if(ye===void 0?Y=P.del(me):W.is(ye)?(L=ye,Y=se.del(me,ye)):(this.assertChangeAnnotations(this.changeAnnotations),L=this.changeAnnotations.manage(ye),Y=se.del(me,L)),this.edits.push(Y),L!==void 0)return L},M.prototype.add=function(me){this.edits.push(me)},M.prototype.all=function(){return this.edits},M.prototype.clear=function(){this.edits.splice(0,this.edits.length)},M.prototype.assertChangeAnnotations=function(me){if(me===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},M}(),j=function(){function M(me){this._annotations=me===void 0?Object.create(null):me,this._counter=0,this._size=0}return o(M,"ChangeAnnotations"),M.prototype.all=function(){return this._annotations},Object.defineProperty(M.prototype,"size",{get:o(function(){return this._size},"get"),enumerable:!1,configurable:!0}),M.prototype.manage=function(me,ye){var Y;if(W.is(me)?Y=me:(Y=this.nextId(),ye=me),this._annotations[Y]!==void 0)throw new Error("Id ".concat(Y," is already in use."));if(ye===void 0)throw new Error("No annotation provided for id ".concat(Y));return this._annotations[Y]=ye,this._size++,Y},M.prototype.nextId=function(){return this._counter++,this._counter.toString()},M}(),O=function(){function M(me){var ye=this;this._textEditChanges=Object.create(null),me!==void 0?(this._workspaceEdit=me,me.documentChanges?(this._changeAnnotations=new j(me.changeAnnotations),me.changeAnnotations=this._changeAnnotations.all(),me.documentChanges.forEach(function(Y){if(de.is(Y)){var L=new J(Y.edits,ye._changeAnnotations);ye._textEditChanges[Y.textDocument.uri]=L}})):me.changes&&Object.keys(me.changes).forEach(function(Y){var L=new J(me.changes[Y]);ye._textEditChanges[Y]=L})):this._workspaceEdit={}}return o(M,"WorkspaceChange"),Object.defineProperty(M.prototype,"edit",{get:o(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),M.prototype.getTextEditChange=function(me){if(ae.is(me)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var ye={uri:me.uri,version:me.version},Y=this._textEditChanges[ye.uri];if(!Y){var L=[],Te={textDocument:ye,edits:L};this._workspaceEdit.documentChanges.push(Te),Y=new J(L,this._changeAnnotations),this._textEditChanges[ye.uri]=Y}return Y}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var Y=this._textEditChanges[me];if(!Y){var L=[];this._workspaceEdit.changes[me]=L,Y=new J(L),this._textEditChanges[me]=Y}return Y}},M.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new j,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},M.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},M.prototype.createFile=function(me,ye,Y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;F.is(ye)||W.is(ye)?L=ye:Y=ye;var Te,Oe;if(L===void 0?Te=re.create(me,Y):(Oe=W.is(L)?L:this._changeAnnotations.manage(L),Te=re.create(me,Y,Oe)),this._workspaceEdit.documentChanges.push(Te),Oe!==void 0)return Oe},M.prototype.renameFile=function(me,ye,Y,L){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Te;F.is(Y)||W.is(Y)?Te=Y:L=Y;var Oe,xt;if(Te===void 0?Oe=G.create(me,ye,L):(xt=W.is(Te)?Te:this._changeAnnotations.manage(Te),Oe=G.create(me,ye,L,xt)),this._workspaceEdit.documentChanges.push(Oe),xt!==void 0)return xt},M.prototype.deleteFile=function(me,ye,Y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;F.is(ye)||W.is(ye)?L=ye:Y=ye;var Te,Oe;if(L===void 0?Te=U.create(me,Y):(Oe=W.is(L)?L:this._changeAnnotations.manage(L),Te=U.create(me,Y,Oe)),this._workspaceEdit.documentChanges.push(Te),Oe!==void 0)return Oe},M}();t.WorkspaceChange=O;var V;(function(M){function me(Y){return{uri:Y}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.defined(L)&&Ie.string(L.uri)}o(ye,"is"),M.is=ye})(V||(t.TextDocumentIdentifier=V={}));var Z;(function(M){function me(Y,L){return{uri:Y,version:L}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.defined(L)&&Ie.string(L.uri)&&Ie.integer(L.version)}o(ye,"is"),M.is=ye})(Z||(t.VersionedTextDocumentIdentifier=Z={}));var ae;(function(M){function me(Y,L){return{uri:Y,version:L}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.defined(L)&&Ie.string(L.uri)&&(L.version===null||Ie.integer(L.version))}o(ye,"is"),M.is=ye})(ae||(t.OptionalVersionedTextDocumentIdentifier=ae={}));var te;(function(M){function me(Y,L,Te,Oe){return{uri:Y,languageId:L,version:Te,text:Oe}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.defined(L)&&Ie.string(L.uri)&&Ie.string(L.languageId)&&Ie.integer(L.version)&&Ie.string(L.text)}o(ye,"is"),M.is=ye})(te||(t.TextDocumentItem=te={}));var le;(function(M){M.PlainText="plaintext",M.Markdown="markdown";function me(ye){var Y=ye;return Y===M.PlainText||Y===M.Markdown}o(me,"is"),M.is=me})(le||(t.MarkupKind=le={}));var fe;(function(M){function me(ye){var Y=ye;return Ie.objectLiteral(ye)&&le.is(Y.kind)&&Ie.string(Y.value)}o(me,"is"),M.is=me})(fe||(t.MarkupContent=fe={}));var De;(function(M){M.Text=1,M.Method=2,M.Function=3,M.Constructor=4,M.Field=5,M.Variable=6,M.Class=7,M.Interface=8,M.Module=9,M.Property=10,M.Unit=11,M.Value=12,M.Enum=13,M.Keyword=14,M.Snippet=15,M.Color=16,M.File=17,M.Reference=18,M.Folder=19,M.EnumMember=20,M.Constant=21,M.Struct=22,M.Event=23,M.Operator=24,M.TypeParameter=25})(De||(t.CompletionItemKind=De={}));var ve;(function(M){M.PlainText=1,M.Snippet=2})(ve||(t.InsertTextFormat=ve={}));var Ue;(function(M){M.Deprecated=1})(Ue||(t.CompletionItemTag=Ue={}));var ke;(function(M){function me(Y,L,Te){return{newText:Y,insert:L,replace:Te}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return L&&Ie.string(L.newText)&&l.is(L.insert)&&l.is(L.replace)}o(ye,"is"),M.is=ye})(ke||(t.InsertReplaceEdit=ke={}));var Ze;(function(M){M.asIs=1,M.adjustIndentation=2})(Ze||(t.InsertTextMode=Ze={}));var ft;(function(M){function me(ye){var Y=ye;return Y&&(Ie.string(Y.detail)||Y.detail===void 0)&&(Ie.string(Y.description)||Y.description===void 0)}o(me,"is"),M.is=me})(ft||(t.CompletionItemLabelDetails=ft={}));var at;(function(M){function me(ye){return{label:ye}}o(me,"create"),M.create=me})(at||(t.CompletionItem=at={}));var lt;(function(M){function me(ye,Y){return{items:ye||[],isIncomplete:!!Y}}o(me,"create"),M.create=me})(lt||(t.CompletionList=lt={}));var ie;(function(M){function me(Y){return Y.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(me,"fromPlainText"),M.fromPlainText=me;function ye(Y){var L=Y;return Ie.string(L)||Ie.objectLiteral(L)&&Ie.string(L.language)&&Ie.string(L.value)}o(ye,"is"),M.is=ye})(ie||(t.MarkedString=ie={}));var Fe;(function(M){function me(ye){var Y=ye;return!!Y&&Ie.objectLiteral(Y)&&(fe.is(Y.contents)||ie.is(Y.contents)||Ie.typedArray(Y.contents,ie.is))&&(ye.range===void 0||l.is(ye.range))}o(me,"is"),M.is=me})(Fe||(t.Hover=Fe={}));var Ae;(function(M){function me(ye,Y){return Y?{label:ye,documentation:Y}:{label:ye}}o(me,"create"),M.create=me})(Ae||(t.ParameterInformation=Ae={}));var Ge;(function(M){function me(ye,Y){for(var L=[],Te=2;Te<arguments.length;Te++)L[Te-2]=arguments[Te];var Oe={label:ye};return Ie.defined(Y)&&(Oe.documentation=Y),Ie.defined(L)?Oe.parameters=L:Oe.parameters=[],Oe}o(me,"create"),M.create=me})(Ge||(t.SignatureInformation=Ge={}));var z;(function(M){M.Text=1,M.Read=2,M.Write=3})(z||(t.DocumentHighlightKind=z={}));var ee;(function(M){function me(ye,Y){var L={range:ye};return Ie.number(Y)&&(L.kind=Y),L}o(me,"create"),M.create=me})(ee||(t.DocumentHighlight=ee={}));var Le;(function(M){M.File=1,M.Module=2,M.Namespace=3,M.Package=4,M.Class=5,M.Method=6,M.Property=7,M.Field=8,M.Constructor=9,M.Enum=10,M.Interface=11,M.Function=12,M.Variable=13,M.Constant=14,M.String=15,M.Number=16,M.Boolean=17,M.Array=18,M.Object=19,M.Key=20,M.Null=21,M.EnumMember=22,M.Struct=23,M.Event=24,M.Operator=25,M.TypeParameter=26})(Le||(t.SymbolKind=Le={}));var Se;(function(M){M.Deprecated=1})(Se||(t.SymbolTag=Se={}));var Ce;(function(M){function me(ye,Y,L,Te,Oe){var xt={name:ye,kind:Y,location:{uri:Te,range:L}};return Oe&&(xt.containerName=Oe),xt}o(me,"create"),M.create=me})(Ce||(t.SymbolInformation=Ce={}));var qe;(function(M){function me(ye,Y,L,Te){return Te!==void 0?{name:ye,kind:Y,location:{uri:L,range:Te}}:{name:ye,kind:Y,location:{uri:L}}}o(me,"create"),M.create=me})(qe||(t.WorkspaceSymbol=qe={}));var Ve;(function(M){function me(Y,L,Te,Oe,xt,Wt){var Nt={name:Y,detail:L,kind:Te,range:Oe,selectionRange:xt};return Wt!==void 0&&(Nt.children=Wt),Nt}o(me,"create"),M.create=me;function ye(Y){var L=Y;return L&&Ie.string(L.name)&&Ie.number(L.kind)&&l.is(L.range)&&l.is(L.selectionRange)&&(L.detail===void 0||Ie.string(L.detail))&&(L.deprecated===void 0||Ie.boolean(L.deprecated))&&(L.children===void 0||Array.isArray(L.children))&&(L.tags===void 0||Array.isArray(L.tags))}o(ye,"is"),M.is=ye})(Ve||(t.DocumentSymbol=Ve={}));var tt;(function(M){M.Empty="",M.QuickFix="quickfix",M.Refactor="refactor",M.RefactorExtract="refactor.extract",M.RefactorInline="refactor.inline",M.RefactorRewrite="refactor.rewrite",M.Source="source",M.SourceOrganizeImports="source.organizeImports",M.SourceFixAll="source.fixAll"})(tt||(t.CodeActionKind=tt={}));var Ct;(function(M){M.Invoked=1,M.Automatic=2})(Ct||(t.CodeActionTriggerKind=Ct={}));var Pt;(function(M){function me(Y,L,Te){var Oe={diagnostics:Y};return L!=null&&(Oe.only=L),Te!=null&&(Oe.triggerKind=Te),Oe}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.defined(L)&&Ie.typedArray(L.diagnostics,_.is)&&(L.only===void 0||Ie.typedArray(L.only,Ie.string))&&(L.triggerKind===void 0||L.triggerKind===Ct.Invoked||L.triggerKind===Ct.Automatic)}o(ye,"is"),M.is=ye})(Pt||(t.CodeActionContext=Pt={}));var yt;(function(M){function me(Y,L,Te){var Oe={title:Y},xt=!0;return typeof L=="string"?(xt=!1,Oe.kind=L):R.is(L)?Oe.command=L:Oe.edit=L,xt&&Te!==void 0&&(Oe.kind=Te),Oe}o(me,"create"),M.create=me;function ye(Y){var L=Y;return L&&Ie.string(L.title)&&(L.diagnostics===void 0||Ie.typedArray(L.diagnostics,_.is))&&(L.kind===void 0||Ie.string(L.kind))&&(L.edit!==void 0||L.command!==void 0)&&(L.command===void 0||R.is(L.command))&&(L.isPreferred===void 0||Ie.boolean(L.isPreferred))&&(L.edit===void 0||ne.is(L.edit))}o(ye,"is"),M.is=ye})(yt||(t.CodeAction=yt={}));var $t;(function(M){function me(Y,L){var Te={range:Y};return Ie.defined(L)&&(Te.data=L),Te}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.defined(L)&&l.is(L.range)&&(Ie.undefined(L.command)||R.is(L.command))}o(ye,"is"),M.is=ye})($t||(t.CodeLens=$t={}));var Kt;(function(M){function me(Y,L){return{tabSize:Y,insertSpaces:L}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.defined(L)&&Ie.uinteger(L.tabSize)&&Ie.boolean(L.insertSpaces)}o(ye,"is"),M.is=ye})(Kt||(t.FormattingOptions=Kt={}));var sr;(function(M){function me(Y,L,Te){return{range:Y,target:L,data:Te}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.defined(L)&&l.is(L.range)&&(Ie.undefined(L.target)||Ie.string(L.target))}o(ye,"is"),M.is=ye})(sr||(t.DocumentLink=sr={}));var ge;(function(M){function me(Y,L){return{range:Y,parent:L}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.objectLiteral(L)&&l.is(L.range)&&(L.parent===void 0||M.is(L.parent))}o(ye,"is"),M.is=ye})(ge||(t.SelectionRange=ge={}));var Qe;(function(M){M.namespace="namespace",M.type="type",M.class="class",M.enum="enum",M.interface="interface",M.struct="struct",M.typeParameter="typeParameter",M.parameter="parameter",M.variable="variable",M.property="property",M.enumMember="enumMember",M.event="event",M.function="function",M.method="method",M.macro="macro",M.keyword="keyword",M.modifier="modifier",M.comment="comment",M.string="string",M.number="number",M.regexp="regexp",M.operator="operator",M.decorator="decorator"})(Qe||(t.SemanticTokenTypes=Qe={}));var Je;(function(M){M.declaration="declaration",M.definition="definition",M.readonly="readonly",M.static="static",M.deprecated="deprecated",M.abstract="abstract",M.async="async",M.modification="modification",M.documentation="documentation",M.defaultLibrary="defaultLibrary"})(Je||(t.SemanticTokenModifiers=Je={}));var rt;(function(M){function me(ye){var Y=ye;return Ie.objectLiteral(Y)&&(Y.resultId===void 0||typeof Y.resultId=="string")&&Array.isArray(Y.data)&&(Y.data.length===0||typeof Y.data[0]=="number")}o(me,"is"),M.is=me})(rt||(t.SemanticTokens=rt={}));var St;(function(M){function me(Y,L){return{range:Y,text:L}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return L!=null&&l.is(L.range)&&Ie.string(L.text)}o(ye,"is"),M.is=ye})(St||(t.InlineValueText=St={}));var bt;(function(M){function me(Y,L,Te){return{range:Y,variableName:L,caseSensitiveLookup:Te}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return L!=null&&l.is(L.range)&&Ie.boolean(L.caseSensitiveLookup)&&(Ie.string(L.variableName)||L.variableName===void 0)}o(ye,"is"),M.is=ye})(bt||(t.InlineValueVariableLookup=bt={}));var Qt;(function(M){function me(Y,L){return{range:Y,expression:L}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return L!=null&&l.is(L.range)&&(Ie.string(L.expression)||L.expression===void 0)}o(ye,"is"),M.is=ye})(Qt||(t.InlineValueEvaluatableExpression=Qt={}));var Ot;(function(M){function me(Y,L){return{frameId:Y,stoppedLocation:L}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.defined(L)&&l.is(Y.stoppedLocation)}o(ye,"is"),M.is=ye})(Ot||(t.InlineValueContext=Ot={}));var wt;(function(M){M.Type=1,M.Parameter=2;function me(ye){return ye===1||ye===2}o(me,"is"),M.is=me})(wt||(t.InlayHintKind=wt={}));var kt;(function(M){function me(Y){return{value:Y}}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.objectLiteral(L)&&(L.tooltip===void 0||Ie.string(L.tooltip)||fe.is(L.tooltip))&&(L.location===void 0||c.is(L.location))&&(L.command===void 0||R.is(L.command))}o(ye,"is"),M.is=ye})(kt||(t.InlayHintLabelPart=kt={}));var _t;(function(M){function me(Y,L,Te){var Oe={position:Y,label:L};return Te!==void 0&&(Oe.kind=Te),Oe}o(me,"create"),M.create=me;function ye(Y){var L=Y;return Ie.objectLiteral(L)&&a.is(L.position)&&(Ie.string(L.label)||Ie.typedArray(L.label,kt.is))&&(L.kind===void 0||wt.is(L.kind))&&L.textEdits===void 0||Ie.typedArray(L.textEdits,P.is)&&(L.tooltip===void 0||Ie.string(L.tooltip)||fe.is(L.tooltip))&&(L.paddingLeft===void 0||Ie.boolean(L.paddingLeft))&&(L.paddingRight===void 0||Ie.boolean(L.paddingRight))}o(ye,"is"),M.is=ye})(_t||(t.InlayHint=_t={}));var qt;(function(M){function me(ye){return{kind:"snippet",value:ye}}o(me,"createSnippet"),M.createSnippet=me})(qt||(t.StringValue=qt={}));var Ht;(function(M){function me(ye,Y,L,Te){return{insertText:ye,filterText:Y,range:L,command:Te}}o(me,"create"),M.create=me})(Ht||(t.InlineCompletionItem=Ht={}));var Jt;(function(M){function me(ye){return{items:ye}}o(me,"create"),M.create=me})(Jt||(t.InlineCompletionList=Jt={}));var ur;(function(M){M.Invoked=0,M.Automatic=1})(ur||(t.InlineCompletionTriggerKind=ur={}));var gr;(function(M){function me(ye,Y){return{range:ye,text:Y}}o(me,"create"),M.create=me})(gr||(t.SelectedCompletionInfo=gr={}));var lr;(function(M){function me(ye,Y){return{triggerKind:ye,selectedCompletionInfo:Y}}o(me,"create"),M.create=me})(lr||(t.InlineCompletionContext=lr={}));var fr;(function(M){function me(ye){var Y=ye;return Ie.objectLiteral(Y)&&n.is(Y.uri)&&Ie.string(Y.name)}o(me,"is"),M.is=me})(fr||(t.WorkspaceFolder=fr={})),t.EOL=[`
`,`\r
`,"\r"];var rr;(function(M){function me(Te,Oe,xt,Wt){return new dr(Te,Oe,xt,Wt)}o(me,"create"),M.create=me;function ye(Te){var Oe=Te;return!!(Ie.defined(Oe)&&Ie.string(Oe.uri)&&(Ie.undefined(Oe.languageId)||Ie.string(Oe.languageId))&&Ie.uinteger(Oe.lineCount)&&Ie.func(Oe.getText)&&Ie.func(Oe.positionAt)&&Ie.func(Oe.offsetAt))}o(ye,"is"),M.is=ye;function Y(Te,Oe){for(var xt=Te.getText(),Wt=L(Oe,function(cr,zo){var lm=cr.range.start.line-zo.range.start.line;return lm===0?cr.range.start.character-zo.range.start.character:lm}),Nt=xt.length,ir=Wt.length-1;ir>=0;ir--){var ar=Wt[ir],Ut=Te.offsetAt(ar.range.start),It=Te.offsetAt(ar.range.end);if(It<=Nt)xt=xt.substring(0,Ut)+ar.newText+xt.substring(It,xt.length);else throw new Error("Overlapping edit");Nt=Ut}return xt}o(Y,"applyEdits"),M.applyEdits=Y;function L(Te,Oe){if(Te.length<=1)return Te;var xt=Te.length/2|0,Wt=Te.slice(0,xt),Nt=Te.slice(xt);L(Wt,Oe),L(Nt,Oe);for(var ir=0,ar=0,Ut=0;ir<Wt.length&&ar<Nt.length;){var It=Oe(Wt[ir],Nt[ar]);It<=0?Te[Ut++]=Wt[ir++]:Te[Ut++]=Nt[ar++]}for(;ir<Wt.length;)Te[Ut++]=Wt[ir++];for(;ar<Nt.length;)Te[Ut++]=Nt[ar++];return Te}o(L,"mergeSort")})(rr||(t.TextDocument=rr={}));var dr=function(){function M(me,ye,Y,L){this._uri=me,this._languageId=ye,this._version=Y,this._content=L,this._lineOffsets=void 0}return o(M,"FullTextDocument"),Object.defineProperty(M.prototype,"uri",{get:o(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"languageId",{get:o(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"version",{get:o(function(){return this._version},"get"),enumerable:!1,configurable:!0}),M.prototype.getText=function(me){if(me){var ye=this.offsetAt(me.start),Y=this.offsetAt(me.end);return this._content.substring(ye,Y)}return this._content},M.prototype.update=function(me,ye){this._content=me.text,this._version=ye,this._lineOffsets=void 0},M.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var me=[],ye=this._content,Y=!0,L=0;L<ye.length;L++){Y&&(me.push(L),Y=!1);var Te=ye.charAt(L);Y=Te==="\r"||Te===`
`,Te==="\r"&&L+1<ye.length&&ye.charAt(L+1)===`
`&&L++}Y&&ye.length>0&&me.push(ye.length),this._lineOffsets=me}return this._lineOffsets},M.prototype.positionAt=function(me){me=Math.max(Math.min(me,this._content.length),0);var ye=this.getLineOffsets(),Y=0,L=ye.length;if(L===0)return a.create(0,me);for(;Y<L;){var Te=Math.floor((Y+L)/2);ye[Te]>me?L=Te:Y=Te+1}var Oe=Y-1;return a.create(Oe,me-ye[Oe])},M.prototype.offsetAt=function(me){var ye=this.getLineOffsets();if(me.line>=ye.length)return this._content.length;if(me.line<0)return 0;var Y=ye[me.line],L=me.line+1<ye.length?ye[me.line+1]:this._content.length;return Math.max(Math.min(Y+me.character,L),Y)},Object.defineProperty(M.prototype,"lineCount",{get:o(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),M}(),Ie;(function(M){var me=Object.prototype.toString;function ye(It){return typeof It<"u"}o(ye,"defined"),M.defined=ye;function Y(It){return typeof It>"u"}o(Y,"undefined"),M.undefined=Y;function L(It){return It===!0||It===!1}o(L,"boolean"),M.boolean=L;function Te(It){return me.call(It)==="[object String]"}o(Te,"string"),M.string=Te;function Oe(It){return me.call(It)==="[object Number]"}o(Oe,"number"),M.number=Oe;function xt(It,cr,zo){return me.call(It)==="[object Number]"&&cr<=It&&It<=zo}o(xt,"numberRange"),M.numberRange=xt;function Wt(It){return me.call(It)==="[object Number]"&&-2147483648<=It&&It<=2147483647}o(Wt,"integer"),M.integer=Wt;function Nt(It){return me.call(It)==="[object Number]"&&0<=It&&It<=2147483647}o(Nt,"uinteger"),M.uinteger=Nt;function ir(It){return me.call(It)==="[object Function]"}o(ir,"func"),M.func=ir;function ar(It){return It!==null&&typeof It=="object"}o(ar,"objectLiteral"),M.objectLiteral=ar;function Ut(It,cr){return Array.isArray(It)&&It.every(cr)}o(Ut,"typedArray"),M.typedArray=Ut})(Ie||(Ie={}))})});var ks=H(G0=>{"use strict";d();Object.defineProperty(G0,"__esModule",{value:!0});G0.ProtocolNotificationType=G0.ProtocolNotificationType0=G0.ProtocolRequestType=G0.ProtocolRequestType0=G0.RegistrationType=G0.MessageDirection=void 0;var GE=a4(),R1e;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(R1e||(G0.MessageDirection=R1e={}));var cJ=class{static{o(this,"RegistrationType")}constructor(t){this.method=t}};G0.RegistrationType=cJ;var uJ=class extends GE.RequestType0{static{o(this,"ProtocolRequestType0")}constructor(t){super(t)}};G0.ProtocolRequestType0=uJ;var fJ=class extends GE.RequestType{static{o(this,"ProtocolRequestType")}constructor(t){super(t,GE.ParameterStructures.byName)}};G0.ProtocolRequestType=fJ;var dJ=class extends GE.NotificationType0{static{o(this,"ProtocolNotificationType0")}constructor(t){super(t)}};G0.ProtocolNotificationType0=dJ;var mJ=class extends GE.NotificationType{static{o(this,"ProtocolNotificationType")}constructor(t){super(t,GE.ParameterStructures.byName)}};G0.ProtocolNotificationType=mJ});var aF=H(Ua=>{"use strict";d();Object.defineProperty(Ua,"__esModule",{value:!0});Ua.objectLiteral=Ua.typedArray=Ua.stringArray=Ua.array=Ua.func=Ua.error=Ua.number=Ua.string=Ua.boolean=void 0;function tXe(e){return e===!0||e===!1}o(tXe,"boolean");Ua.boolean=tXe;function B1e(e){return typeof e=="string"||e instanceof String}o(B1e,"string");Ua.string=B1e;function rXe(e){return typeof e=="number"||e instanceof Number}o(rXe,"number");Ua.number=rXe;function nXe(e){return e instanceof Error}o(nXe,"error");Ua.error=nXe;function iXe(e){return typeof e=="function"}o(iXe,"func");Ua.func=iXe;function D1e(e){return Array.isArray(e)}o(D1e,"array");Ua.array=D1e;function oXe(e){return D1e(e)&&e.every(t=>B1e(t))}o(oXe,"stringArray");Ua.stringArray=oXe;function sXe(e,t){return Array.isArray(e)&&e.every(t)}o(sXe,"typedArray");Ua.typedArray=sXe;function aXe(e){return e!==null&&typeof e=="object"}o(aXe,"objectLiteral");Ua.objectLiteral=aXe});var N1e=H(lF=>{"use strict";d();Object.defineProperty(lF,"__esModule",{value:!0});lF.ImplementationRequest=void 0;var P1e=ks(),F1e;(function(e){e.method="textDocument/implementation",e.messageDirection=P1e.MessageDirection.clientToServer,e.type=new P1e.ProtocolRequestType(e.method)})(F1e||(lF.ImplementationRequest=F1e={}))});var M1e=H(cF=>{"use strict";d();Object.defineProperty(cF,"__esModule",{value:!0});cF.TypeDefinitionRequest=void 0;var L1e=ks(),Q1e;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=L1e.MessageDirection.clientToServer,e.type=new L1e.ProtocolRequestType(e.method)})(Q1e||(cF.TypeDefinitionRequest=Q1e={}))});var q1e=H(HE=>{"use strict";d();Object.defineProperty(HE,"__esModule",{value:!0});HE.DidChangeWorkspaceFoldersNotification=HE.WorkspaceFoldersRequest=void 0;var uF=ks(),O1e;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=uF.MessageDirection.serverToClient,e.type=new uF.ProtocolRequestType0(e.method)})(O1e||(HE.WorkspaceFoldersRequest=O1e={}));var U1e;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=uF.MessageDirection.clientToServer,e.type=new uF.ProtocolNotificationType(e.method)})(U1e||(HE.DidChangeWorkspaceFoldersNotification=U1e={}))});var H1e=H(fF=>{"use strict";d();Object.defineProperty(fF,"__esModule",{value:!0});fF.ConfigurationRequest=void 0;var W1e=ks(),G1e;(function(e){e.method="workspace/configuration",e.messageDirection=W1e.MessageDirection.serverToClient,e.type=new W1e.ProtocolRequestType(e.method)})(G1e||(fF.ConfigurationRequest=G1e={}))});var $1e=H(jE=>{"use strict";d();Object.defineProperty(jE,"__esModule",{value:!0});jE.ColorPresentationRequest=jE.DocumentColorRequest=void 0;var dF=ks(),j1e;(function(e){e.method="textDocument/documentColor",e.messageDirection=dF.MessageDirection.clientToServer,e.type=new dF.ProtocolRequestType(e.method)})(j1e||(jE.DocumentColorRequest=j1e={}));var V1e;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=dF.MessageDirection.clientToServer,e.type=new dF.ProtocolRequestType(e.method)})(V1e||(jE.ColorPresentationRequest=V1e={}))});var K1e=H(VE=>{"use strict";d();Object.defineProperty(VE,"__esModule",{value:!0});VE.FoldingRangeRefreshRequest=VE.FoldingRangeRequest=void 0;var mF=ks(),z1e;(function(e){e.method="textDocument/foldingRange",e.messageDirection=mF.MessageDirection.clientToServer,e.type=new mF.ProtocolRequestType(e.method)})(z1e||(VE.FoldingRangeRequest=z1e={}));var Y1e;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=mF.MessageDirection.serverToClient,e.type=new mF.ProtocolRequestType0(e.method)})(Y1e||(VE.FoldingRangeRefreshRequest=Y1e={}))});var X1e=H(hF=>{"use strict";d();Object.defineProperty(hF,"__esModule",{value:!0});hF.DeclarationRequest=void 0;var J1e=ks(),Z1e;(function(e){e.method="textDocument/declaration",e.messageDirection=J1e.MessageDirection.clientToServer,e.type=new J1e.ProtocolRequestType(e.method)})(Z1e||(hF.DeclarationRequest=Z1e={}))});var rAe=H(pF=>{"use strict";d();Object.defineProperty(pF,"__esModule",{value:!0});pF.SelectionRangeRequest=void 0;var eAe=ks(),tAe;(function(e){e.method="textDocument/selectionRange",e.messageDirection=eAe.MessageDirection.clientToServer,e.type=new eAe.ProtocolRequestType(e.method)})(tAe||(pF.SelectionRangeRequest=tAe={}))});var sAe=H(My=>{"use strict";d();Object.defineProperty(My,"__esModule",{value:!0});My.WorkDoneProgressCancelNotification=My.WorkDoneProgressCreateRequest=My.WorkDoneProgress=void 0;var lXe=a4(),gF=ks(),nAe;(function(e){e.type=new lXe.ProgressType;function t(r){return r===e.type}o(t,"is"),e.is=t})(nAe||(My.WorkDoneProgress=nAe={}));var iAe;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=gF.MessageDirection.serverToClient,e.type=new gF.ProtocolRequestType(e.method)})(iAe||(My.WorkDoneProgressCreateRequest=iAe={}));var oAe;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=gF.MessageDirection.clientToServer,e.type=new gF.ProtocolNotificationType(e.method)})(oAe||(My.WorkDoneProgressCancelNotification=oAe={}))});var uAe=H(Oy=>{"use strict";d();Object.defineProperty(Oy,"__esModule",{value:!0});Oy.CallHierarchyOutgoingCallsRequest=Oy.CallHierarchyIncomingCallsRequest=Oy.CallHierarchyPrepareRequest=void 0;var $E=ks(),aAe;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=$E.MessageDirection.clientToServer,e.type=new $E.ProtocolRequestType(e.method)})(aAe||(Oy.CallHierarchyPrepareRequest=aAe={}));var lAe;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=$E.MessageDirection.clientToServer,e.type=new $E.ProtocolRequestType(e.method)})(lAe||(Oy.CallHierarchyIncomingCallsRequest=lAe={}));var cAe;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=$E.MessageDirection.clientToServer,e.type=new $E.ProtocolRequestType(e.method)})(cAe||(Oy.CallHierarchyOutgoingCallsRequest=cAe={}))});var gAe=H(H0=>{"use strict";d();Object.defineProperty(H0,"__esModule",{value:!0});H0.SemanticTokensRefreshRequest=H0.SemanticTokensRangeRequest=H0.SemanticTokensDeltaRequest=H0.SemanticTokensRequest=H0.SemanticTokensRegistrationType=H0.TokenFormat=void 0;var F1=ks(),fAe;(function(e){e.Relative="relative"})(fAe||(H0.TokenFormat=fAe={}));var iw;(function(e){e.method="textDocument/semanticTokens",e.type=new F1.RegistrationType(e.method)})(iw||(H0.SemanticTokensRegistrationType=iw={}));var dAe;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=F1.MessageDirection.clientToServer,e.type=new F1.ProtocolRequestType(e.method),e.registrationMethod=iw.method})(dAe||(H0.SemanticTokensRequest=dAe={}));var mAe;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=F1.MessageDirection.clientToServer,e.type=new F1.ProtocolRequestType(e.method),e.registrationMethod=iw.method})(mAe||(H0.SemanticTokensDeltaRequest=mAe={}));var hAe;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=F1.MessageDirection.clientToServer,e.type=new F1.ProtocolRequestType(e.method),e.registrationMethod=iw.method})(hAe||(H0.SemanticTokensRangeRequest=hAe={}));var pAe;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=F1.MessageDirection.serverToClient,e.type=new F1.ProtocolRequestType0(e.method)})(pAe||(H0.SemanticTokensRefreshRequest=pAe={}))});var CAe=H(AF=>{"use strict";d();Object.defineProperty(AF,"__esModule",{value:!0});AF.ShowDocumentRequest=void 0;var AAe=ks(),yAe;(function(e){e.method="window/showDocument",e.messageDirection=AAe.MessageDirection.serverToClient,e.type=new AAe.ProtocolRequestType(e.method)})(yAe||(AF.ShowDocumentRequest=yAe={}))});var bAe=H(yF=>{"use strict";d();Object.defineProperty(yF,"__esModule",{value:!0});yF.LinkedEditingRangeRequest=void 0;var xAe=ks(),vAe;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=xAe.MessageDirection.clientToServer,e.type=new xAe.ProtocolRequestType(e.method)})(vAe||(yF.LinkedEditingRangeRequest=vAe={}))});var RAe=H(Rc=>{"use strict";d();Object.defineProperty(Rc,"__esModule",{value:!0});Rc.WillDeleteFilesRequest=Rc.DidDeleteFilesNotification=Rc.DidRenameFilesNotification=Rc.WillRenameFilesRequest=Rc.DidCreateFilesNotification=Rc.WillCreateFilesRequest=Rc.FileOperationPatternKind=void 0;var sd=ks(),EAe;(function(e){e.file="file",e.folder="folder"})(EAe||(Rc.FileOperationPatternKind=EAe={}));var IAe;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=sd.MessageDirection.clientToServer,e.type=new sd.ProtocolRequestType(e.method)})(IAe||(Rc.WillCreateFilesRequest=IAe={}));var TAe;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=sd.MessageDirection.clientToServer,e.type=new sd.ProtocolNotificationType(e.method)})(TAe||(Rc.DidCreateFilesNotification=TAe={}));var wAe;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=sd.MessageDirection.clientToServer,e.type=new sd.ProtocolRequestType(e.method)})(wAe||(Rc.WillRenameFilesRequest=wAe={}));var _Ae;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=sd.MessageDirection.clientToServer,e.type=new sd.ProtocolNotificationType(e.method)})(_Ae||(Rc.DidRenameFilesNotification=_Ae={}));var SAe;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=sd.MessageDirection.clientToServer,e.type=new sd.ProtocolNotificationType(e.method)})(SAe||(Rc.DidDeleteFilesNotification=SAe={}));var kAe;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=sd.MessageDirection.clientToServer,e.type=new sd.ProtocolRequestType(e.method)})(kAe||(Rc.WillDeleteFilesRequest=kAe={}))});var NAe=H(Uy=>{"use strict";d();Object.defineProperty(Uy,"__esModule",{value:!0});Uy.MonikerRequest=Uy.MonikerKind=Uy.UniquenessLevel=void 0;var BAe=ks(),DAe;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(DAe||(Uy.UniquenessLevel=DAe={}));var PAe;(function(e){e.$import="import",e.$export="export",e.local="local"})(PAe||(Uy.MonikerKind=PAe={}));var FAe;(function(e){e.method="textDocument/moniker",e.messageDirection=BAe.MessageDirection.clientToServer,e.type=new BAe.ProtocolRequestType(e.method)})(FAe||(Uy.MonikerRequest=FAe={}))});var OAe=H(qy=>{"use strict";d();Object.defineProperty(qy,"__esModule",{value:!0});qy.TypeHierarchySubtypesRequest=qy.TypeHierarchySupertypesRequest=qy.TypeHierarchyPrepareRequest=void 0;var zE=ks(),LAe;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=zE.MessageDirection.clientToServer,e.type=new zE.ProtocolRequestType(e.method)})(LAe||(qy.TypeHierarchyPrepareRequest=LAe={}));var QAe;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=zE.MessageDirection.clientToServer,e.type=new zE.ProtocolRequestType(e.method)})(QAe||(qy.TypeHierarchySupertypesRequest=QAe={}));var MAe;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=zE.MessageDirection.clientToServer,e.type=new zE.ProtocolRequestType(e.method)})(MAe||(qy.TypeHierarchySubtypesRequest=MAe={}))});var WAe=H(YE=>{"use strict";d();Object.defineProperty(YE,"__esModule",{value:!0});YE.InlineValueRefreshRequest=YE.InlineValueRequest=void 0;var CF=ks(),UAe;(function(e){e.method="textDocument/inlineValue",e.messageDirection=CF.MessageDirection.clientToServer,e.type=new CF.ProtocolRequestType(e.method)})(UAe||(YE.InlineValueRequest=UAe={}));var qAe;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=CF.MessageDirection.serverToClient,e.type=new CF.ProtocolRequestType0(e.method)})(qAe||(YE.InlineValueRefreshRequest=qAe={}))});var VAe=H(Wy=>{"use strict";d();Object.defineProperty(Wy,"__esModule",{value:!0});Wy.InlayHintRefreshRequest=Wy.InlayHintResolveRequest=Wy.InlayHintRequest=void 0;var KE=ks(),GAe;(function(e){e.method="textDocument/inlayHint",e.messageDirection=KE.MessageDirection.clientToServer,e.type=new KE.ProtocolRequestType(e.method)})(GAe||(Wy.InlayHintRequest=GAe={}));var HAe;(function(e){e.method="inlayHint/resolve",e.messageDirection=KE.MessageDirection.clientToServer,e.type=new KE.ProtocolRequestType(e.method)})(HAe||(Wy.InlayHintResolveRequest=HAe={}));var jAe;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=KE.MessageDirection.serverToClient,e.type=new KE.ProtocolRequestType0(e.method)})(jAe||(Wy.InlayHintRefreshRequest=jAe={}))});var XAe=H(ad=>{"use strict";d();Object.defineProperty(ad,"__esModule",{value:!0});ad.DiagnosticRefreshRequest=ad.WorkspaceDiagnosticRequest=ad.DocumentDiagnosticRequest=ad.DocumentDiagnosticReportKind=ad.DiagnosticServerCancellationData=void 0;var ZAe=a4(),cXe=aF(),JE=ks(),$Ae;(function(e){function t(r){let n=r;return n&&cXe.boolean(n.retriggerRequest)}o(t,"is"),e.is=t})($Ae||(ad.DiagnosticServerCancellationData=$Ae={}));var zAe;(function(e){e.Full="full",e.Unchanged="unchanged"})(zAe||(ad.DocumentDiagnosticReportKind=zAe={}));var YAe;(function(e){e.method="textDocument/diagnostic",e.messageDirection=JE.MessageDirection.clientToServer,e.type=new JE.ProtocolRequestType(e.method),e.partialResult=new ZAe.ProgressType})(YAe||(ad.DocumentDiagnosticRequest=YAe={}));var KAe;(function(e){e.method="workspace/diagnostic",e.messageDirection=JE.MessageDirection.clientToServer,e.type=new JE.ProtocolRequestType(e.method),e.partialResult=new ZAe.ProgressType})(KAe||(ad.WorkspaceDiagnosticRequest=KAe={}));var JAe;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=JE.MessageDirection.serverToClient,e.type=new JE.ProtocolRequestType0(e.method)})(JAe||(ad.DiagnosticRefreshRequest=JAe={}))});var s2e=H(Js=>{"use strict";d();Object.defineProperty(Js,"__esModule",{value:!0});Js.DidCloseNotebookDocumentNotification=Js.DidSaveNotebookDocumentNotification=Js.DidChangeNotebookDocumentNotification=Js.NotebookCellArrayChange=Js.DidOpenNotebookDocumentNotification=Js.NotebookDocumentSyncRegistrationType=Js.NotebookDocument=Js.NotebookCell=Js.ExecutionSummary=Js.NotebookCellKind=void 0;var ow=sF(),Um=aF(),Sp=ks(),hJ;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(hJ||(Js.NotebookCellKind=hJ={}));var pJ;(function(e){function t(i,s){let a={executionOrder:i};return(s===!0||s===!1)&&(a.success=s),a}o(t,"create"),e.create=t;function r(i){let s=i;return Um.objectLiteral(s)&&ow.uinteger.is(s.executionOrder)&&(s.success===void 0||Um.boolean(s.success))}o(r,"is"),e.is=r;function n(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}o(n,"equals"),e.equals=n})(pJ||(Js.ExecutionSummary=pJ={}));var xF;(function(e){function t(s,a){return{kind:s,document:a}}o(t,"create"),e.create=t;function r(s){let a=s;return Um.objectLiteral(a)&&hJ.is(a.kind)&&ow.DocumentUri.is(a.document)&&(a.metadata===void 0||Um.objectLiteral(a.metadata))}o(r,"is"),e.is=r;function n(s,a){let l=new Set;return s.document!==a.document&&l.add("document"),s.kind!==a.kind&&l.add("kind"),s.executionSummary!==a.executionSummary&&l.add("executionSummary"),(s.metadata!==void 0||a.metadata!==void 0)&&!i(s.metadata,a.metadata)&&l.add("metadata"),(s.executionSummary!==void 0||a.executionSummary!==void 0)&&!pJ.equals(s.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}o(n,"diff"),e.diff=n;function i(s,a){if(s===a)return!0;if(s==null||a===null||a===void 0||typeof s!=typeof a||typeof s!="object")return!1;let l=Array.isArray(s),c=Array.isArray(a);if(l!==c)return!1;if(l&&c){if(s.length!==a.length)return!1;for(let u=0;u<s.length;u++)if(!i(s[u],a[u]))return!1}if(Um.objectLiteral(s)&&Um.objectLiteral(a)){let u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length||(u.sort(),f.sort(),!i(u,f)))return!1;for(let m=0;m<u.length;m++){let h=u[m];if(!i(s[h],a[h]))return!1}}return!0}o(i,"equalsMetadata")})(xF||(Js.NotebookCell=xF={}));var e2e;(function(e){function t(n,i,s,a){return{uri:n,notebookType:i,version:s,cells:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Um.objectLiteral(i)&&Um.string(i.uri)&&ow.integer.is(i.version)&&Um.typedArray(i.cells,xF.is)}o(r,"is"),e.is=r})(e2e||(Js.NotebookDocument=e2e={}));var ZE;(function(e){e.method="notebookDocument/sync",e.messageDirection=Sp.MessageDirection.clientToServer,e.type=new Sp.RegistrationType(e.method)})(ZE||(Js.NotebookDocumentSyncRegistrationType=ZE={}));var t2e;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Sp.MessageDirection.clientToServer,e.type=new Sp.ProtocolNotificationType(e.method),e.registrationMethod=ZE.method})(t2e||(Js.DidOpenNotebookDocumentNotification=t2e={}));var r2e;(function(e){function t(n){let i=n;return Um.objectLiteral(i)&&ow.uinteger.is(i.start)&&ow.uinteger.is(i.deleteCount)&&(i.cells===void 0||Um.typedArray(i.cells,xF.is))}o(t,"is"),e.is=t;function r(n,i,s){let a={start:n,deleteCount:i};return s!==void 0&&(a.cells=s),a}o(r,"create"),e.create=r})(r2e||(Js.NotebookCellArrayChange=r2e={}));var n2e;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Sp.MessageDirection.clientToServer,e.type=new Sp.ProtocolNotificationType(e.method),e.registrationMethod=ZE.method})(n2e||(Js.DidChangeNotebookDocumentNotification=n2e={}));var i2e;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Sp.MessageDirection.clientToServer,e.type=new Sp.ProtocolNotificationType(e.method),e.registrationMethod=ZE.method})(i2e||(Js.DidSaveNotebookDocumentNotification=i2e={}));var o2e;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Sp.MessageDirection.clientToServer,e.type=new Sp.ProtocolNotificationType(e.method),e.registrationMethod=ZE.method})(o2e||(Js.DidCloseNotebookDocumentNotification=o2e={}))});var c2e=H(vF=>{"use strict";d();Object.defineProperty(vF,"__esModule",{value:!0});vF.InlineCompletionRequest=void 0;var a2e=ks(),l2e;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=a2e.MessageDirection.clientToServer,e.type=new a2e.ProtocolRequestType(e.method)})(l2e||(vF.InlineCompletionRequest=l2e={}))});var bye=H(Ee=>{"use strict";d();Object.defineProperty(Ee,"__esModule",{value:!0});Ee.WorkspaceSymbolRequest=Ee.CodeActionResolveRequest=Ee.CodeActionRequest=Ee.DocumentSymbolRequest=Ee.DocumentHighlightRequest=Ee.ReferencesRequest=Ee.DefinitionRequest=Ee.SignatureHelpRequest=Ee.SignatureHelpTriggerKind=Ee.HoverRequest=Ee.CompletionResolveRequest=Ee.CompletionRequest=Ee.CompletionTriggerKind=Ee.PublishDiagnosticsNotification=Ee.WatchKind=Ee.RelativePattern=Ee.FileChangeType=Ee.DidChangeWatchedFilesNotification=Ee.WillSaveTextDocumentWaitUntilRequest=Ee.WillSaveTextDocumentNotification=Ee.TextDocumentSaveReason=Ee.DidSaveTextDocumentNotification=Ee.DidCloseTextDocumentNotification=Ee.DidChangeTextDocumentNotification=Ee.TextDocumentContentChangeEvent=Ee.DidOpenTextDocumentNotification=Ee.TextDocumentSyncKind=Ee.TelemetryEventNotification=Ee.LogMessageNotification=Ee.ShowMessageRequest=Ee.ShowMessageNotification=Ee.MessageType=Ee.DidChangeConfigurationNotification=Ee.ExitNotification=Ee.ShutdownRequest=Ee.InitializedNotification=Ee.InitializeErrorCodes=Ee.InitializeRequest=Ee.WorkDoneProgressOptions=Ee.TextDocumentRegistrationOptions=Ee.StaticRegistrationOptions=Ee.PositionEncodingKind=Ee.FailureHandlingKind=Ee.ResourceOperationKind=Ee.UnregistrationRequest=Ee.RegistrationRequest=Ee.DocumentSelector=Ee.NotebookCellTextDocumentFilter=Ee.NotebookDocumentFilter=Ee.TextDocumentFilter=void 0;Ee.MonikerRequest=Ee.MonikerKind=Ee.UniquenessLevel=Ee.WillDeleteFilesRequest=Ee.DidDeleteFilesNotification=Ee.WillRenameFilesRequest=Ee.DidRenameFilesNotification=Ee.WillCreateFilesRequest=Ee.DidCreateFilesNotification=Ee.FileOperationPatternKind=Ee.LinkedEditingRangeRequest=Ee.ShowDocumentRequest=Ee.SemanticTokensRegistrationType=Ee.SemanticTokensRefreshRequest=Ee.SemanticTokensRangeRequest=Ee.SemanticTokensDeltaRequest=Ee.SemanticTokensRequest=Ee.TokenFormat=Ee.CallHierarchyPrepareRequest=Ee.CallHierarchyOutgoingCallsRequest=Ee.CallHierarchyIncomingCallsRequest=Ee.WorkDoneProgressCancelNotification=Ee.WorkDoneProgressCreateRequest=Ee.WorkDoneProgress=Ee.SelectionRangeRequest=Ee.DeclarationRequest=Ee.FoldingRangeRefreshRequest=Ee.FoldingRangeRequest=Ee.ColorPresentationRequest=Ee.DocumentColorRequest=Ee.ConfigurationRequest=Ee.DidChangeWorkspaceFoldersNotification=Ee.WorkspaceFoldersRequest=Ee.TypeDefinitionRequest=Ee.ImplementationRequest=Ee.ApplyWorkspaceEditRequest=Ee.ExecuteCommandRequest=Ee.PrepareRenameRequest=Ee.RenameRequest=Ee.PrepareSupportDefaultBehavior=Ee.DocumentOnTypeFormattingRequest=Ee.DocumentRangesFormattingRequest=Ee.DocumentRangeFormattingRequest=Ee.DocumentFormattingRequest=Ee.DocumentLinkResolveRequest=Ee.DocumentLinkRequest=Ee.CodeLensRefreshRequest=Ee.CodeLensResolveRequest=Ee.CodeLensRequest=Ee.WorkspaceSymbolResolveRequest=void 0;Ee.InlineCompletionRequest=Ee.DidCloseNotebookDocumentNotification=Ee.DidSaveNotebookDocumentNotification=Ee.DidChangeNotebookDocumentNotification=Ee.NotebookCellArrayChange=Ee.DidOpenNotebookDocumentNotification=Ee.NotebookDocumentSyncRegistrationType=Ee.NotebookDocument=Ee.NotebookCell=Ee.ExecutionSummary=Ee.NotebookCellKind=Ee.DiagnosticRefreshRequest=Ee.WorkspaceDiagnosticRequest=Ee.DocumentDiagnosticRequest=Ee.DocumentDiagnosticReportKind=Ee.DiagnosticServerCancellationData=Ee.InlayHintRefreshRequest=Ee.InlayHintResolveRequest=Ee.InlayHintRequest=Ee.InlineValueRefreshRequest=Ee.InlineValueRequest=Ee.TypeHierarchySupertypesRequest=Ee.TypeHierarchySubtypesRequest=Ee.TypeHierarchyPrepareRequest=void 0;var Xt=ks(),u2e=sF(),Cl=aF(),uXe=N1e();Object.defineProperty(Ee,"ImplementationRequest",{enumerable:!0,get:o(function(){return uXe.ImplementationRequest},"get")});var fXe=M1e();Object.defineProperty(Ee,"TypeDefinitionRequest",{enumerable:!0,get:o(function(){return fXe.TypeDefinitionRequest},"get")});var yye=q1e();Object.defineProperty(Ee,"WorkspaceFoldersRequest",{enumerable:!0,get:o(function(){return yye.WorkspaceFoldersRequest},"get")});Object.defineProperty(Ee,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:o(function(){return yye.DidChangeWorkspaceFoldersNotification},"get")});var dXe=H1e();Object.defineProperty(Ee,"ConfigurationRequest",{enumerable:!0,get:o(function(){return dXe.ConfigurationRequest},"get")});var Cye=$1e();Object.defineProperty(Ee,"DocumentColorRequest",{enumerable:!0,get:o(function(){return Cye.DocumentColorRequest},"get")});Object.defineProperty(Ee,"ColorPresentationRequest",{enumerable:!0,get:o(function(){return Cye.ColorPresentationRequest},"get")});var xye=K1e();Object.defineProperty(Ee,"FoldingRangeRequest",{enumerable:!0,get:o(function(){return xye.FoldingRangeRequest},"get")});Object.defineProperty(Ee,"FoldingRangeRefreshRequest",{enumerable:!0,get:o(function(){return xye.FoldingRangeRefreshRequest},"get")});var mXe=X1e();Object.defineProperty(Ee,"DeclarationRequest",{enumerable:!0,get:o(function(){return mXe.DeclarationRequest},"get")});var hXe=rAe();Object.defineProperty(Ee,"SelectionRangeRequest",{enumerable:!0,get:o(function(){return hXe.SelectionRangeRequest},"get")});var xJ=sAe();Object.defineProperty(Ee,"WorkDoneProgress",{enumerable:!0,get:o(function(){return xJ.WorkDoneProgress},"get")});Object.defineProperty(Ee,"WorkDoneProgressCreateRequest",{enumerable:!0,get:o(function(){return xJ.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(Ee,"WorkDoneProgressCancelNotification",{enumerable:!0,get:o(function(){return xJ.WorkDoneProgressCancelNotification},"get")});var vJ=uAe();Object.defineProperty(Ee,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:o(function(){return vJ.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(Ee,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:o(function(){return vJ.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(Ee,"CallHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return vJ.CallHierarchyPrepareRequest},"get")});var XE=gAe();Object.defineProperty(Ee,"TokenFormat",{enumerable:!0,get:o(function(){return XE.TokenFormat},"get")});Object.defineProperty(Ee,"SemanticTokensRequest",{enumerable:!0,get:o(function(){return XE.SemanticTokensRequest},"get")});Object.defineProperty(Ee,"SemanticTokensDeltaRequest",{enumerable:!0,get:o(function(){return XE.SemanticTokensDeltaRequest},"get")});Object.defineProperty(Ee,"SemanticTokensRangeRequest",{enumerable:!0,get:o(function(){return XE.SemanticTokensRangeRequest},"get")});Object.defineProperty(Ee,"SemanticTokensRefreshRequest",{enumerable:!0,get:o(function(){return XE.SemanticTokensRefreshRequest},"get")});Object.defineProperty(Ee,"SemanticTokensRegistrationType",{enumerable:!0,get:o(function(){return XE.SemanticTokensRegistrationType},"get")});var pXe=CAe();Object.defineProperty(Ee,"ShowDocumentRequest",{enumerable:!0,get:o(function(){return pXe.ShowDocumentRequest},"get")});var gXe=bAe();Object.defineProperty(Ee,"LinkedEditingRangeRequest",{enumerable:!0,get:o(function(){return gXe.LinkedEditingRangeRequest},"get")});var l4=RAe();Object.defineProperty(Ee,"FileOperationPatternKind",{enumerable:!0,get:o(function(){return l4.FileOperationPatternKind},"get")});Object.defineProperty(Ee,"DidCreateFilesNotification",{enumerable:!0,get:o(function(){return l4.DidCreateFilesNotification},"get")});Object.defineProperty(Ee,"WillCreateFilesRequest",{enumerable:!0,get:o(function(){return l4.WillCreateFilesRequest},"get")});Object.defineProperty(Ee,"DidRenameFilesNotification",{enumerable:!0,get:o(function(){return l4.DidRenameFilesNotification},"get")});Object.defineProperty(Ee,"WillRenameFilesRequest",{enumerable:!0,get:o(function(){return l4.WillRenameFilesRequest},"get")});Object.defineProperty(Ee,"DidDeleteFilesNotification",{enumerable:!0,get:o(function(){return l4.DidDeleteFilesNotification},"get")});Object.defineProperty(Ee,"WillDeleteFilesRequest",{enumerable:!0,get:o(function(){return l4.WillDeleteFilesRequest},"get")});var bJ=NAe();Object.defineProperty(Ee,"UniquenessLevel",{enumerable:!0,get:o(function(){return bJ.UniquenessLevel},"get")});Object.defineProperty(Ee,"MonikerKind",{enumerable:!0,get:o(function(){return bJ.MonikerKind},"get")});Object.defineProperty(Ee,"MonikerRequest",{enumerable:!0,get:o(function(){return bJ.MonikerRequest},"get")});var EJ=OAe();Object.defineProperty(Ee,"TypeHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return EJ.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(Ee,"TypeHierarchySubtypesRequest",{enumerable:!0,get:o(function(){return EJ.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(Ee,"TypeHierarchySupertypesRequest",{enumerable:!0,get:o(function(){return EJ.TypeHierarchySupertypesRequest},"get")});var vye=WAe();Object.defineProperty(Ee,"InlineValueRequest",{enumerable:!0,get:o(function(){return vye.InlineValueRequest},"get")});Object.defineProperty(Ee,"InlineValueRefreshRequest",{enumerable:!0,get:o(function(){return vye.InlineValueRefreshRequest},"get")});var IJ=VAe();Object.defineProperty(Ee,"InlayHintRequest",{enumerable:!0,get:o(function(){return IJ.InlayHintRequest},"get")});Object.defineProperty(Ee,"InlayHintResolveRequest",{enumerable:!0,get:o(function(){return IJ.InlayHintResolveRequest},"get")});Object.defineProperty(Ee,"InlayHintRefreshRequest",{enumerable:!0,get:o(function(){return IJ.InlayHintRefreshRequest},"get")});var sw=XAe();Object.defineProperty(Ee,"DiagnosticServerCancellationData",{enumerable:!0,get:o(function(){return sw.DiagnosticServerCancellationData},"get")});Object.defineProperty(Ee,"DocumentDiagnosticReportKind",{enumerable:!0,get:o(function(){return sw.DocumentDiagnosticReportKind},"get")});Object.defineProperty(Ee,"DocumentDiagnosticRequest",{enumerable:!0,get:o(function(){return sw.DocumentDiagnosticRequest},"get")});Object.defineProperty(Ee,"WorkspaceDiagnosticRequest",{enumerable:!0,get:o(function(){return sw.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(Ee,"DiagnosticRefreshRequest",{enumerable:!0,get:o(function(){return sw.DiagnosticRefreshRequest},"get")});var kp=s2e();Object.defineProperty(Ee,"NotebookCellKind",{enumerable:!0,get:o(function(){return kp.NotebookCellKind},"get")});Object.defineProperty(Ee,"ExecutionSummary",{enumerable:!0,get:o(function(){return kp.ExecutionSummary},"get")});Object.defineProperty(Ee,"NotebookCell",{enumerable:!0,get:o(function(){return kp.NotebookCell},"get")});Object.defineProperty(Ee,"NotebookDocument",{enumerable:!0,get:o(function(){return kp.NotebookDocument},"get")});Object.defineProperty(Ee,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:o(function(){return kp.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(Ee,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:o(function(){return kp.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(Ee,"NotebookCellArrayChange",{enumerable:!0,get:o(function(){return kp.NotebookCellArrayChange},"get")});Object.defineProperty(Ee,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:o(function(){return kp.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(Ee,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:o(function(){return kp.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(Ee,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:o(function(){return kp.DidCloseNotebookDocumentNotification},"get")});var AXe=c2e();Object.defineProperty(Ee,"InlineCompletionRequest",{enumerable:!0,get:o(function(){return AXe.InlineCompletionRequest},"get")});var gJ;(function(e){function t(r){let n=r;return Cl.string(n)||Cl.string(n.language)||Cl.string(n.scheme)||Cl.string(n.pattern)}o(t,"is"),e.is=t})(gJ||(Ee.TextDocumentFilter=gJ={}));var AJ;(function(e){function t(r){let n=r;return Cl.objectLiteral(n)&&(Cl.string(n.notebookType)||Cl.string(n.scheme)||Cl.string(n.pattern))}o(t,"is"),e.is=t})(AJ||(Ee.NotebookDocumentFilter=AJ={}));var yJ;(function(e){function t(r){let n=r;return Cl.objectLiteral(n)&&(Cl.string(n.notebook)||AJ.is(n.notebook))&&(n.language===void 0||Cl.string(n.language))}o(t,"is"),e.is=t})(yJ||(Ee.NotebookCellTextDocumentFilter=yJ={}));var CJ;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Cl.string(n)&&!gJ.is(n)&&!yJ.is(n))return!1;return!0}o(t,"is"),e.is=t})(CJ||(Ee.DocumentSelector=CJ={}));var f2e;(function(e){e.method="client/registerCapability",e.messageDirection=Xt.MessageDirection.serverToClient,e.type=new Xt.ProtocolRequestType(e.method)})(f2e||(Ee.RegistrationRequest=f2e={}));var d2e;(function(e){e.method="client/unregisterCapability",e.messageDirection=Xt.MessageDirection.serverToClient,e.type=new Xt.ProtocolRequestType(e.method)})(d2e||(Ee.UnregistrationRequest=d2e={}));var m2e;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(m2e||(Ee.ResourceOperationKind=m2e={}));var h2e;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(h2e||(Ee.FailureHandlingKind=h2e={}));var p2e;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(p2e||(Ee.PositionEncodingKind=p2e={}));var g2e;(function(e){function t(r){let n=r;return n&&Cl.string(n.id)&&n.id.length>0}o(t,"hasId"),e.hasId=t})(g2e||(Ee.StaticRegistrationOptions=g2e={}));var A2e;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||CJ.is(n.documentSelector))}o(t,"is"),e.is=t})(A2e||(Ee.TextDocumentRegistrationOptions=A2e={}));var y2e;(function(e){function t(n){let i=n;return Cl.objectLiteral(i)&&(i.workDoneProgress===void 0||Cl.boolean(i.workDoneProgress))}o(t,"is"),e.is=t;function r(n){let i=n;return i&&Cl.boolean(i.workDoneProgress)}o(r,"hasWorkDoneProgress"),e.hasWorkDoneProgress=r})(y2e||(Ee.WorkDoneProgressOptions=y2e={}));var C2e;(function(e){e.method="initialize",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(C2e||(Ee.InitializeRequest=C2e={}));var x2e;(function(e){e.unknownProtocolVersion=1})(x2e||(Ee.InitializeErrorCodes=x2e={}));var v2e;(function(e){e.method="initialized",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolNotificationType(e.method)})(v2e||(Ee.InitializedNotification=v2e={}));var b2e;(function(e){e.method="shutdown",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType0(e.method)})(b2e||(Ee.ShutdownRequest=b2e={}));var E2e;(function(e){e.method="exit",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolNotificationType0(e.method)})(E2e||(Ee.ExitNotification=E2e={}));var I2e;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolNotificationType(e.method)})(I2e||(Ee.DidChangeConfigurationNotification=I2e={}));var T2e;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(T2e||(Ee.MessageType=T2e={}));var w2e;(function(e){e.method="window/showMessage",e.messageDirection=Xt.MessageDirection.serverToClient,e.type=new Xt.ProtocolNotificationType(e.method)})(w2e||(Ee.ShowMessageNotification=w2e={}));var _2e;(function(e){e.method="window/showMessageRequest",e.messageDirection=Xt.MessageDirection.serverToClient,e.type=new Xt.ProtocolRequestType(e.method)})(_2e||(Ee.ShowMessageRequest=_2e={}));var S2e;(function(e){e.method="window/logMessage",e.messageDirection=Xt.MessageDirection.serverToClient,e.type=new Xt.ProtocolNotificationType(e.method)})(S2e||(Ee.LogMessageNotification=S2e={}));var k2e;(function(e){e.method="telemetry/event",e.messageDirection=Xt.MessageDirection.serverToClient,e.type=new Xt.ProtocolNotificationType(e.method)})(k2e||(Ee.TelemetryEventNotification=k2e={}));var R2e;(function(e){e.None=0,e.Full=1,e.Incremental=2})(R2e||(Ee.TextDocumentSyncKind=R2e={}));var B2e;(function(e){e.method="textDocument/didOpen",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolNotificationType(e.method)})(B2e||(Ee.DidOpenTextDocumentNotification=B2e={}));var D2e;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}o(t,"isIncremental"),e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}o(r,"isFull"),e.isFull=r})(D2e||(Ee.TextDocumentContentChangeEvent=D2e={}));var P2e;(function(e){e.method="textDocument/didChange",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolNotificationType(e.method)})(P2e||(Ee.DidChangeTextDocumentNotification=P2e={}));var F2e;(function(e){e.method="textDocument/didClose",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolNotificationType(e.method)})(F2e||(Ee.DidCloseTextDocumentNotification=F2e={}));var N2e;(function(e){e.method="textDocument/didSave",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolNotificationType(e.method)})(N2e||(Ee.DidSaveTextDocumentNotification=N2e={}));var L2e;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(L2e||(Ee.TextDocumentSaveReason=L2e={}));var Q2e;(function(e){e.method="textDocument/willSave",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolNotificationType(e.method)})(Q2e||(Ee.WillSaveTextDocumentNotification=Q2e={}));var M2e;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(M2e||(Ee.WillSaveTextDocumentWaitUntilRequest=M2e={}));var O2e;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolNotificationType(e.method)})(O2e||(Ee.DidChangeWatchedFilesNotification=O2e={}));var U2e;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(U2e||(Ee.FileChangeType=U2e={}));var q2e;(function(e){function t(r){let n=r;return Cl.objectLiteral(n)&&(u2e.URI.is(n.baseUri)||u2e.WorkspaceFolder.is(n.baseUri))&&Cl.string(n.pattern)}o(t,"is"),e.is=t})(q2e||(Ee.RelativePattern=q2e={}));var W2e;(function(e){e.Create=1,e.Change=2,e.Delete=4})(W2e||(Ee.WatchKind=W2e={}));var G2e;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=Xt.MessageDirection.serverToClient,e.type=new Xt.ProtocolNotificationType(e.method)})(G2e||(Ee.PublishDiagnosticsNotification=G2e={}));var H2e;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(H2e||(Ee.CompletionTriggerKind=H2e={}));var j2e;(function(e){e.method="textDocument/completion",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(j2e||(Ee.CompletionRequest=j2e={}));var V2e;(function(e){e.method="completionItem/resolve",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(V2e||(Ee.CompletionResolveRequest=V2e={}));var $2e;(function(e){e.method="textDocument/hover",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})($2e||(Ee.HoverRequest=$2e={}));var z2e;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(z2e||(Ee.SignatureHelpTriggerKind=z2e={}));var Y2e;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(Y2e||(Ee.SignatureHelpRequest=Y2e={}));var K2e;(function(e){e.method="textDocument/definition",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(K2e||(Ee.DefinitionRequest=K2e={}));var J2e;(function(e){e.method="textDocument/references",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(J2e||(Ee.ReferencesRequest=J2e={}));var Z2e;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(Z2e||(Ee.DocumentHighlightRequest=Z2e={}));var X2e;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(X2e||(Ee.DocumentSymbolRequest=X2e={}));var eye;(function(e){e.method="textDocument/codeAction",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(eye||(Ee.CodeActionRequest=eye={}));var tye;(function(e){e.method="codeAction/resolve",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(tye||(Ee.CodeActionResolveRequest=tye={}));var rye;(function(e){e.method="workspace/symbol",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(rye||(Ee.WorkspaceSymbolRequest=rye={}));var nye;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(nye||(Ee.WorkspaceSymbolResolveRequest=nye={}));var iye;(function(e){e.method="textDocument/codeLens",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(iye||(Ee.CodeLensRequest=iye={}));var oye;(function(e){e.method="codeLens/resolve",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(oye||(Ee.CodeLensResolveRequest=oye={}));var sye;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=Xt.MessageDirection.serverToClient,e.type=new Xt.ProtocolRequestType0(e.method)})(sye||(Ee.CodeLensRefreshRequest=sye={}));var aye;(function(e){e.method="textDocument/documentLink",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(aye||(Ee.DocumentLinkRequest=aye={}));var lye;(function(e){e.method="documentLink/resolve",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(lye||(Ee.DocumentLinkResolveRequest=lye={}));var cye;(function(e){e.method="textDocument/formatting",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(cye||(Ee.DocumentFormattingRequest=cye={}));var uye;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(uye||(Ee.DocumentRangeFormattingRequest=uye={}));var fye;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(fye||(Ee.DocumentRangesFormattingRequest=fye={}));var dye;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(dye||(Ee.DocumentOnTypeFormattingRequest=dye={}));var mye;(function(e){e.Identifier=1})(mye||(Ee.PrepareSupportDefaultBehavior=mye={}));var hye;(function(e){e.method="textDocument/rename",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(hye||(Ee.RenameRequest=hye={}));var pye;(function(e){e.method="textDocument/prepareRename",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(pye||(Ee.PrepareRenameRequest=pye={}));var gye;(function(e){e.method="workspace/executeCommand",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(gye||(Ee.ExecuteCommandRequest=gye={}));var Aye;(function(e){e.method="workspace/applyEdit",e.messageDirection=Xt.MessageDirection.serverToClient,e.type=new Xt.ProtocolRequestType("workspace/applyEdit")})(Aye||(Ee.ApplyWorkspaceEditRequest=Aye={}))});var Iye=H(bF=>{"use strict";d();Object.defineProperty(bF,"__esModule",{value:!0});bF.createProtocolConnection=void 0;var Eye=a4();function yXe(e,t,r,n){return Eye.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Eye.createMessageConnection)(e,t,r,n)}o(yXe,"createProtocolConnection");bF.createProtocolConnection=yXe});var wye=H(j0=>{"use strict";d();var CXe=j0&&j0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),EF=j0&&j0.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&CXe(t,e,r)};Object.defineProperty(j0,"__esModule",{value:!0});j0.LSPErrorCodes=j0.createProtocolConnection=void 0;EF(a4(),j0);EF(sF(),j0);EF(ks(),j0);EF(bye(),j0);var xXe=Iye();Object.defineProperty(j0,"createProtocolConnection",{enumerable:!0,get:o(function(){return xXe.createProtocolConnection},"get")});var Tye;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(Tye||(j0.LSPErrorCodes=Tye={}))});var ei=H(Rp=>{"use strict";d();var vXe=Rp&&Rp.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_ye=Rp&&Rp.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vXe(t,e,r)};Object.defineProperty(Rp,"__esModule",{value:!0});Rp.createProtocolConnection=void 0;var bXe=lJ();_ye(lJ(),Rp);_ye(wye(),Rp);function EXe(e,t,r,n){return(0,bXe.createMessageConnection)(e,t,r,n)}o(EXe,"createProtocolConnection");Rp.createProtocolConnection=EXe});var N5e=H((ZF,F5e)=>{d();(function(e,t){typeof ZF=="object"&&typeof F5e<"u"?t(ZF):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(ZF,function(e){"use strict";function t(w,k){return w||k}o(t,"_pureAssign");function r(w,k){return w[k]}o(r,"_pureRef");var n=void 0,i=null,s="",a="function",l="object",c="prototype",u="__proto__",f="undefined",m="constructor",h="Symbol",p="_polyfill",A="length",x="name",v="call",E="toString",b=t(Object),_=r(b,c),R=t(String),P=r(R,c),F=t(Math),W=t(Array),se=r(W,c),de=r(se,"slice");function re(w,k){try{return{v:w.apply(this,k)}}catch(B){return{e:B}}}o(re,"safe");function G(w){return function(k){return typeof k===w}}o(G,"_createIs");function U(w){var k="[object "+w+"]";return function(B){return!!(B&&ne(B)===k)}}o(U,"_createObjIs");function ne(w){return _[E].call(w)}o(ne,"objToString");function J(w){return typeof w===f||w===f}o(J,"isUndefined");function j(w){return!V(w)}o(j,"isStrictUndefined");function O(w){return w===i||J(w)}o(O,"isNullOrUndefined");function V(w){return!!w||w!==n}o(V,"isDefined");var Z=G("string"),ae=G(a);function te(w){return!w&&O(w)?!1:!!w&&typeof w===l}o(te,"isObject");var le=r(W,"isArray"),fe=U("Error"),De=r(b,"getOwnPropertyDescriptor");function ve(w,k){return!!w&&_.hasOwnProperty[v](w,k)}o(ve,"objHasOwnProperty");var Ue=t(r(b,"hasOwn"),ke);function ke(w,k){return ve(w,k)||!!De(w,k)}o(ke,"polyObjHasOwn");function Ze(w,k,B){if(w&&te(w)){for(var Q in w)if(Ue(w,Q)&&k[v](B||w,Q,w[Q])===-1)break}}o(Ze,"objForEachKey");var ft={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function at(w){var k={};if(k[ft.c]=!0,k[ft.e]=!0,w.l){k.get=function(){return w.l.v};var B=De(w.l,"v");B&&B.set&&(k.set=function(Q){w.l.v=Q})}return Ze(w,function(Q,ce){k[ft[Q]]=j(ce)?k[ft[Q]]:ce}),k}o(at,"_createProp");var lt=r(b,"defineProperty");function ie(w,k,B){return lt(w,k,at(B))}o(ie,"objDefine");function Fe(w,k,B,Q,ce){var we={};return Ze(w,function(Be,je){Ae(we,Be,k?je:Be),Ae(we,je,B?je:Be)}),Q?Q(we):we}o(Fe,"_createKeyValueMap");function Ae(w,k,B,Q){lt(w,k,{value:B,enumerable:!0,writable:!1})}o(Ae,"_assignMapValue");var Ge=t(R),z="[object Error]";function ee(w,k){var B=s,Q=_[E][v](w);Q===z&&(w={stack:Ge(w.stack),message:Ge(w.message),name:Ge(w.name)});try{B=JSON.stringify(w,i,k?typeof k=="number"?k:4:n),B=(B?B.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||Ge(w)}catch(ce){B=" - "+ee(ce,k)}return Q+": "+B}o(ee,"dumpObj");function Le(w){throw new Error(w)}o(Le,"throwError");function Se(w){throw new TypeError(w)}o(Se,"throwTypeError");var Ce=r(b,"freeze");function qe(w){return w}o(qe,"_doNothing");function Ve(w){return w[u]||i}o(Ve,"_getProto");var tt=r(b,"assign"),Ct=r(b,"keys"),Pt=t(Ce,qe),yt=t(r(b,"getPrototypeOf"),Ve);function $t(w){return Fe(w,1,0,Pt)}o($t,"createEnum");function Kt(w){var k={};return Ze(w,function(B,Q){Ae(k,B,Q[1]),Ae(k,Q[0],Q[1])}),Pt(k)}o(Kt,"createSimpleMap");function sr(w){return Kt(w)}o(sr,"createTypeMap");var ge="__tsUtils$gblCfg",Qe;function Je(){var w;return typeof globalThis!==f&&(w=globalThis),!w&&typeof self!==f&&(w=self),!w&&typeof window!==f&&(w=window),!w&&typeof global!==f&&(w=global),w}o(Je,"_getGlobalValue");function rt(){if(!Qe){var w=re(Je).v||{};Qe=w[ge]=w[ge]||{}}return Qe}o(rt,"_getGlobalConfig");var St=bt;function bt(w,k,B){var Q=k?k[w]:i;return function(ce){var we=(ce?ce[w]:i)||Q;if(we||B){var Be=arguments;return(we||B).apply(ce,we?de[v](Be,1):Be)}Se('"'+Ge(w)+'" not defined for '+ee(ce))}}o(bt,"_unwrapFunctionWithPoly");var Qt=r(F,"min"),Ot=r(F,"max"),wt=St("slice",P),kt=St("substring",P),_t=bt("substr",P,qt);function qt(w,k,B){return O(w)&&Se("Invalid "+ee(w)),B<0?s:(k=k||0,k<0&&(k=Ot(k+w[A],0)),J(B)?wt(w,k):wt(w,k,k+B))}o(qt,"polyStrSubstr");function Ht(w,k){return kt(w,0,k)}o(Ht,"strLeft");var Jt="_urid",ur;function gr(){if(!ur){var w=rt();ur=w.gblSym=w.gblSym||{k:{},s:{}}}return ur}o(gr,"_globalSymbolRegistry");function lr(w){var k={description:Ge(w),toString:o(function(){return h+"("+w+")"},"toString")};return k[p]=!0,k}o(lr,"polyNewSymbol");function fr(w){var k=gr();if(!Ue(k.k,w)){var B=lr(w),Q=Ct(k.s).length;B[Jt]=function(){return Q+"_"+B[E]()},k.k[w]=B,k.s[B[Jt]()]=Ge(w)}return k.k[w]}o(fr,"polySymbolFor");var rr;function dr(){rr=rt()}o(dr,"_initTestHooks");function Ie(w){return lt({toJSON:o(function(){return w},"toJSON")},"v",{value:w})}o(Ie,"createCachedValue");var M="window",me;function ye(w,k){var B;return function(){return!rr&&dr(),(!B||rr.lzy)&&(B=Ie(re(w,k).v)),B.v}}o(ye,"_getGlobalInstFn");function Y(w){return!rr&&dr(),(!me||w===!1||rr.lzy)&&(me=Ie(re(Je).v||i)),me.v}o(Y,"getGlobal");function L(w,k){var B;if(!me||k===!1?B=Y(k):B=me.v,B&&B[w])return B[w];if(w===M)try{return window}catch{}return i}o(L,"getInst");var Te=ye(L,["document"]);function Oe(){return!!xt()}o(Oe,"hasWindow");var xt=ye(L,[M]);function Wt(){return!!Nt()}o(Wt,"hasNavigator");var Nt=ye(L,["navigator"]),ir,ar;function Ut(){return ir=Ie(re(L,[h]).v),ir}o(Ut,"_initSymbol");function It(w){var k=(rr.lzy?0:ir)||Ut();return k.v?k.v[w]:n}o(It,"_getSymbolKey");function cr(w,k){!rr&&dr();var B=(rr.lzy?0:ir)||Ut();return B.v?B.v(w):k?i:lr(w)}o(cr,"newSymbol");function zo(w){return!rr&&dr(),ar=(rr.lzy?0:ar)||Ie(re(It,["for"]).v),(ar.v||fr)(w)}o(zo,"symbolFor");function lm(w,k,B){return w.apply(k,B)}o(lm,"fnApply");function dl(w,k,B){if(w)for(var Q=w[A]>>>0,ce=0;ce<Q&&!(ce in w&&k[v](B||w,w[ce],ce,w)===-1);ce++);}o(dl,"arrForEach");var cm=St("indexOf",se),Nf=St("map",se),zs=St("reduce",se),Gh=t(r(b,"create"),i2);function i2(w){if(!w)return{};var k=typeof w;k!==l&&k!==a&&Se("Prototype must be an Object or function: "+ee(w));function B(){}return o(B,"tempFunc"),B[c]=w,new B}o(i2,"polyObjCreate");var n7;function um(w,k){var B=b.setPrototypeOf||function(Q,ce){var we;!n7&&(n7=Ie((we={},we[u]=[],we instanceof Array))),n7.v?Q[u]=ce:Ze(ce,function(Be,je){return Q[Be]=je})};return B(w,k)}o(um,"objSetPrototypeOf");function a$(w,k,B){re(ie,[k,x,{v:w,c:!0,e:!1}]),k=um(k,B);function Q(){this[m]=k,re(ie,[this,x,{v:w,c:!0,e:!1}])}return o(Q,"__"),k[c]=B===i?Gh(B):(Q[c]=B[c],new Q),k}o(a$,"_createCustomError");function Hh(w,k){k&&(w[x]=k)}o(Hh,"_setName");function l$(w,k,B){var Q=B||Error,ce=Q[c][x],we=Error.captureStackTrace;return a$(w,function(){var Be=this,je=arguments;try{re(Hh,[Q,w]);var it=lm(Q,Be,de[v](je))||Be;if(it!==Be){var vt=yt(Be);vt!==yt(it)&&um(it,vt)}return we&&we(it,Be[m]),k&&k(it,je),it}finally{re(Hh,[Q,ce])}},Q)}o(l$,"createCustomError");function Vg(){return(Date.now||i7)()}o(Vg,"utcNow");function i7(){return new Date().getTime()}o(i7,"polyUtcNow");function jv(w){return o(function(B){return O(B)&&Se("strTrim called ["+ee(B)+"]"),B&&B.replace&&(B=B.replace(w,s)),B},"_doTrim")}o(jv,"_createTrimFn");var c$=jv(/^\s+|(?=\s)\s+$/g),gc=bt("trim",P,c$),jh=r(F,"floor"),HC,$g,jC;function Vh(w){if(!w||typeof w!==l)return!1;jC||(jC=Oe()?xt():!0);var k=!1;if(w!==jC){$g||(HC=Function[c][E],$g=HC[v](b));try{var B=yt(w);k=!B,k||(ve(B,m)&&(B=B[m]),k=!!(B&&typeof B===a&&HC[v](B)===$g))}catch{}}return k}o(Vh,"isPlainObject");var Vv;function VC(){return!rr&&dr(),(!Vv||rr.lzy)&&(Vv=Ie(re(L,["performance"]).v)),Vv.v}o(VC,"getPerformance");var o7=r(F,"round"),o2=bt("endsWith",P,s2);function s2(w,k,B){Z(w)||Se("'"+ee(w)+"' is not a string");var Q=Z(k)?k:Ge(k),ce=!J(B)&&B<w[A]?B:w[A];return kt(w,ce-Q[A],ce)===Q}o(s2,"polyStrEndsWith");var Yr=St("indexOf",P),$c="ref",zg="unref",a2="hasRef",u$="enabled";function $h(w,k,B){var Q=!0,ce=w?k(i):i,we;function Be(){return Q=!1,ce&&ce[zg]&&ce[zg](),we}o(Be,"_unref");function je(){ce&&B(ce),ce=i}o(je,"_cancel");function it(){return ce=k(ce),Q||Be(),we}o(it,"_refresh");function vt(br){!br&&ce&&je(),br&&!ce&&it()}return o(vt,"_setEnabled"),we={cancel:je,refresh:it},we[a2]=function(){return ce&&ce[a2]?ce[a2]():Q},we[$c]=function(){return Q=!0,ce&&ce[$c]&&ce[$c](),we},we[zg]=Be,we=lt(we,u$,{get:o(function(){return!!ce},"get"),set:vt}),{h:we,dn:o(function(){ce=i},"dn")}}o($h,"_createTimerHandler");function f$(w,k,B){var Q=le(k),ce=Q?k.length:0,we=(ce>0?k[0]:Q?n:k)||setTimeout,Be=(ce>1?k[1]:n)||clearTimeout,je=B[0];B[0]=function(){it.dn(),lm(je,n,de[v](arguments))};var it=$h(w,function(vt){if(vt){if(vt.refresh)return vt.refresh(),vt;lm(Be,n,[vt])}return lm(we,n,B)},function(vt){lm(Be,n,[vt])});return it.h}o(f$,"_createTimeoutWith");function s7(w,k){return f$(!0,n,de[v](arguments))}o(s7,"scheduleTimeout");var $C=$t,d$=sr,zC="toLowerCase",Ba="length",zh="warnToConsole",YC="throwInternal",UR="watch",m$="apply",Gi="push",Yg="splice",Yh="logger",a7="cancel",KC="name",zc="unload",qR="version",WR="loggingLevelConsole",l7="messageId",Kg="message",c7="diagLog",GR="userAgent",u7="split",l2="replace",Kh="type",HR="evtName",$v="traceFlags",f7="getAttribute",zv;function h$(w,k){zv||(zv=l$("AggregationError",function(Q,ce){ce[Ba]>1&&(Q.errors=ce[1])}));var B=w||"One or more errors occurred.";throw dl(k,function(Q,ce){B+=`
`.concat(ce," > ").concat(ee(Q))}),new zv(B,k||[])}o(h$,"throwAggregationError");var p$="function",jR="object",g$="undefined",fm="prototype",Yv=Object,d7=Yv[fm];(Y()||{}).Symbol,(Y()||{}).Reflect;var Kv="hasOwnProperty",A$=o(function(w){for(var k,B=1,Q=arguments.length;B<Q;B++){k=arguments[B];for(var ce in k)d7[Kv].call(k,ce)&&(w[ce]=k[ce])}return w},"__objAssignFnImpl"),Jv=tt||A$,Zv=o(function(w,k){return Zv=Yv.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,Q){B.__proto__=Q}||function(B,Q){for(var ce in Q)Q[Kv](ce)&&(B[ce]=Q[ce])},Zv(w,k)},"extendStaticsFn");function Jh(w,k){typeof k!==p$&&k!==null&&Se("Class extends value "+String(k)+" is not a constructor or null"),Zv(w,k);function B(){this.constructor=w}o(B,"__"),w[fm]=k===null?Gh(k):(B[fm]=k[fm],new B)}o(Jh,"__extendsFn");var Xv,Jg="constructor",S0="prototype",k0="function",Zg="_dynInstFuncs",c2="_isDynProxy",Zh="_dynClass",u2="_dynCls$",m7="_dynInstChk",Xg=m7,f2="_dfOpts",h7="_unknown_",eb="__proto__",d2="_dyn"+eb,JC="__dynProto$Gbl",tb="_dynInstProto",m2="useBaseInst",h2="setInstFuncs",ZC=Object,e1=ZC.getPrototypeOf,p2=ZC.getOwnPropertyNames,p7=Y(),rb=p7[JC]||(p7[JC]={o:(Xv={},Xv[h2]=!0,Xv[m2]=!0,Xv),n:1e3});function g2(w){return w&&(w===ZC[S0]||w===Array[S0])}o(g2,"_isObjectOrArrayPrototype");function A2(w){return g2(w)||w===Function[S0]}o(A2,"_isObjectArrayOrFunctionPrototype");function dm(w){var k;if(w){if(e1)return e1(w);var B=w[eb]||w[S0]||(w[Jg]?w[Jg][S0]:null);k=w[d2]||B,ve(w,d2)||(delete w[tb],k=w[d2]=w[tb]||w[d2],w[tb]=B)}return k}o(dm,"_getObjProto");function Lf(w,k){var B=[];if(p2)B=p2(w);else for(var Q in w)typeof Q=="string"&&ve(w,Q)&&B.push(Q);if(B&&B.length>0)for(var ce=0;ce<B.length;ce++)k(B[ce])}o(Lf,"_forEachProp");function y2(w,k,B){return k!==Jg&&typeof w[k]===k0&&(B||ve(w,k))&&k!==eb&&k!==S0}o(y2,"_isDynamicCandidate");function C2(w){Se("DynamicProto: "+w)}o(C2,"_throwTypeError");function nb(w){var k=Gh(null);return Lf(w,function(B){!k[B]&&y2(w,B,!1)&&(k[B]=w[B])}),k}o(nb,"_getInstanceFuncs");function g7(w,k){for(var B=w.length-1;B>=0;B--)if(w[B]===k)return!0;return!1}o(g7,"_hasVisited");function A7(w,k,B,Q){function ce(it,vt,br){var vn=vt[br];if(vn[c2]&&Q){var Mn=it[Zg]||{};Mn[Xg]!==!1&&(vn=(Mn[vt[Zh]]||{})[br]||vn)}return function(){return vn.apply(it,arguments)}}o(ce,"_instFuncProxy");var we=Gh(null);Lf(B,function(it){we[it]=ce(k,B,it)});for(var Be=dm(w),je=[];Be&&!A2(Be)&&!g7(je,Be);)Lf(Be,function(it){!we[it]&&y2(Be,it,!e1)&&(we[it]=ce(k,Be,it))}),je.push(Be),Be=dm(Be);return we}o(A7,"_getBaseFuncs");function y$(w,k,B,Q){var ce=null;if(w&&ve(B,Zh)){var we=w[Zg]||Gh(null);if(ce=(we[B[Zh]]||Gh(null))[k],ce||C2("Missing ["+k+"] "+k0),!ce[m7]&&we[Xg]!==!1){for(var Be=!ve(w,k),je=dm(w),it=[];Be&&je&&!A2(je)&&!g7(it,je);){var vt=je[k];if(vt){Be=vt===Q;break}it.push(je),je=dm(je)}try{Be&&(w[k]=ce),ce[m7]=1}catch{we[Xg]=!1}}}return ce}o(y$,"_getInstFunc");function C$(w,k,B){var Q=k[w];return Q===B&&(Q=dm(k)[w]),typeof Q!==k0&&C2("["+w+"] is not a "+k0),Q}o(C$,"_getProtoFunc");function x$(w,k,B,Q,ce){function we(it,vt){var br=o(function(){var vn=y$(this,vt,it,br)||C$(vt,it,br);return vn.apply(this,arguments)},"dynProtoProxy");return br[c2]=1,br}if(o(we,"_createDynamicPrototype"),!g2(w)){var Be=B[Zg]=B[Zg]||Gh(null);if(!g2(Be)){var je=Be[k]=Be[k]||Gh(null);Be[Xg]!==!1&&(Be[Xg]=!!ce),g2(je)||Lf(B,function(it){y2(B,it,!1)&&B[it]!==Q[it]&&(je[it]=B[it],delete B[it],(!ve(w,it)||w[it]&&!w[it][c2])&&(w[it]=we(w,it)))})}}}o(x$,"_populatePrototype");function v$(w,k){if(e1){for(var B=[],Q=dm(k);Q&&!A2(Q)&&!g7(B,Q);){if(Q===w)return!0;B.push(Q),Q=dm(Q)}return!1}return!0}o(v$,"_checkPrototype");function y7(w,k){return ve(w,S0)?w.name||k||h7:((w||{})[Jg]||{}).name||k||h7}o(y7,"_getObjName");function XC(w,k,B,Q){ve(w,S0)||C2("theClass is an invalid class definition.");var ce=w[S0];v$(ce,k)||C2("["+y7(w)+"] not in hierarchy of ["+y7(k)+"]");var we=null;ve(ce,Zh)?we=ce[Zh]:(we=u2+y7(w,"_")+"$"+rb.n,rb.n++,ce[Zh]=we);var Be=XC[f2],je=!!Be[m2];je&&Q&&Q[m2]!==void 0&&(je=!!Q[m2]);var it=nb(k),vt=A7(ce,k,it,je);B(k,vt);var br=!!e1&&!!Be[h2];br&&Q&&(br=!!Q[h2]),x$(ce,we,k,it,br!==!1)}o(XC,"dynamicProto"),XC[f2]=rb.o;var Wl=void 0,Qs="",VR="Not dynamic - ",$R=/-([a-z])/g,e3=/([^\w\d_$])/g,C7=/^(\d+[\w\d_$])/;function x7(w){return!O(w)}o(x7,"isNotNullOrUndefined");function ib(w){var k=w;return k&&Z(k)&&(k=k[l2]($R,function(B,Q){return Q.toUpperCase()}),k=k[l2](e3,"_"),k=k[l2](C7,function(B,Q){return"_"+Q})),k}o(ib,"normalizeJsName");function zR(w,k){return w&&k?Yr(w,k)!==-1:!1}o(zR,"strContains");function mm(w){return w&&w.toISOString()||""}o(mm,"toISOString");function Xh(w){return fe(w)?w[KC]:Qs}o(Xh,"getExceptionName");function t3(w){return function(){function k(){var B=this;w&&Ze(w,function(Q,ce){B[Q]=ce})}return o(k,"class_1"),k}()}o(t3,"createClassFromInterface");var YR="console",ob="JSON",b$="crypto",ep="msCrypto",x2="msie",Gn="trident/",v2=null,t1=null,hm=null;function sb(){return typeof console!==g$?console:L(YR)}o(sb,"getConsole");function Hi(){return!!(typeof JSON===jR&&JSON||L(ob)!==null)}o(Hi,"hasJSON");function b2(){return Hi()?JSON||L(ob):null}o(b2,"getJSON");function ua(){return L(b$)}o(ua,"getCrypto");function E2(){return L(ep)}o(E2,"getMsCrypto");function r3(){var w=Nt();if(w&&(w[GR]!==t1||v2===null)){t1=w[GR];var k=(t1||Qs)[zC]();v2=zR(k,x2)||zR(k,Gn)}return v2}o(r3,"isIE");function tp(w){return(hm===null||w===!1)&&(hm=Wt()&&!!Nt().sendBeacon),hm}o(tp,"isBeaconsSupported");function n3(w,k){if(w)for(var B=0;B<w[Ba];B++){var Q=w[B];if(Q[KC]&&Q[KC]===k)return Q}return{}}o(n3,"_getNamedValue");function ab(w){var k=Te();return k&&w?n3(k.querySelectorAll("meta"),w).content:null}o(ab,"findMetaTag");function Qf(w){var k,B=VC();if(B){var Q=B.getEntriesByType("navigation")||[];k=n3((Q[Ba]>0?Q[0]:{}).serverTiming,w).description}return k}o(Qf,"findNamedServerTiming");var I2=4294967296,Tu=4294967295,T2=123456789,rp=987654321,ml=!1,w2=T2,Mf=rp;function KR(w){w<0&&(w>>>=0),w2=T2+w&Tu,Mf=rp-w&Tu,ml=!0}o(KR,"_mwcSeed");function r1(){try{var w=Vg()&2147483647;KR((Math.random()*I2^w)+w)}catch{}}o(r1,"_autoSeedMwc");function lb(w){return w>0?jh(_2()/Tu*(w+1))>>>0:0}o(lb,"randomValue");function _2(w){var k=0,B=ua()||E2();return B&&B.getRandomValues&&(k=B.getRandomValues(new Uint32Array(1))[0]&Tu),k===0&&r3()&&(ml||r1(),k=JR()&Tu),k===0&&(k=jh(I2*Math.random()|0)),w||(k>>>=0),k}o(_2,"random32");function JR(w){Mf=36969*(Mf&65535)+(Mf>>16)&Tu,w2=18e3*(w2&65535)+(w2>>16)&Tu;var k=(Mf<<16)+(w2&65535)>>>0&Tu|0;return w||(k>>>=0),k}o(JR,"mwcRandom32");function n1(w){w===void 0&&(w=22);for(var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=_2()>>>0,Q=0,ce=Qs;ce[Ba]<w;)Q++,ce+=k.charAt(B&63),B>>>=6,Q===5&&(B=(_2()<<2&4294967295|B&3)>>>0,Q=0);return ce}o(n1,"newId");var Of="3.3.6",cb="."+n1(6),i1=0;function Uf(w){return w.nodeType===1||w.nodeType===9||!+w.nodeType}o(Uf,"_canAcceptData");function ub(w,k){var B=k[w.id];if(!B){B={};try{Uf(k)&&ie(k,w.id,{e:!1,v:B})}catch{}}return B}o(ub,"_getCache");function pm(w,k){return k===void 0&&(k=!1),ib(w+i1+++(k?"."+Of:Qs)+cb)}o(pm,"createUniqueNamespace");function qf(w){var k={id:pm("_aiData-"+(w||Qs)+"."+Of),accept:o(function(B){return Uf(B)},"accept"),get:o(function(B,Q,ce,we){var Be=B[k.id];return Be?Be[ib(Q)]:(we&&(Be=ub(k,B),Be[ib(Q)]=ce),ce)},"get"),kill:o(function(B,Q){if(B&&B[Q])try{delete B[Q]}catch{}},"kill")};return k}o(qf,"createElmNodeData");function np(w){return w&&te(w)&&(w.isVal||w.fb||Ue(w,"v")||Ue(w,"mrg")||Ue(w,"ref")||w.set)}o(np,"_isConfigDefaults");function fb(w,k,B){var Q,ce=B.dfVal||V;if(k&&B.fb){var we=B.fb;le(we)||(we=[we]);for(var Be=0;Be<we[Ba];Be++){var je=we[Be],it=k[je];if(ce(it)?Q=it:w&&(it=w.cfg[je],ce(it)&&(Q=it),w.set(w.cfg,Ge(je),it)),ce(Q))break}}return!ce(Q)&&ce(B.v)&&(Q=B.v),Q}o(fb,"_getDefault");function ip(w,k,B){var Q=B;if(B&&np(B)&&(Q=fb(w,k,B)),Q){np(Q)&&(Q=ip(w,k,Q));var ce;le(Q)?(ce=[],ce[Ba]=Q[Ba]):Vh(Q)&&(ce={}),ce&&(Ze(Q,function(we,Be){Be&&np(Be)&&(Be=ip(w,k,Be)),ce[we]=Be}),Q=ce)}return Q}o(ip,"_resolveDefaultValue");function op(w,k,B,Q){var ce,we,Be,je=Q,it,vt,br,vn;np(je)?(ce=je.isVal,we=je.set,br=je.rdOnly,vn=je.blkVal,it=je.mrg,vt=je.ref,!vt&&J(vt)&&(vt=!!it),Be=fb(w,k,je)):Be=Q,vn&&w.blkVal(k,B);var Mn,wr=!0,Fr=k[B];(Fr||!O(Fr))&&(Mn=Fr,wr=!1,ce&&Mn!==Be&&!ce(Mn)&&(Mn=Be,wr=!0),we&&(Mn=we(Mn,Be,k),wr=Mn===Be)),wr?Be?Mn=ip(w,k,Be):Mn=Be:(Vh(Mn)||le(Be))&&it&&Be&&(Vh(Be)||le(Be))&&Ze(Be,function(Ln,bn){op(w,Mn,Ln,bn)}),w.set(k,B,Mn),vt&&w.ref(k,B),br&&w.rdOnly(k,B)}o(op,"_applyDefaultValue");var Gl=zo("[[ai_dynCfg_1]]"),v7=zo("[[ai_blkDynCfg_1]]"),i3=zo("[[ai_frcDynCfg_1]]");function b7(w){if(w){var k;if(le(w)?(k=[],k[Ba]=w[Ba]):Vh(w)&&(k={}),k)return Ze(w,function(B,Q){k[B]=b7(Q)}),k}return w}o(b7,"_cfgDeepCopy");function E7(w){if(w){var k=w[Gl]||w;if(k.cfg&&(k.cfg===w||k.cfg[Gl]===k))return k}return null}o(E7,"getDynamicConfigHandler");function S2(w){if(w&&(Vh(w)||le(w)))try{w[v7]=!0}catch{}return w}o(S2,"blockDynamicConversion");function sp(w,k,B){var Q=!1;return B&&!w[k.blkVal]&&(Q=B[i3],!Q&&!B[v7]&&(Q=Vh(B)||le(B))),Q}o(sp,"_canMakeDynamic");function wu(w){Se("InvalidAccess:"+w)}o(wu,"throwInvalidAccess");var ZR=["push","pop","shift","unshift","splice"],gm=o(function(w,k,B,Q){w&&w[YC](3,108,"".concat(B," [").concat(k,"] failed - ")+ee(Q))},"_throwDynamicError");function I7(w,k,B){le(k)&&dl(ZR,function(Q){var ce=k[Q];k[Q]=function(){for(var we=[],Be=0;Be<arguments.length;Be++)we[Be]=arguments[Be];var je=ce[m$](this,we);return o1(w,k,B,"Patching"),je}})}o(I7,"_patchArray");function Am(w,k){var B=De(w,k);return B&&B.get}o(Am,"_getOwnPropGetter");function XR(w,k,B,Q){var ce={n:B,h:[],trk:o(function(vt){vt&&vt.fn&&(cm(ce.h,vt)===-1&&ce.h[Gi](vt),w.trk(vt,ce))},"trk"),clr:o(function(vt){var br=cm(ce.h,vt);br!==-1&&ce.h[Yg](br,1)},"clr")},we=!0,Be=!1;function je(){we&&(Be=Be||sp(je,w,Q),Q&&!Q[Gl]&&Be&&(Q=o1(w,Q,B,"Converting")),we=!1);var vt=w.act;return vt&&ce.trk(vt),Q}o(je,"_getProperty"),je[w.prop]={chng:o(function(){w.add(ce)},"chng")};function it(vt){if(Q!==vt){je[w.ro]&&!w.upd&&wu("["+B+"] is read-only:"+ee(k)),we&&(Be=Be||sp(je,w,Q),we=!1);var br=Be&&je[w.rf];if(Be)if(br){Ze(Q,function(Mn){Q[Mn]=vt?vt[Mn]:Wl});try{Ze(vt,function(Mn,wr){k2(w,Q,Mn,wr)}),vt=Q}catch(Mn){gm((w.hdlr||{})[Yh],B,"Assigning",Mn),Be=!1}}else Q&&Q[Gl]&&Ze(Q,function(Mn){var wr=Am(Q,Mn);if(wr){var Fr=wr[w.prop];Fr&&Fr.chng()}});if(vt!==Q){var vn=vt&&sp(je,w,vt);!br&&vn&&(vt=o1(w,vt,B,"Converting")),Q=vt,Be=vn}w.add(ce)}}o(it,"_setProperty"),ie(k,ce.n,{g:je,s:it})}o(XR,"_createDynamicProperty");function k2(w,k,B,Q){if(k){var ce=Am(k,B),we=ce&&!!ce[w.prop];we?k[B]=Q:XR(w,k,B,Q)}return k}o(k2,"_setDynamicProperty");function T7(w,k,B,Q){if(k){var ce=Am(k,B),we=ce&&!!ce[w.prop],Be=Q&&Q[0],je=Q&&Q[1],it=Q&&Q[2];if(!we){if(it)try{S2(k)}catch(vt){gm((w.hdlr||{})[Yh],B,"Blocking",vt)}try{k2(w,k,B,k[B]),ce=Am(k,B)}catch(vt){gm((w.hdlr||{})[Yh],B,"State",vt)}}Be&&(ce[w.rf]=Be),je&&(ce[w.ro]=je),it&&(ce[w.blkVal]=!0)}return k}o(T7,"_setDynamicPropertyState");function o1(w,k,B,Q){try{Ze(k,function(ce,we){k2(w,k,ce,we)}),k[Gl]||(lt(k,Gl,{get:o(function(){return w.hdlr},"get")}),I7(w,k,B))}catch(ce){gm((w.hdlr||{})[Yh],B,Q,ce)}return k}o(o1,"_makeDynamicObject");var s1="[[ai_",R0="]]";function eB(w){var k=cr(s1+"get"+w.uid+R0),B=cr(s1+"ro"+w.uid+R0),Q=cr(s1+"rf"+w.uid+R0),ce=cr(s1+"blkVal"+w.uid+R0),we=cr(s1+"dtl"+w.uid+R0),Be=null,je=null,it;function vt(wr,Fr){var Ln=it.act;try{it.act=wr,wr&&wr[we]&&(dl(wr[we],function(pi){pi.clr(wr)}),wr[we]=[]),Fr({cfg:w.cfg,set:w.set.bind(w),setDf:w.setDf.bind(w),ref:w.ref.bind(w),rdOnly:w.rdOnly.bind(w)})}catch(pi){var bn=w[Yh];throw bn&&bn[YC](1,107,ee(pi)),pi}finally{it.act=Ln||null}}o(vt,"_useHandler");function br(){if(Be){var wr=Be;Be=null,je&&je[a7](),je=null;var Fr=[];if(dl(wr,function(Ln){if(Ln&&(Ln[we]&&(dl(Ln[we],function(bn){bn.clr(Ln)}),Ln[we]=null),Ln.fn))try{vt(Ln,Ln.fn)}catch(bn){Fr[Gi](bn)}}),Be)try{br()}catch(Ln){Fr[Gi](Ln)}Fr[Ba]>0&&h$("Watcher error(s): ",Fr)}}o(br,"_notifyWatchers");function vn(wr){if(wr&&wr.h[Ba]>0){Be||(Be=[]),je||(je=s7(function(){je=null,br()},0));for(var Fr=0;Fr<wr.h[Ba];Fr++){var Ln=wr.h[Fr];Ln&&cm(Be,Ln)===-1&&Be[Gi](Ln)}}}o(vn,"_addWatcher");function Mn(wr,Fr){if(wr){var Ln=wr[we]=wr[we]||[];cm(Ln,Fr)===-1&&Ln[Gi](Fr)}}return o(Mn,"_trackHandler"),it={prop:k,ro:B,rf:Q,blkVal:ce,hdlr:w,add:vn,notify:br,use:vt,trk:Mn},it}o(eB,"_createState");function E$(w,k){var B={fn:k,rm:o(function(){B.fn=null,w=null,k=null},"rm")};return ie(B,"toJSON",{v:o(function(){return"WatcherHandler"+(B.fn?"":"[X]")},"v")}),w.use(B,k),B}o(E$,"_createAndUseHandler");function tB(w,k,B){var Q=E7(k);if(Q)return Q;var ce=pm("dyncfg",!0),we=k&&B!==!1?k:b7(k),Be;function je(){Be.notify()}o(je,"_notifyWatchers");function it(bn,pi,to){try{bn=k2(Be,bn,pi,to)}catch(Si){gm(w,pi,"Setting value",Si)}return bn[pi]}o(it,"_setValue");function vt(bn){return E$(Be,bn)}o(vt,"_watch");function br(bn,pi){Be.use(null,function(to){var Si=Be.upd;try{J(pi)||(Be.upd=pi),bn(to)}finally{Be.upd=Si}})}o(br,"_block");function vn(bn,pi){var to;return T7(Be,bn,pi,(to={},to[0]=!0,to))[pi]}o(vn,"_ref");function Mn(bn,pi){var to;return T7(Be,bn,pi,(to={},to[1]=!0,to))[pi]}o(Mn,"_rdOnly");function wr(bn,pi){var to;return T7(Be,bn,pi,(to={},to[2]=!0,to))[pi]}o(wr,"_blkPropValue");function Fr(bn,pi){return pi&&Ze(pi,function(to,Si){op(Ln,bn,to,Si)}),bn}o(Fr,"_applyDefaults");var Ln={uid:null,cfg:we,logger:w,notify:je,set:it,setDf:Fr,watch:vt,ref:vn,rdOnly:Mn,blkVal:wr,_block:br};return ie(Ln,"uid",{c:!1,e:!1,w:!1,v:ce}),Be=eB(Ln),o1(Be,we,"config","Creating"),Ln}o(tB,"_createDynamicHandler");function rB(w,k){w?(w[zh](k),w[YC](2,108,k)):wu(k)}o(rB,"_logInvalidAccess");function o3(w,k,B,Q){var ce=tB(B,w||{},Q);return k&&ce.setDf(ce.cfg,k),ce}o(o3,"createDynamicConfig");function nB(w,k,B){var Q=w[Gl]||w;return Q.cfg&&(Q.cfg===w||Q.cfg[Gl]===Q)?Q[UR](k):(rB(B,VR+ee(w)),o3(w,null,B)[UR](k))}o(nB,"onConfigChange");var db=null;function iB(){var w=L("Microsoft");return w&&(db=w.ApplicationInsights),db}o(iB,"_getExtensionNamespace");function I$(w){var k=db;return!k&&w.disableDbgExt!==!0&&(k=db||iB()),k?k.ChromeDbgExt:null}o(I$,"getDebugExt");var R2,mb="warnToConsole",oB="AI (Internal): ",sB="AI: ",T$="AITR_",w$={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},aB=(R2={},R2[0]=null,R2[1]="errorToConsole",R2[2]=mb,R2[3]="debugToConsole",R2);function lB(w){return w?'"'+w[l2](/\"/g,Qs)+'"':Qs}o(lB,"_sanitizeDiagnosticText");function hb(w,k){var B=sb();if(B){var Q="log";B[w]&&(Q=w),ae(B[Q])&&B[Q](k)}}o(hb,"_logToConsole");var pb=function(){function w(k,B,Q,ce){Q===void 0&&(Q=!1);var we=this;we[l7]=k,we[Kg]=(Q?sB:oB)+k;var Be=Qs;Hi()&&(Be=b2().stringify(ce));var je=(B?" message:"+lB(B):Qs)+(ce?" props:"+lB(Be):Qs);we[Kg]+=je}return o(w,"_InternalLogMessage"),w.dataType="MessageData",w}();function _$(w,k){return(w||{})[Yh]||new gb(k)}o(_$,"safeGetLogger");var gb=function(){function w(k){this.identifier="DiagnosticLogger",this.queue=[];var B=0,Q={},ce,we,Be,je,it;XC(w,this,function(vt){it=vn(k||{}),vt.consoleLoggingLevel=function(){return ce},vt[YC]=function(Fr,Ln,bn,pi,to){to===void 0&&(to=!1);var Si=new pb(Ln,bn,to,pi);if(je)throw ee(Si);var Da=aB[Fr]||mb;if(J(Si[Kg]))wr("throw"+(Fr===1?"Critical":"Warning"),Si);else{if(to){var ay=+Si[l7];!Q[ay]&&ce>=Fr&&(vt[Da](Si[Kg]),Q[ay]=!0)}else ce>=Fr&&vt[Da](Si[Kg]);br(Fr,Si)}},vt.debugToConsole=function(Fr){hb("debug",Fr),wr("warning",Fr)},vt[zh]=function(Fr){hb("warn",Fr),wr("warning",Fr)},vt.errorToConsole=function(Fr){hb("error",Fr),wr("error",Fr)},vt.resetInternalMessageCount=function(){B=0,Q={}},vt.logInternalMessage=br,vt[zc]=function(Fr){it&&it.rm(),it=null};function br(Fr,Ln){if(!Mn()){var bn=!0,pi=T$+Ln[l7];if(Q[pi]?bn=!1:Q[pi]=!0,bn&&(Fr<=we&&(vt.queue[Gi](Ln),B++,wr(Fr===1?"error":"warn",Ln)),B===Be)){var to="Internal events throttle limit per PageView reached for this app.",Si=new pb(23,to,!1);vt.queue[Gi](Si),Fr===1?vt.errorToConsole(to):vt[zh](to)}}}o(br,"_logInternalMessage");function vn(Fr){return nB(o3(Fr,w$,vt).cfg,function(Ln){var bn=Ln.cfg;ce=bn[WR],we=bn.loggingLevelTelemetry,Be=bn.maxMessageLimit,je=bn.enableDebug})}o(vn,"_setDefaultsFromConfig");function Mn(){return B>=Be}o(Mn,"_areInternalMessagesThrottled");function wr(Fr,Ln){var bn=I$(k||{});bn&&bn[c7]&&bn[c7](Fr,Ln)}o(wr,"_debugExtMsg")})}return o(w,"DiagnosticLogger"),w.__ieDyn=1,w}();function Ab(w){return w||new gb}o(Ab,"_getLogger");function Yc(w,k,B,Q,ce,we){we===void 0&&(we=!1),Ab(w)[YC](k,B,Q,ce,we)}o(Yc,"_throwInternal");function yb(){for(var w=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],k=Qs,B,Q=0;Q<4;Q++)B=_2(),k+=w[B&15]+w[B>>4&15]+w[B>>8&15]+w[B>>12&15]+w[B>>16&15]+w[B>>20&15]+w[B>>24&15]+w[B>>28&15];var ce=w[8+(_2()&3)|0];return _t(k,0,8)+_t(k,9,4)+"4"+_t(k,13,3)+ce+_t(k,16,3)+_t(k,19,12)}o(yb,"generateW3CId");var B2=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,w7="00",B0="ff",hi="00000000000000000000000000000000",ym="0000000000000000",fa=1;function _u(w,k,B){return w&&w[Ba]===k&&w!==B?!!w.match(/^[\da-f]*$/i):!1}o(_u,"_isValid");function Cb(w,k,B){return _u(w,k)?w:B}o(Cb,"_formatValue");function a1(w){(isNaN(w)||w<0||w>255)&&(w=1);for(var k=w.toString(16);k[Ba]<2;)k="0"+k;return k}o(a1,"_formatFlags");function D2(w,k,B,Q){return{version:_u(Q,2,B0)?Q:w7,traceId:P2(w)?w:yb(),spanId:F2(k)?k:Ht(yb(),16),traceFlags:B>=0&&B<=255?B:1}}o(D2,"createTraceParent");function D0(w,k){if(!w||(le(w)&&(w=w[0]||""),!w||!Z(w)||w[Ba]>8192))return null;if(w.indexOf(",")!==-1){var B=w[u7](",");w=B[k>0&&B[Ba]>k?k:0]}var Q=B2.exec(gc(w));return!Q||Q[1]===B0||Q[2]===hi||Q[3]===ym?null:{version:(Q[1]||Qs)[zC](),traceId:(Q[2]||Qs)[zC](),spanId:(Q[3]||Qs)[zC](),traceFlags:parseInt(Q[4],16)}}o(D0,"parseTraceParent");function P2(w){return _u(w,32,hi)}o(P2,"isValidTraceId");function F2(w){return _u(w,16,ym)}o(F2,"isValidSpanId");function N2(w){return!(!w||!_u(w[qR],2,B0)||!_u(w.traceId,32,hi)||!_u(w.spanId,16,ym)||!_u(a1(w[$v]),2))}o(N2,"isValidTraceParent");function xb(w){return N2(w)?(w[$v]&fa)===fa:!1}o(xb,"isSampledFlag");function l1(w){if(w){var k=a1(w[$v]);_u(k,2)||(k="01");var B=w[qR]||w7;return B!=="00"&&B!=="ff"&&(B=w7),"".concat(B.toLowerCase(),"-").concat(Cb(w.traceId,32,hi).toLowerCase(),"-").concat(Cb(w.spanId,16,ym).toLowerCase(),"-").concat(k.toLowerCase())}return""}o(l1,"formatTraceParent");function _7(w){var k="traceparent",B=D0(ab(k),w);return B||(B=D0(Qf(k),w)),B}o(_7,"findW3cTraceParent");function S7(w){var k=w.getElementsByTagName("script"),B=[];return dl(k,function(Q){var ce=Q[f7]("src");if(ce){var we=Q[f7]("crossorigin"),Be=Q.hasAttribute("async")===!0,je=Q.hasAttribute("defer")===!0,it=Q[f7]("referrerpolicy"),vt={url:ce};we&&(vt.crossOrigin=we),Be&&(vt.async=Be),je&&(vt.defer=je),it&&(vt.referrerPolicy=it),B[Gi](vt)}}),B}o(S7,"findAllScripts");var vb="on",s3="attachEvent",bb="addEventListener",Eb="detachEvent",cB="removeEventListener",k7="events";pm("aiEvtPageHide"),pm("aiEvtPageShow");var S$=/\.[\.]+/g,k$=/[\.]+$/,Ib=1,L2=qf("events"),hl=/^([^.]*)(?:\.(.+)|)/;function a3(w){return w&&w[l2]?w[l2](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Qs):w}o(a3,"_normalizeNamespace");function tl(w,k){if(k){var B=Qs;le(k)?(B=Qs,dl(k,function(ce){ce=a3(ce),ce&&(ce[0]!=="."&&(ce="."+ce),B+=ce)})):B=a3(k),B&&(B[0]!=="."&&(B="."+B),w=(w||Qs)+B)}var Q=hl.exec(w||Qs)||[];return{type:Q[1],ns:(Q[2]||Qs).replace(S$,".").replace(k$,Qs)[u7](".").sort().join(".")}}o(tl,"_getEvtNamespace");function ap(w,k,B){B===void 0&&(B=!0);var Q=L2.get(w,k7,{},B),ce=Q[k];return ce||(ce=Q[k]=[]),ce}o(ap,"_getRegisteredEvents");function uB(w,k,B,Q){w&&k&&k[Kh]&&(w[cB]?w[cB](k[Kh],B,Q):w[Eb]&&w[Eb](vb+k[Kh],B))}o(uB,"_doDetach");function R$(w,k,B,Q){var ce=!1;return w&&k&&k[Kh]&&B&&(w[bb]?(w[bb](k[Kh],B,Q),ce=!0):w[s3]&&(w[s3](vb+k[Kh],B),ce=!0)),ce}o(R$,"_doAttach");function l3(w,k,B,Q){for(var ce=k[Ba];ce--;){var we=k[ce];we&&(!B.ns||B.ns===we[HR].ns)&&(!Q||Q(we))&&(uB(w,we[HR],we.handler,we.capture),k[Yg](ce,1))}}o(l3,"_doUnregister");function R7(w,k,B){if(k[Kh])l3(w,ap(w,k[Kh]),k,B);else{var Q=L2.get(w,k7,{});Ze(Q,function(ce,we){l3(w,we,k,B)}),Ct(Q)[Ba]===0&&L2.kill(w,k7)}}o(R7,"_unregisterEvents");function B$(w,k){var B;return k?(le(k)?B=[w].concat(k):B=[w,k],B=tl("xx",B).ns[u7](".")):B=w,B}o(B$,"mergeEvtNamespace");function B7(w,k,B,Q,ce){ce===void 0&&(ce=!1);var we=!1;if(w)try{var Be=tl(k,Q);if(we=R$(w,Be,B,ce),we&&L2.accept(w)){var je={guid:Ib++,evtName:Be,handler:B,capture:ce};ap(w,Be.type)[Gi](je)}}catch{}return we}o(B7,"eventOn");function fB(w,k,B,Q,ce){if(ce===void 0&&(ce=!1),w)try{var we=tl(k,Q),Be=!1;R7(w,we,function(je){return we.ns&&!B||je.handler===B?(Be=!0,!0):!1}),Be||uB(w,we,B,ce)}catch{}}o(fB,"eventOff");var Tb="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",dB="sampleRate",wb="ProcessLegacy",mB="http.method",D7="https://dc.services.visualstudio.com",c3="/v2/track",Wf="not_specified",P7="iKey",hB=d$({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),lp="split",xn="length",Q2="toLowerCase",c1="ingestionendpoint",u1="toString",F7="removeItem",u3="message",M2="count",_b="preTriggerDate",N7="getUTCDate",Sb="stringify",O2="pathname",f1="match",L7="correlationHeaderExcludePatterns",P0="name",U2="extensionConfig",Gf="properties",Ac="measurements",q2="sizeInBytes",f3="typeName",W2="exceptions",d3="severityLevel",G2="problemGroup",Kc="parsedStack",kb="hasFullStack",Rb="assembly",Su="fileName",H2="line",cp="aiDataContract",m3="duration";function Q7(w,k,B){var Q=k[xn],ce=M7(w,k);if(ce[xn]!==Q){for(var we=0,Be=ce;B[Be]!==void 0;)we++,Be=kt(ce,0,147)+pB(we);ce=Be}return ce}o(Q7,"dataSanitizeKeyAndAddUniqueness");function M7(w,k){var B;return k&&(k=gc(Ge(k)),k[xn]>150&&(B=kt(k,0,150),Yc(w,2,57,"name is too long.  It has been truncated to 150 characters.",{name:k},!0))),B||k}o(M7,"dataSanitizeKey");function rl(w,k,B){B===void 0&&(B=1024);var Q;return k&&(B=B||1024,k=gc(Ge(k)),k[xn]>B&&(Q=kt(k,0,B),Yc(w,2,61,"string value is too long. It has been truncated to "+B+" characters.",{value:k},!0))),Q||k}o(rl,"dataSanitizeString");function Hf(w,k){return U7(w,k,2048,66)}o(Hf,"dataSanitizeUrl");function Bb(w,k){var B;return k&&k[xn]>32768&&(B=kt(k,0,32768),Yc(w,2,56,"message is too long, it has been truncated to 32768 characters.",{message:k},!0)),B||k}o(Bb,"dataSanitizeMessage");function O7(w,k){var B;if(k){var Q=""+k;Q[xn]>32768&&(B=kt(Q,0,32768),Yc(w,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:k},!0))}return B||k}o(O7,"dataSanitizeException");function Cm(w,k){if(k){var B={};Ze(k,function(Q,ce){if(te(ce)&&Hi())try{ce=b2()[Sb](ce)}catch(we){Yc(w,2,49,"custom property is not valid",{exception:we},!0)}ce=rl(w,ce,8192),Q=Q7(w,Q,B),B[Q]=ce}),k=B}return k}o(Cm,"dataSanitizeProperties");function F0(w,k){if(k){var B={};Ze(k,function(Q,ce){Q=Q7(w,Q,B),B[Q]=ce}),k=B}return k}o(F0,"dataSanitizeMeasurements");function j2(w,k){return k&&U7(w,k,128,69)[u1]()}o(j2,"dataSanitizeId");function U7(w,k,B,Q){var ce;return k&&(k=gc(Ge(k)),k[xn]>B&&(ce=kt(k,0,B),Yc(w,2,Q,"input is too long, it has been truncated to "+B+" characters.",{data:k},!0))),ce||k}o(U7,"dataSanitizeInput");function pB(w){var k="00"+w;return _t(k,k[xn]-3)}o(pB,"dsPadNumber");var q7=Te()||{},gB=0,D$=[null,null,null,null,null];function V2(w){var k=gB,B=D$,Q=B[k];return q7.createElement?B[k]||(Q=B[k]=q7.createElement("a")):Q={host:yB(w,!0)},Q.href=w,k++,k>=B[xn]&&(k=0),gB=k,Q}o(V2,"urlParseUrl");function P$(w){var k,B=V2(w);return B&&(k=B.href),k}o(P$,"urlGetAbsoluteUrl");function F$(w){var k,B=V2(w);return B&&(k=B[O2]),k}o(F$,"urlGetPathName");function AB(w,k){return w?w.toUpperCase()+" "+k:k}o(AB,"urlGetCompleteUrl");function yB(w,k){var B=xm(w,k)||"";if(B){var Q=B[f1](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[xn]>3&&Z(Q[2])&&Q[2][xn]>0)return Q[2]+(Q[3]||"")}return B}o(yB,"urlParseHost");function xm(w,k){var B=null;if(w){var Q=w[f1](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[xn]>2&&Z(Q[2])&&Q[2][xn]>0&&(B=Q[2]||"",k&&Q[xn]>2)){var ce=(Q[1]||"")[Q2](),we=Q[3]||"";(ce==="http"&&we===":80"||ce==="https"&&we===":443")&&(we=""),B+=we}}return B}o(xm,"urlParseFullHost");var CB=[D7+c3,"https://breeze.aimon.applicationinsights.io"+c3,"https://dc-int.services.visualstudio.com"+c3],$2="cid-v1:";function xB(w){return cm(CB,w[Q2]())!==-1}o(xB,"isInternalApplicationInsightsEndpoint");function W7(w){$2=w}o(W7,"correlationIdSetPrefix");function G7(){return $2}o(G7,"correlationIdGetPrefix");function up(w,k,B){if(!k||w&&w.disableCorrelationHeaders)return!1;if(w&&w[L7]){for(var Q=0;Q<w.correlationHeaderExcludePatterns[xn];Q++)if(w[L7][Q].test(k))return!1}var ce=V2(k).host[Q2]();if(ce&&(Yr(ce,":443")!==-1||Yr(ce,":80")!==-1)&&(ce=(xm(k,!0)||"")[Q2]()),(!w||!w.enableCorsCorrelation)&&ce&&ce!==B)return!1;var we=w&&w.correlationHeaderDomains;if(we){var Be;if(dl(we,function(vt){var br=new RegExp(vt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Be=Be||br.test(ce)}),!Be)return!1}var je=w&&w.correlationHeaderExcludedDomains;if(!je||je[xn]===0)return!0;for(var Q=0;Q<je[xn];Q++){var it=new RegExp(je[Q].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(it.test(ce))return!1}return ce&&ce[xn]>0}o(up,"correlationIdCanIncludeCorrelationHeader");function vB(w){if(w){var k=bB(w,hB[1]);if(k&&k!==$2)return k}}o(vB,"correlationIdGetCorrelationContext");function bB(w,k){if(w)for(var B=w[lp](","),Q=0;Q<B[xn];++Q){var ce=B[Q][lp]("=");if(ce[xn]===2&&ce[0]===k)return ce[1]}}o(bB,"correlationIdGetCorrelationContextValue");function EB(w,k,B,Q){var ce,we=Q,Be=Q;if(k&&k[xn]>0){var je=V2(k);if(ce=je.host,!we)if(je[O2]!=null){var it=je.pathname[xn]===0?"/":je[O2];it.charAt(0)!=="/"&&(it="/"+it),Be=je[O2],we=rl(w,B?B+" "+it:it)}else we=rl(w,k)}else ce=Q,we=Q;return{target:ce,name:we,data:Be}}o(EB,"AjaxHelperParseDependencyPath");function N$(){var w=VC();if(w&&w.now&&w.timing){var k=w.now()+w.timing.navigationStart;if(k>0)return k}return Vg()}o(N$,"dateTimeUtilsNow");function L$(w,k){var B=null;return w!==0&&k!==0&&!O(w)&&!O(k)&&(B=k-w),B}o(L$,"dateTimeUtilsDuration");function H7(w,k){var B=w||{};return{getName:o(function(){return B[P0]},"getName"),setName:o(function(Q){k&&k.setName(Q),B[P0]=Q},"setName"),getTraceId:o(function(){return B.traceID},"getTraceId"),setTraceId:o(function(Q){k&&k.setTraceId(Q),P2(Q)&&(B.traceID=Q)},"setTraceId"),getSpanId:o(function(){return B.parentID},"getSpanId"),setSpanId:o(function(Q){k&&k.setSpanId(Q),F2(Q)&&(B.parentID=Q)},"setSpanId"),getTraceFlags:o(function(){return B.traceFlags},"getTraceFlags"),setTraceFlags:o(function(Q){k&&k.setTraceFlags(Q),B.traceFlags=Q},"setTraceFlags")}}o(H7,"createDistributedTraceContextFromTrace");var z2=$C({LocalStorage:0,SessionStorage:1}),Q$=$C({AI:0,AI_AND_W3C:1,W3C:2}),h3=$C({Normal:1,Critical:2}),fp=void 0,ku=void 0,IB="";function Y2(){return Db()?K2(z2.LocalStorage):null}o(Y2,"_getLocalStorageObject");function K2(w){try{if(O(Y()))return null;var k=new Date()[u1](),B=L(w===z2.LocalStorage?"localStorage":"sessionStorage"),Q=IB+k;B.setItem(Q,k);var ce=B.getItem(Q)!==k;if(B[F7](Q),!ce)return B}catch{}return null}o(K2,"_getVerifiedStorageObject");function J2(){return vm()?K2(z2.SessionStorage):null}o(J2,"_getSessionStorageObject");function p3(){fp=!1,ku=!1}o(p3,"utlDisableStorage");function g3(w){IB=w||""}o(g3,"utlSetStoragePrefix");function M$(){fp=Db(!0),ku=vm(!0)}o(M$,"utlEnableStorage");function Db(w){return(w||fp===void 0)&&(fp=!!K2(z2.LocalStorage)),fp}o(Db,"utlCanUseLocalStorage");function TB(w,k){var B=Y2();if(B!==null)try{return B.getItem(k)}catch(Q){fp=!1,Yc(w,2,1,"Browser failed read of local storage. "+Xh(Q),{exception:ee(Q)})}return null}o(TB,"utlGetLocalStorage");function wB(w,k,B){var Q=Y2();if(Q!==null)try{return Q.setItem(k,B),!0}catch(ce){fp=!1,Yc(w,2,3,"Browser failed write to local storage. "+Xh(ce),{exception:ee(ce)})}return!1}o(wB,"utlSetLocalStorage");function N0(w,k){var B=Y2();if(B!==null)try{return B[F7](k),!0}catch(Q){fp=!1,Yc(w,2,5,"Browser failed removal of local storage item. "+Xh(Q),{exception:ee(Q)})}return!1}o(N0,"utlRemoveStorage");function vm(w){return(w||ku===void 0)&&(ku=!!K2(z2.SessionStorage)),ku}o(vm,"utlCanUseSessionStorage");function Z2(){var w=[];return vm()&&Ze(L("sessionStorage"),function(k){w.push(k)}),w}o(Z2,"utlGetSessionStorageKeys");function _B(w,k){var B=J2();if(B!==null)try{return B.getItem(k)}catch(Q){ku=!1,Yc(w,2,2,"Browser failed read of session storage. "+Xh(Q),{exception:ee(Q)})}return null}o(_B,"utlGetSessionStorage");function O$(w,k,B){var Q=J2();if(Q!==null)try{return Q.setItem(k,B),!0}catch(ce){ku=!1,Yc(w,2,4,"Browser failed write to session storage. "+Xh(ce),{exception:ee(ce)})}return!1}o(O$,"utlSetSessionStorage");function SB(w,k){var B=J2();if(B!==null)try{return B[F7](k),!0}catch(Q){ku=!1,Yc(w,2,6,"Browser failed removal of session storage item. "+Xh(Q),{exception:ee(Q)})}return!1}o(SB,"utlRemoveSessionStorage");var U$="appInsightsThrottle",q$=function(){function w(k,B){var Q=this,ce,we,Be,je,it,vt,br,vn=!1,Mn=!1;Fr(),Q._getDbgPlgTargets=function(){return[br]},Q.getConfig=function(){return Be},Q.canThrottle=function(Lt){var Ur=iT(Lt),an=Ln(Lt);return to(an,ce,Ur)},Q.isTriggered=function(Lt){return jB(Lt)},Q.isReady=function(){return vn},Q.flush=function(Lt){try{var Ur=VB(Lt);if(Ur&&Ur[xn]>0){var an=Ur.slice(0);return br[Lt]=[],dl(an,function(Qo){wr(Qo.msgID,Qo[u3],Qo.severity,!1)}),!0}}catch{}return!1},Q.flushAll=function(){try{if(br){var Lt=!0;return Ze(br,function(Ur){var an=Q.flush(parseInt(Ur));Lt=Lt&&an}),Lt}}catch{}return!1},Q.onReadyState=function(Lt,Ur){return Ur===void 0&&(Ur=!0),vn=O(Lt)?!0:Lt,vn&&Ur?Q.flushAll():null},Q.sendMessage=function(Lt,Ur,an){return wr(Lt,Ur,an,!0)};function wr(Lt,Ur,an,Qo){if(vn){var Pa=oz(Lt);if(!Pa)return;var Ms=Ln(Lt),Fa=iT(Lt),m1=to(Ms,ce,Fa),gp=!1,ly=0,$B=jB(Lt);try{m1&&!$B?(ly=Qt(Ms.limit.maxSendNumber,Fa[M2]+1),Fa[M2]=0,gp=!0,it[Lt]=!0,Fa[_b]=new Date):(it[Lt]=m1,Fa[M2]+=1);var zB=Si(Lt);nT(we,zB,Fa);for(var Vb=0;Vb<ly;Vb++)HB(Lt,we,Ur,an)}catch{}return{isThrottled:gp,throttleNum:ly}}else if(Qo){var sz=VB(Lt);sz.push({msgID:Lt,message:Ur,severity:an})}return null}o(wr,"_flushMessage");function Fr(){we=_$(k),it={},je={},br={},Be={},bn(109),vt=x7(B)?B:"",k.addUnloadHook(nB(k.config,function(Lt){var Ur=Lt.cfg;ce=Db();var an=Ur.throttleMgrCfg||{};Ze(an,function(Qo,Pa){bn(parseInt(Qo),Pa)})}))}o(Fr,"_initConfig");function Ln(Lt){return Be[Lt]||Be[109]}o(Ln,"_getCfgByKey");function bn(Lt,Ur){var an,Qo;try{var Pa=Ur||{},Ms={};Ms.disabled=!!Pa.disabled;var Fa=Pa.interval||{};Mn=Fa?.daysOfMonth&&Fa?.daysOfMonth[xn]>0,Ms.interval=pi(Fa);var m1={samplingRate:((an=Pa.limit)===null||an===void 0?void 0:an.samplingRate)||100,maxSendNumber:((Qo=Pa.limit)===null||Qo===void 0?void 0:Qo.maxSendNumber)||1};Ms.limit=m1,Be[Lt]=Ms}catch{}}o(bn,"_setCfgByKey");function pi(Lt){Lt=Lt||{};var Ur=Lt?.monthInterval,an=Lt?.dayInterval;return O(Ur)&&O(an)&&(Lt.monthInterval=3,Mn||(Lt.daysOfMonth=[28],Mn=!0)),Lt={monthInterval:Lt?.monthInterval,dayInterval:Lt?.dayInterval,daysOfMonth:Lt?.daysOfMonth},Lt}o(pi,"_getIntervalConfig");function to(Lt,Ur,an){if(Lt&&!Lt.disabled&&Ur&&x7(an)){var Qo=I3(),Pa=an.date,Ms=Lt.interval,Fa=1;if(Ms?.monthInterval){var m1=(Qo.getUTCFullYear()-Pa.getUTCFullYear())*12+Qo.getUTCMonth()-Pa.getUTCMonth();Fa=jb(Ms.monthInterval,0,m1)}var gp=1;if(Mn)gp=cm(Ms.daysOfMonth,Qo[N7]());else if(Ms?.dayInterval){var ly=jh((Qo.getTime()-Pa.getTime())/864e5);gp=jb(Ms.dayInterval,0,ly)}return Fa>=0&&gp>=0}return!1}o(to,"_canThrottle");function Si(Lt,Ur){var an=x7(Ur)?Ur:"";return Lt?U$+an+"-"+Lt:null}o(Si,"_getLocalStorageName");function Da(Lt){try{if(Lt){var Ur=new Date;return Lt.getUTCFullYear()===Ur.getUTCFullYear()&&Lt.getUTCMonth()===Ur.getUTCMonth()&&Lt[N7]()===Ur[N7]()}}catch{}return!1}o(Da,"_isTriggeredOnCurDate");function ay(Lt,Ur,an){try{var Qo={date:I3(),count:0};if(Lt){var Pa=JSON.parse(Lt),Ms={date:I3(Pa.date)||Qo.date,count:Pa[M2]||Qo[M2],preTriggerDate:Pa.preTriggerDate?I3(Pa[_b]):void 0};return Ms}else return nT(Ur,an,Qo),Qo}catch{}return null}o(ay,"_getLocalStorageObj");function I3(Lt){try{if(Lt){var Ur=new Date(Lt);if(!isNaN(Ur.getDate()))return Ur}else return new Date}catch{}return null}o(I3,"_getThrottleDate");function nT(Lt,Ur,an){try{return wB(Lt,Ur,gc(JSON[Sb](an)))}catch{}return!1}o(nT,"_resetLocalStorage");function jb(Lt,Ur,an){return Lt<=0?1:an>=Ur&&(an-Ur)%Lt==0?jh((an-Ur)/Lt)+1:-1}o(jb,"_checkInterval");function HB(Lt,Ur,an,Qo){Yc(Ur,Qo||1,Lt,an)}o(HB,"_sendMessage");function oz(Lt){try{var Ur=Ln(Lt);return lb(1e6)<=Ur.limit.samplingRate}catch{}return!1}o(oz,"_canSampledIn");function iT(Lt){try{var Ur=je[Lt];if(!Ur){var an=Si(Lt,vt);Ur=ay(TB(we,an),we,an),je[Lt]=Ur}return je[Lt]}catch{}return null}o(iT,"_getLocalStorageObjByKey");function jB(Lt){var Ur=it[Lt];if(O(Ur)){Ur=!1;var an=iT(Lt);an&&(Ur=Da(an[_b])),it[Lt]=Ur}return it[Lt]}o(jB,"_isTrigger");function VB(Lt){return br=br||{},O(br[Lt])&&(br[Lt]=[]),br[Lt]}o(VB,"_getQueueByKey")}return o(w,"ThrottleMgr"),w}(),j7=";",jf="=";function Pb(w){if(!w)return{};var k=w[lp](j7),B=zs(k,function(ce,we){var Be=we[lp](jf);if(Be[xn]===2){var je=Be[0][Q2](),it=Be[1];ce[je]=it}return ce},{});if(Ct(B)[xn]>0){if(B.endpointsuffix){var Q=B.location?B.location+".":"";B[c1]=B[c1]||"https://"+Q+"dc."+B.endpointsuffix}B[c1]=B[c1]||D7,o2(B[c1],"/")&&(B[c1]=B[c1].slice(0,-1))}return B}o(Pb,"parseConnectionString");var Fb={parse:Pb},Nb=function(){function w(k,B,Q){var ce=this,we=this;we.ver=1,we.sampleRate=100,we.tags={},we[P0]=rl(k,Q)||Wf,we.data=B,we.time=mm(new Date),we[cp]={time:1,iKey:1,name:1,sampleRate:o(function(){return ce.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(w,"Envelope"),w}(),W$=function(){function w(k,B,Q,ce){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var we=this;we.ver=2,we[P0]=rl(k,B)||Wf,we[Gf]=Cm(k,Q),we[Ac]=F0(k,ce)}return o(w,"Event"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Event",w.dataType="EventData",w}(),G$=58,kB=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,H$=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,X2=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,RB=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,j$=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,V$=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,$$=/([^\(\s\n]+):([0-9]+)$/,BB="<no_method>",ey="error",Jc="stack",A3="stackDetails",Lb="errorSrc",y3="message",C3="description",V7=[{re:H$,len:5,m:1,fn:2,ln:3,col:4},{chk:Qb,pre:Lr,re:X2,len:4,m:1,fn:2,ln:3},{re:RB,len:3,m:1,fn:2,hdl:z7},{re:j$,len:2,fn:1,hdl:z7}];function Lr(w){return w.replace(/(\(anonymous\))/,"<anonymous>")}o(Lr,"_scrubAnonymous");function Qb(w){return Yr(w,"[native")<0}o(Qb,"_ignoreNative");function x3(w,k){var B=w;return B&&!Z(B)&&(JSON&&JSON[Sb]?(B=JSON[Sb](w),k&&(!B||B==="{}")&&(ae(w[u1])?B=w[u1]():B=""+w)):B=""+w+" - (Missing JSON.stringify)"),B||""}o(x3,"_stringify");function dp(w,k){var B=w;return w&&(B&&!Z(B)&&(B=w[y3]||w[C3]||B),B&&!Z(B)&&(B=x3(B,!0)),w.filename&&(B=B+" @"+(w.filename||"")+":"+(w.lineno||"?")+":"+(w.colno||"?"))),k&&k!=="String"&&k!=="Object"&&k!=="Error"&&Yr(B||"",k)===-1&&(B=k+": "+B),B||""}o(dp,"_formatMessage");function DB(w){try{if(te(w))return"hasFullStack"in w&&"typeName"in w}catch{}return!1}o(DB,"_isExceptionDetailsInternal");function PB(w){try{if(te(w))return"ver"in w&&"exceptions"in w&&"properties"in w}catch{}return!1}o(PB,"_isExceptionInternal");function Mb(w){return w&&w.src&&Z(w.src)&&w.obj&&le(w.obj)}o(Mb,"_isStackDetails");function bm(w){var k=w||"";Z(k)||(Z(k[Jc])?k=k[Jc]:k=""+k);var B=k[lp](`
`);return{src:k,obj:B}}o(bm,"_convertStackObj");function FB(w){for(var k=[],B=w[lp](`
`),Q=0;Q<B[xn];Q++){var ce=B[Q];B[Q+1]&&(ce+="@"+B[Q+1],Q++),k.push(ce)}return{src:w,obj:k}}o(FB,"_getOperaStack");function Ob(w){var k=null;if(w)try{if(w[Jc])k=bm(w[Jc]);else if(w[ey]&&w[ey][Jc])k=bm(w[ey][Jc]);else if(w.exception&&w.exception[Jc])k=bm(w.exception[Jc]);else if(Mb(w))k=w;else if(Mb(w[A3]))k=w[A3];else if(xt()&&xt().opera&&w[y3])k=FB(w[u3]);else if(w.reason&&w.reason[Jc])k=bm(w.reason[Jc]);else if(Z(w))k=bm(w);else{var B=w[y3]||w[C3]||"";Z(w[Lb])&&(B&&(B+=`
`),B+=" from "+w[Lb]),B&&(k=bm(B))}}catch(Q){k=bm(Q)}return k||{src:"",obj:null}}o(Ob,"_getStackFromErrorObj");function NB(w){var k="";return w&&(w.obj?k=w.obj.join(`
`):k=w.src||""),k}o(NB,"_formatStackTrace");function Ub(w){var k,B=w.obj;if(B&&B[xn]>0){k=[];var Q=0,ce=!1,we=0;dl(B,function(Ln){if(ce||z$(Ln)){var bn=Ge(Ln);ce=!0;var pi=Y$(bn,Q);pi&&(we+=pi[q2],k.push(pi),Q++)}});var Be=32*1024;if(we>Be)for(var je=0,it=k[xn]-1,vt=0,br=je,vn=it;je<it;){var Mn=k[je][q2],wr=k[it][q2];if(vt+=Mn+wr,vt>Be){var Fr=vn-br+1;k.splice(br,Fr);break}br=je,vn=it,je++,it--}}return k}o(Ub,"_parseStack");function ty(w){var k="";if(w&&(k=w.typeName||w[P0]||"",!k))try{var B=/function (.{1,200})\(/,Q=B.exec(w.constructor[u1]());k=Q&&Q[xn]>1?Q[1]:""}catch{}return k}o(ty,"_getErrorType");function qb(w){if(w)try{if(!Z(w)){var k=ty(w),B=x3(w,!1);return(!B||B==="{}")&&(w[ey]&&(w=w[ey],k=ty(w)),B=x3(w,!0)),Yr(B,k)!==0&&k!=="String"?k+":"+B:B}}catch{}return""+(w||"")}o(qb,"_formatErrorCode");var Vf=function(){function w(k,B,Q,ce,we,Be){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var je=this;je.ver=2,PB(B)?(je[W2]=B[W2]||[],je[Gf]=B[Gf],je[Ac]=B[Ac],B[d3]&&(je[d3]=B[d3]),B.id&&(je.id=B.id,B[Gf].id=B.id),B[G2]&&(je[G2]=B[G2]),O(B.isManual)||(je.isManual=B.isManual)):(Q||(Q={}),Be&&(Q.id=Be),je[W2]=[MB(k,B,Q)],je[Gf]=Cm(k,Q),je[Ac]=F0(k,ce),we&&(je[d3]=we),Be&&(je.id=Be))}return o(w,"Exception"),w.CreateAutoException=function(k,B,Q,ce,we,Be,je,it){var vt=ty(we||Be||k);return{message:dp(k,vt),url:B,lineNumber:Q,columnNumber:ce,error:qb(we||Be||k),evt:qb(Be||k),typeName:vt,stackDetails:Ob(je||we||Be),errorSrc:it}},w.CreateFromInterface=function(k,B,Q,ce){var we=B[W2]&&Nf(B[W2],function(je){return $7(k,je)}),Be=new w(k,Jv(Jv({},B),{exceptions:we}),Q,ce);return Be},w.prototype.toInterface=function(){var k=this,B=k.exceptions,Q=k.properties,ce=k.measurements,we=k.severityLevel,Be=k.problemGroup,je=k.id,it=k.isManual,vt=B instanceof Array&&Nf(B,function(br){return br.toInterface()})||void 0;return{ver:"4.0",exceptions:vt,severityLevel:we,properties:Q,measurements:ce,problemGroup:Be,id:je,isManual:it}},w.CreateSimpleException=function(k,B,Q,ce,we,Be){var je;return{exceptions:[(je={},je[kb]=!0,je.message=k,je.stack=we,je.typeName=B,je)]}},w.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",w.dataType="ExceptionData",w.formatError=qb,w}(),LB=Pt({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function QB(){var w=this,k=le(w[Kc])&&Nf(w[Kc],function(Q){return UB(Q)}),B={id:w.id,outerId:w.outerId,typeName:w[f3],message:w[u3],hasFullStack:w[kb],stack:w[Jc],parsedStack:k||void 0};return B}o(QB,"_toInterface");function MB(w,k,B){var Q,ce,we,Be,je,it,vt,br;if(DB(k))Be=k[f3],je=k[u3],vt=k[Jc],br=k[Kc]||[],it=k[kb];else{var vn=k,Mn=vn&&vn.evt;fe(vn)||(vn=vn[ey]||Mn||vn),Be=rl(w,ty(vn))||Wf,je=Bb(w,dp(k||vn,Be))||Wf;var wr=k[A3]||Ob(k);br=Ub(wr),le(br)&&Nf(br,function(Fr){Fr[Rb]=rl(w,Fr[Rb]),Fr[Su]=rl(w,Fr[Su])}),vt=O7(w,NB(wr)),it=le(br)&&br[xn]>0,B&&(B[f3]=B[f3]||Be)}return Q={},Q[cp]=LB,Q.id=ce,Q.outerId=we,Q.typeName=Be,Q.message=je,Q[kb]=it,Q.stack=vt,Q.parsedStack=br,Q.toInterface=QB,Q}o(MB,"_createExceptionDetails");function $7(w,k){var B=le(k[Kc])&&Nf(k[Kc],function(ce){return OB(ce)})||k[Kc],Q=MB(w,Jv(Jv({},k),{parsedStack:B}));return Q}o($7,"_createExDetailsFromInterface");function v3(w,k){var B=k[f1](V$);if(B&&B[xn]>=4)w[Su]=B[1],w[H2]=parseInt(B[2]);else{var Q=k[f1]($$);Q&&Q[xn]>=3?(w[Su]=Q[1],w[H2]=parseInt(Q[2])):w[Su]=k}}o(v3,"_parseFilename");function z7(w,k,B){var Q=w[Su];k.fn&&B&&B[xn]>k.fn&&(k.ln&&B[xn]>k.ln?(Q=gc(B[k.fn]||""),w[H2]=parseInt(gc(B[k.ln]||""))||0):Q=gc(B[k.fn]||"")),Q&&v3(w,Q)}o(z7,"_handleFilename");function z$(w){var k=!1;if(w&&Z(w)){var B=gc(w);B&&(k=kB.test(B))}return k}o(z$,"_isStackFrame");var Y7=Pt({level:1,method:1,assembly:0,fileName:0,line:0});function Y$(w,k){var B,Q;if(w&&Z(w)&&gc(w)){Q=(B={},B[cp]=Y7,B.level=k,B.assembly=gc(w),B.method=BB,B.fileName="",B.line=0,B.sizeInBytes=0,B);for(var ce=0;ce<V7[xn];){var we=V7[ce];if(we.chk&&!we.chk(w))break;we.pre&&(w=we.pre(w));var Be=w[f1](we.re);if(Be&&Be[xn]>=we.len){we.m&&(Q.method=gc(Be[we.m]||BB)),we.hdl?we.hdl(Q,we,Be):we.fn&&(we.ln?(Q[Su]=gc(Be[we.fn]||""),Q[H2]=parseInt(gc(Be[we.ln]||""))||0):v3(Q,Be[we.fn]||""));break}ce++}}return K7(Q)}o(Y$,"_extractStackFrame");function OB(w){var k,B=(k={},k[cp]=Y7,k.level=w.level,k.method=w.method,k.assembly=w[Rb],k.fileName=w[Su],k.line=w[H2],k.sizeInBytes=0,k);return K7(B)}o(OB,"_stackFrameFromInterface");function K7(w){var k=G$;return w&&(k+=w.method[xn],k+=w.assembly[xn],k+=w.fileName[xn],k+=w.level.toString()[xn],k+=w.line.toString()[xn],w[q2]=k),w}o(K7,"_populateFrameSizeInBytes");function UB(w){return{level:w.level,method:w.method,assembly:w[Rb],fileName:w[Su],line:w[H2]}}o(UB,"_parsedFrameToInterface");var qB=function(){function w(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(w,"DataPoint"),w}(),K$=function(){function w(k,B,Q,ce,we,Be,je,it,vt){this.aiDataContract={ver:1,metrics:1,properties:0};var br=this;br.ver=2;var vn=new qB;vn[M2]=ce>0?ce:void 0,vn.max=isNaN(Be)||Be===null?void 0:Be,vn.min=isNaN(we)||we===null?void 0:we,vn[P0]=rl(k,B)||Wf,vn.value=Q,vn.stdDev=isNaN(je)||je===null?void 0:je,br.metrics=[vn],br[Gf]=Cm(k,it),br[Ac]=F0(k,vt)}return o(w,"Metric"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",w.dataType="MetricData",w}(),ry="";function J$(w,k){return k===void 0&&(k=!1),w==null?k:w.toString()[Q2]()==="true"}o(J$,"stringToBoolOrDefault");function J7(w){(isNaN(w)||w<0)&&(w=0),w=o7(w);var k=ry+w%1e3,B=ry+jh(w/1e3)%60,Q=ry+jh(w/(1e3*60))%60,ce=ry+jh(w/(1e3*60*60))%24,we=jh(w/(1e3*60*60*24));return k=k[xn]===1?"00"+k:k[xn]===2?"0"+k:k,B=B[xn]<2?"0"+B:B,Q=Q[xn]<2?"0"+Q:Q,ce=ce[xn]<2?"0"+ce:ce,(we>0?we+".":ry)+ce+":"+Q+":"+B+"."+k}o(J7,"msToTimeSpan");function Z$(w,k){var B=null;return dl(w,function(Q){if(Q.identifier===k)return B=Q,-1}),B}o(Z$,"getExtensionByName");function mp(w,k,B,Q,ce){return!ce&&Z(w)&&(w==="Script error."||w==="Script error")}o(mp,"isCrossOriginError");var X$=function(){function w(k,B,Q,ce,we,Be,je){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var it=this;it.ver=2,it.id=j2(k,je),it.url=Hf(k,Q),it[P0]=rl(k,B)||Wf,isNaN(ce)||(it[m3]=J7(ce)),it[Gf]=Cm(k,we),it[Ac]=F0(k,Be)}return o(w,"PageView"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",w.dataType="PageviewData",w}(),ny=function(){function w(k,B,Q,ce,we,Be,je,it,vt,br,vn,Mn){vt===void 0&&(vt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var wr=this;wr.ver=2,wr.id=B,wr[m3]=J7(we),wr.success=Be,wr.resultCode=je+"",wr.type=rl(k,vt);var Fr=EB(k,Q,it,ce);wr.data=Hf(k,ce)||Fr.data,wr.target=rl(k,Fr.target),br&&(wr.target="".concat(wr.target," | ").concat(br)),wr[P0]=rl(k,Fr[P0]),wr[Gf]=Cm(k,vn),wr[Ac]=F0(k,Mn)}return o(w,"RemoteDependencyData"),w.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",w.dataType="RemoteDependencyData",w}(),Z7=function(){function w(k,B,Q,ce,we){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Be=this;Be.ver=2,B=B||Wf,Be[u3]=Bb(k,B),Be[Gf]=Cm(k,ce),Be[Ac]=F0(k,we),Q&&(Be[d3]=Q)}return o(w,"Trace"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Message",w.dataType="MessageData",w}(),b3=function(){function w(k,B,Q,ce,we,Be,je){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var it=this;it.ver=2,it.url=Hf(k,Q),it[P0]=rl(k,B)||Wf,it[Gf]=Cm(k,we),it[Ac]=F0(k,Be),je&&(it.domProcessing=je.domProcessing,it[m3]=je[m3],it.networkConnect=je.networkConnect,it.perfTotal=je.perfTotal,it.receivedResponse=je.receivedResponse,it.sentRequest=je.sentRequest)}return o(w,"PageViewPerformance"),w.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",w.dataType="PageviewPerformanceData",w}(),ez=function(){function w(k,B){this.aiDataContract={baseType:1,baseData:1},this.baseType=k,this.baseData=B}return o(w,"Data"),w}(),Wb=$C({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),tz=function(){function w(){}return o(w,"ConfigurationManager"),w.getConfig=function(k,B,Q,ce){ce===void 0&&(ce=!1);var we;return Q&&k[U2]&&k[U2][Q]&&!O(k[U2][Q][B])?we=k[U2][Q][B]:we=k[B],O(we)?ce:we},w}();function $f(w){var k="ai."+w+".";return function(B){return k+B}}o($f,"_aiNameFunc");var iy=$f("application"),da=$f("device"),Gb=$f("location"),oy=$f("operation"),Hb=$f("session"),hp=$f("user"),d1=$f("cloud"),E3=$f("internal"),pp=function(w){Jh(k,w);function k(){return w.call(this)||this}return o(k,"ContextTagKeys"),k}(t3({applicationVersion:iy("ver"),applicationBuild:iy("build"),applicationTypeId:iy("typeId"),applicationId:iy("applicationId"),applicationLayer:iy("layer"),deviceId:da("id"),deviceIp:da("ip"),deviceLanguage:da("language"),deviceLocale:da("locale"),deviceModel:da("model"),deviceFriendlyName:da("friendlyName"),deviceNetwork:da("network"),deviceNetworkName:da("networkName"),deviceOEMName:da("oemName"),deviceOS:da("os"),deviceOSVersion:da("osVersion"),deviceRoleInstance:da("roleInstance"),deviceRoleName:da("roleName"),deviceScreenResolution:da("screenResolution"),deviceType:da("type"),deviceMachineName:da("machineName"),deviceVMName:da("vmName"),deviceBrowser:da("browser"),deviceBrowserVersion:da("browserVersion"),locationIp:Gb("ip"),locationCountry:Gb("country"),locationProvince:Gb("province"),locationCity:Gb("city"),operationId:oy("id"),operationName:oy("name"),operationParentId:oy("parentId"),operationRootId:oy("rootId"),operationSyntheticSource:oy("syntheticSource"),operationCorrelationVector:oy("correlationVector"),sessionId:Hb("id"),sessionIsFirst:Hb("isFirst"),sessionIsNew:Hb("isNew"),userAccountAcquisitionDate:hp("accountAcquisitionDate"),userAccountId:hp("accountId"),userAgent:hp("userAgent"),userId:hp("id"),userStoreRegion:hp("storeRegion"),userAuthUserId:hp("authUserId"),userAnonymousUserAcquisitionDate:hp("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:hp("authUserAcquisitionDate"),cloudName:d1("name"),cloudRole:d1("role"),cloudRoleVer:d1("roleVer"),cloudRoleInstance:d1("roleInstance"),cloudEnvironment:d1("environment"),cloudLocation:d1("location"),cloudDeploymentUnit:d1("deploymentUnit"),internalNodeName:E3("nodeName"),internalSdkVersion:E3("sdkVersion"),internalAgentVersion:E3("agentVersion"),internalSnippet:E3("snippet"),internalSdkSrc:E3("sdkSrc")}));function X7(w,k,B,Q,ce,we){B=rl(Q,B)||Wf,(O(w)||O(k)||O(B))&&Le("Input doesn't contain all required fields");var Be="";w[P7]&&(Be=w[P7],delete w[P7]);var je={name:B,time:mm(new Date),iKey:Be,ext:we||{},tags:[],data:{},baseType:k,baseData:w};return O(ce)||Ze(ce,function(it,vt){je.data[it]=vt}),je}o(X7,"createTelemetryItem");var eT=function(){function w(){}return o(w,"TelemetryItemCreator"),w.create=X7,w}(),rz={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},nz=new pp;function WB(w){var k=null;if(ae(Event))k=new Event(w);else{var B=Te();B&&B.createEvent&&(k=B.createEvent("Event"),k.initEvent(w,!0,!0))}return k}o(WB,"createDomEvent");function tT(w,k){fB(w,null,null,k)}o(tT,"_disableEvents");function GB(w){var k=Te(),B=Nt(),Q=!1,ce=[],we=1;B&&!O(B.onLine)&&!B.onLine&&(we=2);var Be=0,je=Mn(),it=B$(pm("OfflineListener"),w);try{if(br(xt())&&(Q=!0),k){var vt=k.body||k;vt.ononline&&br(vt)&&(Q=!0)}}catch{Q=!1}function br(Si){var Da=!1;return Si&&(Da=B7(Si,"online",Ln,it),Da&&B7(Si,"offline",bn,it)),Da}o(br,"_enableEvents");function vn(){return je}o(vn,"_isOnline");function Mn(){return!(Be===2||we===2)}o(Mn,"calCurrentState");function wr(){var Si=Mn();je!==Si&&(je=Si,dl(ce,function(Da){var ay={isOnline:je,rState:we,uState:Be};try{Da(ay)}catch{}}))}o(wr,"listnerNoticeCheck");function Fr(Si){Be=Si,wr()}o(Fr,"setOnlineState");function Ln(){we=1,wr()}o(Ln,"_setOnline");function bn(){we=2,wr()}o(bn,"_setOffline");function pi(){var Si=xt();if(Si&&Q){if(tT(Si,it),k){var Da=k.body||k;J(Da.ononline)||tT(Da,it)}Q=!1}}o(pi,"_unload");function to(Si){return ce.push(Si),{rm:o(function(){var Da=ce.indexOf(Si);if(Da>-1)return ce.splice(Da,1)},"rm")}}return o(to,"addListener"),{isOnline:vn,isListening:o(function(){return Q},"isListening"),unload:pi,addListener:to,setOnlineState:Fr}}o(GB,"createOfflineListener");var iz="AppInsightsPropertiesPlugin",rT="AppInsightsChannelPlugin",sy="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=sy,e.BreezeChannelIdentifier=rT,e.ConfigurationManager=tz,e.ConnectionStringParser=Fb,e.ContextTagKeys=pp,e.CtxTagKeys=nz,e.DEFAULT_BREEZE_ENDPOINT=D7,e.DEFAULT_BREEZE_PATH=c3,e.Data=ez,e.DisabledPropertyName=Tb,e.DistributedTracingModes=Q$,e.Envelope=Nb,e.Event=W$,e.EventPersistence=h3,e.Exception=Vf,e.Extensions=rz,e.HttpMethod=mB,e.Metric=K$,e.PageView=X$,e.PageViewPerformance=b3,e.ProcessLegacy=wb,e.PropertiesPluginIdentifier=iz,e.RemoteDependencyData=ny,e.RequestHeaders=hB,e.SampleRate=dB,e.SeverityLevel=Wb,e.TelemetryItemCreator=eT,e.ThrottleMgr=q$,e.Trace=Z7,e.correlationIdCanIncludeCorrelationHeader=up,e.correlationIdGetCorrelationContext=vB,e.correlationIdGetCorrelationContextValue=bB,e.correlationIdGetPrefix=G7,e.correlationIdSetPrefix=W7,e.createDistributedTraceContextFromTrace=H7,e.createDomEvent=WB,e.createOfflineListener=GB,e.createTelemetryItem=X7,e.createTraceParent=D2,e.dataSanitizeException=O7,e.dataSanitizeId=j2,e.dataSanitizeInput=U7,e.dataSanitizeKey=M7,e.dataSanitizeKeyAndAddUniqueness=Q7,e.dataSanitizeMeasurements=F0,e.dataSanitizeMessage=Bb,e.dataSanitizeProperties=Cm,e.dataSanitizeString=rl,e.dataSanitizeUrl=Hf,e.dateTimeUtilsDuration=L$,e.dateTimeUtilsNow=N$,e.dsPadNumber=pB,e.findAllScripts=S7,e.findW3cTraceParent=_7,e.formatTraceParent=l1,e.getExtensionByName=Z$,e.isBeaconApiSupported=tp,e.isCrossOriginError=mp,e.isInternalApplicationInsightsEndpoint=xB,e.isSampledFlag=xb,e.isValidSpanId=F2,e.isValidTraceId=P2,e.isValidTraceParent=N2,e.msToTimeSpan=J7,e.parseConnectionString=Pb,e.parseTraceParent=D0,e.strNotSpecified=Wf,e.stringToBoolOrDefault=J$,e.urlGetAbsoluteUrl=P$,e.urlGetCompleteUrl=AB,e.urlGetPathName=F$,e.urlParseFullHost=xm,e.urlParseHost=yB,e.urlParseUrl=V2,e.utlCanUseLocalStorage=Db,e.utlCanUseSessionStorage=vm,e.utlDisableStorage=p3,e.utlEnableStorage=M$,e.utlGetLocalStorage=TB,e.utlGetSessionStorage=_B,e.utlGetSessionStorageKeys=Z2,e.utlRemoveSessionStorage=SB,e.utlRemoveStorage=N0,e.utlSetLocalStorage=wB,e.utlSetSessionStorage=O$,e.utlSetStoragePrefix=g3})});var Q5e=H((XF,L5e)=>{d();(function(e,t){typeof XF=="object"&&typeof L5e<"u"?t(XF):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(XF,function(e){"use strict";function t(g,y){return g||y}o(t,"_pureAssign");function r(g,y){return g[y]}o(r,"_pureRef");var n=void 0,i=null,s="",a="function",l="object",c="prototype",u="__proto__",f="undefined",m="constructor",h="Symbol",p="_polyfill",A="length",x="name",v="call",E="toString",b=t(Object),_=r(b,c),R=t(String),P=r(R,c),F=t(Math),W=t(Array),se=r(W,c),de=r(se,"slice");function re(g,y){try{return{v:g.apply(this,y)}}catch(T){return{e:T}}}o(re,"safe");function G(g,y){var T=re(g);return T.e?y:T.v}o(G,"safeGet");var U;function ne(g){return function(y){return typeof y===g}}o(ne,"_createIs");function J(g){var y="[object "+g+"]";return function(T){return!!(T&&j(T)===y)}}o(J,"_createObjIs");function j(g){return _[E].call(g)}o(j,"objToString");function O(g){return typeof g===f||g===f}o(O,"isUndefined");function V(g){return!te(g)}o(V,"isStrictUndefined");function Z(g){return g===i||O(g)}o(Z,"isNullOrUndefined");function ae(g){return g===i||!te(g)}o(ae,"isStrictNullOrUndefined");function te(g){return!!g||g!==n}o(te,"isDefined");function le(g){return!U&&(U=["string","number","boolean",f,"symbol","bigint"]),g!==l&&U.indexOf(g)!==-1}o(le,"isPrimitiveType");var fe=ne("string"),De=ne(a);function ve(g){return!g&&Z(g)?!1:!!g&&typeof g===l}o(ve,"isObject");var Ue=r(W,"isArray"),ke=J("Date"),Ze=ne("number"),ft=ne("boolean"),at=J("Error");function lt(g){return!!(g&&g.then&&De(g.then))}o(lt,"isPromiseLike");function ie(g){return!(!g||G(function(){return!(g&&0+g)},!g))}o(ie,"isTruthy");var Fe=r(b,"getOwnPropertyDescriptor");function Ae(g,y){return!!g&&_.hasOwnProperty[v](g,y)}o(Ae,"objHasOwnProperty");var Ge=t(r(b,"hasOwn"),z);function z(g,y){return Ae(g,y)||!!Fe(g,y)}o(z,"polyObjHasOwn");function ee(g,y,T){if(g&&ve(g)){for(var S in g)if(Ge(g,S)&&y[v](T||g,S,g[S])===-1)break}}o(ee,"objForEachKey");var Le={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Se(g){var y={};if(y[Le.c]=!0,y[Le.e]=!0,g.l){y.get=function(){return g.l.v};var T=Fe(g.l,"v");T&&T.set&&(y.set=function(S){g.l.v=S})}return ee(g,function(S,D){y[Le[S]]=V(D)?y[Le[S]]:D}),y}o(Se,"_createProp");var Ce=r(b,"defineProperty");function qe(g,y,T){return Ce(g,y,Se(T))}o(qe,"objDefine");function Ve(g,y,T,S,D){var N={};return ee(g,function(q,oe){tt(N,q,y?oe:q),tt(N,oe,T?oe:q)}),S?S(N):N}o(Ve,"_createKeyValueMap");function tt(g,y,T,S){Ce(g,y,{value:T,enumerable:!0,writable:!1})}o(tt,"_assignMapValue");var Ct=t(R),Pt="[object Error]";function yt(g,y){var T=s,S=_[E][v](g);S===Pt&&(g={stack:Ct(g.stack),message:Ct(g.message),name:Ct(g.name)});try{T=JSON.stringify(g,i,y?typeof y=="number"?y:4:n),T=(T?T.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||Ct(g)}catch(D){T=" - "+yt(D,y)}return S+": "+T}o(yt,"dumpObj");function $t(g){throw new Error(g)}o($t,"throwError");function Kt(g){throw new TypeError(g)}o(Kt,"throwTypeError");var sr=r(b,"freeze");function ge(g){return g}o(ge,"_doNothing");function Qe(g){return g[u]||i}o(Qe,"_getProto");var Je=r(b,"assign"),rt=r(b,"keys");function St(g){return sr&&ee(g,function(y,T){(Ue(T)||ve(T))&&St(T)}),bt(g)}o(St,"objDeepFreeze");var bt=t(sr,ge),Qt=t(r(b,"getPrototypeOf"),Qe);function Ot(g){return Ve(g,1,0,bt)}o(Ot,"createEnum");function wt(g){return Ve(g,0,0,bt)}o(wt,"createEnumKeyMap");function kt(g){var y={};return ee(g,function(T,S){tt(y,T,S[1]),tt(y,S[0],S[1])}),bt(y)}o(kt,"createSimpleMap");function _t(g){return kt(g)}o(_t,"createTypeMap");var qt=wt({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Ht="__tsUtils$gblCfg",Jt;function ur(){var g;return typeof globalThis!==f&&(g=globalThis),!g&&typeof self!==f&&(g=self),!g&&typeof window!==f&&(g=window),!g&&typeof global!==f&&(g=global),g}o(ur,"_getGlobalValue");function gr(){if(!Jt){var g=re(ur).v||{};Jt=g[Ht]=g[Ht]||{}}return Jt}o(gr,"_getGlobalConfig");var lr=fr;function fr(g,y,T){var S=y?y[g]:i;return function(D){var N=(D?D[g]:i)||S;if(N||T){var q=arguments;return(N||T).apply(D,N?de[v](q,1):q)}Kt('"'+Ct(g)+'" not defined for '+yt(D))}}o(fr,"_unwrapFunctionWithPoly");function rr(g){return function(y){return y[g]}}o(rr,"_unwrapProp");var dr=r(F,"min"),Ie=r(F,"max"),M=lr("slice",P),me=lr("substring",P),ye=fr("substr",P,Y);function Y(g,y,T){return Z(g)&&Kt("Invalid "+yt(g)),T<0?s:(y=y||0,y<0&&(y=Ie(y+g[A],0)),O(T)?M(g,y):M(g,y,y+T))}o(Y,"polyStrSubstr");function L(g,y){return me(g,0,y)}o(L,"strLeft");var Te="_urid",Oe;function xt(){if(!Oe){var g=gr();Oe=g.gblSym=g.gblSym||{k:{},s:{}}}return Oe}o(xt,"_globalSymbolRegistry");var Wt;function Nt(g){var y={description:Ct(g),toString:o(function(){return h+"("+g+")"},"toString")};return y[p]=!0,y}o(Nt,"polyNewSymbol");function ir(g){var y=xt();if(!Ge(y.k,g)){var T=Nt(g),S=rt(y.s).length;T[Te]=function(){return S+"_"+T[E]()},y.k[g]=T,y.s[T[Te]()]=Ct(g)}return y.k[g]}o(ir,"polySymbolFor");function ar(g){!Wt&&(Wt={});var y,T=qt[g];return T&&(y=Wt[T]=Wt[T]||Nt(h+"."+T)),y}o(ar,"polyGetKnownSymbol");var Ut;function It(){Ut=gr()}o(It,"_initTestHooks");function cr(g){var y={};return!Ut&&It(),y.b=Ut.lzy,Ce(y,"v",{configurable:!0,get:o(function(){var T=g();return Ut.lzy||Ce(y,"v",{value:T}),y.b=Ut.lzy,T},"get")}),y}o(cr,"getLazy");function zo(g){return Ce({toJSON:o(function(){return g},"toJSON")},"v",{value:g})}o(zo,"createCachedValue");var lm="window",dl;function cm(g,y){var T;return function(){return!Ut&&It(),(!T||Ut.lzy)&&(T=zo(re(g,y).v)),T.v}}o(cm,"_getGlobalInstFn");function Nf(g){return!Ut&&It(),(!dl||g===!1||Ut.lzy)&&(dl=zo(re(ur).v||i)),dl.v}o(Nf,"getGlobal");function zs(g,y){var T;if(!dl||y===!1?T=Nf(y):T=dl.v,T&&T[g])return T[g];if(g===lm)try{return window}catch{}return i}o(zs,"getInst");function Gh(){return!!i2()}o(Gh,"hasDocument");var i2=cm(zs,["document"]);function n7(){return!!um()}o(n7,"hasWindow");var um=cm(zs,[lm]);function a$(){return!!Hh()}o(a$,"hasNavigator");var Hh=cm(zs,["navigator"]),l$=cm(function(){return!!re(function(){return process&&(process.versions||{}).node}).v}),Vg,i7;function jv(){return Vg=zo(re(zs,[h]).v),Vg}o(jv,"_initSymbol");function c$(g){var y=(Ut.lzy?0:Vg)||jv();return y.v?y.v[g]:n}o(c$,"_getSymbolKey");function gc(){return!!jh()}o(gc,"hasSymbol");function jh(){return!Ut&&It(),((Ut.lzy?0:Vg)||jv()).v}o(jh,"getSymbol");function HC(g,y){var T=qt[g];!Ut&&It();var S=(Ut.lzy?0:Vg)||jv();return S.v?S.v[T||g]:y?n:ar(g)}o(HC,"getKnownSymbol");function $g(g,y){!Ut&&It();var T=(Ut.lzy?0:Vg)||jv();return T.v?T.v(g):y?i:Nt(g)}o($g,"newSymbol");function jC(g){return!Ut&&It(),i7=(Ut.lzy?0:i7)||zo(re(c$,["for"]).v),(i7.v||ir)(g)}o(jC,"symbolFor");function Vh(g){return!!g&&De(g.next)}o(Vh,"isIterator");function Vv(g){return!ae(g)&&De(g[HC(3)])}o(Vv,"isIterable");var VC;function o7(g,y,T){if(g&&(Vh(g)||(!VC&&(VC=zo(HC(3))),g=g[VC.v]?g[VC.v]():i),Vh(g))){var S=n,D=n;try{for(var N=0;!(D=g.next()).done&&y[v](T||g,D.value,N,g)!==-1;)N++}catch(q){S={e:q},g.throw&&(D=i,g.throw(S))}finally{try{D&&!D.done&&g.return&&g.return(D)}finally{if(S)throw S.e}}}}o(o7,"iterForOf");function o2(g,y,T){return g.apply(y,T)}o(o2,"fnApply");function s2(g,y){return!O(y)&&g&&(Ue(y)?o2(g.push,g,y):Vh(y)||Vv(y)?o7(y,function(T){g.push(T)}):g.push(y)),g}o(s2,"arrAppend");function Yr(g,y,T){if(g)for(var S=g[A]>>>0,D=0;D<S&&!(D in g&&y[v](T||g,g[D],D,g)===-1);D++);}o(Yr,"arrForEach");var $c=lr("indexOf",se),zg=lr("map",se);function a2(g,y,T){return((g?g.slice:i)||de).apply(g,de[v](arguments,1))}o(a2,"arrSlice");var u$=lr("reduce",se),$h=t(r(b,"create"),f$);function f$(g){if(!g)return{};var y=typeof g;y!==l&&y!==a&&Kt("Prototype must be an Object or function: "+yt(g));function T(){}return o(T,"tempFunc"),T[c]=g,new T}o(f$,"polyObjCreate");var s7;function $C(g,y){var T=b.setPrototypeOf||function(S,D){var N;!s7&&(s7=zo((N={},N[u]=[],N instanceof Array))),s7.v?S[u]=D:ee(D,function(q,oe){return S[q]=oe})};return T(g,y)}o($C,"objSetPrototypeOf");function d$(g,y,T){re(qe,[y,x,{v:g,c:!0,e:!1}]),y=$C(y,T);function S(){this[m]=y,re(qe,[this,x,{v:g,c:!0,e:!1}])}return o(S,"__"),y[c]=T===i?$h(T):(S[c]=T[c],new S),y}o(d$,"_createCustomError");function zC(g,y){y&&(g[x]=y)}o(zC,"_setName");function Ba(g,y,T){var S=T||Error,D=S[c][x],N=Error.captureStackTrace;return d$(g,function(){var q=this,oe=arguments;try{re(zC,[S,g]);var ue=o2(S,q,de[v](oe))||q;if(ue!==q){var xe=Qt(q);xe!==Qt(ue)&&$C(ue,xe)}return N&&N(ue,q[m]),y&&y(ue,oe),ue}finally{re(zC,[S,D])}},S)}o(Ba,"createCustomError");function zh(){return(Date.now||YC)()}o(zh,"utcNow");function YC(){return new Date().getTime()}o(YC,"polyUtcNow");function UR(g){return o(function(T){return Z(T)&&Kt("strTrim called ["+yt(T)+"]"),T&&T.replace&&(T=T.replace(g,s)),T},"_doTrim")}o(UR,"_createTrimFn");var m$=UR(/^\s+|(?=\s)\s+$/g),Gi=fr("trim",P,m$),Yg=r(F,"floor"),Yh,a7,KC;function zc(g){if(!g||typeof g!==l)return!1;KC||(KC=n7()?um():!0);var y=!1;if(g!==KC){a7||(Yh=Function[c][E],a7=Yh[v](b));try{var T=Qt(g);y=!T,y||(Ae(T,m)&&(T=T[m]),y=!!(T&&typeof T===a&&Yh[v](T)===a7))}catch{}}return y}o(zc,"isPlainObject");function qR(g){return g.value&&$v(g),!0}o(qR,"_defaultDeepCopyHandler");var WR=[l2,$v,HR,Kh];function l7(g,y,T,S){var D;return Yr(g,function(N){if(N.k===y)return D=N,-1}),D||(D={k:y,v:y},g.push(D),S(D)),D.v}o(l7,"_getSetVisited");function Kg(g,y,T,S){var D=T.handler,N=T.path?S?T.path.concat(S):T.path:[],q={handler:T.handler,src:T.src,path:N},oe=typeof y,ue=!1,xe=y===i;xe||(y&&oe===l?ue=zc(y):xe=le(oe));var Re={type:oe,isPrim:xe,isPlain:ue,value:y,result:y,path:N,origin:T.src,copy:o(function(We,Xe){return Kg(g,We,Xe?q:T,Xe)},"copy"),copyTo:o(function(We,Xe){return c7(g,We,Xe,q)},"copyTo")};return Re.isPrim?D&&D[v](T,Re)?Re.result:y:l7(g,y,N,function(We){qe(Re,"result",{g:o(function(){return We.v},"g"),s:o(function(Ye){We.v=Ye},"s")});for(var Xe=0,He=D;!(He||(Xe<WR.length?WR[Xe++]:qR))[v](T,Re);)He=i})}o(Kg,"_deepCopy");function c7(g,y,T,S){if(!Z(T))for(var D in T)y[D]=Kg(g,T[D],S,D);return y}o(c7,"_copyProps");function GR(g,y,T){var S={handler:T,src:y,path:[]};return c7([],g,y,S)}o(GR,"objCopyProps");function u7(g,y){var T={handler:y,src:g};return Kg([],g,T)}o(u7,"objDeepCopy");function l2(g){var y=g.value;if(Ue(y)){var T=g.result=[];return T.length=y.length,g.copyTo(T,y),!0}return!1}o(l2,"arrayDeepCopyHandler");function Kh(g){var y=g.value;return ke(y)?(g.result=new Date(y.getTime()),!0):!1}o(Kh,"dateDeepCopyHandler");function HR(g){return g.type===a}o(HR,"functionDeepCopyHandler");function $v(g){var y=g.value;if(y&&g.isPlain){var T=g.result={};return g.copyTo(T,y),!0}return!1}o($v,"plainObjDeepCopyHandler");function f7(g,y){return Yr(y,function(T){GR(g,T)}),g}o(f7,"_doExtend");function zv(g,y,T,S,D,N,q){return f7(u7(g)||{},de[v](arguments))}o(zv,"deepExtend");var h$=rr(A),p$=r(F,"round"),jR=fr("endsWith",P,g$);function g$(g,y,T){fe(g)||Kt("'"+yt(g)+"' is not a string");var S=fe(y)?y:Ct(y),D=!O(T)&&T<g[A]?T:g[A];return me(g,D-S[A],D)===S}o(g$,"polyStrEndsWith");var fm=lr("indexOf",P),Yv="ref",d7="unref",Kv="hasRef",A$="enabled";function Jv(g,y,T){var S=!0,D=g?y(i):i,N;function q(){return S=!1,D&&D[d7]&&D[d7](),N}o(q,"_unref");function oe(){D&&T(D),D=i}o(oe,"_cancel");function ue(){return D=y(D),S||q(),N}o(ue,"_refresh");function xe(Re){!Re&&D&&oe(),Re&&!D&&ue()}return o(xe,"_setEnabled"),N={cancel:oe,refresh:ue},N[Kv]=function(){return D&&D[Kv]?D[Kv]():S},N[Yv]=function(){return S=!0,D&&D[Yv]&&D[Yv](),N},N[d7]=q,N=Ce(N,A$,{get:o(function(){return!!D},"get"),set:xe}),{h:N,dn:o(function(){D=i},"dn")}}o(Jv,"_createTimerHandler");function Zv(g,y,T){var S=Ue(y),D=S?y.length:0,N=(D>0?y[0]:S?n:y)||setTimeout,q=(D>1?y[1]:n)||clearTimeout,oe=T[0];T[0]=function(){ue.dn(),o2(oe,n,de[v](arguments))};var ue=Jv(g,function(xe){if(xe){if(xe.refresh)return xe.refresh(),xe;o2(q,n,[xe])}return o2(N,n,T)},function(xe){o2(q,n,[xe])});return ue.h}o(Zv,"_createTimeoutWith");function Jh(g,y){return Zv(!0,n,de[v](arguments))}o(Jh,"scheduleTimeout");function Xv(g,y){return Zv(!1,n,de[v](arguments))}o(Xv,"createTimeout");var Jg,S0="constructor",k0="prototype",Zg="function",c2="_dynInstFuncs",Zh="_isDynProxy",u2="_dynClass",m7="_dynCls$",Xg="_dynInstChk",f2=Xg,h7="_dfOpts",eb="_unknown_",d2="__proto__",JC="_dyn"+d2,tb="__dynProto$Gbl",m2="_dynInstProto",h2="useBaseInst",ZC="setInstFuncs",e1=Object,p2=e1.getPrototypeOf,p7=e1.getOwnPropertyNames,rb=Nf(),g2=rb[tb]||(rb[tb]={o:(Jg={},Jg[ZC]=!0,Jg[h2]=!0,Jg),n:1e3});function A2(g){return g&&(g===e1[k0]||g===Array[k0])}o(A2,"_isObjectOrArrayPrototype");function dm(g){return A2(g)||g===Function[k0]}o(dm,"_isObjectArrayOrFunctionPrototype");function Lf(g){var y;if(g){if(p2)return p2(g);var T=g[d2]||g[k0]||(g[S0]?g[S0][k0]:null);y=g[JC]||T,Ae(g,JC)||(delete g[m2],y=g[JC]=g[m2]||g[JC],g[m2]=T)}return y}o(Lf,"_getObjProto");function y2(g,y){var T=[];if(p7)T=p7(g);else for(var S in g)typeof S=="string"&&Ae(g,S)&&T.push(S);if(T&&T.length>0)for(var D=0;D<T.length;D++)y(T[D])}o(y2,"_forEachProp");function C2(g,y,T){return y!==S0&&typeof g[y]===Zg&&(T||Ae(g,y))&&y!==d2&&y!==k0}o(C2,"_isDynamicCandidate");function nb(g){Kt("DynamicProto: "+g)}o(nb,"_throwTypeError");function g7(g){var y=$h(null);return y2(g,function(T){!y[T]&&C2(g,T,!1)&&(y[T]=g[T])}),y}o(g7,"_getInstanceFuncs");function A7(g,y){for(var T=g.length-1;T>=0;T--)if(g[T]===y)return!0;return!1}o(A7,"_hasVisited");function y$(g,y,T,S){function D(ue,xe,Re){var We=xe[Re];if(We[Zh]&&S){var Xe=ue[c2]||{};Xe[f2]!==!1&&(We=(Xe[xe[u2]]||{})[Re]||We)}return function(){return We.apply(ue,arguments)}}o(D,"_instFuncProxy");var N=$h(null);y2(T,function(ue){N[ue]=D(y,T,ue)});for(var q=Lf(g),oe=[];q&&!dm(q)&&!A7(oe,q);)y2(q,function(ue){!N[ue]&&C2(q,ue,!p2)&&(N[ue]=D(y,q,ue))}),oe.push(q),q=Lf(q);return N}o(y$,"_getBaseFuncs");function C$(g,y,T,S){var D=null;if(g&&Ae(T,u2)){var N=g[c2]||$h(null);if(D=(N[T[u2]]||$h(null))[y],D||nb("Missing ["+y+"] "+Zg),!D[Xg]&&N[f2]!==!1){for(var q=!Ae(g,y),oe=Lf(g),ue=[];q&&oe&&!dm(oe)&&!A7(ue,oe);){var xe=oe[y];if(xe){q=xe===S;break}ue.push(oe),oe=Lf(oe)}try{q&&(g[y]=D),D[Xg]=1}catch{N[f2]=!1}}}return D}o(C$,"_getInstFunc");function x$(g,y,T){var S=y[g];return S===T&&(S=Lf(y)[g]),typeof S!==Zg&&nb("["+g+"] is not a "+Zg),S}o(x$,"_getProtoFunc");function v$(g,y,T,S,D){function N(ue,xe){var Re=o(function(){var We=C$(this,xe,ue,Re)||x$(xe,ue,Re);return We.apply(this,arguments)},"dynProtoProxy");return Re[Zh]=1,Re}if(o(N,"_createDynamicPrototype"),!A2(g)){var q=T[c2]=T[c2]||$h(null);if(!A2(q)){var oe=q[y]=q[y]||$h(null);q[f2]!==!1&&(q[f2]=!!D),A2(oe)||y2(T,function(ue){C2(T,ue,!1)&&T[ue]!==S[ue]&&(oe[ue]=T[ue],delete T[ue],(!Ae(g,ue)||g[ue]&&!g[ue][Zh])&&(g[ue]=N(g,ue)))})}}}o(v$,"_populatePrototype");function y7(g,y){if(p2){for(var T=[],S=Lf(y);S&&!dm(S)&&!A7(T,S);){if(S===g)return!0;T.push(S),S=Lf(S)}return!1}return!0}o(y7,"_checkPrototype");function XC(g,y){return Ae(g,k0)?g.name||y||eb:((g||{})[S0]||{}).name||y||eb}o(XC,"_getObjName");function Wl(g,y,T,S){Ae(g,k0)||nb("theClass is an invalid class definition.");var D=g[k0];y7(D,y)||nb("["+XC(g)+"] not in hierarchy of ["+XC(y)+"]");var N=null;Ae(D,u2)?N=D[u2]:(N=m7+XC(g,"_")+"$"+g2.n,g2.n++,D[u2]=N);var q=Wl[h7],oe=!!q[h2];oe&&S&&S[h2]!==void 0&&(oe=!!S[h2]);var ue=g7(y),xe=y$(D,y,ue,oe);T(y,xe);var Re=!!p2&&!!q[ZC];Re&&S&&(Re=!!S[ZC]),v$(D,N,y,ue,Re!==!1)}o(Wl,"dynamicProto"),Wl[h7]=g2.o;var Qs="function",VR="object",$R="undefined",e3="prototype",C7=Object,x7=C7[e3];(Nf()||{}).Symbol,(Nf()||{}).Reflect;var ib="hasOwnProperty",zR=o(function(g){for(var y,T=1,S=arguments.length;T<S;T++){y=arguments[T];for(var D in y)x7[ib].call(y,D)&&(g[D]=y[D])}return g},"__objAssignFnImpl"),mm=Je||zR,Xh=o(function(g,y){return Xh=C7.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,S){T.__proto__=S}||function(T,S){for(var D in S)S[ib](D)&&(T[D]=S[D])},Xh(g,y)},"extendStaticsFn");function t3(g,y){typeof y!==Qs&&y!==null&&Kt("Class extends value "+String(y)+" is not a constructor or null"),Xh(g,y);function T(){this.constructor=g}o(T,"__"),g[e3]=y===null?$h(y):(T[e3]=y[e3],new T)}o(t3,"__extendsFn");function YR(g,y){for(var T=0,S=y.length,D=g.length;T<S;T++,D++)g[D]=y[T];return g}o(YR,"__spreadArrayFn");var ob=Ot,b$=_t,ep=ob({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),x2="toLowerCase",Gn="length",v2="warnToConsole",t1="throwInternal",hm="watch",sb="apply",Hi="push",b2="splice",ua="logger",E2="cancel",r3="initialize",tp="identifier",n3="removeNotificationListener",ab="addNotificationListener",Qf="isInitialized",I2="value",Tu="getNotifyMgr",T2="getPlugin",rp="name",ml="processNext",w2="getProcessTelContext",Mf="enabled",KR="stopPollingInternalLogs",r1="unload",lb="onComplete",_2="version",JR="loggingLevelConsole",n1="createNew",Of="teardown",cb="messageId",i1="message",Uf="diagLog",ub="_doTeardown",pm="update",qf="getNext",np="setNextPlugin",fb="userAgent",ip="split",op="replace",Gl="type",v7="evtName",i3="status",b7="getAllResponseHeaders",E7="isChildEvt",S2="data",sp="getCtx",wu="setCtx",ZR="itemsReceived",gm="urlString",I7="headers",Am="timeout",XR="traceFlags",k2;function T7(g,y){k2||(k2=Ba("AggregationError",function(S,D){D[Gn]>1&&(S.errors=D[1])}));var T=g||"One or more errors occurred.";throw Yr(y,function(S,D){T+=`
`.concat(D," > ").concat(yt(S))}),new k2(T,y||[])}o(T7,"throwAggregationError");var o1="Promise",s1="rejected";function R0(g,y){return eB(g,function(T){return y?y({status:"fulfilled",rejected:!1,value:T}):T},function(T){return y?y({status:s1,rejected:!0,reason:T}):T})}o(R0,"doAwaitResponse");function eB(g,y,T,S){var D=g;try{if(lt(g))(y||T)&&(D=g.then(y,T));else try{y&&(D=y(g))}catch(N){if(T)D=T(N);else throw N}}finally{S&&E$(D,S)}return D}o(eB,"doAwait");function E$(g,y){var T=g;return y&&(lt(g)?g.finally?T=g.finally(y):T=g.then(function(S){return y(),S},function(S){throw y(),S}):y()),T}o(E$,"doFinally");var tB=["pending","resolving","resolved",s1],rB="dispatchEvent",o3;function nB(g){var y;return g&&g.createEvent&&(y=g.createEvent("Event")),!!y&&y.initEvent}o(nB,"_hasInitEventFn");function db(g,y,T,S){var D=i2();!o3&&(o3=zo(!!re(nB,[D]).v));var N=o3.v?D.createEvent("Event"):S?new Event(y):{};if(T&&T(N),o3.v&&N.initEvent(y,!1,!0),N&&g[rB])g[rB](N);else{var q=g["on"+y];if(q)q(N);else{var oe=zs("console");oe&&(oe.error||oe.log)(y,yt(N))}}}o(db,"emitEvent");var iB="unhandledRejection",I$=iB.toLowerCase(),R2=10,mb;function oB(g){return De(g)?g.toString():yt(g)}o(oB,"dumpFnObj");function sB(g,y,T){var S=a2(arguments,3),D=0,N=!1,q,oe=[],ue=!1,xe=null,Re;function We(mr,Rr){try{ue=!0,xe&&xe.cancel(),xe=null;var Un=g(function(xi,vi){oe.push(function(){try{var mo=D===2?mr:Rr,fn=O(mo)?q:De(mo)?mo(q):mo;lt(fn)?fn.then(xi,vi):mo?xi(fn):D===3?vi(fn):xi(fn)}catch(jr){vi(jr)}}),N&&pt()},S);return Un}finally{}}o(We,"_then");function Xe(mr){return We(void 0,mr)}o(Xe,"_catch");function He(mr){var Rr=mr,Un=mr;return De(mr)&&(Rr=o(function(xi){return mr&&mr(),xi},"thenFinally"),Un=o(function(xi){throw mr&&mr(),xi},"catchFinally")),We(Rr,Un)}o(He,"_finally");function Ye(){return tB[D]}o(Ye,"_strState");function pt(){if(oe.length>0){var mr=oe.slice();oe=[],ue=!0,xe&&xe.cancel(),xe=null,y(mr)}}o(pt,"_processQueue");function ct(mr,Rr){return function(Un){if(D===Rr){if(mr===2&&lt(Un)){D=1,Un.then(ct(2,1),ct(3,1));return}D=mr,N=!0,q=Un,pt(),!ue&&mr===3&&!xe&&(xe=Jh(Tt,R2))}}}o(ct,"_createSettleIfFn");function Tt(){if(!ue)if(ue=!0,l$())process.emit(iB,q,Re);else{var mr=um()||Nf();!mb&&(mb=zo(re(zs,[o1+"RejectionEvent"]).v)),db(mr,I$,function(Rr){return qe(Rr,"promise",{g:o(function(){return Re},"g")}),Rr.reason=q,Rr},!!mb.v)}}o(Tt,"_notifyUnhandledRejection"),Re={then:We,catch:Xe,finally:He},Ce(Re,"state",{get:Ye}),gc()&&(Re[HC(11)]="IPromise");function zt(){return"IPromise "+Ye()+(N?" - "+oB(q):"")}return o(zt,"_toString"),Re.toString=zt,o(function(){De(T)||Kt(o1+": executor is not a function - "+oB(T));var Rr=ct(3,0);try{T.call(Re,ct(2,0),Rr)}catch(Un){Rr(Un)}},"_initialize")(),Re}o(sB,"_createPromise");function T$(g){return function(y){var T=a2(arguments,1);return g(function(S,D){try{var N=[],q=1;o7(y,function(oe,ue){oe&&(q++,eB(oe,function(xe){N[ue]=xe,--q===0&&S(N)},D))}),q--,q===0&&S(N)}catch(oe){D(oe)}},T)}}o(T$,"_createAllPromise");function w$(g){return zo(function(y){var T=a2(arguments,1);return g(function(S,D){var N=[],q=1;function oe(ue,xe){q++,R0(ue,function(Re){Re.rejected?N[xe]={status:s1,reason:Re.reason}:N[xe]={status:"fulfilled",value:Re.value},--q===0&&S(N)})}o(oe,"processItem");try{Ue(y)?Yr(y,oe):Vv(y)?o7(y,oe):Kt("Input is not an iterable"),q--,q===0&&S(N)}catch(ue){D(ue)}},T)})}o(w$,"_createAllSettledPromise");function aB(g){Yr(g,function(y){try{y()}catch{}})}o(aB,"syncItemProcessor");function lB(g){var y=Ze(g)?g:0;return function(T){Jh(function(){aB(T)},y)}}o(lB,"timeoutItemProcessor");function hb(g,y){return sB(hb,lB(y),g,y)}o(hb,"createAsyncPromise");var pb;function _$(g,y){!pb&&(pb=zo(re(zs,[o1]).v||null));var T=pb.v;if(!T)return hb(g);De(g)||Kt(o1+": executor is not a function - "+yt(g));var S=0;function D(){return tB[S]}o(D,"_strState");var N=new T(function(q,oe){function ue(Re){S=2,q(Re)}o(ue,"_resolve");function xe(Re){S=3,oe(Re)}o(xe,"_reject"),g(ue,xe)});return Ce(N,"state",{get:D}),N}o(_$,"createNativePromise");var gb;function Ab(g){return sB(Ab,aB,g)}o(Ab,"createSyncPromise");function Yc(g,y){return!gb&&(gb=w$(Ab)),gb.v(g,y)}o(Yc,"createSyncAllSettledPromise");var yb;function B2(g,y){return!yb&&(yb=zo(_$)),yb.v.call(this,g,y)}o(B2,"createPromise");var w7=T$(B2),B0=void 0,hi="",ym="channels",fa="core",_u="createPerfMgr",Cb="disabled",a1="extensionConfig",D2="extensions",D0="processTelemetry",P2="priority",F2="eventsSent",N2="eventsDiscarded",xb="eventsSendRequest",l1="perfEvent",_7="offlineEventsStored",S7="offlineBatchSent",vb="offlineBatchDrop",s3="getPerfMgr",bb="domain",Eb="path",cB="Not dynamic - ",k7=/-([a-z])/g,S$=/([^\w\d_$])/g,k$=/^(\d+[\w\d_$])/;function Ib(g){return!Z(g)}o(Ib,"isNotNullOrUndefined");function L2(g){var y=g;return y&&fe(y)&&(y=y[op](k7,function(T,S){return S.toUpperCase()}),y=y[op](S$,"_"),y=y[op](k$,function(T,S){return"_"+S})),y}o(L2,"normalizeJsName");function hl(g,y){return g&&y?fm(g,y)!==-1:!1}o(hl,"strContains");function a3(g){return g&&g.toISOString()||""}o(a3,"toISOString");function tl(g){return at(g)?g[rp]:hi}o(tl,"getExceptionName");function ap(g,y,T,S,D){var N=T;return g&&(N=g[y],N!==T&&(!D||D(N))&&(!S||S(T))&&(N=T,g[y]=N)),N}o(ap,"setValue");function uB(g,y,T){var S;return g?(S=g[y],!S&&Z(S)&&(S=O(T)?{}:T,g[y]=S)):S=O(T)?{}:T,S}o(uB,"getSetValue");function R$(g,y){var T=null,S=null;return De(g)?T=g:S=g,function(){var D=arguments;if(T&&(S=T()),S)return S[y][sb](S,D)}}o(R$,"_createProxyFunction");function l3(g,y,T,S,D){g&&y&&T&&(D!==!1||O(g[y]))&&(g[y]=R$(T,S))}o(l3,"proxyFunctionAs");function R7(g,y,T,S){return g&&y&&ve(g)&&Ue(T)&&Yr(T,function(D){fe(D)&&l3(g,D,y,D,S)}),g}o(R7,"proxyFunctions");function B$(g){return function(){function y(){var T=this;g&&ee(g,function(S,D){T[S]=D})}return o(y,"class_1"),y}()}o(B$,"createClassFromInterface");function B7(g){return g&&Je&&(g=C7(Je({},g))),g}o(B7,"optimizeObject");function fB(g,y,T,S,D,N){var q=arguments,oe=q[0]||{},ue=q[Gn],xe=!1,Re=1;for(ue>0&&ft(oe)&&(xe=oe,oe=q[Re]||{},Re++),ve(oe)||(oe={});Re<ue;Re++){var We=q[Re],Xe=Ue(We),He=ve(We);for(var Ye in We){var pt=Xe&&Ye in We||He&&Ge(We,Ye);if(pt){var ct=We[Ye],Tt=void 0;if(xe&&ct&&((Tt=Ue(ct))||zc(ct))){var zt=oe[Ye];Tt?Ue(zt)||(zt=[]):zc(zt)||(zt={}),ct=fB(xe,zt,ct)}ct!==void 0&&(oe[Ye]=ct)}}}return oe}o(fB,"objExtend");function Tb(g){try{return g.responseText}catch{}return null}o(Tb,"getResponseText");function dB(g,y){return g?"XDomainRequest,Response:"+Tb(g)||"":y}o(dB,"formatErrorMessageXdr");function wb(g,y){return g?"XMLHttpRequest,Status:"+g[i3]+",Response:"+Tb(g)||g.response||"":y}o(wb,"formatErrorMessageXhr");function mB(g,y){return y&&(Ze(y)?g=[y].concat(g):Ue(y)&&(g=y.concat(g))),g}o(mB,"prependTransports");var D7="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",c3="withCredentials",Wf="timeout";function P7(g,y,T,S,D,N){S===void 0&&(S=!1),D===void 0&&(D=!1);function q(ue,xe,Re){try{ue[xe]=Re}catch{}}o(q,"_wrapSetXhrProp");var oe=new XMLHttpRequest;return S&&q(oe,D7,S),T&&q(oe,c3,T),oe.open(g,y,!D),T&&q(oe,c3,T),!D&&N&&q(oe,Wf,N),oe}o(P7,"openXhr");function hB(g){var y={};if(fe(g)){var T=Gi(g)[ip](/[\r\n]+/);Yr(T,function(S){if(S){var D=S.indexOf(": ");if(D!==-1){var N=Gi(S.substring(0,D))[x2](),q=Gi(S.substring(D+1));y[N]=q}else y[Gi(S)]=1}})}return y}o(hB,"convertAllHeadersToMap");function lp(g,y,T){if(!g[T]&&y&&y.getResponseHeader){var S=y.getResponseHeader(T);S&&(g[T]=Gi(S))}return g}o(lp,"_appendHeader");var xn="kill-duration",Q2="kill-duration-seconds",c1="time-delta-millis";function u1(g,y){var T={};return g[b7]?T=hB(g[b7]()):y&&(T=lp(T,g,c1),T=lp(T,g,xn),T=lp(T,g,Q2)),T}o(u1,"_getAllResponseHeaders");var F7="documentMode",u3="location",M2="console",_b="JSON",N7="crypto",Sb="msCrypto",O2="msie",f1="trident/",L7="XMLHttpRequest",P0=null,U2=null,Gf=!1,Ac=null,q2=null;function f3(g,y){var T=!1;if(g){try{if(T=y in g,!T){var S=g[e3];S&&(T=y in S)}}catch{}if(!T)try{var D=new g;T=!O(D[y])}catch{}}return T}o(f3,"_hasProperty");function W2(g){if(g&&Gf){var y=zs("__mockLocation");if(y)return y}return typeof location===VR&&location?location:zs(u3)}o(W2,"getLocation");function d3(){return typeof console!==$R?console:zs(M2)}o(d3,"getConsole");function G2(){return!!(typeof JSON===VR&&JSON||zs(_b)!==null)}o(G2,"hasJSON");function Kc(){return G2()?JSON||zs(_b):null}o(Kc,"getJSON");function kb(){return zs(N7)}o(kb,"getCrypto");function Rb(){return zs(Sb)}o(Rb,"getMsCrypto");function Su(){var g=Hh();if(g&&(g[fb]!==U2||P0===null)){U2=g[fb];var y=(U2||hi)[x2]();P0=hl(y,O2)||hl(y,f1)}return P0}o(Su,"isIE");function H2(g){if(g===void 0&&(g=null),!g){var y=Hh()||{};g=y?(y.userAgent||hi)[x2]():hi}var T=(g||hi)[x2]();if(hl(T,O2)){var S=i2()||{};return Ie(parseInt(T[ip](O2)[1]),S[F7]||0)}else if(hl(T,f1)){var D=parseInt(T[ip](f1)[1]);if(D)return D+4}return null}o(H2,"getIEVersion");function cp(g){return(q2===null||g===!1)&&(q2=a$()&&!!Hh().sendBeacon),q2}o(cp,"isBeaconsSupported");function m3(g){var y=!1;try{y=!!zs("fetch");var T=zs("Request");y&&g&&T&&(y=f3(T,"keepalive"))}catch{}return y}o(m3,"isFetchSupported");function Q7(){return Ac===null&&(Ac=typeof XDomainRequest!==$R,Ac&&M7()&&(Ac=Ac&&!f3(zs(L7),"withCredentials"))),Ac}o(Q7,"useXDomainRequest");function M7(){var g=!1;try{var y=zs(L7);g=!!y}catch{}return g}o(M7,"isXhrSupported");var rl=4294967296,Hf=4294967295,Bb=123456789,O7=987654321,Cm=!1,F0=Bb,j2=O7;function U7(g){g<0&&(g>>>=0),F0=Bb+g&Hf,j2=O7-g&Hf,Cm=!0}o(U7,"_mwcSeed");function pB(){try{var g=zh()&2147483647;U7((Math.random()*rl^g)+g)}catch{}}o(pB,"_autoSeedMwc");function q7(g){var y=0,T=kb()||Rb();return T&&T.getRandomValues&&(y=T.getRandomValues(new Uint32Array(1))[0]&Hf),y===0&&Su()&&(Cm||pB(),y=gB()&Hf),y===0&&(y=Yg(rl*Math.random()|0)),g||(y>>>=0),y}o(q7,"random32");function gB(g){j2=36969*(j2&65535)+(j2>>16)&Hf,F0=18e3*(F0&65535)+(F0>>16)&Hf;var y=(j2<<16)+(F0&65535)>>>0&Hf|0;return g||(y>>>=0),y}o(gB,"mwcRandom32");function D$(g){g===void 0&&(g=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=q7()>>>0,S=0,D=hi;D[Gn]<g;)S++,D+=y.charAt(T&63),T>>>=6,S===5&&(T=(q7()<<2&4294967295|T&3)>>>0,S=0);return D}o(D$,"newId");var V2="3.3.6",P$="."+D$(6),F$=0;function AB(g){return g.nodeType===1||g.nodeType===9||!+g.nodeType}o(AB,"_canAcceptData");function yB(g,y){var T=y[g.id];if(!T){T={};try{AB(y)&&qe(y,g.id,{e:!1,v:T})}catch{}}return T}o(yB,"_getCache");function xm(g,y){return y===void 0&&(y=!1),L2(g+F$+++(y?"."+V2:hi)+P$)}o(xm,"createUniqueNamespace");function CB(g){var y={id:xm("_aiData-"+(g||hi)+"."+V2),accept:o(function(T){return AB(T)},"accept"),get:o(function(T,S,D,N){var q=T[y.id];return q?q[L2(S)]:(N&&(q=yB(y,T),q[L2(S)]=D),D)},"get"),kill:o(function(T,S){if(T&&T[S])try{delete T[S]}catch{}},"kill")};return y}o(CB,"createElmNodeData");function $2(g){return g&&ve(g)&&(g.isVal||g.fb||Ge(g,"v")||Ge(g,"mrg")||Ge(g,"ref")||g.set)}o($2,"_isConfigDefaults");function xB(g,y,T){var S,D=T.dfVal||te;if(y&&T.fb){var N=T.fb;Ue(N)||(N=[N]);for(var q=0;q<N[Gn];q++){var oe=N[q],ue=y[oe];if(D(ue)?S=ue:g&&(ue=g.cfg[oe],D(ue)&&(S=ue),g.set(g.cfg,Ct(oe),ue)),D(S))break}}return!D(S)&&D(T.v)&&(S=T.v),S}o(xB,"_getDefault");function W7(g,y,T){var S=T;if(T&&$2(T)&&(S=xB(g,y,T)),S){$2(S)&&(S=W7(g,y,S));var D;Ue(S)?(D=[],D[Gn]=S[Gn]):zc(S)&&(D={}),D&&(ee(S,function(N,q){q&&$2(q)&&(q=W7(g,y,q)),D[N]=q}),S=D)}return S}o(W7,"_resolveDefaultValue");function G7(g,y,T,S){var D,N,q,oe=S,ue,xe,Re,We;$2(oe)?(D=oe.isVal,N=oe.set,Re=oe.rdOnly,We=oe.blkVal,ue=oe.mrg,xe=oe.ref,!xe&&O(xe)&&(xe=!!ue),q=xB(g,y,oe)):q=S,We&&g.blkVal(y,T);var Xe,He=!0,Ye=y[T];(Ye||!Z(Ye))&&(Xe=Ye,He=!1,D&&Xe!==q&&!D(Xe)&&(Xe=q,He=!0),N&&(Xe=N(Xe,q,y),He=Xe===q)),He?q?Xe=W7(g,y,q):Xe=q:(zc(Xe)||Ue(q))&&ue&&q&&(zc(q)||Ue(q))&&ee(q,function(pt,ct){G7(g,Xe,pt,ct)}),g.set(y,T,Xe),xe&&g.ref(y,T),Re&&g.rdOnly(y,T)}o(G7,"_applyDefaultValue");var up=jC("[[ai_dynCfg_1]]"),vB=jC("[[ai_blkDynCfg_1]]"),bB=jC("[[ai_frcDynCfg_1]]");function EB(g){if(g){var y;if(Ue(g)?(y=[],y[Gn]=g[Gn]):zc(g)&&(y={}),y)return ee(g,function(T,S){y[T]=EB(S)}),y}return g}o(EB,"_cfgDeepCopy");function N$(g){if(g){var y=g[up]||g;if(y.cfg&&(y.cfg===g||y.cfg[up]===y))return y}return null}o(N$,"getDynamicConfigHandler");function L$(g){if(g&&(zc(g)||Ue(g)))try{g[vB]=!0}catch{}return g}o(L$,"blockDynamicConversion");function H7(g,y,T){var S=!1;return T&&!g[y.blkVal]&&(S=T[bB],!S&&!T[vB]&&(S=zc(T)||Ue(T))),S}o(H7,"_canMakeDynamic");function z2(g){Kt("InvalidAccess:"+g)}o(z2,"throwInvalidAccess");var Q$=["push","pop","shift","unshift","splice"],h3=o(function(g,y,T,S){g&&g[t1](3,108,"".concat(T," [").concat(y,"] failed - ")+yt(S))},"_throwDynamicError");function fp(g,y,T){Ue(y)&&Yr(Q$,function(S){var D=y[S];y[S]=function(){for(var N=[],q=0;q<arguments.length;q++)N[q]=arguments[q];var oe=D[sb](this,N);return J2(g,y,T,"Patching"),oe}})}o(fp,"_patchArray");function ku(g,y){var T=Fe(g,y);return T&&T.get}o(ku,"_getOwnPropGetter");function IB(g,y,T,S){var D={n:T,h:[],trk:o(function(xe){xe&&xe.fn&&($c(D.h,xe)===-1&&D.h[Hi](xe),g.trk(xe,D))},"trk"),clr:o(function(xe){var Re=$c(D.h,xe);Re!==-1&&D.h[b2](Re,1)},"clr")},N=!0,q=!1;function oe(){N&&(q=q||H7(oe,g,S),S&&!S[up]&&q&&(S=J2(g,S,T,"Converting")),N=!1);var xe=g.act;return xe&&D.trk(xe),S}o(oe,"_getProperty"),oe[g.prop]={chng:o(function(){g.add(D)},"chng")};function ue(xe){if(S!==xe){oe[g.ro]&&!g.upd&&z2("["+T+"] is read-only:"+yt(y)),N&&(q=q||H7(oe,g,S),N=!1);var Re=q&&oe[g.rf];if(q)if(Re){ee(S,function(Xe){S[Xe]=xe?xe[Xe]:B0});try{ee(xe,function(Xe,He){Y2(g,S,Xe,He)}),xe=S}catch(Xe){h3((g.hdlr||{})[ua],T,"Assigning",Xe),q=!1}}else S&&S[up]&&ee(S,function(Xe){var He=ku(S,Xe);if(He){var Ye=He[g.prop];Ye&&Ye.chng()}});if(xe!==S){var We=xe&&H7(oe,g,xe);!Re&&We&&(xe=J2(g,xe,T,"Converting")),S=xe,q=We}g.add(D)}}o(ue,"_setProperty"),qe(y,D.n,{g:oe,s:ue})}o(IB,"_createDynamicProperty");function Y2(g,y,T,S){if(y){var D=ku(y,T),N=D&&!!D[g.prop];N?y[T]=S:IB(g,y,T,S)}return y}o(Y2,"_setDynamicProperty");function K2(g,y,T,S){if(y){var D=ku(y,T),N=D&&!!D[g.prop],q=S&&S[0],oe=S&&S[1],ue=S&&S[2];if(!N){if(ue)try{L$(y)}catch(xe){h3((g.hdlr||{})[ua],T,"Blocking",xe)}try{Y2(g,y,T,y[T]),D=ku(y,T)}catch(xe){h3((g.hdlr||{})[ua],T,"State",xe)}}q&&(D[g.rf]=q),oe&&(D[g.ro]=oe),ue&&(D[g.blkVal]=!0)}return y}o(K2,"_setDynamicPropertyState");function J2(g,y,T,S){try{ee(y,function(D,N){Y2(g,y,D,N)}),y[up]||(Ce(y,up,{get:o(function(){return g.hdlr},"get")}),fp(g,y,T))}catch(D){h3((g.hdlr||{})[ua],T,S,D)}return y}o(J2,"_makeDynamicObject");var p3="[[ai_",g3="]]";function M$(g){var y=$g(p3+"get"+g.uid+g3),T=$g(p3+"ro"+g.uid+g3),S=$g(p3+"rf"+g.uid+g3),D=$g(p3+"blkVal"+g.uid+g3),N=$g(p3+"dtl"+g.uid+g3),q=null,oe=null,ue;function xe(He,Ye){var pt=ue.act;try{ue.act=He,He&&He[N]&&(Yr(He[N],function(Tt){Tt.clr(He)}),He[N]=[]),Ye({cfg:g.cfg,set:g.set.bind(g),setDf:g.setDf.bind(g),ref:g.ref.bind(g),rdOnly:g.rdOnly.bind(g)})}catch(Tt){var ct=g[ua];throw ct&&ct[t1](1,107,yt(Tt)),Tt}finally{ue.act=pt||null}}o(xe,"_useHandler");function Re(){if(q){var He=q;q=null,oe&&oe[E2](),oe=null;var Ye=[];if(Yr(He,function(pt){if(pt&&(pt[N]&&(Yr(pt[N],function(ct){ct.clr(pt)}),pt[N]=null),pt.fn))try{xe(pt,pt.fn)}catch(ct){Ye[Hi](ct)}}),q)try{Re()}catch(pt){Ye[Hi](pt)}Ye[Gn]>0&&T7("Watcher error(s): ",Ye)}}o(Re,"_notifyWatchers");function We(He){if(He&&He.h[Gn]>0){q||(q=[]),oe||(oe=Jh(function(){oe=null,Re()},0));for(var Ye=0;Ye<He.h[Gn];Ye++){var pt=He.h[Ye];pt&&$c(q,pt)===-1&&q[Hi](pt)}}}o(We,"_addWatcher");function Xe(He,Ye){if(He){var pt=He[N]=He[N]||[];$c(pt,Ye)===-1&&pt[Hi](Ye)}}return o(Xe,"_trackHandler"),ue={prop:y,ro:T,rf:S,blkVal:D,hdlr:g,add:We,notify:Re,use:xe,trk:Xe},ue}o(M$,"_createState");function Db(g,y){var T={fn:y,rm:o(function(){T.fn=null,g=null,y=null},"rm")};return qe(T,"toJSON",{v:o(function(){return"WatcherHandler"+(T.fn?"":"[X]")},"v")}),g.use(T,y),T}o(Db,"_createAndUseHandler");function TB(g,y,T){var S=N$(y);if(S)return S;var D=xm("dyncfg",!0),N=y&&T!==!1?y:EB(y),q;function oe(){q.notify()}o(oe,"_notifyWatchers");function ue(ct,Tt,zt){try{ct=Y2(q,ct,Tt,zt)}catch(mr){h3(g,Tt,"Setting value",mr)}return ct[Tt]}o(ue,"_setValue");function xe(ct){return Db(q,ct)}o(xe,"_watch");function Re(ct,Tt){q.use(null,function(zt){var mr=q.upd;try{O(Tt)||(q.upd=Tt),ct(zt)}finally{q.upd=mr}})}o(Re,"_block");function We(ct,Tt){var zt;return K2(q,ct,Tt,(zt={},zt[0]=!0,zt))[Tt]}o(We,"_ref");function Xe(ct,Tt){var zt;return K2(q,ct,Tt,(zt={},zt[1]=!0,zt))[Tt]}o(Xe,"_rdOnly");function He(ct,Tt){var zt;return K2(q,ct,Tt,(zt={},zt[2]=!0,zt))[Tt]}o(He,"_blkPropValue");function Ye(ct,Tt){return Tt&&ee(Tt,function(zt,mr){G7(pt,ct,zt,mr)}),ct}o(Ye,"_applyDefaults");var pt={uid:null,cfg:N,logger:g,notify:oe,set:ue,setDf:Ye,watch:xe,ref:We,rdOnly:Xe,blkVal:He,_block:Re};return qe(pt,"uid",{c:!1,e:!1,w:!1,v:D}),q=M$(pt),J2(q,N,"config","Creating"),pt}o(TB,"_createDynamicHandler");function wB(g,y){g?(g[v2](y),g[t1](2,108,y)):z2(y)}o(wB,"_logInvalidAccess");function N0(g,y,T,S){var D=TB(T,g||{},S);return y&&D.setDf(D.cfg,y),D}o(N0,"createDynamicConfig");function vm(g,y,T){var S=g[up]||g;return S.cfg&&(S.cfg===g||S.cfg[up]===S)?S[hm](y):(wB(T,cB+yt(g)),N0(g,null,T)[hm](y))}o(vm,"onConfigChange");function Z2(g,y){if(g&&g[r1])return g[r1](y)}o(Z2,"runTargetUnload");function _B(g,y,T){var S;return T||(S=B2(function(D){T=D})),g&&h$(g)>0?R0(Z2(g[0],y),function(){_B(a2(g,1),y,T)}):T(),S}o(_B,"doUnloadAll");var O$=500,SB="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function U$(g,y,T){return!g&&Z(g)?y:ft(g)?g:Ct(g)[x2]()==="true"}o(U$,"_stringToBoolOrDefault");function q$(g){return{mrg:!0,v:g}}o(q$,"cfgDfMerge");function j7(g,y,T){return{fb:T,isVal:g,v:y}}o(j7,"cfgDfValidate");function jf(g,y){return{fb:y,set:U$,v:!!g}}o(jf,"cfgDfBoolean");var Pb=[F2,N2,xb,l1],Fb=null,Nb;function W$(g,y){return function(){var T=arguments,S=kB(y);if(S){var D=S.listener;D&&D[g]&&D[g][sb](D,T)}}}o(W$,"_listenerProxyFunc");function G$(){var g=zs("Microsoft");return g&&(Fb=g.ApplicationInsights),Fb}o(G$,"_getExtensionNamespace");function kB(g){var y=Fb;return!y&&g.disableDbgExt!==!0&&(y=Fb||G$()),y?y.ChromeDbgExt:null}o(kB,"getDebugExt");function H$(g){if(!Nb){Nb={};for(var y=0;y<Pb[Gn];y++)Nb[Pb[y]]=W$(Pb[y],g)}return Nb}o(H$,"getDebugListener");var X2,RB="warnToConsole",j$="AI (Internal): ",V$="AI: ",$$="AITR_",BB={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},ey=(X2={},X2[0]=null,X2[1]="errorToConsole",X2[2]=RB,X2[3]="debugToConsole",X2);function Jc(g){return g?'"'+g[op](/\"/g,hi)+'"':hi}o(Jc,"_sanitizeDiagnosticText");function A3(g,y){var T=d3();if(T){var S="log";T[g]&&(S=g),De(T[S])&&T[S](y)}}o(A3,"_logToConsole");var Lb=function(){function g(y,T,S,D){S===void 0&&(S=!1);var N=this;N[cb]=y,N[i1]=(S?V$:j$)+y;var q=hi;G2()&&(q=Kc().stringify(D));var oe=(T?" message:"+Jc(T):hi)+(D?" props:"+Jc(q):hi);N[i1]+=oe}return o(g,"_InternalLogMessage"),g.dataType="MessageData",g}();function y3(g,y){return(g||{})[ua]||new C3(y)}o(y3,"safeGetLogger");var C3=function(){function g(y){this.identifier="DiagnosticLogger",this.queue=[];var T=0,S={},D,N,q,oe,ue;Wl(g,this,function(xe){ue=We(y||{}),xe.consoleLoggingLevel=function(){return D},xe[t1]=function(Ye,pt,ct,Tt,zt){zt===void 0&&(zt=!1);var mr=new Lb(pt,ct,zt,Tt);if(oe)throw yt(mr);var Rr=ey[Ye]||RB;if(O(mr[i1]))He("throw"+(Ye===1?"Critical":"Warning"),mr);else{if(zt){var Un=+mr[cb];!S[Un]&&D>=Ye&&(xe[Rr](mr[i1]),S[Un]=!0)}else D>=Ye&&xe[Rr](mr[i1]);Re(Ye,mr)}},xe.debugToConsole=function(Ye){A3("debug",Ye),He("warning",Ye)},xe[v2]=function(Ye){A3("warn",Ye),He("warning",Ye)},xe.errorToConsole=function(Ye){A3("error",Ye),He("error",Ye)},xe.resetInternalMessageCount=function(){T=0,S={}},xe.logInternalMessage=Re,xe[r1]=function(Ye){ue&&ue.rm(),ue=null};function Re(Ye,pt){if(!Xe()){var ct=!0,Tt=$$+pt[cb];if(S[Tt]?ct=!1:S[Tt]=!0,ct&&(Ye<=N&&(xe.queue[Hi](pt),T++,He(Ye===1?"error":"warn",pt)),T===q)){var zt="Internal events throttle limit per PageView reached for this app.",mr=new Lb(23,zt,!1);xe.queue[Hi](mr),Ye===1?xe.errorToConsole(zt):xe[v2](zt)}}}o(Re,"_logInternalMessage");function We(Ye){return vm(N0(Ye,BB,xe).cfg,function(pt){var ct=pt.cfg;D=ct[JR],N=ct.loggingLevelTelemetry,q=ct.maxMessageLimit,oe=ct.enableDebug})}o(We,"_setDefaultsFromConfig");function Xe(){return T>=q}o(Xe,"_areInternalMessagesThrottled");function He(Ye,pt){var ct=kB(y||{});ct&&ct[Uf]&&ct[Uf](Ye,pt)}o(He,"_debugExtMsg")})}return o(g,"DiagnosticLogger"),g.__ieDyn=1,g}();function V7(g){return g||new C3}o(V7,"_getLogger");function Lr(g,y,T,S,D,N){N===void 0&&(N=!1),V7(g)[t1](y,T,S,D,N)}o(Lr,"_throwInternal");function Qb(g,y){V7(g)[v2](y)}o(Qb,"_warnToConsole");var x3,dp,DB="toGMTString",PB="toUTCString",Mb="cookie",bm="expires",FB="isCookieUseDisabled",Ob="disableCookiesUsage",NB="_ckMgr",Ub=null,ty=null,qb=null,Vf,LB={},QB={},MB=(x3={cookieCfg:q$((dp={},dp[bb]={fb:"cookieDomain",dfVal:Ib},dp.path={fb:"cookiePath",dfVal:Ib},dp.enabled=B0,dp.ignoreCookies=B0,dp.blockedCookies=B0,dp)),cookieDomain:B0,cookiePath:B0},x3[Ob]=B0,x3);function $7(){!Vf&&(Vf=cr(function(){return i2()}))}o($7,"_getDoc");function v3(g){return g?g.isEnabled():!0}o(v3,"_isMgrEnabled");function z7(g,y){return y&&g&&Ue(g.ignoreCookies)?$c(g.ignoreCookies,y)!==-1:!1}o(z7,"_isIgnoredCookie");function z$(g,y){return y&&g&&Ue(g.blockedCookies)&&$c(g.blockedCookies,y)!==-1?!0:z7(g,y)}o(z$,"_isBlockedCookie");function Y7(g,y){var T=y[Mf];if(Z(T)){var S=void 0;O(g[FB])||(S=!g[FB]),O(g[Ob])||(S=!g[Ob]),T=S}return T}o(Y7,"_isCfgEnabled");function Y$(g,y){var T,S,D,N,q,oe,ue,xe;g=N0(g||QB,null,y).cfg,N=vm(g,function(We){We.setDf(We.cfg,MB),T=We.ref(We.cfg,"cookieCfg"),S=T[Eb]||"/",D=T[bb],q=Y7(g,T)!==!1,oe=T.getCookie||K$,ue=T.setCookie||ry,xe=T.delCookie||ry},y);var Re={isEnabled:o(function(){var We=Y7(g,T)!==!1&&q&&OB(y),Xe=QB[NB];return We&&Xe&&Re!==Xe&&(We=v3(Xe)),We},"isEnabled"),setEnabled:o(function(We){q=We!==!1,T[Mf]=We},"setEnabled"),set:o(function(We,Xe,He,Ye,pt){var ct=!1;if(v3(Re)&&!z$(T,We)){var Tt={},zt=Gi(Xe||hi),mr=fm(zt,";");if(mr!==-1&&(zt=Gi(L(Xe,mr)),Tt=K7(me(Xe,mr+1))),ap(Tt,bb,Ye||D,ie,O),!Z(He)){var Rr=Su();if(O(Tt[bm])){var Un=zh(),xi=Un+He*1e3;if(xi>0){var vi=new Date;vi.setTime(xi),ap(Tt,bm,UB(vi,Rr?DB:PB)||UB(vi,Rr?DB:PB)||hi,ie)}}Rr||ap(Tt,"max-age",hi+He,null,O)}var mo=W2();mo&&mo.protocol==="https:"&&(ap(Tt,"secure",null,null,O),ty===null&&(ty=!J$((Hh()||{})[fb])),ty&&ap(Tt,"SameSite","None",null,O)),ap(Tt,Eb,pt||S,null,O),ue(We,qB(zt,Tt)),ct=!0}return ct},"set"),get:o(function(We){var Xe=hi;return v3(Re)&&!z7(T,We)&&(Xe=oe(We)),Xe},"get"),del:o(function(We,Xe){var He=!1;return v3(Re)&&(He=Re.purge(We,Xe)),He},"del"),purge:o(function(We,Xe){var He,Ye=!1;if(OB(y)){var pt=(He={},He[Eb]=Xe||"/",He[bm]="Thu, 01 Jan 1970 00:00:01 GMT",He);Su()||(pt["max-age"]="0"),xe(We,qB(hi,pt)),Ye=!0}return Ye},"purge"),unload:o(function(We){N&&N.rm(),N=null},"unload")};return Re[NB]=Re,Re}o(Y$,"createCookieMgr");function OB(g){if(Ub===null){Ub=!1,!Vf&&$7();try{var y=Vf.v||{};Ub=y[Mb]!==void 0}catch(T){Lr(g,2,68,"Cannot access document.cookie - "+tl(T),{exception:yt(T)})}}return Ub}o(OB,"areCookiesSupported");function K7(g){var y={};if(g&&g[Gn]){var T=Gi(g)[ip](";");Yr(T,function(S){if(S=Gi(S||hi),S){var D=fm(S,"=");D===-1?y[S]=null:y[Gi(L(S,D))]=Gi(me(S,D+1))}})}return y}o(K7,"_extractParts");function UB(g,y){return De(g[y])?g[y]():null}o(UB,"_formatDate");function qB(g,y){var T=g||hi;return ee(y,function(S,D){T+="; "+S+(Z(D)?hi:"="+D)}),T}o(qB,"_formatCookieValue");function K$(g){var y=hi;if(!Vf&&$7(),Vf.v){var T=Vf.v[Mb]||hi;qb!==T&&(LB=K7(T),qb=T),y=Gi(LB[g]||hi)}return y}o(K$,"_getCookieValue");function ry(g,y){!Vf&&$7(),Vf.v&&(Vf.v[Mb]=g+"="+y)}o(ry,"_setCookieValue");function J$(g){return fe(g)?!!(hl(g,"CPU iPhone OS 12")||hl(g,"iPad; CPU OS 12")||hl(g,"Macintosh; Intel Mac OS X 10_14")&&hl(g,"Version/")&&hl(g,"Safari")||hl(g,"Macintosh; Intel Mac OS X 10_14")&&jR(g,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||hl(g,"Chrome/5")||hl(g,"Chrome/6")||hl(g,"UnrealEngine")&&!hl(g,"Chrome")||hl(g,"UCBrowser/12")||hl(g,"UCBrowser/11")):!1}o(J$,"uaDisallowsSameSiteNone");var J7={perfEvtsSendAll:!1};function Z$(g){g.h=null;var y=g.cb;g.cb=[],Yr(y,function(T){re(T.fn,[T.arg])})}o(Z$,"_runScheduledListeners");function mp(g,y,T,S){Yr(g,function(D){D&&D[y]&&(T?(T.cb[Hi]({fn:S,arg:D}),T.h=T.h||Jh(Z$,0,T)):re(S,[D]))})}o(mp,"_runListeners");var X$=function(){function g(y){this.listeners=[];var T,S,D=[],N={h:null,cb:[]},q=N0(y,J7);S=q[hm](function(oe){T=!!oe.cfg.perfEvtsSendAll}),Wl(g,this,function(oe){qe(oe,"listeners",{g:o(function(){return D},"g")}),oe[ab]=function(ue){D[Hi](ue)},oe[n3]=function(ue){for(var xe=$c(D,ue);xe>-1;)D[b2](xe,1),xe=$c(D,ue)},oe[F2]=function(ue){mp(D,F2,N,function(xe){xe[F2](ue)})},oe[N2]=function(ue,xe){mp(D,N2,N,function(Re){Re[N2](ue,xe)})},oe[xb]=function(ue,xe){mp(D,xb,xe?N:null,function(Re){Re[xb](ue,xe)})},oe[l1]=function(ue){ue&&(T||!ue[E7]())&&mp(D,l1,null,function(xe){ue.isAsync?Jh(function(){return xe[l1](ue)},0):xe[l1](ue)})},oe[_7]=function(ue){ue&&ue[Gn]&&mp(D,_7,N,function(xe){xe[_7](ue)})},oe[S7]=function(ue){ue&&ue[S2]&&mp(D,S7,N,function(xe){xe[S7](ue)})},oe[vb]=function(ue,xe){if(ue>0){var Re=xe||0;mp(D,vb,N,function(We){We[vb](ue,Re)})}},oe[r1]=function(ue){var xe=o(function(){S&&S.rm(),S=null,D=[],N.h&&N.h[E2](),N.h=null,N.cb=[]},"_finishUnload"),Re;if(mp(D,"unload",null,function(We){var Xe=We[r1](ue);Xe&&(Re||(Re=[]),Re[Hi](Xe))}),Re)return B2(function(We){return R0(w7(Re),function(){xe(),We()})});xe()}})}return o(g,"NotificationManager"),g.__ieDyn=1,g}(),ny="ctx",Z7="ParentContextKey",b3="ChildrenContextKey",ez=null,Wb=function(){function g(y,T,S){var D=this;if(D.start=zh(),D[rp]=y,D.isAsync=S,D[E7]=function(){return!1},De(T)){var N;qe(D,"payload",{g:o(function(){return!N&&De(T)&&(N=T(),T=null),N},"g")})}D[sp]=function(q){return q?q===g[Z7]||q===g[b3]?D[q]:(D[ny]||{})[q]:null},D[wu]=function(q,oe){if(q)if(q===g[Z7])D[q]||(D[E7]=function(){return!0}),D[q]=oe;else if(q===g[b3])D[q]=oe;else{var ue=D[ny]=D[ny]||{};ue[q]=oe}},D.complete=function(){var q=0,oe=D[sp](g[b3]);if(Ue(oe))for(var ue=0;ue<oe[Gn];ue++){var xe=oe[ue];xe&&(q+=xe.time)}D.time=zh()-D.start,D.exTime=D.time-q,D.complete=function(){}}}return o(g,"PerfEvent"),g.ParentContextKey="parent",g.ChildrenContextKey="childEvts",g}(),tz=function(){function g(y){this.ctx={},Wl(g,this,function(T){T.create=function(S,D,N){return new Wb(S,D,N)},T.fire=function(S){S&&(S.complete(),y&&De(y[l1])&&y[l1](S))},T[wu]=function(S,D){if(S){var N=T[ny]=T[ny]||{};N[S]=D}},T[sp]=function(S){return(T[ny]||{})[S]}})}return o(g,"PerfManager"),g.__ieDyn=1,g}(),$f="CoreUtils.doPerf";function iy(g,y,T,S,D){if(g){var N=g;if(N[s3]&&(N=N[s3]()),N){var q=void 0,oe=N[sp]($f);try{if(q=N.create(y(),S,D),q){if(oe&&q[wu]&&(q[wu](Wb[Z7],oe),oe[sp]&&oe[wu])){var ue=oe[sp](Wb[b3]);ue||(ue=[],oe[wu](Wb[b3],ue)),ue[Hi](q)}return N[wu]($f,q),T(q)}}catch(xe){q&&q[wu]&&q[wu]("exception",xe)}finally{q&&N.fire(q),N[wu]($f,oe)}}}return T()}o(iy,"doPerf");function da(){return ez}o(da,"getGblPerfMgr");var Gb="00000000000000000000000000000000",oy="0000000000000000";function Hb(g,y,T){return g&&g[Gn]===y&&g!==T?!!g.match(/^[\da-f]*$/i):!1}o(Hb,"_isValid");function hp(g){return Hb(g,32,Gb)}o(hp,"isValidTraceId");function d1(g){return Hb(g,16,oy)}o(d1,"isValidSpanId");var E3=CB("plugin");function pp(g){return E3.get(g,"state",{},!0)}o(pp,"_getPluginState");function X7(g,y){for(var T=[],S=null,D=g[qf](),N;D;){var q=D[T2]();if(q){S&&S[np]&&q[D0]&&S[np](q),N=pp(q);var oe=!!N[Qf];q[Qf]&&(oe=q[Qf]()),oe||T[Hi](q),S=q,D=D[qf]()}}Yr(T,function(ue){var xe=g[fa]();ue[r3](g.getCfg(),xe,y,g[qf]()),N=pp(ue),!ue[fa]&&!N[fa]&&(N[fa]=xe),N[Qf]=!0,delete N[Of]})}o(X7,"initializePlugins");function eT(g){return g.sort(function(y,T){var S=0;if(T){var D=T[D0];y[D0]?S=D?y[P2]-T[P2]:1:D&&(S=-1)}else S=y?1:-1;return S})}o(eT,"sortPlugins");function rz(g){var y={};return{getName:o(function(){return y[rp]},"getName"),setName:o(function(T){g&&g.setName(T),y[rp]=T},"setName"),getTraceId:o(function(){return y.traceId},"getTraceId"),setTraceId:o(function(T){g&&g.setTraceId(T),hp(T)&&(y.traceId=T)},"setTraceId"),getSpanId:o(function(){return y.spanId},"getSpanId"),setSpanId:o(function(T){g&&g.setSpanId(T),d1(T)&&(y.spanId=T)},"setSpanId"),getTraceFlags:o(function(){return y[XR]},"getTraceFlags"),setTraceFlags:o(function(T){g&&g.setTraceFlags(T),y[XR]=T},"setTraceFlags")}}o(rz,"createDistributedTraceContext");var nz="TelemetryPluginChain",WB="_hasRun",tT="_getTelCtx",GB=0;function iz(g,y,T){for(;g;){if(g[T2]()===T)return g;g=g[qf]()}return B([T],y.config||{},y)}o(iz,"_getNextProxyStart");function rT(g,y,T,S){var D=null,N=[];y||(y=N0({},null,T[ua])),S!==null&&(D=S?iz(g,T,S):g);var q={_next:ue,ctx:{core:o(function(){return T},"core"),diagLog:o(function(){return y3(T,y.cfg)},"diagLog"),getCfg:o(function(){return y.cfg},"getCfg"),getExtCfg:Re,getConfig:We,hasNext:o(function(){return!!D},"hasNext"),getNext:o(function(){return D},"getNext"),setNext:o(function(He){D=He},"setNext"),iterate:Xe,onComplete:oe}};function oe(He,Ye){for(var pt=[],ct=2;ct<arguments.length;ct++)pt[ct-2]=arguments[ct];He&&N[Hi]({func:He,self:O(Ye)?q.ctx:Ye,args:pt})}o(oe,"_addOnComplete");function ue(){var He=D;if(D=He?He[qf]():null,!He){var Ye=N;Ye&&Ye[Gn]>0&&(Yr(Ye,function(pt){try{pt.func.call(pt.self,pt.args)}catch(ct){Lr(T[ua],2,73,"Unexpected Exception during onComplete - "+yt(ct))}}),N=[])}return He}o(ue,"_moveNext");function xe(He,Ye){var pt=null,ct=y.cfg;if(ct&&He){var Tt=ct[a1];!Tt&&Ye&&(Tt={}),ct[a1]=Tt,Tt=y.ref(ct,a1),Tt&&(pt=Tt[He],!pt&&Ye&&(pt={}),Tt[He]=pt,pt=y.ref(Tt,He))}return pt}o(xe,"_getExtCfg");function Re(He,Ye){var pt=xe(He,!0);return Ye&&ee(Ye,function(ct,Tt){if(Z(pt[ct])){var zt=y.cfg[ct];(zt||!Z(zt))&&(pt[ct]=zt)}G7(y,pt,ct,Tt)}),y.setDf(pt,Ye)}o(Re,"_resolveExtCfg");function We(He,Ye,pt){pt===void 0&&(pt=!1);var ct,Tt=xe(He,!1),zt=y.cfg;return Tt&&(Tt[Ye]||!Z(Tt[Ye]))?ct=Tt[Ye]:(zt[Ye]||!Z(zt[Ye]))&&(ct=zt[Ye]),ct||!Z(ct)?ct:pt}o(We,"_getConfig");function Xe(He){for(var Ye;Ye=q._next();){var pt=Ye[T2]();pt&&He(pt)}}return o(Xe,"_iterateChain"),q}o(rT,"_createInternalContext");function sy(g,y,T,S){var D=N0(y),N=rT(g,D,T,S),q=N.ctx;function oe(xe){var Re=N._next();return Re&&Re[D0](xe,q),!Re}o(oe,"_processNext");function ue(xe,Re){return xe===void 0&&(xe=null),Ue(xe)&&(xe=B(xe,D.cfg,T,Re)),sy(xe||q[qf](),D.cfg,T,Re)}return o(ue,"_createNew"),q[ml]=oe,q[n1]=ue,q}o(sy,"createProcessTelemetryContext");function w(g,y,T){var S=N0(y.config),D=rT(g,S,y,T),N=D.ctx;function q(ue){var xe=D._next();return xe&&xe[r1](N,ue),!xe}o(q,"_processNext");function oe(ue,xe){return ue===void 0&&(ue=null),Ue(ue)&&(ue=B(ue,S.cfg,y,xe)),w(ue||N[qf](),y,xe)}return o(oe,"_createNew"),N[ml]=q,N[n1]=oe,N}o(w,"createProcessTelemetryUnloadContext");function k(g,y,T){var S=N0(y.config),D=rT(g,S,y,T),N=D.ctx;function q(ue){return N.iterate(function(xe){De(xe[pm])&&xe[pm](N,ue)})}o(q,"_processNext");function oe(ue,xe){return ue===void 0&&(ue=null),Ue(ue)&&(ue=B(ue,S.cfg,y,xe)),k(ue||N[qf](),y,xe)}return o(oe,"_createNew"),N[ml]=q,N[n1]=oe,N}o(k,"createProcessTelemetryUpdateContext");function B(g,y,T,S){var D=null,N=!S;if(Ue(g)&&g[Gn]>0){var q=null;Yr(g,function(oe){if(!N&&S===oe&&(N=!0),N&&oe&&De(oe[D0])){var ue=Q(oe,y,T);D||(D=ue),q&&q._setNext(ue),q=ue}})}return S&&!D?B([S],y,T):D}o(B,"createTelemetryProxyChain");function Q(g,y,T){var S=null,D=De(g[D0]),N=De(g[np]),q;g?q=g[tp]+"-"+g[P2]+"-"+GB++:q="Unknown-0-"+GB++;var oe={getPlugin:o(function(){return g},"getPlugin"),getNext:o(function(){return S},"getNext"),processTelemetry:Re,unload:We,update:Xe,_id:q,_setNext:o(function(He){S=He},"_setNext")};function ue(){var He;return g&&De(g[tT])&&(He=g[tT]()),He||(He=sy(oe,y,T)),He}o(ue,"_getTelCtx");function xe(He,Ye,pt,ct,Tt){var zt=!1,mr=g?g[tp]:nz,Rr=He[WB];return Rr||(Rr=He[WB]={}),He.setNext(S),g&&iy(He[fa](),function(){return mr+":"+pt},function(){Rr[q]=!0;try{var Un=S?S._id:hi;Un&&(Rr[Un]=!1),zt=Ye(He)}catch(vi){var xi=S?Rr[S._id]:!0;xi&&(zt=!0),(!S||!xi)&&Lr(He[Uf](),1,73,"Plugin ["+mr+"] failed during "+pt+" - "+yt(vi)+", run flags: "+yt(Rr))}},ct,Tt),zt}o(xe,"_processChain");function Re(He,Ye){Ye=Ye||ue();function pt(ct){if(!g||!D)return!1;var Tt=pp(g);return Tt[Of]||Tt[Cb]?!1:(N&&g[np](S),g[D0](He,ct),!0)}o(pt,"_callProcessTelemetry"),xe(Ye,pt,"processTelemetry",function(){return{item:He}},!He.sync)||Ye[ml](He)}o(Re,"_processTelemetry");function We(He,Ye){function pt(){var ct=!1;if(g){var Tt=pp(g),zt=g[fa]||Tt[fa];g&&(!zt||zt===He.core())&&!Tt[Of]&&(Tt[fa]=null,Tt[Of]=!0,Tt[Qf]=!1,g[Of]&&g[Of](He,Ye)===!0&&(ct=!0))}return ct}o(pt,"_callTeardown"),xe(He,pt,"unload",function(){},Ye.isAsync)||He[ml](Ye)}o(We,"_unloadPlugin");function Xe(He,Ye){function pt(){var ct=!1;if(g){var Tt=pp(g),zt=g[fa]||Tt[fa];g&&(!zt||zt===He.core())&&!Tt[Of]&&g[pm]&&g[pm](He,Ye)===!0&&(ct=!0)}return ct}o(pt,"_callUpdate"),xe(He,pt,"update",function(){},!1)||He[ml](Ye)}return o(Xe,"_updatePlugin"),bt(oe)}o(Q,"createTelemetryPluginProxy");function ce(){var g=[];function y(S){S&&g[Hi](S)}o(y,"_addHandler");function T(S,D){Yr(g,function(N){try{N(S,D)}catch(q){Lr(S[Uf](),2,73,"Unexpected error calling unload handler - "+yt(q))}}),g=[]}return o(T,"_runHandlers"),{add:y,run:T}}o(ce,"createUnloadHandlerContainer");function we(){var g=[];function y(S){var D=g;g=[],Yr(D,function(N){try{(N.rm||N.remove).call(N)}catch(q){Lr(S,2,73,"Unloading:"+yt(q))}})}o(y,"_doUnload");function T(S){S&&s2(g,S)}return o(T,"_addHook"),{run:y,add:T}}o(we,"createUnloadHookContainer");var Be,je="getPlugin",it=(Be={},Be[a1]={isVal:Ib,v:{}},Be),vt=function(){function g(){var y=this,T,S,D,N,q;xe(),Wl(g,y,function(Re){Re[r3]=function(We,Xe,He,Ye){ue(We,Xe,Ye),T=!0},Re[Of]=function(We,Xe){var He=Re[fa];if(!He||We&&He!==We[fa]())return;var Ye,pt=!1,ct=We||w(null,He,D&&D[je]?D[je]():D),Tt=Xe||{reason:0,isAsync:!1};function zt(){pt||(pt=!0,N.run(ct,Xe),q.run(ct[Uf]()),Ye===!0&&ct[ml](Tt),xe())}return o(zt,"_unloadCallback"),!Re[ub]||Re[ub](ct,Tt,zt)!==!0?zt():Ye=!0,Ye},Re[pm]=function(We,Xe){var He=Re[fa];if(!He||We&&He!==We[fa]())return;var Ye,pt=!1,ct=We||k(null,He,D&&D[je]?D[je]():D),Tt=Xe||{reason:0};function zt(){pt||(pt=!0,ue(ct.getCfg(),ct.core(),ct[qf]()))}return o(zt,"_updateCallback"),!Re._doUpdate||Re._doUpdate(ct,Tt,zt)!==!0?zt():Ye=!0,Ye},l3(Re,"_addUnloadCb",function(){return N},"add"),l3(Re,"_addHook",function(){return q},"add"),qe(Re,"_unloadHooks",{g:o(function(){return q},"g")})}),y[Uf]=function(Re){return oe(Re)[Uf]()},y[Qf]=function(){return T},y.setInitialized=function(Re){T=Re},y[np]=function(Re){D=Re},y[ml]=function(Re,We){We?We[ml](Re):D&&De(D[D0])&&D[D0](Re,null)},y._getTelCtx=oe;function oe(Re){Re===void 0&&(Re=null);var We=Re;if(!We){var Xe=S||sy(null,{},y[fa]);D&&D[je]?We=Xe[n1](null,D[je]):We=Xe[n1](null,D)}return We}o(oe,"_getTelCtx");function ue(Re,We,Xe){N0(Re,it,y3(We)),!Xe&&We&&(Xe=We[w2]()[qf]());var He=D;D&&D[je]&&(He=D[je]()),y[fa]=We,S=sy(Xe,Re,We,He)}o(ue,"_setDefaults");function xe(){T=!1,y[fa]=null,S=null,D=null,q=we(),N=ce()}o(xe,"_initDefaults")}return o(g,"BaseTelemetryPlugin"),g.__ieDyn=1,g}();function br(g,y,T){var S={id:y,fn:T};s2(g,S);var D={remove:o(function(){Yr(g,function(N,q){if(N.id===S.id)return g[b2](q,1),-1})},"remove")};return D}o(br,"_addInitializer");function vn(g,y,T){for(var S=!1,D=g[Gn],N=0;N<D;++N){var q=g[N];if(q)try{if(q.fn[sb](null,[y])===!1){S=!0;break}}catch(oe){Lr(T,2,64,"Telemetry initializer failed: "+tl(oe),{exception:yt(oe)},!0)}}return!S}o(vn,"_runInitializers");var Mn=function(g){t3(y,g);function y(){var T=g.call(this)||this;T.identifier="TelemetryInitializerPlugin",T.priority=199;var S,D;N(),Wl(y,T,function(q,oe){q.addTelemetryInitializer=function(ue){return br(D,S++,ue)},q[D0]=function(ue,xe){vn(D,ue,xe?xe[Uf]():q[Uf]())&&q[ml](ue,xe)},q[ub]=function(){N()}});function N(){S=0,D=[]}return o(N,"_initDefaults"),T}return o(y,"TelemetryInitializerPlugin"),y.__ieDyn=1,y}(vt),wr,Fr="Plugins must provide initialize method",Ln="_notificationManager",bn="SDK is still unloading...",pi="SDK is not initialized",to=100,Si=5e4,Da=St((wr={cookieCfg:{}},wr[D2]={rdOnly:!0,ref:!0,v:[]},wr[ym]={rdOnly:!0,ref:!0,v:[]},wr[a1]={ref:!0,v:{}},wr[_u]=B0,wr.loggingLevelConsole=0,wr.diagnosticLogInterval=B0,wr));function ay(g,y){return new tz(y)}o(ay,"_createPerfManager");function I3(g,y,T){var S=[],D=[],N={};return Yr(T,function(q){(Z(q)||Z(q[r3]))&&$t(Fr);var oe=q[P2],ue=q[tp];q&&oe&&(Z(N[oe])?N[oe]=ue:Qb(g,"Two extensions have same priority #"+oe+" - "+N[oe]+", "+ue)),!oe||oe<y?S[Hi](q):D[Hi](q)}),{core:S,channels:D}}o(I3,"_validateExtensions");function nT(g,y){var T=!1;return Yr(y,function(S){if(S===g)return T=!0,-1}),T}o(nT,"_isPluginPresent");function jb(g,y,T,S){T&&ee(T,function(D,N){S&&zc(N)&&zc(y[D])&&jb(g,y[D],N,S),S&&zc(N)&&zc(y[D])?jb(g,y[D],N,S):g.set(y,D,N)})}o(jb,"_deepMergeConfig");function HB(g,y){var T=null,S=-1;return Yr(g,function(D,N){if(D.w===y)return T=D,S=N,-1}),{i:S,l:T}}o(HB,"_findWatcher");function oz(g,y){var T=HB(g,y).l;return T||(T={w:y,rm:o(function(){var S=HB(g,y);S.i!==-1&&g[b2](S.i,1)},"rm")},g[Hi](T)),T}o(oz,"_addDelayedCfgListener");function iT(g,y,T){Yr(y,function(S){var D=vm(g,S.w,T);delete S.w,S.rm=function(){D.rm()}})}o(iT,"_registerDelayedCfgListener");function jB(g,y,T,S){return y.add(g[hm](function(D){var N=D.cfg.disableDbgExt;N===!0&&S&&(T[n3](S),S=null),T&&!S&&N!==!0&&(S=H$(D.cfg),T[ab](S))})),S}o(jB,"_initDebugListener");function VB(g){return qe({rm:o(function(){g.rm()},"rm")},"toJSON",{v:o(function(){return"aicore::onCfgChange<"+JSON.stringify(g)+">"},"v")})}o(VB,"_createUnloadHook");var Lt=function(){function g(){var y,T,S,D,N,q,oe,ue,xe,Re,We,Xe,He,Ye,pt,ct,Tt,zt,mr,Rr,Un,xi,vi,mo,fn,jr,bi,Is,qo,Zt,Vr,ro;Wl(g,this,function(Ft){mt(),Ft._getDbgPlgTargets=function(){return[vi,D]},Ft[Qf]=function(){return T},Ft.activeStatus=function(){return jr},Ft._setPendingStatus=function(){jr=3},Ft[r3]=function(At,Sr,Sn,qr){He&&$t(bn),Ft[Qf]()&&$t("Core cannot be initialized more than once"),y=N0(At,Da,Sn||Ft[ua],!1),At=y.cfg,jl(y[hm](function(So){var is=So.cfg,xc=jr===3;if(!xc){Is=is.initInMemoMaxSize||to;var L0=is.instrumentationKey,Tm=is.endpointUrl;if(Z(L0)){Un=null,jr=ep.INACTIVE;var wm="Please provide instrumentation key";T?(Lr(S,1,100,wm),Os()):$t(wm);return}var iE=[];if(lt(L0)?(iE[Hi](L0),Un=null):Un=L0,lt(Tm)?(iE[Hi](Tm),bi=null):bi=Tm,iE[Gn]){qo=!1,jr=3;var IT=Ib(is.initTimeOut)?is.initTimeOut:Si,Qz=Yc(iE);Jh(function(){qo||En()},IT),R0(Qz,function(yy){try{if(qo)return;if(!yy.rejected){var Cy=yy[I2];if(Cy&&Cy[Gn]){var gD=Cy[0];if(Un=gD&&gD[I2],Cy[Gn]>1){var AD=Cy[1];bi=AD&&AD[I2]}}Un&&(At.instrumentationKey=Un,At.endpointUrl=bi)}En()}catch{qo||En()}})}else En();var oE=So.ref(So.cfg,a1);ee(oE,function(yy){So.ref(oE,yy)})}})),N=qr,mr=jB(y,zt,N&&Ft[Tu](),mr),gy(),Ft[ua]=Sn;var kn=At[D2];if(Re=[],Re[Hi].apply(Re,YR(YR([],Sr,!1),kn)),We=At[ym],Us(null),(!Xe||Xe[Gn]===0)&&$t("No "+ym+" available"),We&&We[Gn]>1){var bo=Ft[T2]("TeeChannelController");(!bo||!bo.plugin)&&Lr(S,1,28,"TeeChannel required")}iT(At,xi,S),xi=null,T=!0,jr===ep.ACTIVE&&Os()},Ft.getChannels=function(){var At=[];return Xe&&Yr(Xe,function(Sr){At[Hi](Sr)}),bt(At)},Ft.track=function(At){iy(Ft[s3](),function(){return"AppInsightsCore:track"},function(){At===null&&(Ts(At),$t("Invalid telemetry item")),!At[rp]&&Z(At[rp])&&(Ts(At),$t("telemetry name required")),At.iKey=At.iKey||Un,At.time=At.time||a3(new Date),At.ver=At.ver||"4.0",!He&&Ft[Qf]()&&jr===ep.ACTIVE?Na()[ml](At):jr!==ep.INACTIVE&&D[Gn]<=Is&&D[Hi](At)},function(){return{item:At}},!At.sync)},Ft[w2]=Na,Ft[Tu]=function(){return N||(N=new X$(y.cfg),Ft[Ln]=N),N},Ft[ab]=function(At){Ft.getNotifyMgr()[ab](At)},Ft[n3]=function(At){N&&N[n3](At)},Ft.getCookieMgr=function(){return ue||(ue=Y$(y.cfg,Ft[ua])),ue},Ft.setCookieMgr=function(At){ue!==At&&(Z2(ue,!1),ue=At)},Ft[s3]=function(){return q||oe||da()},Ft.setPerfMgr=function(At){q=At},Ft.eventCnt=function(){return D[Gn]},Ft.releaseQueue=function(){if(T&&D[Gn]>0){var At=D;D=[],jr===2?Yr(At,function(Sr){Sr.iKey=Sr.iKey||Un,Na()[ml](Sr)}):Lr(S,2,20,"core init status is not active")}},Ft.pollInternalLogs=function(At){return pt=At||null,ro=!1,Zt&&Zt[E2](),ho(!0)};function En(){qo=!0,Z(Un)?(jr=ep.INACTIVE,Lr(S,1,112,"ikey can't be resolved from promises")):jr=ep.ACTIVE,Os()}o(En,"_setStatus");function Os(){T&&(Ft.releaseQueue(),Ft.pollInternalLogs())}o(Os,"_releaseQueues");function ho(At){if((!Zt||!Zt[Mf])&&!ro){var Sr=At||S&&S.queue[Gn]>0;Sr&&(Vr||(Vr=!0,jl(y[hm](function(Sn){var qr=Sn.cfg.diagnosticLogInterval;(!qr||!(qr>0))&&(qr=1e4);var kn=!1;Zt&&(kn=Zt[Mf],Zt[E2]()),Zt=Xv(py,qr),Zt.unref(),Zt[Mf]=kn}))),Zt[Mf]=!0)}return Zt}o(ho,"_startLogPoller"),Ft[KR]=function(){ro=!0,Zt&&Zt[E2](),py()},R7(Ft,function(){return Ye},["addTelemetryInitializer"]),Ft[r1]=function(At,Sr,Sn){At===void 0&&(At=!0),T||$t(pi),He&&$t(bn);var qr={reason:50,isAsync:At,flushComplete:!1},kn;At&&!Sr&&(kn=B2(function(is){Sr=is}));var bo=w(Yf(),Ft);bo[lb](function(){zt.run(Ft[ua]),_B([ue,N,S],At,function(){mt(),Sr&&Sr(qr)})},Ft);function So(is){qr.flushComplete=is,He=!0,Tt.run(bo,qr),Ft[KR](),bo[ml](qr)}return o(So,"_doUnload"),py(),Em(At,So,6,Sn),kn},Ft[T2]=yl,Ft.addPlugin=function(At,Sr,Sn,qr){if(!At){qr&&qr(!1),Ay(Fr);return}var kn=yl(At[tp]);if(kn&&!Sr){qr&&qr(!1),Ay("Plugin ["+At[tp]+"] is already loaded!");return}var bo={reason:16};function So(L0){Re[Hi](At),bo.added=[At],Us(bo),qr&&qr(!0)}if(o(So,"_addPlugin"),kn){var is=[kn.plugin],xc={reason:2,isAsync:!!Sn};Zc(is,xc,function(L0){L0?(bo.removed=is,bo.reason|=32,So()):qr&&qr(!1)})}else So()},Ft.updateCfg=function(At,Sr){Sr===void 0&&(Sr=!0);var Sn;if(Ft[Qf]()){Sn={reason:1,cfg:y.cfg,oldCfg:zv({},y.cfg),newConfig:zv({},At),merge:Sr},At=Sn.newConfig;var qr=y.cfg;At[D2]=qr[D2],At[ym]=qr[ym]}y._block(function(kn){var bo=kn.cfg;jb(kn,bo,At,Sr),Sr||ee(bo,function(So){Ge(At,So)||kn.set(bo,So,B0)}),kn.setDf(bo,Da)},!0),y.notify(),Sn&&Im(Sn)},Ft.evtNamespace=function(){return ct},Ft.flush=Em,Ft.getTraceCtx=function(At){return Rr||(Rr=rz()),Rr},Ft.setTraceCtx=function(At){Rr=At||null},Ft.addUnloadHook=jl,l3(Ft,"addUnloadCb",function(){return Tt},"add"),Ft.onCfgChange=function(At){var Sr;return T?Sr=vm(y.cfg,At,Ft[ua]):Sr=oz(xi,At),VB(Sr)},Ft.getWParam=function(){return Gh()||y.cfg.enableWParam?0:-1};function Al(){var At={};mo=[];var Sr=o(function(Sn){Sn&&Yr(Sn,function(qr){if(qr[tp]&&qr[_2]&&!At[qr.identifier]){var kn=qr[tp]+"="+qr[_2];mo[Hi](kn),At[qr.identifier]=qr}})},"_addPluginVersions");Sr(Xe),We&&Yr(We,function(Sn){Sr(Sn)}),Sr(Re)}o(Al,"_setPluginVersions");function mt(){T=!1,y=N0({},Da,Ft[ua]),y.cfg[JR]=1,qe(Ft,"config",{g:o(function(){return y.cfg},"g"),s:o(function(Sr){Ft.updateCfg(Sr,!1)},"s")}),qe(Ft,"pluginVersionStringArr",{g:o(function(){return mo||Al(),mo},"g")}),qe(Ft,"pluginVersionString",{g:o(function(){return fn||(mo||Al(),fn=mo.join(";")),fn||hi},"g")}),qe(Ft,"logger",{g:o(function(){return S||(S=new C3(y.cfg),y[ua]=S),S},"g"),s:o(function(Sr){y[ua]=Sr,S!==Sr&&(Z2(S,!1),S=Sr)},"s")}),Ft[ua]=new C3(y.cfg),vi=[];var At=Ft.config[D2]||[];At.splice(0,At[Gn]),s2(At,vi),Ye=new Mn,D=[],Z2(N,!1),N=null,q=null,oe=null,Z2(ue,!1),ue=null,xe=null,Re=[],We=null,Xe=null,He=!1,pt=null,ct=xm("AIBaseCore",!0),Tt=ce(),Rr=null,Un=null,zt=we(),xi=[],fn=null,mo=null,ro=!1,Zt=null,Vr=!1,jr=0,bi=null,Is=null,qo=!1}o(mt,"_initDefaults");function Na(){var At=sy(Yf(),y.cfg,Ft);return At[lb](ho),At}o(Na,"_createTelCtx");function Us(At){var Sr=I3(Ft[ua],O$,Re);xe=null,fn=null,mo=null,Xe=(We||[])[0]||[],Xe=eT(s2(Xe,Sr[ym]));var Sn=s2(eT(Sr[fa]),Xe);vi=bt(Sn);var qr=Ft.config[D2]||[];qr.splice(0,qr[Gn]),s2(qr,vi);var kn=Na();Xe&&Xe[Gn]>0&&X7(kn[n1](Xe),Sn),X7(kn,Sn),At&&Im(At)}o(Us,"_initPluginChain");function yl(At){var Sr=null,Sn=null,qr=[];return Yr(vi,function(kn){if(kn[tp]===At&&kn!==Ye)return Sn=kn,-1;kn.getChannel&&qr[Hi](kn)}),!Sn&&qr[Gn]>0&&Yr(qr,function(kn){if(Sn=kn.getChannel(At),!Sn)return-1}),Sn&&(Sr={plugin:Sn,setEnabled:o(function(kn){pp(Sn)[Cb]=!kn},"setEnabled"),isEnabled:o(function(){var kn=pp(Sn);return!kn[Of]&&!kn[Cb]},"isEnabled"),remove:o(function(kn,bo){kn===void 0&&(kn=!0);var So=[Sn],is={reason:1,isAsync:kn};Zc(So,is,function(xc){xc&&Us({reason:32,removed:So}),bo&&bo(xc)})},"remove")}),Sr}o(yl,"_getPlugin");function Yf(){if(!xe){var At=(vi||[]).slice();$c(At,Ye)===-1&&At[Hi](Ye),xe=B(eT(At),y.cfg,Ft)}return xe}o(Yf,"_getPluginChain");function Zc(At,Sr,Sn){if(At&&At[Gn]>0){var qr=B(At,y.cfg,Ft),kn=w(qr,Ft);kn[lb](function(){var bo=!1,So=[];Yr(Re,function(xc,L0){nT(xc,At)?bo=!0:So[Hi](xc)}),Re=So,fn=null,mo=null;var is=[];We&&(Yr(We,function(xc,L0){var Tm=[];Yr(xc,function(wm){nT(wm,At)?bo=!0:Tm[Hi](wm)}),is[Hi](Tm)}),We=is),Sn&&Sn(bo),ho()}),kn[ml](Sr)}else Sn(!1)}o(Zc,"_removePlugins");function py(){if(S&&S.queue){var At=S.queue.slice(0);S.queue[Gn]=0,Yr(At,function(Sr){var Sn={name:pt||"InternalMessageId: "+Sr[cb],iKey:Un,time:a3(new Date),baseType:Lb.dataType,baseData:{message:Sr[i1]}};Ft.track(Sn)})}}o(py,"_flushInternalLogs");function Em(At,Sr,Sn,qr){var kn=1,bo=!1,So=null;qr=qr||5e3;function is(){kn--,bo&&kn===0&&(So&&So[E2](),So=null,Sr&&Sr(bo),Sr=null)}if(o(is,"doCallback"),Xe&&Xe[Gn]>0){var xc=Na()[n1](Xe);xc.iterate(function(L0){if(L0.flush){kn++;var Tm=!1;L0.flush(At,function(){Tm=!0,is()},Sn)||Tm||(At&&So==null?So=Jh(function(){So=null,is()},qr):is())}})}return bo=!0,is(),!0}o(Em,"_flushChannels");function gy(){var At;jl(y[hm](function(Sr){var Sn=Sr.cfg.enablePerfMgr;if(Sn){var qr=Sr.cfg[_u];(At!==qr||!At)&&(qr||(qr=ay),uB(Sr.cfg,_u,qr),At=qr,oe=null),!q&&!oe&&De(qr)&&(oe=qr(Ft,Ft[Tu]()))}else oe=null,At=null}))}o(gy,"_initPerfManager");function Im(At){var Sr=k(Yf(),Ft);Sr[lb](ho),(!Ft._updateHook||Ft._updateHook(Sr,At)!==!0)&&Sr[ml](At)}o(Im,"_doUpdate");function Ay(At){var Sr=Ft[ua];Sr?(Lr(Sr,2,73,At),ho()):$t(At)}o(Ay,"_logOrThrowError");function Ts(At){var Sr=Ft[Tu]();Sr&&Sr[N2]([At],2)}o(Ts,"_notifyInvalidEvent");function jl(At){zt.add(At)}o(jl,"_addUnloadHook")})}return o(g,"AppInsightsCore"),g.__ieDyn=1,g}();function Ur(g,y){try{if(g&&g!==""){var T=Kc().parse(g);if(T&&T[ZR]&&T[ZR]>=T.itemsAccepted&&T.itemsReceived-T.itemsAccepted===T.errors[Gn])return T}}catch(S){Lr(y,1,43,"Cannot parse the response. "+(S[rp]||yt(S)),{response:g})}return null}o(Ur,"parseResponse");var an="",Qo="NoResponseBody",Pa="&"+Qo+"=true",Ms="POST",Fa=function(){function g(){var y=0,T,S,D,N,q,oe,ue,xe,Re,We,Xe,He,Ye,pt;Wl(g,this,function(ct,Tt){var zt=!0;qo(),ct[r3]=function(Zt,Vr){D=Vr,S&&Lr(D,1,28,"Sender is already initialized"),ct.SetConfig(Zt),S=!0},ct._getDbgPlgTargets=function(){return[S,N,oe,T]},ct.SetConfig=function(Zt){try{if(q=Zt.senderOnCompleteCallBack||{},oe=!!Zt.disableCredentials,ue=Zt.fetchCredentials,N=!!Zt.isOneDs,T=!!Zt.enableSendPromise,Re=!!Zt.disableXhr,We=!!Zt.disableBeacon,Xe=!!Zt.disableBeaconSync,pt=Zt.timeWrapper,Ye=!!Zt.addNoResponse,He=!!Zt.disableFetchKeepAlive,xe={sendPOST:jr},N||(zt=!1),oe){var Vr=W2();Vr&&Vr.protocol&&Vr.protocol[x2]()==="file:"&&(zt=!1)}return!0}catch{}return!1},ct.getSyncFetchPayload=function(){return y},ct.getSenderInst=function(Zt,Vr){return Zt&&Zt[Gn]?xi(Zt,Vr):null},ct.getFallbackInst=function(){return xe},ct[ub]=function(Zt,Vr){qo()};function mr(Zt,Vr){vi(Vr,200,{},Zt)}o(mr,"_onSuccess");function Rr(Zt,Vr){Lr(D,2,26,"Failed to send telemetry.",{message:Zt}),vi(Vr,400,{})}o(Rr,"_onError");function Un(Zt){Rr("No endpoint url is provided for the batch",Zt)}o(Un,"_onNoPayloadUrl");function xi(Zt,Vr){for(var ro=0,Ft=null,En=0;Ft==null&&En<Zt[Gn];)ro=Zt[En],!Re&&ro===1?Q7()?Ft=Is:M7()&&(Ft=jr):ro===2&&m3(Vr)&&(!Vr||!He)?Ft=bi:ro===3&&cp()&&(Vr?!Xe:!We)&&(Ft=fn),En++;return Ft?{_transport:ro,_isSync:Vr,sendPOST:Ft}:null}o(xi,"_getSenderInterface");function vi(Zt,Vr,ro,Ft){try{Zt&&Zt(Vr,ro,Ft)}catch{}}o(vi,"_doOnComplete");function mo(Zt,Vr){var ro=Hh(),Ft=Zt[gm];if(!Ft)return Un(Vr),!0;Ft=Zt[gm]+(Ye?Pa:an);var En=Zt[S2],Os=N?En:new Blob([En],{type:"text/plain;charset=UTF-8"}),ho=ro.sendBeacon(Ft,Os);return ho}o(mo,"_doBeaconSend");function fn(Zt,Vr,ro){var Ft=Zt[S2];try{if(Ft)if(mo(Zt,Vr))mr(an,Vr);else{var En=q&&q.beaconOnRetry;En&&De(En)?En(Zt,Vr,mo):(xe&&xe.sendPOST(Zt,Vr,!0),Lr(D,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(Os){N&&Qb(D,"Failed to send telemetry using sendBeacon API. Ex:"+yt(Os)),vi(Vr,N?0:400,{},an)}}o(fn,"_beaconSender");function jr(Zt,Vr,ro){var Ft,En,Os,ho=Zt[I7]||{};!ro&&T&&(Ft=B2(function(Us,yl){En=Us,Os=yl})),N&&ro&&Zt.disableXhrSync&&(ro=!1);var Al=Zt[gm];if(!Al){Un(Vr),En&&En(!1);return}var mt=P7(Ms,Al,zt,!0,ro,Zt[Am]);N||mt.setRequestHeader("Content-type","application/json"),Yr(rt(ho),function(Us){mt.setRequestHeader(Us,ho[Us])}),mt.onreadystatechange=function(){N||(Na(mt),mt.readyState===4&&En&&En(!0))},mt.onload=function(){N&&Na(mt)};function Na(Us){var yl=q&&q.xhrOnComplete,Yf=yl&&De(yl);if(Yf)yl(Us,Vr,Zt);else{var Zc=Tb(Us);vi(Vr,Us[i3],u1(Us,N),Zc)}}return o(Na,"_doOnReadyFunc"),mt.onerror=function(Us){vi(Vr,N?mt[i3]:400,u1(mt,N),N?an:wb(mt)),Os&&Os(Us)},mt.ontimeout=function(){vi(Vr,N?mt[i3]:500,u1(mt,N),N?an:wb(mt)),En&&En(!1)},mt.send(Zt[S2]),Ft}o(jr,"_xhrSender");function bi(Zt,Vr,ro){var Ft,En=Zt[gm],Os=Zt[S2],ho=N?Os:new Blob([Os],{type:"application/json"}),Al,mt,Na,Us=new Headers,yl=Os[Gn],Yf=!1,Zc=!1,py=Zt[I7]||{},Em=(Ft={method:Ms,body:ho},Ft[SB]=!0,Ft);Zt.headers&&rt(Zt.headers)[Gn]>0&&(Yr(rt(py),function(Ts){Us.append(Ts,py[Ts])}),Em[I7]=Us),ue?Em.credentials=ue:zt&&N&&(Em.credentials="include"),ro&&(Em.keepalive=!0,y+=yl,N?Zt._sendReason===2&&(Yf=!0,Ye&&(En+=Pa)):Yf=!0);var gy=new Request(En,Em);try{gy[SB]=!0}catch{}if(!ro&&T&&(Al=B2(function(Ts,jl){mt=Ts,Na=jl})),!En){Un(Vr),mt&&mt(!1);return}function Im(Ts){vi(Vr,N?0:400,{},N?an:Ts)}o(Im,"_handleError");function Ay(Ts,jl,At){var Sr=Ts[i3],Sn=q.fetchOnComplete;Sn&&De(Sn)?Sn(Ts,Vr,At||an,jl):vi(Vr,Sr,{},At||an)}o(Ay,"_onFetchComplete");try{R0(fetch(N?En:gy,N?Em:null),function(Ts){if(ro&&(y-=yl,yl=0),!Zc)if(Zc=!0,Ts.rejected)Im(Ts.reason&&Ts.reason[i1]),Na&&Na(Ts.reason);else{var jl=Ts[I2];try{!N&&!jl.ok?(Im(jl.statusText),mt&&mt(!1)):N&&!jl.body?(Ay(jl,null,an),mt&&mt(!0)):R0(jl.text(),function(At){Ay(jl,Zt,At[I2]),mt&&mt(!0)})}catch(At){Im(yt(At)),Na&&Na(At)}}})}catch(Ts){Zc||(Im(yt(Ts)),Na&&Na(Ts))}return Yf&&!Zc&&(Zc=!0,vi(Vr,200,{}),mt&&mt(!0)),N&&!Zc&&Zt[Am]>0&&pt&&pt.set(function(){Zc||(Zc=!0,vi(Vr,500,{}),mt&&mt(!0))},Zt[Am]),Al}o(bi,"_doFetchSender");function Is(Zt,Vr,ro){var Ft=um(),En=new XDomainRequest,Os=Zt[S2];En.onload=function(){var Us=Tb(En),yl=q&&q.xdrOnComplete;yl&&De(yl)?yl(En,Vr,Zt):vi(Vr,200,{},Us)},En.onerror=function(){vi(Vr,400,{},N?an:dB(En))},En.ontimeout=function(){vi(Vr,500,{})},En.onprogress=function(){};var ho=Ft&&Ft.location&&Ft.location.protocol||"",Al=Zt[gm];if(!Al){Un(Vr);return}if(!N&&Al.lastIndexOf(ho,0)!==0){var mt="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Lr(D,2,40,". "+mt),Rr(mt,Vr);return}var Na=N?Al:Al[op](/^(https?:)/,"");En.open(Ms,Na),Zt[Am]&&(En[Am]=Zt[Am]),En.send(Os),N&&ro?pt&&pt.set(function(){En.send(Os)},0):En.send(Os)}o(Is,"_xdrSender");function qo(){y=0,S=!1,T=!1,D=null,N=null,q=null,oe=null,ue=null,xe=null,Re=!1,We=!1,Xe=!1,He=!1,Ye=!1,pt=null}o(qo,"_initDefaults")})}return o(g,"SenderPostManager"),g.__ieDyn=1,g}(),m1="on",gp="attachEvent",ly="addEventListener",$B="detachEvent",zB="removeEventListener",Vb="events";xm("aiEvtPageHide"),xm("aiEvtPageShow");var sz=/\.[\.]+/g,Kfe=/[\.]+$/,xje=1,YB=CB("events"),vje=/^([^.]*)(?:\.(.+)|)/;function Jfe(g){return g&&g[op]?g[op](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,hi):g}o(Jfe,"_normalizeNamespace");function az(g,y){if(y){var T=hi;Ue(y)?(T=hi,Yr(y,function(D){D=Jfe(D),D&&(D[0]!=="."&&(D="."+D),T+=D)})):T=Jfe(y),T&&(T[0]!=="."&&(T="."+T),g=(g||hi)+T)}var S=vje.exec(g||hi)||[];return{type:S[1],ns:(S[2]||hi).replace(sz,".").replace(Kfe,hi)[ip](".").sort().join(".")}}o(az,"_getEvtNamespace");function Zfe(g,y,T){T===void 0&&(T=!0);var S=YB.get(g,Vb,{},T),D=S[y];return D||(D=S[y]=[]),D}o(Zfe,"_getRegisteredEvents");function Xfe(g,y,T,S){g&&y&&y[Gl]&&(g[zB]?g[zB](y[Gl],T,S):g[$B]&&g[$B](m1+y[Gl],T))}o(Xfe,"_doDetach");function bje(g,y,T,S){var D=!1;return g&&y&&y[Gl]&&T&&(g[ly]?(g[ly](y[Gl],T,S),D=!0):g[gp]&&(g[gp](m1+y[Gl],T),D=!0)),D}o(bje,"_doAttach");function ede(g,y,T,S){for(var D=y[Gn];D--;){var N=y[D];N&&(!T.ns||T.ns===N[v7].ns)&&(!S||S(N))&&(Xfe(g,N[v7],N.handler,N.capture),y[b2](D,1))}}o(ede,"_doUnregister");function Eje(g,y,T){if(y[Gl])ede(g,Zfe(g,y[Gl]),y,T);else{var S=YB.get(g,Vb,{});ee(S,function(D,N){ede(g,N,y,T)}),rt(S)[Gn]===0&&YB.kill(g,Vb)}}o(Eje,"_unregisterEvents");function tde(g,y){var T;return y?(Ue(y)?T=[g].concat(y):T=[g,y],T=az("xx",T).ns[ip](".")):T=g,T}o(tde,"mergeEvtNamespace");function rde(g,y,T,S,D){D===void 0&&(D=!1);var N=!1;if(g)try{var q=az(y,S);if(N=bje(g,q,T,D),N&&YB.accept(g)){var oe={guid:xje++,evtName:q,handler:T,capture:D};Zfe(g,q.type)[Hi](oe)}}catch{}return N}o(rde,"eventOn");function Ije(g,y,T,S,D){if(D===void 0&&(D=!1),g)try{var N=az(y,S),q=!1;Eje(g,N,function(oe){return N.ns&&!T||oe.handler===T?(q=!0,!0):!1}),q||Xfe(g,N,T,D)}catch{}}o(Ije,"eventOff");var nde="sampleRate",lz="ProcessLegacy",ide="http.method",cz="https://dc.services.visualstudio.com",$b="/v2/track",cy="not_specified",ode=b$({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),KB="split",fi="length",uz="toLowerCase",T3="ingestionendpoint",oT="toString",sde="removeItem",JB="message",Tje="count",fz="stringify",dz="pathname",sT="match",uy="name",Ap="properties",h1="measurements",ZB="sizeInBytes",XB="typeName",aT="exceptions",lT="severityLevel",mz="problemGroup",zb="parsedStack",eD="hasFullStack",tD="assembly",p1="fileName",Yb="line",rD="aiDataContract",nD="duration";function ade(g,y,T){var S=y[fi],D=wje(g,y);if(D[fi]!==S){for(var N=0,q=D;T[q]!==void 0;)N++,q=me(D,0,147)+kje(N);D=q}return D}o(ade,"dataSanitizeKeyAndAddUniqueness");function wje(g,y){var T;return y&&(y=Gi(Ct(y)),y[fi]>150&&(T=me(y,0,150),Lr(g,2,57,"name is too long.  It has been truncated to 150 characters.",{name:y},!0))),T||y}o(wje,"dataSanitizeKey");function yc(g,y,T){T===void 0&&(T=1024);var S;return y&&(T=T||1024,y=Gi(Ct(y)),y[fi]>T&&(S=me(y,0,T),Lr(g,2,61,"string value is too long. It has been truncated to "+T+" characters.",{value:y},!0))),S||y}o(yc,"dataSanitizeString");function hz(g,y){return cde(g,y,2048,66)}o(hz,"dataSanitizeUrl");function lde(g,y){var T;return y&&y[fi]>32768&&(T=me(y,0,32768),Lr(g,2,56,"message is too long, it has been truncated to 32768 characters.",{message:y},!0)),T||y}o(lde,"dataSanitizeMessage");function _je(g,y){var T;if(y){var S=""+y;S[fi]>32768&&(T=me(S,0,32768),Lr(g,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:y},!0))}return T||y}o(_je,"dataSanitizeException");function w3(g,y){if(y){var T={};ee(y,function(S,D){if(ve(D)&&G2())try{D=Kc()[fz](D)}catch(N){Lr(g,2,49,"custom property is not valid",{exception:N},!0)}D=yc(g,D,8192),S=ade(g,S,T),T[S]=D}),y=T}return y}o(w3,"dataSanitizeProperties");function _3(g,y){if(y){var T={};ee(y,function(S,D){S=ade(g,S,T),T[S]=D}),y=T}return y}o(_3,"dataSanitizeMeasurements");function Sje(g,y){return y&&cde(g,y,128,69)[oT]()}o(Sje,"dataSanitizeId");function cde(g,y,T,S){var D;return y&&(y=Gi(Ct(y)),y[fi]>T&&(D=me(y,0,T),Lr(g,2,S,"input is too long, it has been truncated to "+T+" characters.",{data:y},!0))),D||y}o(cde,"dataSanitizeInput");function kje(g){var y="00"+g;return ye(y,y[fi]-3)}o(kje,"dsPadNumber");var ude=i2()||{},fde=0,Rje=[null,null,null,null,null];function Bje(g){var y=fde,T=Rje,S=T[y];return ude.createElement?T[y]||(S=T[y]=ude.createElement("a")):S={host:Dje(g,!0)},S.href=g,y++,y>=T[fi]&&(y=0),fde=y,S}o(Bje,"urlParseUrl");function Dje(g,y){var T=Pje(g,y)||"";if(T){var S=T[sT](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(S!=null&&S[fi]>3&&fe(S[2])&&S[2][fi]>0)return S[2]+(S[3]||"")}return T}o(Dje,"urlParseHost");function Pje(g,y){var T=null;if(g){var S=g[sT](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(S!=null&&S[fi]>2&&fe(S[2])&&S[2][fi]>0&&(T=S[2]||"",y&&S[fi]>2)){var D=(S[1]||"")[uz](),N=S[3]||"";(D==="http"&&N===":80"||D==="https"&&N===":443")&&(N=""),T+=N}}return T}o(Pje,"urlParseFullHost");var Fje=[cz+$b,"https://breeze.aimon.applicationinsights.io"+$b,"https://dc-int.services.visualstudio.com"+$b];function dde(g){return $c(Fje,g[uz]())!==-1}o(dde,"isInternalApplicationInsightsEndpoint");function Nje(g,y,T,S){var D,N=S,q=S;if(y&&y[fi]>0){var oe=Bje(y);if(D=oe.host,!N)if(oe[dz]!=null){var ue=oe.pathname[fi]===0?"/":oe[dz];ue.charAt(0)!=="/"&&(ue="/"+ue),q=oe[dz],N=yc(g,T?T+" "+ue:ue)}else N=yc(g,y)}else D=S,N=S;return{target:D,name:N,data:q}}o(Nje,"AjaxHelperParseDependencyPath");var pz=ob({LocalStorage:0,SessionStorage:1}),Kb=void 0,mde="";function hde(g){try{if(Z(Nf()))return null;var y=new Date()[oT](),T=zs(g===pz.LocalStorage?"localStorage":"sessionStorage"),S=mde+y;T.setItem(S,y);var D=T.getItem(S)!==y;if(T[sde](S),!D)return T}catch{}return null}o(hde,"_getVerifiedStorageObject");function gz(){return pde()?hde(pz.SessionStorage):null}o(gz,"_getSessionStorageObject");function Lje(g){mde=g||""}o(Lje,"utlSetStoragePrefix");function pde(g){return(g||Kb===void 0)&&(Kb=!!hde(pz.SessionStorage)),Kb}o(pde,"utlCanUseSessionStorage");function Qje(g,y){var T=gz();if(T!==null)try{return T.getItem(y)}catch(S){Kb=!1,Lr(g,2,2,"Browser failed read of session storage. "+tl(S),{exception:yt(S)})}return null}o(Qje,"utlGetSessionStorage");function Mje(g,y,T){var S=gz();if(S!==null)try{return S.setItem(y,T),!0}catch(D){Kb=!1,Lr(g,2,4,"Browser failed write to session storage. "+tl(D),{exception:yt(D)})}return!1}o(Mje,"utlSetSessionStorage");function Oje(g,y){var T=gz();if(T!==null)try{return T[sde](y),!0}catch(S){Kb=!1,Lr(g,2,6,"Browser failed removal of session storage item. "+tl(S),{exception:yt(S)})}return!1}o(Oje,"utlRemoveSessionStorage");var Uje=";",qje="=";function Az(g){if(!g)return{};var y=g[KB](Uje),T=u$(y,function(D,N){var q=N[KB](qje);if(q[fi]===2){var oe=q[0][uz](),ue=q[1];D[oe]=ue}return D},{});if(rt(T)[fi]>0){if(T.endpointsuffix){var S=T.location?T.location+".":"";T[T3]=T[T3]||"https://"+S+"dc."+T.endpointsuffix}T[T3]=T[T3]||cz,jR(T[T3],"/")&&(T[T3]=T[T3].slice(0,-1))}return T}o(Az,"parseConnectionString");var Wje=function(){function g(y,T,S){var D=this,N=this;N.ver=1,N.sampleRate=100,N.tags={},N[uy]=yc(y,S)||cy,N.data=T,N.time=a3(new Date),N[rD]={time:1,iKey:1,name:1,sampleRate:o(function(){return D.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(g,"Envelope"),g}(),Jb=function(){function g(y,T,S,D){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var N=this;N.ver=2,N[uy]=yc(y,T)||cy,N[Ap]=w3(y,S),N[h1]=_3(y,D)}return o(g,"Event"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Event",g.dataType="EventData",g}(),Gje=58,Hje=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,jje=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,Vje=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,$je=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,zje=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,Yje=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,Kje=/([^\(\s\n]+):([0-9]+)$/,gde="<no_method>",Zb="error",zf="stack",yz="stackDetails",Ade="errorSrc",Cz="message",yde="description",Cde=[{re:jje,len:5,m:1,fn:2,ln:3,col:4},{chk:Zje,pre:Jje,re:Vje,len:4,m:1,fn:2,ln:3},{re:$je,len:3,m:1,fn:2,hdl:Tde},{re:zje,len:2,fn:1,hdl:Tde}];function Jje(g){return g.replace(/(\(anonymous\))/,"<anonymous>")}o(Jje,"_scrubAnonymous");function Zje(g){return fm(g,"[native")<0}o(Zje,"_ignoreNative");function xz(g,y){var T=g;return T&&!fe(T)&&(JSON&&JSON[fz]?(T=JSON[fz](g),y&&(!T||T==="{}")&&(De(g[oT])?T=g[oT]():T=""+g)):T=""+g+" - (Missing JSON.stringify)"),T||""}o(xz,"_stringify");function xde(g,y){var T=g;return g&&(T&&!fe(T)&&(T=g[Cz]||g[yde]||T),T&&!fe(T)&&(T=xz(T,!0)),g.filename&&(T=T+" @"+(g.filename||"")+":"+(g.lineno||"?")+":"+(g.colno||"?"))),y&&y!=="String"&&y!=="Object"&&y!=="Error"&&fm(T||"",y)===-1&&(T=y+": "+T),T||""}o(xde,"_formatMessage");function Xje(g){try{if(ve(g))return"hasFullStack"in g&&"typeName"in g}catch{}return!1}o(Xje,"_isExceptionDetailsInternal");function eVe(g){try{if(ve(g))return"ver"in g&&"exceptions"in g&&"properties"in g}catch{}return!1}o(eVe,"_isExceptionInternal");function vde(g){return g&&g.src&&fe(g.src)&&g.obj&&Ue(g.obj)}o(vde,"_isStackDetails");function S3(g){var y=g||"";fe(y)||(fe(y[zf])?y=y[zf]:y=""+y);var T=y[KB](`
`);return{src:y,obj:T}}o(S3,"_convertStackObj");function tVe(g){for(var y=[],T=g[KB](`
`),S=0;S<T[fi];S++){var D=T[S];T[S+1]&&(D+="@"+T[S+1],S++),y.push(D)}return{src:g,obj:y}}o(tVe,"_getOperaStack");function bde(g){var y=null;if(g)try{if(g[zf])y=S3(g[zf]);else if(g[Zb]&&g[Zb][zf])y=S3(g[Zb][zf]);else if(g.exception&&g.exception[zf])y=S3(g.exception[zf]);else if(vde(g))y=g;else if(vde(g[yz]))y=g[yz];else if(um()&&um().opera&&g[Cz])y=tVe(g[JB]);else if(g.reason&&g.reason[zf])y=S3(g.reason[zf]);else if(fe(g))y=S3(g);else{var T=g[Cz]||g[yde]||"";fe(g[Ade])&&(T&&(T+=`
`),T+=" from "+g[Ade]),T&&(y=S3(T))}}catch(S){y=S3(S)}return y||{src:"",obj:null}}o(bde,"_getStackFromErrorObj");function rVe(g){var y="";return g&&(g.obj?y=g.obj.join(`
`):y=g.src||""),y}o(rVe,"_formatStackTrace");function nVe(g){var y,T=g.obj;if(T&&T[fi]>0){y=[];var S=0,D=!1,N=0;Yr(T,function(pt){if(D||aVe(pt)){var ct=Ct(pt);D=!0;var Tt=lVe(ct,S);Tt&&(N+=Tt[ZB],y.push(Tt),S++)}});var q=32*1024;if(N>q)for(var oe=0,ue=y[fi]-1,xe=0,Re=oe,We=ue;oe<ue;){var Xe=y[oe][ZB],He=y[ue][ZB];if(xe+=Xe+He,xe>q){var Ye=We-Re+1;y.splice(Re,Ye);break}Re=oe,We=ue,oe++,ue--}}return y}o(nVe,"_parseStack");function iD(g){var y="";if(g&&(y=g.typeName||g[uy]||"",!y))try{var T=/function (.{1,200})\(/,S=T.exec(g.constructor[oT]());y=S&&S[fi]>1?S[1]:""}catch{}return y}o(iD,"_getErrorType");function vz(g){if(g)try{if(!fe(g)){var y=iD(g),T=xz(g,!1);return(!T||T==="{}")&&(g[Zb]&&(g=g[Zb],y=iD(g)),T=xz(g,!0)),fm(T,y)!==0&&y!=="String"?y+":"+T:T}}catch{}return""+(g||"")}o(vz,"_formatErrorCode");var oD=function(){function g(y,T,S,D,N,q){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var oe=this;oe.ver=2,eVe(T)?(oe[aT]=T[aT]||[],oe[Ap]=T[Ap],oe[h1]=T[h1],T[lT]&&(oe[lT]=T[lT]),T.id&&(oe.id=T.id,T[Ap].id=T.id),T[mz]&&(oe[mz]=T[mz]),Z(T.isManual)||(oe.isManual=T.isManual)):(S||(S={}),q&&(S.id=q),oe[aT]=[Ede(y,T,S)],oe[Ap]=w3(y,S),oe[h1]=_3(y,D),N&&(oe[lT]=N),q&&(oe.id=q))}return o(g,"Exception"),g.CreateAutoException=function(y,T,S,D,N,q,oe,ue){var xe=iD(N||q||y);return{message:xde(y,xe),url:T,lineNumber:S,columnNumber:D,error:vz(N||q||y),evt:vz(q||y),typeName:xe,stackDetails:bde(oe||N||q),errorSrc:ue}},g.CreateFromInterface=function(y,T,S,D){var N=T[aT]&&zg(T[aT],function(oe){return sVe(y,oe)}),q=new g(y,mm(mm({},T),{exceptions:N}),S,D);return q},g.prototype.toInterface=function(){var y=this,T=y.exceptions,S=y.properties,D=y.measurements,N=y.severityLevel,q=y.problemGroup,oe=y.id,ue=y.isManual,xe=T instanceof Array&&zg(T,function(Re){return Re.toInterface()})||void 0;return{ver:"4.0",exceptions:xe,severityLevel:N,properties:S,measurements:D,problemGroup:q,id:oe,isManual:ue}},g.CreateSimpleException=function(y,T,S,D,N,q){var oe;return{exceptions:[(oe={},oe[eD]=!0,oe.message=y,oe.stack=N,oe.typeName=T,oe)]}},g.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",g.dataType="ExceptionData",g.formatError=vz,g}(),iVe=bt({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function oVe(){var g=this,y=Ue(g[zb])&&zg(g[zb],function(S){return uVe(S)}),T={id:g.id,outerId:g.outerId,typeName:g[XB],message:g[JB],hasFullStack:g[eD],stack:g[zf],parsedStack:y||void 0};return T}o(oVe,"_toInterface");function Ede(g,y,T){var S,D,N,q,oe,ue,xe,Re;if(Xje(y))q=y[XB],oe=y[JB],xe=y[zf],Re=y[zb]||[],ue=y[eD];else{var We=y,Xe=We&&We.evt;at(We)||(We=We[Zb]||Xe||We),q=yc(g,iD(We))||cy,oe=lde(g,xde(y||We,q))||cy;var He=y[yz]||bde(y);Re=nVe(He),Ue(Re)&&zg(Re,function(Ye){Ye[tD]=yc(g,Ye[tD]),Ye[p1]=yc(g,Ye[p1])}),xe=_je(g,rVe(He)),ue=Ue(Re)&&Re[fi]>0,T&&(T[XB]=T[XB]||q)}return S={},S[rD]=iVe,S.id=D,S.outerId=N,S.typeName=q,S.message=oe,S[eD]=ue,S.stack=xe,S.parsedStack=Re,S.toInterface=oVe,S}o(Ede,"_createExceptionDetails");function sVe(g,y){var T=Ue(y[zb])&&zg(y[zb],function(D){return cVe(D)})||y[zb],S=Ede(g,mm(mm({},y),{parsedStack:T}));return S}o(sVe,"_createExDetailsFromInterface");function Ide(g,y){var T=y[sT](Yje);if(T&&T[fi]>=4)g[p1]=T[1],g[Yb]=parseInt(T[2]);else{var S=y[sT](Kje);S&&S[fi]>=3?(g[p1]=S[1],g[Yb]=parseInt(S[2])):g[p1]=y}}o(Ide,"_parseFilename");function Tde(g,y,T){var S=g[p1];y.fn&&T&&T[fi]>y.fn&&(y.ln&&T[fi]>y.ln?(S=Gi(T[y.fn]||""),g[Yb]=parseInt(Gi(T[y.ln]||""))||0):S=Gi(T[y.fn]||"")),S&&Ide(g,S)}o(Tde,"_handleFilename");function aVe(g){var y=!1;if(g&&fe(g)){var T=Gi(g);T&&(y=Hje.test(T))}return y}o(aVe,"_isStackFrame");var wde=bt({level:1,method:1,assembly:0,fileName:0,line:0});function lVe(g,y){var T,S;if(g&&fe(g)&&Gi(g)){S=(T={},T[rD]=wde,T.level=y,T.assembly=Gi(g),T.method=gde,T.fileName="",T.line=0,T.sizeInBytes=0,T);for(var D=0;D<Cde[fi];){var N=Cde[D];if(N.chk&&!N.chk(g))break;N.pre&&(g=N.pre(g));var q=g[sT](N.re);if(q&&q[fi]>=N.len){N.m&&(S.method=Gi(q[N.m]||gde)),N.hdl?N.hdl(S,N,q):N.fn&&(N.ln?(S[p1]=Gi(q[N.fn]||""),S[Yb]=parseInt(Gi(q[N.ln]||""))||0):Ide(S,q[N.fn]||""));break}D++}}return _de(S)}o(lVe,"_extractStackFrame");function cVe(g){var y,T=(y={},y[rD]=wde,y.level=g.level,y.method=g.method,y.assembly=g[tD],y.fileName=g[p1],y.line=g[Yb],y.sizeInBytes=0,y);return _de(T)}o(cVe,"_stackFrameFromInterface");function _de(g){var y=Gje;return g&&(y+=g.method[fi],y+=g.assembly[fi],y+=g.fileName[fi],y+=g.level.toString()[fi],y+=g.line.toString()[fi],g[ZB]=y),g}o(_de,"_populateFrameSizeInBytes");function uVe(g){return{level:g.level,method:g.method,assembly:g[tD],fileName:g[p1],line:g[Yb]}}o(uVe,"_parsedFrameToInterface");var fVe=function(){function g(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(g,"DataPoint"),g}(),cT=function(){function g(y,T,S,D,N,q,oe,ue,xe){this.aiDataContract={ver:1,metrics:1,properties:0};var Re=this;Re.ver=2;var We=new fVe;We[Tje]=D>0?D:void 0,We.max=isNaN(q)||q===null?void 0:q,We.min=isNaN(N)||N===null?void 0:N,We[uy]=yc(y,T)||cy,We.value=S,We.stdDev=isNaN(oe)||oe===null?void 0:oe,Re.metrics=[We],Re[Ap]=w3(y,ue),Re[h1]=_3(y,xe)}return o(g,"Metric"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",g.dataType="MetricData",g}(),uT="";function Sde(g){(isNaN(g)||g<0)&&(g=0),g=p$(g);var y=uT+g%1e3,T=uT+Yg(g/1e3)%60,S=uT+Yg(g/(1e3*60))%60,D=uT+Yg(g/(1e3*60*60))%24,N=Yg(g/(1e3*60*60*24));return y=y[fi]===1?"00"+y:y[fi]===2?"0"+y:y,T=T[fi]<2?"0"+T:T,S=S[fi]<2?"0"+S:S,D=D[fi]<2?"0"+D:D,(N>0?N+".":uT)+D+":"+S+":"+T+"."+y}o(Sde,"msToTimeSpan");var sD=function(){function g(y,T,S,D,N,q,oe){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var ue=this;ue.ver=2,ue.id=Sje(y,oe),ue.url=hz(y,S),ue[uy]=yc(y,T)||cy,isNaN(D)||(ue[nD]=Sde(D)),ue[Ap]=w3(y,N),ue[h1]=_3(y,q)}return o(g,"PageView"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",g.dataType="PageviewData",g}(),aD=function(){function g(y,T,S,D,N,q,oe,ue,xe,Re,We,Xe){xe===void 0&&(xe="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var He=this;He.ver=2,He.id=T,He[nD]=Sde(N),He.success=q,He.resultCode=oe+"",He.type=yc(y,xe);var Ye=Nje(y,S,ue,D);He.data=hz(y,D)||Ye.data,He.target=yc(y,Ye.target),Re&&(He.target="".concat(He.target," | ").concat(Re)),He[uy]=yc(y,Ye[uy]),He[Ap]=w3(y,We),He[h1]=_3(y,Xe)}return o(g,"RemoteDependencyData"),g.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",g.dataType="RemoteDependencyData",g}(),lD=function(){function g(y,T,S,D,N){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var q=this;q.ver=2,T=T||cy,q[JB]=lde(y,T),q[Ap]=w3(y,D),q[h1]=_3(y,N),S&&(q[lT]=S)}return o(g,"Trace"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Message",g.dataType="MessageData",g}(),cD=function(){function g(y,T,S,D,N,q,oe){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var ue=this;ue.ver=2,ue.url=hz(y,S),ue[uy]=yc(y,T)||cy,ue[Ap]=w3(y,N),ue[h1]=_3(y,q),oe&&(ue.domProcessing=oe.domProcessing,ue[nD]=oe[nD],ue.networkConnect=oe.networkConnect,ue.perfTotal=oe.perfTotal,ue.receivedResponse=oe.receivedResponse,ue.sentRequest=oe.sentRequest)}return o(g,"PageViewPerformance"),g.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",g.dataType="PageviewPerformanceData",g}(),k3=function(){function g(y,T){this.aiDataContract={baseType:1,baseData:1},this.baseType=y,this.baseData=T}return o(g,"Data"),g}(),dVe=ob({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function fy(g){var y="ai."+g+".";return function(T){return y+T}}o(fy,"_aiNameFunc");var fT=fy("application"),nl=fy("device"),uD=fy("location"),Xb=fy("operation"),bz=fy("session"),dy=fy("user"),R3=fy("cloud"),dT=fy("internal"),kde=function(g){t3(y,g);function y(){return g.call(this)||this}return o(y,"ContextTagKeys"),y}(B$({applicationVersion:fT("ver"),applicationBuild:fT("build"),applicationTypeId:fT("typeId"),applicationId:fT("applicationId"),applicationLayer:fT("layer"),deviceId:nl("id"),deviceIp:nl("ip"),deviceLanguage:nl("language"),deviceLocale:nl("locale"),deviceModel:nl("model"),deviceFriendlyName:nl("friendlyName"),deviceNetwork:nl("network"),deviceNetworkName:nl("networkName"),deviceOEMName:nl("oemName"),deviceOS:nl("os"),deviceOSVersion:nl("osVersion"),deviceRoleInstance:nl("roleInstance"),deviceRoleName:nl("roleName"),deviceScreenResolution:nl("screenResolution"),deviceType:nl("type"),deviceMachineName:nl("machineName"),deviceVMName:nl("vmName"),deviceBrowser:nl("browser"),deviceBrowserVersion:nl("browserVersion"),locationIp:uD("ip"),locationCountry:uD("country"),locationProvince:uD("province"),locationCity:uD("city"),operationId:Xb("id"),operationName:Xb("name"),operationParentId:Xb("parentId"),operationRootId:Xb("rootId"),operationSyntheticSource:Xb("syntheticSource"),operationCorrelationVector:Xb("correlationVector"),sessionId:bz("id"),sessionIsFirst:bz("isFirst"),sessionIsNew:bz("isNew"),userAccountAcquisitionDate:dy("accountAcquisitionDate"),userAccountId:dy("accountId"),userAgent:dy("userAgent"),userId:dy("id"),userStoreRegion:dy("storeRegion"),userAuthUserId:dy("authUserId"),userAnonymousUserAcquisitionDate:dy("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:dy("authUserAcquisitionDate"),cloudName:R3("name"),cloudRole:R3("role"),cloudRoleVer:R3("roleVer"),cloudRoleInstance:R3("roleInstance"),cloudEnvironment:R3("environment"),cloudLocation:R3("location"),cloudDeploymentUnit:R3("deploymentUnit"),internalNodeName:dT("nodeName"),internalSdkVersion:dT("sdkVersion"),internalAgentVersion:dT("agentVersion"),internalSnippet:dT("snippet"),internalSdkSrc:dT("sdkSrc")})),pl=new kde;function Rde(g,y){Ije(g,null,null,y)}o(Rde,"_disableEvents");function mVe(g){var y=i2(),T=Hh(),S=!1,D=[],N=1;T&&!Z(T.onLine)&&!T.onLine&&(N=2);var q=0,oe=Xe(),ue=tde(xm("OfflineListener"),g);try{if(Re(um())&&(S=!0),y){var xe=y.body||y;xe.ononline&&Re(xe)&&(S=!0)}}catch{S=!1}function Re(mr){var Rr=!1;return mr&&(Rr=rde(mr,"online",pt,ue),Rr&&rde(mr,"offline",ct,ue)),Rr}o(Re,"_enableEvents");function We(){return oe}o(We,"_isOnline");function Xe(){return!(q===2||N===2)}o(Xe,"calCurrentState");function He(){var mr=Xe();oe!==mr&&(oe=mr,Yr(D,function(Rr){var Un={isOnline:oe,rState:N,uState:q};try{Rr(Un)}catch{}}))}o(He,"listnerNoticeCheck");function Ye(mr){q=mr,He()}o(Ye,"setOnlineState");function pt(){N=1,He()}o(pt,"_setOnline");function ct(){N=2,He()}o(ct,"_setOffline");function Tt(){var mr=um();if(mr&&S){if(Rde(mr,ue),y){var Rr=y.body||y;O(Rr.ononline)||Rde(Rr,ue)}S=!1}}o(Tt,"_unload");function zt(mr){return D.push(mr),{rm:o(function(){var Rr=D.indexOf(mr);if(Rr>-1)return D.splice(Rr,1)},"rm")}}return o(zt,"addListener"),{isOnline:We,isListening:o(function(){return S},"isListening"),unload:Tt,addListener:zt,setOnlineState:Ye}}o(mVe,"createOfflineListener");var hVe="AppInsightsChannelPlugin",B3="duration",Hl="tags",Ez="deviceType",Ru="data",g1="name",mT="traceID",gi="length",hT="stringify",D3="measurements",yp="dataType",P3="envelopeType",F3="toString",N3="enqueue",L3="count",A1="push",Iz="emitLineDelimitedJson",eE="clear",fD="markAsSent",pT="clearSent",Tz="bufferOverride",gT="BUFFER_KEY",my="SENT_BUFFER_KEY",tE="concat",AT="MAX_BUFFER_SIZE",yT="triggerSend",Cc="diagLog",wz="initialize",CT="_sender",xT="endpointUrl",vT="instrumentationKey",_z="customHeaders",Bde="maxBatchSizeInBytes",Sz="onunloadDisableBeacon",kz="isBeaconApiDisabled",Dde="alwaysUseXhrOverride",Pde="enableSessionStorageBuffer",Cp="_buffer",Fde="onunloadDisableFetch",Nde="disableSendBeaconSplit",dD="getSenderInst",Q3="_onError",Rz="_onPartialSuccess",mD="_onSuccess",Bz="itemsReceived",Dz="itemsAccepted",Pz="baseType",hD="sampleRate",pVe="getHashCodeScore",Fz="baseType",Es="baseData",gl="properties",Lde="true";function ma(g,y,T){return ap(g,y,T,ie)}o(ma,"_setValueIf");function gVe(g,y,T){var S=T[Hl]=T[Hl]||{},D=y.ext=y.ext||{},N=y[Hl]=y[Hl]||[],q=D.user;q&&(ma(S,pl.userAuthUserId,q.authId),ma(S,pl.userId,q.id||q.localId));var oe=D.app;oe&&ma(S,pl.sessionId,oe.sesId);var ue=D.device;ue&&(ma(S,pl.deviceId,ue.id||ue.localId),ma(S,pl[Ez],ue.deviceClass),ma(S,pl.deviceIp,ue.ip),ma(S,pl.deviceModel,ue.model),ma(S,pl[Ez],ue[Ez]));var xe=y.ext.web;if(xe){ma(S,pl.deviceLanguage,xe.browserLang),ma(S,pl.deviceBrowserVersion,xe.browserVer),ma(S,pl.deviceBrowser,xe.browser);var Re=T[Ru]=T[Ru]||{},We=Re[Es]=Re[Es]||{},Xe=We[gl]=We[gl]||{};ma(Xe,"domain",xe.domain),ma(Xe,"isManual",xe.isManual?Lde:null),ma(Xe,"screenRes",xe.screenRes),ma(Xe,"userConsent",xe.userConsent?Lde:null)}var He=D.os;He&&(ma(S,pl.deviceOS,He[g1]),ma(S,pl.deviceOSVersion,He.osVer));var Ye=D.trace;Ye&&(ma(S,pl.operationParentId,Ye.parentID),ma(S,pl.operationName,yc(g,Ye[g1])),ma(S,pl.operationId,Ye[mT]));for(var pt={},ct=N[gi]-1;ct>=0;ct--){var Tt=N[ct];ee(Tt,function(mr,Rr){pt[mr]=Rr}),N.splice(ct,1)}ee(N,function(mr,Rr){pt[mr]=Rr});var zt=mm(mm({},S),pt);zt[pl.internalSdkVersion]||(zt[pl.internalSdkVersion]=yc(g,"javascript:".concat(AVe.Version),64)),T[Hl]=B7(zt)}o(gVe,"_extractPartAExtensions");function hy(g,y,T){Z(g)||ee(g,function(S,D){Ze(D)?T[S]=D:fe(D)?y[S]=D:G2()&&(y[S]=Kc()[hT](D))})}o(hy,"_extractPropsAndMeasurements");function M3(g,y){Z(g)||ee(g,function(T,S){g[T]=S||y})}o(M3,"_convertPropsUndefinedToCustomDefinedValue");function O3(g,y,T,S){var D=new Wje(g,S,y);ma(D,"sampleRate",T[nde]),(T[Es]||{}).startTime&&(D.time=a3(T[Es].startTime)),D.iKey=T.iKey;var N=T.iKey.replace(/-/g,"");return D[g1]=D[g1].replace("{0}",N),gVe(g,T,D),T[Hl]=T[Hl]||[],B7(D)}o(O3,"_createEnvelope");function U3(g,y){Z(y[Es])&&Lr(g,1,46,"telemetryItem.baseData cannot be null.")}o(U3,"EnvelopeCreatorInit");var AVe={Version:"3.3.6"};function yVe(g,y,T){U3(g,y);var S=y[Es][D3]||{},D=y[Es][gl]||{};hy(y[Ru],D,S),Z(T)||M3(D,T);var N=y[Es];if(Z(N))return Qb(g,"Invalid input for dependency data"),null;var q=N[gl]&&N[gl][ide]?N[gl][ide]:"GET",oe=new aD(g,N.id,N.target,N[g1],N[B3],N.success,N.responseCode,q,N.type,N.correlationContext,D,S),ue=new k3(aD[yp],oe);return O3(g,aD[P3],y,ue)}o(yVe,"DependencyEnvelopeCreator");function Qde(g,y,T){U3(g,y);var S={},D={};y[Fz]!==Jb[yp]&&(S.baseTypeSource=y[Fz]),y[Fz]===Jb[yp]?(S=y[Es][gl]||{},D=y[Es][D3]||{}):y[Es]&&hy(y[Es],S,D),hy(y[Ru],S,D),Z(T)||M3(S,T);var N=y[Es][g1],q=new Jb(g,N,S,D),oe=new k3(Jb[yp],q);return O3(g,Jb[P3],y,oe)}o(Qde,"EventEnvelopeCreator");function CVe(g,y,T){U3(g,y);var S=y[Es][D3]||{},D=y[Es][gl]||{};hy(y[Ru],D,S),Z(T)||M3(D,T);var N=y[Es],q=oD.CreateFromInterface(g,N,D,S),oe=new k3(oD[yp],q);return O3(g,oD[P3],y,oe)}o(CVe,"ExceptionEnvelopeCreator");function xVe(g,y,T){U3(g,y);var S=y[Es],D=S[gl]||{},N=S[D3]||{};hy(y[Ru],D,N),Z(T)||M3(D,T);var q=new cT(g,S[g1],S.average,S.sampleCount,S.min,S.max,S.stdDev,D,N),oe=new k3(cT[yp],q);return O3(g,cT[P3],y,oe)}o(xVe,"MetricEnvelopeCreator");function vVe(g,y,T){U3(g,y);var S,D=y[Es];!Z(D)&&!Z(D[gl])&&!Z(D[gl][B3])?(S=D[gl][B3],delete D[gl][B3]):!Z(y[Ru])&&!Z(y[Ru][B3])&&(S=y[Ru][B3],delete y[Ru][B3]);var N=y[Es],q;((y.ext||{}).trace||{})[mT]&&(q=y.ext.trace[mT]);var oe=N.id||q,ue=N[g1],xe=N.uri,Re=N[gl]||{},We=N[D3]||{};if(Z(N.refUri)||(Re.refUri=N.refUri),Z(N.pageType)||(Re.pageType=N.pageType),Z(N.isLoggedIn)||(Re.isLoggedIn=N.isLoggedIn[F3]()),!Z(N[gl])){var Xe=N[gl];ee(Xe,function(pt,ct){Re[pt]=ct})}hy(y[Ru],Re,We),Z(T)||M3(Re,T);var He=new sD(g,ue,xe,S,Re,We,oe),Ye=new k3(sD[yp],He);return O3(g,sD[P3],y,Ye)}o(vVe,"PageViewEnvelopeCreator");function bVe(g,y,T){U3(g,y);var S=y[Es],D=S[g1],N=S.uri||S.url,q=S[gl]||{},oe=S[D3]||{};hy(y[Ru],q,oe),Z(T)||M3(q,T);var ue=new cD(g,D,N,void 0,q,oe,S),xe=new k3(cD[yp],ue);return O3(g,cD[P3],y,xe)}o(bVe,"PageViewPerformanceEnvelopeCreator");function EVe(g,y,T){U3(g,y);var S=y[Es].message,D=y[Es].severityLevel,N=y[Es][gl]||{},q=y[Es][D3]||{};hy(y[Ru],N,q),Z(T)||M3(N,T);var oe=new lD(g,S,D,N,q),ue=new k3(lD[yp],oe);return O3(g,lD[P3],y,ue)}o(EVe,"TraceEnvelopeCreator");var Mde=function(){function g(y,T){var S=[],D=!1,N=T.maxRetryCnt;this._get=function(){return S},this._set=function(q){return S=q,S},Wl(g,this,function(q){q[N3]=function(oe){if(q[L3]()>=T.eventsLimitInMem){D||(Lr(y,2,105,"Maximum in-memory buffer size reached: "+q[L3](),!0),D=!0);return}oe.cnt=oe.cnt||0,!(!Z(N)&&oe.cnt>N)&&S[A1](oe)},q[L3]=function(){return S[gi]},q.size=function(){for(var oe=S[gi],ue=0;ue<S[gi];ue++)oe+=S[ue].item[gi];return T[Iz]||(oe+=2),oe},q[eE]=function(){S=[],D=!1},q.getItems=function(){return S.slice(0)},q.batchPayloads=function(oe){if(oe&&oe[gi]>0){var ue=[];Yr(oe,function(Re){ue[A1](Re.item)});var xe=T[Iz]?ue.join(`
`):"["+ue.join(",")+"]";return xe}return null},q.createNew=function(oe,ue,xe){var Re=S.slice(0);oe=oe||y,ue=ue||{};var We=xe?new Ode(oe,ue):new Nz(oe,ue);return Yr(Re,function(Xe){We[N3](Xe)}),We}})}return o(g,"BaseSendBuffer"),g.__ieDyn=1,g}(),Nz=function(g){t3(y,g);function y(T,S){var D=g.call(this,T,S)||this;return Wl(y,D,function(N,q){N[fD]=function(oe){q[eE]()},N[pT]=function(oe){}}),D}return o(y,"ArraySendBuffer"),y.__ieDyn=1,y}(Mde),IVe=["AI_buffer","AI_sentBuffer"],Ode=function(g){t3(y,g);function y(S,D){var N=g.call(this,S,D)||this,q=!1,oe=D?.namePrefix,ue=D[Tz]||{getItem:Qje,setItem:Mje},xe=ue.getItem,Re=ue.setItem,We=D.maxRetryCnt;return Wl(y,N,function(Xe,He){var Ye=Rr(y[gT]),pt=Rr(y[my]),ct=vi(),Tt=pt[tE](ct),zt=Xe._set(Ye[tE](Tt));zt[gi]>y[AT]&&(zt[gi]=y[AT]),xi(y[my],[]),xi(y[gT],zt),Xe[N3]=function(fn){if(Xe[L3]()>=y[AT]){q||(Lr(S,2,67,"Maximum buffer size reached: "+Xe[L3](),!0),q=!0);return}fn.cnt=fn.cnt||0,!(!Z(We)&&fn.cnt>We)&&(He[N3](fn),xi(y[gT],Xe._get()))},Xe[eE]=function(){He[eE](),xi(y[gT],Xe._get()),xi(y[my],[]),q=!1},Xe[fD]=function(fn){xi(y[gT],Xe._set(mr(fn,Xe._get())));var jr=Rr(y[my]);jr instanceof Array&&fn instanceof Array&&(jr=jr[tE](fn),jr[gi]>y[AT]&&(Lr(S,1,67,"Sent buffer reached its maximum size: "+jr[gi],!0),jr[gi]=y[AT]),xi(y[my],jr))},Xe[pT]=function(fn){var jr=Rr(y[my]);jr=mr(fn,jr),xi(y[my],jr)},Xe.createNew=function(fn,jr,bi){bi=!!bi;var Is=Xe._get().slice(0),qo=Rr(y[my]).slice(0);fn=fn||S,jr=jr||{},Xe[eE]();var Zt=bi?new y(fn,jr):new Nz(fn,jr);return Yr(Is,function(Vr){Zt[N3](Vr)}),bi&&Zt[fD](qo),Zt};function mr(fn,jr){var bi=[],Is=[];return Yr(fn,function(qo){Is[A1](qo.item)}),Yr(jr,function(qo){!De(qo)&&$c(Is,qo.item)===-1&&bi[A1](qo)}),bi}o(mr,"_removePayloadsFromBuffer");function Rr(fn){var jr=fn;return jr=oe?oe+"_"+jr:jr,Un(jr)}o(Rr,"_getBuffer");function Un(fn){try{var jr=xe(S,fn);if(jr){var bi=Kc().parse(jr);if(fe(bi)&&(bi=Kc().parse(bi)),bi&&Ue(bi))return bi}}catch(Is){Lr(S,1,42," storage key: "+fn+", "+tl(Is),{exception:yt(Is)})}return[]}o(Un,"_getBufferBase");function xi(fn,jr){var bi=fn;try{bi=oe?oe+"_"+bi:bi;var Is=JSON[hT](jr);Re(S,bi,Is)}catch(qo){Re(S,bi,JSON[hT]([])),Lr(S,2,41," storage key: "+bi+", "+tl(qo)+". Buffer cleared",{exception:yt(qo)})}}o(xi,"_setBuffer");function vi(){var fn=[];try{return Yr(IVe,function(jr){var bi=mo(jr);if(fn=fn[tE](bi),oe){var Is=oe+"_"+jr,qo=mo(Is);fn=fn[tE](qo)}}),fn}catch(jr){Lr(S,2,41,"Transfer events from previous buffers: "+tl(jr)+". previous Buffer items can not be removed",{exception:yt(jr)})}return[]}o(vi,"_getPreviousEvents");function mo(fn){try{var jr=Un(fn),bi=[];return Yr(jr,function(Is){var qo={item:Is,cnt:0};bi[A1](qo)}),Oje(S,fn),bi}catch{}return[]}o(mo,"_getItemsFromPreviousKey")}),N}o(y,"SessionStorageSendBuffer");var T;return T=y,y.VERSION="_1",y.BUFFER_KEY="AI_buffer"+T.VERSION,y.SENT_BUFFER_KEY="AI_sentBuffer"+T.VERSION,y.MAX_BUFFER_SIZE=2e3,y}(Mde),TVe=function(){function g(y){Wl(g,this,function(T){T.serialize=function(q){var oe=S(q,"root");try{return Kc()[hT](oe)}catch(ue){Lr(y,1,48,ue&&De(ue[F3])?ue[F3]():"Error serializing object",null,!0)}};function S(q,oe){var ue="__aiCircularRefCheck",xe={};if(!q)return Lr(y,1,48,"cannot serialize object because it is null or undefined",{name:oe},!0),xe;if(q[ue])return Lr(y,2,50,"Circular reference detected while serializing object",{name:oe},!0),xe;if(!q.aiDataContract){if(oe==="measurements")xe=N(q,"number",oe);else if(oe==="properties")xe=N(q,"string",oe);else if(oe==="tags")xe=N(q,"string",oe);else if(Ue(q))xe=D(q,oe);else{Lr(y,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:oe},!0);try{Kc()[hT](q),xe=q}catch(Re){Lr(y,1,48,Re&&De(Re[F3])?Re[F3]():"Error serializing object",null,!0)}}return xe}return q[ue]=!0,ee(q.aiDataContract,function(Re,We){var Xe=De(We)?We()&1:We&1,He=De(We)?We()&4:We&4,Ye=We&2,pt=q[Re]!==void 0,ct=ve(q[Re])&&q[Re]!==null;if(Xe&&!pt&&!Ye)Lr(y,1,24,"Missing required field specification. The field is required but not present on source",{field:Re,name:oe});else if(!He){var Tt=void 0;ct?Ye?Tt=D(q[Re],Re):Tt=S(q[Re],Re):Tt=q[Re],Tt!==void 0&&(xe[Re]=Tt)}}),delete q[ue],xe}o(S,"_serializeObject");function D(q,oe){var ue;if(q)if(!Ue(q))Lr(y,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:oe},!0);else{ue=[];for(var xe=0;xe<q[gi];xe++){var Re=q[xe],We=S(Re,oe+"["+xe+"]");ue[A1](We)}}return ue}o(D,"_serializeArray");function N(q,oe,ue){var xe;return q&&(xe={},ee(q,function(Re,We){if(oe==="string")We===void 0?xe[Re]="undefined":We===null?xe[Re]="null":We[F3]?xe[Re]=We[F3]():xe[Re]="invalid field: toString() is not defined.";else if(oe==="number")if(We===void 0)xe[Re]="undefined";else if(We===null)xe[Re]="null";else{var Xe=parseFloat(We);xe[Re]=Xe}else xe[Re]="invalid field: "+ue+" is of unknown type.",Lr(y,1,xe[Re],null,!0)})),xe}o(N,"_serializeStringMap")})}return o(g,"Serializer"),g.__ieDyn=1,g}(),wVe=8,_Ve=function(){function g(){}return o(g,"HashCodeScoreGenerator"),g.prototype.getHashCodeScore=function(y){var T=this.getHashCode(y)/g.INT_MAX_VALUE;return T*100},g.prototype.getHashCode=function(y){if(y==="")return 0;for(;y[gi]<wVe;)y=y[tE](y);for(var T=5381,S=0;S<y[gi];++S)T=(T<<5)+T+y.charCodeAt(S),T=T&T;return Math.abs(T)},g.INT_MAX_VALUE=2147483647,g}(),SVe=function(){function g(){var y=this,T=new _Ve,S=new kde;y.getSamplingScore=function(D){var N=0;return D[Hl]&&D[Hl][S.userId]?N=T.getHashCodeScore(D[Hl][S.userId]):D.ext&&D.ext.user&&D.ext.user.id?N=T[pVe](D.ext.user.id):D[Hl]&&D[Hl][S.operationId]?N=T.getHashCodeScore(D[Hl][S.operationId]):D.ext&&D.ext.telemetryTrace&&D.ext.telemetryTrace[mT]?N=T.getHashCodeScore(D.ext.telemetryTrace[mT]):N=Math.random()*100,N}}return o(g,"SamplingScoreGenerator"),g}(),kVe=function(){function g(y,T){this.INT_MAX_VALUE=2147483647;var S=T||y3(null);(y>100||y<0)&&(S.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:y},!0),y=100),this[hD]=y,this.samplingScoreGenerator=new SVe}return o(g,"Sample"),g.prototype.isSampledIn=function(y){var T=this[hD],S=!1;return T==null||T>=100||y.baseType===cT[yp]?!0:(S=this.samplingScoreGenerator.getSamplingScore(y)<T,S)},g}(),ns,y1,xp=void 0,Ude="",RVe=65e3;function qde(g){try{return g.responseText}catch{}return null}o(qde,"_getResponseText");function BVe(g){return g&&g.sendPOST}o(BVe,"isOverrideFn");var Wde=St((ns={endpointUrl:j7(ie,cz+$b)},ns[Iz]=jf(),ns.maxBatchInterval=15e3,ns[Bde]=102400,ns.disableTelemetry=jf(),ns[Pde]=jf(!0),ns.isRetryDisabled=jf(),ns[kz]=jf(!0),ns[Nde]=jf(!0),ns.disableXhr=jf(),ns[Fde]=jf(),ns[Sz]=jf(),ns[vT]=xp,ns.namePrefix=xp,ns.samplingPercentage=j7(DVe,100),ns[_z]=xp,ns.convertUndefined=xp,ns.eventsLimitInMem=1e4,ns[Tz]=!1,ns.httpXHROverride={isVal:BVe,v:xp},ns[Dde]=jf(),ns.transports=xp,ns.retryCodes=xp,ns.maxRetryCnt={isVal:Ze,v:10},ns));function DVe(g){return!isNaN(g)&&g>0&&g<=100}o(DVe,"_chkSampling");var PVe=(y1={},y1[Jb.dataType]=Qde,y1[lD.dataType]=EVe,y1[sD.dataType]=vVe,y1[cD.dataType]=bVe,y1[oD.dataType]=CVe,y1[cT.dataType]=xVe,y1[aD.dataType]=yVe,y1),Gde=function(g){t3(y,g);function y(){var T=g.call(this)||this;T.priority=1001,T.identifier=hVe;var S,D,N,q,oe,ue,xe,Re=0,We,Xe,He,Ye,pt,ct,Tt,zt,mr,Rr,Un,xi,vi,mo,fn,jr,bi,Is,qo,Zt,Vr,ro,Ft,En,Os,ho,Al;return Wl(y,T,function(mt,Na){jde(),mt.pause=function(){yy(),N=!0},mt.resume=function(){N&&(N=!1,D=null,So(),oE())},mt.flush=function($e,Et,Ar){if($e===void 0&&($e=!0),!N){yy();try{return mt[yT]($e,null,Ar||1)}catch(Mr){Lr(mt[Cc](),1,22,"flush failed, telemetry will not be collected: "+tl(Mr),{exception:yt(Mr)})}}},mt.onunloadFlush=function(){if(!N)if(Tt||Zt)try{return mt[yT](!0,L0,2)}catch($e){Lr(mt[Cc](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+tl($e),{exception:yt($e)})}else mt.flush(!1)},mt.addHeader=function($e,Et){xe[$e]=Et},mt[wz]=function($e,Et,Ar,Mr){mt.isInitialized()&&Lr(mt[Cc](),1,28,"Sender is already initialized"),Na[wz]($e,Et,Ar,Mr);var Rn=mt.identifier;oe=new TVe(Et.logger),S=0,D=null,mt[CT]=null,ue=0;var mn=mt[Cc]();He=tde(xm("Sender"),Et.evtNamespace&&Et.evtNamespace()),Xe=mVe(He),mt._addHook(vm($e,function(ji){var ha=ji.cfg;ha.storagePrefix&&Lje(ha.storagePrefix);var Bu=sy(null,ha,Et),si=Bu.getExtCfg(Rn,Wde),Vde=si[xT];if(Ye&&Vde===Ye){var Mz=ha[xT];Mz&&Mz!==Vde&&(si[xT]=Mz)}lt(si[vT])&&(si[vT]=ha[vT]),qe(mt,"_senderConfig",{g:o(function(){return si},"g")}),pt!==si[xT]&&(Ye=pt=si[xT]),Et.activeStatus()===ep.PENDING?mt.pause():Et.activeStatus()===ep.ACTIVE&&mt.resume(),Rr&&Rr!==si[_z]&&Yr(Rr,function(Vl){delete xe[Vl.header]}),ct=si[Bde],Tt=(si[Sz]===!1||si[kz]===!1)&&cp(),zt=si[Sz]===!1&&cp(),mr=si[kz]===!1&&cp(),Zt=si[Dde],Vr=!!si.disableXhr,Al=si.retryCodes;var Oz=si[Tz],sE=!!si[Pde]&&(!!Oz||pde()),$de=si.namePrefix,QVe=sE!==jr||sE&&Is!==$de||sE&&bi!==Oz;if(mt[Cp]){if(QVe)try{mt[Cp]=mt[Cp].createNew(mn,si,sE)}catch(Vl){Lr(mt[Cc](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+tl(Vl),{exception:yt(Vl)})}So()}else mt[Cp]=sE?new Ode(mn,si):new Nz(mn,si);Is=$de,jr=sE,bi=Oz,ro=!si[Fde]&&m3(!0),Os=!!si[Nde],mt._sample=new kVe(si.samplingPercentage,mn),xi=si[vT],!lt(xi)&&!Hde(xi,ha)&&Lr(mn,1,100,"Invalid Instrumentation key "+xi),Rr=si[_z],fe(Ye)&&!dde(Ye)&&Rr&&Rr[gi]>0?Yr(Rr,function(Vl){T.addHeader(Vl.header,Vl.value)}):Rr=null,qo=si.enableSendPromise;var zde=yl();ho?ho.SetConfig(zde):(ho=new Fa,ho[wz](zde,mn));var yD=si.httpXHROverride,CD=null,TT=null,MVe=mB([3,1,2],si.transports);CD=ho&&ho[dD](MVe,!1);var Uz=ho&&ho.getFallbackInst();Ft=o(function(Vl,q3){return qr(Uz,Vl,q3)},"_xhrSend"),En=o(function(Vl,q3){return qr(Uz,Vl,q3,!1)},"_fallbackSend"),CD=Zt?yD:CD||yD||Uz,mt[CT]=function(Vl,q3){return qr(CD,Vl,q3)},ro&&(We=iE);var qz=mB([3,1],si.unloadTransports);ro||(qz=qz.filter(function(Vl){return Vl!==2})),TT=ho&&ho[dD](qz,!0),TT=Zt?yD:TT||yD,(Zt||si.unloadTransports||!We)&&TT&&(We=o(function(Vl,q3){return qr(TT,Vl,q3)},"_syncUnloadSender")),We||(We=Ft),Un=si.disableTelemetry,vi=si.convertUndefined||xp,mo=si.isRetryDisabled,fn=si.maxBatchInterval}))},mt.processTelemetry=function($e,Et){Et=mt._getTelCtx(Et);var Ar=Et[Cc]();try{var Mr=Im($e,Ar);if(!Mr)return;var Rn=Ay($e,Ar);if(!Rn)return;var mn=oe.serialize(Rn),ji=mt[Cp];So(mn);var ha={item:mn,cnt:0};ji[N3](ha),oE()}catch(Bu){Lr(Ar,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+tl(Bu),{exception:yt(Bu)})}mt.processNext($e,Et)},mt.isCompletelyIdle=function(){return!N&&Re===0&&mt._buffer[L3]()===0},mt.getOfflineListener=function(){return Xe},mt._xhrReadyStateChange=function($e,Et,Ar){if(!wm(Et))return Yf($e,Et,Ar)},mt[yT]=function($e,Et,Ar){$e===void 0&&($e=!0);var Mr;if(!N)try{var Rn=mt[Cp];if(Un)Rn[eE]();else if(Rn[L3]()>0){var mn=Rn.getItems();AD(Ar||0,$e),Et?Mr=Et.call(mt,mn,$e):Mr=mt[CT](mn,$e)}yy()}catch(ha){var ji=H2();(!ji||ji>9)&&Lr(mt[Cc](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+tl(ha),{exception:yt(ha)})}return Mr},mt.getOfflineSupport=function(){return{getUrl:o(function(){return Ye},"getUrl"),createPayload:At,serialize:Ts,batch:jl,shouldProcess:o(function($e){return!!Im($e)},"shouldProcess")}},mt._doTeardown=function($e,Et){mt.onunloadFlush(),Z2(Xe,!1),jde()},mt[Q3]=function($e,Et,Ar){if(!wm($e))return Zc($e,Et)},mt[Rz]=function($e,Et){if(!wm($e))return py($e,Et)},mt[mD]=function($e,Et){if(!wm($e))return Em($e)},mt._xdrOnLoad=function($e,Et){if(!wm(Et))return Us($e,Et)};function Us($e,Et){var Ar=qde($e);if($e&&(Ar+""=="200"||Ar===""))S=0,mt[mD](Et,0);else{var Mr=Ur(Ar);Mr&&Mr[Bz]&&Mr[Bz]>Mr[Dz]&&!mo?mt[Rz](Et,Mr):mt[Q3](Et,dB($e))}}o(Us,"_xdrOnLoad");function yl(){try{var $e={xdrOnComplete:o(function(Ar,Mr,Rn){var mn=gy(Rn);if(mn)return Us(Ar,mn)},"xdrOnComplete"),fetchOnComplete:o(function(Ar,Mr,Rn,mn){var ji=gy(mn);if(ji)return is(Ar.status,ji,Ar.url,ji[gi],Ar.statusText,Rn||"")},"fetchOnComplete"),xhrOnComplete:o(function(Ar,Mr,Rn){var mn=gy(Rn);if(mn)return Yf(Ar,mn,mn[gi])},"xhrOnComplete"),beaconOnRetry:o(function(Ar,Mr,Rn){return Tm(Ar,Mr,Rn)},"beaconOnRetry")},Et={enableSendPromise:qo,isOneDs:!1,disableCredentials:!1,disableXhr:Vr,disableBeacon:!mr,disableBeaconSync:!zt,senderOnCompleteCallBack:$e};return Et}catch{}return null}o(yl,"_getSendPostMgrConfig");function Yf($e,Et,Ar){$e.readyState===4&&is($e.status,Et,$e.responseURL,Ar,wb($e),qde($e)||$e.response)}o(Yf,"_xhrReadyStateChange");function Zc($e,Et,Ar){Lr(mt[Cc](),2,26,"Failed to send telemetry.",{message:Et}),mt._buffer&&mt._buffer[pT]($e)}o(Zc,"_onError");function py($e,Et){for(var Ar=[],Mr=[],Rn=Et.errors.reverse(),mn=0,ji=Rn;mn<ji.length;mn++){var ha=ji[mn],Bu=$e.splice(ha.index,1)[0];Cy(ha.statusCode)?Mr[A1](Bu):Ar[A1](Bu)}$e[gi]>0&&mt[mD]($e,Et[Dz]),Ar[gi]>0&&mt[Q3](Ar,wb(null,["partial success",Et[Dz],"of",Et.itemsReceived].join(" "))),Mr[gi]>0&&(IT(Mr),Lr(mt[Cc](),2,40,"Partial success. Delivered: "+$e[gi]+", Failed: "+Ar[gi]+". Will retry to send "+Mr[gi]+" our of "+Et[Bz]+" items"))}o(py,"_onPartialSuccess");function Em($e,Et){mt._buffer&&mt._buffer[pT]($e)}o(Em,"_onSuccess");function gy($e){try{if($e){var Et=$e,Ar=Et.oriPayload;return Ar&&Ar[gi]?Ar:null}}catch{}return null}o(gy,"_getPayloadArr");function Im($e,Et){if(Un)return!1;if(!$e)return Et&&Lr(Et,1,7,"Cannot send empty telemetry"),!1;if($e.baseData&&!$e[Pz])return Et&&Lr(Et,1,70,"Cannot send telemetry without baseData and baseType"),!1;if($e[Pz]||($e[Pz]="EventData"),!mt[CT])return Et&&Lr(Et,1,28,"Sender was not initialized"),!1;if(Sr($e))$e[nde]=mt._sample[hD];else return Et&&Lr(Et,2,33,"Telemetry item was sampled out and not sent",{SampleRate:mt._sample[hD]}),!1;return!0}o(Im,"_validate");function Ay($e,Et){var Ar=$e.iKey||xi,Mr=y.constructEnvelope($e,Ar,Et,vi);if(!Mr){Lr(Et,1,47,"Unable to create an AppInsights envelope");return}var Rn=!1;if($e[Hl]&&$e[Hl][lz]&&(Yr($e[Hl][lz],function(mn){try{mn&&mn(Mr)===!1&&(Rn=!0,Qb(Et,"Telemetry processor check returns false"))}catch(ji){Lr(Et,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+tl(ji),{exception:yt(ji)},!0)}}),delete $e[Hl][lz]),!Rn)return Mr}o(Ay,"_getEnvelope");function Ts($e){var Et=Ude,Ar=mt[Cc]();try{var Mr=Im($e,Ar),Rn=null;Mr&&(Rn=Ay($e,Ar)),Rn&&(Et=oe.serialize(Rn))}catch{}return Et}o(Ts,"_serialize");function jl($e){var Et=Ude;return $e&&$e[gi]&&(Et="["+$e.join(",")+"]"),Et}o(jl,"_batch");function At($e){var Et=bo();return{urlString:Ye,data:$e,headers:Et}}o(At,"_createPayload");function Sr($e){return mt._sample.isSampledIn($e)}o(Sr,"_isSampledIn");function Sn($e,Et,Ar,Mr){Et===200&&$e?mt._onSuccess($e,$e[gi]):Mr&&mt[Q3]($e,Mr)}o(Sn,"_getOnComplete");function qr($e,Et,Ar,Mr){Mr===void 0&&(Mr=!0);var Rn=o(function(ha,Bu,si){return Sn(Et,ha,Bu,si)},"onComplete"),mn=kn(Et),ji=$e&&$e.sendPOST;return ji&&mn?(Mr&&mt._buffer[fD](Et),ji(mn,Rn,!Ar)):null}o(qr,"_doSend");function kn($e){if(Ue($e)&&$e[gi]>0){var Et=mt[Cp].batchPayloads($e),Ar=bo(),Mr={data:Et,urlString:Ye,headers:Ar,disableXhrSync:Vr,disableFetchKeepAlive:!ro,oriPayload:$e};return Mr}return null}o(kn,"_getPayload");function bo(){try{var $e=xe||{};return dde(Ye)&&($e[ode[6]]=ode[7]),$e}catch{}return null}o(bo,"_getHeaders");function So($e){var Et=$e?$e[gi]:0;return mt[Cp].size()+Et>ct?((!Xe||Xe.isOnline())&&mt[yT](!0,null,10),!0):!1}o(So,"_checkMaxSize");function is($e,Et,Ar,Mr,Rn,mn){var ji=null;if(mt._appId||(ji=Ur(mn),ji&&ji.appId&&(mt._appId=ji.appId)),($e<200||$e>=300)&&$e!==0){if(($e===301||$e===307||$e===308)&&!xc(Ar)){mt[Q3](Et,Rn);return}if(Xe&&!Xe.isOnline()){if(!mo){var ha=10;IT(Et,ha),Lr(mt[Cc](),2,40,". Offline - Response Code: ".concat($e,". Offline status: ").concat(!Xe.isOnline(),". Will retry to send ").concat(Et.length," items."))}return}!mo&&Cy($e)?(IT(Et),Lr(mt[Cc](),2,40,". Response code "+$e+". Will retry to send "+Et[gi]+" items.")):mt[Q3](Et,Rn)}else xc(Ar),$e===206?(ji||(ji=Ur(mn)),ji&&!mo?mt[Rz](Et,ji):mt[Q3](Et,Rn)):(S=0,mt[mD](Et,Mr))}o(is,"_checkResponsStatus");function xc($e){return ue>=10?!1:!Z($e)&&$e!==""&&$e!==Ye?(Ye=$e,++ue,!0):!1}o(xc,"_checkAndUpdateEndPointUrl");function L0($e,Et){if(We)We($e,!1);else{var Ar=ho&&ho[dD]([3],!0);return qr(Ar,$e,Et)}}o(L0,"_doUnloadSend");function Tm($e,Et,Ar){var Mr=$e,Rn=Mr&&Mr.oriPayload;if(Os)En&&En(Rn,!0),Lr(mt[Cc](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var mn=[],ji=0;ji<Rn[gi];ji++){var ha=Rn[ji],Bu=[ha],si=kn(Bu);Ar(si,Et)?mt._onSuccess(Bu,Bu[gi]):mn[A1](ha)}mn[gi]>0&&(En&&En(mn,!0),Lr(mt[Cc](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}o(Tm,"_onBeaconRetry");function wm($e){try{if($e&&$e[gi])return fe($e[0])}catch{}return null}o(wm,"_isStringArr");function iE($e,Et){var Ar=null;if(Ue($e)){for(var Mr=$e[gi],Rn=0;Rn<$e[gi];Rn++)Mr+=$e[Rn].item[gi];var mn=ho.getSyncFetchPayload();mn+Mr<=RVe?Ar=2:cp()?Ar=3:(Ar=1,Lr(mt[Cc](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var ji=ho&&ho[dD]([Ar],!0);return qr(ji,$e,Et)}return null}o(iE,"_fetchKeepAliveSender");function IT($e,Et){if(Et===void 0&&(Et=1),!(!$e||$e[gi]===0)){var Ar=mt[Cp];Ar[pT]($e),S++;for(var Mr=0,Rn=$e;Mr<Rn.length;Mr++){var mn=Rn[Mr];mn.cnt=mn.cnt||0,mn.cnt++,Ar[N3](mn)}Qz(Et),oE()}}o(IT,"_resendPayload");function Qz($e){var Et=10,Ar;if(S<=1)Ar=Et;else{var Mr=(Math.pow(2,S)-1)/2,Rn=Yg(Math.random()*Mr*Et)+1;Rn=$e*Rn,Ar=Ie(dr(Rn,3600),Et)}var mn=zh()+Ar*1e3;D=mn}o(Qz,"_setRetryTime");function oE(){if(!q&&!N){var $e=D?Ie(0,D-zh()):0,Et=Ie(fn,$e);q=Jh(function(){q=null,mt[yT](!0,null,1)},Et)}}o(oE,"_setupTimer");function yy(){q&&q.cancel(),q=null,D=null}o(yy,"_clearScheduledTimer");function Cy($e){return Z(Al)?$e===401||$e===408||$e===429||$e===500||$e===502||$e===503||$e===504:Al[gi]&&Al.indexOf($e)>-1}o(Cy,"_isRetriable");function gD(){var $e="getNotifyMgr";return mt.core[$e]?mt.core[$e]():mt.core._notificationManager}o(gD,"_getNotifyMgr");function AD($e,Et){var Ar=gD();if(Ar&&Ar.eventsSendRequest)try{Ar.eventsSendRequest($e,Et)}catch(Mr){Lr(mt[Cc](),1,74,"send request notification failed: "+tl(Mr),{exception:yt(Mr)})}}o(AD,"_notifySendRequest");function Hde($e,Et){var Ar=Et.disableInstrumentationKeyValidation,Mr=Z(Ar)?!1:Ar;if(Mr)return!0;var Rn="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",mn=new RegExp(Rn);return mn.test($e)}o(Hde,"_validateInstrumentationKey");function jde(){mt[CT]=null,mt[Cp]=null,mt._appId=null,mt._sample=null,xe={},Xe=null,S=0,D=null,N=!1,q=null,oe=null,ue=0,Re=0,We=null,He=null,Ye=null,pt=null,ct=0,Tt=!1,Rr=null,Un=!1,xi=null,vi=xp,mo=!1,jr=null,Is=xp,Vr=!1,ro=!1,Os=!1,Ft=null,En=null,ho=null,qe(mt,"_senderConfig",{g:o(function(){return fB({},Wde)},"g")})}o(jde,"_initDefaults")}),T}return o(y,"Sender"),y.constructEnvelope=function(T,S,D,N){var q;S!==T.iKey&&!Z(S)?q=mm(mm({},T),{iKey:S}):q=T;var oe=PVe[q.baseType]||Qde;return oe(D,q,N)},y}(vt),rE="instrumentationKey",pD="connectionString",bT="endpointUrl",ET="userOverrideEndpointUrl",nE,Lz=void 0,FVe=(nE={diagnosticLogInterval:j7(NVe,1e4)},nE[pD]=Lz,nE.endpointUrl=Lz,nE[rE]=Lz,nE.extensionConfig={},nE);function NVe(g){return g&&g>0}o(NVe,"_chkDiagLevel");var LVe=function(){function g(y){var T=new Lt,S;(Z(y)||Z(y[rE])&&Z(y[pD]))&&$t("Invalid input configuration"),Wl(g,this,function(N){qe(N,"config",{g:o(function(){return S},"g")}),q(),N.initialize=q,N.track=D,R7(N,T,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function q(){var oe=N0(y||{},FVe);S=oe.cfg,T.addUnloadHook(vm(oe,function(){var ue=S[pD];if(lt(ue)){var xe=Ab(function(He,Ye){R0(ue,function(pt){var ct=pt.value,Tt=S[rE];if(!pt.rejected&&ct){S[pD]=ct;var zt=Az(ct);Tt=zt.instrumentationkey||Tt}He(Tt)})}),Re=Ab(function(He,Ye){R0(ue,function(pt){var ct=pt.value,Tt=S[bT];if(!pt.rejected&&ct){var zt=Az(ct),mr=zt.ingestionendpoint;Tt=mr?mr+$b:Tt}He(Tt)})});S[rE]=xe,S[bT]=S[ET]||Re}if(fe(ue)){var We=Az(ue),Xe=We.ingestionendpoint;S[bT]=S[ET]?S[ET]:Xe+$b,S[rE]=We.instrumentationkey||S[rE]}S[bT]=S[ET]?S[ET]:S[bT]})),T.initialize(S,[new Gde])}o(q,"_initialize")});function D(N){N&&(N.baseData=N.baseData||{},N.baseType=N.baseType||"EventData"),T.track(N)}o(D,"_track")}return o(g,"ApplicationInsights"),g.__ieDyn=1,g}();e.AppInsightsCore=Lt,e.ApplicationInsights=LVe,e.Sender=Gde,e.SeverityLevel=dVe,e.arrForEach=Yr,e.isNullOrUndefined=Z,e.proxyFunctions=R7,e.throwError=$t})});var dZ=H((Dhr,hCe)=>{"use strict";d();hCe.exports=o(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var i=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?i[r]:i},"protocols")});var gCe=H((Nhr,pCe)=>{"use strict";d();var eot=dZ();function tot(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=eot(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}o(tot,"parsePath");pCe.exports=tot});var bCe=H((Mhr,vCe)=>{"use strict";d();var rot=gCe();function not(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}o(not,"_interopDefaultLegacy");var iot=not(rot);function oot(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=o(function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)},"a");r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:o(function(){return e[n]},"get")})}),r}o(oot,"getAugmentedNamespace");var yCe={},sot="text/plain",aot="us-ascii",ACe=o((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),lot=o((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:s}=r.groups,a=n.split(";");s=t?"":s;let l=!1;a[a.length-1]==="base64"&&(a.pop(),l=!0);let c=(a.shift()||"").toLowerCase(),f=[...a.map(m=>{let[h,p=""]=m.split("=").map(A=>A.trim());return h==="charset"&&(p=p.toLowerCase(),p===aot)?"":`${h}${p?`=${p}`:""}`}).filter(Boolean)];return l&&f.push("base64"),(f.length>0||c&&c!==sot)&&f.unshift(c),`data:${f.join(";")},${l?i.trim():i}${s?`#${s}`:""}`},"normalizeDataURL");function cot(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return lot(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,c="";for(;;){let f=a.exec(i.pathname);if(!f)break;let m=f[0],h=f.index,p=i.pathname.slice(l,h);c+=p.replace(/\/{2,}/g,"/"),c+=m,l=h+m.length}let u=i.pathname.slice(l,i.pathname.length);c+=u.replace(/\/{2,}/g,"/"),i.pathname=c}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=i.pathname.split("/"),l=a[a.length-1];ACe(l,t.removeDirectoryIndex)&&(a=a.slice(0,-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...i.searchParams.keys()])ACe(a,t.removeQueryParameters)&&i.searchParams.delete(a);if(t.removeQueryParameters===!0&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let s=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}o(cot,"normalizeUrl");var uot=Object.freeze({__proto__:null,default:cot}),fot=oot(uot);Object.defineProperty(yCe,"__esModule",{value:!0});var dot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mot=fot,hot=CCe(mot),pot=iot.default,got=CCe(pot);function CCe(e){return e&&e.__esModule?e:{default:e}}o(CCe,"_interopRequireDefault");var xCe=o(function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,i=o(function(c){var u=new Error(c);throw u.subject_url=t,u},"throwErr");(typeof t!="string"||!t.trim())&&i("Invalid url."),t.length>e.MAX_INPUT_LENGTH&&i("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),r&&((typeof r>"u"?"undefined":dot(r))!=="object"&&(r={stripHash:!1}),t=(0,hot.default)(t,r));var s=(0,got.default)(t);if(s.parse_failed){var a=s.href.match(n);a?(s.protocols=["ssh"],s.protocol="ssh",s.resource=a[2],s.host=a[2],s.user=a[1],s.pathname="/"+a[3],s.parse_failed=!1):i("URL parsing failed.")}return s},"parseUrl");xCe.MAX_INPUT_LENGTH=2048;var Aot=yCe.default=xCe;vCe.exports=Aot});var TCe=H((qhr,ICe)=>{"use strict";d();var yot=dZ();function ECe(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=yot(e);if(e=e.substring(e.indexOf("://")+3),ECe(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}o(ECe,"isSsh");ICe.exports=ECe});var SCe=H((Hhr,_Ce)=>{"use strict";d();var Cot=bCe(),wCe=TCe();function xot(e){let t=Cot(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),wCe(t.protocols)||t.protocols.length===0&&wCe(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}o(xot,"gitUp");_Ce.exports=xot});var RCe=H(($hr,kCe)=>{"use strict";d();var vot=SCe();function mZ(e,t){if(t=t||[],typeof e!="string")throw new Error("The url must be a string.");if(!t.every(function(b){return typeof b=="string"}))throw new Error("The refs should contain only strings");var r=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;r.test(e)&&(e="https://github.com/"+e);var n=vot(e),i=n.resource.split("."),s=null;switch(n.toString=function(b){return mZ.stringify(this,b)},n.source=i.length>2?i.slice(1-i.length).join("."):n.source=n.resource,n.git_suffix=/\.git$/.test(n.pathname),n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),n.owner=decodeURIComponent(n.user),n.source){case"git.cloudforge.com":n.owner=n.user,n.organization=i[0],n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3],n.full_name=s[2]+"/"+s[3]);break}else{s=n.name.split("/"),s.length===2?(n.owner=s[1],n.name=s[1],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name);break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3]);break}else{s=n.name.split("/"),s.length===5?(n.organization=s[0],n.owner=s[1],n.name=s[4],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name),n.query&&n.query.path&&(n.filepath=n.query.path.replace(/^\/+/g,"")),n.query&&n.query.version&&(n.ref=n.query.version.replace(/^GB/,""));break}default:s=n.name.split("/");var a=s.length-1;if(s.length>=2){var l=s.indexOf("-",2),c=s.indexOf("blob",2),u=s.indexOf("tree",2),f=s.indexOf("commit",2),m=s.indexOf("issues",2),h=s.indexOf("src",2),p=s.indexOf("raw",2),A=s.indexOf("edit",2);a=l>0?l-1:c>0&&u>0?Math.min(c-1,u-1):c>0?c-1:m>0?m-1:u>0?u-1:f>0?f-1:h>0?h-1:p>0?p-1:A>0?A-1:a,n.owner=s.slice(0,a).join("/"),n.name=s[a],f&&m<0&&(n.commit=s[a+2])}n.ref="",n.filepathtype="",n.filepath="";var x=s.length>a&&s[a+1]==="-"?a+1:a;s.length>x+2&&["raw","src","blob","tree","edit"].indexOf(s[x+1])>=0&&(n.filepathtype=s[x+1],n.ref=s[x+2],s.length>x+3&&(n.filepath=s.slice(x+3).join("/"))),n.organization=n.owner;break}n.full_name||(n.full_name=n.owner,n.name&&(n.full_name&&(n.full_name+="/"),n.full_name+=n.name)),n.owner.startsWith("scm/")&&(n.source="bitbucket-server",n.owner=n.owner.replace("scm/",""),n.organization=n.owner,n.full_name=n.owner+"/"+n.name);var v=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,E=v.exec(n.pathname);return E!=null&&(n.source="bitbucket-server",E[1]==="users"?n.owner="~"+E[2]:n.owner=E[2],n.organization=n.owner,n.name=E[3],s=E[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(n.filepathtype=s[1],s.length>2&&(n.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(n.commit=s[2])),n.full_name=n.owner+"/"+n.name,n.query.at?n.ref=n.query.at:n.ref=""),t.length!==0&&n.ref&&(n.ref=Iot(n.href,t)||n.ref,n.filepath=n.href.split(n.ref+"/")[1]),n}o(mZ,"gitUrlParse");mZ.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",i=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+i:n+"@"+e.resource+":"+e.full_name+i;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+i;case"http":case"https":var s=e.token?bot(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+s+e.resource+r+"/"+Eot(e)+i;default:return e.href}};function bot(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}o(bot,"buildToken");function Eot(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:var t=e.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return t}}o(Eot,"buildPath");function Iot(e,t){var r="";return t.forEach(function(n){e.includes(n)&&n.length>r.length&&(r=n)}),r}o(Iot,"findLongestMatchingSubstring");kCe.exports=mZ});var LCe=H(Mp=>{"use strict";d();Object.defineProperty(Mp,"__esModule",{value:!0});Mp.bytePairEncode=Mp.BinaryMap=Mp.binaryMapKey=void 0;var Bot=o((e,t,r)=>{let n=r-t,i=16777215>>>Math.max(0,(3-n)*8),s=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&i,a=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&a;return s+16777216*l},"binaryMapKey");Mp.binaryMapKey=Bot;var AZ=class e{static{o(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,n=t.length){let i=n<6+r,s=(0,Mp.binaryMapKey)(t,r,n);return i?this.final.get(s):this.nested.get(s)?.get(t,6+r,n)}set(t,r){let n=(0,Mp.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(n,r);return}let s=this.nested.get(n);if(s instanceof e)s.set(t.subarray(6),r);else{let a=new e;a.set(t.subarray(6),r),this.nested.set(n,a)}}};Mp.BinaryMap=AZ;var Qp=new Int32Array(128),n0=new Int32Array(128);function Dot(e,t,r){if(r===1)return[t.get(e)];let n=2147483647,i=-1;for(;Qp.length<r*2;)n0=new Int32Array(n0.length*2),Qp=new Int32Array(Qp.length*2);for(let c=0;c<r-1;c++){let u=t.get(e,c,c+2)??2147483647;u<n&&(n=u,i=c),n0[c]=c,Qp[c]=u}n0[r-1]=r-1,Qp[r-1]=2147483647,n0[r]=r,Qp[r]=2147483647;let s=r+1;function a(c,u=0){if(c+u+2<s){let f=t.get(e,n0[c],n0[c+u+2]);if(f!==void 0)return f}return 2147483647}for(o(a,"getRank");n!==2147483647;){Qp[n0[i]]=a(i,1),i>0&&(Qp[n0[i-1]]=a(i-1,1));for(let c=i+1;c<s-1;c++)n0[c]=n0[c+1];s--,i=-1,n=2147483647;for(let c=0;c<s-1;c++){let u=Qp[n0[c]];Qp[n0[c]]<n&&(n=u,i=c)}}let l=[];for(let c=0;c<s-1;c++)l.push(t.get(e,n0[c],n0[c+1]));return l}o(Dot,"bytePairEncode");Mp.bytePairEncode=Dot});var QCe=H(bN=>{"use strict";d();Object.defineProperty(bN,"__esModule",{value:!0});bN.makeTextEncoder=void 0;var yZ=class{static{o(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}},CZ=class{static{o(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}},Pot=o(()=>typeof Buffer<"u"?new CZ:new yZ,"makeTextEncoder");bN.makeTextEncoder=Pot});var MCe=H(EN=>{"use strict";d();Object.defineProperty(EN,"__esModule",{value:!0});EN.LRUCache=void 0;var xZ=class{static{o(this,"LRUCache")}constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let n=this.nodes.get(t);if(n)n.value=r,this.moveToHead(n);else{let i=new vZ(t,r);this.nodes.set(t,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};EN.LRUCache=xZ;var vZ=class{static{o(this,"Node")}constructor(t,r){this.key=t,this.value=r}}});var EZ=H(TN=>{"use strict";d();Object.defineProperty(TN,"__esModule",{value:!0});TN.TikTokenizer=void 0;var IN=LCe(),Fot=QCe(),Not=MCe();function Lot(e){let t=new Map;try{let i=require("fs").readFileSync(e,"utf-8");return r(i),t}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let i of n.split(/[\r\n]+/)){if(i.trim()==="")continue;let s=i.split(" ");if(s.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(s[0],"base64")),l=parseInt(s[1]);if(!isNaN(l))t.set(a,l);else throw new Error(`Can't parse ${s[1]} to integer`)}}o(r,"processBpeRanks")}o(Lot,"loadTikTokenBpe");function Qot(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(Qot,"escapeRegExp");var bZ=class{static{o(this,"TikTokenizer")}constructor(t,r,n,i=8192){this.textEncoder=(0,Fot.makeTextEncoder)(),this.textDecoder=new TextDecoder("utf-8"),this.cache=new Not.LRUCache(i);let s=typeof t=="string"?Lot(t):t;this.init(s,r,n)}init(t,r,n){this.encoder=new IN.BinaryMap;for(let[i,s]of t)this.encoder.set(i,s);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(i=>Qot(i)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[i,s]of t)this.decoder.set(s,i);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,s]of r)this.specialTokensDecoder.set(s,i)}findNextSpecialToken(t,r,n){let i=r,s=null;if(n&&this.specialTokensRegex)for(;s=t.slice(i).match(this.specialTokensRegex),!(!s||n&&n.includes(s[0]));)i+=s.index+1;let a=s?i+s.index:t.length;return[s,a]}encode(t,r){let n=[],i=0;for(;;){let s,a;if([s,a]=this.findNextSpecialToken(t,i,r),a>i&&this.encodeByIndex(t,n,i,a),s){if(i=i+this.encodeSpecialToken(n,s),i>=t.length)break}else break}return n}encodeSpecialToken(t,r){let n=this.specialTokensEncoder?.get(r[0]);return t.push(n),r.index+r[0].length}encodeByIndex(t,r,n,i){let s,a=t.substring(n,i);for(this.regex.lastIndex=0;s=this.regex.exec(a);){let l=this.cache.get(s[0]);if(l)for(let c of l)r.push(c);else{let c=this.textEncoder.encode(s[0]),u=this.encoder.get(c,0,this.textEncoder.length);if(u!==void 0)r.push(u),this.cache.set(s[0],[u]);else{let f=(0,IN.bytePairEncode)(c,this.encoder,this.textEncoder.length);for(let m of f)r.push(m);this.cache.set(s[0],f)}}}}encodeTrimSuffixByIndex(t,r,n,i,s,a,l){let c,u=t.substring(n,i);for(this.regex.lastIndex=0;c=this.regex.exec(u);){let f=c[0],m=this.cache.get(f);if(m)if(a+m.length<=s)a+=m.length,l+=f.length,r.push(...m);else{let h=s-a;a+=h,l+=f.length,r.push(...m.slice(0,h));break}else{let h=this.textEncoder.encode(f),p=this.encoder.get(h,0,h.length);if(p!==void 0)if(this.cache.set(f,[p]),a+1<=s)a++,l+=f.length,r.push(p);else break;else{let A=(0,IN.bytePairEncode)(h,this.encoder,this.textEncoder.length);if(this.cache.set(f,A),a+A.length<=s){a+=A.length,l+=f.length;for(let x of A)r.push(x)}else{let x=s-a;a+=x,l+=f.length;for(let v=0;v<x;v++)r.push(A[v]);break}}}if(a>=s)break}return{tokenCount:a,encodeLength:l}}encodeTrimSuffix(t,r,n){let i=[],s=0,a=0,l=0;for(;;){let u,f;if([u,f]=this.findNextSpecialToken(t,s,n),f>s){let{tokenCount:m,encodeLength:h}=this.encodeTrimSuffixByIndex(t,i,s,f,r,a,l);if(a=m,l=h,a>=r)break}if(u!==null){if(a++,a<=r&&(s=s+this.encodeSpecialToken(i,u),l+=u[0].length,s>=t.length)||a>=r)break}else break}let c=l===t.length?t:t.slice(0,l);return{tokenIds:i,text:c}}encodeTrimPrefix(t,r,n){let i=[],s=0,a=0,l=0,c=new Map;for(c.set(a,l);;){let h,p;if([h,p]=this.findNextSpecialToken(t,s,n),p>s){let A,x=t.substring(s,p);for(this.regex.lastIndex=0;A=this.regex.exec(x);){let v=A[0],E=this.cache.get(v);if(E)a+=E.length,l+=v.length,i.push(...E),c.set(a,l);else{let b=this.textEncoder.encode(v),_=this.encoder.get(b);if(_!==void 0)this.cache.set(v,[_]),a++,l+=v.length,i.push(_),c.set(a,l);else{let R=(0,IN.bytePairEncode)(b,this.encoder,this.textEncoder.length);this.cache.set(v,R),a+=R.length,l+=v.length;for(let P of R)i.push(P);c.set(a,l)}}}}if(h!==null){if(s=s+this.encodeSpecialToken(i,h),a++,l+=h[0].length,c.set(a,l),s>=t.length)break}else break}if(a<=r)return{tokenIds:i,text:t};let u=a-r,f=0,m=0;for(let[h,p]of c)if(h>=u){f=h,m=p;break}if(f>r){let h=this.encode(t,n),p=h.slice(h.length-r);return{tokenIds:p,text:this.decode(p)}}return{tokenIds:i.slice(f),text:t.slice(m)}}decode(t){let r=[];for(let n of t){let i=[],s=this.decoder?.get(n);if(s!==void 0)i=Array.from(s);else{let a=this.specialTokensDecoder?.get(n);if(a!==void 0){let l=this.textEncoder.encode(a);i=Array.from(l.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};TN.TikTokenizer=bZ});var zCe=H(Wa=>{"use strict";d();Object.defineProperty(Wa,"__esModule",{value:!0});Wa.createTokenizer=Wa.createByEncoderName=Wa.createByModelName=Wa.getRegexByModel=Wa.getRegexByEncoder=Wa.getSpecialTokensByModel=Wa.getSpecialTokensByEncoder=Wa.MODEL_TO_ENCODING=void 0;var Mot=EZ(),Oot=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);Wa.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var wN="<|endoftext|>",OCe="<|fim_prefix|>",UCe="<|fim_middle|>",qCe="<|fim_suffix|>",WCe="<|endofprompt|>",vw="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",GCe="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",Uot=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],HCe=Uot.join("|");function IZ(e){let t="";if(Wa.MODEL_TO_ENCODING.has(e))t=Wa.MODEL_TO_ENCODING.get(e);else for(let[r,n]of Oot)if(e.startsWith(r)){t=n;break}return t}o(IZ,"getEncoderFromModelName");async function qot(e,t){let r=require("fs"),n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${n.status}`);let i=await n.text();r.writeFileSync(t,i)}o(qot,"fetchAndSaveFile");function TZ(e){let t=new Map([[wN,50256]]);switch(e){case"o200k_base":t=new Map([[wN,199999],[WCe,200018]]);break;case"cl100k_base":t=new Map([[wN,100257],[OCe,100258],[UCe,100259],[qCe,100260],[WCe,100276]]);break;case"p50k_edit":t=new Map([[wN,50256],[OCe,50281],[UCe,50282],[qCe,50283]]);break;default:break}return t}o(TZ,"getSpecialTokensByEncoder");Wa.getSpecialTokensByEncoder=TZ;function Wot(e){let t=IZ(e);return TZ(t)}o(Wot,"getSpecialTokensByModel");Wa.getSpecialTokensByModel=Wot;function jCe(e){switch(e){case"o200k_base":return HCe;case"cl100k_base":return GCe;default:break}return vw}o(jCe,"getRegexByEncoder");Wa.getRegexByEncoder=jCe;function Got(e){let t=IZ(e);return jCe(t)}o(Got,"getRegexByModel");Wa.getRegexByModel=Got;async function Hot(e,t=null){return VCe(IZ(e),t)}o(Hot,"createByModelName");Wa.createByModelName=Hot;async function VCe(e,t=null){let r,n,i=TZ(e);switch(e){case"o200k_base":r=HCe,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=GCe,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=vw,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=vw,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=vw,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=vw,n="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(i=new Map([...i,...t]));let s=require("fs"),a=require("path"),l=a.basename(n),c=a.resolve(__dirname,"..","model");s.existsSync(c)||s.mkdirSync(c,{recursive:!0});let u=a.resolve(c,l);return s.existsSync(u)||(console.log(`Downloading file from ${n}`),await qot(n,u),console.log(`Saved file to ${u}`)),$Ce(u,i,r)}o(VCe,"createByEncoderName");Wa.createByEncoderName=VCe;function $Ce(e,t,r,n=8192){return new Mot.TikTokenizer(e,t,r,n)}o($Ce,"createTokenizer");Wa.createTokenizer=$Ce});var YCe=H(Ga=>{"use strict";d();Object.defineProperty(Ga,"__esModule",{value:!0});Ga.createTokenizer=Ga.createByEncoderName=Ga.createByModelName=Ga.getSpecialTokensByModel=Ga.getSpecialTokensByEncoder=Ga.getRegexByModel=Ga.getRegexByEncoder=Ga.MODEL_TO_ENCODING=Ga.TikTokenizer=void 0;var jot=EZ();Object.defineProperty(Ga,"TikTokenizer",{enumerable:!0,get:o(function(){return jot.TikTokenizer},"get")});var Xy=zCe();Object.defineProperty(Ga,"MODEL_TO_ENCODING",{enumerable:!0,get:o(function(){return Xy.MODEL_TO_ENCODING},"get")});Object.defineProperty(Ga,"getRegexByEncoder",{enumerable:!0,get:o(function(){return Xy.getRegexByEncoder},"get")});Object.defineProperty(Ga,"getRegexByModel",{enumerable:!0,get:o(function(){return Xy.getRegexByModel},"get")});Object.defineProperty(Ga,"getSpecialTokensByEncoder",{enumerable:!0,get:o(function(){return Xy.getSpecialTokensByEncoder},"get")});Object.defineProperty(Ga,"getSpecialTokensByModel",{enumerable:!0,get:o(function(){return Xy.getSpecialTokensByModel},"get")});Object.defineProperty(Ga,"createByModelName",{enumerable:!0,get:o(function(){return Xy.createByModelName},"get")});Object.defineProperty(Ga,"createByEncoderName",{enumerable:!0,get:o(function(){return Xy.createByEncoderName},"get")});Object.defineProperty(Ga,"createTokenizer",{enumerable:!0,get:o(function(){return Xy.createTokenizer},"get")})});var f3e=H((exports,module)=>{d();var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{o(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=o((e,t)=>{throw t},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}o(locateFile,"locateFile");function logExceptionOnExit(e){e instanceof ExitStatus||err("exiting due to exception: "+e)}if(o(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=o((e,t)=>(e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFileSync(e,t?void 0:"utf8")),"read_"),readBinary=o(e=>{var t=read_(e,!0);return t.buffer||(t=new Uint8Array(t)),t},"readBinary"),readAsync=o((e,t,r)=>{e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFile(e,function(n,i){n?r(n):t(i.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=o((e,t)=>{if(keepRuntimeAlive())throw process.exitCode=e,t;logExceptionOnExit(t),process.exit(e)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)},"readBinary")),readAsync=o((e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{n.status==200||n.status==0&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},"readAsync"),setWindowTitle=o(e=>document.title=e,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(e,t,r){for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,i));for(var s="";t<i;){var a=e[t++];if(128&a){var l=63&e[t++];if((224&a)!=192){var c=63&e[t++];if((a=(240&a)==224?(15&a)<<12|l<<6|c:(7&a)<<18|l<<12|c<<6|63&e[t++])<65536)s+=String.fromCharCode(a);else{var u=a-65536;s+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else s+=String.fromCharCode((31&a)<<6|l)}else s+=String.fromCharCode(a)}return s}o(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(e,t){return e?UTF8ArrayToString(HEAPU8,e,t):""}o(UTF8ToString,"UTF8ToString");function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;for(var i=r,s=r+n-1,a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l>=55296&&l<=57343&&(l=65536+((1023&l)<<10)|1023&e.charCodeAt(++a)),l<=127){if(r>=s)break;t[r++]=l}else if(l<=2047){if(r+1>=s)break;t[r++]=192|l>>6,t[r++]=128|63&l}else if(l<=65535){if(r+2>=s)break;t[r++]=224|l>>12,t[r++]=128|l>>6&63,t[r++]=128|63&l}else{if(r+3>=s)break;t[r++]=240|l>>18,t[r++]=128|l>>12&63,t[r++]=128|l>>6&63,t[r++]=128|63&l}}return t[r]=0,r-i}o(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}o(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t}o(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(e){buffer=e,Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}o(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}o(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}o(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}o(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}o(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}o(postRun,"postRun");function addOnPreRun(e){__ATPRERUN__.unshift(e)}o(addOnPreRun,"addOnPreRun");function addOnInit(e){__ATINIT__.unshift(e)}o(addOnInit,"addOnInit");function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}o(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}o(addRunDependency,"addRunDependency");function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}o(removeRunDependency,"removeRunDependency");function abort(e){throw Module.onAbort&&Module.onAbort(e),err(e="Aborted("+e+")"),ABORT=!0,EXITSTATUS=1,e+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(e)}o(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(e){return e.startsWith(dataURIPrefix)}o(isDataURI,"isDataURI");function isFileURI(e){return e.startsWith("file://")}o(isFileURI,"isFileURI");function getBinary(e){try{if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw"both async and sync fetching of the wasm failed"}catch(t){abort(t)}}o(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return e.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(e,t){readAsync(wasmBinaryFile,function(r){e(new Uint8Array(r))},t)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}o(getBinaryPromise,"getBinaryPromise");function createWasm(){var e={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function t(i,s){var a=i.exports;a=relocateExports(a,1024);var l=getDylinkMetadata(s);l.neededDynlibs&&(dynamicLibraries=l.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(a,"main"),Module.asm=a,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}o(t,"t");function r(i){t(i.instance,i.module)}o(r,"r");function n(i){return getBinaryPromise().then(function(s){return WebAssembly.instantiate(s,e)}).then(function(s){return s}).then(i,function(s){err("failed to asynchronously prepare wasm: "+s),abort(s)})}if(o(n,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(i){return err("Module.instantiateWasm callback failed with error: "+i),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?n(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){return WebAssembly.instantiateStreaming(i,e).then(r,function(s){return err("wasm streaming compile failed: "+s),err("falling back to ArrayBuffer instantiation"),n(r)})}),{}}o(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}o(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:o(function(e,t){var r=GOT[t];return r||(r=GOT[t]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(t)||(r.required=!0),r},"get")};function callRuntimeCallbacks(e){for(;e.length>0;)e.shift()(Module)}o(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(e){var t=0,r=0;function n(){for(var E=0,b=1;;){var _=e[t++];if(E+=(127&_)*b,b*=128,!(128&_))break}return E}o(n,"_");function i(){var E=n();return UTF8ArrayToString(e,(t+=E)-E,E)}o(i,"n");function s(E,b){if(E)throw new Error(b)}o(s,"s");var a="dylink.0";if(e instanceof WebAssembly.Module){var l=WebAssembly.Module.customSections(e,a);l.length===0&&(a="dylink",l=WebAssembly.Module.customSections(e,a)),s(l.length===0,"need dylink section"),r=(e=new Uint8Array(l[0])).length}else{s(new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),s(e[8]!==0,"need the dylink section to be first"),t=9;var c=n();r=t+c,a=i()}var u={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(a=="dylink"){u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();for(var f=n(),m=0;m<f;++m){var h=i();u.neededDynlibs.push(h)}}else for(s(a!=="dylink.0");t<r;){var p=e[t++],A=n();if(p===1)u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();else if(p===2)for(f=n(),m=0;m<f;++m)h=i(),u.neededDynlibs.push(h);else if(p===3)for(var x=n();x--;){var v=i();256&n()&&u.tlsExports.add(v)}else if(p===4)for(x=n();x--;)i(),v=i(),(3&n())==1&&u.weakImports.add(v);else t+=A}return u}o(getDylinkMetadata,"getDylinkMetadata");function getValue(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];case"*":return HEAPU32[e>>2];default:abort("invalid type for getValue: "+t)}return null}o(getValue,"getValue");function asmjsMangle(e){return e.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(e)?e:"_"+e}o(asmjsMangle,"asmjsMangle");function mergeLibSymbols(e,t){for(var r in e)if(e.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=e[r]);var n=asmjsMangle(r);Module.hasOwnProperty(n)||(Module[n]=e[r]),r=="__main_argc_argv"&&(Module._main=e[r])}}o(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(e,t,r){var n=Module["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}o(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(e){var t=wasmTableMirror[e];return t||(e>=wasmTableMirror.length&&(wasmTableMirror.length=e+1),wasmTableMirror[e]=t=wasmTable.get(e)),t}o(getWasmTableEntry,"getWasmTableEntry");function dynCall(e,t,r){return e.includes("j")?dynCallLegacy(e,t,r):getWasmTableEntry(t).apply(null,r)}o(dynCall,"dynCall");function createInvokeFunction(e){return function(){var t=stackSave();try{return dynCall(e,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(stackRestore(t),r!==r+0)throw r;_setThrew(1,0)}}}o(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(e,t){return HEAPU8.fill(0,e,e+t),e}o(zeroMemory,"zeroMemory");function getMemory(e){if(runtimeInitialized)return zeroMemory(_malloc(e),e);var t=___heap_base,r=t+e+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,t}o(getMemory,"getMemory");function isInternalSym(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(e)}o(isInternalSym,"isInternalSym");function uleb128Encode(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}o(uleb128Encode,"uleb128Encode");function sigToWasmTypes(e){for(var t={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:e[0]=="v"?[]:[t[e[0]]]},n=1;n<e.length;++n)r.parameters.push(t[e[n]]),e[n]==="j"&&r.parameters.push("i32");return r}o(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(e,t){var r=e.slice(0,1),n=e.slice(1),i={i:127,p:127,j:126,f:125,d:124};t.push(96),uleb128Encode(n.length,t);for(var s=0;s<n.length;++s)t.push(i[n[s]]);r=="v"?t.push(0):t.push(1,i[r])}o(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(e,t){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(t),e);var r=[1];generateFuncType(t,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var i=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(i,{e:{f:e}}).exports.f}o(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(e,t){if(functionsInTableMap)for(var r=e;r<e+t;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}}o(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return wasmTable.length-1}o(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(e,t){wasmTable.set(e,t),wasmTableMirror[e]=wasmTable.get(e)}o(setWasmTableEntry,"setWasmTableEntry");function addFunction(e,t){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(e))return functionsInTableMap.get(e);var r=getEmptyTableSlot();try{setWasmTableEntry(r,e)}catch(n){if(!(n instanceof TypeError))throw n;setWasmTableEntry(r,convertJsFunctionToWasm(e,t))}return functionsInTableMap.set(e,r),r}o(addFunction,"addFunction");function updateGOT(e,t){for(var r in e)if(!isInternalSym(r)){var n=e[r];r.startsWith("orig$")&&(r=r.split("$")[1],t=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:"i32",mutable:!0})),(t||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err("unhandled export type for `"+r+"`: "+typeof n))}}o(updateGOT,"updateGOT");function relocateExports(e,t,r){var n={};for(var i in e){var s=e[i];typeof s=="object"&&(s=s.value),typeof s=="number"&&(s+=t),n[i]=s}return updateGOT(n,r),n}o(relocateExports,"relocateExports");function resolveGlobalSymbol(e,t){var r;return t&&(r=asmLibraryArg["orig$"+e]),r||(r=asmLibraryArg[e])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(e)]),!r&&e.startsWith("invoke_")&&(r=createInvokeFunction(e.split("_")[1])),r}o(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(e,t){return Math.ceil(e/t)*t}o(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(e){var t=resolveGlobalSymbol(e,!1);return t||(t=moduleExports[e]),t}o(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:o(function(e,t){switch(t){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(t in asmLibraryArg)return asmLibraryArg[t];var r;return t in e||(e[t]=function(){return r||(r=resolveSymbol(t)),r.apply(null,arguments)}),e[t]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(o(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(o(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(e){return postInstantiation(e.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return o(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(e){loadDynamicLibrary(e,flags)}),loadModule())}o(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(e,t,r){t=t||{global:!0,nodelete:!0};var n=LDSO.loadedLibsByName[e];if(n)return t.global&&!n.global&&(n.global=!0,n.module!=="loading"&&mergeLibSymbols(n.module,e)),t.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,r&&(LDSO.loadedLibsByHandle[r]=n),!t.loadAsync||Promise.resolve(!0);function i(l){if(t.fs&&t.fs.findObject(l)){var c=t.fs.readFile(l,{encoding:"binary"});return c instanceof Uint8Array||(c=new Uint8Array(c)),t.loadAsync?Promise.resolve(c):c}if(l=locateFile(l),t.loadAsync)return new Promise(function(u,f){readAsync(l,m=>u(new Uint8Array(m)),f)});if(!readBinary)throw new Error(l+": file not found, and synchronous loading of external files is not available");return readBinary(l)}o(i,"n");function s(){if(typeof preloadedWasm<"u"&&preloadedWasm[e]){var l=preloadedWasm[e];return t.loadAsync?Promise.resolve(l):l}return t.loadAsync?i(e).then(function(c){return loadWebAssemblyModule(c,t,r)}):loadWebAssemblyModule(i(e),t,r)}o(s,"s");function a(l){n.global&&mergeLibSymbols(l,e),n.module=l}return o(a,"a"),n={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},LDSO.loadedLibsByName[e]=n,r&&(LDSO.loadedLibsByHandle[r]=n),t.loadAsync?s().then(function(l){return a(l),!0}):(a(s()),!0)}o(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var e in GOT)if(GOT[e].value==0){var t=resolveGlobalSymbol(e,!0);if(!t&&!GOT[e].required)continue;if(typeof t=="function")GOT[e].value=addFunction(t,t.sig);else{if(typeof t!="number")throw new Error("bad export type for `"+e+"`: "+typeof t);GOT[e].value=t}}}o(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}o(preloadDylibs,"preloadDylibs");function setValue(e,t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;case"*":HEAPU32[e>>2]=t;break;default:abort("invalid type for setValue: "+r)}}o(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}o(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}o(_abort,"_abort");function _emscripten_date_now(){return Date.now()}o(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(e,t,r){HEAPU8.copyWithin(e,t,t+r)}o(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}o(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(e){try{return wasmMemory.grow(e-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}o(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(e){var t=HEAPU8.length;e>>>=0;var r=getHeapMax();if(e>r)return!1;for(var n=1;n<=4;n*=2){var i=t*(1+.2/n);if(i=Math.min(i,e+100663296),emscripten_realloc_buffer(Math.min(r,(s=Math.max(e,i))+((a=65536)-s%a)%a)))return!0}var s,a;return!1}o(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:o(function(e,t,r){if(PATH.isAbs(t))return t;var n;if(e===-100?n=FS.cwd():n=SYSCALLS.getStreamFromFD(e).path,t.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,t)},"calculateAt"),doStat:o(function(e,t,r){try{var n=e(t)}catch(l){if(l&&l.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(l.node)))return-54;throw l}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var i=n.atime.getTime(),s=n.mtime.getTime(),a=n.ctime.getTime();return tempI64=[Math.floor(i/1e3)>>>0,(tempDouble=Math.floor(i/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=i%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=s%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=a%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},"doStat"),doMsync:o(function(e,t,r,n,i){if(!FS.isFile(t.node.mode))throw new FS.ErrnoError(43);if(2&n)return 0;var s=HEAPU8.slice(e,e+r);FS.msync(t,s,i,r,n)},"doMsync"),varargs:void 0,get:o(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:o(function(e){return UTF8ToString(e)},"getStr"),getStreamFromFD:o(function(e){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(8);return t},"getStreamFromFD")};function _proc_exit(e){EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit&&Module.onExit(e),ABORT=!0),quit_(e,new ExitStatus(e))}o(_proc_exit,"_proc_exit");function exitJS(e,t){EXITSTATUS=e,_proc_exit(e)}o(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(e){try{var t=SYSCALLS.getStreamFromFD(e);return FS.close(t),0}catch(r){if(typeof FS>"u"||!(r instanceof FS.ErrnoError))throw r;return r.errno}}o(_fd_close,"_fd_close");function convertI32PairToI53Checked(e,t){return t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN}o(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(e,t,r,n,i){try{var s=convertI32PairToI53Checked(t,r);if(isNaN(s))return 61;var a=SYSCALLS.getStreamFromFD(e);return FS.llseek(a,s,n),tempI64=[a.position>>>0,(tempDouble=a.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1],a.getdents&&s===0&&n===0&&(a.getdents=null),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}o(_fd_seek,"_fd_seek");function doWritev(e,t,r,n){for(var i=0,s=0;s<r;s++){var a=HEAPU32[t>>2],l=HEAPU32[t+4>>2];t+=8;var c=FS.write(e,HEAP8,a,l,n);if(c<0)return-1;i+=c,n!==void 0&&(n+=c)}return i}o(doWritev,"doWritev");function _fd_write(e,t,r,n){try{var i=doWritev(SYSCALLS.getStreamFromFD(e),t,r);return HEAPU32[n>>2]=i,0}catch(s){if(typeof FS>"u"||!(s instanceof FS.ErrnoError))throw s;return s.errno}}o(_fd_write,"_fd_write");function _tree_sitter_log_callback(e,t){if(currentLogCallback){let r=UTF8ToString(t);currentLogCallback(r,e!==0)}}o(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(e,t,r,n,i){var s=currentParseCallback(t,{row:r,column:n});typeof s=="string"?(setValue(i,s.length,"i32"),stringToUTF16(s,e,10240)):setValue(i,0,"i32")}o(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(e){if(e instanceof ExitStatus||e=="unwind")return EXITSTATUS;quit_(1,e)}o(handleException,"handleException");function allocateUTF8OnStack(e){var t=lengthBytesUTF8(e)+1,r=stackAlloc(t);return stringToUTF8Array(e,HEAP8,r,t),r}o(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(e,t,r){if(r===void 0&&(r=2147483647),r<2)return 0;for(var n=t,i=(r-=2)<2*e.length?r/2:e.length,s=0;s<i;++s){var a=e.charCodeAt(s);HEAP16[t>>1]=a,t+=2}return HEAP16[t>>1]=0,t-n}o(stringToUTF16,"stringToUTF16");function AsciiToString(e){for(var t="";;){var r=HEAPU8[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}o(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(e){var t=Module._main;if(t){(e=e||[]).unshift(thisProgram);var r=e.length,n=stackAlloc(4*(r+1)),i=n>>2;e.forEach(a=>{HEAP32[i++]=allocateUTF8OnStack(a)}),HEAP32[i]=0;try{var s=t(r,n);return exitJS(s,!0),s}catch(a){return handleException(a)}}}o(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=o(function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)},"e");var dylibsLoaded=!1;function run(e){function t(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(e),postRun()))}o(t,"t"),e=e||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}if(o(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{o(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(t){let r;if(t){if(t.constructor!==Language)throw new Error("Argument must be a Language");{r=t[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else r=0,t=null;return this.language=t,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(t,r,n){if(typeof t=="string")currentParseCallback=o((c,u,f)=>t.slice(c,f),"currentParseCallback");else{if(typeof t!="function")throw new Error("Argument must be a string or a function");currentParseCallback=t}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let i=0,s=0;if(n&&n.includedRanges){i=n.includedRanges.length,s=C._calloc(i,SIZE_OF_RANGE);let c=s;for(let u=0;u<i;u++)marshalRange(c,n.includedRanges[u]),c+=SIZE_OF_RANGE}let a=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,s,i);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let l=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(t){C._ts_parser_set_timeout_micros(this[0],t)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(t){if(t){if(typeof t!="function")throw new Error("Logger callback must be a function")}else t=null;return this.logCallback=t,this}getLogger(){return this.logCallback}}class Tree{static{o(this,"Tree")}constructor(t,r,n,i){assertInternal(t),this[0]=r,this.language=n,this.textCallback=i}copy(){let t=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,t,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(t){marshalEdit(t),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(t){if(t.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],t[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),i=new Array(r);if(r>0){let s=n;for(let a=0;a<r;a++)i[a]=unmarshalRange(s),s+=SIZE_OF_RANGE;C._free(n)}return i}}class Node{static{o(this,"Node")}constructor(t,r){assertInternal(t),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(t){return this.id===t.id}child(t){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}namedChild(t){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldId(t){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldName(t){let r=this.tree.language.fields.indexOf(t);if(r!==-1)return this.childForFieldId(r)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._children[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._namedChildren[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(t,r,n){Array.isArray(t)||(t=[t]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let i=[],s=this.tree.language.types;for(let f=0,m=s.length;f<m;f++)t.includes(s[f])&&i.push(f);let a=C._malloc(SIZE_OF_INT*i.length);for(let f=0,m=i.length;f<m;f++)setValue(a+f*SIZE_OF_INT,i[f],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,i.length,r.row,r.column,n.row,n.column);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),u=new Array(l);if(l>0){let f=c;for(let m=0;m<l;m++)u[m]=unmarshalNode(this.tree,f),f+=SIZE_OF_NODE}return C._free(c),C._free(a),u}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let t=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(t);return C._free(t),r}}class TreeCursor{static{o(this,"TreeCursor")}constructor(t,r){assertInternal(t),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(t){marshalNode(t),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let t=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,t,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoNextSibling(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoParent(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}}class Language{static{o(this,"Language")}constructor(t,r){assertInternal(t),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,i=this.types.length;n<i;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,i=this.fields.length;n<i;n++){let s=C._ts_language_field_name_for_id(this[0],n);this.fields[n]=s!==0?UTF8ToString(s):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(t){let r=this.fields.indexOf(t);return r!==-1?r:null}fieldNameForId(t){return this.fields[t]||null}idForNodeType(t,r){let n=lengthBytesUTF8(t),i=C._malloc(n+1);stringToUTF8(t,i,n+1);let s=C._ts_language_symbol_for_name(this[0],i,n,r);return C._free(i),s||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(t){let r=C._ts_language_symbol_name(this[0],t);return r?UTF8ToString(r):null}nodeTypeIsNamed(t){return!!C._ts_language_type_is_named_wasm(this[0],t)}nodeTypeIsVisible(t){return!!C._ts_language_type_is_visible_wasm(this[0],t)}query(t){let r=lengthBytesUTF8(t),n=C._malloc(r+1);stringToUTF8(t,n,r+1);let i=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!i){let x=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),v=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,E=t.substr(v,100).split(`
`)[0],b,_=E.match(QUERY_WORD_REGEX)[0];switch(x){case 2:b=new RangeError(`Bad node name '${_}'`);break;case 3:b=new RangeError(`Bad field name '${_}'`);break;case 4:b=new RangeError(`Bad capture name @${_}`);break;case 5:b=new TypeError(`Bad pattern structure at offset ${v}: '${E}'...`),_="";break;default:b=new SyntaxError(`Bad syntax at offset ${v}: '${E}'...`),_=""}throw b.index=v,b.length=_.length,C._free(n),b}let s=C._ts_query_string_count(i),a=C._ts_query_capture_count(i),l=C._ts_query_pattern_count(i),c=new Array(a),u=new Array(s);for(let x=0;x<a;x++){let v=C._ts_query_capture_name_for_id(i,x,TRANSFER_BUFFER),E=getValue(TRANSFER_BUFFER,"i32");c[x]=UTF8ToString(v,E)}for(let x=0;x<s;x++){let v=C._ts_query_string_value_for_id(i,x,TRANSFER_BUFFER),E=getValue(TRANSFER_BUFFER,"i32");u[x]=UTF8ToString(v,E)}let f=new Array(l),m=new Array(l),h=new Array(l),p=new Array(l),A=new Array(l);for(let x=0;x<l;x++){let v=C._ts_query_predicates_for_pattern(i,x,TRANSFER_BUFFER),E=getValue(TRANSFER_BUFFER,"i32");p[x]=[],A[x]=[];let b=[],_=v;for(let R=0;R<E;R++){let P=getValue(_,"i32");_+=SIZE_OF_INT;let F=getValue(_,"i32");if(_+=SIZE_OF_INT,P===PREDICATE_STEP_TYPE_CAPTURE)b.push({type:"capture",name:c[F]});else if(P===PREDICATE_STEP_TYPE_STRING)b.push({type:"string",value:u[F]});else if(b.length>0){if(b[0].type!=="string")throw new Error("Predicates must begin with a literal value");let W=b[0].value,se=!0;switch(W){case"not-eq?":se=!1;case"eq?":if(b.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(b.length-1));if(b[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${b[1].value}"`);if(b[2].type==="capture"){let U=b[1].name,ne=b[2].name;A[x].push(function(J){let j,O;for(let V of J)V.name===U&&(j=V.node),V.name===ne&&(O=V.node);return j===void 0||O===void 0||j.text===O.text===se})}else{let U=b[1].name,ne=b[2].value;A[x].push(function(J){for(let j of J)if(j.name===U)return j.node.text===ne===se;return!0})}break;case"not-match?":se=!1;case"match?":if(b.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${b.length-1}.`);if(b[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${b[1].value}".`);if(b[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${b[2].value}.`);let de=b[1].name,re=new RegExp(b[2].value);A[x].push(function(U){for(let ne of U)if(ne.name===de)return re.test(ne.node.text)===se;return!0});break;case"set!":if(b.length<2||b.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${b.length-1}.`);if(b.some(U=>U.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');f[x]||(f[x]={}),f[x][b[1].value]=b[2]?b[2].value:null;break;case"is?":case"is-not?":if(b.length<2||b.length>3)throw new Error(`Wrong number of arguments to \`#${W}\` predicate. Expected 1 or 2. Got ${b.length-1}.`);if(b.some(U=>U.type!=="string"))throw new Error(`Arguments to \`#${W}\` predicate must be a strings.".`);let G=W==="is?"?m:h;G[x]||(G[x]={}),G[x][b[1].value]=b[2]?b[2].value:null;break;default:p[x].push({operator:W,operands:b.slice(1)})}b.length=0}}Object.freeze(f[x]),Object.freeze(m[x]),Object.freeze(h[x])}return C._free(n),new Query(INTERNAL,i,c,A,p,Object.freeze(f),Object.freeze(m),Object.freeze(h))}static load(t){let r;if(t instanceof Uint8Array)r=Promise.resolve(t);else{let i=t;if(typeof process<"u"&&process.versions&&process.versions.node){let s=require("fs");r=Promise.resolve(s.readFileSync(i))}else r=fetch(i).then(s=>s.arrayBuffer().then(a=>{if(s.ok)return new Uint8Array(a);{let l=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${s.status}.

${l}`)}}))}let n=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return r.then(i=>n(i,{loadAsync:!0})).then(i=>{let s=Object.keys(i),a=s.find(c=>LANGUAGE_FUNCTION_REGEX.test(c)&&!c.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(s,null,2)}`);let l=i[a]();return new Language(INTERNAL,l)})}}class Query{static{o(this,"Query")}constructor(t,r,n,i,s,a,l,c){assertInternal(t),this[0]=r,this.captureNames=n,this.textPredicates=i,this.predicates=s,this.setProperties=a,this.assertedProperties=l,this.refutedProperties=c,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_matches_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=new Array(a);this.exceededMatchLimit=!!c;let f=0,m=l;for(let h=0;h<a;h++){let p=getValue(m,"i32");m+=SIZE_OF_INT;let A=getValue(m,"i32");m+=SIZE_OF_INT;let x=new Array(A);if(m=unmarshalCaptures(this,t.tree,m,x),this.textPredicates[p].every(v=>v(x))){u[f++]={pattern:p,captures:x};let v=this.setProperties[p];v&&(u[h].setProperties=v);let E=this.assertedProperties[p];E&&(u[h].assertedProperties=E);let b=this.refutedProperties[p];b&&(u[h].refutedProperties=b)}}return u.length=f,C._free(l),u}captures(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_captures_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=[];this.exceededMatchLimit=!!c;let f=[],m=l;for(let h=0;h<a;h++){let p=getValue(m,"i32");m+=SIZE_OF_INT;let A=getValue(m,"i32");m+=SIZE_OF_INT;let x=getValue(m,"i32");if(m+=SIZE_OF_INT,f.length=A,m=unmarshalCaptures(this,t.tree,m,f),this.textPredicates[p].every(v=>v(f))){let v=f[x],E=this.setProperties[p];E&&(v.setProperties=E);let b=this.assertedProperties[p];b&&(v.assertedProperties=b);let _=this.refutedProperties[p];_&&(v.refutedProperties=_),u.push(v)}}return C._free(l),u}predicatesForPattern(t){return this.predicates[t]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(e,t,r){let n=r-t,i=e.textCallback(t,null,r);for(t+=i.length;t<r;){let s=e.textCallback(t,null,r);if(!(s&&s.length>0))break;t+=s.length,i+=s}return t>r&&(i=i.slice(0,n)),i}o(getText,"getText");function unmarshalCaptures(e,t,r,n){for(let i=0,s=n.length;i<s;i++){let a=getValue(r,"i32"),l=unmarshalNode(t,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[i]={name:e.captureNames[a],node:l}}return r}o(unmarshalCaptures,"unmarshalCaptures");function assertInternal(e){if(e!==INTERNAL)throw new Error("Illegal constructor")}o(assertInternal,"assertInternal");function isPoint(e){return e&&typeof e.row=="number"&&typeof e.column=="number"}o(isPoint,"isPoint");function marshalNode(e){let t=TRANSFER_BUFFER;setValue(t,e.id,"i32"),t+=SIZE_OF_INT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.row,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.column,"i32"),t+=SIZE_OF_INT,setValue(t,e[0],"i32")}o(marshalNode,"marshalNode");function unmarshalNode(e,t=TRANSFER_BUFFER){let r=getValue(t,"i32");if(r===0)return null;let n=getValue(t+=SIZE_OF_INT,"i32"),i=getValue(t+=SIZE_OF_INT,"i32"),s=getValue(t+=SIZE_OF_INT,"i32"),a=getValue(t+=SIZE_OF_INT,"i32"),l=new Node(INTERNAL,e);return l.id=r,l.startIndex=n,l.startPosition={row:i,column:s},l[0]=a,l}o(unmarshalNode,"unmarshalNode");function marshalTreeCursor(e,t=TRANSFER_BUFFER){setValue(t+0*SIZE_OF_INT,e[0],"i32"),setValue(t+1*SIZE_OF_INT,e[1],"i32"),setValue(t+2*SIZE_OF_INT,e[2],"i32")}o(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(e){e[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),e[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),e[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}o(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(e,t){setValue(e,t.row,"i32"),setValue(e+SIZE_OF_INT,t.column,"i32")}o(marshalPoint,"marshalPoint");function unmarshalPoint(e){return{row:getValue(e,"i32"),column:getValue(e+SIZE_OF_INT,"i32")}}o(unmarshalPoint,"unmarshalPoint");function marshalRange(e,t){marshalPoint(e,t.startPosition),marshalPoint(e+=SIZE_OF_POINT,t.endPosition),setValue(e+=SIZE_OF_POINT,t.startIndex,"i32"),setValue(e+=SIZE_OF_INT,t.endIndex,"i32"),e+=SIZE_OF_INT}o(marshalRange,"marshalRange");function unmarshalRange(e){let t={};return t.startPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.endPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.startIndex=getValue(e,"i32"),e+=SIZE_OF_INT,t.endIndex=getValue(e,"i32"),t}o(unmarshalRange,"unmarshalRange");function marshalEdit(e){let t=TRANSFER_BUFFER;marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.oldEndPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.newEndPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.oldEndIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.newEndIndex,"i32"),t+=SIZE_OF_INT}o(marshalEdit,"marshalEdit");for(let e of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,e,{value:ParserImpl.prototype[e],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var fX=H((_yr,U3e)=>{d();var uX=require("fs"),rL=require("path"),Uw=rL.join,Tat=rL.dirname,M3e=uX.accessSync&&function(e){try{uX.accessSync(e)}catch{return!1}return!0}||uX.existsSync||rL.existsSync,O3e={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function wat(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(O3e).map(function(c){c in e||(e[c]=O3e[c])}),e.module_root||(e.module_root=_at(__filename)),rL.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,i=e.try.length,s,a,l;n<i;n++){s=Uw.apply(null,e.try[n].map(function(c){return e[c]||c})),r.push(s);try{return a=e.path?t.resolve(s):t(s),e.path||(a.path=s),a}catch(c){if(c.code!=="MODULE_NOT_FOUND"&&c.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(c.message))throw c}}throw l=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(c){return e.arrow+c}).join(`
`)),l.tries=r,l}o(wat,"bindings");U3e.exports=wat;function _at(e){for(var t=Tat(e),r;;){if(t==="."&&(t=process.cwd()),M3e(Uw(t,"dist")))return Uw(t,"dist");if(M3e(Uw(t,"compiled")))return t;if(r===t)throw new Error('Could not find module root given file: "'+e+'". Do you have a `dist` or `compiled` directory? ');r=t,t=Uw(t,"..")}}o(_at,"getRoot")});var W3e=H((Ryr,q3e)=>{d();q3e.exports=fX()("node_sqlite3.node")});var j3e=H(H3e=>{d();var Sat=require("util");function kat(e,t,r){let n=e[t];e[t]=function(){let i=new Error,s=e.constructor.name+"#"+t+"("+Array.prototype.slice.call(arguments).map(function(l){return Sat.inspect(l,!1,0)}).join(", ")+")";typeof r>"u"&&(r=-1),r<0&&(r+=arguments.length);let a=arguments[r];return typeof arguments[r]=="function"&&(arguments[r]=o(function(){let c=arguments[0];return c&&c.stack&&!c.__augmented&&(c.stack=G3e(c).join(`
`),c.stack+=`
--> in `+s,c.stack+=`
`+G3e(i).slice(1).join(`
`),c.__augmented=!0),a.apply(this,arguments)},"replacement")),n.apply(this,arguments)}}o(kat,"extendTrace");H3e.extendTrace=kat;function G3e(e){return e.stack.split(`
`).filter(function(t){return t.indexOf(__filename)<0})}o(G3e,"filter")});var Y3e=H(($3e,z3e)=>{d();var Rat=require("path"),gd=W3e(),TI=require("events").EventEmitter;z3e.exports=$3e=gd;function wI(e){return function(t){let r,n=Array.prototype.slice.call(arguments,1);if(typeof n[n.length-1]=="function"){let s=n[n.length-1];r=o(function(a){a&&s(a)},"errBack")}let i=new nL(this,t,r);return e.call(this,i,n)}}o(wI,"normalizeMethod");function mX(e,t){for(let r in t.prototype)e.prototype[r]=t.prototype[r]}o(mX,"inherits");gd.cached={Database:o(function(e,t,r){if(e===""||e===":memory:")return new o0(e,t,r);let n;if(e=Rat.resolve(e),!gd.cached.objects[e])n=gd.cached.objects[e]=new o0(e,t,r);else{n=gd.cached.objects[e];let s=typeof t=="number"?r:t;if(typeof s=="function"){let a=function(){s.call(n,null)};var i=a;o(a,"cb"),n.open?process.nextTick(a):n.once("open",a)}}return n},"Database"),objects:{}};var o0=gd.Database,nL=gd.Statement,dX=gd.Backup;mX(o0,TI);mX(nL,TI);mX(dX,TI);o0.prototype.prepare=wI(function(e,t){return t.length?e.bind.apply(e,t):e});o0.prototype.run=wI(function(e,t){return e.run.apply(e,t).finalize(),this});o0.prototype.get=wI(function(e,t){return e.get.apply(e,t).finalize(),this});o0.prototype.all=wI(function(e,t){return e.all.apply(e,t).finalize(),this});o0.prototype.each=wI(function(e,t){return e.each.apply(e,t).finalize(),this});o0.prototype.map=wI(function(e,t){return e.map.apply(e,t).finalize(),this});o0.prototype.backup=function(){let e;return arguments.length<=2?e=new dX(this,arguments[0],"main","main",!0,arguments[1]):e=new dX(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),e.retryErrors=[gd.BUSY,gd.LOCKED],e};nL.prototype.map=function(){let e=Array.prototype.slice.call(arguments),t=e.pop();return e.push(function(r,n){if(r)return t(r);let i={};if(n.length){let s=Object.keys(n[0]),a=s[0];if(s.length>2)for(let l=0;l<n.length;l++)i[n[l][a]]=n[l];else{let l=s[1];for(let c=0;c<n.length;c++)i[n[c][a]]=n[c][l]}}t(r,i)}),this.all.apply(this,e)};var V3e=!1,hX=["trace","profile","change"];o0.prototype.addListener=o0.prototype.on=function(e){let t=TI.prototype.addListener.apply(this,arguments);return hX.indexOf(e)>=0&&this.configure(e,!0),t};o0.prototype.removeListener=function(e){let t=TI.prototype.removeListener.apply(this,arguments);return hX.indexOf(e)>=0&&!this._events[e]&&this.configure(e,!1),t};o0.prototype.removeAllListeners=function(e){let t=TI.prototype.removeAllListeners.apply(this,arguments);return hX.indexOf(e)>=0&&this.configure(e,!1),t};gd.verbose=function(){if(!V3e){let e=j3e();["prepare","get","run","all","each","map","close","exec"].forEach(function(t){e.extendTrace(o0.prototype,t)}),["bind","get","run","all","each","map","reset","finalize"].forEach(function(t){e.extendTrace(nL.prototype,t)}),V3e=!0}return gd}});var gL=H(ja=>{"use strict";d();Object.defineProperty(ja,"__esModule",{value:!0});ja.thenable=ja.typedArray=ja.stringArray=ja.array=ja.func=ja.error=ja.number=ja.string=ja.boolean=void 0;function Dat(e){return e===!0||e===!1}o(Dat,"boolean");ja.boolean=Dat;function e4e(e){return typeof e=="string"||e instanceof String}o(e4e,"string");ja.string=e4e;function Pat(e){return typeof e=="number"||e instanceof Number}o(Pat,"number");ja.number=Pat;function Fat(e){return e instanceof Error}o(Fat,"error");ja.error=Fat;function t4e(e){return typeof e=="function"}o(t4e,"func");ja.func=t4e;function r4e(e){return Array.isArray(e)}o(r4e,"array");ja.array=r4e;function Nat(e){return r4e(e)&&e.every(t=>e4e(t))}o(Nat,"stringArray");ja.stringArray=Nat;function Lat(e,t){return Array.isArray(e)&&e.every(t)}o(Lat,"typedArray");ja.typedArray=Lat;function Qat(e){return e&&t4e(e.then)}o(Qat,"thenable");ja.thenable=Qat});var AX=H(Ad=>{"use strict";d();Object.defineProperty(Ad,"__esModule",{value:!0});Ad.generateUuid=Ad.parse=Ad.isUUID=Ad.v4=Ad.empty=void 0;var Gw=class{static{o(this,"ValueUUID")}constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},Hw=class e extends Gw{static{o(this,"V4UUID")}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return e._oneOf(e._chars)}constructor(){super([e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-","4",e._randomHex(),e._randomHex(),e._randomHex(),"-",e._oneOf(e._timeHighBits),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex()].join(""))}};Hw._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Hw._timeHighBits=["8","9","a","b"];Ad.empty=new Gw("00000000-0000-0000-0000-000000000000");function n4e(){return new Hw}o(n4e,"v4");Ad.v4=n4e;var Mat=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function i4e(e){return Mat.test(e)}o(i4e,"isUUID");Ad.isUUID=i4e;function Oat(e){if(!i4e(e))throw new Error("invalid uuid");return new Gw(e)}o(Oat,"parse");Ad.parse=Oat;function Uat(){return n4e().asHex()}o(Uat,"generateUuid");Ad.generateUuid=Uat});var o4e=H(r5=>{"use strict";d();Object.defineProperty(r5,"__esModule",{value:!0});r5.attachPartialResult=r5.ProgressFeature=r5.attachWorkDone=void 0;var t5=ei(),qat=AX(),_4=class e{static{o(this,"WorkDoneProgressReporterImpl")}constructor(t,r){this._connection=t,this._token=r,e.Instances.set(this._token,this)}begin(t,r,n,i){let s={kind:"begin",title:t,percentage:r,message:n,cancellable:i};this._connection.sendProgress(t5.WorkDoneProgress.type,this._token,s)}report(t,r){let n={kind:"report"};typeof t=="number"?(n.percentage=t,r!==void 0&&(n.message=r)):n.message=t,this._connection.sendProgress(t5.WorkDoneProgress.type,this._token,n)}done(){e.Instances.delete(this._token),this._connection.sendProgress(t5.WorkDoneProgress.type,this._token,{kind:"end"})}};_4.Instances=new Map;var AL=class extends _4{static{o(this,"WorkDoneProgressServerReporterImpl")}constructor(t,r){super(t,r),this._source=new t5.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},jw=class{static{o(this,"NullProgressReporter")}constructor(){}begin(){}report(){}done(){}},yL=class extends jw{static{o(this,"NullProgressServerReporter")}constructor(){super(),this._source=new t5.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function Wat(e,t){if(t===void 0||t.workDoneToken===void 0)return new jw;let r=t.workDoneToken;return delete t.workDoneToken,new _4(e,r)}o(Wat,"attachWorkDone");r5.attachWorkDone=Wat;var Gat=o(e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(t5.WorkDoneProgressCancelNotification.type,r=>{let n=_4.Instances.get(r.token);(n instanceof AL||n instanceof yL)&&n.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new jw:new _4(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=(0,qat.generateUuid)();return this.connection.sendRequest(t5.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new AL(this.connection,t))}else return Promise.resolve(new yL)}},"ProgressFeature");r5.ProgressFeature=Gat;var yX;(function(e){e.type=new t5.ProgressType})(yX||(yX={}));var CX=class{static{o(this,"ResultProgressReporterImpl")}constructor(t,r){this._connection=t,this._token=r}report(t){this._connection.sendProgress(yX.type,this._token,t)}};function Hat(e,t){if(t===void 0||t.partialResultToken===void 0)return;let r=t.partialResultToken;return delete t.partialResultToken,new CX(e,r)}o(Hat,"attachPartialResult");r5.attachPartialResult=Hat});var s4e=H(CL=>{"use strict";d();Object.defineProperty(CL,"__esModule",{value:!0});CL.ConfigurationFeature=void 0;var jat=ei(),Vat=gL(),$at=o(e=>class extends e{getConfiguration(t){return t?Vat.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(jat.ConfigurationRequest.type,r).then(n=>Array.isArray(n)?Array.isArray(t)?n:n[0]:Array.isArray(t)?[]:null)}},"ConfigurationFeature");CL.ConfigurationFeature=$at});var a4e=H(vL=>{"use strict";d();Object.defineProperty(vL,"__esModule",{value:!0});vL.WorkspaceFoldersFeature=void 0;var xL=ei(),zat=o(e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new xL.Emitter,this.connection.onNotification(xL.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);let r=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=r===!0||typeof r=="string"}getWorkspaceFolders(){return this.connection.sendRequest(xL.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(xL.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}},"WorkspaceFoldersFeature");vL.WorkspaceFoldersFeature=zat});var l4e=H(bL=>{"use strict";d();Object.defineProperty(bL,"__esModule",{value:!0});bL.CallHierarchyFeature=void 0;var xX=ei(),Yat=o(e=>class extends e{get callHierarchy(){return{onPrepare:o(t=>this.connection.onRequest(xX.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),"onPrepare"),onIncomingCalls:o(t=>{let r=xX.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onIncomingCalls"),onOutgoingCalls:o(t=>{let r=xX.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onOutgoingCalls")}}},"CallHierarchyFeature");bL.CallHierarchyFeature=Yat});var bX=H(n5=>{"use strict";d();Object.defineProperty(n5,"__esModule",{value:!0});n5.SemanticTokensBuilder=n5.SemanticTokensDiff=n5.SemanticTokensFeature=void 0;var EL=ei(),Kat=o(e=>class extends e{get semanticTokens(){return{refresh:o(()=>this.connection.sendRequest(EL.SemanticTokensRefreshRequest.type),"refresh"),on:o(t=>{let r=EL.SemanticTokensRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on"),onDelta:o(t=>{let r=EL.SemanticTokensDeltaRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onDelta"),onRange:o(t=>{let r=EL.SemanticTokensRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onRange")}}},"SemanticTokensFeature");n5.SemanticTokensFeature=Kat;var IL=class{static{o(this,"SemanticTokensDiff")}constructor(t,r){this.originalSequence=t,this.modifiedSequence=r}computeDiff(){let t=this.originalSequence.length,r=this.modifiedSequence.length,n=0;for(;n<r&&n<t&&this.originalSequence[n]===this.modifiedSequence[n];)n++;if(n<r&&n<t){let i=t-1,s=r-1;for(;i>=n&&s>=n&&this.originalSequence[i]===this.modifiedSequence[s];)i--,s--;(i<n||s<n)&&(i++,s++);let a=i-n+1,l=this.modifiedSequence.slice(n,s+1);return l.length===1&&l[0]===this.originalSequence[i]?[{start:n,deleteCount:a-1}]:[{start:n,deleteCount:a,data:l}]}else return n<r?[{start:n,deleteCount:0,data:this.modifiedSequence.slice(n)}]:n<t?[{start:n,deleteCount:t-n}]:[]}};n5.SemanticTokensDiff=IL;var vX=class{static{o(this,"SemanticTokensBuilder")}constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,r,n,i,s){let a=t,l=r;this._dataLen>0&&(a-=this._prevLine,a===0&&(l-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=l,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=t,this._prevChar=r}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new IL(this._prevData,this._data).computeDiff()}:this.build()}};n5.SemanticTokensBuilder=vX});var c4e=H(TL=>{"use strict";d();Object.defineProperty(TL,"__esModule",{value:!0});TL.ShowDocumentFeature=void 0;var Jat=ei(),Zat=o(e=>class extends e{showDocument(t){return this.connection.sendRequest(Jat.ShowDocumentRequest.type,t)}},"ShowDocumentFeature");TL.ShowDocumentFeature=Zat});var u4e=H(wL=>{"use strict";d();Object.defineProperty(wL,"__esModule",{value:!0});wL.FileOperationsFeature=void 0;var SI=ei(),Xat=o(e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(SI.DidCreateFilesNotification.type,r=>{t(r)})}onDidRenameFiles(t){return this.connection.onNotification(SI.DidRenameFilesNotification.type,r=>{t(r)})}onDidDeleteFiles(t){return this.connection.onNotification(SI.DidDeleteFilesNotification.type,r=>{t(r)})}onWillCreateFiles(t){return this.connection.onRequest(SI.WillCreateFilesRequest.type,(r,n)=>t(r,n))}onWillRenameFiles(t){return this.connection.onRequest(SI.WillRenameFilesRequest.type,(r,n)=>t(r,n))}onWillDeleteFiles(t){return this.connection.onRequest(SI.WillDeleteFilesRequest.type,(r,n)=>t(r,n))}},"FileOperationsFeature");wL.FileOperationsFeature=Xat});var f4e=H(_L=>{"use strict";d();Object.defineProperty(_L,"__esModule",{value:!0});_L.LinkedEditingRangeFeature=void 0;var elt=ei(),tlt=o(e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(elt.LinkedEditingRangeRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))}},"LinkedEditingRangeFeature");_L.LinkedEditingRangeFeature=tlt});var d4e=H(SL=>{"use strict";d();Object.defineProperty(SL,"__esModule",{value:!0});SL.TypeHierarchyFeature=void 0;var EX=ei(),rlt=o(e=>class extends e{get typeHierarchy(){return{onPrepare:o(t=>this.connection.onRequest(EX.TypeHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),"onPrepare"),onSupertypes:o(t=>{let r=EX.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onSupertypes"),onSubtypes:o(t=>{let r=EX.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onSubtypes")}}},"TypeHierarchyFeature");SL.TypeHierarchyFeature=rlt});var h4e=H(kL=>{"use strict";d();Object.defineProperty(kL,"__esModule",{value:!0});kL.InlineValueFeature=void 0;var m4e=ei(),nlt=o(e=>class extends e{get inlineValue(){return{refresh:o(()=>this.connection.sendRequest(m4e.InlineValueRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(m4e.InlineValueRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on")}}},"InlineValueFeature");kL.InlineValueFeature=nlt});var g4e=H(RL=>{"use strict";d();Object.defineProperty(RL,"__esModule",{value:!0});RL.FoldingRangeFeature=void 0;var p4e=ei(),ilt=o(e=>class extends e{get foldingRange(){return{refresh:o(()=>this.connection.sendRequest(p4e.FoldingRangeRefreshRequest.type),"refresh"),on:o(t=>{let r=p4e.FoldingRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on")}}},"FoldingRangeFeature");RL.FoldingRangeFeature=ilt});var A4e=H(BL=>{"use strict";d();Object.defineProperty(BL,"__esModule",{value:!0});BL.InlayHintFeature=void 0;var IX=ei(),olt=o(e=>class extends e{get inlayHint(){return{refresh:o(()=>this.connection.sendRequest(IX.InlayHintRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(IX.InlayHintRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on"),resolve:o(t=>this.connection.onRequest(IX.InlayHintResolveRequest.type,(r,n)=>t(r,n)),"resolve")}}},"InlayHintFeature");BL.InlayHintFeature=olt});var y4e=H(DL=>{"use strict";d();Object.defineProperty(DL,"__esModule",{value:!0});DL.DiagnosticFeature=void 0;var Vw=ei(),slt=o(e=>class extends e{get diagnostics(){return{refresh:o(()=>this.connection.sendRequest(Vw.DiagnosticRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(Vw.DocumentDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(Vw.DocumentDiagnosticRequest.partialResult,r))),"on"),onWorkspace:o(t=>this.connection.onRequest(Vw.WorkspaceDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(Vw.WorkspaceDiagnosticRequest.partialResult,r))),"onWorkspace")}}},"DiagnosticFeature");DL.DiagnosticFeature=slt});var wX=H(PL=>{"use strict";d();Object.defineProperty(PL,"__esModule",{value:!0});PL.TextDocuments=void 0;var S4=ei(),TX=class{static{o(this,"TextDocuments")}constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new S4.Emitter,this._onDidOpen=new S4.Emitter,this._onDidClose=new S4.Emitter,this._onDidSave=new S4.Emitter,this._onWillSave=new S4.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=S4.TextDocumentSyncKind.Incremental;let r=[];return r.push(t.onDidOpenTextDocument(n=>{let i=n.textDocument,s=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,s);let a=Object.freeze({document:s});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)})),r.push(t.onDidChangeTextDocument(n=>{let i=n.textDocument,s=n.contentChanges;if(s.length===0)return;let{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=this._syncedDocuments.get(i.uri);l!==void 0&&(l=this._configuration.update(l,s,a),this._syncedDocuments.set(i.uri,l),this._onDidChangeContent.fire(Object.freeze({document:l})))})),r.push(t.onDidCloseTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(n.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),r.push(t.onWillSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:n.reason}))})),r.push(t.onWillSaveTextDocumentWaitUntil((n,i)=>{let s=this._syncedDocuments.get(n.textDocument.uri);return s!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:s,reason:n.reason}),i):[]})),r.push(t.onDidSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),S4.Disposable.create(()=>{r.forEach(n=>n.dispose())})}};PL.TextDocuments=TX});var SX=H(kI=>{"use strict";d();Object.defineProperty(kI,"__esModule",{value:!0});kI.NotebookDocuments=kI.NotebookSyncFeature=void 0;var yd=ei(),C4e=wX(),alt=o(e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:o(t=>this.connection.onNotification(yd.DidOpenNotebookDocumentNotification.type,r=>{t(r)}),"onDidOpenNotebookDocument"),onDidChangeNotebookDocument:o(t=>this.connection.onNotification(yd.DidChangeNotebookDocumentNotification.type,r=>{t(r)}),"onDidChangeNotebookDocument"),onDidSaveNotebookDocument:o(t=>this.connection.onNotification(yd.DidSaveNotebookDocumentNotification.type,r=>{t(r)}),"onDidSaveNotebookDocument"),onDidCloseNotebookDocument:o(t=>this.connection.onNotification(yd.DidCloseNotebookDocumentNotification.type,r=>{t(r)}),"onDidCloseNotebookDocument")}}},"NotebookSyncFeature");kI.NotebookSyncFeature=alt;var FL=class e{static{o(this,"CellTextDocumentConnection")}onDidOpenTextDocument(t){return this.openHandler=t,yd.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,yd.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,yd.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return e.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return e.NULL_DISPOSE}onDidSaveTextDocument(){return e.NULL_DISPOSE}};FL.NULL_DISPOSE=Object.freeze({dispose:o(()=>{},"dispose")});var _X=class{static{o(this,"NotebookDocuments")}constructor(t){t instanceof C4e.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new C4e.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new yd.Emitter,this._onDidChange=new yd.Emitter,this._onDidSave=new yd.Emitter,this._onDidClose=new yd.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){let r=this.notebookCellMap.get(t);return r&&r[0]}findNotebookDocumentForCell(t){let r=typeof t=="string"?t:t.document,n=this.notebookCellMap.get(r);return n&&n[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){let r=new FL,n=[];return n.push(this.cellTextDocuments.listen(r)),n.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let s of i.cellTextDocuments)r.openTextDocument({textDocument:s});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),n.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);if(s===void 0)return;s.version=i.notebookDocument.version;let a=s.metadata,l=!1,c=i.change;c.metadata!==void 0&&(l=!0,s.metadata=c.metadata);let u=[],f=[],m=[],h=[];if(c.cells!==void 0){let E=c.cells;if(E.structure!==void 0){let b=E.structure.array;if(s.cells.splice(b.start,b.deleteCount,...b.cells!==void 0?b.cells:[]),E.structure.didOpen!==void 0)for(let _ of E.structure.didOpen)r.openTextDocument({textDocument:_}),u.push(_.uri);if(E.structure.didClose)for(let _ of E.structure.didClose)r.closeTextDocument({textDocument:_}),f.push(_.uri)}if(E.data!==void 0){let b=new Map(E.data.map(_=>[_.document,_]));for(let _=0;_<=s.cells.length;_++){let R=b.get(s.cells[_].document);if(R!==void 0){let P=s.cells.splice(_,1,R);if(m.push({old:P[0],new:R}),b.delete(R.document),b.size===0)break}}}if(E.textContent!==void 0)for(let b of E.textContent)r.changeTextDocument({textDocument:b.document,contentChanges:b.changes}),h.push(b.document.uri)}this.updateCellMap(s);let p={notebookDocument:s};l&&(p.metadata={old:a,new:s.metadata});let A=[];for(let E of u)A.push(this.getNotebookCell(E));let x=[];for(let E of f)x.push(this.getNotebookCell(E));let v=[];for(let E of h)v.push(this.getNotebookCell(E));(A.length>0||x.length>0||m.length>0||v.length>0)&&(p.cells={added:A,removed:x,changed:{data:m,textContent:v}}),(p.metadata!==void 0||p.cells!==void 0)&&this._onDidChange.fire(p)})),n.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);s!==void 0&&this._onDidSave.fire(s)})),n.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);if(s!==void 0){this._onDidClose.fire(s);for(let a of i.cellTextDocuments)r.closeTextDocument({textDocument:a});this.notebookDocuments.delete(i.notebookDocument.uri);for(let a of s.cells)this.notebookCellMap.delete(a.document)}})),yd.Disposable.create(()=>{n.forEach(i=>i.dispose())})}updateCellMap(t){for(let r of t.cells)this.notebookCellMap.set(r.document,[r,t])}};kI.NotebookDocuments=_X});var x4e=H(NL=>{"use strict";d();Object.defineProperty(NL,"__esModule",{value:!0});NL.MonikerFeature=void 0;var llt=ei(),clt=o(e=>class extends e{get moniker(){return{on:o(t=>{let r=llt.MonikerRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on")}}},"MonikerFeature");NL.MonikerFeature=clt});var FX=H(uo=>{"use strict";d();Object.defineProperty(uo,"__esModule",{value:!0});uo.createConnection=uo.combineFeatures=uo.combineNotebooksFeatures=uo.combineLanguagesFeatures=uo.combineWorkspaceFeatures=uo.combineWindowFeatures=uo.combineClientFeatures=uo.combineTracerFeatures=uo.combineTelemetryFeatures=uo.combineConsoleFeatures=uo._NotebooksImpl=uo._LanguagesImpl=uo.BulkUnregistration=uo.BulkRegistration=uo.ErrorMessageTracker=void 0;var hr=ei(),Cd=gL(),RX=AX(),Vn=o4e(),ult=s4e(),flt=a4e(),dlt=l4e(),mlt=bX(),hlt=c4e(),plt=u4e(),glt=f4e(),Alt=d4e(),ylt=h4e(),Clt=g4e(),xlt=A4e(),vlt=y4e(),blt=SX(),Elt=x4e();function kX(e){if(e!==null)return e}o(kX,"null2Undefined");var BX=class{static{o(this,"ErrorMessageTracker")}constructor(){this._messages=Object.create(null)}add(t){let r=this._messages[t];r||(r=0),r++,this._messages[t]=r}sendErrors(t){Object.keys(this._messages).forEach(r=>{t.window.showErrorMessage(r)})}};uo.ErrorMessageTracker=BX;var LL=class{static{o(this,"RemoteConsoleImpl")}constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(hr.MessageType.Error,t)}warn(t){this.send(hr.MessageType.Warning,t)}info(t){this.send(hr.MessageType.Info,t)}log(t){this.send(hr.MessageType.Log,t)}debug(t){this.send(hr.MessageType.Debug,t)}send(t,r){this._rawConnection&&this._rawConnection.sendNotification(hr.LogMessageNotification.type,{type:t,message:r}).catch(()=>{(0,hr.RAL)().console.error("Sending log message failed")})}},DX=class{static{o(this,"_RemoteWindowImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...r){let n={type:hr.MessageType.Error,message:t,actions:r};return this.connection.sendRequest(hr.ShowMessageRequest.type,n).then(kX)}showWarningMessage(t,...r){let n={type:hr.MessageType.Warning,message:t,actions:r};return this.connection.sendRequest(hr.ShowMessageRequest.type,n).then(kX)}showInformationMessage(t,...r){let n={type:hr.MessageType.Info,message:t,actions:r};return this.connection.sendRequest(hr.ShowMessageRequest.type,n).then(kX)}},v4e=(0,hlt.ShowDocumentFeature)((0,Vn.ProgressFeature)(DX)),b4e;(function(e){function t(){return new QL}o(t,"create"),e.create=t})(b4e||(uo.BulkRegistration=b4e={}));var QL=class{static{o(this,"BulkRegistrationImpl")}constructor(){this._registrations=[],this._registered=new Set}add(t,r){let n=Cd.string(t)?t:t.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=RX.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},E4e;(function(e){function t(){return new $w(void 0,[])}o(t,"create"),e.create=t})(E4e||(uo.BulkUnregistration=E4e={}));var $w=class{static{o(this,"BulkUnregistrationImpl")}constructor(t,r){this._connection=t,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let n of this._unregistrations.values())t.push(n);let r={unregisterations:t};this._connection.sendRequest(hr.UnregistrationRequest.type,r).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let r=Cd.string(t)?t:t.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(hr.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},s=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}},ML=class{static{o(this,"RemoteClientImpl")}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,r,n){return t instanceof QL?this.registerMany(t):t instanceof $w?this.registerSingle1(t,r,n):this.registerSingle2(t,r)}registerSingle1(t,r,n){let i=Cd.string(r)?r:r.method,s=RX.generateUuid(),a={registrations:[{id:s,method:i,registerOptions:n||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(hr.RegistrationRequest.type,a).then(l=>(t.add({id:s,method:i}),t),l=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(l)))}registerSingle2(t,r){let n=Cd.string(t)?t:t.method,i=RX.generateUuid(),s={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this.connection.sendRequest(hr.RegistrationRequest.type,s).then(a=>hr.Disposable.create(()=>{this.unregisterSingle(i,n).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),a=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(a)))}unregisterSingle(t,r){let n={unregisterations:[{id:t,method:r}]};return this.connection.sendRequest(hr.UnregistrationRequest.type,n).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let r=t.asRegistrationParams();return this.connection.sendRequest(hr.RegistrationRequest.type,r).then(()=>new $w(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},PX=class{static{o(this,"_RemoteWorkspaceImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function r(i){return i&&!!i.edit}o(r,"isApplyWorkspaceEditParams");let n=r(t)?t:{edit:t};return this.connection.sendRequest(hr.ApplyWorkspaceEditRequest.type,n)}},I4e=(0,plt.FileOperationsFeature)((0,flt.WorkspaceFoldersFeature)((0,ult.ConfigurationFeature)(PX))),OL=class{static{o(this,"TracerImpl")}constructor(){this._trace=hr.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,r){this._trace!==hr.Trace.Off&&this.connection.sendNotification(hr.LogTraceNotification.type,{message:t,verbose:this._trace===hr.Trace.Verbose?r:void 0}).catch(()=>{})}},UL=class{static{o(this,"TelemetryImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(hr.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},qL=class{static{o(this,"_LanguagesImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,Vn.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,Vn.attachPartialResult)(this.connection,r)}};uo._LanguagesImpl=qL;var T4e=(0,Clt.FoldingRangeFeature)((0,Elt.MonikerFeature)((0,vlt.DiagnosticFeature)((0,xlt.InlayHintFeature)((0,ylt.InlineValueFeature)((0,Alt.TypeHierarchyFeature)((0,glt.LinkedEditingRangeFeature)((0,mlt.SemanticTokensFeature)((0,dlt.CallHierarchyFeature)(qL))))))))),WL=class{static{o(this,"_NotebooksImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,Vn.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,Vn.attachPartialResult)(this.connection,r)}};uo._NotebooksImpl=WL;var w4e=(0,blt.NotebookSyncFeature)(WL);function _4e(e,t){return function(r){return t(e(r))}}o(_4e,"combineConsoleFeatures");uo.combineConsoleFeatures=_4e;function S4e(e,t){return function(r){return t(e(r))}}o(S4e,"combineTelemetryFeatures");uo.combineTelemetryFeatures=S4e;function k4e(e,t){return function(r){return t(e(r))}}o(k4e,"combineTracerFeatures");uo.combineTracerFeatures=k4e;function R4e(e,t){return function(r){return t(e(r))}}o(R4e,"combineClientFeatures");uo.combineClientFeatures=R4e;function B4e(e,t){return function(r){return t(e(r))}}o(B4e,"combineWindowFeatures");uo.combineWindowFeatures=B4e;function D4e(e,t){return function(r){return t(e(r))}}o(D4e,"combineWorkspaceFeatures");uo.combineWorkspaceFeatures=D4e;function P4e(e,t){return function(r){return t(e(r))}}o(P4e,"combineLanguagesFeatures");uo.combineLanguagesFeatures=P4e;function F4e(e,t){return function(r){return t(e(r))}}o(F4e,"combineNotebooksFeatures");uo.combineNotebooksFeatures=F4e;function Ilt(e,t){function r(i,s,a){return i&&s?a(i,s):i||s}return o(r,"combine"),{__brand:"features",console:r(e.console,t.console,_4e),tracer:r(e.tracer,t.tracer,k4e),telemetry:r(e.telemetry,t.telemetry,S4e),client:r(e.client,t.client,R4e),window:r(e.window,t.window,B4e),workspace:r(e.workspace,t.workspace,D4e),languages:r(e.languages,t.languages,P4e),notebooks:r(e.notebooks,t.notebooks,F4e)}}o(Ilt,"combineFeatures");uo.combineFeatures=Ilt;function Tlt(e,t,r){let n=r&&r.console?new(r.console(LL)):new LL,i=e(n);n.rawAttach(i);let s=r&&r.tracer?new(r.tracer(OL)):new OL,a=r&&r.telemetry?new(r.telemetry(UL)):new UL,l=r&&r.client?new(r.client(ML)):new ML,c=r&&r.window?new(r.window(v4e)):new v4e,u=r&&r.workspace?new(r.workspace(I4e)):new I4e,f=r&&r.languages?new(r.languages(T4e)):new T4e,m=r&&r.notebooks?new(r.notebooks(w4e)):new w4e,h=[n,s,a,l,c,u,f,m];function p(b){return b instanceof Promise?b:Cd.thenable(b)?new Promise((_,R)=>{b.then(P=>_(P),P=>R(P))}):Promise.resolve(b)}o(p,"asPromise");let A,x,v,E={listen:o(()=>i.listen(),"listen"),sendRequest:o((b,..._)=>i.sendRequest(Cd.string(b)?b:b.method,..._),"sendRequest"),onRequest:o((b,_)=>i.onRequest(b,_),"onRequest"),sendNotification:o((b,_)=>{let R=Cd.string(b)?b:b.method;return i.sendNotification(R,_)},"sendNotification"),onNotification:o((b,_)=>i.onNotification(b,_),"onNotification"),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:o(b=>(x=b,{dispose:o(()=>{x=void 0},"dispose")}),"onInitialize"),onInitialized:o(b=>i.onNotification(hr.InitializedNotification.type,b),"onInitialized"),onShutdown:o(b=>(A=b,{dispose:o(()=>{A=void 0},"dispose")}),"onShutdown"),onExit:o(b=>(v=b,{dispose:o(()=>{v=void 0},"dispose")}),"onExit"),get console(){return n},get telemetry(){return a},get tracer(){return s},get client(){return l},get window(){return c},get workspace(){return u},get languages(){return f},get notebooks(){return m},onDidChangeConfiguration:o(b=>i.onNotification(hr.DidChangeConfigurationNotification.type,b),"onDidChangeConfiguration"),onDidChangeWatchedFiles:o(b=>i.onNotification(hr.DidChangeWatchedFilesNotification.type,b),"onDidChangeWatchedFiles"),__textDocumentSync:void 0,onDidOpenTextDocument:o(b=>i.onNotification(hr.DidOpenTextDocumentNotification.type,b),"onDidOpenTextDocument"),onDidChangeTextDocument:o(b=>i.onNotification(hr.DidChangeTextDocumentNotification.type,b),"onDidChangeTextDocument"),onDidCloseTextDocument:o(b=>i.onNotification(hr.DidCloseTextDocumentNotification.type,b),"onDidCloseTextDocument"),onWillSaveTextDocument:o(b=>i.onNotification(hr.WillSaveTextDocumentNotification.type,b),"onWillSaveTextDocument"),onWillSaveTextDocumentWaitUntil:o(b=>i.onRequest(hr.WillSaveTextDocumentWaitUntilRequest.type,b),"onWillSaveTextDocumentWaitUntil"),onDidSaveTextDocument:o(b=>i.onNotification(hr.DidSaveTextDocumentNotification.type,b),"onDidSaveTextDocument"),sendDiagnostics:o(b=>i.sendNotification(hr.PublishDiagnosticsNotification.type,b),"sendDiagnostics"),onHover:o(b=>i.onRequest(hr.HoverRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),void 0)),"onHover"),onCompletion:o(b=>i.onRequest(hr.CompletionRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),(0,Vn.attachPartialResult)(i,_))),"onCompletion"),onCompletionResolve:o(b=>i.onRequest(hr.CompletionResolveRequest.type,b),"onCompletionResolve"),onSignatureHelp:o(b=>i.onRequest(hr.SignatureHelpRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),void 0)),"onSignatureHelp"),onDeclaration:o(b=>i.onRequest(hr.DeclarationRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),(0,Vn.attachPartialResult)(i,_))),"onDeclaration"),onDefinition:o(b=>i.onRequest(hr.DefinitionRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),(0,Vn.attachPartialResult)(i,_))),"onDefinition"),onTypeDefinition:o(b=>i.onRequest(hr.TypeDefinitionRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),(0,Vn.attachPartialResult)(i,_))),"onTypeDefinition"),onImplementation:o(b=>i.onRequest(hr.ImplementationRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),(0,Vn.attachPartialResult)(i,_))),"onImplementation"),onReferences:o(b=>i.onRequest(hr.ReferencesRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),(0,Vn.attachPartialResult)(i,_))),"onReferences"),onDocumentHighlight:o(b=>i.onRequest(hr.DocumentHighlightRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),(0,Vn.attachPartialResult)(i,_))),"onDocumentHighlight"),onDocumentSymbol:o(b=>i.onRequest(hr.DocumentSymbolRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),(0,Vn.attachPartialResult)(i,_))),"onDocumentSymbol"),onWorkspaceSymbol:o(b=>i.onRequest(hr.WorkspaceSymbolRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),(0,Vn.attachPartialResult)(i,_))),"onWorkspaceSymbol"),onWorkspaceSymbolResolve:o(b=>i.onRequest(hr.WorkspaceSymbolResolveRequest.type,b),"onWorkspaceSymbolResolve"),onCodeAction:o(b=>i.onRequest(hr.CodeActionRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),(0,Vn.attachPartialResult)(i,_))),"onCodeAction"),onCodeActionResolve:o(b=>i.onRequest(hr.CodeActionResolveRequest.type,(_,R)=>b(_,R)),"onCodeActionResolve"),onCodeLens:o(b=>i.onRequest(hr.CodeLensRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),(0,Vn.attachPartialResult)(i,_))),"onCodeLens"),onCodeLensResolve:o(b=>i.onRequest(hr.CodeLensResolveRequest.type,(_,R)=>b(_,R)),"onCodeLensResolve"),onDocumentFormatting:o(b=>i.onRequest(hr.DocumentFormattingRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),void 0)),"onDocumentFormatting"),onDocumentRangeFormatting:o(b=>i.onRequest(hr.DocumentRangeFormattingRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),void 0)),"onDocumentRangeFormatting"),onDocumentOnTypeFormatting:o(b=>i.onRequest(hr.DocumentOnTypeFormattingRequest.type,(_,R)=>b(_,R)),"onDocumentOnTypeFormatting"),onRenameRequest:o(b=>i.onRequest(hr.RenameRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),void 0)),"onRenameRequest"),onPrepareRename:o(b=>i.onRequest(hr.PrepareRenameRequest.type,(_,R)=>b(_,R)),"onPrepareRename"),onDocumentLinks:o(b=>i.onRequest(hr.DocumentLinkRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),(0,Vn.attachPartialResult)(i,_))),"onDocumentLinks"),onDocumentLinkResolve:o(b=>i.onRequest(hr.DocumentLinkResolveRequest.type,(_,R)=>b(_,R)),"onDocumentLinkResolve"),onDocumentColor:o(b=>i.onRequest(hr.DocumentColorRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),(0,Vn.attachPartialResult)(i,_))),"onDocumentColor"),onColorPresentation:o(b=>i.onRequest(hr.ColorPresentationRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),(0,Vn.attachPartialResult)(i,_))),"onColorPresentation"),onFoldingRanges:o(b=>i.onRequest(hr.FoldingRangeRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),(0,Vn.attachPartialResult)(i,_))),"onFoldingRanges"),onSelectionRanges:o(b=>i.onRequest(hr.SelectionRangeRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),(0,Vn.attachPartialResult)(i,_))),"onSelectionRanges"),onExecuteCommand:o(b=>i.onRequest(hr.ExecuteCommandRequest.type,(_,R)=>b(_,R,(0,Vn.attachWorkDone)(i,_),void 0)),"onExecuteCommand"),dispose:o(()=>i.dispose(),"dispose")};for(let b of h)b.attach(E);return i.onRequest(hr.InitializeRequest.type,b=>{t.initialize(b),Cd.string(b.trace)&&(s.trace=hr.Trace.fromString(b.trace));for(let _ of h)_.initialize(b.capabilities);if(x){let _=x(b,new hr.CancellationTokenSource().token,(0,Vn.attachWorkDone)(i,b),void 0);return p(_).then(R=>{if(R instanceof hr.ResponseError)return R;let P=R;P||(P={capabilities:{}});let F=P.capabilities;F||(F={},P.capabilities=F),F.textDocumentSync===void 0||F.textDocumentSync===null?F.textDocumentSync=Cd.number(E.__textDocumentSync)?E.__textDocumentSync:hr.TextDocumentSyncKind.None:!Cd.number(F.textDocumentSync)&&!Cd.number(F.textDocumentSync.change)&&(F.textDocumentSync.change=Cd.number(E.__textDocumentSync)?E.__textDocumentSync:hr.TextDocumentSyncKind.None);for(let W of h)W.fillServerCapabilities(F);return P})}else{let _={capabilities:{textDocumentSync:hr.TextDocumentSyncKind.None}};for(let R of h)R.fillServerCapabilities(_.capabilities);return _}}),i.onRequest(hr.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,A)return A(new hr.CancellationTokenSource().token)}),i.onNotification(hr.ExitNotification.type,()=>{try{v&&v()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(hr.SetTraceNotification.type,b=>{s.trace=hr.Trace.fromString(b.value)}),E}o(Tlt,"createConnection");uo.createConnection=Tlt});var N4e=H(J0=>{"use strict";d();Object.defineProperty(J0,"__esModule",{value:!0});J0.resolveModulePath=J0.FileSystem=J0.resolveGlobalYarnPath=J0.resolveGlobalNodePath=J0.resolve=J0.uriToFilePath=void 0;var wlt=require("url"),Zm=require("path"),NX=require("fs"),OX=require("child_process");function _lt(e){let t=wlt.parse(e);if(t.protocol!=="file:"||!t.path)return;let r=t.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let s=r[0],a=r[1];s.length===0&&a.length>1&&a[1]===":"&&r.shift()}return Zm.normalize(r.join("/"))}o(_lt,"uriToFilePath");J0.uriToFilePath=_lt;function LX(){return process.platform==="win32"}o(LX,"isWindows");function GL(e,t,r,n){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,l)=>{let c=process.env,u=Object.create(null);Object.keys(c).forEach(f=>u[f]=c[f]),t&&NX.existsSync(t)&&(u[i]?u[i]=t+Zm.delimiter+u[i]:u[i]=t,n&&n(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let f=(0,OX.fork)("",[],{cwd:r,env:u,execArgv:["-e",s]});if(f.pid===void 0){l(new Error(`Starting process to resolve node module  ${e} failed`));return}f.on("error",h=>{l(h)}),f.on("message",h=>{h.c==="r"&&(f.send({c:"e"}),h.s?a(h.r):l(new Error(`Failed to resolve module: ${e}`)))});let m={c:"rs",a:e};f.send(m)}catch(f){l(f)}})}o(GL,"resolve");J0.resolve=GL;function QX(e){let t="npm",r=Object.create(null);Object.keys(process.env).forEach(s=>r[s]=process.env[s]),r.NO_UPDATE_NOTIFIER="true";let n={encoding:"utf8",env:r};LX()&&(t="npm.cmd",n.shell=!0);let i=o(()=>{},"handler");try{process.on("SIGPIPE",i);let s=(0,OX.spawnSync)(t,["config","get","prefix"],n).stdout;if(!s){e&&e("'npm config get prefix' didn't return a value.");return}let a=s.trim();return e&&e(`'npm config get prefix' value is: ${a}`),a.length>0?LX()?Zm.join(a,"node_modules"):Zm.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}o(QX,"resolveGlobalNodePath");J0.resolveGlobalNodePath=QX;function Slt(e){let t="yarn",r={encoding:"utf8"};LX()&&(t="yarn.cmd",r.shell=!0);let n=o(()=>{},"handler");try{process.on("SIGPIPE",n);let i=(0,OX.spawnSync)(t,["global","dir","--json"],r),s=i.stdout;if(!s){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let a=s.trim().split(/\r?\n/);for(let l of a)try{let c=JSON.parse(l);if(c.type==="log")return Zm.join(c.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",n)}}o(Slt,"resolveGlobalYarnPath");J0.resolveGlobalYarnPath=Slt;var MX;(function(e){let t;function r(){return t!==void 0||(process.platform==="win32"?t=!1:t=!NX.existsSync(__filename.toUpperCase())||!NX.existsSync(__filename.toLowerCase())),t}o(r,"isCaseSensitive"),e.isCaseSensitive=r;function n(i,s){return r()?Zm.normalize(s).indexOf(Zm.normalize(i))===0:Zm.normalize(s).toLowerCase().indexOf(Zm.normalize(i).toLowerCase())===0}o(n,"isParent"),e.isParent=n})(MX||(J0.FileSystem=MX={}));function klt(e,t,r,n){return r?(Zm.isAbsolute(r)||(r=Zm.join(e,r)),GL(t,r,r,n).then(i=>MX.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>GL(t,QX(n),e,n))):GL(t,QX(n),e,n)}o(klt,"resolveModulePath");J0.resolveModulePath=klt});var UX=H((VCr,L4e)=>{"use strict";d();L4e.exports=ei()});var Q4e=H(HL=>{"use strict";d();Object.defineProperty(HL,"__esModule",{value:!0});HL.InlineCompletionFeature=void 0;var Rlt=ei(),Blt=o(e=>class extends e{get inlineCompletion(){return{on:o(t=>this.connection.onRequest(Rlt.InlineCompletionRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on")}}},"InlineCompletionFeature");HL.InlineCompletionFeature=Blt});var U4e=H(Fc=>{"use strict";d();var Dlt=Fc&&Fc.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),O4e=Fc&&Fc.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Dlt(t,e,r)};Object.defineProperty(Fc,"__esModule",{value:!0});Fc.ProposedFeatures=Fc.NotebookDocuments=Fc.TextDocuments=Fc.SemanticTokensBuilder=void 0;var Plt=bX();Object.defineProperty(Fc,"SemanticTokensBuilder",{enumerable:!0,get:o(function(){return Plt.SemanticTokensBuilder},"get")});var Flt=Q4e();O4e(ei(),Fc);var Nlt=wX();Object.defineProperty(Fc,"TextDocuments",{enumerable:!0,get:o(function(){return Nlt.TextDocuments},"get")});var Llt=SX();Object.defineProperty(Fc,"NotebookDocuments",{enumerable:!0,get:o(function(){return Llt.NotebookDocuments},"get")});O4e(FX(),Fc);var M4e;(function(e){e.all={__brand:"features",languages:Flt.InlineCompletionFeature}})(M4e||(Fc.ProposedFeatures=M4e={}))});var nc=H(xd=>{"use strict";d();var Qlt=xd&&xd.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),H4e=xd&&xd.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Qlt(t,e,r)};Object.defineProperty(xd,"__esModule",{value:!0});xd.createConnection=xd.Files=void 0;var q4e=require("node:util"),qX=gL(),Mlt=FX(),zw=N4e(),k4=UX();H4e(UX(),xd);H4e(U4e(),xd);var W4e;(function(e){e.uriToFilePath=zw.uriToFilePath,e.resolveGlobalNodePath=zw.resolveGlobalNodePath,e.resolveGlobalYarnPath=zw.resolveGlobalYarnPath,e.resolve=zw.resolve,e.resolveModulePath=zw.resolveModulePath})(W4e||(xd.Files=W4e={}));var G4e;function jL(){if(G4e!==void 0)try{G4e.end()}catch{}}o(jL,"endProtocolConnection");var RI=!1,j4e;function Olt(){let e="--clientProcessId";function t(r){try{let n=parseInt(r);isNaN(n)||(j4e=setInterval(()=>{try{process.kill(n,0)}catch{jL(),process.exit(RI?0:1)}},3e3))}catch{}}o(t,"runTimer");for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===e&&r+1<process.argv.length){t(process.argv[r+1]);return}else{let i=n.split("=");i[0]===e&&t(i[1])}}}o(Olt,"setupExitTimer");Olt();var Ult={initialize:o(e=>{let t=e.processId;qX.number(t)&&j4e===void 0&&setInterval(()=>{try{process.kill(t,0)}catch{process.exit(RI?0:1)}},3e3)},"initialize"),get shutdownReceived(){return RI},set shutdownReceived(e){RI=e},exit:o(e=>{jL(),process.exit(e)},"exit")};function qlt(e,t,r,n){let i,s,a,l;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),k4.ConnectionStrategy.is(e)||k4.ConnectionOptions.is(e)?l=e:(s=e,a=t,l=r),Wlt(s,a,l,i)}o(qlt,"createConnection");xd.createConnection=qlt;function Wlt(e,t,r,n){let i=!1;if(!e&&!t&&process.argv.length>2){let c,u,f=process.argv.slice(2);for(let m=0;m<f.length;m++){let h=f[m];if(h==="--node-ipc"){e=new k4.IPCMessageReader(process),t=new k4.IPCMessageWriter(process);break}else if(h==="--stdio"){i=!0,e=process.stdin,t=process.stdout;break}else if(h==="--socket"){c=parseInt(f[m+1]);break}else if(h==="--pipe"){u=f[m+1];break}else{var s=h.split("=");if(s[0]==="--socket"){c=parseInt(s[1]);break}else if(s[0]==="--pipe"){u=s[1];break}}}if(c){let m=(0,k4.createServerSocketTransport)(c);e=m[0],t=m[1]}else if(u){let m=(0,k4.createServerPipeTransport)(u);e=m[0],t=m[1]}}var a="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+a);if(!t)throw new Error("Connection output stream is not set. "+a);if(qX.func(e.read)&&qX.func(e.on)){let c=e;c.on("end",()=>{jL(),process.exit(RI?0:1)}),c.on("close",()=>{jL(),process.exit(RI?0:1)})}let l=o(c=>{let u=(0,k4.createProtocolConnection)(e,t,c,r);return i&&Glt(c),u},"connectionFactory");return(0,Mlt.createConnection)(l,Ult,n)}o(Wlt,"_createConnection");function Glt(e){function t(n){return n.map(i=>typeof i=="string"?i:(0,q4e.inspect)(i)).join(" ")}o(t,"serialize");let r=new Map;console.assert=o(function(i,...s){if(!i)if(s.length===0)e.error("Assertion failed");else{let[a,...l]=s;e.error(`Assertion failed: ${a} ${t(l)}`)}},"assert"),console.count=o(function(i="default"){let s=String(i),a=r.get(s)??0;a+=1,r.set(s,a),e.log(`${s}: ${s}`)},"count"),console.countReset=o(function(i){i===void 0?r.clear():r.delete(String(i))},"countReset"),console.debug=o(function(...i){e.log(t(i))},"debug"),console.dir=o(function(i,s){e.log((0,q4e.inspect)(i,s))},"dir"),console.log=o(function(...i){e.log(t(i))},"log"),console.error=o(function(...i){e.error(t(i))},"error"),console.trace=o(function(...i){let s=new Error().stack.replace(/(.+\n){2}/,""),a="Trace";i.length!==0&&(a+=`: ${t(i)}`),e.log(`${a}
${s}`)},"trace"),console.warn=o(function(...i){e.warn(t(i))},"warn")}o(Glt,"patchConsole")});var Xm=H((i3r,V4e)=>{"use strict";d();V4e.exports=nc()});var kbe=H((sIr,Sbe)=>{"use strict";d();Sbe.exports=wbe;function wbe(e,t,r){e instanceof RegExp&&(e=Tbe(e,r)),t instanceof RegExp&&(t=Tbe(t,r));var n=_be(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}o(wbe,"balanced");function Tbe(e,t){var r=t.match(e);return r?r[0]:null}o(Tbe,"maybeMatch");wbe.range=_be;function _be(e,t,r){var n,i,s,a,l,c=r.indexOf(e),u=r.indexOf(t,c+1),f=c;if(c>=0&&u>0){if(e===t)return[c,u];for(n=[],s=r.length;f>=0&&!l;)f==c?(n.push(f),c=r.indexOf(e,f+1)):n.length==1?l=[n.pop(),u]:(i=n.pop(),i<s&&(s=i,a=u),u=r.indexOf(t,f+1)),f=c<u&&c>=0?c:u;n.length&&(l=[s,a])}return l}o(_be,"range")});var Qbe=H((cIr,Lbe)=>{d();var Rbe=kbe();Lbe.exports=qct;var Bbe="\0SLASH"+Math.random()+"\0",Dbe="\0OPEN"+Math.random()+"\0",qee="\0CLOSE"+Math.random()+"\0",Pbe="\0COMMA"+Math.random()+"\0",Fbe="\0PERIOD"+Math.random()+"\0";function Uee(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}o(Uee,"numeric");function Oct(e){return e.split("\\\\").join(Bbe).split("\\{").join(Dbe).split("\\}").join(qee).split("\\,").join(Pbe).split("\\.").join(Fbe)}o(Oct,"escapeBraces");function Uct(e){return e.split(Bbe).join("\\").split(Dbe).join("{").split(qee).join("}").split(Pbe).join(",").split(Fbe).join(".")}o(Uct,"unescapeBraces");function Nbe(e){if(!e)return[""];var t=[],r=Rbe("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var l=Nbe(s);return s.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}o(Nbe,"parseCommaParts");function qct(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),c_(Oct(e),!0).map(Uct)):[]}o(qct,"expandTop");function Wct(e){return"{"+e+"}"}o(Wct,"embrace");function Gct(e){return/^-?0\d/.test(e)}o(Gct,"isPadded");function Hct(e,t){return e<=t}o(Hct,"lte");function jct(e,t){return e>=t}o(jct,"gte");function c_(e,t){var r=[],n=Rbe("{","}",e);if(!n)return[e];var i=n.pre,s=n.post.length?c_(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<s.length;a++){var l=i+"{"+n.body+"}"+s[a];r.push(l)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),f=c||u,m=n.body.indexOf(",")>=0;if(!f&&!m)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+qee+n.post,c_(e)):[e];var h;if(f)h=n.body.split(/\.\./);else if(h=Nbe(n.body),h.length===1&&(h=c_(h[0],!1).map(Wct),h.length===1))return s.map(function(re){return n.pre+h[0]+re});var p;if(f){var A=Uee(h[0]),x=Uee(h[1]),v=Math.max(h[0].length,h[1].length),E=h.length==3?Math.abs(Uee(h[2])):1,b=Hct,_=x<A;_&&(E*=-1,b=jct);var R=h.some(Gct);p=[];for(var P=A;b(P,x);P+=E){var F;if(u)F=String.fromCharCode(P),F==="\\"&&(F="");else if(F=String(P),R){var W=v-F.length;if(W>0){var se=new Array(W+1).join("0");P<0?F="-"+se+F.slice(1):F=se+F}}p.push(F)}}else{p=[];for(var de=0;de<h.length;de++)p.push.apply(p,c_(h[de],!1))}for(var de=0;de<p.length;de++)for(var a=0;a<s.length;a++){var l=i+p[de]+s[a];(!t||f||l)&&r.push(l)}}return r}o(c_,"expand")});var Ns=H((TOr,z8e)=>{d();z8e.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}});var yo=H((_Or,Y8e)=>{"use strict";d();var js=class extends Error{static{o(this,"UndiciError")}constructor(t){super(t),this.name="UndiciError",this.code="UND_ERR"}},pre=class extends js{static{o(this,"ConnectTimeoutError")}constructor(t){super(t),this.name="ConnectTimeoutError",this.message=t||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}},gre=class extends js{static{o(this,"HeadersTimeoutError")}constructor(t){super(t),this.name="HeadersTimeoutError",this.message=t||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}},Are=class extends js{static{o(this,"HeadersOverflowError")}constructor(t){super(t),this.name="HeadersOverflowError",this.message=t||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}},yre=class extends js{static{o(this,"BodyTimeoutError")}constructor(t){super(t),this.name="BodyTimeoutError",this.message=t||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}},Cre=class extends js{static{o(this,"ResponseStatusCodeError")}constructor(t,r,n,i){super(t),this.name="ResponseStatusCodeError",this.message=t||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=i,this.status=r,this.statusCode=r,this.headers=n}},xre=class extends js{static{o(this,"InvalidArgumentError")}constructor(t){super(t),this.name="InvalidArgumentError",this.message=t||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}},vre=class extends js{static{o(this,"InvalidReturnValueError")}constructor(t){super(t),this.name="InvalidReturnValueError",this.message=t||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}},fO=class extends js{static{o(this,"AbortError")}constructor(t){super(t),this.name="AbortError",this.message=t||"The operation was aborted"}},bre=class extends fO{static{o(this,"RequestAbortedError")}constructor(t){super(t),this.name="AbortError",this.message=t||"Request aborted",this.code="UND_ERR_ABORTED"}},Ere=class extends js{static{o(this,"InformationalError")}constructor(t){super(t),this.name="InformationalError",this.message=t||"Request information",this.code="UND_ERR_INFO"}},Ire=class extends js{static{o(this,"RequestContentLengthMismatchError")}constructor(t){super(t),this.name="RequestContentLengthMismatchError",this.message=t||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}},Tre=class extends js{static{o(this,"ResponseContentLengthMismatchError")}constructor(t){super(t),this.name="ResponseContentLengthMismatchError",this.message=t||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}},wre=class extends js{static{o(this,"ClientDestroyedError")}constructor(t){super(t),this.name="ClientDestroyedError",this.message=t||"The client is destroyed",this.code="UND_ERR_DESTROYED"}},_re=class extends js{static{o(this,"ClientClosedError")}constructor(t){super(t),this.name="ClientClosedError",this.message=t||"The client is closed",this.code="UND_ERR_CLOSED"}},Sre=class extends js{static{o(this,"SocketError")}constructor(t,r){super(t),this.name="SocketError",this.message=t||"Socket error",this.code="UND_ERR_SOCKET",this.socket=r}},kre=class extends js{static{o(this,"NotSupportedError")}constructor(t){super(t),this.name="NotSupportedError",this.message=t||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}},Rre=class extends js{static{o(this,"BalancedPoolMissingUpstreamError")}constructor(t){super(t),this.name="MissingUpstreamError",this.message=t||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}},Bre=class extends Error{static{o(this,"HTTPParserError")}constructor(t,r,n){super(t),this.name="HTTPParserError",this.code=r?`HPE_${r}`:void 0,this.data=n?n.toString():void 0}},Dre=class extends js{static{o(this,"ResponseExceededMaxSizeError")}constructor(t){super(t),this.name="ResponseExceededMaxSizeError",this.message=t||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}},Pre=class extends js{static{o(this,"RequestRetryError")}constructor(t,r,{headers:n,data:i}){super(t),this.name="RequestRetryError",this.message=t||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=r,this.data=i,this.headers=n}},Fre=class extends js{static{o(this,"ResponseError")}constructor(t,r,{headers:n,data:i}){super(t),this.name="ResponseError",this.message=t||"Response error",this.code="UND_ERR_RESPONSE",this.statusCode=r,this.data=i,this.headers=n}},Nre=class extends js{static{o(this,"SecureProxyConnectionError")}constructor(t,r,n){super(r,{cause:t,...n??{}}),this.name="SecureProxyConnectionError",this.message=r||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=t}};Y8e.exports={AbortError:fO,HTTPParserError:Bre,UndiciError:js,HeadersTimeoutError:gre,HeadersOverflowError:Are,BodyTimeoutError:yre,RequestContentLengthMismatchError:Ire,ConnectTimeoutError:pre,ResponseStatusCodeError:Cre,InvalidArgumentError:xre,InvalidReturnValueError:vre,RequestAbortedError:bre,ClientDestroyedError:wre,ClientClosedError:_re,InformationalError:Ere,SocketError:Sre,NotSupportedError:kre,ResponseContentLengthMismatchError:Tre,BalancedPoolMissingUpstreamError:Rre,ResponseExceededMaxSizeError:Dre,RequestRetryError:Pre,ResponseError:Fre,SecureProxyConnectionError:Nre}});var mO=H((ROr,K8e)=>{"use strict";d();var dO={},Lre=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let e=0;e<Lre.length;++e){let t=Lre[e],r=t.toLowerCase();dO[t]=dO[r]=r}Object.setPrototypeOf(dO,null);K8e.exports={wellknownHeaderNames:Lre,headerNameLowerCasedRecord:dO}});var e6e=H((DOr,X8e)=>{"use strict";d();var{wellknownHeaderNames:J8e,headerNameLowerCasedRecord:Ddt}=mO(),Qre=class e{static{o(this,"TstNode")}value=null;left=null;middle=null;right=null;code;constructor(t,r,n){if(n===void 0||n>=t.length)throw new TypeError("Unreachable");if((this.code=t.charCodeAt(n))>127)throw new TypeError("key must be ascii string");t.length!==++n?this.middle=new e(t,r,n):this.value=r}add(t,r){let n=t.length;if(n===0)throw new TypeError("Unreachable");let i=0,s=this;for(;;){let a=t.charCodeAt(i);if(a>127)throw new TypeError("key must be ascii string");if(s.code===a)if(n===++i){s.value=r;break}else if(s.middle!==null)s=s.middle;else{s.middle=new e(t,r,i);break}else if(s.code<a)if(s.left!==null)s=s.left;else{s.left=new e(t,r,i);break}else if(s.right!==null)s=s.right;else{s.right=new e(t,r,i);break}}}search(t){let r=t.length,n=0,i=this;for(;i!==null&&n<r;){let s=t[n];for(s<=90&&s>=65&&(s|=32);i!==null;){if(s===i.code){if(r===++n)return i;i=i.middle;break}i=i.code<s?i.left:i.right}}return null}},hO=class{static{o(this,"TernarySearchTree")}node=null;insert(t,r){this.node===null?this.node=new Qre(t,r,0):this.node.add(t,r)}lookup(t){return this.node?.search(t)?.value??null}},Z8e=new hO;for(let e=0;e<J8e.length;++e){let t=Ddt[J8e[e]];Z8e.insert(t,t)}X8e.exports={TernarySearchTree:hO,tree:Z8e}});var Ci=H((NOr,g6e)=>{"use strict";d();var P_=require("node:assert"),{kDestroyed:r6e,kBodyUsed:x8,kListeners:Mre,kBody:t6e}=Ns(),{IncomingMessage:Pdt}=require("node:http"),AO=require("node:stream"),Fdt=require("node:net"),{Blob:Ndt}=require("node:buffer"),Ldt=require("node:util"),{stringify:Qdt}=require("node:querystring"),{EventEmitter:Mdt}=require("node:events"),{InvalidArgumentError:kl}=yo(),{headerNameLowerCasedRecord:Odt}=mO(),{tree:n6e}=e6e(),[Udt,qdt]=process.versions.node.split(".").map(e=>Number(e)),gO=class{static{o(this,"BodyAsyncIterable")}constructor(t){this[t6e]=t,this[x8]=!1}async*[Symbol.asyncIterator](){P_(!this[x8],"disturbed"),this[x8]=!0,yield*this[t6e]}};function Wdt(e){return yO(e)?(l6e(e)===0&&e.on("data",function(){P_(!1)}),typeof e.readableDidRead!="boolean"&&(e[x8]=!1,Mdt.prototype.on.call(e,"data",function(){this[x8]=!0})),e):e&&typeof e.pipeTo=="function"?new gO(e):e&&typeof e!="string"&&!ArrayBuffer.isView(e)&&a6e(e)?new gO(e):e}o(Wdt,"wrapRequestBody");function Gdt(){}o(Gdt,"nop");function yO(e){return e&&typeof e=="object"&&typeof e.pipe=="function"&&typeof e.on=="function"}o(yO,"isStream");function i6e(e){if(e===null)return!1;if(e instanceof Ndt)return!0;if(typeof e!="object")return!1;{let t=e[Symbol.toStringTag];return(t==="Blob"||t==="File")&&("stream"in e&&typeof e.stream=="function"||"arrayBuffer"in e&&typeof e.arrayBuffer=="function")}}o(i6e,"isBlobLike");function Hdt(e,t){if(e.includes("?")||e.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let r=Qdt(t);return r&&(e+="?"+r),e}o(Hdt,"buildURL");function o6e(e){let t=parseInt(e,10);return t===Number(e)&&t>=0&&t<=65535}o(o6e,"isValidPort");function pO(e){return e!=null&&e[0]==="h"&&e[1]==="t"&&e[2]==="t"&&e[3]==="p"&&(e[4]===":"||e[4]==="s"&&e[5]===":")}o(pO,"isHttpOrHttpsPrefixed");function s6e(e){if(typeof e=="string"){if(e=new URL(e),!pO(e.origin||e.protocol))throw new kl("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}if(!e||typeof e!="object")throw new kl("Invalid URL: The URL argument must be a non-null object.");if(!(e instanceof URL)){if(e.port!=null&&e.port!==""&&o6e(e.port)===!1)throw new kl("Invalid URL: port must be a valid integer or a string representation of an integer.");if(e.path!=null&&typeof e.path!="string")throw new kl("Invalid URL path: the path must be a string or null/undefined.");if(e.pathname!=null&&typeof e.pathname!="string")throw new kl("Invalid URL pathname: the pathname must be a string or null/undefined.");if(e.hostname!=null&&typeof e.hostname!="string")throw new kl("Invalid URL hostname: the hostname must be a string or null/undefined.");if(e.origin!=null&&typeof e.origin!="string")throw new kl("Invalid URL origin: the origin must be a string or null/undefined.");if(!pO(e.origin||e.protocol))throw new kl("Invalid URL protocol: the URL must start with `http:` or `https:`.");let t=e.port!=null?e.port:e.protocol==="https:"?443:80,r=e.origin!=null?e.origin:`${e.protocol||""}//${e.hostname||""}:${t}`,n=e.path!=null?e.path:`${e.pathname||""}${e.search||""}`;return r[r.length-1]==="/"&&(r=r.slice(0,r.length-1)),n&&n[0]!=="/"&&(n=`/${n}`),new URL(`${r}${n}`)}if(!pO(e.origin||e.protocol))throw new kl("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}o(s6e,"parseURL");function jdt(e){if(e=s6e(e),e.pathname!=="/"||e.search||e.hash)throw new kl("invalid url");return e}o(jdt,"parseOrigin");function Vdt(e){if(e[0]==="["){let r=e.indexOf("]");return P_(r!==-1),e.substring(1,r)}let t=e.indexOf(":");return t===-1?e:e.substring(0,t)}o(Vdt,"getHostname");function $dt(e){if(!e)return null;P_(typeof e=="string");let t=Vdt(e);return Fdt.isIP(t)?"":t}o($dt,"getServerName");function zdt(e){return JSON.parse(JSON.stringify(e))}o(zdt,"deepClone");function Ydt(e){return e!=null&&typeof e[Symbol.asyncIterator]=="function"}o(Ydt,"isAsyncIterable");function a6e(e){return e!=null&&(typeof e[Symbol.iterator]=="function"||typeof e[Symbol.asyncIterator]=="function")}o(a6e,"isIterable");function l6e(e){if(e==null)return 0;if(yO(e)){let t=e._readableState;return t&&t.objectMode===!1&&t.ended===!0&&Number.isFinite(t.length)?t.length:null}else{if(i6e(e))return e.size!=null?e.size:null;if(f6e(e))return e.byteLength}return null}o(l6e,"bodyLength");function c6e(e){return e&&!!(e.destroyed||e[r6e]||AO.isDestroyed?.(e))}o(c6e,"isDestroyed");function Kdt(e,t){e==null||!yO(e)||c6e(e)||(typeof e.destroy=="function"?(Object.getPrototypeOf(e).constructor===Pdt&&(e.socket=null),e.destroy(t)):t&&queueMicrotask(()=>{e.emit("error",t)}),e.destroyed!==!0&&(e[r6e]=!0))}o(Kdt,"destroy");var Jdt=/timeout=(\d+)/;function Zdt(e){let t=e.toString().match(Jdt);return t?parseInt(t[1],10)*1e3:null}o(Zdt,"parseKeepAliveTimeout");function u6e(e){return typeof e=="string"?Odt[e]??e.toLowerCase():n6e.lookup(e)??e.toString("latin1").toLowerCase()}o(u6e,"headerNameToString");function Xdt(e){return n6e.lookup(e)??e.toString("latin1").toLowerCase()}o(Xdt,"bufferToLowerCasedHeaderName");function emt(e,t){t===void 0&&(t={});for(let r=0;r<e.length;r+=2){let n=u6e(e[r]),i=t[n];if(i)typeof i=="string"&&(i=[i],t[n]=i),i.push(e[r+1].toString("utf8"));else{let s=e[r+1];typeof s=="string"?t[n]=s:t[n]=Array.isArray(s)?s.map(a=>a.toString("utf8")):s.toString("utf8")}}return"content-length"in t&&"content-disposition"in t&&(t["content-disposition"]=Buffer.from(t["content-disposition"]).toString("latin1")),t}o(emt,"parseHeaders");function tmt(e){let t=e.length,r=new Array(t),n=!1,i=-1,s,a,l=0;for(let c=0;c<e.length;c+=2)s=e[c],a=e[c+1],typeof s!="string"&&(s=s.toString()),typeof a!="string"&&(a=a.toString("utf8")),l=s.length,l===14&&s[7]==="-"&&(s==="content-length"||s.toLowerCase()==="content-length")?n=!0:l===19&&s[7]==="-"&&(s==="content-disposition"||s.toLowerCase()==="content-disposition")&&(i=c+1),r[c]=s,r[c+1]=a;return n&&i!==-1&&(r[i]=Buffer.from(r[i]).toString("latin1")),r}o(tmt,"parseRawHeaders");function f6e(e){return e instanceof Uint8Array||Buffer.isBuffer(e)}o(f6e,"isBuffer");function rmt(e,t,r){if(!e||typeof e!="object")throw new kl("handler must be an object");if(typeof e.onConnect!="function")throw new kl("invalid onConnect method");if(typeof e.onError!="function")throw new kl("invalid onError method");if(typeof e.onBodySent!="function"&&e.onBodySent!==void 0)throw new kl("invalid onBodySent method");if(r||t==="CONNECT"){if(typeof e.onUpgrade!="function")throw new kl("invalid onUpgrade method")}else{if(typeof e.onHeaders!="function")throw new kl("invalid onHeaders method");if(typeof e.onData!="function")throw new kl("invalid onData method");if(typeof e.onComplete!="function")throw new kl("invalid onComplete method")}}o(rmt,"validateHandler");function nmt(e){return!!(e&&(AO.isDisturbed(e)||e[x8]))}o(nmt,"isDisturbed");function imt(e){return!!(e&&AO.isErrored(e))}o(imt,"isErrored");function omt(e){return!!(e&&AO.isReadable(e))}o(omt,"isReadable");function smt(e){return{localAddress:e.localAddress,localPort:e.localPort,remoteAddress:e.remoteAddress,remotePort:e.remotePort,remoteFamily:e.remoteFamily,timeout:e.timeout,bytesWritten:e.bytesWritten,bytesRead:e.bytesRead}}o(smt,"getSocketInfo");function amt(e){let t;return new ReadableStream({async start(){t=e[Symbol.asyncIterator]()},async pull(r){let{done:n,value:i}=await t.next();if(n)queueMicrotask(()=>{r.close(),r.byobRequest?.respond(0)});else{let s=Buffer.isBuffer(i)?i:Buffer.from(i);s.byteLength&&r.enqueue(new Uint8Array(s))}return r.desiredSize>0},async cancel(r){await t.return()},type:"bytes"})}o(amt,"ReadableStreamFrom");function lmt(e){return e&&typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&e[Symbol.toStringTag]==="FormData"}o(lmt,"isFormDataLike");function cmt(e,t){return"addEventListener"in e?(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)):(e.addListener("abort",t),()=>e.removeListener("abort",t))}o(cmt,"addAbortListener");var umt=typeof String.prototype.toWellFormed=="function",fmt=typeof String.prototype.isWellFormed=="function";function d6e(e){return umt?`${e}`.toWellFormed():Ldt.toUSVString(e)}o(d6e,"toUSVString");function dmt(e){return fmt?`${e}`.isWellFormed():d6e(e)===`${e}`}o(dmt,"isUSVString");function m6e(e){switch(e){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return e>=33&&e<=126}}o(m6e,"isTokenCharCode");function mmt(e){if(e.length===0)return!1;for(let t=0;t<e.length;++t)if(!m6e(e.charCodeAt(t)))return!1;return!0}o(mmt,"isValidHTTPToken");var hmt=/[^\t\x20-\x7e\x80-\xff]/;function pmt(e){return!hmt.test(e)}o(pmt,"isValidHeaderValue");function gmt(e){if(e==null||e==="")return{start:0,end:null,size:null};let t=e?e.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return t?{start:parseInt(t[1]),end:t[2]?parseInt(t[2]):null,size:t[3]?parseInt(t[3]):null}:null}o(gmt,"parseRangeHeader");function Amt(e,t,r){return(e[Mre]??=[]).push([t,r]),e.on(t,r),e}o(Amt,"addListener");function ymt(e){for(let[t,r]of e[Mre]??[])e.removeListener(t,r);e[Mre]=null}o(ymt,"removeAllListeners");function Cmt(e,t,r){try{t.onError(r),P_(t.aborted)}catch(n){e.emit("error",n)}}o(Cmt,"errorRequest");var h6e=Object.create(null);h6e.enumerable=!0;var Ore={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},p6e={...Ore,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(Ore,null);Object.setPrototypeOf(p6e,null);g6e.exports={kEnumerableProperty:h6e,nop:Gdt,isDisturbed:nmt,isErrored:imt,isReadable:omt,toUSVString:d6e,isUSVString:dmt,isBlobLike:i6e,parseOrigin:jdt,parseURL:s6e,getServerName:$dt,isStream:yO,isIterable:a6e,isAsyncIterable:Ydt,isDestroyed:c6e,headerNameToString:u6e,bufferToLowerCasedHeaderName:Xdt,addListener:Amt,removeAllListeners:ymt,errorRequest:Cmt,parseRawHeaders:tmt,parseHeaders:emt,parseKeepAliveTimeout:Zdt,destroy:Kdt,bodyLength:l6e,deepClone:zdt,ReadableStreamFrom:amt,isBuffer:f6e,validateHandler:rmt,getSocketInfo:smt,isFormDataLike:lmt,buildURL:Hdt,addAbortListener:cmt,isValidHTTPToken:mmt,isValidHeaderValue:pmt,isTokenCharCode:m6e,parseRangeHeader:gmt,normalizedMethodRecordsBase:Ore,normalizedMethodRecords:p6e,isValidPort:o6e,isHttpOrHttpsPrefixed:pO,nodeMajor:Udt,nodeMinor:qdt,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"],wrapRequestBody:Wdt}});var v8=H((MOr,y6e)=>{"use strict";d();var To=require("node:diagnostics_channel"),qre=require("node:util"),CO=qre.debuglog("undici"),Ure=qre.debuglog("fetch"),ux=qre.debuglog("websocket"),A6e=!1,xmt={beforeConnect:To.channel("undici:client:beforeConnect"),connected:To.channel("undici:client:connected"),connectError:To.channel("undici:client:connectError"),sendHeaders:To.channel("undici:client:sendHeaders"),create:To.channel("undici:request:create"),bodySent:To.channel("undici:request:bodySent"),headers:To.channel("undici:request:headers"),trailers:To.channel("undici:request:trailers"),error:To.channel("undici:request:error"),open:To.channel("undici:websocket:open"),close:To.channel("undici:websocket:close"),socketError:To.channel("undici:websocket:socket_error"),ping:To.channel("undici:websocket:ping"),pong:To.channel("undici:websocket:pong")};if(CO.enabled||Ure.enabled){let e=Ure.enabled?Ure:CO;To.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connecting to %s using %s%s",`${s}${i?`:${i}`:""}`,n,r)}),To.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connected to %s using %s%s",`${s}${i?`:${i}`:""}`,n,r)}),To.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s},error:a}=t;e("connection to %s using %s%s errored - %s",`${s}${i?`:${i}`:""}`,n,r,a.message)}),To.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("sending request to %s %s/%s",r,i,n)}),To.channel("undici:request:headers").subscribe(t=>{let{request:{method:r,path:n,origin:i},response:{statusCode:s}}=t;e("received response to %s %s/%s - HTTP %d",r,i,n,s)}),To.channel("undici:request:trailers").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("trailers received from %s %s/%s",r,i,n)}),To.channel("undici:request:error").subscribe(t=>{let{request:{method:r,path:n,origin:i},error:s}=t;e("request to %s %s/%s errored - %s",r,i,n,s.message)}),A6e=!0}if(ux.enabled){if(!A6e){let e=CO.enabled?CO:ux;To.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connecting to %s%s using %s%s",s,i?`:${i}`:"",n,r)}),To.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connected to %s%s using %s%s",s,i?`:${i}`:"",n,r)}),To.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s},error:a}=t;e("connection to %s%s using %s%s errored - %s",s,i?`:${i}`:"",n,r,a.message)}),To.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("sending request to %s %s/%s",r,i,n)})}To.channel("undici:websocket:open").subscribe(e=>{let{address:{address:t,port:r}}=e;ux("connection opened %s%s",t,r?`:${r}`:"")}),To.channel("undici:websocket:close").subscribe(e=>{let{websocket:t,code:r,reason:n}=e;ux("closed connection to %s - %s %s",t.url,r,n)}),To.channel("undici:websocket:socket_error").subscribe(e=>{ux("connection errored - %s",e.message)}),To.channel("undici:websocket:ping").subscribe(e=>{ux("ping received")}),To.channel("undici:websocket:pong").subscribe(e=>{ux("pong received")})}y6e.exports={channels:xmt}});var E6e=H((UOr,b6e)=>{"use strict";d();var{InvalidArgumentError:Vs,NotSupportedError:vmt}=yo(),lA=require("node:assert"),{isValidHTTPToken:v6e,isValidHeaderValue:C6e,isStream:bmt,destroy:Emt,isBuffer:Imt,isFormDataLike:Tmt,isIterable:wmt,isBlobLike:_mt,buildURL:Smt,validateHandler:kmt,getServerName:Rmt,normalizedMethodRecords:Bmt}=Ci(),{channels:Yp}=v8(),{headerNameLowerCasedRecord:x6e}=mO(),Dmt=/[^\u0021-\u00ff]/,Fd=Symbol("handler"),Wre=class{static{o(this,"Request")}constructor(t,{path:r,method:n,body:i,headers:s,query:a,idempotent:l,blocking:c,upgrade:u,headersTimeout:f,bodyTimeout:m,reset:h,throwOnError:p,expectContinue:A,servername:x},v){if(typeof r!="string")throw new Vs("path must be a string");if(r[0]!=="/"&&!(r.startsWith("http://")||r.startsWith("https://"))&&n!=="CONNECT")throw new Vs("path must be an absolute URL or start with a slash");if(Dmt.test(r))throw new Vs("invalid request path");if(typeof n!="string")throw new Vs("method must be a string");if(Bmt[n]===void 0&&!v6e(n))throw new Vs("invalid request method");if(u&&typeof u!="string")throw new Vs("upgrade must be a string");if(f!=null&&(!Number.isFinite(f)||f<0))throw new Vs("invalid headersTimeout");if(m!=null&&(!Number.isFinite(m)||m<0))throw new Vs("invalid bodyTimeout");if(h!=null&&typeof h!="boolean")throw new Vs("invalid reset");if(A!=null&&typeof A!="boolean")throw new Vs("invalid expectContinue");if(this.headersTimeout=f,this.bodyTimeout=m,this.throwOnError=p===!0,this.method=n,this.abort=null,i==null)this.body=null;else if(bmt(i)){this.body=i;let E=this.body._readableState;(!E||!E.autoDestroy)&&(this.endHandler=o(function(){Emt(this)},"autoDestroy"),this.body.on("end",this.endHandler)),this.errorHandler=b=>{this.abort?this.abort(b):this.error=b},this.body.on("error",this.errorHandler)}else if(Imt(i))this.body=i.byteLength?i:null;else if(ArrayBuffer.isView(i))this.body=i.buffer.byteLength?Buffer.from(i.buffer,i.byteOffset,i.byteLength):null;else if(i instanceof ArrayBuffer)this.body=i.byteLength?Buffer.from(i):null;else if(typeof i=="string")this.body=i.length?Buffer.from(i):null;else if(Tmt(i)||wmt(i)||_mt(i))this.body=i;else throw new Vs("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=u||null,this.path=a?Smt(r,a):r,this.origin=t,this.idempotent=l??(n==="HEAD"||n==="GET"),this.blocking=c??!1,this.reset=h??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=A??!1,Array.isArray(s)){if(s.length%2!==0)throw new Vs("headers array must be even");for(let E=0;E<s.length;E+=2)xO(this,s[E],s[E+1])}else if(s&&typeof s=="object")if(s[Symbol.iterator])for(let E of s){if(!Array.isArray(E)||E.length!==2)throw new Vs("headers must be in key-value pair format");xO(this,E[0],E[1])}else{let E=Object.keys(s);for(let b=0;b<E.length;++b)xO(this,E[b],s[E[b]])}else if(s!=null)throw new Vs("headers must be an object or an array");kmt(v,n,u),this.servername=x||Rmt(this.host),this[Fd]=v,Yp.create.hasSubscribers&&Yp.create.publish({request:this})}onBodySent(t){if(this[Fd].onBodySent)try{return this[Fd].onBodySent(t)}catch(r){this.abort(r)}}onRequestSent(){if(Yp.bodySent.hasSubscribers&&Yp.bodySent.publish({request:this}),this[Fd].onRequestSent)try{return this[Fd].onRequestSent()}catch(t){this.abort(t)}}onConnect(t){if(lA(!this.aborted),lA(!this.completed),this.error)t(this.error);else return this.abort=t,this[Fd].onConnect(t)}onResponseStarted(){return this[Fd].onResponseStarted?.()}onHeaders(t,r,n,i){lA(!this.aborted),lA(!this.completed),Yp.headers.hasSubscribers&&Yp.headers.publish({request:this,response:{statusCode:t,headers:r,statusText:i}});try{return this[Fd].onHeaders(t,r,n,i)}catch(s){this.abort(s)}}onData(t){lA(!this.aborted),lA(!this.completed);try{return this[Fd].onData(t)}catch(r){return this.abort(r),!1}}onUpgrade(t,r,n){return lA(!this.aborted),lA(!this.completed),this[Fd].onUpgrade(t,r,n)}onComplete(t){this.onFinally(),lA(!this.aborted),this.completed=!0,Yp.trailers.hasSubscribers&&Yp.trailers.publish({request:this,trailers:t});try{return this[Fd].onComplete(t)}catch(r){this.onError(r)}}onError(t){if(this.onFinally(),Yp.error.hasSubscribers&&Yp.error.publish({request:this,error:t}),!this.aborted)return this.aborted=!0,this[Fd].onError(t)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(t,r){return xO(this,t,r),this}};function xO(e,t,r){if(r&&typeof r=="object"&&!Array.isArray(r))throw new Vs(`invalid ${t} header`);if(r===void 0)return;let n=x6e[t];if(n===void 0&&(n=t.toLowerCase(),x6e[n]===void 0&&!v6e(n)))throw new Vs("invalid header key");if(Array.isArray(r)){let i=[];for(let s=0;s<r.length;s++)if(typeof r[s]=="string"){if(!C6e(r[s]))throw new Vs(`invalid ${t} header`);i.push(r[s])}else if(r[s]===null)i.push("");else{if(typeof r[s]=="object")throw new Vs(`invalid ${t} header`);i.push(`${r[s]}`)}r=i}else if(typeof r=="string"){if(!C6e(r))throw new Vs(`invalid ${t} header`)}else r===null?r="":r=`${r}`;if(e.host===null&&n==="host"){if(typeof r!="string")throw new Vs("invalid host header");e.host=r}else if(e.contentLength===null&&n==="content-length"){if(e.contentLength=parseInt(r,10),!Number.isFinite(e.contentLength))throw new Vs("invalid content-length header")}else if(e.contentType===null&&n==="content-type")e.contentType=r,e.headers.push(t,r);else{if(n==="transfer-encoding"||n==="keep-alive"||n==="upgrade")throw new Vs(`invalid ${n} header`);if(n==="connection"){let i=typeof r=="string"?r.toLowerCase():null;if(i!=="close"&&i!=="keep-alive")throw new Vs("invalid connection header");i==="close"&&(e.reset=!0)}else{if(n==="expect")throw new vmt("expect header not supported");e.headers.push(t,r)}}}o(xO,"processHeader");b6e.exports=Wre});var F_=H((GOr,I6e)=>{"use strict";d();var Pmt=require("node:events"),vO=class extends Pmt{static{o(this,"Dispatcher")}dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}compose(...t){let r=Array.isArray(t[0])?t[0]:t,n=this.dispatch.bind(this);for(let i of r)if(i!=null){if(typeof i!="function")throw new TypeError(`invalid interceptor, expected function received ${typeof i}`);if(n=i(n),n==null||typeof n!="function"||n.length!==2)throw new TypeError("invalid interceptor")}return new Gre(this,n)}},Gre=class extends vO{static{o(this,"ComposedDispatcher")}#e=null;#t=null;constructor(t,r){super(),this.#e=t,this.#t=r}dispatch(...t){this.#t(...t)}close(...t){return this.#e.close(...t)}destroy(...t){return this.#e.destroy(...t)}};I6e.exports=vO});var T8=H((VOr,T6e)=>{"use strict";d();var Fmt=F_(),{ClientDestroyedError:Hre,ClientClosedError:Nmt,InvalidArgumentError:b8}=yo(),{kDestroy:Lmt,kClose:Qmt,kClosed:N_,kDestroyed:E8,kDispatch:jre,kInterceptors:fx}=Ns(),cA=Symbol("onDestroyed"),I8=Symbol("onClosed"),bO=Symbol("Intercepted Dispatch"),Vre=class extends Fmt{static{o(this,"DispatcherBase")}constructor(){super(),this[E8]=!1,this[cA]=null,this[N_]=!1,this[I8]=[]}get destroyed(){return this[E8]}get closed(){return this[N_]}get interceptors(){return this[fx]}set interceptors(t){if(t){for(let r=t.length-1;r>=0;r--)if(typeof this[fx][r]!="function")throw new b8("interceptor must be an function")}this[fx]=t}close(t){if(t===void 0)return new Promise((n,i)=>{this.close((s,a)=>s?i(s):n(a))});if(typeof t!="function")throw new b8("invalid callback");if(this[E8]){queueMicrotask(()=>t(new Hre,null));return}if(this[N_]){this[I8]?this[I8].push(t):queueMicrotask(()=>t(null,null));return}this[N_]=!0,this[I8].push(t);let r=o(()=>{let n=this[I8];this[I8]=null;for(let i=0;i<n.length;i++)n[i](null,null)},"onClosed");this[Qmt]().then(()=>this.destroy()).then(()=>{queueMicrotask(r)})}destroy(t,r){if(typeof t=="function"&&(r=t,t=null),r===void 0)return new Promise((i,s)=>{this.destroy(t,(a,l)=>a?s(a):i(l))});if(typeof r!="function")throw new b8("invalid callback");if(this[E8]){this[cA]?this[cA].push(r):queueMicrotask(()=>r(null,null));return}t||(t=new Hre),this[E8]=!0,this[cA]=this[cA]||[],this[cA].push(r);let n=o(()=>{let i=this[cA];this[cA]=null;for(let s=0;s<i.length;s++)i[s](null,null)},"onDestroyed");this[Lmt](t).then(()=>{queueMicrotask(n)})}[bO](t,r){if(!this[fx]||this[fx].length===0)return this[bO]=this[jre],this[jre](t,r);let n=this[jre].bind(this);for(let i=this[fx].length-1;i>=0;i--)n=this[fx][i](n);return this[bO]=n,n(t,r)}dispatch(t,r){if(!r||typeof r!="object")throw new b8("handler must be an object");try{if(!t||typeof t!="object")throw new b8("opts must be an object.");if(this[E8]||this[cA])throw new Hre;if(this[N_])throw new Nmt;return this[bO](t,r)}catch(n){if(typeof r.onError!="function")throw new b8("invalid onError method");return r.onError(n),!1}}};T6e.exports=Vre});var Xre=H((YOr,k6e)=>{"use strict";d();var w8=0,$re=1e3,zre=($re>>1)-1,uA,Yre=Symbol("kFastTimer"),fA=[],Kre=-2,Jre=-1,_6e=0,w6e=1;function Zre(){w8+=zre;let e=0,t=fA.length;for(;e<t;){let r=fA[e];r._state===_6e?(r._idleStart=w8-zre,r._state=w6e):r._state===w6e&&w8>=r._idleStart+r._idleTimeout&&(r._state=Jre,r._idleStart=-1,r._onTimeout(r._timerArg)),r._state===Jre?(r._state=Kre,--t!==0&&(fA[e]=fA[t])):++e}fA.length=t,fA.length!==0&&S6e()}o(Zre,"onTick");function S6e(){uA?uA.refresh():(clearTimeout(uA),uA=setTimeout(Zre,zre),uA.unref&&uA.unref())}o(S6e,"refreshTimeout");var EO=class{static{o(this,"FastTimer")}[Yre]=!0;_state=Kre;_idleTimeout=-1;_idleStart=-1;_onTimeout;_timerArg;constructor(t,r,n){this._onTimeout=t,this._idleTimeout=r,this._timerArg=n,this.refresh()}refresh(){this._state===Kre&&fA.push(this),(!uA||fA.length===1)&&S6e(),this._state=_6e}clear(){this._state=Jre,this._idleStart=-1}};k6e.exports={setTimeout(e,t,r){return t<=$re?setTimeout(e,t,r):new EO(e,t,r)},clearTimeout(e){e[Yre]?e.clear():clearTimeout(e)},setFastTimeout(e,t,r){return new EO(e,t,r)},clearFastTimeout(e){e.clear()},now(){return w8},tick(e=0){w8+=e-$re+1,Zre(),Zre()},reset(){w8=0,fA.length=0,clearTimeout(uA),uA=null},kFastTimer:Yre}});var L_=H((eUr,F6e)=>{"use strict";d();var Mmt=require("node:net"),R6e=require("node:assert"),P6e=Ci(),{InvalidArgumentError:Omt,ConnectTimeoutError:Umt}=yo(),IO=Xre();function B6e(){}o(B6e,"noop");var ene,tne;global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?tne=class{static{o(this,"WeakSessionCache")}constructor(t){this._maxCachedSessions=t,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(r=>{if(this._sessionCache.size<this._maxCachedSessions)return;let n=this._sessionCache.get(r);n!==void 0&&n.deref()===void 0&&this._sessionCache.delete(r)})}get(t){let r=this._sessionCache.get(t);return r?r.deref():null}set(t,r){this._maxCachedSessions!==0&&(this._sessionCache.set(t,new WeakRef(r)),this._sessionRegistry.register(r,t))}}:tne=class{static{o(this,"SimpleSessionCache")}constructor(t){this._maxCachedSessions=t,this._sessionCache=new Map}get(t){return this._sessionCache.get(t)}set(t,r){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:n}=this._sessionCache.keys().next();this._sessionCache.delete(n)}this._sessionCache.set(t,r)}}};function qmt({allowH2:e,maxCachedSessions:t,socketPath:r,timeout:n,session:i,...s}){if(t!=null&&(!Number.isInteger(t)||t<0))throw new Omt("maxCachedSessions must be a positive integer or zero");let a={path:r,...s},l=new tne(t??100);return n=n??1e4,e=e??!1,o(function({hostname:u,host:f,protocol:m,port:h,servername:p,localAddress:A,httpSocket:x},v){let E;if(m==="https:"){ene||(ene=require("node:tls")),p=p||a.servername||P6e.getServerName(f)||null;let _=p||u;R6e(_);let R=i||l.get(_)||null;h=h||443,E=ene.connect({highWaterMark:16384,...a,servername:p,session:R,localAddress:A,ALPNProtocols:e?["http/1.1","h2"]:["http/1.1"],socket:x,port:h,host:u}),E.on("session",function(P){l.set(_,P)})}else R6e(!x,"httpSocket can only be sent on TLS update"),h=h||80,E=Mmt.connect({highWaterMark:64*1024,...a,localAddress:A,port:h,host:u});if(a.keepAlive==null||a.keepAlive){let _=a.keepAliveInitialDelay===void 0?6e4:a.keepAliveInitialDelay;E.setKeepAlive(!0,_)}let b=Wmt(new WeakRef(E),{timeout:n,hostname:u,port:h});return E.setNoDelay(!0).once(m==="https:"?"secureConnect":"connect",function(){if(queueMicrotask(b),v){let _=v;v=null,_(null,this)}}).on("error",function(_){if(queueMicrotask(b),v){let R=v;v=null,R(_)}}),E},"connect")}o(qmt,"buildConnector");var Wmt=process.platform==="win32"?(e,t)=>{if(!t.timeout)return B6e;let r=null,n=null,i=IO.setFastTimeout(()=>{r=setImmediate(()=>{n=setImmediate(()=>D6e(e.deref(),t))})},t.timeout);return()=>{IO.clearFastTimeout(i),clearImmediate(r),clearImmediate(n)}}:(e,t)=>{if(!t.timeout)return B6e;let r=null,n=IO.setFastTimeout(()=>{r=setImmediate(()=>{D6e(e.deref(),t)})},t.timeout);return()=>{IO.clearFastTimeout(n),clearImmediate(r)}};function D6e(e,t){if(e==null)return;let r="Connect Timeout Error";Array.isArray(e.autoSelectFamilyAttemptedAddresses)?r+=` (attempted addresses: ${e.autoSelectFamilyAttemptedAddresses.join(", ")},`:r+=` (attempted address: ${t.hostname}:${t.port},`,r+=` timeout: ${t.timeout}ms)`,P6e.destroy(e,new Umt(r))}o(D6e,"onConnectTimeout");F6e.exports=qmt});var N6e=H(TO=>{"use strict";d();Object.defineProperty(TO,"__esModule",{value:!0});TO.enumToMap=void 0;function Gmt(e){let t={};return Object.keys(e).forEach(r=>{let n=e[r];typeof n=="number"&&(t[r]=n)}),t}o(Gmt,"enumToMap");TO.enumToMap=Gmt});var L6e=H(nr=>{"use strict";d();Object.defineProperty(nr,"__esModule",{value:!0});nr.SPECIAL_HEADERS=nr.HEADER_STATE=nr.MINOR=nr.MAJOR=nr.CONNECTION_TOKEN_CHARS=nr.HEADER_CHARS=nr.TOKEN=nr.STRICT_TOKEN=nr.HEX=nr.URL_CHAR=nr.STRICT_URL_CHAR=nr.USERINFO_CHARS=nr.MARK=nr.ALPHANUM=nr.NUM=nr.HEX_MAP=nr.NUM_MAP=nr.ALPHA=nr.FINISH=nr.H_METHOD_MAP=nr.METHOD_MAP=nr.METHODS_RTSP=nr.METHODS_ICE=nr.METHODS_HTTP=nr.METHODS=nr.LENIENT_FLAGS=nr.FLAGS=nr.TYPE=nr.ERROR=void 0;var Hmt=N6e(),jmt;(function(e){e[e.OK=0]="OK",e[e.INTERNAL=1]="INTERNAL",e[e.STRICT=2]="STRICT",e[e.LF_EXPECTED=3]="LF_EXPECTED",e[e.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",e[e.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",e[e.INVALID_METHOD=6]="INVALID_METHOD",e[e.INVALID_URL=7]="INVALID_URL",e[e.INVALID_CONSTANT=8]="INVALID_CONSTANT",e[e.INVALID_VERSION=9]="INVALID_VERSION",e[e.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",e[e.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",e[e.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",e[e.INVALID_STATUS=13]="INVALID_STATUS",e[e.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",e[e.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",e[e.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",e[e.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",e[e.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",e[e.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",e[e.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",e[e.PAUSED=21]="PAUSED",e[e.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",e[e.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",e[e.USER=24]="USER"})(jmt=nr.ERROR||(nr.ERROR={}));var Vmt;(function(e){e[e.BOTH=0]="BOTH",e[e.REQUEST=1]="REQUEST",e[e.RESPONSE=2]="RESPONSE"})(Vmt=nr.TYPE||(nr.TYPE={}));var $mt;(function(e){e[e.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",e[e.CHUNKED=8]="CHUNKED",e[e.UPGRADE=16]="UPGRADE",e[e.CONTENT_LENGTH=32]="CONTENT_LENGTH",e[e.SKIPBODY=64]="SKIPBODY",e[e.TRAILING=128]="TRAILING",e[e.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})($mt=nr.FLAGS||(nr.FLAGS={}));var zmt;(function(e){e[e.HEADERS=1]="HEADERS",e[e.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",e[e.KEEP_ALIVE=4]="KEEP_ALIVE"})(zmt=nr.LENIENT_FLAGS||(nr.LENIENT_FLAGS={}));var un;(function(e){e[e.DELETE=0]="DELETE",e[e.GET=1]="GET",e[e.HEAD=2]="HEAD",e[e.POST=3]="POST",e[e.PUT=4]="PUT",e[e.CONNECT=5]="CONNECT",e[e.OPTIONS=6]="OPTIONS",e[e.TRACE=7]="TRACE",e[e.COPY=8]="COPY",e[e.LOCK=9]="LOCK",e[e.MKCOL=10]="MKCOL",e[e.MOVE=11]="MOVE",e[e.PROPFIND=12]="PROPFIND",e[e.PROPPATCH=13]="PROPPATCH",e[e.SEARCH=14]="SEARCH",e[e.UNLOCK=15]="UNLOCK",e[e.BIND=16]="BIND",e[e.REBIND=17]="REBIND",e[e.UNBIND=18]="UNBIND",e[e.ACL=19]="ACL",e[e.REPORT=20]="REPORT",e[e.MKACTIVITY=21]="MKACTIVITY",e[e.CHECKOUT=22]="CHECKOUT",e[e.MERGE=23]="MERGE",e[e["M-SEARCH"]=24]="M-SEARCH",e[e.NOTIFY=25]="NOTIFY",e[e.SUBSCRIBE=26]="SUBSCRIBE",e[e.UNSUBSCRIBE=27]="UNSUBSCRIBE",e[e.PATCH=28]="PATCH",e[e.PURGE=29]="PURGE",e[e.MKCALENDAR=30]="MKCALENDAR",e[e.LINK=31]="LINK",e[e.UNLINK=32]="UNLINK",e[e.SOURCE=33]="SOURCE",e[e.PRI=34]="PRI",e[e.DESCRIBE=35]="DESCRIBE",e[e.ANNOUNCE=36]="ANNOUNCE",e[e.SETUP=37]="SETUP",e[e.PLAY=38]="PLAY",e[e.PAUSE=39]="PAUSE",e[e.TEARDOWN=40]="TEARDOWN",e[e.GET_PARAMETER=41]="GET_PARAMETER",e[e.SET_PARAMETER=42]="SET_PARAMETER",e[e.REDIRECT=43]="REDIRECT",e[e.RECORD=44]="RECORD",e[e.FLUSH=45]="FLUSH"})(un=nr.METHODS||(nr.METHODS={}));nr.METHODS_HTTP=[un.DELETE,un.GET,un.HEAD,un.POST,un.PUT,un.CONNECT,un.OPTIONS,un.TRACE,un.COPY,un.LOCK,un.MKCOL,un.MOVE,un.PROPFIND,un.PROPPATCH,un.SEARCH,un.UNLOCK,un.BIND,un.REBIND,un.UNBIND,un.ACL,un.REPORT,un.MKACTIVITY,un.CHECKOUT,un.MERGE,un["M-SEARCH"],un.NOTIFY,un.SUBSCRIBE,un.UNSUBSCRIBE,un.PATCH,un.PURGE,un.MKCALENDAR,un.LINK,un.UNLINK,un.PRI,un.SOURCE];nr.METHODS_ICE=[un.SOURCE];nr.METHODS_RTSP=[un.OPTIONS,un.DESCRIBE,un.ANNOUNCE,un.SETUP,un.PLAY,un.PAUSE,un.TEARDOWN,un.GET_PARAMETER,un.SET_PARAMETER,un.REDIRECT,un.RECORD,un.FLUSH,un.GET,un.POST];nr.METHOD_MAP=Hmt.enumToMap(un);nr.H_METHOD_MAP={};Object.keys(nr.METHOD_MAP).forEach(e=>{/^H/.test(e)&&(nr.H_METHOD_MAP[e]=nr.METHOD_MAP[e])});var Ymt;(function(e){e[e.SAFE=0]="SAFE",e[e.SAFE_WITH_CB=1]="SAFE_WITH_CB",e[e.UNSAFE=2]="UNSAFE"})(Ymt=nr.FINISH||(nr.FINISH={}));nr.ALPHA=[];for(let e=65;e<=90;e++)nr.ALPHA.push(String.fromCharCode(e)),nr.ALPHA.push(String.fromCharCode(e+32));nr.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};nr.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};nr.NUM=["0","1","2","3","4","5","6","7","8","9"];nr.ALPHANUM=nr.ALPHA.concat(nr.NUM);nr.MARK=["-","_",".","!","~","*","'","(",")"];nr.USERINFO_CHARS=nr.ALPHANUM.concat(nr.MARK).concat(["%",";",":","&","=","+","$",","]);nr.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(nr.ALPHANUM);nr.URL_CHAR=nr.STRICT_URL_CHAR.concat(["	","\f"]);for(let e=128;e<=255;e++)nr.URL_CHAR.push(e);nr.HEX=nr.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);nr.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(nr.ALPHANUM);nr.TOKEN=nr.STRICT_TOKEN.concat([" "]);nr.HEADER_CHARS=["	"];for(let e=32;e<=255;e++)e!==127&&nr.HEADER_CHARS.push(e);nr.CONNECTION_TOKEN_CHARS=nr.HEADER_CHARS.filter(e=>e!==44);nr.MAJOR=nr.NUM_MAP;nr.MINOR=nr.MAJOR;var _8;(function(e){e[e.GENERAL=0]="GENERAL",e[e.CONNECTION=1]="CONNECTION",e[e.CONTENT_LENGTH=2]="CONTENT_LENGTH",e[e.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",e[e.UPGRADE=4]="UPGRADE",e[e.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",e[e.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})(_8=nr.HEADER_STATE||(nr.HEADER_STATE={}));nr.SPECIAL_HEADERS={connection:_8.CONNECTION,"content-length":_8.CONTENT_LENGTH,"proxy-connection":_8.CONNECTION,"transfer-encoding":_8.TRANSFER_ENCODING,upgrade:_8.UPGRADE}});var rne=H((lUr,Q6e)=>{"use strict";d();var{Buffer:Kmt}=require("node:buffer");Q6e.exports=Kmt.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK07MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtXACAAQRhqQgA3AwAgAEIANwMAIABBOGpCADcDACAAQTBqQgA3AwAgAEEoakIANwMAIABBIGpCADcDACAAQRBqQgA3AwAgAEEIakIANwMAIABB3QE2AhwLBgAgABAyC5otAQt/IwBBEGsiCiQAQaTQACgCACIJRQRAQeTTACgCACIFRQRAQfDTAEJ/NwIAQejTAEKAgISAgIDAADcCAEHk0wAgCkEIakFwcUHYqtWqBXMiBTYCAEH40wBBADYCAEHI0wBBADYCAAtBzNMAQYDUBDYCAEGc0ABBgNQENgIAQbDQACAFNgIAQazQAEF/NgIAQdDTAEGArAM2AgADQCABQcjQAGogAUG80ABqIgI2AgAgAiABQbTQAGoiAzYCACABQcDQAGogAzYCACABQdDQAGogAUHE0ABqIgM2AgAgAyACNgIAIAFB2NAAaiABQczQAGoiAjYCACACIAM2AgAgAUHU0ABqIAI2AgAgAUEgaiIBQYACRw0AC0GM1ARBwasDNgIAQajQAEH00wAoAgA2AgBBmNAAQcCrAzYCAEGk0ABBiNQENgIAQcz/B0E4NgIAQYjUBCEJCwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB7AFNBEBBjNAAKAIAIgZBECAAQRNqQXBxIABBC0kbIgRBA3YiAHYiAUEDcQRAAkAgAUEBcSAAckEBcyICQQN0IgBBtNAAaiIBIABBvNAAaigCACIAKAIIIgNGBEBBjNAAIAZBfiACd3E2AgAMAQsgASADNgIIIAMgATYCDAsgAEEIaiEBIAAgAkEDdCICQQNyNgIEIAAgAmoiACAAKAIEQQFyNgIEDBELQZTQACgCACIIIARPDQEgAQRAAkBBAiAAdCICQQAgAmtyIAEgAHRxaCIAQQN0IgJBtNAAaiIBIAJBvNAAaigCACICKAIIIgNGBEBBjNAAIAZBfiAAd3EiBjYCAAwBCyABIAM2AgggAyABNgIMCyACIARBA3I2AgQgAEEDdCIAIARrIQUgACACaiAFNgIAIAIgBGoiBCAFQQFyNgIEIAgEQCAIQXhxQbTQAGohAEGg0AAoAgAhAwJ/QQEgCEEDdnQiASAGcUUEQEGM0AAgASAGcjYCACAADAELIAAoAggLIgEgAzYCDCAAIAM2AgggAyAANgIMIAMgATYCCAsgAkEIaiEBQaDQACAENgIAQZTQACAFNgIADBELQZDQACgCACILRQ0BIAtoQQJ0QbzSAGooAgAiACgCBEF4cSAEayEFIAAhAgNAAkAgAigCECIBRQRAIAJBFGooAgAiAUUNAQsgASgCBEF4cSAEayIDIAVJIQIgAyAFIAIbIQUgASAAIAIbIQAgASECDAELCyAAKAIYIQkgACgCDCIDIABHBEBBnNAAKAIAGiADIAAoAggiATYCCCABIAM2AgwMEAsgAEEUaiICKAIAIgFFBEAgACgCECIBRQ0DIABBEGohAgsDQCACIQcgASIDQRRqIgIoAgAiAQ0AIANBEGohAiADKAIQIgENAAsgB0EANgIADA8LQX8hBCAAQb9/Sw0AIABBE2oiAUFwcSEEQZDQACgCACIIRQ0AQQAgBGshBQJAAkACQAJ/QQAgBEGAAkkNABpBHyAEQf///wdLDQAaIARBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmoLIgZBAnRBvNIAaigCACICRQRAQQAhAUEAIQMMAQtBACEBIARBGSAGQQF2a0EAIAZBH0cbdCEAQQAhAwNAAkAgAigCBEF4cSAEayIHIAVPDQAgAiEDIAciBQ0AQQAhBSACIQEMAwsgASACQRRqKAIAIgcgByACIABBHXZBBHFqQRBqKAIAIgJGGyABIAcbIQEgAEEBdCEAIAINAAsLIAEgA3JFBEBBACEDQQIgBnQiAEEAIABrciAIcSIARQ0DIABoQQJ0QbzSAGooAgAhAQsgAUUNAQsDQCABKAIEQXhxIARrIgIgBUkhACACIAUgABshBSABIAMgABshAyABKAIQIgAEfyAABSABQRRqKAIACyIBDQALCyADRQ0AIAVBlNAAKAIAIARrTw0AIAMoAhghByADIAMoAgwiAEcEQEGc0AAoAgAaIAAgAygCCCIBNgIIIAEgADYCDAwOCyADQRRqIgIoAgAiAUUEQCADKAIQIgFFDQMgA0EQaiECCwNAIAIhBiABIgBBFGoiAigCACIBDQAgAEEQaiECIAAoAhAiAQ0ACyAGQQA2AgAMDQtBlNAAKAIAIgMgBE8EQEGg0AAoAgAhAQJAIAMgBGsiAkEQTwRAIAEgBGoiACACQQFyNgIEIAEgA2ogAjYCACABIARBA3I2AgQMAQsgASADQQNyNgIEIAEgA2oiACAAKAIEQQFyNgIEQQAhAEEAIQILQZTQACACNgIAQaDQACAANgIAIAFBCGohAQwPC0GY0AAoAgAiAyAESwRAIAQgCWoiACADIARrIgFBAXI2AgRBpNAAIAA2AgBBmNAAIAE2AgAgCSAEQQNyNgIEIAlBCGohAQwPC0EAIQEgBAJ/QeTTACgCAARAQezTACgCAAwBC0Hw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBDGpBcHFB2KrVqgVzNgIAQfjTAEEANgIAQcjTAEEANgIAQYCABAsiACAEQccAaiIFaiIGQQAgAGsiB3EiAk8EQEH80wBBMDYCAAwPCwJAQcTTACgCACIBRQ0AQbzTACgCACIIIAJqIQAgACABTSAAIAhLcQ0AQQAhAUH80wBBMDYCAAwPC0HI0wAtAABBBHENBAJAAkAgCQRAQczTACEBA0AgASgCACIAIAlNBEAgACABKAIEaiAJSw0DCyABKAIIIgENAAsLQQAQMyIAQX9GDQUgAiEGQejTACgCACIBQQFrIgMgAHEEQCACIABrIAAgA2pBACABa3FqIQYLIAQgBk8NBSAGQf7///8HSw0FQcTTACgCACIDBEBBvNMAKAIAIgcgBmohASABIAdNDQYgASADSw0GCyAGEDMiASAARw0BDAcLIAYgA2sgB3EiBkH+////B0sNBCAGEDMhACAAIAEoAgAgASgCBGpGDQMgACEBCwJAIAYgBEHIAGpPDQAgAUF/Rg0AQezTACgCACIAIAUgBmtqQQAgAGtxIgBB/v///wdLBEAgASEADAcLIAAQM0F/RwRAIAAgBmohBiABIQAMBwtBACAGaxAzGgwECyABIgBBf0cNBQwDC0EAIQMMDAtBACEADAoLIABBf0cNAgtByNMAQcjTACgCAEEEcjYCAAsgAkH+////B0sNASACEDMhAEEAEDMhASAAQX9GDQEgAUF/Rg0BIAAgAU8NASABIABrIgYgBEE4ak0NAQtBvNMAQbzTACgCACAGaiIBNgIAQcDTACgCACABSQRAQcDTACABNgIACwJAAkACQEGk0AAoAgAiAgRAQczTACEBA0AgACABKAIAIgMgASgCBCIFakYNAiABKAIIIgENAAsMAgtBnNAAKAIAIgFBAEcgACABT3FFBEBBnNAAIAA2AgALQQAhAUHQ0wAgBjYCAEHM0wAgADYCAEGs0ABBfzYCAEGw0ABB5NMAKAIANgIAQdjTAEEANgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBeCAAa0EPcSIBIABqIgIgBkE4ayIDIAFrIgFBAXI2AgRBqNAAQfTTACgCADYCAEGY0AAgATYCAEGk0AAgAjYCACAAIANqQTg2AgQMAgsgACACTQ0AIAIgA0kNACABKAIMQQhxDQBBeCACa0EPcSIAIAJqIgNBmNAAKAIAIAZqIgcgAGsiAEEBcjYCBCABIAUgBmo2AgRBqNAAQfTTACgCADYCAEGY0AAgADYCAEGk0AAgAzYCACACIAdqQTg2AgQMAQsgAEGc0AAoAgBJBEBBnNAAIAA2AgALIAAgBmohA0HM0wAhAQJAAkACQANAIAMgASgCAEcEQCABKAIIIgENAQwCCwsgAS0ADEEIcUUNAQtBzNMAIQEDQCABKAIAIgMgAk0EQCADIAEoAgRqIgUgAksNAwsgASgCCCEBDAALAAsgASAANgIAIAEgASgCBCAGajYCBCAAQXggAGtBD3FqIgkgBEEDcjYCBCADQXggA2tBD3FqIgYgBCAJaiIEayEBIAIgBkYEQEGk0AAgBDYCAEGY0ABBmNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEDAgLQaDQACgCACAGRgRAQaDQACAENgIAQZTQAEGU0AAoAgAgAWoiADYCACAEIABBAXI2AgQgACAEaiAANgIADAgLIAYoAgQiBUEDcUEBRw0GIAVBeHEhCCAFQf8BTQRAIAVBA3YhAyAGKAIIIgAgBigCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBwsgAiAANgIIIAAgAjYCDAwGCyAGKAIYIQcgBiAGKAIMIgBHBEAgACAGKAIIIgI2AgggAiAANgIMDAULIAZBFGoiAigCACIFRQRAIAYoAhAiBUUNBCAGQRBqIQILA0AgAiEDIAUiAEEUaiICKAIAIgUNACAAQRBqIQIgACgCECIFDQALIANBADYCAAwEC0F4IABrQQ9xIgEgAGoiByAGQThrIgMgAWsiAUEBcjYCBCAAIANqQTg2AgQgAiAFQTcgBWtBD3FqQT9rIgMgAyACQRBqSRsiA0EjNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAc2AgAgA0EQakHU0wApAgA3AgAgA0HM0wApAgA3AghB1NMAIANBCGo2AgBB0NMAIAY2AgBBzNMAIAA2AgBB2NMAQQA2AgAgA0EkaiEBA0AgAUEHNgIAIAUgAUEEaiIBSw0ACyACIANGDQAgAyADKAIEQX5xNgIEIAMgAyACayIFNgIAIAIgBUEBcjYCBCAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIDcUUEQEGM0AAgASADcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEGQ0AAoAgAiA0EBIAF0IgZxRQRAIAAgAjYCAEGQ0AAgAyAGcjYCACACIAA2AhggAiACNgIIIAIgAjYCDAwBCyAFQRkgAUEBdmtBACABQR9HG3QhASAAKAIAIQMCQANAIAMiACgCBEF4cSAFRg0BIAFBHXYhAyABQQF0IQEgACADQQRxakEQaiIGKAIAIgMNAAsgBiACNgIAIAIgADYCGCACIAI2AgwgAiACNgIIDAELIAAoAggiASACNgIMIAAgAjYCCCACQQA2AhggAiAANgIMIAIgATYCCAtBmNAAKAIAIgEgBE0NAEGk0AAoAgAiACAEaiICIAEgBGsiAUEBcjYCBEGY0AAgATYCAEGk0AAgAjYCACAAIARBA3I2AgQgAEEIaiEBDAgLQQAhAUH80wBBMDYCAAwHC0EAIQALIAdFDQACQCAGKAIcIgJBAnRBvNIAaiIDKAIAIAZGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAdBEEEUIAcoAhAgBkYbaiAANgIAIABFDQELIAAgBzYCGCAGKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAGQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAIaiEBIAYgCGoiBigCBCEFCyAGIAVBfnE2AgQgASAEaiABNgIAIAQgAUEBcjYCBCABQf8BTQRAIAFBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASABQQN2dCIBcUUEQEGM0AAgASACcjYCACAADAELIAAoAggLIgEgBDYCDCAAIAQ2AgggBCAANgIMIAQgATYCCAwBC0EfIQUgAUH///8HTQRAIAFBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmohBQsgBCAFNgIcIARCADcCECAFQQJ0QbzSAGohAEGQ0AAoAgAiAkEBIAV0IgNxRQRAIAAgBDYCAEGQ0AAgAiADcjYCACAEIAA2AhggBCAENgIIIAQgBDYCDAwBCyABQRkgBUEBdmtBACAFQR9HG3QhBSAAKAIAIQACQANAIAAiAigCBEF4cSABRg0BIAVBHXYhACAFQQF0IQUgAiAAQQRxakEQaiIDKAIAIgANAAsgAyAENgIAIAQgAjYCGCAEIAQ2AgwgBCAENgIIDAELIAIoAggiACAENgIMIAIgBDYCCCAEQQA2AhggBCACNgIMIAQgADYCCAsgCUEIaiEBDAILAkAgB0UNAAJAIAMoAhwiAUECdEG80gBqIgIoAgAgA0YEQCACIAA2AgAgAA0BQZDQACAIQX4gAXdxIgg2AgAMAgsgB0EQQRQgBygCECADRhtqIAA2AgAgAEUNAQsgACAHNgIYIAMoAhAiAQRAIAAgATYCECABIAA2AhgLIANBFGooAgAiAUUNACAAQRRqIAE2AgAgASAANgIYCwJAIAVBD00EQCADIAQgBWoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARqIgIgBUEBcjYCBCADIARBA3I2AgQgAiAFaiAFNgIAIAVB/wFNBEAgBUF4cUG00ABqIQACf0GM0AAoAgAiAUEBIAVBA3Z0IgVxRQRAQYzQACABIAVyNgIAIAAMAQsgACgCCAsiASACNgIMIAAgAjYCCCACIAA2AgwgAiABNgIIDAELQR8hASAFQf///wdNBEAgBUEmIAVBCHZnIgBrdkEBcSAAQQF0a0E+aiEBCyACIAE2AhwgAkIANwIQIAFBAnRBvNIAaiEAQQEgAXQiBCAIcUUEQCAAIAI2AgBBkNAAIAQgCHI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEEAkADQCAEIgAoAgRBeHEgBUYNASABQR12IQQgAUEBdCEBIAAgBEEEcWpBEGoiBigCACIEDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLIANBCGohAQwBCwJAIAlFDQACQCAAKAIcIgFBAnRBvNIAaiICKAIAIABGBEAgAiADNgIAIAMNAUGQ0AAgC0F+IAF3cTYCAAwCCyAJQRBBFCAJKAIQIABGG2ogAzYCACADRQ0BCyADIAk2AhggACgCECIBBEAgAyABNgIQIAEgAzYCGAsgAEEUaigCACIBRQ0AIANBFGogATYCACABIAM2AhgLAkAgBUEPTQRAIAAgBCAFaiIBQQNyNgIEIAAgAWoiASABKAIEQQFyNgIEDAELIAAgBGoiByAFQQFyNgIEIAAgBEEDcjYCBCAFIAdqIAU2AgAgCARAIAhBeHFBtNAAaiEBQaDQACgCACEDAn9BASAIQQN2dCICIAZxRQRAQYzQACACIAZyNgIAIAEMAQsgASgCCAsiAiADNgIMIAEgAzYCCCADIAE2AgwgAyACNgIIC0Gg0AAgBzYCAEGU0AAgBTYCAAsgAEEIaiEBCyAKQRBqJAAgAQtDACAARQRAPwBBEHQPCwJAIABB//8DcQ0AIABBAEgNACAAQRB2QAAiAEF/RgRAQfzTAEEwNgIAQX8PCyAAQRB0DwsACwvcPyIAQYAICwkBAAAAAgAAAAMAQZQICwUEAAAABQBBpAgLCQYAAAAHAAAACABB3AgLii1JbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AFJlc3BvbnNlIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAFBhdXNlIG9uIENPTk5FQ1QvVXBncmFkZQBQYXVzZSBvbiBQUkkvVXBncmFkZQBFeHBlY3RlZCBIVFRQLzIgQ29ubmVjdGlvbiBQcmVmYWNlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fbWV0aG9kAEV4cGVjdGVkIHNwYWNlIGFmdGVyIG1ldGhvZABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl9maWVsZABQYXVzZWQASW52YWxpZCB3b3JkIGVuY291bnRlcmVkAEludmFsaWQgbWV0aG9kIGVuY291bnRlcmVkAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2NoZW1hAFJlcXVlc3QgaGFzIGludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAF4TAAAmEwAAMBAAAPAXAACdEwAAFRIAADkXAADwEgAAChAAAHUSAACtEgAAghMAAE8UAAB/EAAAoBUAACMUAACJEgAAixQAAE0VAADUEQAAzxQAABAYAADJFgAA3BYAAMERAADgFwAAuxQAAHQUAAB8FQAA5RQAAAgXAAAfEAAAZRUAAKMUAAAoFQAAAhUAAJkVAAAsEAAAixkAAE8PAADUDgAAahAAAM4QAAACFwAAiQ4AAG4TAAAcEwAAZhQAAFYXAADBEwAAzRMAAGwTAABoFwAAZhcAAF8XAAAiEwAAzg8AAGkOAADYDgAAYxYAAMsTAACqDgAAKBcAACYXAADFEwAAXRYAAOgRAABnEwAAZRMAAPIWAABzEwAAHRcAAPkWAADzEQAAzw4AAM4VAAAMEgAAsxEAAKURAABhEAAAMhcAALsTAEH5NQsBAQBBkDYL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB/TcLAQEAQZE4C14CAwICAgICAAACAgACAgACAgICAgICAgICAAQAAAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEH9OQsBAQBBkToLXgIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAQfA7Cw1sb3NlZWVwLWFsaXZlAEGJPAsBAQBBoDwL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBiT4LAQEAQaA+C+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGwwAALXwEBAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGQwgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBwMIACy1yYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AQfnCAAsFAQIAAQMAQZDDAAvgAQQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5xAALBQECAAEDAEGQxQAL4AEEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cYACwQBAAABAEGRxwAL3wEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH6yAALBAEAAAIAQZDJAAtfAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAQfrKAAsEAQAAAQBBkMsACwEBAEGqywALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEH6zAALBAEAAAEAQZDNAAsBAQBBms0ACwYCAAAAAAIAQbHNAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB8M4AC5YBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRU9SRElSRUNUT1JUUkNIUEFSQU1FVEVSVVJDRUJTQ1JJQkVBUkRPV05BQ0VJTkROS0NLVUJTQ1JJQkVIVFRQL0FEVFAv","base64")});var O6e=H((uUr,M6e)=>{"use strict";d();var{Buffer:Jmt}=require("node:buffer");M6e.exports=Jmt.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK77MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtzACAAQRBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAA/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQTBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQSBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQd0BNgIcCwYAIAAQMguaLQELfyMAQRBrIgokAEGk0AAoAgAiCUUEQEHk0wAoAgAiBUUEQEHw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBCGpBcHFB2KrVqgVzIgU2AgBB+NMAQQA2AgBByNMAQQA2AgALQczTAEGA1AQ2AgBBnNAAQYDUBDYCAEGw0AAgBTYCAEGs0ABBfzYCAEHQ0wBBgKwDNgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBjNQEQcGrAzYCAEGo0ABB9NMAKAIANgIAQZjQAEHAqwM2AgBBpNAAQYjUBDYCAEHM/wdBODYCAEGI1AQhCQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAQewBTQRAQYzQACgCACIGQRAgAEETakFwcSAAQQtJGyIEQQN2IgB2IgFBA3EEQAJAIAFBAXEgAHJBAXMiAkEDdCIAQbTQAGoiASAAQbzQAGooAgAiACgCCCIDRgRAQYzQACAGQX4gAndxNgIADAELIAEgAzYCCCADIAE2AgwLIABBCGohASAAIAJBA3QiAkEDcjYCBCAAIAJqIgAgACgCBEEBcjYCBAwRC0GU0AAoAgAiCCAETw0BIAEEQAJAQQIgAHQiAkEAIAJrciABIAB0cWgiAEEDdCICQbTQAGoiASACQbzQAGooAgAiAigCCCIDRgRAQYzQACAGQX4gAHdxIgY2AgAMAQsgASADNgIIIAMgATYCDAsgAiAEQQNyNgIEIABBA3QiACAEayEFIAAgAmogBTYCACACIARqIgQgBUEBcjYCBCAIBEAgCEF4cUG00ABqIQBBoNAAKAIAIQMCf0EBIAhBA3Z0IgEgBnFFBEBBjNAAIAEgBnI2AgAgAAwBCyAAKAIICyIBIAM2AgwgACADNgIIIAMgADYCDCADIAE2AggLIAJBCGohAUGg0AAgBDYCAEGU0AAgBTYCAAwRC0GQ0AAoAgAiC0UNASALaEECdEG80gBqKAIAIgAoAgRBeHEgBGshBSAAIQIDQAJAIAIoAhAiAUUEQCACQRRqKAIAIgFFDQELIAEoAgRBeHEgBGsiAyAFSSECIAMgBSACGyEFIAEgACACGyEAIAEhAgwBCwsgACgCGCEJIAAoAgwiAyAARwRAQZzQACgCABogAyAAKAIIIgE2AgggASADNgIMDBALIABBFGoiAigCACIBRQRAIAAoAhAiAUUNAyAAQRBqIQILA0AgAiEHIAEiA0EUaiICKAIAIgENACADQRBqIQIgAygCECIBDQALIAdBADYCAAwPC0F/IQQgAEG/f0sNACAAQRNqIgFBcHEhBEGQ0AAoAgAiCEUNAEEAIARrIQUCQAJAAkACf0EAIARBgAJJDQAaQR8gBEH///8HSw0AGiAEQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qCyIGQQJ0QbzSAGooAgAiAkUEQEEAIQFBACEDDAELQQAhASAEQRkgBkEBdmtBACAGQR9HG3QhAEEAIQMDQAJAIAIoAgRBeHEgBGsiByAFTw0AIAIhAyAHIgUNAEEAIQUgAiEBDAMLIAEgAkEUaigCACIHIAcgAiAAQR12QQRxakEQaigCACICRhsgASAHGyEBIABBAXQhACACDQALCyABIANyRQRAQQAhA0ECIAZ0IgBBACAAa3IgCHEiAEUNAyAAaEECdEG80gBqKAIAIQELIAFFDQELA0AgASgCBEF4cSAEayICIAVJIQAgAiAFIAAbIQUgASADIAAbIQMgASgCECIABH8gAAUgAUEUaigCAAsiAQ0ACwsgA0UNACAFQZTQACgCACAEa08NACADKAIYIQcgAyADKAIMIgBHBEBBnNAAKAIAGiAAIAMoAggiATYCCCABIAA2AgwMDgsgA0EUaiICKAIAIgFFBEAgAygCECIBRQ0DIANBEGohAgsDQCACIQYgASIAQRRqIgIoAgAiAQ0AIABBEGohAiAAKAIQIgENAAsgBkEANgIADA0LQZTQACgCACIDIARPBEBBoNAAKAIAIQECQCADIARrIgJBEE8EQCABIARqIgAgAkEBcjYCBCABIANqIAI2AgAgASAEQQNyNgIEDAELIAEgA0EDcjYCBCABIANqIgAgACgCBEEBcjYCBEEAIQBBACECC0GU0AAgAjYCAEGg0AAgADYCACABQQhqIQEMDwtBmNAAKAIAIgMgBEsEQCAEIAlqIgAgAyAEayIBQQFyNgIEQaTQACAANgIAQZjQACABNgIAIAkgBEEDcjYCBCAJQQhqIQEMDwtBACEBIAQCf0Hk0wAoAgAEQEHs0wAoAgAMAQtB8NMAQn83AgBB6NMAQoCAhICAgMAANwIAQeTTACAKQQxqQXBxQdiq1aoFczYCAEH40wBBADYCAEHI0wBBADYCAEGAgAQLIgAgBEHHAGoiBWoiBkEAIABrIgdxIgJPBEBB/NMAQTA2AgAMDwsCQEHE0wAoAgAiAUUNAEG80wAoAgAiCCACaiEAIAAgAU0gACAIS3ENAEEAIQFB/NMAQTA2AgAMDwtByNMALQAAQQRxDQQCQAJAIAkEQEHM0wAhAQNAIAEoAgAiACAJTQRAIAAgASgCBGogCUsNAwsgASgCCCIBDQALC0EAEDMiAEF/Rg0FIAIhBkHo0wAoAgAiAUEBayIDIABxBEAgAiAAayAAIANqQQAgAWtxaiEGCyAEIAZPDQUgBkH+////B0sNBUHE0wAoAgAiAwRAQbzTACgCACIHIAZqIQEgASAHTQ0GIAEgA0sNBgsgBhAzIgEgAEcNAQwHCyAGIANrIAdxIgZB/v///wdLDQQgBhAzIQAgACABKAIAIAEoAgRqRg0DIAAhAQsCQCAGIARByABqTw0AIAFBf0YNAEHs0wAoAgAiACAFIAZrakEAIABrcSIAQf7///8HSwRAIAEhAAwHCyAAEDNBf0cEQCAAIAZqIQYgASEADAcLQQAgBmsQMxoMBAsgASIAQX9HDQUMAwtBACEDDAwLQQAhAAwKCyAAQX9HDQILQcjTAEHI0wAoAgBBBHI2AgALIAJB/v///wdLDQEgAhAzIQBBABAzIQEgAEF/Rg0BIAFBf0YNASAAIAFPDQEgASAAayIGIARBOGpNDQELQbzTAEG80wAoAgAgBmoiATYCAEHA0wAoAgAgAUkEQEHA0wAgATYCAAsCQAJAAkBBpNAAKAIAIgIEQEHM0wAhAQNAIAAgASgCACIDIAEoAgQiBWpGDQIgASgCCCIBDQALDAILQZzQACgCACIBQQBHIAAgAU9xRQRAQZzQACAANgIAC0EAIQFB0NMAIAY2AgBBzNMAIAA2AgBBrNAAQX82AgBBsNAAQeTTACgCADYCAEHY0wBBADYCAANAIAFByNAAaiABQbzQAGoiAjYCACACIAFBtNAAaiIDNgIAIAFBwNAAaiADNgIAIAFB0NAAaiABQcTQAGoiAzYCACADIAI2AgAgAUHY0ABqIAFBzNAAaiICNgIAIAIgAzYCACABQdTQAGogAjYCACABQSBqIgFBgAJHDQALQXggAGtBD3EiASAAaiICIAZBOGsiAyABayIBQQFyNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAI2AgAgACADakE4NgIEDAILIAAgAk0NACACIANJDQAgASgCDEEIcQ0AQXggAmtBD3EiACACaiIDQZjQACgCACAGaiIHIABrIgBBAXI2AgQgASAFIAZqNgIEQajQAEH00wAoAgA2AgBBmNAAIAA2AgBBpNAAIAM2AgAgAiAHakE4NgIEDAELIABBnNAAKAIASQRAQZzQACAANgIACyAAIAZqIQNBzNMAIQECQAJAAkADQCADIAEoAgBHBEAgASgCCCIBDQEMAgsLIAEtAAxBCHFFDQELQczTACEBA0AgASgCACIDIAJNBEAgAyABKAIEaiIFIAJLDQMLIAEoAgghAQwACwALIAEgADYCACABIAEoAgQgBmo2AgQgAEF4IABrQQ9xaiIJIARBA3I2AgQgA0F4IANrQQ9xaiIGIAQgCWoiBGshASACIAZGBEBBpNAAIAQ2AgBBmNAAQZjQACgCACABaiIANgIAIAQgAEEBcjYCBAwIC0Gg0AAoAgAgBkYEQEGg0AAgBDYCAEGU0ABBlNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwICyAGKAIEIgVBA3FBAUcNBiAFQXhxIQggBUH/AU0EQCAFQQN2IQMgBigCCCIAIAYoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAcLIAIgADYCCCAAIAI2AgwMBgsgBigCGCEHIAYgBigCDCIARwRAIAAgBigCCCICNgIIIAIgADYCDAwFCyAGQRRqIgIoAgAiBUUEQCAGKAIQIgVFDQQgBkEQaiECCwNAIAIhAyAFIgBBFGoiAigCACIFDQAgAEEQaiECIAAoAhAiBQ0ACyADQQA2AgAMBAtBeCAAa0EPcSIBIABqIgcgBkE4ayIDIAFrIgFBAXI2AgQgACADakE4NgIEIAIgBUE3IAVrQQ9xakE/ayIDIAMgAkEQakkbIgNBIzYCBEGo0ABB9NMAKAIANgIAQZjQACABNgIAQaTQACAHNgIAIANBEGpB1NMAKQIANwIAIANBzNMAKQIANwIIQdTTACADQQhqNgIAQdDTACAGNgIAQczTACAANgIAQdjTAEEANgIAIANBJGohAQNAIAFBBzYCACAFIAFBBGoiAUsNAAsgAiADRg0AIAMgAygCBEF+cTYCBCADIAMgAmsiBTYCACACIAVBAXI2AgQgBUH/AU0EQCAFQXhxQbTQAGohAAJ/QYzQACgCACIBQQEgBUEDdnQiA3FFBEBBjNAAIAEgA3I2AgAgAAwBCyAAKAIICyIBIAI2AgwgACACNgIIIAIgADYCDCACIAE2AggMAQtBHyEBIAVB////B00EQCAFQSYgBUEIdmciAGt2QQFxIABBAXRrQT5qIQELIAIgATYCHCACQgA3AhAgAUECdEG80gBqIQBBkNAAKAIAIgNBASABdCIGcUUEQCAAIAI2AgBBkNAAIAMgBnI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEDAkADQCADIgAoAgRBeHEgBUYNASABQR12IQMgAUEBdCEBIAAgA0EEcWpBEGoiBigCACIDDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLQZjQACgCACIBIARNDQBBpNAAKAIAIgAgBGoiAiABIARrIgFBAXI2AgRBmNAAIAE2AgBBpNAAIAI2AgAgACAEQQNyNgIEIABBCGohAQwIC0EAIQFB/NMAQTA2AgAMBwtBACEACyAHRQ0AAkAgBigCHCICQQJ0QbzSAGoiAygCACAGRgRAIAMgADYCACAADQFBkNAAQZDQACgCAEF+IAJ3cTYCAAwCCyAHQRBBFCAHKAIQIAZGG2ogADYCACAARQ0BCyAAIAc2AhggBigCECICBEAgACACNgIQIAIgADYCGAsgBkEUaigCACICRQ0AIABBFGogAjYCACACIAA2AhgLIAEgCGohASAGIAhqIgYoAgQhBQsgBiAFQX5xNgIEIAEgBGogATYCACAEIAFBAXI2AgQgAUH/AU0EQCABQXhxQbTQAGohAAJ/QYzQACgCACICQQEgAUEDdnQiAXFFBEBBjNAAIAEgAnI2AgAgAAwBCyAAKAIICyIBIAQ2AgwgACAENgIIIAQgADYCDCAEIAE2AggMAQtBHyEFIAFB////B00EQCABQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qIQULIAQgBTYCHCAEQgA3AhAgBUECdEG80gBqIQBBkNAAKAIAIgJBASAFdCIDcUUEQCAAIAQ2AgBBkNAAIAIgA3I2AgAgBCAANgIYIAQgBDYCCCAEIAQ2AgwMAQsgAUEZIAVBAXZrQQAgBUEfRxt0IQUgACgCACEAAkADQCAAIgIoAgRBeHEgAUYNASAFQR12IQAgBUEBdCEFIAIgAEEEcWpBEGoiAygCACIADQALIAMgBDYCACAEIAI2AhggBCAENgIMIAQgBDYCCAwBCyACKAIIIgAgBDYCDCACIAQ2AgggBEEANgIYIAQgAjYCDCAEIAA2AggLIAlBCGohAQwCCwJAIAdFDQACQCADKAIcIgFBAnRBvNIAaiICKAIAIANGBEAgAiAANgIAIAANAUGQ0AAgCEF+IAF3cSIINgIADAILIAdBEEEUIAcoAhAgA0YbaiAANgIAIABFDQELIAAgBzYCGCADKAIQIgEEQCAAIAE2AhAgASAANgIYCyADQRRqKAIAIgFFDQAgAEEUaiABNgIAIAEgADYCGAsCQCAFQQ9NBEAgAyAEIAVqIgBBA3I2AgQgACADaiIAIAAoAgRBAXI2AgQMAQsgAyAEaiICIAVBAXI2AgQgAyAEQQNyNgIEIAIgBWogBTYCACAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIFcUUEQEGM0AAgASAFcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEEBIAF0IgQgCHFFBEAgACACNgIAQZDQACAEIAhyNgIAIAIgADYCGCACIAI2AgggAiACNgIMDAELIAVBGSABQQF2a0EAIAFBH0cbdCEBIAAoAgAhBAJAA0AgBCIAKAIEQXhxIAVGDQEgAUEddiEEIAFBAXQhASAAIARBBHFqQRBqIgYoAgAiBA0ACyAGIAI2AgAgAiAANgIYIAIgAjYCDCACIAI2AggMAQsgACgCCCIBIAI2AgwgACACNgIIIAJBADYCGCACIAA2AgwgAiABNgIICyADQQhqIQEMAQsCQCAJRQ0AAkAgACgCHCIBQQJ0QbzSAGoiAigCACAARgRAIAIgAzYCACADDQFBkNAAIAtBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAARhtqIAM2AgAgA0UNAQsgAyAJNgIYIAAoAhAiAQRAIAMgATYCECABIAM2AhgLIABBFGooAgAiAUUNACADQRRqIAE2AgAgASADNgIYCwJAIAVBD00EQCAAIAQgBWoiAUEDcjYCBCAAIAFqIgEgASgCBEEBcjYCBAwBCyAAIARqIgcgBUEBcjYCBCAAIARBA3I2AgQgBSAHaiAFNgIAIAgEQCAIQXhxQbTQAGohAUGg0AAoAgAhAwJ/QQEgCEEDdnQiAiAGcUUEQEGM0AAgAiAGcjYCACABDAELIAEoAggLIgIgAzYCDCABIAM2AgggAyABNgIMIAMgAjYCCAtBoNAAIAc2AgBBlNAAIAU2AgALIABBCGohAQsgCkEQaiQAIAELQwAgAEUEQD8AQRB0DwsCQCAAQf//A3ENACAAQQBIDQAgAEEQdkAAIgBBf0YEQEH80wBBMDYCAEF/DwsgAEEQdA8LAAsL3D8iAEGACAsJAQAAAAIAAAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4otSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBSZXNwb25zZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucwBVc2VyIGNhbGxiYWNrIGVycm9yAGBvbl9yZXNldGAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2hlYWRlcmAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfYmVnaW5gIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwBB+TULAQEAQZA2C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQf03CwEBAEGROAteAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgBB/TkLAQEAQZE6C14CAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEHwOwsNbG9zZWVlcC1hbGl2ZQBBiTwLAQEAQaA8C+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQYk+CwEBAEGgPgvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBsMAAC18BAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBBkMIACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQcDCAAstcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQoNClNNDQoNClRUUC9DRS9UU1AvAEH5wgALBQECAAEDAEGQwwAL4AEEAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cQACwUBAgABAwBBkMUAC+ABBAEBBQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnGAAsEAQAAAQBBkccAC98BAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+sgACwQBAAACAEGQyQALXwMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAEH6ygALBAEAAAEAQZDLAAsBAQBBqssAC0ECAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB+swACwQBAAABAEGQzQALAQEAQZrNAAsGAgAAAAACAEGxzQALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQfDOAAuWAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==","base64")});var Q_=H((dUr,$6e)=>{"use strict";d();var U6e=["GET","HEAD","POST"],Zmt=new Set(U6e),Xmt=[101,204,205,304],q6e=[301,302,303,307,308],eht=new Set(q6e),W6e=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],tht=new Set(W6e),G6e=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],rht=new Set(G6e),nht=["follow","manual","error"],H6e=["GET","HEAD","OPTIONS","TRACE"],iht=new Set(H6e),oht=["navigate","same-origin","no-cors","cors"],sht=["omit","same-origin","include"],aht=["default","no-store","reload","no-cache","force-cache","only-if-cached"],lht=["content-encoding","content-language","content-location","content-type","content-length"],cht=["half"],j6e=["CONNECT","TRACE","TRACK"],uht=new Set(j6e),V6e=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],fht=new Set(V6e);$6e.exports={subresource:V6e,forbiddenMethods:j6e,requestBodyHeader:lht,referrerPolicy:G6e,requestRedirect:nht,requestMode:oht,requestCredentials:sht,requestCache:aht,redirectStatus:q6e,corsSafeListedMethods:U6e,nullBodyStatus:Xmt,safeMethods:H6e,badPorts:W6e,requestDuplex:cht,subresourceSet:fht,badPortsSet:tht,redirectStatusSet:eht,corsSafeListedMethodsSet:Zmt,safeMethodsSet:iht,forbiddenMethodsSet:uht,referrerPolicySet:rht}});var ine=H((hUr,z6e)=>{"use strict";d();var nne=Symbol.for("undici.globalOrigin.1");function dht(){return globalThis[nne]}o(dht,"getGlobalOrigin");function mht(e){if(e===void 0){Object.defineProperty(globalThis,nne,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let t=new URL(e);if(t.protocol!=="http:"&&t.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${t.protocol}`);Object.defineProperty(globalThis,nne,{value:t,writable:!0,enumerable:!1,configurable:!1})}o(mht,"setGlobalOrigin");z6e.exports={getGlobalOrigin:dht,setGlobalOrigin:mht}});var au=H((AUr,t9e)=>{"use strict";d();var _O=require("node:assert"),hht=new TextEncoder,M_=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,pht=/[\u000A\u000D\u0009\u0020]/,ght=/[\u0009\u000A\u000C\u000D\u0020]/g,Aht=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function yht(e){_O(e.protocol==="data:");let t=J6e(e,!0);t=t.slice(5);let r={position:0},n=S8(",",t,r),i=n.length;if(n=Iht(n,!0,!0),r.position>=t.length)return"failure";r.position++;let s=t.slice(i+1),a=Z6e(s);if(/;(\u0020){0,}base64$/i.test(n)){let c=e9e(a);if(a=xht(c),a==="failure")return"failure";n=n.slice(0,-6),n=n.replace(/(\u0020)+$/,""),n=n.slice(0,-1)}n.startsWith(";")&&(n="text/plain"+n);let l=one(n);return l==="failure"&&(l=one("text/plain;charset=US-ASCII")),{mimeType:l,body:a}}o(yht,"dataURLProcessor");function J6e(e,t=!1){if(!t)return e.href;let r=e.href,n=e.hash.length,i=n===0?r:r.substring(0,r.length-n);return!n&&r.endsWith("#")?i.slice(0,-1):i}o(J6e,"URLSerializer");function SO(e,t,r){let n="";for(;r.position<t.length&&e(t[r.position]);)n+=t[r.position],r.position++;return n}o(SO,"collectASequenceOfCodePoints");function S8(e,t,r){let n=t.indexOf(e,r.position),i=r.position;return n===-1?(r.position=t.length,t.slice(i)):(r.position=n,t.slice(i,r.position))}o(S8,"collectASequenceOfCodePointsFast");function Z6e(e){let t=hht.encode(e);return Cht(t)}o(Z6e,"stringPercentDecode");function Y6e(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}o(Y6e,"isHexCharByte");function K6e(e){return e>=48&&e<=57?e-48:(e&223)-55}o(K6e,"hexByteToNumber");function Cht(e){let t=e.length,r=new Uint8Array(t),n=0;for(let i=0;i<t;++i){let s=e[i];s!==37?r[n++]=s:s===37&&!(Y6e(e[i+1])&&Y6e(e[i+2]))?r[n++]=37:(r[n++]=K6e(e[i+1])<<4|K6e(e[i+2]),i+=2)}return t===n?r:r.subarray(0,n)}o(Cht,"percentDecode");function one(e){e=wO(e,!0,!0);let t={position:0},r=S8("/",e,t);if(r.length===0||!M_.test(r)||t.position>e.length)return"failure";t.position++;let n=S8(";",e,t);if(n=wO(n,!1,!0),n.length===0||!M_.test(n))return"failure";let i=r.toLowerCase(),s=n.toLowerCase(),a={type:i,subtype:s,parameters:new Map,essence:`${i}/${s}`};for(;t.position<e.length;){t.position++,SO(u=>pht.test(u),e,t);let l=SO(u=>u!==";"&&u!=="=",e,t);if(l=l.toLowerCase(),t.position<e.length){if(e[t.position]===";")continue;t.position++}if(t.position>e.length)break;let c=null;if(e[t.position]==='"')c=X6e(e,t,!0),S8(";",e,t);else if(c=S8(";",e,t),c=wO(c,!1,!0),c.length===0)continue;l.length!==0&&M_.test(l)&&(c.length===0||Aht.test(c))&&!a.parameters.has(l)&&a.parameters.set(l,c)}return a}o(one,"parseMIMEType");function xht(e){e=e.replace(ght,"");let t=e.length;if(t%4===0&&e.charCodeAt(t-1)===61&&(--t,e.charCodeAt(t-1)===61&&--t),t%4===1||/[^+/0-9A-Za-z]/.test(e.length===t?e:e.substring(0,t)))return"failure";let r=Buffer.from(e,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}o(xht,"forgivingBase64");function X6e(e,t,r){let n=t.position,i="";for(_O(e[t.position]==='"'),t.position++;i+=SO(a=>a!=='"'&&a!=="\\",e,t),!(t.position>=e.length);){let s=e[t.position];if(t.position++,s==="\\"){if(t.position>=e.length){i+="\\";break}i+=e[t.position],t.position++}else{_O(s==='"');break}}return r?i:e.slice(n,t.position)}o(X6e,"collectAnHTTPQuotedString");function vht(e){_O(e!=="failure");let{parameters:t,essence:r}=e,n=r;for(let[i,s]of t.entries())n+=";",n+=i,n+="=",M_.test(s)||(s=s.replace(/(\\|")/g,"\\$1"),s='"'+s,s+='"'),n+=s;return n}o(vht,"serializeAMimeType");function bht(e){return e===13||e===10||e===9||e===32}o(bht,"isHTTPWhiteSpace");function wO(e,t=!0,r=!0){return sne(e,t,r,bht)}o(wO,"removeHTTPWhitespace");function Eht(e){return e===13||e===10||e===9||e===12||e===32}o(Eht,"isASCIIWhitespace");function Iht(e,t=!0,r=!0){return sne(e,t,r,Eht)}o(Iht,"removeASCIIWhitespace");function sne(e,t,r,n){let i=0,s=e.length-1;if(t)for(;i<e.length&&n(e.charCodeAt(i));)i++;if(r)for(;s>0&&n(e.charCodeAt(s));)s--;return i===0&&s===e.length-1?e:e.slice(i,s+1)}o(sne,"removeChars");function e9e(e){let t=e.length;if(65535>t)return String.fromCharCode.apply(null,e);let r="",n=0,i=65535;for(;n<t;)n+i>t&&(i=t-n),r+=String.fromCharCode.apply(null,e.subarray(n,n+=i));return r}o(e9e,"isomorphicDecode");function Tht(e){switch(e.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return e.subtype.endsWith("+json")?"application/json":e.subtype.endsWith("+xml")?"application/xml":""}o(Tht,"minimizeSupportedMimeType");t9e.exports={dataURLProcessor:yht,URLSerializer:J6e,collectASequenceOfCodePoints:SO,collectASequenceOfCodePointsFast:S8,stringPercentDecode:Z6e,parseMIMEType:one,collectAnHTTPQuotedString:X6e,serializeAMimeType:vht,removeChars:sne,removeHTTPWhitespace:wO,minimizeSupportedMimeType:Tht,HTTP_TOKEN_CODEPOINTS:M_,isomorphicDecode:e9e}});var ic=H((xUr,r9e)=>{"use strict";d();var{types:Kp,inspect:wht}=require("node:util"),{markAsUncloneable:_ht}=require("node:worker_threads"),{toUSVString:Sht}=Ci(),Vt={};Vt.converters={};Vt.util={};Vt.errors={};Vt.errors.exception=function(e){return new TypeError(`${e.header}: ${e.message}`)};Vt.errors.conversionFailed=function(e){let t=e.types.length===1?"":" one of",r=`${e.argument} could not be converted to${t}: ${e.types.join(", ")}.`;return Vt.errors.exception({header:e.prefix,message:r})};Vt.errors.invalidArgument=function(e){return Vt.errors.exception({header:e.prefix,message:`"${e.value}" is an invalid ${e.type}.`})};Vt.brandCheck=function(e,t,r){if(r?.strict!==!1){if(!(e instanceof t)){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}}else if(e?.[Symbol.toStringTag]!==t.prototype[Symbol.toStringTag]){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}};Vt.argumentLengthCheck=function({length:e},t,r){if(e<t)throw Vt.errors.exception({message:`${t} argument${t!==1?"s":""} required, but${e?" only":""} ${e} found.`,header:r})};Vt.illegalConstructor=function(){throw Vt.errors.exception({header:"TypeError",message:"Illegal constructor"})};Vt.util.Type=function(e){switch(typeof e){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return e===null?"Null":"Object"}};Vt.util.markAsUncloneable=_ht||(()=>{});Vt.util.ConvertToInt=function(e,t,r,n){let i,s;t===64?(i=Math.pow(2,53)-1,r==="unsigned"?s=0:s=Math.pow(-2,53)+1):r==="unsigned"?(s=0,i=Math.pow(2,t)-1):(s=Math.pow(-2,t)-1,i=Math.pow(2,t-1)-1);let a=Number(e);if(a===0&&(a=0),n?.enforceRange===!0){if(Number.isNaN(a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)throw Vt.errors.exception({header:"Integer conversion",message:`Could not convert ${Vt.util.Stringify(e)} to an integer.`});if(a=Vt.util.IntegerPart(a),a<s||a>i)throw Vt.errors.exception({header:"Integer conversion",message:`Value must be between ${s}-${i}, got ${a}.`});return a}return!Number.isNaN(a)&&n?.clamp===!0?(a=Math.min(Math.max(a,s),i),Math.floor(a)%2===0?a=Math.floor(a):a=Math.ceil(a),a):Number.isNaN(a)||a===0&&Object.is(0,a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY?0:(a=Vt.util.IntegerPart(a),a=a%Math.pow(2,t),r==="signed"&&a>=Math.pow(2,t)-1?a-Math.pow(2,t):a)};Vt.util.IntegerPart=function(e){let t=Math.floor(Math.abs(e));return e<0?-1*t:t};Vt.util.Stringify=function(e){switch(Vt.util.Type(e)){case"Symbol":return`Symbol(${e.description})`;case"Object":return wht(e);case"String":return`"${e}"`;default:return`${e}`}};Vt.sequenceConverter=function(e){return(t,r,n,i)=>{if(Vt.util.Type(t)!=="Object")throw Vt.errors.exception({header:r,message:`${n} (${Vt.util.Stringify(t)}) is not iterable.`});let s=typeof i=="function"?i():t?.[Symbol.iterator]?.(),a=[],l=0;if(s===void 0||typeof s.next!="function")throw Vt.errors.exception({header:r,message:`${n} is not iterable.`});for(;;){let{done:c,value:u}=s.next();if(c)break;a.push(e(u,r,`${n}[${l++}]`))}return a}};Vt.recordConverter=function(e,t){return(r,n,i)=>{if(Vt.util.Type(r)!=="Object")throw Vt.errors.exception({header:n,message:`${i} ("${Vt.util.Type(r)}") is not an Object.`});let s={};if(!Kp.isProxy(r)){let l=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(let c of l){let u=e(c,n,i),f=t(r[c],n,i);s[u]=f}return s}let a=Reflect.ownKeys(r);for(let l of a)if(Reflect.getOwnPropertyDescriptor(r,l)?.enumerable){let u=e(l,n,i),f=t(r[l],n,i);s[u]=f}return s}};Vt.interfaceConverter=function(e){return(t,r,n,i)=>{if(i?.strict!==!1&&!(t instanceof e))throw Vt.errors.exception({header:r,message:`Expected ${n} ("${Vt.util.Stringify(t)}") to be an instance of ${e.name}.`});return t}};Vt.dictionaryConverter=function(e){return(t,r,n)=>{let i=Vt.util.Type(t),s={};if(i==="Null"||i==="Undefined")return s;if(i!=="Object")throw Vt.errors.exception({header:r,message:`Expected ${t} to be one of: Null, Undefined, Object.`});for(let a of e){let{key:l,defaultValue:c,required:u,converter:f}=a;if(u===!0&&!Object.hasOwn(t,l))throw Vt.errors.exception({header:r,message:`Missing required key "${l}".`});let m=t[l],h=Object.hasOwn(a,"defaultValue");if(h&&m!==null&&(m??=c()),u||h||m!==void 0){if(m=f(m,r,`${n}.${l}`),a.allowedValues&&!a.allowedValues.includes(m))throw Vt.errors.exception({header:r,message:`${m} is not an accepted type. Expected one of ${a.allowedValues.join(", ")}.`});s[l]=m}}return s}};Vt.nullableConverter=function(e){return(t,r,n)=>t===null?t:e(t,r,n)};Vt.converters.DOMString=function(e,t,r,n){if(e===null&&n?.legacyNullToEmptyString)return"";if(typeof e=="symbol")throw Vt.errors.exception({header:t,message:`${r} is a symbol, which cannot be converted to a DOMString.`});return String(e)};Vt.converters.ByteString=function(e,t,r){let n=Vt.converters.DOMString(e,t,r);for(let i=0;i<n.length;i++)if(n.charCodeAt(i)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${i} has a value of ${n.charCodeAt(i)} which is greater than 255.`);return n};Vt.converters.USVString=Sht;Vt.converters.boolean=function(e){return!!e};Vt.converters.any=function(e){return e};Vt.converters["long long"]=function(e,t,r){return Vt.util.ConvertToInt(e,64,"signed",void 0,t,r)};Vt.converters["unsigned long long"]=function(e,t,r){return Vt.util.ConvertToInt(e,64,"unsigned",void 0,t,r)};Vt.converters["unsigned long"]=function(e,t,r){return Vt.util.ConvertToInt(e,32,"unsigned",void 0,t,r)};Vt.converters["unsigned short"]=function(e,t,r,n){return Vt.util.ConvertToInt(e,16,"unsigned",n,t,r)};Vt.converters.ArrayBuffer=function(e,t,r,n){if(Vt.util.Type(e)!=="Object"||!Kp.isAnyArrayBuffer(e))throw Vt.errors.conversionFailed({prefix:t,argument:`${r} ("${Vt.util.Stringify(e)}")`,types:["ArrayBuffer"]});if(n?.allowShared===!1&&Kp.isSharedArrayBuffer(e))throw Vt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.resizable||e.growable)throw Vt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};Vt.converters.TypedArray=function(e,t,r,n,i){if(Vt.util.Type(e)!=="Object"||!Kp.isTypedArray(e)||e.constructor.name!==t.name)throw Vt.errors.conversionFailed({prefix:r,argument:`${n} ("${Vt.util.Stringify(e)}")`,types:[t.name]});if(i?.allowShared===!1&&Kp.isSharedArrayBuffer(e.buffer))throw Vt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw Vt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};Vt.converters.DataView=function(e,t,r,n){if(Vt.util.Type(e)!=="Object"||!Kp.isDataView(e))throw Vt.errors.exception({header:t,message:`${r} is not a DataView.`});if(n?.allowShared===!1&&Kp.isSharedArrayBuffer(e.buffer))throw Vt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw Vt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};Vt.converters.BufferSource=function(e,t,r,n){if(Kp.isAnyArrayBuffer(e))return Vt.converters.ArrayBuffer(e,t,r,{...n,allowShared:!1});if(Kp.isTypedArray(e))return Vt.converters.TypedArray(e,e.constructor,t,r,{...n,allowShared:!1});if(Kp.isDataView(e))return Vt.converters.DataView(e,t,r,{...n,allowShared:!1});throw Vt.errors.conversionFailed({prefix:t,argument:`${r} ("${Vt.util.Stringify(e)}")`,types:["BufferSource"]})};Vt.converters["sequence<ByteString>"]=Vt.sequenceConverter(Vt.converters.ByteString);Vt.converters["sequence<sequence<ByteString>>"]=Vt.sequenceConverter(Vt.converters["sequence<ByteString>"]);Vt.converters["record<ByteString, ByteString>"]=Vt.recordConverter(Vt.converters.ByteString,Vt.converters.ByteString);r9e.exports={webidl:Vt}});var mf=H((bUr,g9e)=>{"use strict";d();var{Transform:kht}=require("node:stream"),n9e=require("node:zlib"),{redirectStatusSet:Rht,referrerPolicySet:Bht,badPortsSet:Dht}=Q_(),{getGlobalOrigin:i9e}=ine(),{collectASequenceOfCodePoints:dx,collectAnHTTPQuotedString:Pht,removeChars:Fht,parseMIMEType:Nht}=au(),{performance:Lht}=require("node:perf_hooks"),{isBlobLike:Qht,ReadableStreamFrom:Mht,isValidHTTPToken:o9e,normalizedMethodRecordsBase:Oht}=Ci(),mx=require("node:assert"),{isUint8Array:Uht}=require("node:util/types"),{webidl:O_}=ic(),s9e=[],RO;try{RO=require("node:crypto");let e=["sha256","sha384","sha512"];s9e=RO.getHashes().filter(t=>e.includes(t))}catch{}function a9e(e){let t=e.urlList,r=t.length;return r===0?null:t[r-1].toString()}o(a9e,"responseURL");function qht(e,t){if(!Rht.has(e.status))return null;let r=e.headersList.get("location",!0);return r!==null&&c9e(r)&&(l9e(r)||(r=Wht(r)),r=new URL(r,a9e(e))),r&&!r.hash&&(r.hash=t),r}o(qht,"responseLocationURL");function l9e(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>126||r<32)return!1}return!0}o(l9e,"isValidEncodedURL");function Wht(e){return Buffer.from(e,"binary").toString("utf8")}o(Wht,"normalizeBinaryStringToUtf8");function q_(e){return e.urlList[e.urlList.length-1]}o(q_,"requestCurrentURL");function Ght(e){let t=q_(e);return h9e(t)&&Dht.has(t.port)?"blocked":"allowed"}o(Ght,"requestBadPort");function Hht(e){return e instanceof Error||e?.constructor?.name==="Error"||e?.constructor?.name==="DOMException"}o(Hht,"isErrorLike");function jht(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(!(r===9||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0}o(jht,"isValidReasonPhrase");var Vht=o9e;function c9e(e){return(e[0]==="	"||e[0]===" "||e[e.length-1]==="	"||e[e.length-1]===" "||e.includes(`
`)||e.includes("\r")||e.includes("\0"))===!1}o(c9e,"isValidHeaderValue");function $ht(e,t){let{headersList:r}=t,n=(r.get("referrer-policy",!0)??"").split(","),i="";if(n.length>0)for(let s=n.length;s!==0;s--){let a=n[s-1].trim();if(Bht.has(a)){i=a;break}}i!==""&&(e.referrerPolicy=i)}o($ht,"setRequestReferrerPolicyOnRedirect");function zht(){return"allowed"}o(zht,"crossOriginResourcePolicyCheck");function Yht(){return"success"}o(Yht,"corsCheck");function Kht(){return"success"}o(Kht,"TAOCheck");function Jht(e){let t=null;t=e.mode,e.headersList.set("sec-fetch-mode",t,!0)}o(Jht,"appendFetchMetadata");function Zht(e){let t=e.origin;if(!(t==="client"||t===void 0)){if(e.responseTainting==="cors"||e.mode==="websocket")e.headersList.append("origin",t,!0);else if(e.method!=="GET"&&e.method!=="HEAD"){switch(e.referrerPolicy){case"no-referrer":t=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":e.origin&&lne(e.origin)&&!lne(q_(e))&&(t=null);break;case"same-origin":BO(e,q_(e))||(t=null);break;default:}e.headersList.append("origin",t,!0)}}}o(Zht,"appendRequestOriginHeader");function k8(e,t){return e}o(k8,"coarsenTime");function Xht(e,t,r){return!e?.startTime||e.startTime<t?{domainLookupStartTime:t,domainLookupEndTime:t,connectionStartTime:t,connectionEndTime:t,secureConnectionStartTime:t,ALPNNegotiatedProtocol:e?.ALPNNegotiatedProtocol}:{domainLookupStartTime:k8(e.domainLookupStartTime,r),domainLookupEndTime:k8(e.domainLookupEndTime,r),connectionStartTime:k8(e.connectionStartTime,r),connectionEndTime:k8(e.connectionEndTime,r),secureConnectionStartTime:k8(e.secureConnectionStartTime,r),ALPNNegotiatedProtocol:e.ALPNNegotiatedProtocol}}o(Xht,"clampAndCoarsenConnectionTimingInfo");function ept(e){return k8(Lht.now(),e)}o(ept,"coarsenedSharedCurrentTime");function tpt(e){return{startTime:e.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:e.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}o(tpt,"createOpaqueTimingInfo");function u9e(){return{referrerPolicy:"strict-origin-when-cross-origin"}}o(u9e,"makePolicyContainer");function rpt(e){return{referrerPolicy:e.referrerPolicy}}o(rpt,"clonePolicyContainer");function npt(e){let t=e.referrerPolicy;mx(t);let r=null;if(e.referrer==="client"){let l=i9e();if(!l||l.origin==="null")return"no-referrer";r=new URL(l)}else e.referrer instanceof URL&&(r=e.referrer);let n=ane(r),i=ane(r,!0);n.toString().length>4096&&(n=i);let s=BO(e,n),a=U_(n)&&!U_(e.url);switch(t){case"origin":return i??ane(r,!0);case"unsafe-url":return n;case"same-origin":return s?i:"no-referrer";case"origin-when-cross-origin":return s?n:i;case"strict-origin-when-cross-origin":{let l=q_(e);return BO(n,l)?n:U_(n)&&!U_(l)?"no-referrer":i}case"strict-origin":case"no-referrer-when-downgrade":default:return a?"no-referrer":i}}o(npt,"determineRequestsReferrer");function ane(e,t){return mx(e instanceof URL),e=new URL(e),e.protocol==="file:"||e.protocol==="about:"||e.protocol==="blank:"?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}o(ane,"stripURLForReferrer");function U_(e){if(!(e instanceof URL))return!1;if(e.href==="about:blank"||e.href==="about:srcdoc"||e.protocol==="data:"||e.protocol==="file:")return!0;return t(e.origin);function t(r){if(r==null||r==="null")return!1;let n=new URL(r);return!!(n.protocol==="https:"||n.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(n.hostname)||n.hostname==="localhost"||n.hostname.includes("localhost.")||n.hostname.endsWith(".localhost"))}}o(U_,"isURLPotentiallyTrustworthy");function ipt(e,t){if(RO===void 0)return!0;let r=f9e(t);if(r==="no metadata"||r.length===0)return!0;let n=spt(r),i=apt(r,n);for(let s of i){let a=s.algo,l=s.hash,c=RO.createHash(a).update(e).digest("base64");if(c[c.length-1]==="="&&(c[c.length-2]==="="?c=c.slice(0,-2):c=c.slice(0,-1)),lpt(c,l))return!0}return!1}o(ipt,"bytesMatch");var opt=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function f9e(e){let t=[],r=!0;for(let n of e.split(" ")){r=!1;let i=opt.exec(n);if(i===null||i.groups===void 0||i.groups.algo===void 0)continue;let s=i.groups.algo.toLowerCase();s9e.includes(s)&&t.push(i.groups)}return r===!0?"no metadata":t}o(f9e,"parseMetadata");function spt(e){let t=e[0].algo;if(t[3]==="5")return t;for(let r=1;r<e.length;++r){let n=e[r];if(n.algo[3]==="5"){t="sha512";break}else{if(t[3]==="3")continue;n.algo[3]==="3"&&(t="sha384")}}return t}o(spt,"getStrongestMetadata");function apt(e,t){if(e.length===1)return e;let r=0;for(let n=0;n<e.length;++n)e[n].algo===t&&(e[r++]=e[n]);return e.length=r,e}o(apt,"filterMetadataListByAlgorithm");function lpt(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r]){if(e[r]==="+"&&t[r]==="-"||e[r]==="/"&&t[r]==="_")continue;return!1}return!0}o(lpt,"compareBase64Mixed");function cpt(e){}o(cpt,"tryUpgradeRequestToAPotentiallyTrustworthyURL");function BO(e,t){return e.origin===t.origin&&e.origin==="null"||e.protocol===t.protocol&&e.hostname===t.hostname&&e.port===t.port}o(BO,"sameOrigin");function upt(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}}o(upt,"createDeferredPromise");function fpt(e){return e.controller.state==="aborted"}o(fpt,"isAborted");function dpt(e){return e.controller.state==="aborted"||e.controller.state==="terminated"}o(dpt,"isCancelled");function mpt(e){return Oht[e.toLowerCase()]??e}o(mpt,"normalizeMethod");function hpt(e){let t=JSON.stringify(e);if(t===void 0)throw new TypeError("Value is not JSON serializable");return mx(typeof t=="string"),t}o(hpt,"serializeJavascriptValueToJSONString");var ppt=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function d9e(e,t,r=0,n=1){class i{static{o(this,"FastIterableIterator")}#e;#t;#i;constructor(a,l){this.#e=a,this.#t=l,this.#i=0}next(){if(typeof this!="object"||this===null||!(#e in this))throw new TypeError(`'next' called on an object that does not implement interface ${e} Iterator.`);let a=this.#i,l=this.#e[t],c=l.length;if(a>=c)return{value:void 0,done:!0};let{[r]:u,[n]:f}=l[a];this.#i=a+1;let m;switch(this.#t){case"key":m=u;break;case"value":m=f;break;case"key+value":m=[u,f];break}return{value:m,done:!1}}}return delete i.prototype.constructor,Object.setPrototypeOf(i.prototype,ppt),Object.defineProperties(i.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${e} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(s,a){return new i(s,a)}}o(d9e,"createIterator");function gpt(e,t,r,n=0,i=1){let s=d9e(e,r,n,i),a={keys:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return O_.brandCheck(this,t),s(this,"key")},"keys")},values:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return O_.brandCheck(this,t),s(this,"value")},"values")},entries:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return O_.brandCheck(this,t),s(this,"key+value")},"entries")},forEach:{writable:!0,enumerable:!0,configurable:!0,value:o(function(c,u=globalThis){if(O_.brandCheck(this,t),O_.argumentLengthCheck(arguments,1,`${e}.forEach`),typeof c!="function")throw new TypeError(`Failed to execute 'forEach' on '${e}': parameter 1 is not of type 'Function'.`);for(let{0:f,1:m}of s(this,"key+value"))c.call(u,m,f,this)},"forEach")}};return Object.defineProperties(t.prototype,{...a,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:a.entries.value}})}o(gpt,"iteratorMixin");async function Apt(e,t,r){let n=t,i=r,s;try{s=e.stream.getReader()}catch(a){i(a);return}try{n(await m9e(s))}catch(a){i(a)}}o(Apt,"fullyReadBody");function ypt(e){return e instanceof ReadableStream||e[Symbol.toStringTag]==="ReadableStream"&&typeof e.tee=="function"}o(ypt,"isReadableStreamLike");function Cpt(e){try{e.close(),e.byobRequest?.respond(0)}catch(t){if(!t.message.includes("Controller is already closed")&&!t.message.includes("ReadableStream is already closed"))throw t}}o(Cpt,"readableStreamClose");var xpt=/[^\x00-\xFF]/;function kO(e){return mx(!xpt.test(e)),e}o(kO,"isomorphicEncode");async function m9e(e){let t=[],r=0;for(;;){let{done:n,value:i}=await e.read();if(n)return Buffer.concat(t,r);if(!Uht(i))throw new TypeError("Received non-Uint8Array chunk");t.push(i),r+=i.length}}o(m9e,"readAllBytes");function vpt(e){mx("protocol"in e);let t=e.protocol;return t==="about:"||t==="blob:"||t==="data:"}o(vpt,"urlIsLocal");function lne(e){return typeof e=="string"&&e[5]===":"&&e[0]==="h"&&e[1]==="t"&&e[2]==="t"&&e[3]==="p"&&e[4]==="s"||e.protocol==="https:"}o(lne,"urlHasHttpsScheme");function h9e(e){mx("protocol"in e);let t=e.protocol;return t==="http:"||t==="https:"}o(h9e,"urlIsHttpHttpsScheme");function bpt(e,t){let r=e;if(!r.startsWith("bytes"))return"failure";let n={position:5};if(t&&dx(c=>c==="	"||c===" ",r,n),r.charCodeAt(n.position)!==61)return"failure";n.position++,t&&dx(c=>c==="	"||c===" ",r,n);let i=dx(c=>{let u=c.charCodeAt(0);return u>=48&&u<=57},r,n),s=i.length?Number(i):null;if(t&&dx(c=>c==="	"||c===" ",r,n),r.charCodeAt(n.position)!==45)return"failure";n.position++,t&&dx(c=>c==="	"||c===" ",r,n);let a=dx(c=>{let u=c.charCodeAt(0);return u>=48&&u<=57},r,n),l=a.length?Number(a):null;return n.position<r.length||l===null&&s===null||s>l?"failure":{rangeStartValue:s,rangeEndValue:l}}o(bpt,"simpleRangeHeaderValue");function Ept(e,t,r){let n="bytes ";return n+=kO(`${e}`),n+="-",n+=kO(`${t}`),n+="/",n+=kO(`${r}`),n}o(Ept,"buildContentRange");var cne=class extends kht{static{o(this,"InflateStream")}#e;constructor(t){super(),this.#e=t}_transform(t,r,n){if(!this._inflateStream){if(t.length===0){n();return}this._inflateStream=(t[0]&15)===8?n9e.createInflate(this.#e):n9e.createInflateRaw(this.#e),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",i=>this.destroy(i))}this._inflateStream.write(t,r,n)}_final(t){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),t()}};function Ipt(e){return new cne(e)}o(Ipt,"createInflate");function Tpt(e){let t=null,r=null,n=null,i=p9e("content-type",e);if(i===null)return"failure";for(let s of i){let a=Nht(s);a==="failure"||a.essence==="*/*"||(n=a,n.essence!==r?(t=null,n.parameters.has("charset")&&(t=n.parameters.get("charset")),r=n.essence):!n.parameters.has("charset")&&t!==null&&n.parameters.set("charset",t))}return n??"failure"}o(Tpt,"extractMimeType");function wpt(e){let t=e,r={position:0},n=[],i="";for(;r.position<t.length;){if(i+=dx(s=>s!=='"'&&s!==",",t,r),r.position<t.length)if(t.charCodeAt(r.position)===34){if(i+=Pht(t,r),r.position<t.length)continue}else mx(t.charCodeAt(r.position)===44),r.position++;i=Fht(i,!0,!0,s=>s===9||s===32),n.push(i),i=""}return n}o(wpt,"gettingDecodingSplitting");function p9e(e,t){let r=t.get(e,!0);return r===null?null:wpt(r)}o(p9e,"getDecodeSplit");var _pt=new TextDecoder;function Spt(e){return e.length===0?"":(e[0]===239&&e[1]===187&&e[2]===191&&(e=e.subarray(3)),_pt.decode(e))}o(Spt,"utf8DecodeBytes");var une=class{static{o(this,"EnvironmentSettingsObjectBase")}get baseUrl(){return i9e()}get origin(){return this.baseUrl?.origin}policyContainer=u9e()},fne=class{static{o(this,"EnvironmentSettingsObject")}settingsObject=new une},kpt=new fne;g9e.exports={isAborted:fpt,isCancelled:dpt,isValidEncodedURL:l9e,createDeferredPromise:upt,ReadableStreamFrom:Mht,tryUpgradeRequestToAPotentiallyTrustworthyURL:cpt,clampAndCoarsenConnectionTimingInfo:Xht,coarsenedSharedCurrentTime:ept,determineRequestsReferrer:npt,makePolicyContainer:u9e,clonePolicyContainer:rpt,appendFetchMetadata:Jht,appendRequestOriginHeader:Zht,TAOCheck:Kht,corsCheck:Yht,crossOriginResourcePolicyCheck:zht,createOpaqueTimingInfo:tpt,setRequestReferrerPolicyOnRedirect:$ht,isValidHTTPToken:o9e,requestBadPort:Ght,requestCurrentURL:q_,responseURL:a9e,responseLocationURL:qht,isBlobLike:Qht,isURLPotentiallyTrustworthy:U_,isValidReasonPhrase:jht,sameOrigin:BO,normalizeMethod:mpt,serializeJavascriptValueToJSONString:hpt,iteratorMixin:gpt,createIterator:d9e,isValidHeaderName:Vht,isValidHeaderValue:c9e,isErrorLike:Hht,fullyReadBody:Apt,bytesMatch:ipt,isReadableStreamLike:ypt,readableStreamClose:Cpt,isomorphicEncode:kO,urlIsLocal:vpt,urlHasHttpsScheme:lne,urlIsHttpHttpsScheme:h9e,readAllBytes:m9e,simpleRangeHeaderValue:bpt,buildContentRange:Ept,parseMetadata:f9e,createInflate:Ipt,extractMimeType:Tpt,getDecodeSplit:p9e,utf8DecodeBytes:Spt,environmentSettingsObject:kpt}});var k5=H((TUr,A9e)=>{"use strict";d();A9e.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kDispatcher:Symbol("dispatcher")}});var mne=H((_Ur,y9e)=>{"use strict";d();var{Blob:Rpt,File:Bpt}=require("node:buffer"),{kState:dA}=k5(),{webidl:Jp}=ic(),dne=class e{static{o(this,"FileLike")}constructor(t,r,n={}){let i=r,s=n.type,a=n.lastModified??Date.now();this[dA]={blobLike:t,name:i,type:s,lastModified:a}}stream(...t){return Jp.brandCheck(this,e),this[dA].blobLike.stream(...t)}arrayBuffer(...t){return Jp.brandCheck(this,e),this[dA].blobLike.arrayBuffer(...t)}slice(...t){return Jp.brandCheck(this,e),this[dA].blobLike.slice(...t)}text(...t){return Jp.brandCheck(this,e),this[dA].blobLike.text(...t)}get size(){return Jp.brandCheck(this,e),this[dA].blobLike.size}get type(){return Jp.brandCheck(this,e),this[dA].blobLike.type}get name(){return Jp.brandCheck(this,e),this[dA].name}get lastModified(){return Jp.brandCheck(this,e),this[dA].lastModified}get[Symbol.toStringTag](){return"File"}};Jp.converters.Blob=Jp.interfaceConverter(Rpt);function Dpt(e){return e instanceof Bpt||e&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&e[Symbol.toStringTag]==="File"}o(Dpt,"isFileLike");y9e.exports={FileLike:dne,isFileLike:Dpt}});var G_=H((RUr,E9e)=>{"use strict";d();var{isBlobLike:DO,iteratorMixin:Ppt}=mf(),{kState:d0}=k5(),{kEnumerableProperty:R8}=Ci(),{FileLike:C9e,isFileLike:Fpt}=mne(),{webidl:Xo}=ic(),{File:b9e}=require("node:buffer"),x9e=require("node:util"),v9e=globalThis.File??b9e,W_=class e{static{o(this,"FormData")}constructor(t){if(Xo.util.markAsUncloneable(this),t!==void 0)throw Xo.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[d0]=[]}append(t,r,n=void 0){Xo.brandCheck(this,e);let i="FormData.append";if(Xo.argumentLengthCheck(arguments,2,i),arguments.length===3&&!DO(r))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");t=Xo.converters.USVString(t,i,"name"),r=DO(r)?Xo.converters.Blob(r,i,"value",{strict:!1}):Xo.converters.USVString(r,i,"value"),n=arguments.length===3?Xo.converters.USVString(n,i,"filename"):void 0;let s=hne(t,r,n);this[d0].push(s)}delete(t){Xo.brandCheck(this,e);let r="FormData.delete";Xo.argumentLengthCheck(arguments,1,r),t=Xo.converters.USVString(t,r,"name"),this[d0]=this[d0].filter(n=>n.name!==t)}get(t){Xo.brandCheck(this,e);let r="FormData.get";Xo.argumentLengthCheck(arguments,1,r),t=Xo.converters.USVString(t,r,"name");let n=this[d0].findIndex(i=>i.name===t);return n===-1?null:this[d0][n].value}getAll(t){Xo.brandCheck(this,e);let r="FormData.getAll";return Xo.argumentLengthCheck(arguments,1,r),t=Xo.converters.USVString(t,r,"name"),this[d0].filter(n=>n.name===t).map(n=>n.value)}has(t){Xo.brandCheck(this,e);let r="FormData.has";return Xo.argumentLengthCheck(arguments,1,r),t=Xo.converters.USVString(t,r,"name"),this[d0].findIndex(n=>n.name===t)!==-1}set(t,r,n=void 0){Xo.brandCheck(this,e);let i="FormData.set";if(Xo.argumentLengthCheck(arguments,2,i),arguments.length===3&&!DO(r))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");t=Xo.converters.USVString(t,i,"name"),r=DO(r)?Xo.converters.Blob(r,i,"name",{strict:!1}):Xo.converters.USVString(r,i,"name"),n=arguments.length===3?Xo.converters.USVString(n,i,"name"):void 0;let s=hne(t,r,n),a=this[d0].findIndex(l=>l.name===t);a!==-1?this[d0]=[...this[d0].slice(0,a),s,...this[d0].slice(a+1).filter(l=>l.name!==t)]:this[d0].push(s)}[x9e.inspect.custom](t,r){let n=this[d0].reduce((s,a)=>(s[a.name]?Array.isArray(s[a.name])?s[a.name].push(a.value):s[a.name]=[s[a.name],a.value]:s[a.name]=a.value,s),{__proto__:null});r.depth??=t,r.colors??=!0;let i=x9e.formatWithOptions(r,n);return`FormData ${i.slice(i.indexOf("]")+2)}`}};Ppt("FormData",W_,d0,"name","value");Object.defineProperties(W_.prototype,{append:R8,delete:R8,get:R8,getAll:R8,has:R8,set:R8,[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function hne(e,t,r){if(typeof t!="string"){if(Fpt(t)||(t=t instanceof Blob?new v9e([t],"blob",{type:t.type}):new C9e(t,"blob",{type:t.type})),r!==void 0){let n={type:t.type,lastModified:t.lastModified};t=t instanceof b9e?new v9e([t],r,n):new C9e(t,r,n)}}return{name:e,value:t}}o(hne,"makeEntry");E9e.exports={FormData:W_,makeEntry:hne}});var k9e=H((PUr,S9e)=>{"use strict";d();var{isUSVString:I9e,bufferToLowerCasedHeaderName:Npt}=Ci(),{utf8DecodeBytes:Lpt}=mf(),{HTTP_TOKEN_CODEPOINTS:Qpt,isomorphicDecode:T9e}=au(),{isFileLike:Mpt}=mne(),{makeEntry:Opt}=G_(),PO=require("node:assert"),{File:Upt}=require("node:buffer"),qpt=globalThis.File??Upt,Wpt=Buffer.from('form-data; name="'),w9e=Buffer.from("; filename"),Gpt=Buffer.from("--"),Hpt=Buffer.from(`--\r
`);function jpt(e){for(let t=0;t<e.length;++t)if((e.charCodeAt(t)&-128)!==0)return!1;return!0}o(jpt,"isAsciiString");function Vpt(e){let t=e.length;if(t<27||t>70)return!1;for(let r=0;r<t;++r){let n=e.charCodeAt(r);if(!(n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122||n===39||n===45||n===95))return!1}return!0}o(Vpt,"validateBoundary");function $pt(e,t){PO(t!=="failure"&&t.essence==="multipart/form-data");let r=t.parameters.get("boundary");if(r===void 0)return"failure";let n=Buffer.from(`--${r}`,"utf8"),i=[],s={position:0};for(;e[s.position]===13&&e[s.position+1]===10;)s.position+=2;let a=e.length;for(;e[a-1]===10&&e[a-2]===13;)a-=2;for(a!==e.length&&(e=e.subarray(0,a));;){if(e.subarray(s.position,s.position+n.length).equals(n))s.position+=n.length;else return"failure";if(s.position===e.length-2&&FO(e,Gpt,s)||s.position===e.length-4&&FO(e,Hpt,s))return i;if(e[s.position]!==13||e[s.position+1]!==10)return"failure";s.position+=2;let l=zpt(e,s);if(l==="failure")return"failure";let{name:c,filename:u,contentType:f,encoding:m}=l;s.position+=2;let h;{let A=e.indexOf(n.subarray(2),s.position);if(A===-1)return"failure";h=e.subarray(s.position,A-4),s.position+=h.length,m==="base64"&&(h=Buffer.from(h.toString(),"base64"))}if(e[s.position]!==13||e[s.position+1]!==10)return"failure";s.position+=2;let p;u!==null?(f??="text/plain",jpt(f)||(f=""),p=new qpt([h],u,{type:f})):p=Lpt(Buffer.from(h)),PO(I9e(c)),PO(typeof p=="string"&&I9e(p)||Mpt(p)),i.push(Opt(c,p,u))}}o($pt,"multipartFormDataParser");function zpt(e,t){let r=null,n=null,i=null,s=null;for(;;){if(e[t.position]===13&&e[t.position+1]===10)return r===null?"failure":{name:r,filename:n,contentType:i,encoding:s};let a=B8(l=>l!==10&&l!==13&&l!==58,e,t);if(a=pne(a,!0,!0,l=>l===9||l===32),!Qpt.test(a.toString())||e[t.position]!==58)return"failure";switch(t.position++,B8(l=>l===32||l===9,e,t),Npt(a)){case"content-disposition":{if(r=n=null,!FO(e,Wpt,t)||(t.position+=17,r=_9e(e,t),r===null))return"failure";if(FO(e,w9e,t)){let l=t.position+w9e.length;if(e[l]===42&&(t.position+=1,l+=1),e[l]!==61||e[l+1]!==34||(t.position+=12,n=_9e(e,t),n===null))return"failure"}break}case"content-type":{let l=B8(c=>c!==10&&c!==13,e,t);l=pne(l,!1,!0,c=>c===9||c===32),i=T9e(l);break}case"content-transfer-encoding":{let l=B8(c=>c!==10&&c!==13,e,t);l=pne(l,!1,!0,c=>c===9||c===32),s=T9e(l);break}default:B8(l=>l!==10&&l!==13,e,t)}if(e[t.position]!==13&&e[t.position+1]!==10)return"failure";t.position+=2}}o(zpt,"parseMultipartFormDataHeaders");function _9e(e,t){PO(e[t.position-1]===34);let r=B8(n=>n!==10&&n!==13&&n!==34,e,t);return e[t.position]!==34?null:(t.position++,r=new TextDecoder().decode(r).replace(/%0A/ig,`
`).replace(/%0D/ig,"\r").replace(/%22/g,'"'),r)}o(_9e,"parseMultipartFormDataName");function B8(e,t,r){let n=r.position;for(;n<t.length&&e(t[n]);)++n;return t.subarray(r.position,r.position=n)}o(B8,"collectASequenceOfBytes");function pne(e,t,r,n){let i=0,s=e.length-1;if(t)for(;i<e.length&&n(e[i]);)i++;if(r)for(;s>0&&n(e[s]);)s--;return i===0&&s===e.length-1?e:e.subarray(i,s+1)}o(pne,"removeChars");function FO(e,t,r){if(e.length<t.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[r.position+n])return!1;return!0}o(FO,"bufferStartsWith");S9e.exports={multipartFormDataParser:$pt,validateBoundary:Vpt}});var F8=H((LUr,Q9e)=>{"use strict";d();var H_=Ci(),{ReadableStreamFrom:Ypt,isBlobLike:R9e,isReadableStreamLike:Kpt,readableStreamClose:Jpt,createDeferredPromise:Zpt,fullyReadBody:Xpt,extractMimeType:egt,utf8DecodeBytes:P9e}=mf(),{FormData:B9e}=G_(),{kState:P8}=k5(),{webidl:tgt}=ic(),{Blob:rgt}=require("node:buffer"),gne=require("node:assert"),{isErrored:F9e,isDisturbed:ngt}=require("node:stream"),{isArrayBuffer:igt}=require("node:util/types"),{serializeAMimeType:ogt}=au(),{multipartFormDataParser:sgt}=k9e(),Ane;try{let e=require("node:crypto");Ane=o(t=>e.randomInt(0,t),"random")}catch{Ane=o(e=>Math.floor(Math.random(e)),"random")}var NO=new TextEncoder;function agt(){}o(agt,"noop");var yne=globalThis.FinalizationRegistry&&process.version.indexOf("v18")!==0,Cne;yne&&(Cne=new FinalizationRegistry(e=>{let t=e.deref();t&&!t.locked&&!ngt(t)&&!F9e(t)&&t.cancel("Response object has been garbage collected").catch(agt)}));function N9e(e,t=!1){let r=null;e instanceof ReadableStream?r=e:R9e(e)?r=e.stream():r=new ReadableStream({async pull(c){let u=typeof i=="string"?NO.encode(i):i;u.byteLength&&c.enqueue(u),queueMicrotask(()=>Jpt(c))},start(){},type:"bytes"}),gne(Kpt(r));let n=null,i=null,s=null,a=null;if(typeof e=="string")i=e,a="text/plain;charset=UTF-8";else if(e instanceof URLSearchParams)i=e.toString(),a="application/x-www-form-urlencoded;charset=UTF-8";else if(igt(e))i=new Uint8Array(e.slice());else if(ArrayBuffer.isView(e))i=new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength));else if(H_.isFormDataLike(e)){let c=`----formdata-undici-0${`${Ane(1e11)}`.padStart(11,"0")}`,u=`--${c}\r
Content-Disposition: form-data`;let f=o(v=>v.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),"escape"),m=o(v=>v.replace(/\r?\n|\r/g,`\r
`),"normalizeLinefeeds"),h=[],p=new Uint8Array([13,10]);s=0;let A=!1;for(let[v,E]of e)if(typeof E=="string"){let b=NO.encode(u+`; name="${f(m(v))}"\r
\r
${m(E)}\r
`);h.push(b),s+=b.byteLength}else{let b=NO.encode(`${u}; name="${f(m(v))}"`+(E.name?`; filename="${f(E.name)}"`:"")+`\r
Content-Type: ${E.type||"application/octet-stream"}\r
\r
`);h.push(b,E,p),typeof E.size=="number"?s+=b.byteLength+E.size+p.byteLength:A=!0}let x=NO.encode(`--${c}--`);h.push(x),s+=x.byteLength,A&&(s=null),i=e,n=o(async function*(){for(let v of h)v.stream?yield*v.stream():yield v},"action"),a=`multipart/form-data; boundary=${c}`}else if(R9e(e))i=e,s=e.size,e.type&&(a=e.type);else if(typeof e[Symbol.asyncIterator]=="function"){if(t)throw new TypeError("keepalive");if(H_.isDisturbed(e)||e.locked)throw new TypeError("Response body object should not be disturbed or locked");r=e instanceof ReadableStream?e:Ypt(e)}if((typeof i=="string"||H_.isBuffer(i))&&(s=Buffer.byteLength(i)),n!=null){let c;r=new ReadableStream({async start(){c=n(e)[Symbol.asyncIterator]()},async pull(u){let{value:f,done:m}=await c.next();if(m)queueMicrotask(()=>{u.close(),u.byobRequest?.respond(0)});else if(!F9e(r)){let h=new Uint8Array(f);h.byteLength&&u.enqueue(h)}return u.desiredSize>0},async cancel(u){await c.return()},type:"bytes"})}return[{stream:r,source:i,length:s},a]}o(N9e,"extractBody");function lgt(e,t=!1){return e instanceof ReadableStream&&(gne(!H_.isDisturbed(e),"The body has already been consumed."),gne(!e.locked,"The stream is locked.")),N9e(e,t)}o(lgt,"safelyExtractBody");function cgt(e,t){let[r,n]=t.stream.tee();return yne&&Cne.register(e,new WeakRef(r)),t.stream=r,{stream:n,length:t.length,source:t.source}}o(cgt,"cloneBody");function ugt(e){if(e.aborted)throw new DOMException("The operation was aborted.","AbortError")}o(ugt,"throwIfAborted");function fgt(e){return{blob(){return D8(this,r=>{let n=D9e(this);return n===null?n="":n&&(n=ogt(n)),new rgt([r],{type:n})},e)},arrayBuffer(){return D8(this,r=>new Uint8Array(r).buffer,e)},text(){return D8(this,P9e,e)},json(){return D8(this,mgt,e)},formData(){return D8(this,r=>{let n=D9e(this);if(n!==null)switch(n.essence){case"multipart/form-data":{let i=sgt(r,n);if(i==="failure")throw new TypeError("Failed to parse body as FormData.");let s=new B9e;return s[P8]=i,s}case"application/x-www-form-urlencoded":{let i=new URLSearchParams(r.toString()),s=new B9e;for(let[a,l]of i)s.append(a,l);return s}}throw new TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},e)},bytes(){return D8(this,r=>new Uint8Array(r),e)}}}o(fgt,"bodyMixinMethods");function dgt(e){Object.assign(e.prototype,fgt(e))}o(dgt,"mixinBody");async function D8(e,t,r){if(tgt.brandCheck(e,r),L9e(e))throw new TypeError("Body is unusable: Body has already been read");ugt(e[P8]);let n=Zpt(),i=o(a=>n.reject(a),"errorSteps"),s=o(a=>{try{n.resolve(t(a))}catch(l){i(l)}},"successSteps");return e[P8].body==null?(s(Buffer.allocUnsafe(0)),n.promise):(await Xpt(e[P8].body,s,i),n.promise)}o(D8,"consumeBody");function L9e(e){let t=e[P8].body;return t!=null&&(t.stream.locked||H_.isDisturbed(t.stream))}o(L9e,"bodyUnusable");function mgt(e){return JSON.parse(P9e(e))}o(mgt,"parseJSONFromBytes");function D9e(e){let t=e[P8].headersList,r=egt(t);return r==="failure"?null:r}o(D9e,"bodyMimeType");Q9e.exports={extractBody:N9e,safelyExtractBody:lgt,cloneBody:cgt,mixinBody:dgt,streamRegistry:Cne,hasFinalizationRegistry:yne,bodyUnusable:L9e}});var z9e=H((OUr,$9e)=>{"use strict";d();var An=require("node:assert"),Wn=Ci(),{channels:M9e}=v8(),xne=Xre(),{RequestContentLengthMismatchError:hx,ResponseContentLengthMismatchError:hgt,RequestAbortedError:H9e,HeadersTimeoutError:pgt,HeadersOverflowError:ggt,SocketError:qO,InformationalError:N8,BodyTimeoutError:Agt,HTTPParserError:ygt,ResponseExceededMaxSizeError:Cgt}=yo(),{kUrl:j9e,kReset:lu,kClient:Ine,kParser:oa,kBlocking:$_,kRunning:Qc,kPending:xgt,kSize:O9e,kWriting:B5,kQueue:lh,kNoRef:j_,kKeepAliveDefaultTimeout:vgt,kHostHeader:bgt,kPendingIdx:Egt,kRunningIdx:Nd,kError:Ld,kPipelining:OO,kSocket:L8,kKeepAliveTimeoutValue:WO,kMaxHeadersSize:vne,kKeepAliveMaxTimeout:Igt,kKeepAliveTimeoutThreshold:Tgt,kHeadersTimeout:wgt,kBodyTimeout:_gt,kStrictContentLength:Tne,kMaxRequests:U9e,kCounter:Sgt,kMaxResponseSize:kgt,kOnError:Rgt,kResume:R5,kHTTPContext:V9e}=Ns(),Zp=L6e(),Bgt=Buffer.alloc(0),LO=Buffer[Symbol.species],QO=Wn.addListener,Dgt=Wn.removeAllListeners,bne;async function Pgt(){let e=process.env.JEST_WORKER_ID?rne():void 0,t;try{t=await WebAssembly.compile(O6e())}catch{t=await WebAssembly.compile(e||rne())}return await WebAssembly.instantiate(t,{env:{wasm_on_url:o((r,n,i)=>0,"wasm_on_url"),wasm_on_status:o((r,n,i)=>{An(cl.ptr===r);let s=n-eg+Xp.byteOffset;return cl.onStatus(new LO(Xp.buffer,s,i))||0},"wasm_on_status"),wasm_on_message_begin:o(r=>(An(cl.ptr===r),cl.onMessageBegin()||0),"wasm_on_message_begin"),wasm_on_header_field:o((r,n,i)=>{An(cl.ptr===r);let s=n-eg+Xp.byteOffset;return cl.onHeaderField(new LO(Xp.buffer,s,i))||0},"wasm_on_header_field"),wasm_on_header_value:o((r,n,i)=>{An(cl.ptr===r);let s=n-eg+Xp.byteOffset;return cl.onHeaderValue(new LO(Xp.buffer,s,i))||0},"wasm_on_header_value"),wasm_on_headers_complete:o((r,n,i,s)=>(An(cl.ptr===r),cl.onHeadersComplete(n,!!i,!!s)||0),"wasm_on_headers_complete"),wasm_on_body:o((r,n,i)=>{An(cl.ptr===r);let s=n-eg+Xp.byteOffset;return cl.onBody(new LO(Xp.buffer,s,i))||0},"wasm_on_body"),wasm_on_message_complete:o(r=>(An(cl.ptr===r),cl.onMessageComplete()||0),"wasm_on_message_complete")}})}o(Pgt,"lazyllhttp");var Ene=null,wne=Pgt();wne.catch();var cl=null,Xp=null,MO=0,eg=null,Fgt=0,V_=1,Q8=2|V_,UO=4|V_,_ne=8|Fgt,Sne=class{static{o(this,"Parser")}constructor(t,r,{exports:n}){An(Number.isFinite(t[vne])&&t[vne]>0),this.llhttp=n,this.ptr=this.llhttp.llhttp_alloc(Zp.TYPE.RESPONSE),this.client=t,this.socket=r,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=t[vne],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=t[kgt]}setTimeout(t,r){t!==this.timeoutValue||r&V_^this.timeoutType&V_?(this.timeout&&(xne.clearTimeout(this.timeout),this.timeout=null),t&&(r&V_?this.timeout=xne.setFastTimeout(q9e,t,new WeakRef(this)):(this.timeout=setTimeout(q9e,t,new WeakRef(this)),this.timeout.unref())),this.timeoutValue=t):this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.timeoutType=r}resume(){this.socket.destroyed||!this.paused||(An(this.ptr!=null),An(cl==null),this.llhttp.llhttp_resume(this.ptr),An(this.timeoutType===UO),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||Bgt),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let t=this.socket.read();if(t===null)break;this.execute(t)}}execute(t){An(this.ptr!=null),An(cl==null),An(!this.paused);let{socket:r,llhttp:n}=this;t.length>MO&&(eg&&n.free(eg),MO=Math.ceil(t.length/4096)*4096,eg=n.malloc(MO)),new Uint8Array(n.memory.buffer,eg,MO).set(t);try{let i;try{Xp=t,cl=this,i=n.llhttp_execute(this.ptr,eg,t.length)}catch(a){throw a}finally{cl=null,Xp=null}let s=n.llhttp_get_error_pos(this.ptr)-eg;if(i===Zp.ERROR.PAUSED_UPGRADE)this.onUpgrade(t.slice(s));else if(i===Zp.ERROR.PAUSED)this.paused=!0,r.unshift(t.slice(s));else if(i!==Zp.ERROR.OK){let a=n.llhttp_get_error_reason(this.ptr),l="";if(a){let c=new Uint8Array(n.memory.buffer,a).indexOf(0);l="Response does not match the HTTP/1.1 protocol ("+Buffer.from(n.memory.buffer,a,c).toString()+")"}throw new ygt(l,Zp.ERROR[i],t.slice(s))}}catch(i){Wn.destroy(r,i)}}destroy(){An(this.ptr!=null),An(cl==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,this.timeout&&xne.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(t){this.statusText=t.toString()}onMessageBegin(){let{socket:t,client:r}=this;if(t.destroyed)return-1;let n=r[lh][r[Nd]];if(!n)return-1;n.onResponseStarted()}onHeaderField(t){let r=this.headers.length;(r&1)===0?this.headers.push(t):this.headers[r-1]=Buffer.concat([this.headers[r-1],t]),this.trackHeader(t.length)}onHeaderValue(t){let r=this.headers.length;(r&1)===1?(this.headers.push(t),r+=1):this.headers[r-1]=Buffer.concat([this.headers[r-1],t]);let n=this.headers[r-2];if(n.length===10){let i=Wn.bufferToLowerCasedHeaderName(n);i==="keep-alive"?this.keepAlive+=t.toString():i==="connection"&&(this.connection+=t.toString())}else n.length===14&&Wn.bufferToLowerCasedHeaderName(n)==="content-length"&&(this.contentLength+=t.toString());this.trackHeader(t.length)}trackHeader(t){this.headersSize+=t,this.headersSize>=this.headersMaxSize&&Wn.destroy(this.socket,new ggt)}onUpgrade(t){let{upgrade:r,client:n,socket:i,headers:s,statusCode:a}=this;An(r),An(n[L8]===i),An(!i.destroyed),An(!this.paused),An((s.length&1)===0);let l=n[lh][n[Nd]];An(l),An(l.upgrade||l.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,this.headers=[],this.headersSize=0,i.unshift(t),i[oa].destroy(),i[oa]=null,i[Ine]=null,i[Ld]=null,Dgt(i),n[L8]=null,n[V9e]=null,n[lh][n[Nd]++]=null,n.emit("disconnect",n[j9e],[n],new N8("upgrade"));try{l.onUpgrade(a,s,i)}catch(c){Wn.destroy(i,c)}n[R5]()}onHeadersComplete(t,r,n){let{client:i,socket:s,headers:a,statusText:l}=this;if(s.destroyed)return-1;let c=i[lh][i[Nd]];if(!c)return-1;if(An(!this.upgrade),An(this.statusCode<200),t===100)return Wn.destroy(s,new qO("bad response",Wn.getSocketInfo(s))),-1;if(r&&!c.upgrade)return Wn.destroy(s,new qO("bad upgrade",Wn.getSocketInfo(s))),-1;if(An(this.timeoutType===Q8),this.statusCode=t,this.shouldKeepAlive=n||c.method==="HEAD"&&!s[lu]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let f=c.bodyTimeout!=null?c.bodyTimeout:i[_gt];this.setTimeout(f,UO)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(c.method==="CONNECT")return An(i[Qc]===1),this.upgrade=!0,2;if(r)return An(i[Qc]===1),this.upgrade=!0,2;if(An((this.headers.length&1)===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&i[OO]){let f=this.keepAlive?Wn.parseKeepAliveTimeout(this.keepAlive):null;if(f!=null){let m=Math.min(f-i[Tgt],i[Igt]);m<=0?s[lu]=!0:i[WO]=m}else i[WO]=i[vgt]}else s[lu]=!0;let u=c.onHeaders(t,a,this.resume,l)===!1;return c.aborted?-1:c.method==="HEAD"||t<200?1:(s[$_]&&(s[$_]=!1,i[R5]()),u?Zp.ERROR.PAUSED:0)}onBody(t){let{client:r,socket:n,statusCode:i,maxResponseSize:s}=this;if(n.destroyed)return-1;let a=r[lh][r[Nd]];if(An(a),An(this.timeoutType===UO),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),An(i>=200),s>-1&&this.bytesRead+t.length>s)return Wn.destroy(n,new Cgt),-1;if(this.bytesRead+=t.length,a.onData(t)===!1)return Zp.ERROR.PAUSED}onMessageComplete(){let{client:t,socket:r,statusCode:n,upgrade:i,headers:s,contentLength:a,bytesRead:l,shouldKeepAlive:c}=this;if(r.destroyed&&(!n||c))return-1;if(i)return;An(n>=100),An((this.headers.length&1)===0);let u=t[lh][t[Nd]];if(An(u),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",this.headers=[],this.headersSize=0,!(n<200)){if(u.method!=="HEAD"&&a&&l!==parseInt(a,10))return Wn.destroy(r,new hgt),-1;if(u.onComplete(s),t[lh][t[Nd]++]=null,r[B5])return An(t[Qc]===0),Wn.destroy(r,new N8("reset")),Zp.ERROR.PAUSED;if(c){if(r[lu]&&t[Qc]===0)return Wn.destroy(r,new N8("reset")),Zp.ERROR.PAUSED;t[OO]==null||t[OO]===1?setImmediate(()=>t[R5]()):t[R5]()}else return Wn.destroy(r,new N8("reset")),Zp.ERROR.PAUSED}}};function q9e(e){let{socket:t,timeoutType:r,client:n,paused:i}=e.deref();r===Q8?(!t[B5]||t.writableNeedDrain||n[Qc]>1)&&(An(!i,"cannot be paused while waiting for headers"),Wn.destroy(t,new pgt)):r===UO?i||Wn.destroy(t,new Agt):r===_ne&&(An(n[Qc]===0&&n[WO]),Wn.destroy(t,new N8("socket idle timeout")))}o(q9e,"onParserTimeout");async function Ngt(e,t){e[L8]=t,Ene||(Ene=await wne,wne=null),t[j_]=!1,t[B5]=!1,t[lu]=!1,t[$_]=!1,t[oa]=new Sne(e,t,Ene),QO(t,"error",function(n){An(n.code!=="ERR_TLS_CERT_ALTNAME_INVALID");let i=this[oa];if(n.code==="ECONNRESET"&&i.statusCode&&!i.shouldKeepAlive){i.onMessageComplete();return}this[Ld]=n,this[Ine][Rgt](n)}),QO(t,"readable",function(){let n=this[oa];n&&n.readMore()}),QO(t,"end",function(){let n=this[oa];if(n.statusCode&&!n.shouldKeepAlive){n.onMessageComplete();return}Wn.destroy(this,new qO("other side closed",Wn.getSocketInfo(this)))}),QO(t,"close",function(){let n=this[Ine],i=this[oa];i&&(!this[Ld]&&i.statusCode&&!i.shouldKeepAlive&&i.onMessageComplete(),this[oa].destroy(),this[oa]=null);let s=this[Ld]||new qO("closed",Wn.getSocketInfo(this));if(n[L8]=null,n[V9e]=null,n.destroyed){An(n[xgt]===0);let a=n[lh].splice(n[Nd]);for(let l=0;l<a.length;l++){let c=a[l];Wn.errorRequest(n,c,s)}}else if(n[Qc]>0&&s.code!=="UND_ERR_INFO"){let a=n[lh][n[Nd]];n[lh][n[Nd]++]=null,Wn.errorRequest(n,a,s)}n[Egt]=n[Nd],An(n[Qc]===0),n.emit("disconnect",n[j9e],[n],s),n[R5]()});let r=!1;return t.on("close",()=>{r=!0}),{version:"h1",defaultPipelining:1,write(...n){return Mgt(e,...n)},resume(){Lgt(e)},destroy(n,i){r?queueMicrotask(i):t.destroy(n).on("close",i)},get destroyed(){return t.destroyed},busy(n){return!!(t[B5]||t[lu]||t[$_]||n&&(e[Qc]>0&&!n.idempotent||e[Qc]>0&&(n.upgrade||n.method==="CONNECT")||e[Qc]>0&&Wn.bodyLength(n.body)!==0&&(Wn.isStream(n.body)||Wn.isAsyncIterable(n.body)||Wn.isFormDataLike(n.body))))}}}o(Ngt,"connectH1");function Lgt(e){let t=e[L8];if(t&&!t.destroyed){if(e[O9e]===0?!t[j_]&&t.unref&&(t.unref(),t[j_]=!0):t[j_]&&t.ref&&(t.ref(),t[j_]=!1),e[O9e]===0)t[oa].timeoutType!==_ne&&t[oa].setTimeout(e[WO],_ne);else if(e[Qc]>0&&t[oa].statusCode<200&&t[oa].timeoutType!==Q8){let r=e[lh][e[Nd]],n=r.headersTimeout!=null?r.headersTimeout:e[wgt];t[oa].setTimeout(n,Q8)}}}o(Lgt,"resumeH1");function Qgt(e){return e!=="GET"&&e!=="HEAD"&&e!=="OPTIONS"&&e!=="TRACE"&&e!=="CONNECT"}o(Qgt,"shouldSendContentLength");function Mgt(e,t){let{method:r,path:n,host:i,upgrade:s,blocking:a,reset:l}=t,{body:c,headers:u,contentLength:f}=t,m=r==="PUT"||r==="POST"||r==="PATCH"||r==="QUERY"||r==="PROPFIND"||r==="PROPPATCH";if(Wn.isFormDataLike(c)){bne||(bne=F8().extractBody);let[v,E]=bne(c);t.contentType==null&&u.push("content-type",E),c=v.stream,f=v.length}else Wn.isBlobLike(c)&&t.contentType==null&&c.type&&u.push("content-type",c.type);c&&typeof c.read=="function"&&c.read(0);let h=Wn.bodyLength(c);if(f=h??f,f===null&&(f=t.contentLength),f===0&&!m&&(f=null),Qgt(r)&&f>0&&t.contentLength!==null&&t.contentLength!==f){if(e[Tne])return Wn.errorRequest(e,t,new hx),!1;process.emitWarning(new hx)}let p=e[L8],A=o(v=>{t.aborted||t.completed||(Wn.errorRequest(e,t,v||new H9e),Wn.destroy(c),Wn.destroy(p,new N8("aborted")))},"abort");try{t.onConnect(A)}catch(v){Wn.errorRequest(e,t,v)}if(t.aborted)return!1;r==="HEAD"&&(p[lu]=!0),(s||r==="CONNECT")&&(p[lu]=!0),l!=null&&(p[lu]=l),e[U9e]&&p[Sgt]++>=e[U9e]&&(p[lu]=!0),a&&(p[$_]=!0);let x=`${r} ${n} HTTP/1.1\r
`;if(typeof i=="string"?x+=`host: ${i}\r
`:x+=e[bgt],s?x+=`connection: upgrade\r
upgrade: ${s}\r
`:e[OO]&&!p[lu]?x+=`connection: keep-alive\r
`:x+=`connection: close\r
`,Array.isArray(u))for(let v=0;v<u.length;v+=2){let E=u[v+0],b=u[v+1];if(Array.isArray(b))for(let _=0;_<b.length;_++)x+=`${E}: ${b[_]}\r
`;else x+=`${E}: ${b}\r
`}return M9e.sendHeaders.hasSubscribers&&M9e.sendHeaders.publish({request:t,headers:x,socket:p}),!c||h===0?W9e(A,null,e,t,p,f,x,m):Wn.isBuffer(c)?W9e(A,c,e,t,p,f,x,m):Wn.isBlobLike(c)?typeof c.stream=="function"?G9e(A,c.stream(),e,t,p,f,x,m):Ugt(A,c,e,t,p,f,x,m):Wn.isStream(c)?Ogt(A,c,e,t,p,f,x,m):Wn.isIterable(c)?G9e(A,c,e,t,p,f,x,m):An(!1),!0}o(Mgt,"writeH1");function Ogt(e,t,r,n,i,s,a,l){An(s!==0||r[Qc]===0,"stream body cannot be pipelined");let c=!1,u=new GO({abort:e,socket:i,request:n,contentLength:s,client:r,expectsPayload:l,header:a}),f=o(function(A){if(!c)try{!u.write(A)&&this.pause&&this.pause()}catch(x){Wn.destroy(this,x)}},"onData"),m=o(function(){c||t.resume&&t.resume()},"onDrain"),h=o(function(){if(queueMicrotask(()=>{t.removeListener("error",p)}),!c){let A=new H9e;queueMicrotask(()=>p(A))}},"onClose"),p=o(function(A){if(!c){if(c=!0,An(i.destroyed||i[B5]&&r[Qc]<=1),i.off("drain",m).off("error",p),t.removeListener("data",f).removeListener("end",p).removeListener("close",h),!A)try{u.end()}catch(x){A=x}u.destroy(A),A&&(A.code!=="UND_ERR_INFO"||A.message!=="reset")?Wn.destroy(t,A):Wn.destroy(t)}},"onFinished");t.on("data",f).on("end",p).on("error",p).on("close",h),t.resume&&t.resume(),i.on("drain",m).on("error",p),t.errorEmitted??t.errored?setImmediate(()=>p(t.errored)):(t.endEmitted??t.readableEnded)&&setImmediate(()=>p(null)),(t.closeEmitted??t.closed)&&setImmediate(h)}o(Ogt,"writeStream");function W9e(e,t,r,n,i,s,a,l){try{t?Wn.isBuffer(t)&&(An(s===t.byteLength,"buffer body must have content length"),i.cork(),i.write(`${a}content-length: ${s}\r
\r
`,"latin1"),i.write(t),i.uncork(),n.onBodySent(t),!l&&n.reset!==!1&&(i[lu]=!0)):s===0?i.write(`${a}content-length: 0\r
\r
`,"latin1"):(An(s===null,"no body must not have content length"),i.write(`${a}\r
`,"latin1")),n.onRequestSent(),r[R5]()}catch(c){e(c)}}o(W9e,"writeBuffer");async function Ugt(e,t,r,n,i,s,a,l){An(s===t.size,"blob body must have content length");try{if(s!=null&&s!==t.size)throw new hx;let c=Buffer.from(await t.arrayBuffer());i.cork(),i.write(`${a}content-length: ${s}\r
\r
`,"latin1"),i.write(c),i.uncork(),n.onBodySent(c),n.onRequestSent(),!l&&n.reset!==!1&&(i[lu]=!0),r[R5]()}catch(c){e(c)}}o(Ugt,"writeBlob");async function G9e(e,t,r,n,i,s,a,l){An(s!==0||r[Qc]===0,"iterator body cannot be pipelined");let c=null;function u(){if(c){let h=c;c=null,h()}}o(u,"onDrain");let f=o(()=>new Promise((h,p)=>{An(c===null),i[Ld]?p(i[Ld]):c=h}),"waitForDrain");i.on("close",u).on("drain",u);let m=new GO({abort:e,socket:i,request:n,contentLength:s,client:r,expectsPayload:l,header:a});try{for await(let h of t){if(i[Ld])throw i[Ld];m.write(h)||await f()}m.end()}catch(h){m.destroy(h)}finally{i.off("close",u).off("drain",u)}}o(G9e,"writeIterable");var GO=class{static{o(this,"AsyncWriter")}constructor({abort:t,socket:r,request:n,contentLength:i,client:s,expectsPayload:a,header:l}){this.socket=r,this.request=n,this.contentLength=i,this.client=s,this.bytesWritten=0,this.expectsPayload=a,this.header=l,this.abort=t,r[B5]=!0}write(t){let{socket:r,request:n,contentLength:i,client:s,bytesWritten:a,expectsPayload:l,header:c}=this;if(r[Ld])throw r[Ld];if(r.destroyed)return!1;let u=Buffer.byteLength(t);if(!u)return!0;if(i!==null&&a+u>i){if(s[Tne])throw new hx;process.emitWarning(new hx)}r.cork(),a===0&&(!l&&n.reset!==!1&&(r[lu]=!0),i===null?r.write(`${c}transfer-encoding: chunked\r
`,"latin1"):r.write(`${c}content-length: ${i}\r
\r
`,"latin1")),i===null&&r.write(`\r
${u.toString(16)}\r
`,"latin1"),this.bytesWritten+=u;let f=r.write(t);return r.uncork(),n.onBodySent(t),f||r[oa].timeout&&r[oa].timeoutType===Q8&&r[oa].timeout.refresh&&r[oa].timeout.refresh(),f}end(){let{socket:t,contentLength:r,client:n,bytesWritten:i,expectsPayload:s,header:a,request:l}=this;if(l.onRequestSent(),t[B5]=!1,t[Ld])throw t[Ld];if(!t.destroyed){if(i===0?s?t.write(`${a}content-length: 0\r
\r
`,"latin1"):t.write(`${a}\r
`,"latin1"):r===null&&t.write(`\r
0\r
\r
`,"latin1"),r!==null&&i!==r){if(n[Tne])throw new hx;process.emitWarning(new hx)}t[oa].timeout&&t[oa].timeoutType===Q8&&t[oa].timeout.refresh&&t[oa].timeout.refresh(),n[R5]()}}destroy(t){let{socket:r,client:n,abort:i}=this;r[B5]=!1,t&&(An(n[Qc]<=1,"pipeline should only contain this request"),i(t))}};$9e.exports=Ngt});var r7e=H((WUr,t7e)=>{"use strict";d();var Qd=require("node:assert"),{pipeline:qgt}=require("node:stream"),Ni=Ci(),{RequestContentLengthMismatchError:kne,RequestAbortedError:Y9e,SocketError:z_,InformationalError:Rne}=yo(),{kUrl:HO,kReset:VO,kClient:M8,kRunning:$O,kPending:Wgt,kQueue:D5,kPendingIdx:Bne,kRunningIdx:ch,kError:fh,kSocket:Rl,kStrictContentLength:Ggt,kOnError:Dne,kMaxConcurrentStreams:e7e,kHTTP2Session:uh,kResume:P5,kSize:Hgt,kHTTPContext:jgt}=Ns(),mA=Symbol("open streams"),K9e,J9e=!1,jO;try{jO=require("node:http2")}catch{jO={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:Vgt,HTTP2_HEADER_METHOD:$gt,HTTP2_HEADER_PATH:zgt,HTTP2_HEADER_SCHEME:Ygt,HTTP2_HEADER_CONTENT_LENGTH:Kgt,HTTP2_HEADER_EXPECT:Jgt,HTTP2_HEADER_STATUS:Zgt}}=jO;function Xgt(e){let t=[];for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let i of n)t.push(Buffer.from(r),Buffer.from(i));else t.push(Buffer.from(r),Buffer.from(n));return t}o(Xgt,"parseH2Headers");async function e1t(e,t){e[Rl]=t,J9e||(J9e=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let r=jO.connect(e[HO],{createConnection:o(()=>t,"createConnection"),peerMaxConcurrentStreams:e[e7e]});r[mA]=0,r[M8]=e,r[Rl]=t,Ni.addListener(r,"error",r1t),Ni.addListener(r,"frameError",n1t),Ni.addListener(r,"end",i1t),Ni.addListener(r,"goaway",o1t),Ni.addListener(r,"close",function(){let{[M8]:i}=this,{[Rl]:s}=i,a=this[Rl][fh]||this[fh]||new z_("closed",Ni.getSocketInfo(s));if(i[uh]=null,i.destroyed){Qd(i[Wgt]===0);let l=i[D5].splice(i[ch]);for(let c=0;c<l.length;c++){let u=l[c];Ni.errorRequest(i,u,a)}}}),r.unref(),e[uh]=r,t[uh]=r,Ni.addListener(t,"error",function(i){Qd(i.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[fh]=i,this[M8][Dne](i)}),Ni.addListener(t,"end",function(){Ni.destroy(this,new z_("other side closed",Ni.getSocketInfo(this)))}),Ni.addListener(t,"close",function(){let i=this[fh]||new z_("closed",Ni.getSocketInfo(this));e[Rl]=null,this[uh]!=null&&this[uh].destroy(i),e[Bne]=e[ch],Qd(e[$O]===0),e.emit("disconnect",e[HO],[e],i),e[P5]()});let n=!1;return t.on("close",()=>{n=!0}),{version:"h2",defaultPipelining:1/0,write(...i){return a1t(e,...i)},resume(){t1t(e)},destroy(i,s){n?queueMicrotask(s):t.destroy(i).on("close",s)},get destroyed(){return t.destroyed},busy(){return!1}}}o(e1t,"connectH2");function t1t(e){let t=e[Rl];t?.destroyed===!1&&(e[Hgt]===0&&e[e7e]===0?(t.unref(),e[uh].unref()):(t.ref(),e[uh].ref()))}o(t1t,"resumeH2");function r1t(e){Qd(e.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[Rl][fh]=e,this[M8][Dne](e)}o(r1t,"onHttp2SessionError");function n1t(e,t,r){if(r===0){let n=new Rne(`HTTP/2: "frameError" received - type ${e}, code ${t}`);this[Rl][fh]=n,this[M8][Dne](n)}}o(n1t,"onHttp2FrameError");function i1t(){let e=new z_("other side closed",Ni.getSocketInfo(this[Rl]));this.destroy(e),Ni.destroy(this[Rl],e)}o(i1t,"onHttp2SessionEnd");function o1t(e){let t=this[fh]||new z_(`HTTP/2: "GOAWAY" frame received with code ${e}`,Ni.getSocketInfo(this)),r=this[M8];if(r[Rl]=null,r[jgt]=null,this[uh]!=null&&(this[uh].destroy(t),this[uh]=null),Ni.destroy(this[Rl],t),r[ch]<r[D5].length){let n=r[D5][r[ch]];r[D5][r[ch]++]=null,Ni.errorRequest(r,n,t),r[Bne]=r[ch]}Qd(r[$O]===0),r.emit("disconnect",r[HO],[r],t),r[P5]()}o(o1t,"onHTTP2GoAway");function s1t(e){return e!=="GET"&&e!=="HEAD"&&e!=="OPTIONS"&&e!=="TRACE"&&e!=="CONNECT"}o(s1t,"shouldSendContentLength");function a1t(e,t){let r=e[uh],{method:n,path:i,host:s,upgrade:a,expectContinue:l,signal:c,headers:u}=t,{body:f}=t;if(a)return Ni.errorRequest(e,t,new Error("Upgrade not supported for H2")),!1;let m={};for(let R=0;R<u.length;R+=2){let P=u[R+0],F=u[R+1];if(Array.isArray(F))for(let W=0;W<F.length;W++)m[P]?m[P]+=`,${F[W]}`:m[P]=F[W];else m[P]=F}let h,{hostname:p,port:A}=e[HO];m[Vgt]=s||`${p}${A?`:${A}`:""}`,m[$gt]=n;let x=o(R=>{t.aborted||t.completed||(R=R||new Y9e,Ni.errorRequest(e,t,R),h!=null&&Ni.destroy(h,R),Ni.destroy(f,R),e[D5][e[ch]++]=null,e[P5]())},"abort");try{t.onConnect(x)}catch(R){Ni.errorRequest(e,t,R)}if(t.aborted)return!1;if(n==="CONNECT")return r.ref(),h=r.request(m,{endStream:!1,signal:c}),h.id&&!h.pending?(t.onUpgrade(null,null,h),++r[mA],e[D5][e[ch]++]=null):h.once("ready",()=>{t.onUpgrade(null,null,h),++r[mA],e[D5][e[ch]++]=null}),h.once("close",()=>{r[mA]-=1,r[mA]===0&&r.unref()}),!0;m[zgt]=i,m[Ygt]="https";let v=n==="PUT"||n==="POST"||n==="PATCH";f&&typeof f.read=="function"&&f.read(0);let E=Ni.bodyLength(f);if(Ni.isFormDataLike(f)){K9e??=F8().extractBody;let[R,P]=K9e(f);m["content-type"]=P,f=R.stream,E=R.length}if(E==null&&(E=t.contentLength),(E===0||!v)&&(E=null),s1t(n)&&E>0&&t.contentLength!=null&&t.contentLength!==E){if(e[Ggt])return Ni.errorRequest(e,t,new kne),!1;process.emitWarning(new kne)}E!=null&&(Qd(f,"no body must not have content length"),m[Kgt]=`${E}`),r.ref();let b=n==="GET"||n==="HEAD"||f===null;return l?(m[Jgt]="100-continue",h=r.request(m,{endStream:b,signal:c}),h.once("continue",_)):(h=r.request(m,{endStream:b,signal:c}),_()),++r[mA],h.once("response",R=>{let{[Zgt]:P,...F}=R;if(t.onResponseStarted(),t.aborted){let W=new Y9e;Ni.errorRequest(e,t,W),Ni.destroy(h,W);return}t.onHeaders(Number(P),Xgt(F),h.resume.bind(h),"")===!1&&h.pause(),h.on("data",W=>{t.onData(W)===!1&&h.pause()})}),h.once("end",()=>{(h.state?.state==null||h.state.state<6)&&t.onComplete([]),r[mA]===0&&r.unref(),x(new Rne("HTTP/2: stream half-closed (remote)")),e[D5][e[ch]++]=null,e[Bne]=e[ch],e[P5]()}),h.once("close",()=>{r[mA]-=1,r[mA]===0&&r.unref()}),h.once("error",function(R){x(R)}),h.once("frameError",(R,P)=>{x(new Rne(`HTTP/2: "frameError" received - type ${R}, code ${P}`))}),!0;function _(){!f||E===0?Z9e(x,h,null,e,t,e[Rl],E,v):Ni.isBuffer(f)?Z9e(x,h,f,e,t,e[Rl],E,v):Ni.isBlobLike(f)?typeof f.stream=="function"?X9e(x,h,f.stream(),e,t,e[Rl],E,v):c1t(x,h,f,e,t,e[Rl],E,v):Ni.isStream(f)?l1t(x,e[Rl],v,h,f,e,t,E):Ni.isIterable(f)?X9e(x,h,f,e,t,e[Rl],E,v):Qd(!1)}o(_,"writeBodyH2")}o(a1t,"writeH2");function Z9e(e,t,r,n,i,s,a,l){try{r!=null&&Ni.isBuffer(r)&&(Qd(a===r.byteLength,"buffer body must have content length"),t.cork(),t.write(r),t.uncork(),t.end(),i.onBodySent(r)),l||(s[VO]=!0),i.onRequestSent(),n[P5]()}catch(c){e(c)}}o(Z9e,"writeBuffer");function l1t(e,t,r,n,i,s,a,l){Qd(l!==0||s[$O]===0,"stream body cannot be pipelined");let c=qgt(i,n,f=>{f?(Ni.destroy(c,f),e(f)):(Ni.removeAllListeners(c),a.onRequestSent(),r||(t[VO]=!0),s[P5]())});Ni.addListener(c,"data",u);function u(f){a.onBodySent(f)}o(u,"onPipeData")}o(l1t,"writeStream");async function c1t(e,t,r,n,i,s,a,l){Qd(a===r.size,"blob body must have content length");try{if(a!=null&&a!==r.size)throw new kne;let c=Buffer.from(await r.arrayBuffer());t.cork(),t.write(c),t.uncork(),t.end(),i.onBodySent(c),i.onRequestSent(),l||(s[VO]=!0),n[P5]()}catch(c){e(c)}}o(c1t,"writeBlob");async function X9e(e,t,r,n,i,s,a,l){Qd(a!==0||n[$O]===0,"iterator body cannot be pipelined");let c=null;function u(){if(c){let m=c;c=null,m()}}o(u,"onDrain");let f=o(()=>new Promise((m,h)=>{Qd(c===null),s[fh]?h(s[fh]):c=m}),"waitForDrain");t.on("close",u).on("drain",u);try{for await(let m of r){if(s[fh])throw s[fh];let h=t.write(m);i.onBodySent(m),h||await f()}t.end(),i.onRequestSent(),l||(s[VO]=!0),n[P5]()}catch(m){e(m)}finally{t.off("close",u).off("drain",u)}}o(X9e,"writeIterable");t7e.exports=e1t});var YO=H((jUr,o7e)=>{"use strict";d();var tg=Ci(),{kBodyUsed:Y_}=Ns(),Fne=require("node:assert"),{InvalidArgumentError:u1t}=yo(),f1t=require("node:events"),d1t=[300,301,302,303,307,308],n7e=Symbol("body"),zO=class{static{o(this,"BodyAsyncIterable")}constructor(t){this[n7e]=t,this[Y_]=!1}async*[Symbol.asyncIterator](){Fne(!this[Y_],"disturbed"),this[Y_]=!0,yield*this[n7e]}},Pne=class{static{o(this,"RedirectHandler")}constructor(t,r,n,i){if(r!=null&&(!Number.isInteger(r)||r<0))throw new u1t("maxRedirections must be a positive number");tg.validateHandler(i,n.method,n.upgrade),this.dispatch=t,this.location=null,this.abort=null,this.opts={...n,maxRedirections:0},this.maxRedirections=r,this.handler=i,this.history=[],this.redirectionLimitReached=!1,tg.isStream(this.opts.body)?(tg.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){Fne(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[Y_]=!1,f1t.prototype.on.call(this.opts.body,"data",function(){this[Y_]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new zO(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&tg.isIterable(this.opts.body)&&(this.opts.body=new zO(this.opts.body))}onConnect(t){this.abort=t,this.handler.onConnect(t,{history:this.history})}onUpgrade(t,r,n){this.handler.onUpgrade(t,r,n)}onError(t){this.handler.onError(t)}onHeaders(t,r,n,i){if(this.location=this.history.length>=this.maxRedirections||tg.isDisturbed(this.opts.body)?null:m1t(t,r),this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections){this.request&&this.request.abort(new Error("max redirects")),this.redirectionLimitReached=!0,this.abort(new Error("max redirects"));return}if(this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(t,r,n,i);let{origin:s,pathname:a,search:l}=tg.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),c=l?`${a}${l}`:a;this.opts.headers=h1t(this.opts.headers,t===303,this.opts.origin!==s),this.opts.path=c,this.opts.origin=s,this.opts.maxRedirections=0,this.opts.query=null,t===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(t){if(!this.location)return this.handler.onData(t)}onComplete(t){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(t)}onBodySent(t){this.handler.onBodySent&&this.handler.onBodySent(t)}};function m1t(e,t){if(d1t.indexOf(e)===-1)return null;for(let r=0;r<t.length;r+=2)if(t[r].length===8&&tg.headerNameToString(t[r])==="location")return t[r+1]}o(m1t,"parseLocation");function i7e(e,t,r){if(e.length===4)return tg.headerNameToString(e)==="host";if(t&&tg.headerNameToString(e).startsWith("content-"))return!0;if(r&&(e.length===13||e.length===6||e.length===19)){let n=tg.headerNameToString(e);return n==="authorization"||n==="cookie"||n==="proxy-authorization"}return!1}o(i7e,"shouldRemoveHeader");function h1t(e,t,r){let n=[];if(Array.isArray(e))for(let i=0;i<e.length;i+=2)i7e(e[i],t,r)||n.push(e[i],e[i+1]);else if(e&&typeof e=="object")for(let i of Object.keys(e))i7e(i,t,r)||n.push(i,e[i]);else Fne(e==null,"headers must be an object or an array");return n}o(h1t,"cleanRequestHeaders");o7e.exports=Pne});var KO=H((zUr,s7e)=>{"use strict";d();var p1t=YO();function g1t({maxRedirections:e}){return t=>o(function(n,i){let{maxRedirections:s=e}=n;if(!s)return t(n,i);let a=new p1t(t,s,n,i);return n={...n,maxRedirections:0},t(n,a)},"Intercept")}o(g1t,"createRedirectInterceptor");s7e.exports=g1t});var rS=H((JUr,g7e)=>{"use strict";d();var hA=require("node:assert"),d7e=require("node:net"),A1t=require("node:http"),px=Ci(),{channels:O8}=v8(),y1t=E6e(),C1t=T8(),{InvalidArgumentError:_a,InformationalError:x1t,ClientDestroyedError:v1t}=yo(),b1t=L_(),{kUrl:rg,kServerName:F5,kClient:E1t,kBusy:Nne,kConnect:I1t,kResuming:gx,kRunning:eS,kPending:tS,kSize:X_,kQueue:dh,kConnected:T1t,kConnecting:U8,kNeedDrain:L5,kKeepAliveDefaultTimeout:a7e,kHostHeader:w1t,kPendingIdx:mh,kRunningIdx:pA,kError:_1t,kPipelining:JO,kKeepAliveTimeoutValue:S1t,kMaxHeadersSize:k1t,kKeepAliveMaxTimeout:R1t,kKeepAliveTimeoutThreshold:B1t,kHeadersTimeout:D1t,kBodyTimeout:P1t,kStrictContentLength:F1t,kConnector:K_,kMaxRedirections:N1t,kMaxRequests:Lne,kCounter:L1t,kClose:Q1t,kDestroy:M1t,kDispatch:O1t,kInterceptors:l7e,kLocalAddress:J_,kMaxResponseSize:U1t,kOnError:q1t,kHTTPContext:Sa,kMaxConcurrentStreams:W1t,kResume:Z_}=Ns(),G1t=z9e(),H1t=r7e(),c7e=!1,N5=Symbol("kClosedResolve"),u7e=o(()=>{},"noop");function m7e(e){return e[JO]??e[Sa]?.defaultPipelining??1}o(m7e,"getPipelining");var Qne=class extends C1t{static{o(this,"Client")}constructor(t,{interceptors:r,maxHeaderSize:n,headersTimeout:i,socketTimeout:s,requestTimeout:a,connectTimeout:l,bodyTimeout:c,idleTimeout:u,keepAlive:f,keepAliveTimeout:m,maxKeepAliveTimeout:h,keepAliveMaxTimeout:p,keepAliveTimeoutThreshold:A,socketPath:x,pipelining:v,tls:E,strictContentLength:b,maxCachedSessions:_,maxRedirections:R,connect:P,maxRequestsPerClient:F,localAddress:W,maxResponseSize:se,autoSelectFamily:de,autoSelectFamilyAttemptTimeout:re,maxConcurrentStreams:G,allowH2:U}={}){if(super(),f!==void 0)throw new _a("unsupported keepAlive, use pipelining=0 instead");if(s!==void 0)throw new _a("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(a!==void 0)throw new _a("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(u!==void 0)throw new _a("unsupported idleTimeout, use keepAliveTimeout instead");if(h!==void 0)throw new _a("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(n!=null&&!Number.isFinite(n))throw new _a("invalid maxHeaderSize");if(x!=null&&typeof x!="string")throw new _a("invalid socketPath");if(l!=null&&(!Number.isFinite(l)||l<0))throw new _a("invalid connectTimeout");if(m!=null&&(!Number.isFinite(m)||m<=0))throw new _a("invalid keepAliveTimeout");if(p!=null&&(!Number.isFinite(p)||p<=0))throw new _a("invalid keepAliveMaxTimeout");if(A!=null&&!Number.isFinite(A))throw new _a("invalid keepAliveTimeoutThreshold");if(i!=null&&(!Number.isInteger(i)||i<0))throw new _a("headersTimeout must be a positive integer or zero");if(c!=null&&(!Number.isInteger(c)||c<0))throw new _a("bodyTimeout must be a positive integer or zero");if(P!=null&&typeof P!="function"&&typeof P!="object")throw new _a("connect must be a function or an object");if(R!=null&&(!Number.isInteger(R)||R<0))throw new _a("maxRedirections must be a positive number");if(F!=null&&(!Number.isInteger(F)||F<0))throw new _a("maxRequestsPerClient must be a positive number");if(W!=null&&(typeof W!="string"||d7e.isIP(W)===0))throw new _a("localAddress must be valid string IP address");if(se!=null&&(!Number.isInteger(se)||se<-1))throw new _a("maxResponseSize must be a positive number");if(re!=null&&(!Number.isInteger(re)||re<-1))throw new _a("autoSelectFamilyAttemptTimeout must be a positive number");if(U!=null&&typeof U!="boolean")throw new _a("allowH2 must be a valid boolean value");if(G!=null&&(typeof G!="number"||G<1))throw new _a("maxConcurrentStreams must be a positive integer, greater than 0");typeof P!="function"&&(P=b1t({...E,maxCachedSessions:_,allowH2:U,socketPath:x,timeout:l,...de?{autoSelectFamily:de,autoSelectFamilyAttemptTimeout:re}:void 0,...P})),r?.Client&&Array.isArray(r.Client)?(this[l7e]=r.Client,c7e||(c7e=!0,process.emitWarning("Client.Options#interceptor is deprecated. Use Dispatcher#compose instead.",{code:"UNDICI-CLIENT-INTERCEPTOR-DEPRECATED"}))):this[l7e]=[j1t({maxRedirections:R})],this[rg]=px.parseOrigin(t),this[K_]=P,this[JO]=v??1,this[k1t]=n||A1t.maxHeaderSize,this[a7e]=m??4e3,this[R1t]=p??6e5,this[B1t]=A??2e3,this[S1t]=this[a7e],this[F5]=null,this[J_]=W??null,this[gx]=0,this[L5]=0,this[w1t]=`host: ${this[rg].hostname}${this[rg].port?`:${this[rg].port}`:""}\r
`,this[P1t]=c??3e5,this[D1t]=i??3e5,this[F1t]=b??!0,this[N1t]=R,this[Lne]=F,this[N5]=null,this[U1t]=se>-1?se:-1,this[W1t]=G??100,this[Sa]=null,this[dh]=[],this[pA]=0,this[mh]=0,this[Z_]=ne=>Mne(this,ne),this[q1t]=ne=>h7e(this,ne)}get pipelining(){return this[JO]}set pipelining(t){this[JO]=t,this[Z_](!0)}get[tS](){return this[dh].length-this[mh]}get[eS](){return this[mh]-this[pA]}get[X_](){return this[dh].length-this[pA]}get[T1t](){return!!this[Sa]&&!this[U8]&&!this[Sa].destroyed}get[Nne](){return!!(this[Sa]?.busy(null)||this[X_]>=(m7e(this)||1)||this[tS]>0)}[I1t](t){p7e(this),this.once("connect",t)}[O1t](t,r){let n=t.origin||this[rg].origin,i=new y1t(n,t,r);return this[dh].push(i),this[gx]||(px.bodyLength(i.body)==null&&px.isIterable(i.body)?(this[gx]=1,queueMicrotask(()=>Mne(this))):this[Z_](!0)),this[gx]&&this[L5]!==2&&this[Nne]&&(this[L5]=2),this[L5]<2}async[Q1t](){return new Promise(t=>{this[X_]?this[N5]=t:t(null)})}async[M1t](t){return new Promise(r=>{let n=this[dh].splice(this[mh]);for(let s=0;s<n.length;s++){let a=n[s];px.errorRequest(this,a,t)}let i=o(()=>{this[N5]&&(this[N5](),this[N5]=null),r(null)},"callback");this[Sa]?(this[Sa].destroy(t,i),this[Sa]=null):queueMicrotask(i),this[Z_]()})}},j1t=KO();function h7e(e,t){if(e[eS]===0&&t.code!=="UND_ERR_INFO"&&t.code!=="UND_ERR_SOCKET"){hA(e[mh]===e[pA]);let r=e[dh].splice(e[pA]);for(let n=0;n<r.length;n++){let i=r[n];px.errorRequest(e,i,t)}hA(e[X_]===0)}}o(h7e,"onError");async function p7e(e){hA(!e[U8]),hA(!e[Sa]);let{host:t,hostname:r,protocol:n,port:i}=e[rg];if(r[0]==="["){let s=r.indexOf("]");hA(s!==-1);let a=r.substring(1,s);hA(d7e.isIP(a)),r=a}e[U8]=!0,O8.beforeConnect.hasSubscribers&&O8.beforeConnect.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[Sa]?.version,servername:e[F5],localAddress:e[J_]},connector:e[K_]});try{let s=await new Promise((a,l)=>{e[K_]({host:t,hostname:r,protocol:n,port:i,servername:e[F5],localAddress:e[J_]},(c,u)=>{c?l(c):a(u)})});if(e.destroyed){px.destroy(s.on("error",u7e),new v1t);return}hA(s);try{e[Sa]=s.alpnProtocol==="h2"?await H1t(e,s):await G1t(e,s)}catch(a){throw s.destroy().on("error",u7e),a}e[U8]=!1,s[L1t]=0,s[Lne]=e[Lne],s[E1t]=e,s[_1t]=null,O8.connected.hasSubscribers&&O8.connected.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[Sa]?.version,servername:e[F5],localAddress:e[J_]},connector:e[K_],socket:s}),e.emit("connect",e[rg],[e])}catch(s){if(e.destroyed)return;if(e[U8]=!1,O8.connectError.hasSubscribers&&O8.connectError.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[Sa]?.version,servername:e[F5],localAddress:e[J_]},connector:e[K_],error:s}),s.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(hA(e[eS]===0);e[tS]>0&&e[dh][e[mh]].servername===e[F5];){let a=e[dh][e[mh]++];px.errorRequest(e,a,s)}else h7e(e,s);e.emit("connectionError",e[rg],[e],s)}e[Z_]()}o(p7e,"connect");function f7e(e){e[L5]=0,e.emit("drain",e[rg],[e])}o(f7e,"emitDrain");function Mne(e,t){e[gx]!==2&&(e[gx]=2,V1t(e,t),e[gx]=0,e[pA]>256&&(e[dh].splice(0,e[pA]),e[mh]-=e[pA],e[pA]=0))}o(Mne,"resume");function V1t(e,t){for(;;){if(e.destroyed){hA(e[tS]===0);return}if(e[N5]&&!e[X_]){e[N5](),e[N5]=null;return}if(e[Sa]&&e[Sa].resume(),e[Nne])e[L5]=2;else if(e[L5]===2){t?(e[L5]=1,queueMicrotask(()=>f7e(e))):f7e(e);continue}if(e[tS]===0||e[eS]>=(m7e(e)||1))return;let r=e[dh][e[mh]];if(e[rg].protocol==="https:"&&e[F5]!==r.servername){if(e[eS]>0)return;e[F5]=r.servername,e[Sa]?.destroy(new x1t("servername changed"),()=>{e[Sa]=null,Mne(e)})}if(e[U8])return;if(!e[Sa]){p7e(e);return}if(e[Sa].destroyed||e[Sa].busy(r))return;!r.aborted&&e[Sa].write(r)?e[mh]++:e[dh].splice(e[mh],1)}}o(V1t,"_resume");g7e.exports=Qne});var One=H((tqr,A7e)=>{"use strict";d();var ZO=class{static{o(this,"FixedCircularBuffer")}constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(t){this.list[this.top]=t,this.top=this.top+1&2047}shift(){let t=this.list[this.bottom];return t===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,t)}};A7e.exports=class{static{o(this,"FixedQueue")}constructor(){this.head=this.tail=new ZO}isEmpty(){return this.head.isEmpty()}push(t){this.head.isFull()&&(this.head=this.head.next=new ZO),this.head.push(t)}shift(){let t=this.tail,r=t.shift();return t.isEmpty()&&t.next!==null&&(this.tail=t.next),r}}});var C7e=H((iqr,y7e)=>{d();var{kFree:$1t,kConnected:z1t,kPending:Y1t,kQueued:K1t,kRunning:J1t,kSize:Z1t}=Ns(),Ax=Symbol("pool"),Une=class{static{o(this,"PoolStats")}constructor(t){this[Ax]=t}get connected(){return this[Ax][z1t]}get free(){return this[Ax][$1t]}get pending(){return this[Ax][Y1t]}get queued(){return this[Ax][K1t]}get running(){return this[Ax][J1t]}get size(){return this[Ax][Z1t]}};y7e.exports=Une});var Vne=H((aqr,k7e)=>{"use strict";d();var X1t=T8(),eAt=One(),{kConnected:qne,kSize:x7e,kRunning:v7e,kPending:b7e,kQueued:nS,kBusy:tAt,kFree:rAt,kUrl:nAt,kClose:iAt,kDestroy:oAt,kDispatch:sAt}=Ns(),aAt=C7e(),cu=Symbol("clients"),m0=Symbol("needDrain"),iS=Symbol("queue"),Wne=Symbol("closed resolve"),Gne=Symbol("onDrain"),E7e=Symbol("onConnect"),I7e=Symbol("onDisconnect"),T7e=Symbol("onConnectionError"),Hne=Symbol("get dispatcher"),_7e=Symbol("add client"),S7e=Symbol("remove client"),w7e=Symbol("stats"),jne=class extends X1t{static{o(this,"PoolBase")}constructor(){super(),this[iS]=new eAt,this[cu]=[],this[nS]=0;let t=this;this[Gne]=o(function(n,i){let s=t[iS],a=!1;for(;!a;){let l=s.shift();if(!l)break;t[nS]--,a=!this.dispatch(l.opts,l.handler)}this[m0]=a,!this[m0]&&t[m0]&&(t[m0]=!1,t.emit("drain",n,[t,...i])),t[Wne]&&s.isEmpty()&&Promise.all(t[cu].map(l=>l.close())).then(t[Wne])},"onDrain"),this[E7e]=(r,n)=>{t.emit("connect",r,[t,...n])},this[I7e]=(r,n,i)=>{t.emit("disconnect",r,[t,...n],i)},this[T7e]=(r,n,i)=>{t.emit("connectionError",r,[t,...n],i)},this[w7e]=new aAt(this)}get[tAt](){return this[m0]}get[qne](){return this[cu].filter(t=>t[qne]).length}get[rAt](){return this[cu].filter(t=>t[qne]&&!t[m0]).length}get[b7e](){let t=this[nS];for(let{[b7e]:r}of this[cu])t+=r;return t}get[v7e](){let t=0;for(let{[v7e]:r}of this[cu])t+=r;return t}get[x7e](){let t=this[nS];for(let{[x7e]:r}of this[cu])t+=r;return t}get stats(){return this[w7e]}async[iAt](){this[iS].isEmpty()?await Promise.all(this[cu].map(t=>t.close())):await new Promise(t=>{this[Wne]=t})}async[oAt](t){for(;;){let r=this[iS].shift();if(!r)break;r.handler.onError(t)}await Promise.all(this[cu].map(r=>r.destroy(t)))}[sAt](t,r){let n=this[Hne]();return n?n.dispatch(t,r)||(n[m0]=!0,this[m0]=!this[Hne]()):(this[m0]=!0,this[iS].push({opts:t,handler:r}),this[nS]++),!this[m0]}[_7e](t){return t.on("drain",this[Gne]).on("connect",this[E7e]).on("disconnect",this[I7e]).on("connectionError",this[T7e]),this[cu].push(t),this[m0]&&queueMicrotask(()=>{this[m0]&&this[Gne](t[nAt],[this,t])}),this}[S7e](t){t.close(()=>{let r=this[cu].indexOf(t);r!==-1&&this[cu].splice(r,1)}),this[m0]=this[cu].some(r=>!r[m0]&&r.closed!==!0&&r.destroyed!==!0)}};k7e.exports={PoolBase:jne,kClients:cu,kNeedDrain:m0,kAddClient:_7e,kRemoveClient:S7e,kGetDispatcher:Hne}});var q8=H((uqr,F7e)=>{"use strict";d();var{PoolBase:lAt,kClients:R7e,kNeedDrain:cAt,kAddClient:uAt,kGetDispatcher:fAt}=Vne(),dAt=rS(),{InvalidArgumentError:$ne}=yo(),B7e=Ci(),{kUrl:D7e,kInterceptors:mAt}=Ns(),hAt=L_(),zne=Symbol("options"),Yne=Symbol("connections"),P7e=Symbol("factory");function pAt(e,t){return new dAt(e,t)}o(pAt,"defaultFactory");var Kne=class extends lAt{static{o(this,"Pool")}constructor(t,{connections:r,factory:n=pAt,connect:i,connectTimeout:s,tls:a,maxCachedSessions:l,socketPath:c,autoSelectFamily:u,autoSelectFamilyAttemptTimeout:f,allowH2:m,...h}={}){if(super(),r!=null&&(!Number.isFinite(r)||r<0))throw new $ne("invalid connections");if(typeof n!="function")throw new $ne("factory must be a function.");if(i!=null&&typeof i!="function"&&typeof i!="object")throw new $ne("connect must be a function or an object");typeof i!="function"&&(i=hAt({...a,maxCachedSessions:l,allowH2:m,socketPath:c,timeout:s,...u?{autoSelectFamily:u,autoSelectFamilyAttemptTimeout:f}:void 0,...i})),this[mAt]=h.interceptors?.Pool&&Array.isArray(h.interceptors.Pool)?h.interceptors.Pool:[],this[Yne]=r||null,this[D7e]=B7e.parseOrigin(t),this[zne]={...B7e.deepClone(h),connect:i,allowH2:m},this[zne].interceptors=h.interceptors?{...h.interceptors}:void 0,this[P7e]=n}[fAt](){for(let t of this[R7e])if(!t[cAt])return t;if(!this[Yne]||this[R7e].length<this[Yne]){let t=this[P7e](this[D7e],this[zne]);return this[uAt](t),t}}};F7e.exports=Kne});var O7e=H((mqr,M7e)=>{"use strict";d();var{BalancedPoolMissingUpstreamError:gAt,InvalidArgumentError:AAt}=yo(),{PoolBase:yAt,kClients:Mc,kNeedDrain:oS,kAddClient:CAt,kRemoveClient:xAt,kGetDispatcher:vAt}=Vne(),bAt=q8(),{kUrl:Jne,kInterceptors:EAt}=Ns(),{parseOrigin:N7e}=Ci(),L7e=Symbol("factory"),XO=Symbol("options"),Q7e=Symbol("kGreatestCommonDivisor"),yx=Symbol("kCurrentWeight"),Cx=Symbol("kIndex"),Md=Symbol("kWeight"),eU=Symbol("kMaxWeightPerServer"),tU=Symbol("kErrorPenalty");function IAt(e,t){if(e===0)return t;for(;t!==0;){let r=t;t=e%t,e=r}return e}o(IAt,"getGreatestCommonDivisor");function TAt(e,t){return new bAt(e,t)}o(TAt,"defaultFactory");var Zne=class extends yAt{static{o(this,"BalancedPool")}constructor(t=[],{factory:r=TAt,...n}={}){if(super(),this[XO]=n,this[Cx]=-1,this[yx]=0,this[eU]=this[XO].maxWeightPerServer||100,this[tU]=this[XO].errorPenalty||15,Array.isArray(t)||(t=[t]),typeof r!="function")throw new AAt("factory must be a function.");this[EAt]=n.interceptors?.BalancedPool&&Array.isArray(n.interceptors.BalancedPool)?n.interceptors.BalancedPool:[],this[L7e]=r;for(let i of t)this.addUpstream(i);this._updateBalancedPoolStats()}addUpstream(t){let r=N7e(t).origin;if(this[Mc].find(i=>i[Jne].origin===r&&i.closed!==!0&&i.destroyed!==!0))return this;let n=this[L7e](r,Object.assign({},this[XO]));this[CAt](n),n.on("connect",()=>{n[Md]=Math.min(this[eU],n[Md]+this[tU])}),n.on("connectionError",()=>{n[Md]=Math.max(1,n[Md]-this[tU]),this._updateBalancedPoolStats()}),n.on("disconnect",(...i)=>{let s=i[2];s&&s.code==="UND_ERR_SOCKET"&&(n[Md]=Math.max(1,n[Md]-this[tU]),this._updateBalancedPoolStats())});for(let i of this[Mc])i[Md]=this[eU];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){let t=0;for(let r=0;r<this[Mc].length;r++)t=IAt(this[Mc][r][Md],t);this[Q7e]=t}removeUpstream(t){let r=N7e(t).origin,n=this[Mc].find(i=>i[Jne].origin===r&&i.closed!==!0&&i.destroyed!==!0);return n&&this[xAt](n),this}get upstreams(){return this[Mc].filter(t=>t.closed!==!0&&t.destroyed!==!0).map(t=>t[Jne].origin)}[vAt](){if(this[Mc].length===0)throw new gAt;if(!this[Mc].find(s=>!s[oS]&&s.closed!==!0&&s.destroyed!==!0)||this[Mc].map(s=>s[oS]).reduce((s,a)=>s&&a,!0))return;let n=0,i=this[Mc].findIndex(s=>!s[oS]);for(;n++<this[Mc].length;){this[Cx]=(this[Cx]+1)%this[Mc].length;let s=this[Mc][this[Cx]];if(s[Md]>this[Mc][i][Md]&&!s[oS]&&(i=this[Cx]),this[Cx]===0&&(this[yx]=this[yx]-this[Q7e],this[yx]<=0&&(this[yx]=this[eU])),s[Md]>=this[yx]&&!s[oS])return s}return this[yx]=this[Mc][i][Md],this[Cx]=i,this[Mc][i]}};M7e.exports=Zne});var W8=H((gqr,V7e)=>{"use strict";d();var{InvalidArgumentError:rU}=yo(),{kClients:Q5,kRunning:U7e,kClose:wAt,kDestroy:_At,kDispatch:SAt,kInterceptors:kAt}=Ns(),RAt=T8(),BAt=q8(),DAt=rS(),PAt=Ci(),FAt=KO(),q7e=Symbol("onConnect"),W7e=Symbol("onDisconnect"),G7e=Symbol("onConnectionError"),NAt=Symbol("maxRedirections"),H7e=Symbol("onDrain"),j7e=Symbol("factory"),Xne=Symbol("options");function LAt(e,t){return t&&t.connections===1?new DAt(e,t):new BAt(e,t)}o(LAt,"defaultFactory");var eie=class extends RAt{static{o(this,"Agent")}constructor({factory:t=LAt,maxRedirections:r=0,connect:n,...i}={}){if(super(),typeof t!="function")throw new rU("factory must be a function.");if(n!=null&&typeof n!="function"&&typeof n!="object")throw new rU("connect must be a function or an object");if(!Number.isInteger(r)||r<0)throw new rU("maxRedirections must be a positive number");n&&typeof n!="function"&&(n={...n}),this[kAt]=i.interceptors?.Agent&&Array.isArray(i.interceptors.Agent)?i.interceptors.Agent:[FAt({maxRedirections:r})],this[Xne]={...PAt.deepClone(i),connect:n},this[Xne].interceptors=i.interceptors?{...i.interceptors}:void 0,this[NAt]=r,this[j7e]=t,this[Q5]=new Map,this[H7e]=(s,a)=>{this.emit("drain",s,[this,...a])},this[q7e]=(s,a)=>{this.emit("connect",s,[this,...a])},this[W7e]=(s,a,l)=>{this.emit("disconnect",s,[this,...a],l)},this[G7e]=(s,a,l)=>{this.emit("connectionError",s,[this,...a],l)}}get[U7e](){let t=0;for(let r of this[Q5].values())t+=r[U7e];return t}[SAt](t,r){let n;if(t.origin&&(typeof t.origin=="string"||t.origin instanceof URL))n=String(t.origin);else throw new rU("opts.origin must be a non-empty string or URL.");let i=this[Q5].get(n);return i||(i=this[j7e](t.origin,this[Xne]).on("drain",this[H7e]).on("connect",this[q7e]).on("disconnect",this[W7e]).on("connectionError",this[G7e]),this[Q5].set(n,i)),i.dispatch(t,r)}async[wAt](){let t=[];for(let r of this[Q5].values())t.push(r.close());this[Q5].clear(),await Promise.all(t)}async[_At](t){let r=[];for(let n of this[Q5].values())r.push(n.destroy(t));this[Q5].clear(),await Promise.all(r)}};V7e.exports=eie});var nie=H((Cqr,K7e)=>{"use strict";d();var{kProxy:QAt,kClose:MAt,kDestroy:OAt,kInterceptors:UAt}=Ns(),{URL:sS}=require("node:url"),qAt=W8(),WAt=q8(),GAt=T8(),{InvalidArgumentError:oU,RequestAbortedError:HAt,SecureProxyConnectionError:jAt}=yo(),$7e=L_(),nU=Symbol("proxy agent"),iU=Symbol("proxy client"),aS=Symbol("proxy headers"),tie=Symbol("request tls settings"),z7e=Symbol("proxy tls settings"),Y7e=Symbol("connect endpoint function");function VAt(e){return e==="https:"?443:80}o(VAt,"defaultProtocolPort");function $At(e,t){return new WAt(e,t)}o($At,"defaultFactory");var zAt=o(()=>{},"noop"),rie=class extends GAt{static{o(this,"ProxyAgent")}constructor(t){if(super(),!t||typeof t=="object"&&!(t instanceof sS)&&!t.uri)throw new oU("Proxy uri is mandatory");let{clientFactory:r=$At}=t;if(typeof r!="function")throw new oU("Proxy opts.clientFactory must be a function.");let n=this.#e(t),{href:i,origin:s,port:a,protocol:l,username:c,password:u,hostname:f}=n;if(this[QAt]={uri:i,protocol:l},this[UAt]=t.interceptors?.ProxyAgent&&Array.isArray(t.interceptors.ProxyAgent)?t.interceptors.ProxyAgent:[],this[tie]=t.requestTls,this[z7e]=t.proxyTls,this[aS]=t.headers||{},t.auth&&t.token)throw new oU("opts.auth cannot be used in combination with opts.token");t.auth?this[aS]["proxy-authorization"]=`Basic ${t.auth}`:t.token?this[aS]["proxy-authorization"]=t.token:c&&u&&(this[aS]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(c)}:${decodeURIComponent(u)}`).toString("base64")}`);let m=$7e({...t.proxyTls});this[Y7e]=$7e({...t.requestTls}),this[iU]=r(n,{connect:m}),this[nU]=new qAt({...t,connect:o(async(h,p)=>{let A=h.host;h.port||(A+=`:${VAt(h.protocol)}`);try{let{socket:x,statusCode:v}=await this[iU].connect({origin:s,port:a,path:A,signal:h.signal,headers:{...this[aS],host:h.host},servername:this[z7e]?.servername||f});if(v!==200&&(x.on("error",zAt).destroy(),p(new HAt(`Proxy response (${v}) !== 200 when HTTP Tunneling`))),h.protocol!=="https:"){p(null,x);return}let E;this[tie]?E=this[tie].servername:E=h.servername,this[Y7e]({...h,servername:E,httpSocket:x},p)}catch(x){x.code==="ERR_TLS_CERT_ALTNAME_INVALID"?p(new jAt(x)):p(x)}},"connect")})}dispatch(t,r){let n=YAt(t.headers);if(KAt(n),n&&!("host"in n)&&!("Host"in n)){let{host:i}=new sS(t.origin);n.host=i}return this[nU].dispatch({...t,headers:n},r)}#e(t){return typeof t=="string"?new sS(t):t instanceof sS?t:new sS(t.uri)}async[MAt](){await this[nU].close(),await this[iU].close()}async[OAt](){await this[nU].destroy(),await this[iU].destroy()}};function YAt(e){if(Array.isArray(e)){let t={};for(let r=0;r<e.length;r+=2)t[e[r]]=e[r+1];return t}return e}o(YAt,"buildHeaders");function KAt(e){if(e&&Object.keys(e).find(r=>r.toLowerCase()==="proxy-authorization"))throw new oU("Proxy-Authorization should be sent in ProxyAgent constructor")}o(KAt,"throwIfProxyAuthIsSent");K7e.exports=rie});var rTe=H((bqr,tTe)=>{"use strict";d();var JAt=T8(),{kClose:ZAt,kDestroy:XAt,kClosed:J7e,kDestroyed:Z7e,kDispatch:e2t,kNoProxyAgent:lS,kHttpProxyAgent:M5,kHttpsProxyAgent:xx}=Ns(),X7e=nie(),t2t=W8(),r2t={"http:":80,"https:":443},eTe=!1,iie=class extends JAt{static{o(this,"EnvHttpProxyAgent")}#e=null;#t=null;#i=null;constructor(t={}){super(),this.#i=t,eTe||(eTe=!0,process.emitWarning("EnvHttpProxyAgent is experimental, expect them to change at any time.",{code:"UNDICI-EHPA"}));let{httpProxy:r,httpsProxy:n,noProxy:i,...s}=t;this[lS]=new t2t(s);let a=r??process.env.http_proxy??process.env.HTTP_PROXY;a?this[M5]=new X7e({...s,uri:a}):this[M5]=this[lS];let l=n??process.env.https_proxy??process.env.HTTPS_PROXY;l?this[xx]=new X7e({...s,uri:l}):this[xx]=this[M5],this.#o()}[e2t](t,r){let n=new URL(t.origin);return this.#n(n).dispatch(t,r)}async[ZAt](){await this[lS].close(),this[M5][J7e]||await this[M5].close(),this[xx][J7e]||await this[xx].close()}async[XAt](t){await this[lS].destroy(t),this[M5][Z7e]||await this[M5].destroy(t),this[xx][Z7e]||await this[xx].destroy(t)}#n(t){let{protocol:r,host:n,port:i}=t;return n=n.replace(/:\d*$/,"").toLowerCase(),i=Number.parseInt(i,10)||r2t[r]||0,this.#r(n,i)?r==="https:"?this[xx]:this[M5]:this[lS]}#r(t,r){if(this.#s&&this.#o(),this.#t.length===0)return!0;if(this.#e==="*")return!1;for(let n=0;n<this.#t.length;n++){let i=this.#t[n];if(!(i.port&&i.port!==r)){if(/^[.*]/.test(i.hostname)){if(t.endsWith(i.hostname.replace(/^\*/,"")))return!1}else if(t===i.hostname)return!1}}return!0}#o(){let t=this.#i.noProxy??this.#a,r=t.split(/[,\s]/),n=[];for(let i=0;i<r.length;i++){let s=r[i];if(!s)continue;let a=s.match(/^(.+):(\d+)$/);n.push({hostname:(a?a[1]:s).toLowerCase(),port:a?Number.parseInt(a[2],10):0})}this.#e=t,this.#t=n}get#s(){return this.#i.noProxy!==void 0?!1:this.#e!==this.#a}get#a(){return process.env.no_proxy??process.env.NO_PROXY??""}};tTe.exports=iie});var sU=H((Tqr,sTe)=>{"use strict";d();var G8=require("node:assert"),{kRetryHandlerDefaultRetry:nTe}=Ns(),{RequestRetryError:cS}=yo(),{isDisturbed:iTe,parseHeaders:n2t,parseRangeHeader:oTe,wrapRequestBody:i2t}=Ci();function o2t(e){let t=Date.now();return new Date(e).getTime()-t}o(o2t,"calculateRetryAfterHeader");var oie=class e{static{o(this,"RetryHandler")}constructor(t,r){let{retryOptions:n,...i}=t,{retry:s,maxRetries:a,maxTimeout:l,minTimeout:c,timeoutFactor:u,methods:f,errorCodes:m,retryAfter:h,statusCodes:p}=n??{};this.dispatch=r.dispatch,this.handler=r.handler,this.opts={...i,body:i2t(t.body)},this.abort=null,this.aborted=!1,this.retryOpts={retry:s??e[nTe],retryAfter:h??!0,maxTimeout:l??30*1e3,minTimeout:c??500,timeoutFactor:u??2,maxRetries:a??5,methods:f??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:p??[500,502,503,504,429],errorCodes:m??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(A=>{this.aborted=!0,this.abort?this.abort(A):this.reason=A})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(t,r,n){this.handler.onUpgrade&&this.handler.onUpgrade(t,r,n)}onConnect(t){this.aborted?t(this.reason):this.abort=t}onBodySent(t){if(this.handler.onBodySent)return this.handler.onBodySent(t)}static[nTe](t,{state:r,opts:n},i){let{statusCode:s,code:a,headers:l}=t,{method:c,retryOptions:u}=n,{maxRetries:f,minTimeout:m,maxTimeout:h,timeoutFactor:p,statusCodes:A,errorCodes:x,methods:v}=u,{counter:E}=r;if(a&&a!=="UND_ERR_REQ_RETRY"&&!x.includes(a)){i(t);return}if(Array.isArray(v)&&!v.includes(c)){i(t);return}if(s!=null&&Array.isArray(A)&&!A.includes(s)){i(t);return}if(E>f){i(t);return}let b=l?.["retry-after"];b&&(b=Number(b),b=Number.isNaN(b)?o2t(b):b*1e3);let _=b>0?Math.min(b,h):Math.min(m*p**(E-1),h);setTimeout(()=>i(null),_)}onHeaders(t,r,n,i){let s=n2t(r);if(this.retryCount+=1,t>=300)return this.retryOpts.statusCodes.includes(t)===!1?this.handler.onHeaders(t,r,n,i):(this.abort(new cS("Request failed",t,{headers:s,data:{count:this.retryCount}})),!1);if(this.resume!=null){if(this.resume=null,t!==206&&(this.start>0||t!==200))return this.abort(new cS("server does not support the range header and the payload was partially consumed",t,{headers:s,data:{count:this.retryCount}})),!1;let l=oTe(s["content-range"]);if(!l)return this.abort(new cS("Content-Range mismatch",t,{headers:s,data:{count:this.retryCount}})),!1;if(this.etag!=null&&this.etag!==s.etag)return this.abort(new cS("ETag mismatch",t,{headers:s,data:{count:this.retryCount}})),!1;let{start:c,size:u,end:f=u-1}=l;return G8(this.start===c,"content-range mismatch"),G8(this.end==null||this.end===f,"content-range mismatch"),this.resume=n,!0}if(this.end==null){if(t===206){let l=oTe(s["content-range"]);if(l==null)return this.handler.onHeaders(t,r,n,i);let{start:c,size:u,end:f=u-1}=l;G8(c!=null&&Number.isFinite(c),"content-range mismatch"),G8(f!=null&&Number.isFinite(f),"invalid content-length"),this.start=c,this.end=f}if(this.end==null){let l=s["content-length"];this.end=l!=null?Number(l)-1:null}return G8(Number.isFinite(this.start)),G8(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=n,this.etag=s.etag!=null?s.etag:null,this.etag!=null&&this.etag.startsWith("W/")&&(this.etag=null),this.handler.onHeaders(t,r,n,i)}let a=new cS("Request failed",t,{headers:s,data:{count:this.retryCount}});return this.abort(a),!1}onData(t){return this.start+=t.length,this.handler.onData(t)}onComplete(t){return this.retryCount=0,this.handler.onComplete(t)}onError(t){if(this.aborted||iTe(this.opts.body))return this.handler.onError(t);this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(t,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},r.bind(this));function r(n){if(n!=null||this.aborted||iTe(this.opts.body))return this.handler.onError(n);if(this.start!==0){let i={range:`bytes=${this.start}-${this.end??""}`};this.etag!=null&&(i["if-match"]=this.etag),this.opts={...this.opts,headers:{...this.opts.headers,...i}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(i){this.handler.onError(i)}}o(r,"onRetry")}};sTe.exports=oie});var lTe=H((Sqr,aTe)=>{"use strict";d();var s2t=F_(),a2t=sU(),sie=class extends s2t{static{o(this,"RetryAgent")}#e=null;#t=null;constructor(t,r={}){super(r),this.#e=t,this.#t=r}dispatch(t,r){let n=new a2t({...t,retryOptions:this.#t},{dispatch:this.#e.dispatch.bind(this.#e),handler:r});return this.#e.dispatch(t,n)}close(){return this.#e.close()}destroy(){return this.#e.destroy()}};aTe.exports=sie});var die=H((Bqr,ATe)=>{"use strict";d();var mTe=require("node:assert"),{Readable:l2t}=require("node:stream"),{RequestAbortedError:hTe,NotSupportedError:c2t,InvalidArgumentError:u2t,AbortError:aie}=yo(),pTe=Ci(),{ReadableStreamFrom:f2t}=Ci(),hf=Symbol("kConsume"),uS=Symbol("kReading"),O5=Symbol("kBody"),cTe=Symbol("kAbort"),gTe=Symbol("kContentType"),uTe=Symbol("kContentLength"),d2t=o(()=>{},"noop"),lie=class extends l2t{static{o(this,"BodyReadable")}constructor({resume:t,abort:r,contentType:n="",contentLength:i,highWaterMark:s=64*1024}){super({autoDestroy:!0,read:t,highWaterMark:s}),this._readableState.dataEmitted=!1,this[cTe]=r,this[hf]=null,this[O5]=null,this[gTe]=n,this[uTe]=i,this[uS]=!1}destroy(t){return!t&&!this._readableState.endEmitted&&(t=new hTe),t&&this[cTe](),super.destroy(t)}_destroy(t,r){this[uS]?r(t):setImmediate(()=>{r(t)})}on(t,...r){return(t==="data"||t==="readable")&&(this[uS]=!0),super.on(t,...r)}addListener(t,...r){return this.on(t,...r)}off(t,...r){let n=super.off(t,...r);return(t==="data"||t==="readable")&&(this[uS]=this.listenerCount("data")>0||this.listenerCount("readable")>0),n}removeListener(t,...r){return this.off(t,...r)}push(t){return this[hf]&&t!==null?(uie(this[hf],t),this[uS]?super.push(t):!0):super.push(t)}async text(){return fS(this,"text")}async json(){return fS(this,"json")}async blob(){return fS(this,"blob")}async bytes(){return fS(this,"bytes")}async arrayBuffer(){return fS(this,"arrayBuffer")}async formData(){throw new c2t}get bodyUsed(){return pTe.isDisturbed(this)}get body(){return this[O5]||(this[O5]=f2t(this),this[hf]&&(this[O5].getReader(),mTe(this[O5].locked))),this[O5]}async dump(t){let r=Number.isFinite(t?.limit)?t.limit:131072,n=t?.signal;if(n!=null&&(typeof n!="object"||!("aborted"in n)))throw new u2t("signal must be an AbortSignal");return n?.throwIfAborted(),this._readableState.closeEmitted?null:await new Promise((i,s)=>{this[uTe]>r&&this.destroy(new aie);let a=o(()=>{this.destroy(n.reason??new aie)},"onAbort");n?.addEventListener("abort",a),this.on("close",function(){n?.removeEventListener("abort",a),n?.aborted?s(n.reason??new aie):i(null)}).on("error",d2t).on("data",function(l){r-=l.length,r<=0&&this.destroy()}).resume()})}};function m2t(e){return e[O5]&&e[O5].locked===!0||e[hf]}o(m2t,"isLocked");function h2t(e){return pTe.isDisturbed(e)||m2t(e)}o(h2t,"isUnusable");async function fS(e,t){return mTe(!e[hf]),new Promise((r,n)=>{if(h2t(e)){let i=e._readableState;i.destroyed&&i.closeEmitted===!1?e.on("error",s=>{n(s)}).on("close",()=>{n(new TypeError("unusable"))}):n(i.errored??new TypeError("unusable"))}else queueMicrotask(()=>{e[hf]={type:t,stream:e,resolve:r,reject:n,length:0,body:[]},e.on("error",function(i){fie(this[hf],i)}).on("close",function(){this[hf].body!==null&&fie(this[hf],new hTe)}),p2t(e[hf])})})}o(fS,"consume");function p2t(e){if(e.body===null)return;let{_readableState:t}=e.stream;if(t.bufferIndex){let r=t.bufferIndex,n=t.buffer.length;for(let i=r;i<n;i++)uie(e,t.buffer[i])}else for(let r of t.buffer)uie(e,r);for(t.endEmitted?dTe(this[hf]):e.stream.on("end",function(){dTe(this[hf])}),e.stream.resume();e.stream.read()!=null;);}o(p2t,"consumeStart");function cie(e,t){if(e.length===0||t===0)return"";let r=e.length===1?e[0]:Buffer.concat(e,t),n=r.length,i=n>2&&r[0]===239&&r[1]===187&&r[2]===191?3:0;return r.utf8Slice(i,n)}o(cie,"chunksDecode");function fTe(e,t){if(e.length===0||t===0)return new Uint8Array(0);if(e.length===1)return new Uint8Array(e[0]);let r=new Uint8Array(Buffer.allocUnsafeSlow(t).buffer),n=0;for(let i=0;i<e.length;++i){let s=e[i];r.set(s,n),n+=s.length}return r}o(fTe,"chunksConcat");function dTe(e){let{type:t,body:r,resolve:n,stream:i,length:s}=e;try{t==="text"?n(cie(r,s)):t==="json"?n(JSON.parse(cie(r,s))):t==="arrayBuffer"?n(fTe(r,s).buffer):t==="blob"?n(new Blob(r,{type:i[gTe]})):t==="bytes"&&n(fTe(r,s)),fie(e)}catch(a){i.destroy(a)}}o(dTe,"consumeEnd");function uie(e,t){e.length+=t.length,e.body.push(t)}o(uie,"consumePush");function fie(e,t){e.body!==null&&(t?e.reject(t):e.resolve(),e.type=null,e.stream=null,e.resolve=null,e.reject=null,e.length=0,e.body=null)}o(fie,"consumeFinish");ATe.exports={Readable:lie,chunksDecode:cie}});var mie=H((Fqr,bTe)=>{d();var g2t=require("node:assert"),{ResponseStatusCodeError:yTe}=yo(),{chunksDecode:CTe}=die(),A2t=128*1024;async function y2t({callback:e,body:t,contentType:r,statusCode:n,statusMessage:i,headers:s}){g2t(t);let a=[],l=0;try{for await(let m of t)if(a.push(m),l+=m.length,l>A2t){a=[],l=0;break}}catch{a=[],l=0}let c=`Response status code ${n}${i?`: ${i}`:""}`;if(n===204||!r||!l){queueMicrotask(()=>e(new yTe(c,n,s)));return}let u=Error.stackTraceLimit;Error.stackTraceLimit=0;let f;try{xTe(r)?f=JSON.parse(CTe(a,l)):vTe(r)&&(f=CTe(a,l))}catch{}finally{Error.stackTraceLimit=u}queueMicrotask(()=>e(new yTe(c,n,s,f)))}o(y2t,"getResolveErrorBodyCallback");var xTe=o(e=>e.length>15&&e[11]==="/"&&e[0]==="a"&&e[1]==="p"&&e[2]==="p"&&e[3]==="l"&&e[4]==="i"&&e[5]==="c"&&e[6]==="a"&&e[7]==="t"&&e[8]==="i"&&e[9]==="o"&&e[10]==="n"&&e[12]==="j"&&e[13]==="s"&&e[14]==="o"&&e[15]==="n","isContentTypeApplicationJson"),vTe=o(e=>e.length>4&&e[4]==="/"&&e[0]==="t"&&e[1]==="e"&&e[2]==="x"&&e[3]==="t","isContentTypeText");bTe.exports={getResolveErrorBodyCallback:y2t,isContentTypeApplicationJson:xTe,isContentTypeText:vTe}});var TTe=H((Qqr,hie)=>{"use strict";d();var C2t=require("node:assert"),{Readable:x2t}=die(),{InvalidArgumentError:H8,RequestAbortedError:ETe}=yo(),pf=Ci(),{getResolveErrorBodyCallback:v2t}=mie(),{AsyncResource:b2t}=require("node:async_hooks"),aU=class extends b2t{static{o(this,"RequestHandler")}constructor(t,r){if(!t||typeof t!="object")throw new H8("invalid opts");let{signal:n,method:i,opaque:s,body:a,onInfo:l,responseHeaders:c,throwOnError:u,highWaterMark:f}=t;try{if(typeof r!="function")throw new H8("invalid callback");if(f&&(typeof f!="number"||f<0))throw new H8("invalid highWaterMark");if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new H8("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new H8("invalid method");if(l&&typeof l!="function")throw new H8("invalid onInfo callback");super("UNDICI_REQUEST")}catch(m){throw pf.isStream(a)&&pf.destroy(a.on("error",pf.nop),m),m}this.method=i,this.responseHeaders=c||null,this.opaque=s||null,this.callback=r,this.res=null,this.abort=null,this.body=a,this.trailers={},this.context=null,this.onInfo=l||null,this.throwOnError=u,this.highWaterMark=f,this.signal=n,this.reason=null,this.removeAbortListener=null,pf.isStream(a)&&a.on("error",m=>{this.onError(m)}),this.signal&&(this.signal.aborted?this.reason=this.signal.reason??new ETe:this.removeAbortListener=pf.addAbortListener(this.signal,()=>{this.reason=this.signal.reason??new ETe,this.res?pf.destroy(this.res.on("error",pf.nop),this.reason):this.abort&&this.abort(this.reason),this.removeAbortListener&&(this.res?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}))}onConnect(t,r){if(this.reason){t(this.reason);return}C2t(this.callback),this.abort=t,this.context=r}onHeaders(t,r,n,i){let{callback:s,opaque:a,abort:l,context:c,responseHeaders:u,highWaterMark:f}=this,m=u==="raw"?pf.parseRawHeaders(r):pf.parseHeaders(r);if(t<200){this.onInfo&&this.onInfo({statusCode:t,headers:m});return}let h=u==="raw"?pf.parseHeaders(r):m,p=h["content-type"],A=h["content-length"],x=new x2t({resume:n,abort:l,contentType:p,contentLength:this.method!=="HEAD"&&A?Number(A):null,highWaterMark:f});this.removeAbortListener&&x.on("close",this.removeAbortListener),this.callback=null,this.res=x,s!==null&&(this.throwOnError&&t>=400?this.runInAsyncScope(v2t,null,{callback:s,body:x,contentType:p,statusCode:t,statusMessage:i,headers:m}):this.runInAsyncScope(s,null,null,{statusCode:t,headers:m,trailers:this.trailers,opaque:a,body:x,context:c}))}onData(t){return this.res.push(t)}onComplete(t){pf.parseHeaders(t,this.trailers),this.res.push(null)}onError(t){let{res:r,callback:n,body:i,opaque:s}=this;n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,t,{opaque:s})})),r&&(this.res=null,queueMicrotask(()=>{pf.destroy(r,t)})),i&&(this.body=null,pf.destroy(i,t)),this.removeAbortListener&&(r?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}};function ITe(e,t){if(t===void 0)return new Promise((r,n)=>{ITe.call(this,e,(i,s)=>i?n(i):r(s))});try{this.dispatch(e,new aU(e,t))}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(ITe,"request");hie.exports=ITe;hie.exports.RequestHandler=aU});var dS=H((Uqr,STe)=>{d();var{addAbortListener:E2t}=Ci(),{RequestAbortedError:I2t}=yo(),j8=Symbol("kListener"),ng=Symbol("kSignal");function wTe(e){e.abort?e.abort(e[ng]?.reason):e.reason=e[ng]?.reason??new I2t,_Te(e)}o(wTe,"abort");function T2t(e,t){if(e.reason=null,e[ng]=null,e[j8]=null,!!t){if(t.aborted){wTe(e);return}e[ng]=t,e[j8]=()=>{wTe(e)},E2t(e[ng],e[j8])}}o(T2t,"addSignal");function _Te(e){e[ng]&&("removeEventListener"in e[ng]?e[ng].removeEventListener("abort",e[j8]):e[ng].removeListener("abort",e[j8]),e[ng]=null,e[j8]=null)}o(_Te,"removeSignal");STe.exports={addSignal:T2t,removeSignal:_Te}});var DTe=H((Gqr,BTe)=>{"use strict";d();var w2t=require("node:assert"),{finished:_2t,PassThrough:S2t}=require("node:stream"),{InvalidArgumentError:V8,InvalidReturnValueError:k2t}=yo(),hh=Ci(),{getResolveErrorBodyCallback:R2t}=mie(),{AsyncResource:B2t}=require("node:async_hooks"),{addSignal:D2t,removeSignal:kTe}=dS(),pie=class extends B2t{static{o(this,"StreamHandler")}constructor(t,r,n){if(!t||typeof t!="object")throw new V8("invalid opts");let{signal:i,method:s,opaque:a,body:l,onInfo:c,responseHeaders:u,throwOnError:f}=t;try{if(typeof n!="function")throw new V8("invalid callback");if(typeof r!="function")throw new V8("invalid factory");if(i&&typeof i.on!="function"&&typeof i.addEventListener!="function")throw new V8("signal must be an EventEmitter or EventTarget");if(s==="CONNECT")throw new V8("invalid method");if(c&&typeof c!="function")throw new V8("invalid onInfo callback");super("UNDICI_STREAM")}catch(m){throw hh.isStream(l)&&hh.destroy(l.on("error",hh.nop),m),m}this.responseHeaders=u||null,this.opaque=a||null,this.factory=r,this.callback=n,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=l,this.onInfo=c||null,this.throwOnError=f||!1,hh.isStream(l)&&l.on("error",m=>{this.onError(m)}),D2t(this,i)}onConnect(t,r){if(this.reason){t(this.reason);return}w2t(this.callback),this.abort=t,this.context=r}onHeaders(t,r,n,i){let{factory:s,opaque:a,context:l,callback:c,responseHeaders:u}=this,f=u==="raw"?hh.parseRawHeaders(r):hh.parseHeaders(r);if(t<200){this.onInfo&&this.onInfo({statusCode:t,headers:f});return}this.factory=null;let m;if(this.throwOnError&&t>=400){let A=(u==="raw"?hh.parseHeaders(r):f)["content-type"];m=new S2t,this.callback=null,this.runInAsyncScope(R2t,null,{callback:c,body:m,contentType:A,statusCode:t,statusMessage:i,headers:f})}else{if(s===null)return;if(m=this.runInAsyncScope(s,null,{statusCode:t,headers:f,opaque:a,context:l}),!m||typeof m.write!="function"||typeof m.end!="function"||typeof m.on!="function")throw new k2t("expected Writable");_2t(m,{readable:!1},p=>{let{callback:A,res:x,opaque:v,trailers:E,abort:b}=this;this.res=null,(p||!x.readable)&&hh.destroy(x,p),this.callback=null,this.runInAsyncScope(A,null,p||null,{opaque:v,trailers:E}),p&&b()})}return m.on("drain",n),this.res=m,(m.writableNeedDrain!==void 0?m.writableNeedDrain:m._writableState?.needDrain)!==!0}onData(t){let{res:r}=this;return r?r.write(t):!0}onComplete(t){let{res:r}=this;kTe(this),r&&(this.trailers=hh.parseHeaders(t),r.end())}onError(t){let{res:r,callback:n,opaque:i,body:s}=this;kTe(this),this.factory=null,r?(this.res=null,hh.destroy(r,t)):n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,t,{opaque:i})})),s&&(this.body=null,hh.destroy(s,t))}};function RTe(e,t,r){if(r===void 0)return new Promise((n,i)=>{RTe.call(this,e,t,(s,a)=>s?i(s):n(a))});try{this.dispatch(e,new pie(e,t,r))}catch(n){if(typeof r!="function")throw n;let i=e?.opaque;queueMicrotask(()=>r(n,{opaque:i}))}}o(RTe,"stream");BTe.exports=RTe});var LTe=H((Vqr,NTe)=>{"use strict";d();var{Readable:FTe,Duplex:P2t,PassThrough:F2t}=require("node:stream"),{InvalidArgumentError:mS,InvalidReturnValueError:N2t,RequestAbortedError:gie}=yo(),Od=Ci(),{AsyncResource:L2t}=require("node:async_hooks"),{addSignal:Q2t,removeSignal:M2t}=dS(),PTe=require("node:assert"),$8=Symbol("resume"),Aie=class extends FTe{static{o(this,"PipelineRequest")}constructor(){super({autoDestroy:!0}),this[$8]=null}_read(){let{[$8]:t}=this;t&&(this[$8]=null,t())}_destroy(t,r){this._read(),r(t)}},yie=class extends FTe{static{o(this,"PipelineResponse")}constructor(t){super({autoDestroy:!0}),this[$8]=t}_read(){this[$8]()}_destroy(t,r){!t&&!this._readableState.endEmitted&&(t=new gie),r(t)}},Cie=class extends L2t{static{o(this,"PipelineHandler")}constructor(t,r){if(!t||typeof t!="object")throw new mS("invalid opts");if(typeof r!="function")throw new mS("invalid handler");let{signal:n,method:i,opaque:s,onInfo:a,responseHeaders:l}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new mS("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new mS("invalid method");if(a&&typeof a!="function")throw new mS("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=s||null,this.responseHeaders=l||null,this.handler=r,this.abort=null,this.context=null,this.onInfo=a||null,this.req=new Aie().on("error",Od.nop),this.ret=new P2t({readableObjectMode:t.objectMode,autoDestroy:!0,read:o(()=>{let{body:c}=this;c?.resume&&c.resume()},"read"),write:o((c,u,f)=>{let{req:m}=this;m.push(c,u)||m._readableState.destroyed?f():m[$8]=f},"write"),destroy:o((c,u)=>{let{body:f,req:m,res:h,ret:p,abort:A}=this;!c&&!p._readableState.endEmitted&&(c=new gie),A&&c&&A(),Od.destroy(f,c),Od.destroy(m,c),Od.destroy(h,c),M2t(this),u(c)},"destroy")}).on("prefinish",()=>{let{req:c}=this;c.push(null)}),this.res=null,Q2t(this,n)}onConnect(t,r){let{ret:n,res:i}=this;if(this.reason){t(this.reason);return}PTe(!i,"pipeline cannot be retried"),PTe(!n.destroyed),this.abort=t,this.context=r}onHeaders(t,r,n){let{opaque:i,handler:s,context:a}=this;if(t<200){if(this.onInfo){let c=this.responseHeaders==="raw"?Od.parseRawHeaders(r):Od.parseHeaders(r);this.onInfo({statusCode:t,headers:c})}return}this.res=new yie(n);let l;try{this.handler=null;let c=this.responseHeaders==="raw"?Od.parseRawHeaders(r):Od.parseHeaders(r);l=this.runInAsyncScope(s,null,{statusCode:t,headers:c,opaque:i,body:this.res,context:a})}catch(c){throw this.res.on("error",Od.nop),c}if(!l||typeof l.on!="function")throw new N2t("expected Readable");l.on("data",c=>{let{ret:u,body:f}=this;!u.push(c)&&f.pause&&f.pause()}).on("error",c=>{let{ret:u}=this;Od.destroy(u,c)}).on("end",()=>{let{ret:c}=this;c.push(null)}).on("close",()=>{let{ret:c}=this;c._readableState.ended||Od.destroy(c,new gie)}),this.body=l}onData(t){let{res:r}=this;return r.push(t)}onComplete(t){let{res:r}=this;r.push(null)}onError(t){let{ret:r}=this;this.handler=null,Od.destroy(r,t)}};function O2t(e,t){try{let r=new Cie(e,t);return this.dispatch({...e,body:r.req},r),r.ret}catch(r){return new F2t().destroy(r)}}o(O2t,"pipeline");NTe.exports=O2t});var WTe=H((Yqr,qTe)=>{"use strict";d();var{InvalidArgumentError:xie,SocketError:U2t}=yo(),{AsyncResource:q2t}=require("node:async_hooks"),QTe=Ci(),{addSignal:W2t,removeSignal:MTe}=dS(),OTe=require("node:assert"),vie=class extends q2t{static{o(this,"UpgradeHandler")}constructor(t,r){if(!t||typeof t!="object")throw new xie("invalid opts");if(typeof r!="function")throw new xie("invalid callback");let{signal:n,opaque:i,responseHeaders:s}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new xie("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=s||null,this.opaque=i||null,this.callback=r,this.abort=null,this.context=null,W2t(this,n)}onConnect(t,r){if(this.reason){t(this.reason);return}OTe(this.callback),this.abort=t,this.context=null}onHeaders(){throw new U2t("bad upgrade",null)}onUpgrade(t,r,n){OTe(t===101);let{callback:i,opaque:s,context:a}=this;MTe(this),this.callback=null;let l=this.responseHeaders==="raw"?QTe.parseRawHeaders(r):QTe.parseHeaders(r);this.runInAsyncScope(i,null,null,{headers:l,socket:n,opaque:s,context:a})}onError(t){let{callback:r,opaque:n}=this;MTe(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,t,{opaque:n})}))}};function UTe(e,t){if(t===void 0)return new Promise((r,n)=>{UTe.call(this,e,(i,s)=>i?n(i):r(s))});try{let r=new vie(e,t);this.dispatch({...e,method:e.method||"GET",upgrade:e.protocol||"Websocket"},r)}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(UTe,"upgrade");qTe.exports=UTe});var $Te=H((Zqr,VTe)=>{"use strict";d();var G2t=require("node:assert"),{AsyncResource:H2t}=require("node:async_hooks"),{InvalidArgumentError:bie,SocketError:j2t}=yo(),GTe=Ci(),{addSignal:V2t,removeSignal:HTe}=dS(),Eie=class extends H2t{static{o(this,"ConnectHandler")}constructor(t,r){if(!t||typeof t!="object")throw new bie("invalid opts");if(typeof r!="function")throw new bie("invalid callback");let{signal:n,opaque:i,responseHeaders:s}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new bie("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=i||null,this.responseHeaders=s||null,this.callback=r,this.abort=null,V2t(this,n)}onConnect(t,r){if(this.reason){t(this.reason);return}G2t(this.callback),this.abort=t,this.context=r}onHeaders(){throw new j2t("bad connect",null)}onUpgrade(t,r,n){let{callback:i,opaque:s,context:a}=this;HTe(this),this.callback=null;let l=r;l!=null&&(l=this.responseHeaders==="raw"?GTe.parseRawHeaders(r):GTe.parseHeaders(r)),this.runInAsyncScope(i,null,null,{statusCode:t,headers:l,socket:n,opaque:s,context:a})}onError(t){let{callback:r,opaque:n}=this;HTe(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,t,{opaque:n})}))}};function jTe(e,t){if(t===void 0)return new Promise((r,n)=>{jTe.call(this,e,(i,s)=>i?n(i):r(s))});try{let r=new Eie(e,t);this.dispatch({...e,method:"CONNECT"},r)}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(jTe,"connect");VTe.exports=jTe});var zTe=H((tWr,z8)=>{"use strict";d();z8.exports.request=TTe();z8.exports.stream=DTe();z8.exports.pipeline=LTe();z8.exports.upgrade=WTe();z8.exports.connect=$Te()});var Tie=H((nWr,YTe)=>{"use strict";d();var{UndiciError:$2t}=yo(),Iie=class e extends $2t{static{o(this,"MockNotMatchedError")}constructor(t){super(t),Error.captureStackTrace(this,e),this.name="MockNotMatchedError",this.message=t||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};YTe.exports={MockNotMatchedError:Iie}});var Y8=H((sWr,KTe)=>{"use strict";d();KTe.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var hS=H((lWr,awe)=>{"use strict";d();var{MockNotMatchedError:vx}=Tie(),{kDispatches:lU,kMockAgent:z2t,kOriginalDispatch:Y2t,kOrigin:K2t,kGetNetConnect:J2t}=Y8(),{buildURL:Z2t}=Ci(),{STATUS_CODES:X2t}=require("node:http"),{types:{isPromise:eyt}}=require("node:util");function gA(e,t){return typeof e=="string"?e===t:e instanceof RegExp?e.test(t):typeof e=="function"?e(t)===!0:!1}o(gA,"matchValue");function ZTe(e){return Object.fromEntries(Object.entries(e).map(([t,r])=>[t.toLocaleLowerCase(),r]))}o(ZTe,"lowerCaseEntries");function XTe(e,t){if(Array.isArray(e)){for(let r=0;r<e.length;r+=2)if(e[r].toLocaleLowerCase()===t.toLocaleLowerCase())return e[r+1];return}else return typeof e.get=="function"?e.get(t):ZTe(e)[t.toLocaleLowerCase()]}o(XTe,"getHeaderByName");function Sie(e){let t=e.slice(),r=[];for(let n=0;n<t.length;n+=2)r.push([t[n],t[n+1]]);return Object.fromEntries(r)}o(Sie,"buildHeadersFromArray");function ewe(e,t){if(typeof e.headers=="function")return Array.isArray(t)&&(t=Sie(t)),e.headers(t?ZTe(t):{});if(typeof e.headers>"u")return!0;if(typeof t!="object"||typeof e.headers!="object")return!1;for(let[r,n]of Object.entries(e.headers)){let i=XTe(t,r);if(!gA(n,i))return!1}return!0}o(ewe,"matchHeaders");function JTe(e){if(typeof e!="string")return e;let t=e.split("?");if(t.length!==2)return e;let r=new URLSearchParams(t.pop());return r.sort(),[...t,r.toString()].join("?")}o(JTe,"safeUrl");function tyt(e,{path:t,method:r,body:n,headers:i}){let s=gA(e.path,t),a=gA(e.method,r),l=typeof e.body<"u"?gA(e.body,n):!0,c=ewe(e,i);return s&&a&&l&&c}o(tyt,"matchKey");function twe(e){return Buffer.isBuffer(e)||e instanceof Uint8Array||e instanceof ArrayBuffer?e:typeof e=="object"?JSON.stringify(e):e.toString()}o(twe,"getResponseData");function rwe(e,t){let r=t.query?Z2t(t.path,t.query):t.path,n=typeof r=="string"?JTe(r):r,i=e.filter(({consumed:s})=>!s).filter(({path:s})=>gA(JTe(s),n));if(i.length===0)throw new vx(`Mock dispatch not matched for path '${n}'`);if(i=i.filter(({method:s})=>gA(s,t.method)),i.length===0)throw new vx(`Mock dispatch not matched for method '${t.method}' on path '${n}'`);if(i=i.filter(({body:s})=>typeof s<"u"?gA(s,t.body):!0),i.length===0)throw new vx(`Mock dispatch not matched for body '${t.body}' on path '${n}'`);if(i=i.filter(s=>ewe(s,t.headers)),i.length===0){let s=typeof t.headers=="object"?JSON.stringify(t.headers):t.headers;throw new vx(`Mock dispatch not matched for headers '${s}' on path '${n}'`)}return i[0]}o(rwe,"getMockDispatch");function ryt(e,t,r){let n={timesInvoked:0,times:1,persist:!1,consumed:!1},i=typeof r=="function"?{callback:r}:{...r},s={...n,...t,pending:!0,data:{error:null,...i}};return e.push(s),s}o(ryt,"addMockDispatch");function wie(e,t){let r=e.findIndex(n=>n.consumed?tyt(n,t):!1);r!==-1&&e.splice(r,1)}o(wie,"deleteMockDispatch");function nwe(e){let{path:t,method:r,body:n,headers:i,query:s}=e;return{path:t,method:r,body:n,headers:i,query:s}}o(nwe,"buildKey");function _ie(e){let t=Object.keys(e),r=[];for(let n=0;n<t.length;++n){let i=t[n],s=e[i],a=Buffer.from(`${i}`);if(Array.isArray(s))for(let l=0;l<s.length;++l)r.push(a,Buffer.from(`${s[l]}`));else r.push(a,Buffer.from(`${s}`))}return r}o(_ie,"generateKeyValues");function iwe(e){return X2t[e]||"unknown"}o(iwe,"getStatusText");async function nyt(e){let t=[];for await(let r of e)t.push(r);return Buffer.concat(t).toString("utf8")}o(nyt,"getResponse");function owe(e,t){let r=nwe(e),n=rwe(this[lU],r);n.timesInvoked++,n.data.callback&&(n.data={...n.data,...n.data.callback(e)});let{data:{statusCode:i,data:s,headers:a,trailers:l,error:c},delay:u,persist:f}=n,{timesInvoked:m,times:h}=n;if(n.consumed=!f&&m>=h,n.pending=m<h,c!==null)return wie(this[lU],r),t.onError(c),!0;typeof u=="number"&&u>0?setTimeout(()=>{p(this[lU])},u):p(this[lU]);function p(x,v=s){let E=Array.isArray(e.headers)?Sie(e.headers):e.headers,b=typeof v=="function"?v({...e,headers:E}):v;if(eyt(b)){b.then(F=>p(x,F));return}let _=twe(b),R=_ie(a),P=_ie(l);t.onConnect?.(F=>t.onError(F),null),t.onHeaders?.(i,R,A,iwe(i)),t.onData?.(Buffer.from(_)),t.onComplete?.(P),wie(x,r)}o(p,"handleReply");function A(){}return o(A,"resume"),!0}o(owe,"mockDispatch");function iyt(){let e=this[z2t],t=this[K2t],r=this[Y2t];return o(function(i,s){if(e.isMockActive)try{owe.call(this,i,s)}catch(a){if(a instanceof vx){let l=e[J2t]();if(l===!1)throw new vx(`${a.message}: subsequent request to origin ${t} was not allowed (net.connect disabled)`);if(swe(l,t))r.call(this,i,s);else throw new vx(`${a.message}: subsequent request to origin ${t} was not allowed (net.connect is not enabled for this origin)`)}else throw a}else r.call(this,i,s)},"dispatch")}o(iyt,"buildMockDispatch");function swe(e,t){let r=new URL(t);return e===!0?!0:!!(Array.isArray(e)&&e.some(n=>gA(n,r.host)))}o(swe,"checkNetConnect");function oyt(e){if(e){let{agent:t,...r}=e;return r}}o(oyt,"buildMockOptions");awe.exports={getResponseData:twe,getMockDispatch:rwe,addMockDispatch:ryt,deleteMockDispatch:wie,buildKey:nwe,generateKeyValues:_ie,matchValue:gA,getResponse:nyt,getStatusText:iwe,mockDispatch:owe,buildMockDispatch:iyt,checkNetConnect:swe,buildMockOptions:oyt,getHeaderByName:XTe,buildHeadersFromArray:Sie}});var Nie=H((fWr,Fie)=>{"use strict";d();var{getResponseData:syt,buildKey:ayt,addMockDispatch:kie}=hS(),{kDispatches:cU,kDispatchKey:uU,kDefaultHeaders:Rie,kDefaultTrailers:Bie,kContentLength:Die,kMockDispatch:fU}=Y8(),{InvalidArgumentError:ig}=yo(),{buildURL:lyt}=Ci(),K8=class{static{o(this,"MockScope")}constructor(t){this[fU]=t}delay(t){if(typeof t!="number"||!Number.isInteger(t)||t<=0)throw new ig("waitInMs must be a valid integer > 0");return this[fU].delay=t,this}persist(){return this[fU].persist=!0,this}times(t){if(typeof t!="number"||!Number.isInteger(t)||t<=0)throw new ig("repeatTimes must be a valid integer > 0");return this[fU].times=t,this}},Pie=class{static{o(this,"MockInterceptor")}constructor(t,r){if(typeof t!="object")throw new ig("opts must be an object");if(typeof t.path>"u")throw new ig("opts.path must be defined");if(typeof t.method>"u"&&(t.method="GET"),typeof t.path=="string")if(t.query)t.path=lyt(t.path,t.query);else{let n=new URL(t.path,"data://");t.path=n.pathname+n.search}typeof t.method=="string"&&(t.method=t.method.toUpperCase()),this[uU]=ayt(t),this[cU]=r,this[Rie]={},this[Bie]={},this[Die]=!1}createMockScopeDispatchData({statusCode:t,data:r,responseOptions:n}){let i=syt(r),s=this[Die]?{"content-length":i.length}:{},a={...this[Rie],...s,...n.headers},l={...this[Bie],...n.trailers};return{statusCode:t,data:r,headers:a,trailers:l}}validateReplyParameters(t){if(typeof t.statusCode>"u")throw new ig("statusCode must be defined");if(typeof t.responseOptions!="object"||t.responseOptions===null)throw new ig("responseOptions must be an object")}reply(t){if(typeof t=="function"){let s=o(l=>{let c=t(l);if(typeof c!="object"||c===null)throw new ig("reply options callback must return an object");let u={data:"",responseOptions:{},...c};return this.validateReplyParameters(u),{...this.createMockScopeDispatchData(u)}},"wrappedDefaultsCallback"),a=kie(this[cU],this[uU],s);return new K8(a)}let r={statusCode:t,data:arguments[1]===void 0?"":arguments[1],responseOptions:arguments[2]===void 0?{}:arguments[2]};this.validateReplyParameters(r);let n=this.createMockScopeDispatchData(r),i=kie(this[cU],this[uU],n);return new K8(i)}replyWithError(t){if(typeof t>"u")throw new ig("error must be defined");let r=kie(this[cU],this[uU],{error:t});return new K8(r)}defaultReplyHeaders(t){if(typeof t>"u")throw new ig("headers must be defined");return this[Rie]=t,this}defaultReplyTrailers(t){if(typeof t>"u")throw new ig("trailers must be defined");return this[Bie]=t,this}replyContentLength(){return this[Die]=!0,this}};Fie.exports.MockInterceptor=Pie;Fie.exports.MockScope=K8});var Mie=H((hWr,hwe)=>{"use strict";d();var{promisify:cyt}=require("node:util"),uyt=rS(),{buildMockDispatch:fyt}=hS(),{kDispatches:lwe,kMockAgent:cwe,kClose:uwe,kOriginalClose:fwe,kOrigin:dwe,kOriginalDispatch:dyt,kConnected:Lie}=Y8(),{MockInterceptor:myt}=Nie(),mwe=Ns(),{InvalidArgumentError:hyt}=yo(),Qie=class extends uyt{static{o(this,"MockClient")}constructor(t,r){if(super(t,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new hyt("Argument opts.agent must implement Agent");this[cwe]=r.agent,this[dwe]=t,this[lwe]=[],this[Lie]=1,this[dyt]=this.dispatch,this[fwe]=this.close.bind(this),this.dispatch=fyt.call(this),this.close=this[uwe]}get[mwe.kConnected](){return this[Lie]}intercept(t){return new myt(t,this[lwe])}async[uwe](){await cyt(this[fwe])(),this[Lie]=0,this[cwe][mwe.kClients].delete(this[dwe])}};hwe.exports=Qie});var qie=H((AWr,vwe)=>{"use strict";d();var{promisify:pyt}=require("node:util"),gyt=q8(),{buildMockDispatch:Ayt}=hS(),{kDispatches:pwe,kMockAgent:gwe,kClose:Awe,kOriginalClose:ywe,kOrigin:Cwe,kOriginalDispatch:yyt,kConnected:Oie}=Y8(),{MockInterceptor:Cyt}=Nie(),xwe=Ns(),{InvalidArgumentError:xyt}=yo(),Uie=class extends gyt{static{o(this,"MockPool")}constructor(t,r){if(super(t,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new xyt("Argument opts.agent must implement Agent");this[gwe]=r.agent,this[Cwe]=t,this[pwe]=[],this[Oie]=1,this[yyt]=this.dispatch,this[ywe]=this.close.bind(this),this.dispatch=Ayt.call(this),this.close=this[Awe]}get[xwe.kConnected](){return this[Oie]}intercept(t){return new Cyt(t,this[pwe])}async[Awe](){await pyt(this[ywe])(),this[Oie]=0,this[gwe][xwe.kClients].delete(this[Cwe])}};vwe.exports=Uie});var Ewe=H((vWr,bwe)=>{"use strict";d();var vyt={pronoun:"it",is:"is",was:"was",this:"this"},byt={pronoun:"they",is:"are",was:"were",this:"these"};bwe.exports=class{static{o(this,"Pluralizer")}constructor(t,r){this.singular=t,this.plural=r}pluralize(t){let r=t===1,n=r?vyt:byt,i=r?this.singular:this.plural;return{...n,count:t,noun:i}}}});var Twe=H((TWr,Iwe)=>{"use strict";d();var{Transform:Eyt}=require("node:stream"),{Console:Iyt}=require("node:console"),Tyt=process.versions.icu?"\u2705":"Y ",wyt=process.versions.icu?"\u274C":"N ";Iwe.exports=class{static{o(this,"PendingInterceptorsFormatter")}constructor({disableColors:t}={}){this.transform=new Eyt({transform(r,n,i){i(null,r)}}),this.logger=new Iyt({stdout:this.transform,inspectOptions:{colors:!t&&!process.env.CI}})}format(t){let r=t.map(({method:n,path:i,data:{statusCode:s},persist:a,times:l,timesInvoked:c,origin:u})=>({Method:n,Origin:u,Path:i,"Status code":s,Persistent:a?Tyt:wyt,Invocations:c,Remaining:a?1/0:l-c}));return this.logger.table(r),this.transform.read().toString()}}});var kwe=H((SWr,Swe)=>{"use strict";d();var{kClients:bx}=Ns(),_yt=W8(),{kAgent:Wie,kMockAgentSet:dU,kMockAgentGet:wwe,kDispatches:Gie,kIsMockActive:mU,kNetConnect:Ex,kGetNetConnect:Syt,kOptions:hU,kFactory:pU}=Y8(),kyt=Mie(),Ryt=qie(),{matchValue:Byt,buildMockOptions:Dyt}=hS(),{InvalidArgumentError:_we,UndiciError:Pyt}=yo(),Fyt=F_(),Nyt=Ewe(),Lyt=Twe(),Hie=class extends Fyt{static{o(this,"MockAgent")}constructor(t){if(super(t),this[Ex]=!0,this[mU]=!0,t?.agent&&typeof t.agent.dispatch!="function")throw new _we("Argument opts.agent must implement Agent");let r=t?.agent?t.agent:new _yt(t);this[Wie]=r,this[bx]=r[bx],this[hU]=Dyt(t)}get(t){let r=this[wwe](t);return r||(r=this[pU](t),this[dU](t,r)),r}dispatch(t,r){return this.get(t.origin),this[Wie].dispatch(t,r)}async close(){await this[Wie].close(),this[bx].clear()}deactivate(){this[mU]=!1}activate(){this[mU]=!0}enableNetConnect(t){if(typeof t=="string"||typeof t=="function"||t instanceof RegExp)Array.isArray(this[Ex])?this[Ex].push(t):this[Ex]=[t];else if(typeof t>"u")this[Ex]=!0;else throw new _we("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[Ex]=!1}get isMockActive(){return this[mU]}[dU](t,r){this[bx].set(t,r)}[pU](t){let r=Object.assign({agent:this},this[hU]);return this[hU]&&this[hU].connections===1?new kyt(t,r):new Ryt(t,r)}[wwe](t){let r=this[bx].get(t);if(r)return r;if(typeof t!="string"){let n=this[pU]("http://localhost:9999");return this[dU](t,n),n}for(let[n,i]of Array.from(this[bx]))if(i&&typeof n!="string"&&Byt(n,t)){let s=this[pU](t);return this[dU](t,s),s[Gie]=i[Gie],s}}[Syt](){return this[Ex]}pendingInterceptors(){let t=this[bx];return Array.from(t.entries()).flatMap(([r,n])=>n[Gie].map(i=>({...i,origin:r}))).filter(({pending:r})=>r)}assertNoPendingInterceptors({pendingInterceptorsFormatter:t=new Lyt}={}){let r=this.pendingInterceptors();if(r.length===0)return;let n=new Nyt("interceptor","interceptors").pluralize(r.length);throw new Pyt(`
${n.count} ${n.noun} ${n.is} pending:

${t.format(r)}
`.trim())}};Swe.exports=Hie});var gU=H((BWr,Pwe)=>{"use strict";d();var Rwe=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:Qyt}=yo(),Myt=W8();Dwe()===void 0&&Bwe(new Myt);function Bwe(e){if(!e||typeof e.dispatch!="function")throw new Qyt("Argument agent must implement Agent");Object.defineProperty(globalThis,Rwe,{value:e,writable:!0,enumerable:!1,configurable:!1})}o(Bwe,"setGlobalDispatcher");function Dwe(){return globalThis[Rwe]}o(Dwe,"getGlobalDispatcher");Pwe.exports={setGlobalDispatcher:Bwe,getGlobalDispatcher:Dwe}});var AU=H((NWr,Fwe)=>{"use strict";d();Fwe.exports=class{static{o(this,"DecoratorHandler")}#e;constructor(t){if(typeof t!="object"||t===null)throw new TypeError("handler must be an object");this.#e=t}onConnect(...t){return this.#e.onConnect?.(...t)}onError(...t){return this.#e.onError?.(...t)}onUpgrade(...t){return this.#e.onUpgrade?.(...t)}onResponseStarted(...t){return this.#e.onResponseStarted?.(...t)}onHeaders(...t){return this.#e.onHeaders?.(...t)}onData(...t){return this.#e.onData?.(...t)}onComplete(...t){return this.#e.onComplete?.(...t)}onBodySent(...t){return this.#e.onBodySent?.(...t)}}});var Lwe=H((MWr,Nwe)=>{"use strict";d();var Oyt=YO();Nwe.exports=e=>{let t=e?.maxRedirections;return r=>o(function(i,s){let{maxRedirections:a=t,...l}=i;if(!a)return r(i,s);let c=new Oyt(r,a,i,s);return r(l,c)},"redirectInterceptor")}});var Mwe=H((qWr,Qwe)=>{"use strict";d();var Uyt=sU();Qwe.exports=e=>t=>o(function(n,i){return t(n,new Uyt({...n,retryOptions:{...e,...n.retryOptions}},{handler:i,dispatch:t}))},"retryInterceptor")});var Uwe=H((HWr,Owe)=>{"use strict";d();var qyt=Ci(),{InvalidArgumentError:Wyt,RequestAbortedError:Gyt}=yo(),Hyt=AU(),jie=class extends Hyt{static{o(this,"DumpHandler")}#e=1024*1024;#t=null;#i=!1;#n=!1;#r=0;#o=null;#s=null;constructor({maxSize:t},r){if(super(r),t!=null&&(!Number.isFinite(t)||t<1))throw new Wyt("maxSize must be a number greater than 0");this.#e=t??this.#e,this.#s=r}onConnect(t){this.#t=t,this.#s.onConnect(this.#a.bind(this))}#a(t){this.#n=!0,this.#o=t}onHeaders(t,r,n,i){let a=qyt.parseHeaders(r)["content-length"];if(a!=null&&a>this.#e)throw new Gyt(`Response size (${a}) larger than maxSize (${this.#e})`);return this.#n?!0:this.#s.onHeaders(t,r,n,i)}onError(t){this.#i||(t=this.#o??t,this.#s.onError(t))}onData(t){return this.#r=this.#r+t.length,this.#r>=this.#e&&(this.#i=!0,this.#n?this.#s.onError(this.#o):this.#s.onComplete([])),!0}onComplete(t){if(!this.#i){if(this.#n){this.#s.onError(this.reason);return}this.#s.onComplete(t)}}};function jyt({maxSize:e}={maxSize:1024*1024}){return t=>o(function(n,i){let{dumpMaxSize:s=e}=n,a=new jie({maxSize:s},i);return t(n,a)},"Intercept")}o(jyt,"createDumpInterceptor");Owe.exports=jyt});var Gwe=H(($Wr,Wwe)=>{"use strict";d();var{isIP:Vyt}=require("node:net"),{lookup:$yt}=require("node:dns"),zyt=AU(),{InvalidArgumentError:J8,InformationalError:Yyt}=yo(),qwe=Math.pow(2,31)-1,Vie=class{static{o(this,"DNSInstance")}#e=0;#t=0;#i=new Map;dualStack=!0;affinity=null;lookup=null;pick=null;constructor(t){this.#e=t.maxTTL,this.#t=t.maxItems,this.dualStack=t.dualStack,this.affinity=t.affinity,this.lookup=t.lookup??this.#n,this.pick=t.pick??this.#r}get full(){return this.#i.size===this.#t}runLookup(t,r,n){let i=this.#i.get(t.hostname);if(i==null&&this.full){n(null,t.origin);return}let s={affinity:this.affinity,dualStack:this.dualStack,lookup:this.lookup,pick:this.pick,...r.dns,maxTTL:this.#e,maxItems:this.#t};if(i==null)this.lookup(t,s,(a,l)=>{if(a||l==null||l.length===0){n(a??new Yyt("No DNS entries found"));return}this.setRecords(t,l);let c=this.#i.get(t.hostname),u=this.pick(t,c,s.affinity),f;typeof u.port=="number"?f=`:${u.port}`:t.port!==""?f=`:${t.port}`:f="",n(null,`${t.protocol}//${u.family===6?`[${u.address}]`:u.address}${f}`)});else{let a=this.pick(t,i,s.affinity);if(a==null){this.#i.delete(t.hostname),this.runLookup(t,r,n);return}let l;typeof a.port=="number"?l=`:${a.port}`:t.port!==""?l=`:${t.port}`:l="",n(null,`${t.protocol}//${a.family===6?`[${a.address}]`:a.address}${l}`)}}#n(t,r,n){$yt(t.hostname,{all:!0,family:this.dualStack===!1?this.affinity:0,order:"ipv4first"},(i,s)=>{if(i)return n(i);let a=new Map;for(let l of s)a.set(`${l.address}:${l.family}`,l);n(null,a.values())})}#r(t,r,n){let i=null,{records:s,offset:a}=r,l;if(this.dualStack?(n==null&&(a==null||a===qwe?(r.offset=0,n=4):(r.offset++,n=(r.offset&1)===1?6:4)),s[n]!=null&&s[n].ips.length>0?l=s[n]:l=s[n===4?6:4]):l=s[n],l==null||l.ips.length===0)return i;l.offset==null||l.offset===qwe?l.offset=0:l.offset++;let c=l.offset%l.ips.length;return i=l.ips[c]??null,i==null?i:Date.now()-i.timestamp>i.ttl?(l.ips.splice(c,1),this.pick(t,r,n)):i}setRecords(t,r){let n=Date.now(),i={records:{4:null,6:null}};for(let s of r){s.timestamp=n,typeof s.ttl=="number"?s.ttl=Math.min(s.ttl,this.#e):s.ttl=this.#e;let a=i.records[s.family]??{ips:[]};a.ips.push(s),i.records[s.family]=a}this.#i.set(t.hostname,i)}getHandler(t,r){return new $ie(this,t,r)}},$ie=class extends zyt{static{o(this,"DNSDispatchHandler")}#e=null;#t=null;#i=null;#n=null;#r=null;constructor(t,{origin:r,handler:n,dispatch:i},s){super(n),this.#r=r,this.#n=n,this.#t={...s},this.#e=t,this.#i=i}onError(t){switch(t.code){case"ETIMEDOUT":case"ECONNREFUSED":{if(this.#e.dualStack){this.#e.runLookup(this.#r,this.#t,(r,n)=>{if(r)return this.#n.onError(r);let i={...this.#t,origin:n};this.#i(i,this)});return}this.#n.onError(t);return}case"ENOTFOUND":this.#e.deleteRecord(this.#r);default:this.#n.onError(t);break}}};Wwe.exports=e=>{if(e?.maxTTL!=null&&(typeof e?.maxTTL!="number"||e?.maxTTL<0))throw new J8("Invalid maxTTL. Must be a positive number");if(e?.maxItems!=null&&(typeof e?.maxItems!="number"||e?.maxItems<1))throw new J8("Invalid maxItems. Must be a positive number and greater than zero");if(e?.affinity!=null&&e?.affinity!==4&&e?.affinity!==6)throw new J8("Invalid affinity. Must be either 4 or 6");if(e?.dualStack!=null&&typeof e?.dualStack!="boolean")throw new J8("Invalid dualStack. Must be a boolean");if(e?.lookup!=null&&typeof e?.lookup!="function")throw new J8("Invalid lookup. Must be a function");if(e?.pick!=null&&typeof e?.pick!="function")throw new J8("Invalid pick. Must be a function");let t=e?.dualStack??!0,r;t?r=e?.affinity??null:r=e?.affinity??4;let n={maxTTL:e?.maxTTL??1e4,lookup:e?.lookup??null,pick:e?.pick??null,dualStack:t,affinity:r,maxItems:e?.maxItems??1/0},i=new Vie(n);return s=>o(function(l,c){let u=l.origin.constructor===URL?l.origin:new URL(l.origin);return Vyt(u.hostname)!==0?s(l,c):(i.runLookup(u,l,(f,m)=>{if(f)return c.onError(f);let h=null;h={...l,servername:u.hostname,origin:m,headers:{host:u.hostname,...l.headers}},s(h,i.getHandler({origin:u,dispatch:s,handler:c},l))}),!0)},"dnsInterceptor")}});var Ix=H((KWr,Kwe)=>{"use strict";d();var{kConstruct:Kyt}=Ns(),{kEnumerableProperty:Z8}=Ci(),{iteratorMixin:Jyt,isValidHeaderName:pS,isValidHeaderValue:jwe}=mf(),{webidl:Ji}=ic(),zie=require("node:assert"),yU=require("node:util"),$a=Symbol("headers map"),gf=Symbol("headers map sorted");function Hwe(e){return e===10||e===13||e===9||e===32}o(Hwe,"isHTTPWhiteSpaceCharCode");function Vwe(e){let t=0,r=e.length;for(;r>t&&Hwe(e.charCodeAt(r-1));)--r;for(;r>t&&Hwe(e.charCodeAt(t));)++t;return t===0&&r===e.length?e:e.substring(t,r)}o(Vwe,"headerValueNormalize");function $we(e,t){if(Array.isArray(t))for(let r=0;r<t.length;++r){let n=t[r];if(n.length!==2)throw Ji.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${n.length}.`});Yie(e,n[0],n[1])}else if(typeof t=="object"&&t!==null){let r=Object.keys(t);for(let n=0;n<r.length;++n)Yie(e,r[n],t[r[n]])}else throw Ji.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}o($we,"fill");function Yie(e,t,r){if(r=Vwe(r),pS(t)){if(!jwe(r))throw Ji.errors.invalidArgument({prefix:"Headers.append",value:r,type:"header value"})}else throw Ji.errors.invalidArgument({prefix:"Headers.append",value:t,type:"header name"});if(Ywe(e)==="immutable")throw new TypeError("immutable");return Kie(e).append(t,r,!1)}o(Yie,"appendHeader");function zwe(e,t){return e[0]<t[0]?-1:1}o(zwe,"compareHeaderName");var CU=class e{static{o(this,"HeadersList")}cookies=null;constructor(t){t instanceof e?(this[$a]=new Map(t[$a]),this[gf]=t[gf],this.cookies=t.cookies===null?null:[...t.cookies]):(this[$a]=new Map(t),this[gf]=null)}contains(t,r){return this[$a].has(r?t:t.toLowerCase())}clear(){this[$a].clear(),this[gf]=null,this.cookies=null}append(t,r,n){this[gf]=null;let i=n?t:t.toLowerCase(),s=this[$a].get(i);if(s){let a=i==="cookie"?"; ":", ";this[$a].set(i,{name:s.name,value:`${s.value}${a}${r}`})}else this[$a].set(i,{name:t,value:r});i==="set-cookie"&&(this.cookies??=[]).push(r)}set(t,r,n){this[gf]=null;let i=n?t:t.toLowerCase();i==="set-cookie"&&(this.cookies=[r]),this[$a].set(i,{name:t,value:r})}delete(t,r){this[gf]=null,r||(t=t.toLowerCase()),t==="set-cookie"&&(this.cookies=null),this[$a].delete(t)}get(t,r){return this[$a].get(r?t:t.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:t,1:{value:r}}of this[$a])yield[t,r]}get entries(){let t={};if(this[$a].size!==0)for(let{name:r,value:n}of this[$a].values())t[r]=n;return t}rawValues(){return this[$a].values()}get entriesList(){let t=[];if(this[$a].size!==0)for(let{0:r,1:{name:n,value:i}}of this[$a])if(r==="set-cookie")for(let s of this.cookies)t.push([n,s]);else t.push([n,i]);return t}toSortedArray(){let t=this[$a].size,r=new Array(t);if(t<=32){if(t===0)return r;let n=this[$a][Symbol.iterator](),i=n.next().value;r[0]=[i[0],i[1].value],zie(i[1].value!==null);for(let s=1,a=0,l=0,c=0,u=0,f,m;s<t;++s){for(m=n.next().value,f=r[s]=[m[0],m[1].value],zie(f[1]!==null),c=0,l=s;c<l;)u=c+(l-c>>1),r[u][0]<=f[0]?c=u+1:l=u;if(s!==u){for(a=s;a>c;)r[a]=r[--a];r[c]=f}}if(!n.next().done)throw new TypeError("Unreachable");return r}else{let n=0;for(let{0:i,1:{value:s}}of this[$a])r[n++]=[i,s],zie(s!==null);return r.sort(zwe)}}},ph=class e{static{o(this,"Headers")}#e;#t;constructor(t=void 0){Ji.util.markAsUncloneable(this),t!==Kyt&&(this.#t=new CU,this.#e="none",t!==void 0&&(t=Ji.converters.HeadersInit(t,"Headers contructor","init"),$we(this,t)))}append(t,r){Ji.brandCheck(this,e),Ji.argumentLengthCheck(arguments,2,"Headers.append");let n="Headers.append";return t=Ji.converters.ByteString(t,n,"name"),r=Ji.converters.ByteString(r,n,"value"),Yie(this,t,r)}delete(t){if(Ji.brandCheck(this,e),Ji.argumentLengthCheck(arguments,1,"Headers.delete"),t=Ji.converters.ByteString(t,"Headers.delete","name"),!pS(t))throw Ji.errors.invalidArgument({prefix:"Headers.delete",value:t,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.contains(t,!1)&&this.#t.delete(t,!1)}get(t){Ji.brandCheck(this,e),Ji.argumentLengthCheck(arguments,1,"Headers.get");let r="Headers.get";if(t=Ji.converters.ByteString(t,r,"name"),!pS(t))throw Ji.errors.invalidArgument({prefix:r,value:t,type:"header name"});return this.#t.get(t,!1)}has(t){Ji.brandCheck(this,e),Ji.argumentLengthCheck(arguments,1,"Headers.has");let r="Headers.has";if(t=Ji.converters.ByteString(t,r,"name"),!pS(t))throw Ji.errors.invalidArgument({prefix:r,value:t,type:"header name"});return this.#t.contains(t,!1)}set(t,r){Ji.brandCheck(this,e),Ji.argumentLengthCheck(arguments,2,"Headers.set");let n="Headers.set";if(t=Ji.converters.ByteString(t,n,"name"),r=Ji.converters.ByteString(r,n,"value"),r=Vwe(r),pS(t)){if(!jwe(r))throw Ji.errors.invalidArgument({prefix:n,value:r,type:"header value"})}else throw Ji.errors.invalidArgument({prefix:n,value:t,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.set(t,r,!1)}getSetCookie(){Ji.brandCheck(this,e);let t=this.#t.cookies;return t?[...t]:[]}get[gf](){if(this.#t[gf])return this.#t[gf];let t=[],r=this.#t.toSortedArray(),n=this.#t.cookies;if(n===null||n.length===1)return this.#t[gf]=r;for(let i=0;i<r.length;++i){let{0:s,1:a}=r[i];if(s==="set-cookie")for(let l=0;l<n.length;++l)t.push([s,n[l]]);else t.push([s,a])}return this.#t[gf]=t}[yU.inspect.custom](t,r){return r.depth??=t,`Headers ${yU.formatWithOptions(r,this.#t.entries)}`}static getHeadersGuard(t){return t.#e}static setHeadersGuard(t,r){t.#e=r}static getHeadersList(t){return t.#t}static setHeadersList(t,r){t.#t=r}},{getHeadersGuard:Ywe,setHeadersGuard:Zyt,getHeadersList:Kie,setHeadersList:Xyt}=ph;Reflect.deleteProperty(ph,"getHeadersGuard");Reflect.deleteProperty(ph,"setHeadersGuard");Reflect.deleteProperty(ph,"getHeadersList");Reflect.deleteProperty(ph,"setHeadersList");Jyt("Headers",ph,gf,0,1);Object.defineProperties(ph.prototype,{append:Z8,delete:Z8,get:Z8,has:Z8,set:Z8,getSetCookie:Z8,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[yU.inspect.custom]:{enumerable:!1}});Ji.converters.HeadersInit=function(e,t,r){if(Ji.util.Type(e)==="Object"){let n=Reflect.get(e,Symbol.iterator);if(!yU.types.isProxy(e)&&n===ph.prototype.entries)try{return Kie(e).entriesList}catch{}return typeof n=="function"?Ji.converters["sequence<sequence<ByteString>>"](e,t,r,n.bind(e)):Ji.converters["record<ByteString, ByteString>"](e,t,r)}throw Ji.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};Kwe.exports={fill:$we,compareHeaderName:zwe,Headers:ph,HeadersList:CU,getHeadersGuard:Ywe,setHeadersGuard:Zyt,setHeadersList:Xyt,getHeadersList:Kie}});var AS=H((XWr,s_e)=>{"use strict";d();var{Headers:r_e,HeadersList:Jwe,fill:e5t,getHeadersGuard:t5t,setHeadersGuard:n_e,setHeadersList:i_e}=Ix(),{extractBody:Zwe,cloneBody:r5t,mixinBody:n5t,hasFinalizationRegistry:i5t,streamRegistry:o5t,bodyUnusable:s5t}=F8(),Jie=Ci(),Xwe=require("node:util"),{kEnumerableProperty:Af}=Jie,{isValidReasonPhrase:a5t,isCancelled:l5t,isAborted:c5t,isBlobLike:u5t,serializeJavascriptValueToJSONString:f5t,isErrorLike:d5t,isomorphicEncode:m5t,environmentSettingsObject:h5t}=mf(),{redirectStatusSet:p5t,nullBodyStatus:g5t}=Q_(),{kState:sa,kHeaders:AA}=k5(),{webidl:ni}=ic(),{FormData:A5t}=G_(),{URLSerializer:e_e}=au(),{kConstruct:vU}=Ns(),Zie=require("node:assert"),{types:y5t}=require("node:util"),C5t=new TextEncoder("utf-8"),Tx=class e{static{o(this,"Response")}static error(){return gS(bU(),"immutable")}static json(t,r={}){ni.argumentLengthCheck(arguments,1,"Response.json"),r!==null&&(r=ni.converters.ResponseInit(r));let n=C5t.encode(f5t(t)),i=Zwe(n),s=gS(X8({}),"response");return t_e(s,r,{body:i[0],type:"application/json"}),s}static redirect(t,r=302){ni.argumentLengthCheck(arguments,1,"Response.redirect"),t=ni.converters.USVString(t),r=ni.converters["unsigned short"](r);let n;try{n=new URL(t,h5t.settingsObject.baseUrl)}catch(a){throw new TypeError(`Failed to parse URL from ${t}`,{cause:a})}if(!p5t.has(r))throw new RangeError(`Invalid status code ${r}`);let i=gS(X8({}),"immutable");i[sa].status=r;let s=m5t(e_e(n));return i[sa].headersList.append("location",s,!0),i}constructor(t=null,r={}){if(ni.util.markAsUncloneable(this),t===vU)return;t!==null&&(t=ni.converters.BodyInit(t)),r=ni.converters.ResponseInit(r),this[sa]=X8({}),this[AA]=new r_e(vU),n_e(this[AA],"response"),i_e(this[AA],this[sa].headersList);let n=null;if(t!=null){let[i,s]=Zwe(t);n={body:i,type:s}}t_e(this,r,n)}get type(){return ni.brandCheck(this,e),this[sa].type}get url(){ni.brandCheck(this,e);let t=this[sa].urlList,r=t[t.length-1]??null;return r===null?"":e_e(r,!0)}get redirected(){return ni.brandCheck(this,e),this[sa].urlList.length>1}get status(){return ni.brandCheck(this,e),this[sa].status}get ok(){return ni.brandCheck(this,e),this[sa].status>=200&&this[sa].status<=299}get statusText(){return ni.brandCheck(this,e),this[sa].statusText}get headers(){return ni.brandCheck(this,e),this[AA]}get body(){return ni.brandCheck(this,e),this[sa].body?this[sa].body.stream:null}get bodyUsed(){return ni.brandCheck(this,e),!!this[sa].body&&Jie.isDisturbed(this[sa].body.stream)}clone(){if(ni.brandCheck(this,e),s5t(this))throw ni.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let t=Xie(this[sa]);return gS(t,t5t(this[AA]))}[Xwe.inspect.custom](t,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${Xwe.formatWithOptions(r,n)}`}};n5t(Tx);Object.defineProperties(Tx.prototype,{type:Af,url:Af,status:Af,ok:Af,redirected:Af,statusText:Af,headers:Af,clone:Af,body:Af,bodyUsed:Af,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(Tx,{json:Af,redirect:Af,error:Af});function Xie(e){if(e.internalResponse)return o_e(Xie(e.internalResponse),e.type);let t=X8({...e,body:null});return e.body!=null&&(t.body=r5t(t,e.body)),t}o(Xie,"cloneResponse");function X8(e){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...e,headersList:e?.headersList?new Jwe(e?.headersList):new Jwe,urlList:e?.urlList?[...e.urlList]:[]}}o(X8,"makeResponse");function bU(e){let t=d5t(e);return X8({type:"error",status:0,error:t?e:new Error(e&&String(e)),aborted:e&&e.name==="AbortError"})}o(bU,"makeNetworkError");function x5t(e){return e.type==="error"&&e.status===0}o(x5t,"isNetworkError");function xU(e,t){return t={internalResponse:e,...t},new Proxy(e,{get(r,n){return n in t?t[n]:r[n]},set(r,n,i){return Zie(!(n in t)),r[n]=i,!0}})}o(xU,"makeFilteredResponse");function o_e(e,t){if(t==="basic")return xU(e,{type:"basic",headersList:e.headersList});if(t==="cors")return xU(e,{type:"cors",headersList:e.headersList});if(t==="opaque")return xU(e,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(t==="opaqueredirect")return xU(e,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});Zie(!1)}o(o_e,"filterResponse");function v5t(e,t=null){return Zie(l5t(e)),c5t(e)?bU(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:t})):bU(Object.assign(new DOMException("Request was cancelled."),{cause:t}))}o(v5t,"makeAppropriateNetworkError");function t_e(e,t,r){if(t.status!==null&&(t.status<200||t.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in t&&t.statusText!=null&&!a5t(String(t.statusText)))throw new TypeError("Invalid statusText");if("status"in t&&t.status!=null&&(e[sa].status=t.status),"statusText"in t&&t.statusText!=null&&(e[sa].statusText=t.statusText),"headers"in t&&t.headers!=null&&e5t(e[AA],t.headers),r){if(g5t.includes(e.status))throw ni.errors.exception({header:"Response constructor",message:`Invalid response status code ${e.status}`});e[sa].body=r.body,r.type!=null&&!e[sa].headersList.contains("content-type",!0)&&e[sa].headersList.append("content-type",r.type,!0)}}o(t_e,"initializeResponse");function gS(e,t){let r=new Tx(vU);return r[sa]=e,r[AA]=new r_e(vU),i_e(r[AA],e.headersList),n_e(r[AA],t),i5t&&e.body?.stream&&o5t.register(r,new WeakRef(e.body.stream)),r}o(gS,"fromInnerResponse");ni.converters.ReadableStream=ni.interfaceConverter(ReadableStream);ni.converters.FormData=ni.interfaceConverter(A5t);ni.converters.URLSearchParams=ni.interfaceConverter(URLSearchParams);ni.converters.XMLHttpRequestBodyInit=function(e,t,r){return typeof e=="string"?ni.converters.USVString(e,t,r):u5t(e)?ni.converters.Blob(e,t,r,{strict:!1}):ArrayBuffer.isView(e)||y5t.isArrayBuffer(e)?ni.converters.BufferSource(e,t,r):Jie.isFormDataLike(e)?ni.converters.FormData(e,t,r,{strict:!1}):e instanceof URLSearchParams?ni.converters.URLSearchParams(e,t,r):ni.converters.DOMString(e,t,r)};ni.converters.BodyInit=function(e,t,r){return e instanceof ReadableStream?ni.converters.ReadableStream(e,t,r):e?.[Symbol.asyncIterator]?e:ni.converters.XMLHttpRequestBodyInit(e,t,r)};ni.converters.ResponseInit=ni.dictionaryConverter([{key:"status",converter:ni.converters["unsigned short"],defaultValue:o(()=>200,"defaultValue")},{key:"statusText",converter:ni.converters.ByteString,defaultValue:o(()=>"","defaultValue")},{key:"headers",converter:ni.converters.HeadersInit}]);s_e.exports={isNetworkError:x5t,makeNetworkError:bU,makeResponse:X8,makeAppropriateNetworkError:v5t,filterResponse:o_e,Response:Tx,cloneResponse:Xie,fromInnerResponse:gS}});var u_e=H((rGr,c_e)=>{"use strict";d();var{kConnected:a_e,kSize:l_e}=Ns(),eoe=class{static{o(this,"CompatWeakRef")}constructor(t){this.value=t}deref(){return this.value[a_e]===0&&this.value[l_e]===0?void 0:this.value}},toe=class{static{o(this,"CompatFinalizer")}constructor(t){this.finalizer=t}register(t,r){t.on&&t.on("disconnect",()=>{t[a_e]===0&&t[l_e]===0&&this.finalizer(r)})}unregister(t){}};c_e.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:eoe,FinalizationRegistry:toe}):{WeakRef,FinalizationRegistry}}});var e6=H((oGr,T_e)=>{"use strict";d();var{extractBody:b5t,mixinBody:E5t,cloneBody:I5t,bodyUnusable:f_e}=F8(),{Headers:x_e,fill:T5t,HeadersList:wU,setHeadersGuard:noe,getHeadersGuard:w5t,setHeadersList:v_e,getHeadersList:d_e}=Ix(),{FinalizationRegistry:_5t}=u_e()(),IU=Ci(),m_e=require("node:util"),{isValidHTTPToken:S5t,sameOrigin:h_e,environmentSettingsObject:EU}=mf(),{forbiddenMethodsSet:k5t,corsSafeListedMethodsSet:R5t,referrerPolicy:B5t,requestRedirect:D5t,requestMode:P5t,requestCredentials:F5t,requestCache:N5t,requestDuplex:L5t}=Q_(),{kEnumerableProperty:za,normalizedMethodRecordsBase:Q5t,normalizedMethodRecords:M5t}=IU,{kHeaders:yf,kSignal:TU,kState:ys,kDispatcher:roe}=k5(),{webidl:yn}=ic(),{URLSerializer:O5t}=au(),{kConstruct:_U}=Ns(),U5t=require("node:assert"),{getMaxListeners:p_e,setMaxListeners:g_e,getEventListeners:q5t,defaultMaxListeners:A_e}=require("node:events"),W5t=Symbol("abortController"),b_e=new _5t(({signal:e,abort:t})=>{e.removeEventListener("abort",t)}),SU=new WeakMap;function y_e(e){return t;function t(){let r=e.deref();if(r!==void 0){b_e.unregister(t),this.removeEventListener("abort",t),r.abort(this.reason);let n=SU.get(r.signal);if(n!==void 0){if(n.size!==0){for(let i of n){let s=i.deref();s!==void 0&&s.abort(this.reason)}n.clear()}SU.delete(r.signal)}}}}o(y_e,"buildAbort");var C_e=!1,U5=class e{static{o(this,"Request")}constructor(t,r={}){if(yn.util.markAsUncloneable(this),t===_U)return;let n="Request constructor";yn.argumentLengthCheck(arguments,1,n),t=yn.converters.RequestInfo(t,n,"input"),r=yn.converters.RequestInit(r,n,"init");let i=null,s=null,a=EU.settingsObject.baseUrl,l=null;if(typeof t=="string"){this[roe]=r.dispatcher;let E;try{E=new URL(t,a)}catch(b){throw new TypeError("Failed to parse URL from "+t,{cause:b})}if(E.username||E.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+t);i=kU({urlList:[E]}),s="cors"}else this[roe]=r.dispatcher||t[roe],U5t(t instanceof e),i=t[ys],l=t[TU];let c=EU.settingsObject.origin,u="client";if(i.window?.constructor?.name==="EnvironmentSettingsObject"&&h_e(i.window,c)&&(u=i.window),r.window!=null)throw new TypeError(`'window' option '${u}' must be null`);"window"in r&&(u="no-window"),i=kU({method:i.method,headersList:i.headersList,unsafeRequest:i.unsafeRequest,client:EU.settingsObject,window:u,priority:i.priority,origin:i.origin,referrer:i.referrer,referrerPolicy:i.referrerPolicy,mode:i.mode,credentials:i.credentials,cache:i.cache,redirect:i.redirect,integrity:i.integrity,keepalive:i.keepalive,reloadNavigation:i.reloadNavigation,historyNavigation:i.historyNavigation,urlList:[...i.urlList]});let f=Object.keys(r).length!==0;if(f&&(i.mode==="navigate"&&(i.mode="same-origin"),i.reloadNavigation=!1,i.historyNavigation=!1,i.origin="client",i.referrer="client",i.referrerPolicy="",i.url=i.urlList[i.urlList.length-1],i.urlList=[i.url]),r.referrer!==void 0){let E=r.referrer;if(E==="")i.referrer="no-referrer";else{let b;try{b=new URL(E,a)}catch(_){throw new TypeError(`Referrer "${E}" is not a valid URL.`,{cause:_})}b.protocol==="about:"&&b.hostname==="client"||c&&!h_e(b,EU.settingsObject.baseUrl)?i.referrer="client":i.referrer=b}}r.referrerPolicy!==void 0&&(i.referrerPolicy=r.referrerPolicy);let m;if(r.mode!==void 0?m=r.mode:m=s,m==="navigate")throw yn.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(m!=null&&(i.mode=m),r.credentials!==void 0&&(i.credentials=r.credentials),r.cache!==void 0&&(i.cache=r.cache),i.cache==="only-if-cached"&&i.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(r.redirect!==void 0&&(i.redirect=r.redirect),r.integrity!=null&&(i.integrity=String(r.integrity)),r.keepalive!==void 0&&(i.keepalive=!!r.keepalive),r.method!==void 0){let E=r.method,b=M5t[E];if(b!==void 0)i.method=b;else{if(!S5t(E))throw new TypeError(`'${E}' is not a valid HTTP method.`);let _=E.toUpperCase();if(k5t.has(_))throw new TypeError(`'${E}' HTTP method is unsupported.`);E=Q5t[_]??E,i.method=E}!C_e&&i.method==="patch"&&(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),C_e=!0)}r.signal!==void 0&&(l=r.signal),this[ys]=i;let h=new AbortController;if(this[TU]=h.signal,l!=null){if(!l||typeof l.aborted!="boolean"||typeof l.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(l.aborted)h.abort(l.reason);else{this[W5t]=h;let E=new WeakRef(h),b=y_e(E);try{(typeof p_e=="function"&&p_e(l)===A_e||q5t(l,"abort").length>=A_e)&&g_e(1500,l)}catch{}IU.addAbortListener(l,b),b_e.register(h,{signal:l,abort:b},b)}}if(this[yf]=new x_e(_U),v_e(this[yf],i.headersList),noe(this[yf],"request"),m==="no-cors"){if(!R5t.has(i.method))throw new TypeError(`'${i.method} is unsupported in no-cors mode.`);noe(this[yf],"request-no-cors")}if(f){let E=d_e(this[yf]),b=r.headers!==void 0?r.headers:new wU(E);if(E.clear(),b instanceof wU){for(let{name:_,value:R}of b.rawValues())E.append(_,R,!1);E.cookies=b.cookies}else T5t(this[yf],b)}let p=t instanceof e?t[ys].body:null;if((r.body!=null||p!=null)&&(i.method==="GET"||i.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let A=null;if(r.body!=null){let[E,b]=b5t(r.body,i.keepalive);A=E,b&&!d_e(this[yf]).contains("content-type",!0)&&this[yf].append("content-type",b)}let x=A??p;if(x!=null&&x.source==null){if(A!=null&&r.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(i.mode!=="same-origin"&&i.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');i.useCORSPreflightFlag=!0}let v=x;if(A==null&&p!=null){if(f_e(t))throw new TypeError("Cannot construct a Request with a Request object that has already been used.");let E=new TransformStream;p.stream.pipeThrough(E),v={source:p.source,length:p.length,stream:E.readable}}this[ys].body=v}get method(){return yn.brandCheck(this,e),this[ys].method}get url(){return yn.brandCheck(this,e),O5t(this[ys].url)}get headers(){return yn.brandCheck(this,e),this[yf]}get destination(){return yn.brandCheck(this,e),this[ys].destination}get referrer(){return yn.brandCheck(this,e),this[ys].referrer==="no-referrer"?"":this[ys].referrer==="client"?"about:client":this[ys].referrer.toString()}get referrerPolicy(){return yn.brandCheck(this,e),this[ys].referrerPolicy}get mode(){return yn.brandCheck(this,e),this[ys].mode}get credentials(){return this[ys].credentials}get cache(){return yn.brandCheck(this,e),this[ys].cache}get redirect(){return yn.brandCheck(this,e),this[ys].redirect}get integrity(){return yn.brandCheck(this,e),this[ys].integrity}get keepalive(){return yn.brandCheck(this,e),this[ys].keepalive}get isReloadNavigation(){return yn.brandCheck(this,e),this[ys].reloadNavigation}get isHistoryNavigation(){return yn.brandCheck(this,e),this[ys].historyNavigation}get signal(){return yn.brandCheck(this,e),this[TU]}get body(){return yn.brandCheck(this,e),this[ys].body?this[ys].body.stream:null}get bodyUsed(){return yn.brandCheck(this,e),!!this[ys].body&&IU.isDisturbed(this[ys].body.stream)}get duplex(){return yn.brandCheck(this,e),"half"}clone(){if(yn.brandCheck(this,e),f_e(this))throw new TypeError("unusable");let t=E_e(this[ys]),r=new AbortController;if(this.signal.aborted)r.abort(this.signal.reason);else{let n=SU.get(this.signal);n===void 0&&(n=new Set,SU.set(this.signal,n));let i=new WeakRef(r);n.add(i),IU.addAbortListener(r.signal,y_e(i))}return I_e(t,r.signal,w5t(this[yf]))}[m_e.inspect.custom](t,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${m_e.formatWithOptions(r,n)}`}};E5t(U5);function kU(e){return{method:e.method??"GET",localURLsOnly:e.localURLsOnly??!1,unsafeRequest:e.unsafeRequest??!1,body:e.body??null,client:e.client??null,reservedClient:e.reservedClient??null,replacesClientId:e.replacesClientId??"",window:e.window??"client",keepalive:e.keepalive??!1,serviceWorkers:e.serviceWorkers??"all",initiator:e.initiator??"",destination:e.destination??"",priority:e.priority??null,origin:e.origin??"client",policyContainer:e.policyContainer??"client",referrer:e.referrer??"client",referrerPolicy:e.referrerPolicy??"",mode:e.mode??"no-cors",useCORSPreflightFlag:e.useCORSPreflightFlag??!1,credentials:e.credentials??"same-origin",useCredentials:e.useCredentials??!1,cache:e.cache??"default",redirect:e.redirect??"follow",integrity:e.integrity??"",cryptoGraphicsNonceMetadata:e.cryptoGraphicsNonceMetadata??"",parserMetadata:e.parserMetadata??"",reloadNavigation:e.reloadNavigation??!1,historyNavigation:e.historyNavigation??!1,userActivation:e.userActivation??!1,taintedOrigin:e.taintedOrigin??!1,redirectCount:e.redirectCount??0,responseTainting:e.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:e.preventNoCacheCacheControlHeaderModification??!1,done:e.done??!1,timingAllowFailed:e.timingAllowFailed??!1,urlList:e.urlList,url:e.urlList[0],headersList:e.headersList?new wU(e.headersList):new wU}}o(kU,"makeRequest");function E_e(e){let t=kU({...e,body:null});return e.body!=null&&(t.body=I5t(t,e.body)),t}o(E_e,"cloneRequest");function I_e(e,t,r){let n=new U5(_U);return n[ys]=e,n[TU]=t,n[yf]=new x_e(_U),v_e(n[yf],e.headersList),noe(n[yf],r),n}o(I_e,"fromInnerRequest");Object.defineProperties(U5.prototype,{method:za,url:za,headers:za,redirect:za,clone:za,signal:za,duplex:za,destination:za,body:za,bodyUsed:za,isHistoryNavigation:za,isReloadNavigation:za,keepalive:za,integrity:za,cache:za,credentials:za,attribute:za,referrerPolicy:za,referrer:za,mode:za,[Symbol.toStringTag]:{value:"Request",configurable:!0}});yn.converters.Request=yn.interfaceConverter(U5);yn.converters.RequestInfo=function(e,t,r){return typeof e=="string"?yn.converters.USVString(e,t,r):e instanceof U5?yn.converters.Request(e,t,r):yn.converters.USVString(e,t,r)};yn.converters.AbortSignal=yn.interfaceConverter(AbortSignal);yn.converters.RequestInit=yn.dictionaryConverter([{key:"method",converter:yn.converters.ByteString},{key:"headers",converter:yn.converters.HeadersInit},{key:"body",converter:yn.nullableConverter(yn.converters.BodyInit)},{key:"referrer",converter:yn.converters.USVString},{key:"referrerPolicy",converter:yn.converters.DOMString,allowedValues:B5t},{key:"mode",converter:yn.converters.DOMString,allowedValues:P5t},{key:"credentials",converter:yn.converters.DOMString,allowedValues:F5t},{key:"cache",converter:yn.converters.DOMString,allowedValues:N5t},{key:"redirect",converter:yn.converters.DOMString,allowedValues:D5t},{key:"integrity",converter:yn.converters.DOMString},{key:"keepalive",converter:yn.converters.boolean},{key:"signal",converter:yn.nullableConverter(e=>yn.converters.AbortSignal(e,"RequestInit","signal",{strict:!1}))},{key:"window",converter:yn.converters.any},{key:"duplex",converter:yn.converters.DOMString,allowedValues:L5t},{key:"dispatcher",converter:yn.converters.any}]);T_e.exports={Request:U5,makeRequest:kU,fromInnerRequest:I_e,cloneRequest:E_e}});var CS=H((lGr,U_e)=>{"use strict";d();var{makeNetworkError:Lo,makeAppropriateNetworkError:RU,filterResponse:ioe,makeResponse:BU,fromInnerResponse:G5t}=AS(),{HeadersList:w_e}=Ix(),{Request:H5t,cloneRequest:j5t}=e6(),q5=require("node:zlib"),{bytesMatch:V5t,makePolicyContainer:$5t,clonePolicyContainer:z5t,requestBadPort:Y5t,TAOCheck:K5t,appendRequestOriginHeader:J5t,responseLocationURL:Z5t,requestCurrentURL:og,setRequestReferrerPolicyOnRedirect:X5t,tryUpgradeRequestToAPotentiallyTrustworthyURL:eCt,createOpaqueTimingInfo:coe,appendFetchMetadata:tCt,corsCheck:rCt,crossOriginResourcePolicyCheck:nCt,determineRequestsReferrer:iCt,coarsenedSharedCurrentTime:yS,createDeferredPromise:oCt,isBlobLike:sCt,sameOrigin:loe,isCancelled:wx,isAborted:__e,isErrorLike:aCt,fullyReadBody:lCt,readableStreamClose:cCt,isomorphicEncode:DU,urlIsLocal:uCt,urlIsHttpHttpsScheme:uoe,urlHasHttpsScheme:fCt,clampAndCoarsenConnectionTimingInfo:dCt,simpleRangeHeaderValue:mCt,buildContentRange:hCt,createInflate:pCt,extractMimeType:gCt}=mf(),{kState:B_e,kDispatcher:ACt}=k5(),_x=require("node:assert"),{safelyExtractBody:foe,extractBody:S_e}=F8(),{redirectStatusSet:D_e,nullBodyStatus:P_e,safeMethodsSet:yCt,requestBodyHeader:CCt,subresourceSet:xCt}=Q_(),vCt=require("node:events"),{Readable:bCt,pipeline:ECt,finished:ICt}=require("node:stream"),{addAbortListener:TCt,isErrored:wCt,isReadable:PU,bufferToLowerCasedHeaderName:k_e}=Ci(),{dataURLProcessor:_Ct,serializeAMimeType:SCt,minimizeSupportedMimeType:kCt}=au(),{getGlobalDispatcher:RCt}=gU(),{webidl:BCt}=ic(),{STATUS_CODES:DCt}=require("node:http"),PCt=["GET","HEAD"],FCt=typeof __UNDICI_IS_NODE__<"u"||typeof esbuildDetection<"u"?"node":"undici",ooe,FU=class extends vCt{static{o(this,"Fetch")}constructor(t){super(),this.dispatcher=t,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(t){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(t),this.emit("terminated",t))}abort(t){this.state==="ongoing"&&(this.state="aborted",t||(t=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=t,this.connection?.destroy(t),this.emit("terminated",t))}};function NCt(e){F_e(e,"fetch")}o(NCt,"handleFetchDone");function LCt(e,t=void 0){BCt.argumentLengthCheck(arguments,1,"globalThis.fetch");let r=oCt(),n;try{n=new H5t(e,t)}catch(f){return r.reject(f),r.promise}let i=n[B_e];if(n.signal.aborted)return soe(r,i,null,n.signal.reason),r.promise;i.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(i.serviceWorkers="none");let a=null,l=!1,c=null;return TCt(n.signal,()=>{l=!0,_x(c!=null),c.abort(n.signal.reason);let f=a?.deref();soe(r,i,f,n.signal.reason)}),c=L_e({request:i,processResponseEndOfBody:NCt,processResponse:o(f=>{if(!l){if(f.aborted){soe(r,i,a,c.serializedAbortReason);return}if(f.type==="error"){r.reject(new TypeError("fetch failed",{cause:f.error}));return}a=new WeakRef(G5t(f,"immutable")),r.resolve(a.deref()),r=null}},"processResponse"),dispatcher:n[ACt]}),r.promise}o(LCt,"fetch");function F_e(e,t="other"){if(e.type==="error"&&e.aborted||!e.urlList?.length)return;let r=e.urlList[0],n=e.timingInfo,i=e.cacheState;uoe(r)&&n!==null&&(e.timingAllowPassed||(n=coe({startTime:n.startTime}),i=""),n.endTime=yS(),e.timingInfo=n,N_e(n,r.href,t,globalThis,i))}o(F_e,"finalizeAndReportTiming");var N_e=performance.markResourceTiming;function soe(e,t,r,n){if(e&&e.reject(n),t.body!=null&&PU(t.body?.stream)&&t.body.stream.cancel(n).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s}),r==null)return;let i=r[B_e];i.body!=null&&PU(i.body?.stream)&&i.body.stream.cancel(n).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s})}o(soe,"abortFetch");function L_e({request:e,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseEndOfBody:i,processResponseConsumeBody:s,useParallelQueue:a=!1,dispatcher:l=RCt()}){_x(l);let c=null,u=!1;e.client!=null&&(c=e.client.globalObject,u=e.client.crossOriginIsolatedCapability);let f=yS(u),m=coe({startTime:f}),h={controller:new FU(l),request:e,timingInfo:m,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseConsumeBody:s,processResponseEndOfBody:i,taskDestination:c,crossOriginIsolatedCapability:u};return _x(!e.body||e.body.stream),e.window==="client"&&(e.window=e.client?.globalObject?.constructor?.name==="Window"?e.client:"no-window"),e.origin==="client"&&(e.origin=e.client.origin),e.policyContainer==="client"&&(e.client!=null?e.policyContainer=z5t(e.client.policyContainer):e.policyContainer=$5t()),e.headersList.contains("accept",!0)||e.headersList.append("accept","*/*",!0),e.headersList.contains("accept-language",!0)||e.headersList.append("accept-language","*",!0),e.priority,xCt.has(e.destination),Q_e(h).catch(p=>{h.controller.terminate(p)}),h.controller}o(L_e,"fetching");async function Q_e(e,t=!1){let r=e.request,n=null;if(r.localURLsOnly&&!uCt(og(r))&&(n=Lo("local URLs only")),eCt(r),Y5t(r)==="blocked"&&(n=Lo("bad port")),r.referrerPolicy===""&&(r.referrerPolicy=r.policyContainer.referrerPolicy),r.referrer!=="no-referrer"&&(r.referrer=iCt(r)),n===null&&(n=await(async()=>{let s=og(r);return loe(s,r.url)&&r.responseTainting==="basic"||s.protocol==="data:"||r.mode==="navigate"||r.mode==="websocket"?(r.responseTainting="basic",await R_e(e)):r.mode==="same-origin"?Lo('request mode cannot be "same-origin"'):r.mode==="no-cors"?r.redirect!=="follow"?Lo('redirect mode cannot be "follow" for "no-cors" request'):(r.responseTainting="opaque",await R_e(e)):uoe(og(r))?(r.responseTainting="cors",await M_e(e)):Lo("URL scheme must be a HTTP(S) scheme")})()),t)return n;n.status!==0&&!n.internalResponse&&(r.responseTainting,r.responseTainting==="basic"?n=ioe(n,"basic"):r.responseTainting==="cors"?n=ioe(n,"cors"):r.responseTainting==="opaque"?n=ioe(n,"opaque"):_x(!1));let i=n.status===0?n:n.internalResponse;if(i.urlList.length===0&&i.urlList.push(...r.urlList),r.timingAllowFailed||(n.timingAllowPassed=!0),n.type==="opaque"&&i.status===206&&i.rangeRequested&&!r.headers.contains("range",!0)&&(n=i=Lo()),n.status!==0&&(r.method==="HEAD"||r.method==="CONNECT"||P_e.includes(i.status))&&(i.body=null,e.controller.dump=!0),r.integrity){let s=o(l=>aoe(e,Lo(l)),"processBodyError");if(r.responseTainting==="opaque"||n.body==null){s(n.error);return}let a=o(l=>{if(!V5t(l,r.integrity)){s("integrity mismatch");return}n.body=foe(l)[0],aoe(e,n)},"processBody");await lCt(n.body,a,s)}else aoe(e,n)}o(Q_e,"mainFetch");function R_e(e){if(wx(e)&&e.request.redirectCount===0)return Promise.resolve(RU(e));let{request:t}=e,{protocol:r}=og(t);switch(r){case"about:":return Promise.resolve(Lo("about scheme is not supported"));case"blob:":{ooe||(ooe=require("node:buffer").resolveObjectURL);let n=og(t);if(n.search.length!==0)return Promise.resolve(Lo("NetworkError when attempting to fetch resource."));let i=ooe(n.toString());if(t.method!=="GET"||!sCt(i))return Promise.resolve(Lo("invalid method"));let s=BU(),a=i.size,l=DU(`${a}`),c=i.type;if(t.headersList.contains("range",!0)){s.rangeRequested=!0;let u=t.headersList.get("range",!0),f=mCt(u,!0);if(f==="failure")return Promise.resolve(Lo("failed to fetch the data URL"));let{rangeStartValue:m,rangeEndValue:h}=f;if(m===null)m=a-h,h=m+h-1;else{if(m>=a)return Promise.resolve(Lo("Range start is greater than the blob's size."));(h===null||h>=a)&&(h=a-1)}let p=i.slice(m,h,c),A=S_e(p);s.body=A[0];let x=DU(`${p.size}`),v=hCt(m,h,a);s.status=206,s.statusText="Partial Content",s.headersList.set("content-length",x,!0),s.headersList.set("content-type",c,!0),s.headersList.set("content-range",v,!0)}else{let u=S_e(i);s.statusText="OK",s.body=u[0],s.headersList.set("content-length",l,!0),s.headersList.set("content-type",c,!0)}return Promise.resolve(s)}case"data:":{let n=og(t),i=_Ct(n);if(i==="failure")return Promise.resolve(Lo("failed to fetch the data URL"));let s=SCt(i.mimeType);return Promise.resolve(BU({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:s}]],body:foe(i.body)[0]}))}case"file:":return Promise.resolve(Lo("not implemented... yet..."));case"http:":case"https:":return M_e(e).catch(n=>Lo(n));default:return Promise.resolve(Lo("unknown scheme"))}}o(R_e,"schemeFetch");function QCt(e,t){e.request.done=!0,e.processResponseDone!=null&&queueMicrotask(()=>e.processResponseDone(t))}o(QCt,"finalizeResponse");function aoe(e,t){let r=e.timingInfo,n=o(()=>{let s=Date.now();e.request.destination==="document"&&(e.controller.fullTimingInfo=r),e.controller.reportTimingSteps=()=>{if(e.request.url.protocol!=="https:")return;r.endTime=s;let l=t.cacheState,c=t.bodyInfo;t.timingAllowPassed||(r=coe(r),l="");let u=0;if(e.request.mode!=="navigator"||!t.hasCrossOriginRedirects){u=t.status;let f=gCt(t.headersList);f!=="failure"&&(c.contentType=kCt(f))}e.request.initiatorType!=null&&N_e(r,e.request.url.href,e.request.initiatorType,globalThis,l,c,u)};let a=o(()=>{e.request.done=!0,e.processResponseEndOfBody!=null&&queueMicrotask(()=>e.processResponseEndOfBody(t)),e.request.initiatorType!=null&&e.controller.reportTimingSteps()},"processResponseEndOfBodyTask");queueMicrotask(()=>a())},"processResponseEndOfBody");e.processResponse!=null&&queueMicrotask(()=>{e.processResponse(t),e.processResponse=null});let i=t.type==="error"?t:t.internalResponse??t;i.body==null?n():ICt(i.body.stream,()=>{n()})}o(aoe,"fetchFinale");async function M_e(e){let t=e.request,r=null,n=null,i=e.timingInfo;if(t.serviceWorkers,r===null){if(t.redirect==="follow"&&(t.serviceWorkers="none"),n=r=await O_e(e),t.responseTainting==="cors"&&rCt(t,r)==="failure")return Lo("cors failure");K5t(t,r)==="failure"&&(t.timingAllowFailed=!0)}return(t.responseTainting==="opaque"||r.type==="opaque")&&nCt(t.origin,t.client,t.destination,n)==="blocked"?Lo("blocked"):(D_e.has(n.status)&&(t.redirect!=="manual"&&e.controller.connection.destroy(void 0,!1),t.redirect==="error"?r=Lo("unexpected redirect"):t.redirect==="manual"?r=n:t.redirect==="follow"?r=await MCt(e,r):_x(!1)),r.timingInfo=i,r)}o(M_e,"httpFetch");function MCt(e,t){let r=e.request,n=t.internalResponse?t.internalResponse:t,i;try{if(i=Z5t(n,og(r).hash),i==null)return t}catch(a){return Promise.resolve(Lo(a))}if(!uoe(i))return Promise.resolve(Lo("URL scheme must be a HTTP(S) scheme"));if(r.redirectCount===20)return Promise.resolve(Lo("redirect count exceeded"));if(r.redirectCount+=1,r.mode==="cors"&&(i.username||i.password)&&!loe(r,i))return Promise.resolve(Lo('cross origin not allowed for request mode "cors"'));if(r.responseTainting==="cors"&&(i.username||i.password))return Promise.resolve(Lo('URL cannot contain credentials for request mode "cors"'));if(n.status!==303&&r.body!=null&&r.body.source==null)return Promise.resolve(Lo());if([301,302].includes(n.status)&&r.method==="POST"||n.status===303&&!PCt.includes(r.method)){r.method="GET",r.body=null;for(let a of CCt)r.headersList.delete(a)}loe(og(r),i)||(r.headersList.delete("authorization",!0),r.headersList.delete("proxy-authorization",!0),r.headersList.delete("cookie",!0),r.headersList.delete("host",!0)),r.body!=null&&(_x(r.body.source!=null),r.body=foe(r.body.source)[0]);let s=e.timingInfo;return s.redirectEndTime=s.postRedirectStartTime=yS(e.crossOriginIsolatedCapability),s.redirectStartTime===0&&(s.redirectStartTime=s.startTime),r.urlList.push(i),X5t(r,n),Q_e(e,!0)}o(MCt,"httpRedirectFetch");async function O_e(e,t=!1,r=!1){let n=e.request,i=null,s=null,a=null,l=null,c=!1;n.window==="no-window"&&n.redirect==="error"?(i=e,s=n):(s=j5t(n),i={...e},i.request=s);let u=n.credentials==="include"||n.credentials==="same-origin"&&n.responseTainting==="basic",f=s.body?s.body.length:null,m=null;if(s.body==null&&["POST","PUT"].includes(s.method)&&(m="0"),f!=null&&(m=DU(`${f}`)),m!=null&&s.headersList.append("content-length",m,!0),f!=null&&s.keepalive,s.referrer instanceof URL&&s.headersList.append("referer",DU(s.referrer.href),!0),J5t(s),tCt(s),s.headersList.contains("user-agent",!0)||s.headersList.append("user-agent",FCt),s.cache==="default"&&(s.headersList.contains("if-modified-since",!0)||s.headersList.contains("if-none-match",!0)||s.headersList.contains("if-unmodified-since",!0)||s.headersList.contains("if-match",!0)||s.headersList.contains("if-range",!0))&&(s.cache="no-store"),s.cache==="no-cache"&&!s.preventNoCacheCacheControlHeaderModification&&!s.headersList.contains("cache-control",!0)&&s.headersList.append("cache-control","max-age=0",!0),(s.cache==="no-store"||s.cache==="reload")&&(s.headersList.contains("pragma",!0)||s.headersList.append("pragma","no-cache",!0),s.headersList.contains("cache-control",!0)||s.headersList.append("cache-control","no-cache",!0)),s.headersList.contains("range",!0)&&s.headersList.append("accept-encoding","identity",!0),s.headersList.contains("accept-encoding",!0)||(fCt(og(s))?s.headersList.append("accept-encoding","br, gzip, deflate",!0):s.headersList.append("accept-encoding","gzip, deflate",!0)),s.headersList.delete("host",!0),l==null&&(s.cache="no-store"),s.cache!=="no-store"&&s.cache,a==null){if(s.cache==="only-if-cached")return Lo("only if cached");let h=await OCt(i,u,r);!yCt.has(s.method)&&h.status>=200&&h.status<=399,c&&h.status,a==null&&(a=h)}if(a.urlList=[...s.urlList],s.headersList.contains("range",!0)&&(a.rangeRequested=!0),a.requestIncludesCredentials=u,a.status===407)return n.window==="no-window"?Lo():wx(e)?RU(e):Lo("proxy authentication required");if(a.status===421&&!r&&(n.body==null||n.body.source!=null)){if(wx(e))return RU(e);e.controller.connection.destroy(),a=await O_e(e,t,!0)}return a}o(O_e,"httpNetworkOrCacheFetch");async function OCt(e,t=!1,r=!1){_x(!e.controller.connection||e.controller.connection.destroyed),e.controller.connection={abort:null,destroyed:!1,destroy(A,x=!0){this.destroyed||(this.destroyed=!0,x&&this.abort?.(A??new DOMException("The operation was aborted.","AbortError")))}};let n=e.request,i=null,s=e.timingInfo;null==null&&(n.cache="no-store");let l=r?"yes":"no";n.mode;let c=null;if(n.body==null&&e.processRequestEndOfBody)queueMicrotask(()=>e.processRequestEndOfBody());else if(n.body!=null){let A=o(async function*(E){wx(e)||(yield E,e.processRequestBodyChunkLength?.(E.byteLength))},"processBodyChunk"),x=o(()=>{wx(e)||e.processRequestEndOfBody&&e.processRequestEndOfBody()},"processEndOfBody"),v=o(E=>{wx(e)||(E.name==="AbortError"?e.controller.abort():e.controller.terminate(E))},"processBodyError");c=async function*(){try{for await(let E of n.body.stream)yield*A(E);x()}catch(E){v(E)}}()}try{let{body:A,status:x,statusText:v,headersList:E,socket:b}=await p({body:c});if(b)i=BU({status:x,statusText:v,headersList:E,socket:b});else{let _=A[Symbol.asyncIterator]();e.controller.next=()=>_.next(),i=BU({status:x,statusText:v,headersList:E})}}catch(A){return A.name==="AbortError"?(e.controller.connection.destroy(),RU(e,A)):Lo(A)}let u=o(async()=>{await e.controller.resume()},"pullAlgorithm"),f=o(A=>{wx(e)||e.controller.abort(A)},"cancelAlgorithm"),m=new ReadableStream({async start(A){e.controller.controller=A},async pull(A){await u(A)},async cancel(A){await f(A)},type:"bytes"});i.body={stream:m,source:null,length:null},e.controller.onAborted=h,e.controller.on("terminated",h),e.controller.resume=async()=>{for(;;){let A,x;try{let{done:E,value:b}=await e.controller.next();if(__e(e))break;A=E?void 0:b}catch(E){e.controller.ended&&!s.encodedBodySize?A=void 0:(A=E,x=!0)}if(A===void 0){cCt(e.controller.controller),QCt(e,i);return}if(s.decodedBodySize+=A?.byteLength??0,x){e.controller.terminate(A);return}let v=new Uint8Array(A);if(v.byteLength&&e.controller.controller.enqueue(v),wCt(m)){e.controller.terminate();return}if(e.controller.controller.desiredSize<=0)return}};function h(A){__e(e)?(i.aborted=!0,PU(m)&&e.controller.controller.error(e.controller.serializedAbortReason)):PU(m)&&e.controller.controller.error(new TypeError("terminated",{cause:aCt(A)?A:void 0})),e.controller.connection.destroy()}return o(h,"onAborted"),i;function p({body:A}){let x=og(n),v=e.controller.dispatcher;return new Promise((E,b)=>v.dispatch({path:x.pathname+x.search,origin:x.origin,method:n.method,body:v.isMockActive?n.body&&(n.body.source||n.body.stream):A,headers:n.headersList.entries,maxRedirections:0,upgrade:n.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(_){let{connection:R}=e.controller;s.finalConnectionTimingInfo=dCt(void 0,s.postRedirectStartTime,e.crossOriginIsolatedCapability),R.destroyed?_(new DOMException("The operation was aborted.","AbortError")):(e.controller.on("terminated",_),this.abort=R.abort=_),s.finalNetworkRequestStartTime=yS(e.crossOriginIsolatedCapability)},onResponseStarted(){s.finalNetworkResponseStartTime=yS(e.crossOriginIsolatedCapability)},onHeaders(_,R,P,F){if(_<200)return;let W=[],se="",de=new w_e;for(let J=0;J<R.length;J+=2)de.append(k_e(R[J]),R[J+1].toString("latin1"),!0);let re=de.get("content-encoding",!0);re&&(W=re.toLowerCase().split(",").map(J=>J.trim())),se=de.get("location",!0),this.body=new bCt({read:P});let G=[],U=se&&n.redirect==="follow"&&D_e.has(_);if(W.length!==0&&n.method!=="HEAD"&&n.method!=="CONNECT"&&!P_e.includes(_)&&!U)for(let J=W.length-1;J>=0;--J){let j=W[J];if(j==="x-gzip"||j==="gzip")G.push(q5.createGunzip({flush:q5.constants.Z_SYNC_FLUSH,finishFlush:q5.constants.Z_SYNC_FLUSH}));else if(j==="deflate")G.push(pCt({flush:q5.constants.Z_SYNC_FLUSH,finishFlush:q5.constants.Z_SYNC_FLUSH}));else if(j==="br")G.push(q5.createBrotliDecompress({flush:q5.constants.BROTLI_OPERATION_FLUSH,finishFlush:q5.constants.BROTLI_OPERATION_FLUSH}));else{G.length=0;break}}let ne=this.onError.bind(this);return E({status:_,statusText:F,headersList:de,body:G.length?ECt(this.body,...G,J=>{J&&this.onError(J)}).on("error",ne):this.body.on("error",ne)}),!0},onData(_){if(e.controller.dump)return;let R=_;return s.encodedBodySize+=R.byteLength,this.body.push(R)},onComplete(){this.abort&&e.controller.off("terminated",this.abort),e.controller.onAborted&&e.controller.off("terminated",e.controller.onAborted),e.controller.ended=!0,this.body.push(null)},onError(_){this.abort&&e.controller.off("terminated",this.abort),this.body?.destroy(_),e.controller.terminate(_),b(_)},onUpgrade(_,R,P){if(_!==101)return;let F=new w_e;for(let W=0;W<R.length;W+=2)F.append(k_e(R[W]),R[W+1].toString("latin1"),!0);return E({status:_,statusText:DCt[_],headersList:F,socket:P}),!0}}))}o(p,"dispatch")}o(OCt,"httpNetworkFetch");U_e.exports={fetch:LCt,Fetch:FU,fetching:L_e,finalizeAndReportTiming:F_e}});var doe=H((fGr,q_e)=>{"use strict";d();q_e.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var G_e=H((mGr,W_e)=>{"use strict";d();var{webidl:Cf}=ic(),NU=Symbol("ProgressEvent state"),moe=class e extends Event{static{o(this,"ProgressEvent")}constructor(t,r={}){t=Cf.converters.DOMString(t,"ProgressEvent constructor","type"),r=Cf.converters.ProgressEventInit(r??{}),super(t,r),this[NU]={lengthComputable:r.lengthComputable,loaded:r.loaded,total:r.total}}get lengthComputable(){return Cf.brandCheck(this,e),this[NU].lengthComputable}get loaded(){return Cf.brandCheck(this,e),this[NU].loaded}get total(){return Cf.brandCheck(this,e),this[NU].total}};Cf.converters.ProgressEventInit=Cf.dictionaryConverter([{key:"lengthComputable",converter:Cf.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"loaded",converter:Cf.converters["unsigned long long"],defaultValue:o(()=>0,"defaultValue")},{key:"total",converter:Cf.converters["unsigned long long"],defaultValue:o(()=>0,"defaultValue")},{key:"bubbles",converter:Cf.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"cancelable",converter:Cf.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"composed",converter:Cf.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}]);W_e.exports={ProgressEvent:moe}});var j_e=H((gGr,H_e)=>{"use strict";d();function UCt(e){if(!e)return"failure";switch(e.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}o(UCt,"getEncoding");H_e.exports={getEncoding:UCt}});var X_e=H((CGr,Z_e)=>{"use strict";d();var{kState:t6,kError:hoe,kResult:V_e,kAborted:xS,kLastProgressEventFired:poe}=doe(),{ProgressEvent:qCt}=G_e(),{getEncoding:$_e}=j_e(),{serializeAMimeType:WCt,parseMIMEType:z_e}=au(),{types:GCt}=require("node:util"),{StringDecoder:Y_e}=require("string_decoder"),{btoa:K_e}=require("node:buffer"),HCt={enumerable:!0,writable:!1,configurable:!1};function jCt(e,t,r,n){if(e[t6]==="loading")throw new DOMException("Invalid state","InvalidStateError");e[t6]="loading",e[V_e]=null,e[hoe]=null;let s=t.stream().getReader(),a=[],l=s.read(),c=!0;(async()=>{for(;!e[xS];)try{let{done:u,value:f}=await l;if(c&&!e[xS]&&queueMicrotask(()=>{W5("loadstart",e)}),c=!1,!u&&GCt.isUint8Array(f))a.push(f),(e[poe]===void 0||Date.now()-e[poe]>=50)&&!e[xS]&&(e[poe]=Date.now(),queueMicrotask(()=>{W5("progress",e)})),l=s.read();else if(u){queueMicrotask(()=>{e[t6]="done";try{let m=VCt(a,r,t.type,n);if(e[xS])return;e[V_e]=m,W5("load",e)}catch(m){e[hoe]=m,W5("error",e)}e[t6]!=="loading"&&W5("loadend",e)});break}}catch(u){if(e[xS])return;queueMicrotask(()=>{e[t6]="done",e[hoe]=u,W5("error",e),e[t6]!=="loading"&&W5("loadend",e)});break}})()}o(jCt,"readOperation");function W5(e,t){let r=new qCt(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(r)}o(W5,"fireAProgressEvent");function VCt(e,t,r,n){switch(t){case"DataURL":{let i="data:",s=z_e(r||"application/octet-stream");s!=="failure"&&(i+=WCt(s)),i+=";base64,";let a=new Y_e("latin1");for(let l of e)i+=K_e(a.write(l));return i+=K_e(a.end()),i}case"Text":{let i="failure";if(n&&(i=$_e(n)),i==="failure"&&r){let s=z_e(r);s!=="failure"&&(i=$_e(s.parameters.get("charset")))}return i==="failure"&&(i="UTF-8"),$Ct(e,i)}case"ArrayBuffer":return J_e(e).buffer;case"BinaryString":{let i="",s=new Y_e("latin1");for(let a of e)i+=s.write(a);return i+=s.end(),i}}}o(VCt,"packageData");function $Ct(e,t){let r=J_e(e),n=zCt(r),i=0;n!==null&&(t=n,i=n==="UTF-8"?3:2);let s=r.slice(i);return new TextDecoder(t).decode(s)}o($Ct,"decode");function zCt(e){let[t,r,n]=e;return t===239&&r===187&&n===191?"UTF-8":t===254&&r===255?"UTF-16BE":t===255&&r===254?"UTF-16LE":null}o(zCt,"BOMSniffing");function J_e(e){let t=e.reduce((n,i)=>n+i.byteLength,0),r=0;return e.reduce((n,i)=>(n.set(i,r),r+=i.byteLength,n),new Uint8Array(t))}o(J_e,"combineByteSequences");Z_e.exports={staticPropertyDescriptors:HCt,readOperation:jCt,fireAProgressEvent:W5}});var nSe=H((bGr,rSe)=>{"use strict";d();var{staticPropertyDescriptors:r6,readOperation:LU,fireAProgressEvent:eSe}=X_e(),{kState:Sx,kError:tSe,kResult:QU,kEvents:Co,kAborted:YCt}=doe(),{webidl:Uo}=ic(),{kEnumerableProperty:uu}=Ci(),gh=class e extends EventTarget{static{o(this,"FileReader")}constructor(){super(),this[Sx]="empty",this[QU]=null,this[tSe]=null,this[Co]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(t){Uo.brandCheck(this,e),Uo.argumentLengthCheck(arguments,1,"FileReader.readAsArrayBuffer"),t=Uo.converters.Blob(t,{strict:!1}),LU(this,t,"ArrayBuffer")}readAsBinaryString(t){Uo.brandCheck(this,e),Uo.argumentLengthCheck(arguments,1,"FileReader.readAsBinaryString"),t=Uo.converters.Blob(t,{strict:!1}),LU(this,t,"BinaryString")}readAsText(t,r=void 0){Uo.brandCheck(this,e),Uo.argumentLengthCheck(arguments,1,"FileReader.readAsText"),t=Uo.converters.Blob(t,{strict:!1}),r!==void 0&&(r=Uo.converters.DOMString(r,"FileReader.readAsText","encoding")),LU(this,t,"Text",r)}readAsDataURL(t){Uo.brandCheck(this,e),Uo.argumentLengthCheck(arguments,1,"FileReader.readAsDataURL"),t=Uo.converters.Blob(t,{strict:!1}),LU(this,t,"DataURL")}abort(){if(this[Sx]==="empty"||this[Sx]==="done"){this[QU]=null;return}this[Sx]==="loading"&&(this[Sx]="done",this[QU]=null),this[YCt]=!0,eSe("abort",this),this[Sx]!=="loading"&&eSe("loadend",this)}get readyState(){switch(Uo.brandCheck(this,e),this[Sx]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return Uo.brandCheck(this,e),this[QU]}get error(){return Uo.brandCheck(this,e),this[tSe]}get onloadend(){return Uo.brandCheck(this,e),this[Co].loadend}set onloadend(t){Uo.brandCheck(this,e),this[Co].loadend&&this.removeEventListener("loadend",this[Co].loadend),typeof t=="function"?(this[Co].loadend=t,this.addEventListener("loadend",t)):this[Co].loadend=null}get onerror(){return Uo.brandCheck(this,e),this[Co].error}set onerror(t){Uo.brandCheck(this,e),this[Co].error&&this.removeEventListener("error",this[Co].error),typeof t=="function"?(this[Co].error=t,this.addEventListener("error",t)):this[Co].error=null}get onloadstart(){return Uo.brandCheck(this,e),this[Co].loadstart}set onloadstart(t){Uo.brandCheck(this,e),this[Co].loadstart&&this.removeEventListener("loadstart",this[Co].loadstart),typeof t=="function"?(this[Co].loadstart=t,this.addEventListener("loadstart",t)):this[Co].loadstart=null}get onprogress(){return Uo.brandCheck(this,e),this[Co].progress}set onprogress(t){Uo.brandCheck(this,e),this[Co].progress&&this.removeEventListener("progress",this[Co].progress),typeof t=="function"?(this[Co].progress=t,this.addEventListener("progress",t)):this[Co].progress=null}get onload(){return Uo.brandCheck(this,e),this[Co].load}set onload(t){Uo.brandCheck(this,e),this[Co].load&&this.removeEventListener("load",this[Co].load),typeof t=="function"?(this[Co].load=t,this.addEventListener("load",t)):this[Co].load=null}get onabort(){return Uo.brandCheck(this,e),this[Co].abort}set onabort(t){Uo.brandCheck(this,e),this[Co].abort&&this.removeEventListener("abort",this[Co].abort),typeof t=="function"?(this[Co].abort=t,this.addEventListener("abort",t)):this[Co].abort=null}};gh.EMPTY=gh.prototype.EMPTY=0;gh.LOADING=gh.prototype.LOADING=1;gh.DONE=gh.prototype.DONE=2;Object.defineProperties(gh.prototype,{EMPTY:r6,LOADING:r6,DONE:r6,readAsArrayBuffer:uu,readAsBinaryString:uu,readAsText:uu,readAsDataURL:uu,abort:uu,readyState:uu,result:uu,error:uu,onloadstart:uu,onprogress:uu,onload:uu,onabort:uu,onerror:uu,onloadend:uu,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(gh,{EMPTY:r6,LOADING:r6,DONE:r6});rSe.exports={FileReader:gh}});var MU=H((TGr,iSe)=>{"use strict";d();iSe.exports={kConstruct:Ns().kConstruct}});var aSe=H((_Gr,sSe)=>{"use strict";d();var KCt=require("node:assert"),{URLSerializer:oSe}=au(),{isValidHeaderName:JCt}=mf();function ZCt(e,t,r=!1){let n=oSe(e,r),i=oSe(t,r);return n===i}o(ZCt,"urlEquals");function XCt(e){KCt(e!==null);let t=[];for(let r of e.split(","))r=r.trim(),JCt(r)&&t.push(r);return t}o(XCt,"getFieldValues");sSe.exports={urlEquals:ZCt,getFieldValues:XCt}});var uSe=H((RGr,cSe)=>{"use strict";d();var{kConstruct:e3t}=MU(),{urlEquals:t3t,getFieldValues:goe}=aSe(),{kEnumerableProperty:kx,isDisturbed:r3t}=Ci(),{webidl:rn}=ic(),{Response:n3t,cloneResponse:i3t,fromInnerResponse:o3t}=AS(),{Request:yA,fromInnerRequest:s3t}=e6(),{kState:Ah}=k5(),{fetching:a3t}=CS(),{urlIsHttpHttpsScheme:OU,createDeferredPromise:n6,readAllBytes:l3t}=mf(),Aoe=require("node:assert"),UU=class e{static{o(this,"Cache")}#e;constructor(){arguments[0]!==e3t&&rn.illegalConstructor(),rn.util.markAsUncloneable(this),this.#e=arguments[1]}async match(t,r={}){rn.brandCheck(this,e);let n="Cache.match";rn.argumentLengthCheck(arguments,1,n),t=rn.converters.RequestInfo(t,n,"request"),r=rn.converters.CacheQueryOptions(r,n,"options");let i=this.#r(t,r,1);if(i.length!==0)return i[0]}async matchAll(t=void 0,r={}){rn.brandCheck(this,e);let n="Cache.matchAll";return t!==void 0&&(t=rn.converters.RequestInfo(t,n,"request")),r=rn.converters.CacheQueryOptions(r,n,"options"),this.#r(t,r)}async add(t){rn.brandCheck(this,e);let r="Cache.add";rn.argumentLengthCheck(arguments,1,r),t=rn.converters.RequestInfo(t,r,"request");let n=[t];return await this.addAll(n)}async addAll(t){rn.brandCheck(this,e);let r="Cache.addAll";rn.argumentLengthCheck(arguments,1,r);let n=[],i=[];for(let h of t){if(h===void 0)throw rn.errors.conversionFailed({prefix:r,argument:"Argument 1",types:["undefined is not allowed"]});if(h=rn.converters.RequestInfo(h),typeof h=="string")continue;let p=h[Ah];if(!OU(p.url)||p.method!=="GET")throw rn.errors.exception({header:r,message:"Expected http/s scheme when method is not GET."})}let s=[];for(let h of t){let p=new yA(h)[Ah];if(!OU(p.url))throw rn.errors.exception({header:r,message:"Expected http/s scheme."});p.initiator="fetch",p.destination="subresource",i.push(p);let A=n6();s.push(a3t({request:p,processResponse(x){if(x.type==="error"||x.status===206||x.status<200||x.status>299)A.reject(rn.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(x.headersList.contains("vary")){let v=goe(x.headersList.get("vary"));for(let E of v)if(E==="*"){A.reject(rn.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let b of s)b.abort();return}}},processResponseEndOfBody(x){if(x.aborted){A.reject(new DOMException("aborted","AbortError"));return}A.resolve(x)}})),n.push(A.promise)}let l=await Promise.all(n),c=[],u=0;for(let h of l){let p={type:"put",request:i[u],response:h};c.push(p),u++}let f=n6(),m=null;try{this.#t(c)}catch(h){m=h}return queueMicrotask(()=>{m===null?f.resolve(void 0):f.reject(m)}),f.promise}async put(t,r){rn.brandCheck(this,e);let n="Cache.put";rn.argumentLengthCheck(arguments,2,n),t=rn.converters.RequestInfo(t,n,"request"),r=rn.converters.Response(r,n,"response");let i=null;if(t instanceof yA?i=t[Ah]:i=new yA(t)[Ah],!OU(i.url)||i.method!=="GET")throw rn.errors.exception({header:n,message:"Expected an http/s scheme when method is not GET"});let s=r[Ah];if(s.status===206)throw rn.errors.exception({header:n,message:"Got 206 status"});if(s.headersList.contains("vary")){let p=goe(s.headersList.get("vary"));for(let A of p)if(A==="*")throw rn.errors.exception({header:n,message:"Got * vary field value"})}if(s.body&&(r3t(s.body.stream)||s.body.stream.locked))throw rn.errors.exception({header:n,message:"Response body is locked or disturbed"});let a=i3t(s),l=n6();if(s.body!=null){let A=s.body.stream.getReader();l3t(A).then(l.resolve,l.reject)}else l.resolve(void 0);let c=[],u={type:"put",request:i,response:a};c.push(u);let f=await l.promise;a.body!=null&&(a.body.source=f);let m=n6(),h=null;try{this.#t(c)}catch(p){h=p}return queueMicrotask(()=>{h===null?m.resolve():m.reject(h)}),m.promise}async delete(t,r={}){rn.brandCheck(this,e);let n="Cache.delete";rn.argumentLengthCheck(arguments,1,n),t=rn.converters.RequestInfo(t,n,"request"),r=rn.converters.CacheQueryOptions(r,n,"options");let i=null;if(t instanceof yA){if(i=t[Ah],i.method!=="GET"&&!r.ignoreMethod)return!1}else Aoe(typeof t=="string"),i=new yA(t)[Ah];let s=[],a={type:"delete",request:i,options:r};s.push(a);let l=n6(),c=null,u;try{u=this.#t(s)}catch(f){c=f}return queueMicrotask(()=>{c===null?l.resolve(!!u?.length):l.reject(c)}),l.promise}async keys(t=void 0,r={}){rn.brandCheck(this,e);let n="Cache.keys";t!==void 0&&(t=rn.converters.RequestInfo(t,n,"request")),r=rn.converters.CacheQueryOptions(r,n,"options");let i=null;if(t!==void 0)if(t instanceof yA){if(i=t[Ah],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof t=="string"&&(i=new yA(t)[Ah]);let s=n6(),a=[];if(t===void 0)for(let l of this.#e)a.push(l[0]);else{let l=this.#i(i,r);for(let c of l)a.push(c[0])}return queueMicrotask(()=>{let l=[];for(let c of a){let u=s3t(c,new AbortController().signal,"immutable");l.push(u)}s.resolve(Object.freeze(l))}),s.promise}#t(t){let r=this.#e,n=[...r],i=[],s=[];try{for(let a of t){if(a.type!=="delete"&&a.type!=="put")throw rn.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(a.type==="delete"&&a.response!=null)throw rn.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#i(a.request,a.options,i).length)throw new DOMException("???","InvalidStateError");let l;if(a.type==="delete"){if(l=this.#i(a.request,a.options),l.length===0)return[];for(let c of l){let u=r.indexOf(c);Aoe(u!==-1),r.splice(u,1)}}else if(a.type==="put"){if(a.response==null)throw rn.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let c=a.request;if(!OU(c.url))throw rn.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(c.method!=="GET")throw rn.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(a.options!=null)throw rn.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});l=this.#i(a.request);for(let u of l){let f=r.indexOf(u);Aoe(f!==-1),r.splice(f,1)}r.push([a.request,a.response]),i.push([a.request,a.response])}s.push([a.request,a.response])}return s}catch(a){throw this.#e.length=0,this.#e=n,a}}#i(t,r,n){let i=[],s=n??this.#e;for(let a of s){let[l,c]=a;this.#n(t,l,c,r)&&i.push(a)}return i}#n(t,r,n=null,i){let s=new URL(t.url),a=new URL(r.url);if(i?.ignoreSearch&&(a.search="",s.search=""),!t3t(s,a,!0))return!1;if(n==null||i?.ignoreVary||!n.headersList.contains("vary"))return!0;let l=goe(n.headersList.get("vary"));for(let c of l){if(c==="*")return!1;let u=r.headersList.get(c),f=t.headersList.get(c);if(u!==f)return!1}return!0}#r(t,r,n=1/0){let i=null;if(t!==void 0)if(t instanceof yA){if(i=t[Ah],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof t=="string"&&(i=new yA(t)[Ah]);let s=[];if(t===void 0)for(let l of this.#e)s.push(l[1]);else{let l=this.#i(i,r);for(let c of l)s.push(c[1])}let a=[];for(let l of s){let c=o3t(l,"immutable");if(a.push(c.clone()),a.length>=n)break}return Object.freeze(a)}};Object.defineProperties(UU.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:kx,matchAll:kx,add:kx,addAll:kx,put:kx,delete:kx,keys:kx});var lSe=[{key:"ignoreSearch",converter:rn.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"ignoreMethod",converter:rn.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"ignoreVary",converter:rn.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}];rn.converters.CacheQueryOptions=rn.dictionaryConverter(lSe);rn.converters.MultiCacheQueryOptions=rn.dictionaryConverter([...lSe,{key:"cacheName",converter:rn.converters.DOMString}]);rn.converters.Response=rn.interfaceConverter(n3t);rn.converters["sequence<RequestInfo>"]=rn.sequenceConverter(rn.converters.RequestInfo);cSe.exports={Cache:UU}});var dSe=H((PGr,fSe)=>{"use strict";d();var{kConstruct:vS}=MU(),{Cache:qU}=uSe(),{webidl:Oc}=ic(),{kEnumerableProperty:bS}=Ci(),WU=class e{static{o(this,"CacheStorage")}#e=new Map;constructor(){arguments[0]!==vS&&Oc.illegalConstructor(),Oc.util.markAsUncloneable(this)}async match(t,r={}){if(Oc.brandCheck(this,e),Oc.argumentLengthCheck(arguments,1,"CacheStorage.match"),t=Oc.converters.RequestInfo(t),r=Oc.converters.MultiCacheQueryOptions(r),r.cacheName!=null){if(this.#e.has(r.cacheName)){let n=this.#e.get(r.cacheName);return await new qU(vS,n).match(t,r)}}else for(let n of this.#e.values()){let s=await new qU(vS,n).match(t,r);if(s!==void 0)return s}}async has(t){Oc.brandCheck(this,e);let r="CacheStorage.has";return Oc.argumentLengthCheck(arguments,1,r),t=Oc.converters.DOMString(t,r,"cacheName"),this.#e.has(t)}async open(t){Oc.brandCheck(this,e);let r="CacheStorage.open";if(Oc.argumentLengthCheck(arguments,1,r),t=Oc.converters.DOMString(t,r,"cacheName"),this.#e.has(t)){let i=this.#e.get(t);return new qU(vS,i)}let n=[];return this.#e.set(t,n),new qU(vS,n)}async delete(t){Oc.brandCheck(this,e);let r="CacheStorage.delete";return Oc.argumentLengthCheck(arguments,1,r),t=Oc.converters.DOMString(t,r,"cacheName"),this.#e.delete(t)}async keys(){return Oc.brandCheck(this,e),[...this.#e.keys()]}};Object.defineProperties(WU.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:bS,has:bS,open:bS,delete:bS,keys:bS});fSe.exports={CacheStorage:WU}});var hSe=H((LGr,mSe)=>{"use strict";d();mSe.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var yoe=H((MGr,CSe)=>{"use strict";d();function c3t(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>=0&&r<=8||r>=10&&r<=31||r===127)return!0}return!1}o(c3t,"isCTLExcludingHtab");function pSe(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||r===34||r===40||r===41||r===60||r===62||r===64||r===44||r===59||r===58||r===92||r===47||r===91||r===93||r===63||r===61||r===123||r===125)throw new Error("Invalid cookie name")}}o(pSe,"validateCookieName");function gSe(e){let t=e.length,r=0;if(e[0]==='"'){if(t===1||e[t-1]!=='"')throw new Error("Invalid cookie value");--t,++r}for(;r<t;){let n=e.charCodeAt(r++);if(n<33||n>126||n===34||n===44||n===59||n===92)throw new Error("Invalid cookie value")}}o(gSe,"validateCookieValue");function ASe(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<32||r===127||r===59)throw new Error("Invalid cookie path")}}o(ASe,"validateCookiePath");function u3t(e){if(e.startsWith("-")||e.endsWith(".")||e.endsWith("-"))throw new Error("Invalid cookie domain")}o(u3t,"validateCookieDomain");var f3t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],d3t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],GU=Array(61).fill(0).map((e,t)=>t.toString().padStart(2,"0"));function ySe(e){return typeof e=="number"&&(e=new Date(e)),`${f3t[e.getUTCDay()]}, ${GU[e.getUTCDate()]} ${d3t[e.getUTCMonth()]} ${e.getUTCFullYear()} ${GU[e.getUTCHours()]}:${GU[e.getUTCMinutes()]}:${GU[e.getUTCSeconds()]} GMT`}o(ySe,"toIMFDate");function m3t(e){if(e<0)throw new Error("Invalid cookie max-age")}o(m3t,"validateCookieMaxAge");function h3t(e){if(e.name.length===0)return null;pSe(e.name),gSe(e.value);let t=[`${e.name}=${e.value}`];e.name.startsWith("__Secure-")&&(e.secure=!0),e.name.startsWith("__Host-")&&(e.secure=!0,e.domain=null,e.path="/"),e.secure&&t.push("Secure"),e.httpOnly&&t.push("HttpOnly"),typeof e.maxAge=="number"&&(m3t(e.maxAge),t.push(`Max-Age=${e.maxAge}`)),e.domain&&(u3t(e.domain),t.push(`Domain=${e.domain}`)),e.path&&(ASe(e.path),t.push(`Path=${e.path}`)),e.expires&&e.expires.toString()!=="Invalid Date"&&t.push(`Expires=${ySe(e.expires)}`),e.sameSite&&t.push(`SameSite=${e.sameSite}`);for(let r of e.unparsed){if(!r.includes("="))throw new Error("Invalid unparsed");let[n,...i]=r.split("=");t.push(`${n.trim()}=${i.join("=")}`)}return t.join("; ")}o(h3t,"stringify");CSe.exports={isCTLExcludingHtab:c3t,validateCookieName:pSe,validateCookiePath:ASe,validateCookieValue:gSe,toIMFDate:ySe,stringify:h3t}});var vSe=H((qGr,xSe)=>{"use strict";d();var{maxNameValuePairSize:p3t,maxAttributeValueSize:g3t}=hSe(),{isCTLExcludingHtab:A3t}=yoe(),{collectASequenceOfCodePointsFast:HU}=au(),y3t=require("node:assert");function C3t(e){if(A3t(e))return null;let t="",r="",n="",i="";if(e.includes(";")){let s={position:0};t=HU(";",e,s),r=e.slice(s.position)}else t=e;if(!t.includes("="))i=t;else{let s={position:0};n=HU("=",t,s),i=t.slice(s.position+1)}return n=n.trim(),i=i.trim(),n.length+i.length>p3t?null:{name:n,value:i,...i6(r)}}o(C3t,"parseSetCookie");function i6(e,t={}){if(e.length===0)return t;y3t(e[0]===";"),e=e.slice(1);let r="";e.includes(";")?(r=HU(";",e,{position:0}),e=e.slice(r.length)):(r=e,e="");let n="",i="";if(r.includes("=")){let a={position:0};n=HU("=",r,a),i=r.slice(a.position+1)}else n=r;if(n=n.trim(),i=i.trim(),i.length>g3t)return i6(e,t);let s=n.toLowerCase();if(s==="expires"){let a=new Date(i);t.expires=a}else if(s==="max-age"){let a=i.charCodeAt(0);if((a<48||a>57)&&i[0]!=="-"||!/^\d+$/.test(i))return i6(e,t);let l=Number(i);t.maxAge=l}else if(s==="domain"){let a=i;a[0]==="."&&(a=a.slice(1)),a=a.toLowerCase(),t.domain=a}else if(s==="path"){let a="";i.length===0||i[0]!=="/"?a="/":a=i,t.path=a}else if(s==="secure")t.secure=!0;else if(s==="httponly")t.httpOnly=!0;else if(s==="samesite"){let a="Default",l=i.toLowerCase();l.includes("none")&&(a="None"),l.includes("strict")&&(a="Strict"),l.includes("lax")&&(a="Lax"),t.sameSite=a}else t.unparsed??=[],t.unparsed.push(`${n}=${i}`);return i6(e,t)}o(i6,"parseUnparsedAttributes");xSe.exports={parseSetCookie:C3t,parseUnparsedAttributes:i6}});var ISe=H((HGr,ESe)=>{"use strict";d();var{parseSetCookie:x3t}=vSe(),{stringify:v3t}=yoe(),{webidl:Li}=ic(),{Headers:jU}=Ix();function b3t(e){Li.argumentLengthCheck(arguments,1,"getCookies"),Li.brandCheck(e,jU,{strict:!1});let t=e.get("cookie"),r={};if(!t)return r;for(let n of t.split(";")){let[i,...s]=n.split("=");r[i.trim()]=s.join("=")}return r}o(b3t,"getCookies");function E3t(e,t,r){Li.brandCheck(e,jU,{strict:!1});let n="deleteCookie";Li.argumentLengthCheck(arguments,2,n),t=Li.converters.DOMString(t,n,"name"),r=Li.converters.DeleteCookieAttributes(r),bSe(e,{name:t,value:"",expires:new Date(0),...r})}o(E3t,"deleteCookie");function I3t(e){Li.argumentLengthCheck(arguments,1,"getSetCookies"),Li.brandCheck(e,jU,{strict:!1});let t=e.getSetCookie();return t?t.map(r=>x3t(r)):[]}o(I3t,"getSetCookies");function bSe(e,t){Li.argumentLengthCheck(arguments,2,"setCookie"),Li.brandCheck(e,jU,{strict:!1}),t=Li.converters.Cookie(t);let r=v3t(t);r&&e.append("Set-Cookie",r)}o(bSe,"setCookie");Li.converters.DeleteCookieAttributes=Li.dictionaryConverter([{converter:Li.nullableConverter(Li.converters.DOMString),key:"path",defaultValue:o(()=>null,"defaultValue")},{converter:Li.nullableConverter(Li.converters.DOMString),key:"domain",defaultValue:o(()=>null,"defaultValue")}]);Li.converters.Cookie=Li.dictionaryConverter([{converter:Li.converters.DOMString,key:"name"},{converter:Li.converters.DOMString,key:"value"},{converter:Li.nullableConverter(e=>typeof e=="number"?Li.converters["unsigned long long"](e):new Date(e)),key:"expires",defaultValue:o(()=>null,"defaultValue")},{converter:Li.nullableConverter(Li.converters["long long"]),key:"maxAge",defaultValue:o(()=>null,"defaultValue")},{converter:Li.nullableConverter(Li.converters.DOMString),key:"domain",defaultValue:o(()=>null,"defaultValue")},{converter:Li.nullableConverter(Li.converters.DOMString),key:"path",defaultValue:o(()=>null,"defaultValue")},{converter:Li.nullableConverter(Li.converters.boolean),key:"secure",defaultValue:o(()=>null,"defaultValue")},{converter:Li.nullableConverter(Li.converters.boolean),key:"httpOnly",defaultValue:o(()=>null,"defaultValue")},{converter:Li.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:Li.sequenceConverter(Li.converters.DOMString),key:"unparsed",defaultValue:o(()=>new Array(0),"defaultValue")}]);ESe.exports={getCookies:b3t,deleteCookie:E3t,getSetCookies:I3t,setCookie:bSe}});var s6=H(($Gr,wSe)=>{"use strict";d();var{webidl:en}=ic(),{kEnumerableProperty:fu}=Ci(),{kConstruct:TSe}=Ns(),{MessagePort:T3t}=require("node:worker_threads"),o6=class e extends Event{static{o(this,"MessageEvent")}#e;constructor(t,r={}){if(t===TSe){super(arguments[1],arguments[2]),en.util.markAsUncloneable(this);return}let n="MessageEvent constructor";en.argumentLengthCheck(arguments,1,n),t=en.converters.DOMString(t,n,"type"),r=en.converters.MessageEventInit(r,n,"eventInitDict"),super(t,r),this.#e=r,en.util.markAsUncloneable(this)}get data(){return en.brandCheck(this,e),this.#e.data}get origin(){return en.brandCheck(this,e),this.#e.origin}get lastEventId(){return en.brandCheck(this,e),this.#e.lastEventId}get source(){return en.brandCheck(this,e),this.#e.source}get ports(){return en.brandCheck(this,e),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(t,r=!1,n=!1,i=null,s="",a="",l=null,c=[]){return en.brandCheck(this,e),en.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new e(t,{bubbles:r,cancelable:n,data:i,origin:s,lastEventId:a,source:l,ports:c})}static createFastMessageEvent(t,r){let n=new e(TSe,t,r);return n.#e=r,n.#e.data??=null,n.#e.origin??="",n.#e.lastEventId??="",n.#e.source??=null,n.#e.ports??=[],n}},{createFastMessageEvent:w3t}=o6;delete o6.createFastMessageEvent;var VU=class e extends Event{static{o(this,"CloseEvent")}#e;constructor(t,r={}){let n="CloseEvent constructor";en.argumentLengthCheck(arguments,1,n),t=en.converters.DOMString(t,n,"type"),r=en.converters.CloseEventInit(r),super(t,r),this.#e=r,en.util.markAsUncloneable(this)}get wasClean(){return en.brandCheck(this,e),this.#e.wasClean}get code(){return en.brandCheck(this,e),this.#e.code}get reason(){return en.brandCheck(this,e),this.#e.reason}},$U=class e extends Event{static{o(this,"ErrorEvent")}#e;constructor(t,r){let n="ErrorEvent constructor";en.argumentLengthCheck(arguments,1,n),super(t,r),en.util.markAsUncloneable(this),t=en.converters.DOMString(t,n,"type"),r=en.converters.ErrorEventInit(r??{}),this.#e=r}get message(){return en.brandCheck(this,e),this.#e.message}get filename(){return en.brandCheck(this,e),this.#e.filename}get lineno(){return en.brandCheck(this,e),this.#e.lineno}get colno(){return en.brandCheck(this,e),this.#e.colno}get error(){return en.brandCheck(this,e),this.#e.error}};Object.defineProperties(o6.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:fu,origin:fu,lastEventId:fu,source:fu,ports:fu,initMessageEvent:fu});Object.defineProperties(VU.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:fu,code:fu,wasClean:fu});Object.defineProperties($U.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:fu,filename:fu,lineno:fu,colno:fu,error:fu});en.converters.MessagePort=en.interfaceConverter(T3t);en.converters["sequence<MessagePort>"]=en.sequenceConverter(en.converters.MessagePort);var Coe=[{key:"bubbles",converter:en.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"cancelable",converter:en.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"composed",converter:en.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}];en.converters.MessageEventInit=en.dictionaryConverter([...Coe,{key:"data",converter:en.converters.any,defaultValue:o(()=>null,"defaultValue")},{key:"origin",converter:en.converters.USVString,defaultValue:o(()=>"","defaultValue")},{key:"lastEventId",converter:en.converters.DOMString,defaultValue:o(()=>"","defaultValue")},{key:"source",converter:en.nullableConverter(en.converters.MessagePort),defaultValue:o(()=>null,"defaultValue")},{key:"ports",converter:en.converters["sequence<MessagePort>"],defaultValue:o(()=>new Array(0),"defaultValue")}]);en.converters.CloseEventInit=en.dictionaryConverter([...Coe,{key:"wasClean",converter:en.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"code",converter:en.converters["unsigned short"],defaultValue:o(()=>0,"defaultValue")},{key:"reason",converter:en.converters.USVString,defaultValue:o(()=>"","defaultValue")}]);en.converters.ErrorEventInit=en.dictionaryConverter([...Coe,{key:"message",converter:en.converters.DOMString,defaultValue:o(()=>"","defaultValue")},{key:"filename",converter:en.converters.USVString,defaultValue:o(()=>"","defaultValue")},{key:"lineno",converter:en.converters["unsigned long"],defaultValue:o(()=>0,"defaultValue")},{key:"colno",converter:en.converters["unsigned long"],defaultValue:o(()=>0,"defaultValue")},{key:"error",converter:en.converters.any}]);wSe.exports={MessageEvent:o6,CloseEvent:VU,ErrorEvent:$U,createFastMessageEvent:w3t}});var Rx=H((KGr,_Se)=>{"use strict";d();var _3t="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",S3t={enumerable:!0,writable:!1,configurable:!1},k3t={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},R3t={NOT_SENT:0,PROCESSING:1,SENT:2},B3t={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},D3t=2**16-1,P3t={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},F3t=Buffer.allocUnsafe(0),N3t={string:1,typedArray:2,arrayBuffer:3,blob:4};_Se.exports={uid:_3t,sentCloseFrameState:R3t,staticPropertyDescriptors:S3t,states:k3t,opcodes:B3t,maxUnsigned16Bit:D3t,parserStates:P3t,emptyBuffer:F3t,sendHints:N3t}});var ES=H((ZGr,SSe)=>{"use strict";d();SSe.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var wS=H((eHr,QSe)=>{"use strict";d();var{kReadyState:IS,kController:L3t,kResponse:Q3t,kBinaryType:M3t,kWebSocketURL:O3t}=ES(),{states:TS,opcodes:G5}=Rx(),{ErrorEvent:U3t,createFastMessageEvent:q3t}=s6(),{isUtf8:W3t}=require("node:buffer"),{collectASequenceOfCodePointsFast:G3t,removeHTTPWhitespace:kSe}=au();function H3t(e){return e[IS]===TS.CONNECTING}o(H3t,"isConnecting");function j3t(e){return e[IS]===TS.OPEN}o(j3t,"isEstablished");function V3t(e){return e[IS]===TS.CLOSING}o(V3t,"isClosing");function $3t(e){return e[IS]===TS.CLOSED}o($3t,"isClosed");function xoe(e,t,r=(i,s)=>new Event(i,s),n={}){let i=r(e,n);t.dispatchEvent(i)}o(xoe,"fireEvent");function z3t(e,t,r){if(e[IS]!==TS.OPEN)return;let n;if(t===G5.TEXT)try{n=LSe(r)}catch{BSe(e,"Received invalid UTF-8 in text frame.");return}else t===G5.BINARY&&(e[M3t]==="blob"?n=new Blob([r]):n=Y3t(r));xoe("message",e,q3t,{origin:e[O3t].origin,data:n})}o(z3t,"websocketMessageReceived");function Y3t(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}o(Y3t,"toArrayBuffer");function K3t(e){if(e.length===0)return!1;for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||r===34||r===40||r===41||r===44||r===47||r===58||r===59||r===60||r===61||r===62||r===63||r===64||r===91||r===92||r===93||r===123||r===125)return!1}return!0}o(K3t,"isValidSubprotocol");function J3t(e){return e>=1e3&&e<1015?e!==1004&&e!==1005&&e!==1006:e>=3e3&&e<=4999}o(J3t,"isValidStatusCode");function BSe(e,t){let{[L3t]:r,[Q3t]:n}=e;r.abort(),n?.socket&&!n.socket.destroyed&&n.socket.destroy(),t&&xoe("error",e,(i,s)=>new U3t(i,s),{error:new Error(t),message:t})}o(BSe,"failWebsocketConnection");function DSe(e){return e===G5.CLOSE||e===G5.PING||e===G5.PONG}o(DSe,"isControlFrame");function PSe(e){return e===G5.CONTINUATION}o(PSe,"isContinuationFrame");function FSe(e){return e===G5.TEXT||e===G5.BINARY}o(FSe,"isTextBinaryFrame");function Z3t(e){return FSe(e)||PSe(e)||DSe(e)}o(Z3t,"isValidOpcode");function X3t(e){let t={position:0},r=new Map;for(;t.position<e.length;){let n=G3t(";",e,t),[i,s=""]=n.split("=");r.set(kSe(i,!0,!1),kSe(s,!1,!0)),t.position++}return r}o(X3t,"parseExtensions");function e4t(e){for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r<48||r>57)return!1}return!0}o(e4t,"isValidClientWindowBits");var NSe=typeof process.versions.icu=="string",RSe=NSe?new TextDecoder("utf-8",{fatal:!0}):void 0,LSe=NSe?RSe.decode.bind(RSe):function(e){if(W3t(e))return e.toString("utf-8");throw new TypeError("Invalid utf-8 received.")};QSe.exports={isConnecting:H3t,isEstablished:j3t,isClosing:V3t,isClosed:$3t,fireEvent:xoe,isValidSubprotocol:K3t,isValidStatusCode:J3t,failWebsocketConnection:BSe,websocketMessageReceived:z3t,utf8Decode:LSe,isControlFrame:DSe,isContinuationFrame:PSe,isTextBinaryFrame:FSe,isValidOpcode:Z3t,parseExtensions:X3t,isValidClientWindowBits:e4t}});var YU=H((nHr,MSe)=>{"use strict";d();var{maxUnsigned16Bit:t4t}=Rx(),zU=16386,voe,_S=null,a6=zU;try{voe=require("node:crypto")}catch{voe={randomFillSync:o(function(t,r,n){for(let i=0;i<t.length;++i)t[i]=Math.random()*255|0;return t},"randomFillSync")}}function r4t(){return a6===zU&&(a6=0,voe.randomFillSync(_S??=Buffer.allocUnsafe(zU),0,zU)),[_S[a6++],_S[a6++],_S[a6++],_S[a6++]]}o(r4t,"generateMask");var boe=class{static{o(this,"WebsocketFrameSend")}constructor(t){this.frameData=t}createFrame(t){let r=this.frameData,n=r4t(),i=r?.byteLength??0,s=i,a=6;i>t4t?(a+=8,s=127):i>125&&(a+=2,s=126);let l=Buffer.allocUnsafe(i+a);l[0]=l[1]=0,l[0]|=128,l[0]=(l[0]&240)+t;l[a-4]=n[0],l[a-3]=n[1],l[a-2]=n[2],l[a-1]=n[3],l[1]=s,s===126?l.writeUInt16BE(i,2):s===127&&(l[2]=l[3]=0,l.writeUIntBE(i,4,6)),l[1]|=128;for(let c=0;c<i;++c)l[a+c]=r[c]^n[c&3];return l}};MSe.exports={WebsocketFrameSend:boe}});var Ioe=H((sHr,jSe)=>{"use strict";d();var{uid:n4t,states:SS,sentCloseFrameState:KU,emptyBuffer:i4t,opcodes:o4t}=Rx(),{kReadyState:kS,kSentClose:JU,kByteParser:USe,kReceivedClose:OSe,kResponse:qSe}=ES(),{fireEvent:s4t,failWebsocketConnection:H5,isClosing:a4t,isClosed:l4t,isEstablished:c4t,parseExtensions:u4t}=wS(),{channels:l6}=v8(),{CloseEvent:f4t}=s6(),{makeRequest:d4t}=e6(),{fetching:m4t}=CS(),{Headers:h4t,getHeadersList:p4t}=Ix(),{getDecodeSplit:g4t}=mf(),{WebsocketFrameSend:A4t}=YU(),Eoe;try{Eoe=require("node:crypto")}catch{}function y4t(e,t,r,n,i,s){let a=e;a.protocol=e.protocol==="ws:"?"http:":"https:";let l=d4t({urlList:[a],client:r,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(s.headers){let m=p4t(new h4t(s.headers));l.headersList=m}let c=Eoe.randomBytes(16).toString("base64");l.headersList.append("sec-websocket-key",c),l.headersList.append("sec-websocket-version","13");for(let m of t)l.headersList.append("sec-websocket-protocol",m);return l.headersList.append("sec-websocket-extensions","permessage-deflate; client_max_window_bits"),m4t({request:l,useParallelQueue:!0,dispatcher:s.dispatcher,processResponse(m){if(m.type==="error"||m.status!==101){H5(n,"Received network error or non-101 status code.");return}if(t.length!==0&&!m.headersList.get("Sec-WebSocket-Protocol")){H5(n,"Server did not respond with sent protocols.");return}if(m.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){H5(n,'Server did not set Upgrade header to "websocket".');return}if(m.headersList.get("Connection")?.toLowerCase()!=="upgrade"){H5(n,'Server did not set Connection header to "upgrade".');return}let h=m.headersList.get("Sec-WebSocket-Accept"),p=Eoe.createHash("sha1").update(c+n4t).digest("base64");if(h!==p){H5(n,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let A=m.headersList.get("Sec-WebSocket-Extensions"),x;if(A!==null&&(x=u4t(A),!x.has("permessage-deflate"))){H5(n,"Sec-WebSocket-Extensions header does not match.");return}let v=m.headersList.get("Sec-WebSocket-Protocol");if(v!==null&&!g4t("sec-websocket-protocol",l.headersList).includes(v)){H5(n,"Protocol was not set in the opening handshake.");return}m.socket.on("data",WSe),m.socket.on("close",GSe),m.socket.on("error",HSe),l6.open.hasSubscribers&&l6.open.publish({address:m.socket.address(),protocol:v,extensions:A}),i(m,x)}})}o(y4t,"establishWebSocketConnection");function C4t(e,t,r,n){if(!(a4t(e)||l4t(e)))if(!c4t(e))H5(e,"Connection was closed before it was established."),e[kS]=SS.CLOSING;else if(e[JU]===KU.NOT_SENT){e[JU]=KU.PROCESSING;let i=new A4t;t!==void 0&&r===void 0?(i.frameData=Buffer.allocUnsafe(2),i.frameData.writeUInt16BE(t,0)):t!==void 0&&r!==void 0?(i.frameData=Buffer.allocUnsafe(2+n),i.frameData.writeUInt16BE(t,0),i.frameData.write(r,2,"utf-8")):i.frameData=i4t,e[qSe].socket.write(i.createFrame(o4t.CLOSE)),e[JU]=KU.SENT,e[kS]=SS.CLOSING}else e[kS]=SS.CLOSING}o(C4t,"closeWebSocketConnection");function WSe(e){this.ws[USe].write(e)||this.pause()}o(WSe,"onSocketData");function GSe(){let{ws:e}=this,{[qSe]:t}=e;t.socket.off("data",WSe),t.socket.off("close",GSe),t.socket.off("error",HSe);let r=e[JU]===KU.SENT&&e[OSe],n=1005,i="",s=e[USe].closingInfo;s&&!s.error?(n=s.code??1005,i=s.reason):e[OSe]||(n=1006),e[kS]=SS.CLOSED,s4t("close",e,(a,l)=>new f4t(a,l),{wasClean:r,code:n,reason:i}),l6.close.hasSubscribers&&l6.close.publish({websocket:e,code:n,reason:i})}o(GSe,"onSocketClose");function HSe(e){let{ws:t}=this;t[kS]=SS.CLOSING,l6.socketError.hasSubscribers&&l6.socketError.publish(e),this.destroy()}o(HSe,"onSocketError");jSe.exports={establishWebSocketConnection:y4t,closeWebSocketConnection:C4t}});var $Se=H((cHr,VSe)=>{"use strict";d();var{createInflateRaw:x4t,Z_DEFAULT_WINDOWBITS:v4t}=require("node:zlib"),{isValidClientWindowBits:b4t}=wS(),E4t=Buffer.from([0,0,255,255]),ZU=Symbol("kBuffer"),XU=Symbol("kLength"),Toe=class{static{o(this,"PerMessageDeflate")}#e;#t={};constructor(t){this.#t.serverNoContextTakeover=t.has("server_no_context_takeover"),this.#t.serverMaxWindowBits=t.get("server_max_window_bits")}decompress(t,r,n){if(!this.#e){let i=v4t;if(this.#t.serverMaxWindowBits){if(!b4t(this.#t.serverMaxWindowBits)){n(new Error("Invalid server_max_window_bits"));return}i=Number.parseInt(this.#t.serverMaxWindowBits)}this.#e=x4t({windowBits:i}),this.#e[ZU]=[],this.#e[XU]=0,this.#e.on("data",s=>{this.#e[ZU].push(s),this.#e[XU]+=s.length}),this.#e.on("error",s=>{this.#e=null,n(s)})}this.#e.write(t),r&&this.#e.write(E4t),this.#e.flush(()=>{let i=Buffer.concat(this.#e[ZU],this.#e[XU]);this.#e[ZU].length=0,this.#e[XU]=0,n(null,i)})}};VSe.exports={PerMessageDeflate:Toe}});var ike=H((dHr,nke)=>{"use strict";d();var{Writable:I4t}=require("node:stream"),T4t=require("node:assert"),{parserStates:du,opcodes:c6,states:w4t,emptyBuffer:zSe,sentCloseFrameState:YSe}=Rx(),{kReadyState:_4t,kSentClose:KSe,kResponse:JSe,kReceivedClose:ZSe}=ES(),{channels:eq}=v8(),{isValidStatusCode:S4t,isValidOpcode:k4t,failWebsocketConnection:Ud,websocketMessageReceived:XSe,utf8Decode:R4t,isControlFrame:eke,isTextBinaryFrame:woe,isContinuationFrame:B4t}=wS(),{WebsocketFrameSend:tke}=YU(),{closeWebSocketConnection:rke}=Ioe(),{PerMessageDeflate:D4t}=$Se(),_oe=class extends I4t{static{o(this,"ByteParser")}#e=[];#t=0;#i=!1;#n=du.INFO;#r={};#o=[];#s;constructor(t,r){super(),this.ws=t,this.#s=r??new Map,this.#s.has("permessage-deflate")&&this.#s.set("permessage-deflate",new D4t(r))}_write(t,r,n){this.#e.push(t),this.#t+=t.length,this.#i=!0,this.run(n)}run(t){for(;this.#i;)if(this.#n===du.INFO){if(this.#t<2)return t();let r=this.consume(2),n=(r[0]&128)!==0,i=r[0]&15,s=(r[1]&128)===128,a=!n&&i!==c6.CONTINUATION,l=r[1]&127,c=r[0]&64,u=r[0]&32,f=r[0]&16;if(!k4t(i))return Ud(this.ws,"Invalid opcode received"),t();if(s)return Ud(this.ws,"Frame cannot be masked"),t();if(c!==0&&!this.#s.has("permessage-deflate")){Ud(this.ws,"Expected RSV1 to be clear.");return}if(u!==0||f!==0){Ud(this.ws,"RSV1, RSV2, RSV3 must be clear");return}if(a&&!woe(i)){Ud(this.ws,"Invalid frame type was fragmented.");return}if(woe(i)&&this.#o.length>0){Ud(this.ws,"Expected continuation frame");return}if(this.#r.fragmented&&a){Ud(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((l>125||a)&&eke(i)){Ud(this.ws,"Control frame either too large or fragmented");return}if(B4t(i)&&this.#o.length===0&&!this.#r.compressed){Ud(this.ws,"Unexpected continuation frame");return}l<=125?(this.#r.payloadLength=l,this.#n=du.READ_DATA):l===126?this.#n=du.PAYLOADLENGTH_16:l===127&&(this.#n=du.PAYLOADLENGTH_64),woe(i)&&(this.#r.binaryType=i,this.#r.compressed=c!==0),this.#r.opcode=i,this.#r.masked=s,this.#r.fin=n,this.#r.fragmented=a}else if(this.#n===du.PAYLOADLENGTH_16){if(this.#t<2)return t();let r=this.consume(2);this.#r.payloadLength=r.readUInt16BE(0),this.#n=du.READ_DATA}else if(this.#n===du.PAYLOADLENGTH_64){if(this.#t<8)return t();let r=this.consume(8),n=r.readUInt32BE(0);if(n>2**31-1){Ud(this.ws,"Received payload length > 2^31 bytes.");return}let i=r.readUInt32BE(4);this.#r.payloadLength=(n<<8)+i,this.#n=du.READ_DATA}else if(this.#n===du.READ_DATA){if(this.#t<this.#r.payloadLength)return t();let r=this.consume(this.#r.payloadLength);if(eke(this.#r.opcode))this.#i=this.parseControlFrame(r),this.#n=du.INFO;else if(this.#r.compressed){this.#s.get("permessage-deflate").decompress(r,this.#r.fin,(n,i)=>{if(n){rke(this.ws,1007,n.message,n.message.length);return}if(this.#o.push(i),!this.#r.fin){this.#n=du.INFO,this.#i=!0,this.run(t);return}XSe(this.ws,this.#r.binaryType,Buffer.concat(this.#o)),this.#i=!0,this.#n=du.INFO,this.#o.length=0,this.run(t)}),this.#i=!1;break}else{if(this.#o.push(r),!this.#r.fragmented&&this.#r.fin){let n=Buffer.concat(this.#o);XSe(this.ws,this.#r.binaryType,n),this.#o.length=0}this.#n=du.INFO}}}consume(t){if(t>this.#t)throw new Error("Called consume() before buffers satiated.");if(t===0)return zSe;if(this.#e[0].length===t)return this.#t-=this.#e[0].length,this.#e.shift();let r=Buffer.allocUnsafe(t),n=0;for(;n!==t;){let i=this.#e[0],{length:s}=i;if(s+n===t){r.set(this.#e.shift(),n);break}else if(s+n>t){r.set(i.subarray(0,t-n),n),this.#e[0]=i.subarray(t-n);break}else r.set(this.#e.shift(),n),n+=i.length}return this.#t-=t,r}parseCloseBody(t){T4t(t.length!==1);let r;if(t.length>=2&&(r=t.readUInt16BE(0)),r!==void 0&&!S4t(r))return{code:1002,reason:"Invalid status code",error:!0};let n=t.subarray(2);n[0]===239&&n[1]===187&&n[2]===191&&(n=n.subarray(3));try{n=R4t(n)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:r,reason:n,error:!1}}parseControlFrame(t){let{opcode:r,payloadLength:n}=this.#r;if(r===c6.CLOSE){if(n===1)return Ud(this.ws,"Received close frame with a 1-byte body."),!1;if(this.#r.closeInfo=this.parseCloseBody(t),this.#r.closeInfo.error){let{code:i,reason:s}=this.#r.closeInfo;return rke(this.ws,i,s,s.length),Ud(this.ws,s),!1}if(this.ws[KSe]!==YSe.SENT){let i=zSe;this.#r.closeInfo.code&&(i=Buffer.allocUnsafe(2),i.writeUInt16BE(this.#r.closeInfo.code,0));let s=new tke(i);this.ws[JSe].socket.write(s.createFrame(c6.CLOSE),a=>{a||(this.ws[KSe]=YSe.SENT)})}return this.ws[_4t]=w4t.CLOSING,this.ws[ZSe]=!0,!1}else if(r===c6.PING){if(!this.ws[ZSe]){let i=new tke(t);this.ws[JSe].socket.write(i.createFrame(c6.PONG)),eq.ping.hasSubscribers&&eq.ping.publish({payload:t})}}else r===c6.PONG&&eq.pong.hasSubscribers&&eq.pong.publish({payload:t});return!0}get closingInfo(){return this.#r.closeInfo}};nke.exports={ByteParser:_oe}});var cke=H((pHr,lke)=>{"use strict";d();var{WebsocketFrameSend:P4t}=YU(),{opcodes:oke,sendHints:u6}=Rx(),F4t=One(),ske=Buffer[Symbol.species],Soe=class{static{o(this,"SendQueue")}#e=new F4t;#t=!1;#i;constructor(t){this.#i=t}add(t,r,n){if(n!==u6.blob){let s=ake(t,n);if(!this.#t)this.#i.write(s,r);else{let a={promise:null,callback:r,frame:s};this.#e.push(a)}return}let i={promise:t.arrayBuffer().then(s=>{i.promise=null,i.frame=ake(s,n)}),callback:r,frame:null};this.#e.push(i),this.#t||this.#n()}async#n(){this.#t=!0;let t=this.#e;for(;!t.isEmpty();){let r=t.shift();r.promise!==null&&await r.promise,this.#i.write(r.frame,r.callback),r.callback=r.frame=null}this.#t=!1}};function ake(e,t){return new P4t(N4t(e,t)).createFrame(t===u6.string?oke.TEXT:oke.BINARY)}o(ake,"createFrame");function N4t(e,t){switch(t){case u6.string:return Buffer.from(e);case u6.arrayBuffer:case u6.blob:return new ske(e);case u6.typedArray:return new ske(e.buffer,e.byteOffset,e.byteLength)}}o(N4t,"toBuffer");lke.exports={SendQueue:Soe}});var yke=H((yHr,Ake)=>{"use strict";d();var{webidl:Qn}=ic(),{URLSerializer:L4t}=au(),{environmentSettingsObject:uke}=mf(),{staticPropertyDescriptors:j5,states:RS,sentCloseFrameState:Q4t,sendHints:tq}=Rx(),{kWebSocketURL:fke,kReadyState:koe,kController:M4t,kBinaryType:rq,kResponse:dke,kSentClose:O4t,kByteParser:U4t}=ES(),{isConnecting:q4t,isEstablished:W4t,isClosing:G4t,isValidSubprotocol:H4t,fireEvent:mke}=wS(),{establishWebSocketConnection:j4t,closeWebSocketConnection:hke}=Ioe(),{ByteParser:V4t}=ike(),{kEnumerableProperty:qd,isBlobLike:pke}=Ci(),{getGlobalDispatcher:$4t}=gU(),{types:gke}=require("node:util"),{ErrorEvent:z4t,CloseEvent:Y4t}=s6(),{SendQueue:K4t}=cke(),xf=class e extends EventTarget{static{o(this,"WebSocket")}#e={open:null,error:null,close:null,message:null};#t=0;#i="";#n="";#r;constructor(t,r=[]){super(),Qn.util.markAsUncloneable(this);let n="WebSocket constructor";Qn.argumentLengthCheck(arguments,1,n);let i=Qn.converters["DOMString or sequence<DOMString> or WebSocketInit"](r,n,"options");t=Qn.converters.USVString(t,n,"url"),r=i.protocols;let s=uke.settingsObject.baseUrl,a;try{a=new URL(t,s)}catch(c){throw new DOMException(c,"SyntaxError")}if(a.protocol==="http:"?a.protocol="ws:":a.protocol==="https:"&&(a.protocol="wss:"),a.protocol!=="ws:"&&a.protocol!=="wss:")throw new DOMException(`Expected a ws: or wss: protocol, got ${a.protocol}`,"SyntaxError");if(a.hash||a.href.endsWith("#"))throw new DOMException("Got fragment","SyntaxError");if(typeof r=="string"&&(r=[r]),r.length!==new Set(r.map(c=>c.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(r.length>0&&!r.every(c=>H4t(c)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[fke]=new URL(a.href);let l=uke.settingsObject;this[M4t]=j4t(a,r,l,this,(c,u)=>this.#o(c,u),i),this[koe]=e.CONNECTING,this[O4t]=Q4t.NOT_SENT,this[rq]="blob"}close(t=void 0,r=void 0){Qn.brandCheck(this,e);let n="WebSocket.close";if(t!==void 0&&(t=Qn.converters["unsigned short"](t,n,"code",{clamp:!0})),r!==void 0&&(r=Qn.converters.USVString(r,n,"reason")),t!==void 0&&t!==1e3&&(t<3e3||t>4999))throw new DOMException("invalid code","InvalidAccessError");let i=0;if(r!==void 0&&(i=Buffer.byteLength(r),i>123))throw new DOMException(`Reason must be less than 123 bytes; received ${i}`,"SyntaxError");hke(this,t,r,i)}send(t){Qn.brandCheck(this,e);let r="WebSocket.send";if(Qn.argumentLengthCheck(arguments,1,r),t=Qn.converters.WebSocketSendData(t,r,"data"),q4t(this))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!W4t(this)||G4t(this)))if(typeof t=="string"){let n=Buffer.byteLength(t);this.#t+=n,this.#r.add(t,()=>{this.#t-=n},tq.string)}else gke.isArrayBuffer(t)?(this.#t+=t.byteLength,this.#r.add(t,()=>{this.#t-=t.byteLength},tq.arrayBuffer)):ArrayBuffer.isView(t)?(this.#t+=t.byteLength,this.#r.add(t,()=>{this.#t-=t.byteLength},tq.typedArray)):pke(t)&&(this.#t+=t.size,this.#r.add(t,()=>{this.#t-=t.size},tq.blob))}get readyState(){return Qn.brandCheck(this,e),this[koe]}get bufferedAmount(){return Qn.brandCheck(this,e),this.#t}get url(){return Qn.brandCheck(this,e),L4t(this[fke])}get extensions(){return Qn.brandCheck(this,e),this.#n}get protocol(){return Qn.brandCheck(this,e),this.#i}get onopen(){return Qn.brandCheck(this,e),this.#e.open}set onopen(t){Qn.brandCheck(this,e),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof t=="function"?(this.#e.open=t,this.addEventListener("open",t)):this.#e.open=null}get onerror(){return Qn.brandCheck(this,e),this.#e.error}set onerror(t){Qn.brandCheck(this,e),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof t=="function"?(this.#e.error=t,this.addEventListener("error",t)):this.#e.error=null}get onclose(){return Qn.brandCheck(this,e),this.#e.close}set onclose(t){Qn.brandCheck(this,e),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof t=="function"?(this.#e.close=t,this.addEventListener("close",t)):this.#e.close=null}get onmessage(){return Qn.brandCheck(this,e),this.#e.message}set onmessage(t){Qn.brandCheck(this,e),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof t=="function"?(this.#e.message=t,this.addEventListener("message",t)):this.#e.message=null}get binaryType(){return Qn.brandCheck(this,e),this[rq]}set binaryType(t){Qn.brandCheck(this,e),t!=="blob"&&t!=="arraybuffer"?this[rq]="blob":this[rq]=t}#o(t,r){this[dke]=t;let n=new V4t(this,r);n.on("drain",J4t),n.on("error",Z4t.bind(this)),t.socket.ws=this,this[U4t]=n,this.#r=new K4t(t.socket),this[koe]=RS.OPEN;let i=t.headersList.get("sec-websocket-extensions");i!==null&&(this.#n=i);let s=t.headersList.get("sec-websocket-protocol");s!==null&&(this.#i=s),mke("open",this)}};xf.CONNECTING=xf.prototype.CONNECTING=RS.CONNECTING;xf.OPEN=xf.prototype.OPEN=RS.OPEN;xf.CLOSING=xf.prototype.CLOSING=RS.CLOSING;xf.CLOSED=xf.prototype.CLOSED=RS.CLOSED;Object.defineProperties(xf.prototype,{CONNECTING:j5,OPEN:j5,CLOSING:j5,CLOSED:j5,url:qd,readyState:qd,bufferedAmount:qd,onopen:qd,onerror:qd,onclose:qd,close:qd,onmessage:qd,binaryType:qd,send:qd,extensions:qd,protocol:qd,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(xf,{CONNECTING:j5,OPEN:j5,CLOSING:j5,CLOSED:j5});Qn.converters["sequence<DOMString>"]=Qn.sequenceConverter(Qn.converters.DOMString);Qn.converters["DOMString or sequence<DOMString>"]=function(e,t,r){return Qn.util.Type(e)==="Object"&&Symbol.iterator in e?Qn.converters["sequence<DOMString>"](e):Qn.converters.DOMString(e,t,r)};Qn.converters.WebSocketInit=Qn.dictionaryConverter([{key:"protocols",converter:Qn.converters["DOMString or sequence<DOMString>"],defaultValue:o(()=>new Array(0),"defaultValue")},{key:"dispatcher",converter:Qn.converters.any,defaultValue:o(()=>$4t(),"defaultValue")},{key:"headers",converter:Qn.nullableConverter(Qn.converters.HeadersInit)}]);Qn.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(e){return Qn.util.Type(e)==="Object"&&!(Symbol.iterator in e)?Qn.converters.WebSocketInit(e):{protocols:Qn.converters["DOMString or sequence<DOMString>"](e)}};Qn.converters.WebSocketSendData=function(e){if(Qn.util.Type(e)==="Object"){if(pke(e))return Qn.converters.Blob(e,{strict:!1});if(ArrayBuffer.isView(e)||gke.isArrayBuffer(e))return Qn.converters.BufferSource(e)}return Qn.converters.USVString(e)};function J4t(){this.ws[dke].socket.resume()}o(J4t,"onParserDrain");function Z4t(e){let t,r;e instanceof Y4t?(t=e.reason,r=e.code):t=e.message,mke("error",this,()=>new z4t("error",{error:e,message:t})),hke(this,r)}o(Z4t,"onParserError");Ake.exports={WebSocket:xf}});var Roe=H((vHr,Cke)=>{"use strict";d();function X4t(e){return e.indexOf("\0")===-1}o(X4t,"isValidLastEventId");function ext(e){if(e.length===0)return!1;for(let t=0;t<e.length;t++)if(e.charCodeAt(t)<48||e.charCodeAt(t)>57)return!1;return!0}o(ext,"isASCIINumber");function txt(e){return new Promise(t=>{setTimeout(t,e).unref()})}o(txt,"delay");Cke.exports={isValidLastEventId:X4t,isASCIINumber:ext,delay:txt}});var Eke=H((IHr,bke)=>{"use strict";d();var{Transform:rxt}=require("node:stream"),{isASCIINumber:xke,isValidLastEventId:vke}=Roe(),CA=[239,187,191],Boe=10,nq=13,nxt=58,ixt=32,Doe=class extends rxt{static{o(this,"EventSourceStream")}state=null;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(t={}){t.readableObjectMode=!0,super(t),this.state=t.eventSourceSettings||{},t.push&&(this.push=t.push)}_transform(t,r,n){if(t.length===0){n();return}if(this.buffer?this.buffer=Buffer.concat([this.buffer,t]):this.buffer=t,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===CA[0]){n();return}this.checkBOM=!1,n();return;case 2:if(this.buffer[0]===CA[0]&&this.buffer[1]===CA[1]){n();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===CA[0]&&this.buffer[1]===CA[1]&&this.buffer[2]===CA[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,n();return}this.checkBOM=!1;break;default:this.buffer[0]===CA[0]&&this.buffer[1]===CA[1]&&this.buffer[2]===CA[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1;break}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===Boe){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===Boe||this.buffer[this.pos]===nq){this.buffer[this.pos]===nq&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(this.event.data!==void 0||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===Boe||this.buffer[this.pos]===nq){this.buffer[this.pos]===nq&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}n()}parseLine(t,r){if(t.length===0)return;let n=t.indexOf(nxt);if(n===0)return;let i="",s="";if(n!==-1){i=t.subarray(0,n).toString("utf8");let a=n+1;t[a]===ixt&&++a,s=t.subarray(a).toString("utf8")}else i=t.toString("utf8"),s="";switch(i){case"data":r[i]===void 0?r[i]=s:r[i]+=`
${s}`;break;case"retry":xke(s)&&(r[i]=s);break;case"id":vke(s)&&(r[i]=s);break;case"event":s.length>0&&(r[i]=s);break}}processEvent(t){t.retry&&xke(t.retry)&&(this.state.reconnectionTime=parseInt(t.retry,10)),t.id&&vke(t.id)&&(this.state.lastEventId=t.id),t.data!==void 0&&this.push({type:t.event||"message",options:{data:t.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}};bke.exports={EventSourceStream:Doe}});var Bke=H((_Hr,Rke)=>{"use strict";d();var{pipeline:oxt}=require("node:stream"),{fetching:sxt}=CS(),{makeRequest:axt}=e6(),{webidl:xA}=ic(),{EventSourceStream:lxt}=Eke(),{parseMIMEType:cxt}=au(),{createFastMessageEvent:uxt}=s6(),{isNetworkError:Ike}=AS(),{delay:fxt}=Roe(),{kEnumerableProperty:Bx}=Ci(),{environmentSettingsObject:Tke}=mf(),wke=!1,_ke=3e3,BS=0,Ske=1,DS=2,dxt="anonymous",mxt="use-credentials",f6=class e extends EventTarget{static{o(this,"EventSource")}#e={open:null,error:null,message:null};#t=null;#i=!1;#n=BS;#r=null;#o=null;#s;#a;constructor(t,r={}){super(),xA.util.markAsUncloneable(this);let n="EventSource constructor";xA.argumentLengthCheck(arguments,1,n),wke||(wke=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),t=xA.converters.USVString(t,n,"url"),r=xA.converters.EventSourceInitDict(r,n,"eventSourceInitDict"),this.#s=r.dispatcher,this.#a={lastEventId:"",reconnectionTime:_ke};let i=Tke,s;try{s=new URL(t,i.settingsObject.baseUrl),this.#a.origin=s.origin}catch(c){throw new DOMException(c,"SyntaxError")}this.#t=s.href;let a=dxt;r.withCredentials&&(a=mxt,this.#i=!0);let l={redirect:"follow",keepalive:!0,mode:"cors",credentials:a==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};l.client=Tke.settingsObject,l.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],l.cache="no-store",l.initiator="other",l.urlList=[new URL(this.#t)],this.#r=axt(l),this.#l()}get readyState(){return this.#n}get url(){return this.#t}get withCredentials(){return this.#i}#l(){if(this.#n===DS)return;this.#n=BS;let t={request:this.#r,dispatcher:this.#s},r=o(n=>{Ike(n)&&(this.dispatchEvent(new Event("error")),this.close()),this.#c()},"processEventSourceEndOfBody");t.processResponseEndOfBody=r,t.processResponse=n=>{if(Ike(n))if(n.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#c();return}let i=n.headersList.get("content-type",!0),s=i!==null?cxt(i):"failure",a=s!=="failure"&&s.essence==="text/event-stream";if(n.status!==200||a===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#n=Ske,this.dispatchEvent(new Event("open")),this.#a.origin=n.urlList[n.urlList.length-1].origin;let l=new lxt({eventSourceSettings:this.#a,push:o(c=>{this.dispatchEvent(uxt(c.type,c.options))},"push")});oxt(n.body.stream,l,c=>{c?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#o=sxt(t)}async#c(){this.#n!==DS&&(this.#n=BS,this.dispatchEvent(new Event("error")),await fxt(this.#a.reconnectionTime),this.#n===BS&&(this.#a.lastEventId.length&&this.#r.headersList.set("last-event-id",this.#a.lastEventId,!0),this.#l()))}close(){xA.brandCheck(this,e),this.#n!==DS&&(this.#n=DS,this.#o.abort(),this.#r=null)}get onopen(){return this.#e.open}set onopen(t){this.#e.open&&this.removeEventListener("open",this.#e.open),typeof t=="function"?(this.#e.open=t,this.addEventListener("open",t)):this.#e.open=null}get onmessage(){return this.#e.message}set onmessage(t){this.#e.message&&this.removeEventListener("message",this.#e.message),typeof t=="function"?(this.#e.message=t,this.addEventListener("message",t)):this.#e.message=null}get onerror(){return this.#e.error}set onerror(t){this.#e.error&&this.removeEventListener("error",this.#e.error),typeof t=="function"?(this.#e.error=t,this.addEventListener("error",t)):this.#e.error=null}},kke={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:BS,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:Ske,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:DS,writable:!1}};Object.defineProperties(f6,kke);Object.defineProperties(f6.prototype,kke);Object.defineProperties(f6.prototype,{close:Bx,onerror:Bx,onmessage:Bx,onopen:Bx,readyState:Bx,url:Bx,withCredentials:Bx});xA.converters.EventSourceInitDict=xA.dictionaryConverter([{key:"withCredentials",converter:xA.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"dispatcher",converter:xA.converters.any}]);Rke.exports={EventSource:f6,defaultReconnectionTime:_ke}});var Nke=H((RHr,wn)=>{"use strict";d();var hxt=rS(),Dke=F_(),pxt=q8(),gxt=O7e(),Axt=W8(),yxt=nie(),Cxt=rTe(),xxt=lTe(),Pke=yo(),oq=Ci(),{InvalidArgumentError:iq}=Pke,d6=zTe(),vxt=L_(),bxt=Mie(),Ext=kwe(),Ixt=qie(),Txt=Tie(),wxt=sU(),{getGlobalDispatcher:Fke,setGlobalDispatcher:_xt}=gU(),Sxt=AU(),kxt=YO(),Rxt=KO();Object.assign(Dke.prototype,d6);wn.exports.Dispatcher=Dke;wn.exports.Client=hxt;wn.exports.Pool=pxt;wn.exports.BalancedPool=gxt;wn.exports.Agent=Axt;wn.exports.ProxyAgent=yxt;wn.exports.EnvHttpProxyAgent=Cxt;wn.exports.RetryAgent=xxt;wn.exports.RetryHandler=wxt;wn.exports.DecoratorHandler=Sxt;wn.exports.RedirectHandler=kxt;wn.exports.createRedirectInterceptor=Rxt;wn.exports.interceptors={redirect:Lwe(),retry:Mwe(),dump:Uwe(),dns:Gwe()};wn.exports.buildConnector=vxt;wn.exports.errors=Pke;wn.exports.util={parseHeaders:oq.parseHeaders,headerNameToString:oq.headerNameToString};function PS(e){return(t,r,n)=>{if(typeof r=="function"&&(n=r,r=null),!t||typeof t!="string"&&typeof t!="object"&&!(t instanceof URL))throw new iq("invalid url");if(r!=null&&typeof r!="object")throw new iq("invalid opts");if(r&&r.path!=null){if(typeof r.path!="string")throw new iq("invalid opts.path");let a=r.path;r.path.startsWith("/")||(a=`/${a}`),t=new URL(oq.parseOrigin(t).origin+a)}else r||(r=typeof t=="object"?t:{}),t=oq.parseURL(t);let{agent:i,dispatcher:s=Fke()}=r;if(i)throw new iq("unsupported opts.agent. Did you mean opts.client?");return e.call(s,{...r,origin:t.origin,path:t.search?`${t.pathname}${t.search}`:t.pathname,method:r.method||(r.body?"PUT":"GET")},n)}}o(PS,"makeDispatcher");wn.exports.setGlobalDispatcher=_xt;wn.exports.getGlobalDispatcher=Fke;var Bxt=CS().fetch;wn.exports.fetch=o(async function(t,r=void 0){try{return await Bxt(t,r)}catch(n){throw n&&typeof n=="object"&&Error.captureStackTrace(n),n}},"fetch");wn.exports.Headers=Ix().Headers;wn.exports.Response=AS().Response;wn.exports.Request=e6().Request;wn.exports.FormData=G_().FormData;wn.exports.File=globalThis.File??require("node:buffer").File;wn.exports.FileReader=nSe().FileReader;var{setGlobalOrigin:Dxt,getGlobalOrigin:Pxt}=ine();wn.exports.setGlobalOrigin=Dxt;wn.exports.getGlobalOrigin=Pxt;var{CacheStorage:Fxt}=dSe(),{kConstruct:Nxt}=MU();wn.exports.caches=new Fxt(Nxt);var{deleteCookie:Lxt,getCookies:Qxt,getSetCookies:Mxt,setCookie:Oxt}=ISe();wn.exports.deleteCookie=Lxt;wn.exports.getCookies=Qxt;wn.exports.getSetCookies=Mxt;wn.exports.setCookie=Oxt;var{parseMIMEType:Uxt,serializeAMimeType:qxt}=au();wn.exports.parseMIMEType=Uxt;wn.exports.serializeAMimeType=qxt;var{CloseEvent:Wxt,ErrorEvent:Gxt,MessageEvent:Hxt}=s6();wn.exports.WebSocket=yke().WebSocket;wn.exports.CloseEvent=Wxt;wn.exports.ErrorEvent=Gxt;wn.exports.MessageEvent=Hxt;wn.exports.request=PS(d6.request);wn.exports.stream=PS(d6.stream);wn.exports.pipeline=PS(d6.pipeline);wn.exports.connect=PS(d6.connect);wn.exports.upgrade=PS(d6.upgrade);wn.exports.MockClient=bxt;wn.exports.MockPool=Ixt;wn.exports.MockAgent=Ext;wn.exports.mockErrors=Txt;var{EventSource:jxt}=Bke();wn.exports.EventSource=jxt});var ci=H((PHr,Lke)=>{d();Lke.exports={options:{usePureJavaScript:!1}}});var Oke=H((NHr,Mke)=>{d();var Poe={};Mke.exports=Poe;var Qke={};Poe.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=Vxt(e,t);else{var i=0,s=t.length,a=t.charAt(0),l=[0];for(i=0;i<e.length;++i){for(var c=0,u=e[i];c<l.length;++c)u+=l[c]<<8,l[c]=u%s,u=u/s|0;for(;u>0;)l.push(u%s),u=u/s|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=a;for(i=l.length-1;i>=0;--i)n+=t[l[i]]}if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join(`\r
`)}return n};Poe.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=Qke[t];if(!r){r=Qke[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,s=t.charAt(0),a=[0],n=0;n<e.length;n++){var l=r[e.charCodeAt(n)];if(l===void 0)return;for(var c=0,u=l;c<a.length;++c)u+=a[c]*i,a[c]=u&255,u>>=8;for(;u>0;)a.push(u&255),u>>=8}for(var f=0;e[f]===s&&f<e.length-1;++f)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function Vxt(e,t){var r=0,n=t.length,i=t.charAt(0),s=[0];for(r=0;r<e.length();++r){for(var a=0,l=e.at(r);a<s.length;++a)l+=s[a]<<8,s[a]=l%n,l=l/n|0;for(;l>0;)s.push(l%n),l=l/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=i;for(r=s.length-1;r>=0;--r)c+=t[s[r]];return c}o(Vxt,"_encodeWithByteBuffer")});var so=H((MHr,Gke)=>{d();var Uke=ci(),qke=Oke(),Ne=Gke.exports=Uke.util=Uke.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){Ne.nextTick=process.nextTick,typeof setImmediate=="function"?Ne.setImmediate=setImmediate:Ne.setImmediate=Ne.nextTick;return}if(typeof setImmediate=="function"){Ne.setImmediate=function(){return setImmediate.apply(void 0,arguments)},Ne.nextTick=function(l){return setImmediate(l)};return}if(Ne.setImmediate=function(l){setTimeout(l,0)},typeof window<"u"&&typeof window.postMessage=="function"){let l=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(f){f()})}};var a=l;o(l,"handler");var e="forge.setImmediate",t=[];Ne.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",l,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(u){u()})}).observe(i,{attributes:!0});var s=Ne.setImmediate;Ne.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),s(c)):(t.push(c),t.length===1&&i.setAttribute("a",n=!n))}}Ne.nextTick=Ne.setImmediate})();Ne.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;Ne.globalScope=function(){return Ne.isNodejs?global:typeof self>"u"?window:self}();Ne.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};Ne.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};Ne.isArrayBufferView=function(e){return e&&Ne.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function NS(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}o(NS,"_checkBitsParam");Ne.ByteBuffer=Foe;function Foe(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(Ne.isArrayBuffer(e)||Ne.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof Foe||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}o(Foe,"ByteStringBuffer");Ne.ByteStringBuffer=Foe;var $xt=4096;Ne.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>$xt&&(this.data.substr(0,1),this._constructedStringLength=0)};Ne.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};Ne.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};Ne.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};Ne.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};Ne.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};Ne.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(Ne.encodeUtf8(e))};Ne.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Ne.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Ne.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Ne.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};Ne.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};Ne.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};Ne.ByteStringBuffer.prototype.putInt=function(e,t){NS(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};Ne.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};Ne.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};Ne.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};Ne.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};Ne.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};Ne.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};Ne.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};Ne.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};Ne.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};Ne.ByteStringBuffer.prototype.getInt=function(e){NS(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};Ne.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};Ne.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};Ne.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};Ne.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};Ne.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};Ne.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};Ne.ByteStringBuffer.prototype.copy=function(){var e=Ne.createBuffer(this.data);return e.read=this.read,e};Ne.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};Ne.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};Ne.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};Ne.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};Ne.ByteStringBuffer.prototype.toString=function(){return Ne.decodeUtf8(this.bytes())};function zxt(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=Ne.isArrayBuffer(e),n=Ne.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}o(zxt,"DataBuffer");Ne.DataBuffer=zxt;Ne.DataBuffer.prototype.length=function(){return this.write-this.read};Ne.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};Ne.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};Ne.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};Ne.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};Ne.DataBuffer.prototype.putBytes=function(e,t){if(Ne.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(Ne.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof Ne.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&Ne.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof Ne.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var s;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=Ne.binary.hex.decode(e,s,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=Ne.binary.base64.decode(e,s,this.write),this;if(t==="utf8"&&(e=Ne.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=Ne.binary.raw.decode(s),this;if(t==="utf16")return this.accommodate(e.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=Ne.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};Ne.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};Ne.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};Ne.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};Ne.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};Ne.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};Ne.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};Ne.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};Ne.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};Ne.DataBuffer.prototype.putInt=function(e,t){NS(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};Ne.DataBuffer.prototype.putSignedInt=function(e,t){return NS(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};Ne.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};Ne.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};Ne.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};Ne.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};Ne.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};Ne.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};Ne.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};Ne.DataBuffer.prototype.getInt=function(e){NS(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};Ne.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};Ne.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};Ne.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};Ne.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};Ne.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};Ne.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};Ne.DataBuffer.prototype.copy=function(){return new Ne.DataBuffer(this)};Ne.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};Ne.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};Ne.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};Ne.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};Ne.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return Ne.binary.raw.encode(t);if(e==="hex")return Ne.binary.hex.encode(t);if(e==="base64")return Ne.binary.base64.encode(t);if(e==="utf8")return Ne.text.utf8.decode(t);if(e==="utf16")return Ne.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};Ne.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=Ne.encodeUtf8(e)),new Ne.ByteBuffer(e)};Ne.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};Ne.xorBytes=function(e,t,r){for(var n="",i="",s="",a=0,l=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),l>=10&&(n+=s,s="",l=0),s+=String.fromCharCode(i),++l;return n+=s,n};Ne.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};Ne.bytesToHex=function(e){return Ne.createBuffer(e).toHex()};Ne.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var V5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",$5=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],Wke="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Ne.encode64=function(e,t){for(var r="",n="",i,s,a,l=0;l<e.length;)i=e.charCodeAt(l++),s=e.charCodeAt(l++),a=e.charCodeAt(l++),r+=V5.charAt(i>>2),r+=V5.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=V5.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":V5.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};Ne.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,s,a=0;a<e.length;)r=$5[e.charCodeAt(a++)-43],n=$5[e.charCodeAt(a++)-43],i=$5[e.charCodeAt(a++)-43],s=$5[e.charCodeAt(a++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(t+=String.fromCharCode((i&3)<<6|s)));return t};Ne.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};Ne.decodeUtf8=function(e){return decodeURIComponent(escape(e))};Ne.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:qke.encode,decode:qke.decode}};Ne.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};Ne.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};Ne.binary.hex.encode=Ne.bytesToHex;Ne.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,s=r;for(e.length&1&&(i=1,n[s++]=parseInt(e[0],16));i<e.length;i+=2)n[s++]=parseInt(e.substr(i,2),16);return t?s-r:n};Ne.binary.base64.encode=function(e,t){for(var r="",n="",i,s,a,l=0;l<e.byteLength;)i=e[l++],s=e[l++],a=e[l++],r+=V5.charAt(i>>2),r+=V5.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=V5.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":V5.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};Ne.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,a,l,c=0,u=r;c<e.length;)i=$5[e.charCodeAt(c++)-43],s=$5[e.charCodeAt(c++)-43],a=$5[e.charCodeAt(c++)-43],l=$5[e.charCodeAt(c++)-43],n[u++]=i<<2|s>>4,a!==64&&(n[u++]=(s&15)<<4|a>>2,l!==64&&(n[u++]=(a&3)<<6|l));return t?u-r:n.subarray(0,u)};Ne.binary.base58.encode=function(e,t){return Ne.binary.baseN.encode(e,Wke,t)};Ne.binary.base58.decode=function(e,t){return Ne.binary.baseN.decode(e,Wke,t)};Ne.text={utf8:{},utf16:{}};Ne.text.utf8.encode=function(e,t,r){e=Ne.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};Ne.text.utf8.decode=function(e){return Ne.decodeUtf8(String.fromCharCode.apply(null,e))};Ne.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,a=r,l=0;l<e.length;++l)i[a++]=e.charCodeAt(l),s+=2;return t?s-r:n};Ne.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};Ne.deflate=function(e,t,r){if(t=Ne.decode64(e.deflate(Ne.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};Ne.inflate=function(e,t,r){var n=e.inflate(Ne.encode64(t)).rval;return n===null?null:Ne.decode64(n)};var Noe=o(function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=Ne.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},"_setStorageObject"),Loe=o(function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(Ne.decode64(r))),r},"_getStorageObject"),Yxt=o(function(e,t,r,n){var i=Loe(e,t);i===null&&(i={}),i[r]=n,Noe(e,t,i)},"_setItem"),Kxt=o(function(e,t,r){var n=Loe(e,t);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),Jxt=o(function(e,t,r){var n=Loe(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),Noe(e,t,n)}},"_removeItem"),Zxt=o(function(e,t){Noe(e,t,null)},"_clearItems"),sq=o(function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,s=!1,a=null;for(var l in r){i=r[l];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),s=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),s=!0)}catch(c){a=c}if(s)break}if(!s)throw a;return n},"_callStorageFunction");Ne.setItem=function(e,t,r,n,i){sq(Yxt,arguments,i)};Ne.getItem=function(e,t,r,n){return sq(Kxt,arguments,n)};Ne.removeItem=function(e,t,r,n){sq(Jxt,arguments,n)};Ne.clearItems=function(e,t,r){sq(Zxt,arguments,r)};Ne.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};Ne.format=function(e){for(var t=/%./g,r,n,i=0,s=[],a=0;r=t.exec(e);){n=e.substring(a,t.lastIndex-2),n.length>0&&s.push(n),a=t.lastIndex;var l=r[0][1];switch(l){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+l+"?>")}}return s.push(e.substring(a)),s.join("")};Ne.formatNumber=function(e,t,r,n){var i=e,s=isNaN(t=Math.abs(t))?2:t,a=r===void 0?",":r,l=n===void 0?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",f=u.length>3?u.length%3:0;return c+(f?u.substr(0,f)+l:"")+u.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+l)+(s?a+Math.abs(i-u).toFixed(s).slice(2):"")};Ne.formatSize=function(e){return e>=1073741824?e=Ne.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=Ne.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=Ne.formatNumber(e/1024,0)+" KiB":e=Ne.formatNumber(e,0)+" bytes",e};Ne.bytesFromIP=function(e){return e.indexOf(".")!==-1?Ne.bytesFromIPv4(e):e.indexOf(":")!==-1?Ne.bytesFromIPv6(e):null};Ne.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=Ne.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};Ne.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(a){return a.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=Ne.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=Ne.hexToBytes(e[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};Ne.bytesToIP=function(e){return e.length===4?Ne.bytesToIPv4(e):e.length===16?Ne.bytesToIPv6(e):null};Ne.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};Ne.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var s=Ne.bytesToHex(e[i]+e[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var a=r[r.length-1],l=t.length;!a||l!==a.end+1?r.push({start:l,end:l}):(a.end=l,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(s)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};Ne.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in Ne&&!e.update)return t(null,Ne.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return Ne.cores=navigator.hardwareConcurrency,t(null,Ne.cores);if(typeof Worker>"u")return Ne.cores=1,t(null,Ne.cores);if(typeof Blob>"u")return Ne.cores=2,t(null,Ne.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var l=Date.now(),c=l+4;Date.now()<c;);self.postMessage({st:l,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,l,c){if(l===0){var u=Math.floor(a.reduce(function(f,m){return f+m},0)/a.length);return Ne.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,Ne.cores)}i(c,function(f,m){a.push(s(c,m)),n(a,l-1,c)})}o(n,"sample");function i(a,l){for(var c=[],u=[],f=0;f<a;++f){var m=new Worker(r);m.addEventListener("message",function(h){if(u.push(h.data),u.length===a){for(var p=0;p<a;++p)c[p].terminate();l(null,u)}}),c.push(m)}for(var f=0;f<a;++f)c[f].postMessage(f)}o(i,"map");function s(a,l){for(var c=[],u=0;u<a;++u)for(var f=l[u],m=c[u]=[],h=0;h<a;++h)if(u!==h){var p=l[h];(f.st>p.st&&f.st<p.et||p.st>f.st&&p.st<f.et)&&m.push(h)}return c.reduce(function(A,x){return Math.max(A,x.length)},0)}o(s,"reduce")}});var aq=H((qHr,Hke)=>{d();var Bl=ci();so();Hke.exports=Bl.cipher=Bl.cipher||{};Bl.cipher.algorithms=Bl.cipher.algorithms||{};Bl.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Bl.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Bl.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Bl.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Bl.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Bl.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Bl.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Bl.cipher.algorithms[e]=t};Bl.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Bl.cipher.algorithms?Bl.cipher.algorithms[e]:null};var Qoe=Bl.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};Qoe.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Bl.util.createBuffer(),this.output=e.output||Bl.util.createBuffer(),this.mode.start(t)};Qoe.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};Qoe.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var Ooe=H((GHr,jke)=>{d();var Dl=ci();so();Dl.cipher=Dl.cipher||{};var Ti=jke.exports=Dl.cipher.modes=Dl.cipher.modes||{};Ti.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ti.ecb.prototype.start=function(e){};Ti.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Ti.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Ti.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Ti.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Ti.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ti.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=lq(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Ti.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};Ti.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Ti.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Ti.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Ti.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Dl.util.createBuffer(),this._partialBytes=0};Ti.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=lq(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ti.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ti.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ti.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Dl.util.createBuffer(),this._partialBytes=0};Ti.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=lq(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ti.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ti.ofb.prototype.decrypt=Ti.ofb.prototype.encrypt;Ti.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Dl.util.createBuffer(),this._partialBytes=0};Ti.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=lq(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ti.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}cq(this._inBlock)};Ti.ctr.prototype.decrypt=Ti.ctr.prototype.encrypt;Ti.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Dl.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Ti.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=Dl.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=Dl.util.createBuffer(e.additionalData):r=Dl.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=Dl.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Moe(n*8)))}this._inBlock=this._j0.slice(0),cq(this._inBlock),this._partialBytes=0,r=Dl.util.createBuffer(r),this._aDataLength=Moe(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Ti.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),cq(this._inBlock)};Ti.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),cq(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Ti.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=Dl.util.createBuffer();var n=this._aDataLength.concat(Moe(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Ti.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var s=e[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Ti.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};Ti.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,s=this._m[r][i];t[0]^=s[0],t[1]^=s[1],t[2]^=s[2],t[3]^=s[3]}return t};Ti.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};Ti.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,s=new Array(i),a=0;a<i;++a){var l=[0,0,0,0],c=a/n|0,u=(n-1-a%n)*t;l[c]=1<<t-1<<u,s[a]=this.generateSubHashTable(this.multiply(l,e),t)}return s};Ti.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var a=1;a<s;++a){var l=i[s],c=i[a];i[s+a]=[l[0]^c[0],l[1]^c[1],l[2]^c[2],l[3]^c[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var u=i[s^n];i[s]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i};function lq(e,t){if(typeof e=="string"&&(e=Dl.util.createBuffer(e)),Dl.util.isArray(e)&&e.length>4){var r=e;e=Dl.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!Dl.util.isArray(e)){for(var i=[],s=t/4,n=0;n<s;++n)i.push(e.getInt32());e=i}return e}o(lq,"transformIV");function cq(e){e[e.length-1]=e[e.length-1]+1&4294967295}o(cq,"inc32");function Moe(e){return[e/4294967296|0,e&4294967295]}o(Moe,"from64To32")});var z5=H((VHr,Yke)=>{d();var es=ci();aq();Ooe();so();Yke.exports=es.aes=es.aes||{};es.aes.startEncrypting=function(e,t,r,n){var i=uq({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};es.aes.createEncryptionCipher=function(e,t){return uq({key:e,output:null,decrypt:!1,mode:t})};es.aes.startDecrypting=function(e,t,r,n){var i=uq({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};es.aes.createDecryptionCipher=function(e,t){return uq({key:e,output:null,decrypt:!0,mode:t})};es.aes.Algorithm=function(e,t){Woe||$ke();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:o(function(n,i){return qoe(r._w,n,i,!1)},"encrypt"),decrypt:o(function(n,i){return qoe(r._w,n,i,!0)},"decrypt")}}),r._init=!1};es.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=es.util.createBuffer(t);else if(es.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=es.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!es.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!es.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=zke(t,e.decrypt&&!a),this._init=!0}};es.aes._expandKey=function(e,t){return Woe||$ke(),zke(e,t)};es.aes._updateBlock=qoe;h6("AES-ECB",es.cipher.modes.ecb);h6("AES-CBC",es.cipher.modes.cbc);h6("AES-CFB",es.cipher.modes.cfb);h6("AES-OFB",es.cipher.modes.ofb);h6("AES-CTR",es.cipher.modes.ctr);h6("AES-GCM",es.cipher.modes.gcm);function h6(e,t){var r=o(function(){return new es.aes.Algorithm(e,t)},"factory");es.cipher.registerAlgorithm(e,r)}o(h6,"registerAlgorithm");var Woe=!1,m6=4,h0,Uoe,Vke,Dx,yh;function $ke(){Woe=!0,Vke=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;h0=new Array(256),Uoe=new Array(256),Dx=new Array(4),yh=new Array(4);for(var t=0;t<4;++t)Dx[t]=new Array(256),yh[t]=new Array(256);for(var r=0,n=0,i,s,a,l,c,u,f,t=0;t<256;++t){l=n^n<<1^n<<2^n<<3^n<<4,l=l>>8^l&255^99,h0[r]=l,Uoe[l]=r,c=e[l],i=e[r],s=e[i],a=e[s],u=c<<24^l<<16^l<<8^(l^c),f=(i^s^a)<<24^(r^a)<<16^(r^s^a)<<8^(r^i^a);for(var m=0;m<4;++m)Dx[m][r]=u,yh[m][l]=f,u=u<<24|u>>>8,f=f<<24|f>>>8;r===0?r=n=1:(r=i^e[e[e[i^a]]],n^=e[e[n]])}}o($ke,"initialize");function zke(e,t){for(var r=e.slice(0),n,i=1,s=r.length,a=s+6+1,l=m6*a,c=s;c<l;++c)n=r[c-1],c%s===0?(n=h0[n>>>16&255]<<24^h0[n>>>8&255]<<16^h0[n&255]<<8^h0[n>>>24]^Vke[i]<<24,i++):s>6&&c%s===4&&(n=h0[n>>>24]<<24^h0[n>>>16&255]<<16^h0[n>>>8&255]<<8^h0[n&255]),r[c]=r[c-s]^n;if(t){var u,f=yh[0],m=yh[1],h=yh[2],p=yh[3],A=r.slice(0);l=r.length;for(var c=0,x=l-m6;c<l;c+=m6,x-=m6)if(c===0||c===l-m6)A[c]=r[x],A[c+1]=r[x+3],A[c+2]=r[x+2],A[c+3]=r[x+1];else for(var v=0;v<m6;++v)u=r[x+v],A[c+(3&-v)]=f[h0[u>>>24]]^m[h0[u>>>16&255]]^h[h0[u>>>8&255]]^p[h0[u&255]];r=A}return r}o(zke,"_expandKey");function qoe(e,t,r,n){var i=e.length/4-1,s,a,l,c,u;n?(s=yh[0],a=yh[1],l=yh[2],c=yh[3],u=Uoe):(s=Dx[0],a=Dx[1],l=Dx[2],c=Dx[3],u=h0);var f,m,h,p,A,x,v;f=t[0]^e[0],m=t[n?3:1]^e[1],h=t[2]^e[2],p=t[n?1:3]^e[3];for(var E=3,b=1;b<i;++b)A=s[f>>>24]^a[m>>>16&255]^l[h>>>8&255]^c[p&255]^e[++E],x=s[m>>>24]^a[h>>>16&255]^l[p>>>8&255]^c[f&255]^e[++E],v=s[h>>>24]^a[p>>>16&255]^l[f>>>8&255]^c[m&255]^e[++E],p=s[p>>>24]^a[f>>>16&255]^l[m>>>8&255]^c[h&255]^e[++E],f=A,m=x,h=v;r[0]=u[f>>>24]<<24^u[m>>>16&255]<<16^u[h>>>8&255]<<8^u[p&255]^e[++E],r[n?3:1]=u[m>>>24]<<24^u[h>>>16&255]<<16^u[p>>>8&255]<<8^u[f&255]^e[++E],r[2]=u[h>>>24]<<24^u[p>>>16&255]<<16^u[f>>>8&255]<<8^u[m&255]^e[++E],r[n?1:3]=u[p>>>24]<<24^u[f>>>16&255]<<16^u[m>>>8&255]<<8^u[h&255]^e[++E]}o(qoe,"_updateBlock");function uq(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=es.cipher.createDecipher(r,e.key):n=es.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,a){var l=null;a instanceof es.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=s,i.call(n,a)},n}o(uq,"_createCipher")});var Y5=H((YHr,Kke)=>{d();var LS=ci();LS.pki=LS.pki||{};var Goe=Kke.exports=LS.pki.oids=LS.oids=LS.oids||{};function Mt(e,t){Goe[e]=t,Goe[t]=e}o(Mt,"_IN");function wo(e,t){Goe[e]=t}o(wo,"_I_");Mt("1.2.840.113549.1.1.1","rsaEncryption");Mt("1.2.840.113549.1.1.4","md5WithRSAEncryption");Mt("1.2.840.113549.1.1.5","sha1WithRSAEncryption");Mt("1.2.840.113549.1.1.7","RSAES-OAEP");Mt("1.2.840.113549.1.1.8","mgf1");Mt("1.2.840.113549.1.1.9","pSpecified");Mt("1.2.840.113549.1.1.10","RSASSA-PSS");Mt("1.2.840.113549.1.1.11","sha256WithRSAEncryption");Mt("1.2.840.113549.1.1.12","sha384WithRSAEncryption");Mt("1.2.840.113549.1.1.13","sha512WithRSAEncryption");Mt("1.3.101.112","EdDSA25519");Mt("1.2.840.10040.4.3","dsa-with-sha1");Mt("1.3.14.3.2.7","desCBC");Mt("1.3.14.3.2.26","sha1");Mt("1.3.14.3.2.29","sha1WithRSASignature");Mt("2.16.840.1.101.3.4.2.1","sha256");Mt("2.16.840.1.101.3.4.2.2","sha384");Mt("2.16.840.1.101.3.4.2.3","sha512");Mt("2.16.840.1.101.3.4.2.4","sha224");Mt("2.16.840.1.101.3.4.2.5","sha512-224");Mt("2.16.840.1.101.3.4.2.6","sha512-256");Mt("1.2.840.113549.2.2","md2");Mt("1.2.840.113549.2.5","md5");Mt("1.2.840.113549.1.7.1","data");Mt("1.2.840.113549.1.7.2","signedData");Mt("1.2.840.113549.1.7.3","envelopedData");Mt("1.2.840.113549.1.7.4","signedAndEnvelopedData");Mt("1.2.840.113549.1.7.5","digestedData");Mt("1.2.840.113549.1.7.6","encryptedData");Mt("1.2.840.113549.1.9.1","emailAddress");Mt("1.2.840.113549.1.9.2","unstructuredName");Mt("1.2.840.113549.1.9.3","contentType");Mt("1.2.840.113549.1.9.4","messageDigest");Mt("1.2.840.113549.1.9.5","signingTime");Mt("1.2.840.113549.1.9.6","counterSignature");Mt("1.2.840.113549.1.9.7","challengePassword");Mt("1.2.840.113549.1.9.8","unstructuredAddress");Mt("1.2.840.113549.1.9.14","extensionRequest");Mt("1.2.840.113549.1.9.20","friendlyName");Mt("1.2.840.113549.1.9.21","localKeyId");Mt("1.2.840.113549.1.9.22.1","x509Certificate");Mt("1.2.840.113549.1.12.10.1.1","keyBag");Mt("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");Mt("1.2.840.113549.1.12.10.1.3","certBag");Mt("1.2.840.113549.1.12.10.1.4","crlBag");Mt("1.2.840.113549.1.12.10.1.5","secretBag");Mt("1.2.840.113549.1.12.10.1.6","safeContentsBag");Mt("1.2.840.113549.1.5.13","pkcs5PBES2");Mt("1.2.840.113549.1.5.12","pkcs5PBKDF2");Mt("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");Mt("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");Mt("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");Mt("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");Mt("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");Mt("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");Mt("1.2.840.113549.2.7","hmacWithSHA1");Mt("1.2.840.113549.2.8","hmacWithSHA224");Mt("1.2.840.113549.2.9","hmacWithSHA256");Mt("1.2.840.113549.2.10","hmacWithSHA384");Mt("1.2.840.113549.2.11","hmacWithSHA512");Mt("1.2.840.113549.3.7","des-EDE3-CBC");Mt("2.16.840.1.101.3.4.1.2","aes128-CBC");Mt("2.16.840.1.101.3.4.1.22","aes192-CBC");Mt("2.16.840.1.101.3.4.1.42","aes256-CBC");Mt("2.5.4.3","commonName");Mt("2.5.4.4","surname");Mt("2.5.4.5","serialNumber");Mt("2.5.4.6","countryName");Mt("2.5.4.7","localityName");Mt("2.5.4.8","stateOrProvinceName");Mt("2.5.4.9","streetAddress");Mt("2.5.4.10","organizationName");Mt("2.5.4.11","organizationalUnitName");Mt("2.5.4.12","title");Mt("2.5.4.13","description");Mt("2.5.4.15","businessCategory");Mt("2.5.4.17","postalCode");Mt("2.5.4.42","givenName");Mt("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");Mt("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");Mt("2.16.840.1.113730.1.1","nsCertType");Mt("2.16.840.1.113730.1.13","nsComment");wo("2.5.29.1","authorityKeyIdentifier");wo("2.5.29.2","keyAttributes");wo("2.5.29.3","certificatePolicies");wo("2.5.29.4","keyUsageRestriction");wo("2.5.29.5","policyMapping");wo("2.5.29.6","subtreesConstraint");wo("2.5.29.7","subjectAltName");wo("2.5.29.8","issuerAltName");wo("2.5.29.9","subjectDirectoryAttributes");wo("2.5.29.10","basicConstraints");wo("2.5.29.11","nameConstraints");wo("2.5.29.12","policyConstraints");wo("2.5.29.13","basicConstraints");Mt("2.5.29.14","subjectKeyIdentifier");Mt("2.5.29.15","keyUsage");wo("2.5.29.16","privateKeyUsagePeriod");Mt("2.5.29.17","subjectAltName");Mt("2.5.29.18","issuerAltName");Mt("2.5.29.19","basicConstraints");wo("2.5.29.20","cRLNumber");wo("2.5.29.21","cRLReason");wo("2.5.29.22","expirationDate");wo("2.5.29.23","instructionCode");wo("2.5.29.24","invalidityDate");wo("2.5.29.25","cRLDistributionPoints");wo("2.5.29.26","issuingDistributionPoint");wo("2.5.29.27","deltaCRLIndicator");wo("2.5.29.28","issuingDistributionPoint");wo("2.5.29.29","certificateIssuer");wo("2.5.29.30","nameConstraints");Mt("2.5.29.31","cRLDistributionPoints");Mt("2.5.29.32","certificatePolicies");wo("2.5.29.33","policyMappings");wo("2.5.29.34","policyConstraints");Mt("2.5.29.35","authorityKeyIdentifier");wo("2.5.29.36","policyConstraints");Mt("2.5.29.37","extKeyUsage");wo("2.5.29.46","freshestCRL");wo("2.5.29.54","inhibitAnyPolicy");Mt("1.3.6.1.4.1.11129.2.4.2","timestampList");Mt("1.3.6.1.5.5.7.1.1","authorityInfoAccess");Mt("1.3.6.1.5.5.7.3.1","serverAuth");Mt("1.3.6.1.5.5.7.3.2","clientAuth");Mt("1.3.6.1.5.5.7.3.3","codeSigning");Mt("1.3.6.1.5.5.7.3.4","emailProtection");Mt("1.3.6.1.5.5.7.3.8","timeStamping")});var Ch=H((ZHr,Zke)=>{d();var Cs=ci();so();Y5();var vr=Zke.exports=Cs.asn1=Cs.asn1||{};vr.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};vr.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};vr.create=function(e,t,r,n,i){if(Cs.util.isArray(n)){for(var s=[],a=0;a<n.length;++a)n[a]!==void 0&&s.push(n[a]);n=s}var l={tagClass:e,type:t,constructed:r,composed:r||Cs.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(l.bitStringContents=i.bitStringContents,l.original=vr.copy(l)),l};vr.copy=function(e,t){var r;if(Cs.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(vr.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:vr.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};vr.equals=function(e,t,r){if(Cs.util.isArray(e)){if(!Cs.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!vr.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&vr.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};vr.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function QS(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}o(QS,"_checkBufferLength");var Xxt=o(function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;QS(e,t,s),n=e.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");vr.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=Cs.util.createBuffer(e));var r=e.length(),n=fq(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function fq(e,t,r,n){var i;QS(e,t,2);var s=e.getByte();t--;var a=s&192,l=s&31;i=e.length();var c=Xxt(e,t);if(t-=i-e.length(),c!==void 0&&c>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=c,u}c=t}var f,m,h=(s&32)===32;if(h)if(f=[],c===void 0)for(;;){if(QS(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}i=e.length(),f.push(fq(e,t,r+1,n)),t-=i-e.length()}else for(;c>0;)i=e.length(),f.push(fq(e,c,r+1,n)),t-=i-e.length(),c-=i-e.length();if(f===void 0&&a===vr.Class.UNIVERSAL&&l===vr.Type.BITSTRING&&(m=e.bytes(c)),f===void 0&&n.decodeBitStrings&&a===vr.Class.UNIVERSAL&&l===vr.Type.BITSTRING&&c>1){var p=e.read,A=t,x=0;if(l===vr.Type.BITSTRING&&(QS(e,t,1),x=e.getByte(),t--),x===0)try{i=e.length();var v={strict:!0,decodeBitStrings:!0},E=fq(e,t,r+1,v),b=i-e.length();t-=b,l==vr.Type.BITSTRING&&b++;var _=E.tagClass;b===c&&(_===vr.Class.UNIVERSAL||_===vr.Class.CONTEXT_SPECIFIC)&&(f=[E])}catch{}f===void 0&&(e.read=p,t=A)}if(f===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(l===vr.Type.BMPSTRING)for(f="";c>0;c-=2)QS(e,t,2),f+=String.fromCharCode(e.getInt16()),t-=2;else f=e.getBytes(c),t-=c}var R=m===void 0?null:{bitStringContents:m};return vr.create(a,l,h,f,R)}o(fq,"_fromDer");vr.toDer=function(e){var t=Cs.util.createBuffer(),r=e.tagClass|e.type,n=Cs.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=vr.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var s=0;s<e.value.length;++s)e.value[s]!==void 0&&n.putBuffer(vr.toDer(e.value[s]))}else if(e.type===vr.Type.BMPSTRING)for(var s=0;s<e.value.length;++s)n.putInt16(e.value.charCodeAt(s));else e.type===vr.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&(e.value.charCodeAt(1)&128)===0||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var a=n.length(),l="";do l+=String.fromCharCode(a&255),a=a>>>8;while(a>0);t.putByte(l.length|128);for(var s=l.length-1;s>=0;--s)t.putByte(l.charCodeAt(s))}return t.putBuffer(n),t};vr.oidToDer=function(e){var t=e.split("."),r=Cs.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,s,a,l=2;l<t.length;++l){n=!0,i=[],s=parseInt(t[l],10);do a=s&127,s=s>>>7,n||(a|=128),i.push(a),n=!1;while(s>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};vr.derToOid=function(e){var t;typeof e=="string"&&(e=Cs.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};vr.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),l=0;if(e.length>11){var c=e.charAt(10),u=10;c!=="+"&&c!=="-"&&(l=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,l,0),u&&(c=e.charAt(u),c==="+"||c==="-")){var f=parseInt(e.substr(u+1,2),10),m=parseInt(e.substr(u+4,2),10),h=f*60+m;h*=6e4,c==="+"?t.setTime(+t-h):t.setTime(+t+h)}return t};vr.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),l=parseInt(e.substr(12,2),10),c=0,u=0,f=!1;e.charAt(e.length-1)==="Z"&&(f=!0);var m=e.length-5,h=e.charAt(m);if(h==="+"||h==="-"){var p=parseInt(e.substr(m+1,2),10),A=parseInt(e.substr(m+4,2),10);u=p*60+A,u*=6e4,h==="+"&&(u*=-1),f=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),f?(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,l,c),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(s,a,l,c)),t};vr.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};vr.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};vr.integerToDer=function(e){var t=Cs.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};vr.derToInteger=function(e){typeof e=="string"&&(e=Cs.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};vr.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&Cs.util.isArray(t.value))for(var s=0,a=0;i&&a<t.value.length;++a)i=t.value[a].optional||!1,e.value[s]&&(i=vr.validate(e.value[s],t.value[a],r,n),i?++s:t.value[a].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var l;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var Jke=/[^\\u0000-\\u00ff]/;vr.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",s=0;s<t*r;++s)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case vr.Class.UNIVERSAL:n+="Universal:";break;case vr.Class.APPLICATION:n+="Application:";break;case vr.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case vr.Class.PRIVATE:n+="Private:";break}if(e.tagClass===vr.Class.UNIVERSAL)switch(n+=e.type,e.type){case vr.Type.NONE:n+=" (None)";break;case vr.Type.BOOLEAN:n+=" (Boolean)";break;case vr.Type.INTEGER:n+=" (Integer)";break;case vr.Type.BITSTRING:n+=" (Bit string)";break;case vr.Type.OCTETSTRING:n+=" (Octet string)";break;case vr.Type.NULL:n+=" (Null)";break;case vr.Type.OID:n+=" (Object Identifier)";break;case vr.Type.ODESC:n+=" (Object Descriptor)";break;case vr.Type.EXTERNAL:n+=" (External or Instance of)";break;case vr.Type.REAL:n+=" (Real)";break;case vr.Type.ENUMERATED:n+=" (Enumerated)";break;case vr.Type.EMBEDDED:n+=" (Embedded PDV)";break;case vr.Type.UTF8:n+=" (UTF8)";break;case vr.Type.ROID:n+=" (Relative Object Identifier)";break;case vr.Type.SEQUENCE:n+=" (Sequence)";break;case vr.Type.SET:n+=" (Set)";break;case vr.Type.PRINTABLESTRING:n+=" (Printable String)";break;case vr.Type.IA5String:n+=" (IA5String (ASCII))";break;case vr.Type.UTCTIME:n+=" (UTC time)";break;case vr.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case vr.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var a=0,l="",s=0;s<e.value.length;++s)e.value[s]!==void 0&&(a+=1,l+=vr.prettyPrint(e.value[s],t+1,r),s+1<e.value.length&&(l+=","));n+=i+"Sub values: "+a+l}else{if(n+=i+"Value: ",e.type===vr.Type.OID){var c=vr.derToOid(e.value);n+=c,Cs.pki&&Cs.pki.oids&&c in Cs.pki.oids&&(n+=" ("+Cs.pki.oids[c]+") ")}if(e.type===vr.Type.INTEGER)try{n+=vr.derToInteger(e.value)}catch{n+="0x"+Cs.util.bytesToHex(e.value)}else if(e.type===vr.Type.BITSTRING){if(e.value.length>1?n+="0x"+Cs.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(e.type===vr.Type.OCTETSTRING)Jke.test(e.value)||(n+="("+e.value+") "),n+="0x"+Cs.util.bytesToHex(e.value);else if(e.type===vr.Type.UTF8)try{n+=Cs.util.decodeUtf8(e.value)}catch(f){if(f.message==="URI malformed")n+="0x"+Cs.util.bytesToHex(e.value)+" (malformed UTF8)";else throw f}else e.type===vr.Type.PRINTABLESTRING||e.type===vr.Type.IA5String?n+=e.value:Jke.test(e.value)?n+="0x"+Cs.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var sg=H((tjr,Xke)=>{d();var dq=ci();Xke.exports=dq.md=dq.md||{};dq.md.algorithms=dq.md.algorithms||{}});var p6=H((njr,eRe)=>{d();var vA=ci();sg();so();var evt=eRe.exports=vA.hmac=vA.hmac||{};evt.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(s,a){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in vA.md.algorithms)t=vA.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else t=s;if(a===null)a=e;else{if(typeof a=="string")a=vA.util.createBuffer(a);else if(vA.util.isArray(a)){var l=a;a=vA.util.createBuffer();for(var c=0;c<l.length;++c)a.putByte(l[c])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=vA.util.createBuffer(),n=vA.util.createBuffer(),u=a.length();for(var c=0;c<u;++c){var l=a.at(c);r.putByte(54^l),n.putByte(92^l)}if(u<t.blockLength)for(var l=t.blockLength-u,c=0;c<l;++c)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(s){t.update(s)},i.getMac=function(){var s=t.digest().bytes();return t.start(),t.update(n),t.update(s),t.digest()},i.digest=i.getMac,i}});var hq=H((ojr,iRe)=>{d();var ag=ci();sg();so();var rRe=iRe.exports=ag.md5=ag.md5||{};ag.md.md5=ag.md.algorithms.md5=rRe;rRe.create=function(){nRe||tvt();var e=null,t=ag.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=ag.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=ag.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),tRe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=ag.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(Hoe.substr(0,n.blockLength-a));for(var l,c=0,u=n.fullMessageLength.length-1;u>=0;--u)l=n.fullMessageLength[u]*8+c,c=l/4294967296>>>0,i.putInt32Le(l>>>0);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};tRe(f,r,i);var m=ag.util.createBuffer();return m.putInt32Le(f.h0),m.putInt32Le(f.h1),m.putInt32Le(f.h2),m.putInt32Le(f.h3),m},n};var Hoe=null,mq=null,MS=null,g6=null,nRe=!1;function tvt(){Hoe="\x80",Hoe+=ag.util.fillString("\0",64),mq=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],MS=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],g6=new Array(64);for(var e=0;e<64;++e)g6[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);nRe=!0}o(tvt,"_init");function tRe(e,t,r){for(var n,i,s,a,l,c,u,f,m=r.length();m>=64;){for(i=e.h0,s=e.h1,a=e.h2,l=e.h3,f=0;f<16;++f)t[f]=r.getInt32Le(),c=l^s&(a^l),n=i+c+g6[f]+t[f],u=MS[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<32;++f)c=a^l&(s^a),n=i+c+g6[f]+t[mq[f]],u=MS[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<48;++f)c=s^a^l,n=i+c+g6[f]+t[mq[f]],u=MS[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<64;++f)c=a^(s|~l),n=i+c+g6[f]+t[mq[f]],u=MS[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,m-=64}}o(tRe,"_update")});var Px=H((ljr,sRe)=>{d();var gq=ci();so();var oRe=sRe.exports=gq.pem=gq.pem||{};oRe.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=pq(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=pq(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=pq(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=pq(e.headers[i]);return e.procType&&(r+=`\r
`),r+=gq.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};oRe.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(e),!!s;){var a=s[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var l={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:gq.util.decode64(s[3])};if(t.push(l),!!s[2]){for(var c=s[2].split(i),u=0;s&&u<c.length;){for(var f=c[u].replace(/\s+$/,""),m=u+1;m<c.length;++m){var h=c[m];if(!/\s/.test(h[0]))break;f+=h,u=m}if(s=f.match(n),s){for(var p={name:s[1],values:[]},A=s[2].split(","),x=0;x<A.length;++x)p.values.push(rvt(A[x]));if(l.procType)if(!l.contentDomain&&p.name==="Content-Domain")l.contentDomain=A[0]||"";else if(!l.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');l.dekInfo={algorithm:A[0],parameters:A[1]||null}}else l.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');l.procType={version:A[0],type:A[1]}}}++u}if(l.procType==="ENCRYPTED"&&!l.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function pq(e){for(var t=e.name+": ",r=[],n=o(function(c,u){return" "+u},"insertSpace"),i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var s=0,a=-1,i=0;i<t.length;++i,++s)if(s>65&&a!==-1){var l=t[a];l===","?(++a,t=t.substr(0,a)+`\r
 `+t.substr(a)):t=t.substr(0,a)+`\r
`+l+t.substr(a+1),s=i-a-1,a=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(a=i);return t}o(pq,"foldHeader");function rvt(e){return e.replace(/^\s+/,"")}o(rvt,"ltrim")});var OS=H((fjr,lRe)=>{d();var Ls=ci();aq();Ooe();so();lRe.exports=Ls.des=Ls.des||{};Ls.des.startEncrypting=function(e,t,r,n){var i=Aq({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};Ls.des.createEncryptionCipher=function(e,t){return Aq({key:e,output:null,decrypt:!1,mode:t})};Ls.des.startDecrypting=function(e,t,r,n){var i=Aq({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};Ls.des.createDecryptionCipher=function(e,t){return Aq({key:e,output:null,decrypt:!0,mode:t})};Ls.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:o(function(n,i){return aRe(r._keys,n,i,!1)},"encrypt"),decrypt:o(function(n,i){return aRe(r._keys,n,i,!0)},"decrypt")}}),r._init=!1};Ls.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=Ls.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=fvt(t),this._init=!0}};lg("DES-ECB",Ls.cipher.modes.ecb);lg("DES-CBC",Ls.cipher.modes.cbc);lg("DES-CFB",Ls.cipher.modes.cfb);lg("DES-OFB",Ls.cipher.modes.ofb);lg("DES-CTR",Ls.cipher.modes.ctr);lg("3DES-ECB",Ls.cipher.modes.ecb);lg("3DES-CBC",Ls.cipher.modes.cbc);lg("3DES-CFB",Ls.cipher.modes.cfb);lg("3DES-OFB",Ls.cipher.modes.ofb);lg("3DES-CTR",Ls.cipher.modes.ctr);function lg(e,t){var r=o(function(){return new Ls.des.Algorithm(e,t)},"factory");Ls.cipher.registerAlgorithm(e,r)}o(lg,"registerAlgorithm");var nvt=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],ivt=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],ovt=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],svt=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],avt=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],lvt=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],cvt=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],uvt=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function fvt(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],m=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],A=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],x=e.length()>8?3:1,v=[],E=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,_,R=0;R<x;R++){var P=e.getInt32(),F=e.getInt32();_=(P>>>4^F)&252645135,F^=_,P^=_<<4,_=(F>>>-16^P)&65535,P^=_,F^=_<<-16,_=(P>>>2^F)&858993459,F^=_,P^=_<<2,_=(F>>>-16^P)&65535,P^=_,F^=_<<-16,_=(P>>>1^F)&1431655765,F^=_,P^=_<<1,_=(F>>>8^P)&16711935,P^=_,F^=_<<8,_=(P>>>1^F)&1431655765,F^=_,P^=_<<1,_=P<<8|F>>>20&240,P=F<<24|F<<8&16711680|F>>>8&65280|F>>>24&240,F=_;for(var W=0;W<E.length;++W){E[W]?(P=P<<2|P>>>26,F=F<<2|F>>>26):(P=P<<1|P>>>27,F=F<<1|F>>>27),P&=-15,F&=-15;var se=t[P>>>28]|r[P>>>24&15]|n[P>>>20&15]|i[P>>>16&15]|s[P>>>12&15]|a[P>>>8&15]|l[P>>>4&15],de=c[F>>>28]|u[F>>>24&15]|f[F>>>20&15]|m[F>>>16&15]|h[F>>>12&15]|p[F>>>8&15]|A[F>>>4&15];_=(de>>>16^se)&65535,v[b++]=se^_,v[b++]=de^_<<16}}return v}o(fvt,"_createKeys");function aRe(e,t,r,n){var i=e.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,l=t[0],c=t[1];a=(l>>>4^c)&252645135,c^=a,l^=a<<4,a=(l>>>16^c)&65535,c^=a,l^=a<<16,a=(c>>>2^l)&858993459,l^=a,c^=a<<2,a=(c>>>8^l)&16711935,l^=a,c^=a<<8,a=(l>>>1^c)&1431655765,c^=a,l^=a<<1,l=l<<1|l>>>31,c=c<<1|c>>>31;for(var u=0;u<i;u+=3){for(var f=s[u+1],m=s[u+2],h=s[u];h!=f;h+=m){var p=c^e[h],A=(c>>>4|c<<28)^e[h+1];a=l,l=c,c=a^(ivt[p>>>24&63]|svt[p>>>16&63]|lvt[p>>>8&63]|uvt[p&63]|nvt[A>>>24&63]|ovt[A>>>16&63]|avt[A>>>8&63]|cvt[A&63])}a=l,l=c,c=a}l=l>>>1|l<<31,c=c>>>1|c<<31,a=(l>>>1^c)&1431655765,c^=a,l^=a<<1,a=(c>>>8^l)&16711935,l^=a,c^=a<<8,a=(c>>>2^l)&858993459,l^=a,c^=a<<2,a=(l>>>16^c)&65535,c^=a,l^=a<<16,a=(l>>>4^c)&252645135,c^=a,l^=a<<4,r[0]=l,r[1]=c}o(aRe,"_updateBlock");function Aq(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=Ls.cipher.createDecipher(r,e.key):n=Ls.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,a){var l=null;a instanceof Ls.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=s,i.call(n,a)},n}o(Aq,"_createCipher")});var yq=H((hjr,cRe)=>{d();var p0=ci();p6();sg();so();var dvt=p0.pkcs5=p0.pkcs5||{},bA;p0.util.isNodejs&&!p0.options.usePureJavaScript&&(bA=require("crypto"));cRe.exports=p0.pbkdf2=dvt.pbkdf2=function(e,t,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),p0.util.isNodejs&&!p0.options.usePureJavaScript&&bA.pbkdf2&&(i===null||typeof i!="object")&&(bA.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),s?bA.pbkdf2Sync.length===4?bA.pbkdf2(e,t,r,n,function(_,R){if(_)return s(_);s(null,R.toString("binary"))}):bA.pbkdf2(e,t,r,n,i,function(_,R){if(_)return s(_);s(null,R.toString("binary"))}):bA.pbkdf2Sync.length===4?bA.pbkdf2Sync(e,t,r,n).toString("binary"):bA.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in p0.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=p0.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var l=new Error("Derived key is too long.");if(s)return s(l);throw l}var c=Math.ceil(n/a),u=n-(c-1)*a,f=p0.hmac.create();f.start(i,e);var m="",h,p,A;if(!s){for(var x=1;x<=c;++x){f.start(null,null),f.update(t),f.update(p0.util.int32ToBytes(x)),h=A=f.digest().getBytes();for(var v=2;v<=r;++v)f.start(null,null),f.update(A),p=f.digest().getBytes(),h=p0.util.xorBytes(h,p,a),A=p;m+=x<c?h:h.substr(0,u)}return m}var x=1,v;function E(){if(x>c)return s(null,m);f.start(null,null),f.update(t),f.update(p0.util.int32ToBytes(x)),h=A=f.digest().getBytes(),v=2,b()}o(E,"outer");function b(){if(v<=r)return f.start(null,null),f.update(A),p=f.digest().getBytes(),h=p0.util.xorBytes(h,p,a),A=p,++v,p0.util.setImmediate(b);m+=x<c?h:h.substr(0,u),++x,E()}o(b,"inner"),E()}});var Voe=H((Ajr,hRe)=>{d();var cg=ci();sg();so();var fRe=hRe.exports=cg.sha256=cg.sha256||{};cg.md.sha256=cg.md.algorithms.sha256=fRe;fRe.create=function(){dRe||mvt();var e=null,t=cg.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=cg.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=cg.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),uRe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=cg.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(joe.substr(0,n.blockLength-a));for(var l,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)l=n.fullMessageLength[f+1]*8,c=l/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};uRe(m,r,i);var h=cg.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h.putInt32(m.h5),h.putInt32(m.h6),h.putInt32(m.h7),h},n};var joe=null,dRe=!1,mRe=null;function mvt(){joe="\x80",joe+=cg.util.fillString("\0",64),mRe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],dRe=!0}o(mvt,"_init");function uRe(e,t,r){for(var n,i,s,a,l,c,u,f,m,h,p,A,x,v,E,b=r.length();b>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(f=e.h0,m=e.h1,h=e.h2,p=e.h3,A=e.h4,x=e.h5,v=e.h6,E=e.h7,u=0;u<64;++u)a=(A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7),l=v^A&(x^v),s=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),c=f&m|h&(f^m),n=E+a+l+mRe[u]+t[u],i=s+c,E=v,v=x,x=A,A=p+n>>>0,p=h,h=m,m=f,f=n+i>>>0;e.h0=e.h0+f|0,e.h1=e.h1+m|0,e.h2=e.h2+h|0,e.h3=e.h3+p|0,e.h4=e.h4+A|0,e.h5=e.h5+x|0,e.h6=e.h6+v|0,e.h7=e.h7+E|0,b-=64}}o(uRe,"_update")});var $oe=H((xjr,pRe)=>{d();var ug=ci();so();var Cq=null;ug.util.isNodejs&&!ug.options.usePureJavaScript&&!process.versions["node-webkit"]&&(Cq=require("crypto"));var hvt=pRe.exports=ug.prng=ug.prng||{};hvt.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(u,f){if(!f)return t.generateSync(u);var m=t.plugin.cipher,h=t.plugin.increment,p=t.plugin.formatKey,A=t.plugin.formatSeed,x=ug.util.createBuffer();t.key=null,v();function v(E){if(E)return f(E);if(x.length()>=u)return f(null,x.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return ug.util.nextTick(function(){s(v)});var b=m(t.key,t.seed);t.generated+=b.length,x.putBytes(b),t.key=p(m(t.key,h(t.seed))),t.seed=A(m(t.key,t.seed)),ug.util.setImmediate(v)}o(v,"generate")},t.generateSync=function(u){var f=t.plugin.cipher,m=t.plugin.increment,h=t.plugin.formatKey,p=t.plugin.formatSeed;t.key=null;for(var A=ug.util.createBuffer();A.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&a();var x=f(t.key,t.seed);t.generated+=x.length,A.putBytes(x),t.key=h(f(t.key,m(t.seed))),t.seed=p(f(t.key,t.seed))}return A.getBytes(u)};function s(u){if(t.pools[0].messageLength>=32)return l(),u();var f=32-t.pools[0].messageLength<<5;t.seedFile(f,function(m,h){if(m)return u(m);t.collect(h),l(),u()})}o(s,"_reseed");function a(){if(t.pools[0].messageLength>=32)return l();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),l()}o(a,"_reseedSync");function l(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var f=1,m=0;m<32;++m)t.reseeds%f===0&&(u.update(t.pools[m].digest().getBytes()),t.pools[m].start()),f=f<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var h=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(h),t.generated=0}o(l,"_seed");function c(u){var f=null,m=ug.util.globalScope,h=m.crypto||m.msCrypto;h&&h.getRandomValues&&(f=o(function(P){return h.getRandomValues(P)},"getRandomValues"));var p=ug.util.createBuffer();if(f)for(;p.length()<u;){var A=Math.max(1,Math.min(u-p.length(),65536)/4),x=new Uint32Array(Math.floor(A));try{f(x);for(var v=0;v<x.length;++v)p.putInt32(x[v])}catch(P){if(!(typeof QuotaExceededError<"u"&&P instanceof QuotaExceededError))throw P}}if(p.length()<u)for(var E,b,_,R=Math.floor(Math.random()*65536);p.length()<u;){b=16807*(R&65535),E=16807*(R>>16),b+=(E&32767)<<16,b+=E>>15,b=(b&2147483647)+(b>>31),R=b&4294967295;for(var v=0;v<3;++v)_=R>>>(v<<3),_^=Math.floor(Math.random()*256),p.putByte(_&255)}return p.getBytes(u)}return o(c,"defaultSeedFile"),Cq?(t.seedFile=function(u,f){Cq.randomBytes(u,function(m,h){if(m)return f(m);f(null,h.toString())})},t.seedFileSync=function(u){return Cq.randomBytes(u).toString()}):(t.seedFile=function(u,f){try{f(null,c(u))}catch(m){f(m)}},t.seedFileSync=c),t.collect=function(u){for(var f=u.length,m=0;m<f;++m)t.pools[t.pool].update(u.substr(m,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,f){for(var m="",h=0;h<f;h+=8)m+=String.fromCharCode(u>>h&255);t.collect(m)},t.registerWorker=function(u){if(u===self)t.seedFile=function(m,h){function p(A){var x=A.data;x.forge&&x.forge.prng&&(self.removeEventListener("message",p),h(x.forge.prng.err,x.forge.prng.bytes))}o(p,"listener"),self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:m}}})};else{var f=o(function(m){var h=m.data;h.forge&&h.forge.prng&&t.seedFile(h.forge.prng.needed,function(p,A){u.postMessage({forge:{prng:{err:p,bytes:A}}})})},"listener");u.addEventListener("message",f)}},t}});var Wd=H((Ejr,zoe)=>{d();var Pl=ci();z5();Voe();$oe();so();(function(){if(Pl.random&&Pl.random.getBytes){zoe.exports=Pl.random;return}(function(e){var t={},r=new Array(4),n=Pl.util.createBuffer();t.formatKey=function(m){var h=Pl.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),Pl.aes._expandKey(m,!1)},t.formatSeed=function(m){var h=Pl.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),m},t.cipher=function(m,h){return Pl.aes._updateBlock(m,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(m){return++m[3],m},t.md=Pl.md.sha256;function i(){var m=Pl.prng.create(t);return m.getBytes=function(h,p){return m.generate(h,p)},m.getBytesSync=function(h){return m.generate(h)},m}o(i,"spawnPrng");var s=i(),a=null,l=Pl.util.globalScope,c=l.crypto||l.msCrypto;if(c&&c.getRandomValues&&(a=o(function(m){return c.getRandomValues(m)},"getRandomValues")),Pl.options.usePureJavaScript||!Pl.util.isNodejs&&!a){if(typeof window>"u"||window.document,s.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var f in navigator)try{typeof navigator[f]=="string"&&(u+=navigator[f])}catch{}s.collect(u),u=null}e&&(e().mousemove(function(m){s.collectInt(m.clientX,16),s.collectInt(m.clientY,16)}),e().keypress(function(m){s.collectInt(m.charCode,8)}))}if(!Pl.random)Pl.random=s;else for(var f in s)Pl.random[f]=s[f];Pl.random.createInstance=i,zoe.exports=Pl.random})(typeof jQuery<"u"?jQuery:null)})()});var Koe=H((wjr,yRe)=>{d();var mu=ci();so();var Yoe=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],gRe=[1,2,3,5],pvt=o(function(e,t){return e<<t&65535|(e&65535)>>16-t},"rol"),gvt=o(function(e,t){return(e&65535)>>t|e<<16-t&65535},"ror");yRe.exports=mu.rc2=mu.rc2||{};mu.rc2.expandKey=function(e,t){typeof e=="string"&&(e=mu.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,s=Math.ceil(i/8),a=255>>(i&7),l;for(l=n;l<128;l++)r.putByte(Yoe[r.at(l-1)+r.at(l-n)&255]);for(r.setAt(128-s,Yoe[r.at(128-s)&a]),l=127-s;l>=0;l--)r.setAt(l,Yoe[r.at(l+1)^r.at(l+s)]);return r};var ARe=o(function(e,t,r){var n=!1,i=null,s=null,a=null,l,c,u,f,m=[];for(e=mu.rc2.expandKey(e,t),u=0;u<64;u++)m.push(e.getInt16Le());r?(l=o(function(A){for(u=0;u<4;u++)A[u]+=m[f]+(A[(u+3)%4]&A[(u+2)%4])+(~A[(u+3)%4]&A[(u+1)%4]),A[u]=pvt(A[u],gRe[u]),f++},"mixRound"),c=o(function(A){for(u=0;u<4;u++)A[u]+=m[A[(u+3)%4]&63]},"mashRound")):(l=o(function(A){for(u=3;u>=0;u--)A[u]=gvt(A[u],gRe[u]),A[u]-=m[f]+(A[(u+3)%4]&A[(u+2)%4])+(~A[(u+3)%4]&A[(u+1)%4]),f--},"mixRound"),c=o(function(A){for(u=3;u>=0;u--)A[u]-=m[A[(u+3)%4]&63]},"mashRound"));var h=o(function(A){var x=[];for(u=0;u<4;u++){var v=i.getInt16Le();a!==null&&(r?v^=a.getInt16Le():a.putInt16Le(v)),x.push(v&65535)}f=r?0:63;for(var E=0;E<A.length;E++)for(var b=0;b<A[E][0];b++)A[E][1](x);for(u=0;u<4;u++)a!==null&&(r?a.putInt16Le(x[u]):x[u]^=a.getInt16Le()),s.putInt16Le(x[u])},"runPlan"),p=null;return p={start:o(function(A,x){A&&typeof A=="string"&&(A=mu.util.createBuffer(A)),n=!1,i=mu.util.createBuffer(),s=x||new mu.util.createBuffer,a=A,p.output=s},"start"),update:o(function(A){for(n||i.putBuffer(A);i.length()>=8;)h([[5,l],[1,c],[6,l],[1,c],[5,l]])},"update"),finish:o(function(A){var x=!0;if(r)if(A)x=A(8,i,!r);else{var v=i.length()===8?8:8-i.length();i.fillWithByte(v,v)}if(x&&(n=!0,p.update()),!r&&(x=i.length()===0,x))if(A)x=A(8,s,!r);else{var E=s.length(),b=s.at(E-1);b>E?x=!1:s.truncate(b)}return x},"finish")},p},"createCipher");mu.rc2.startEncrypting=function(e,t,r){var n=mu.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};mu.rc2.createEncryptionCipher=function(e,t){return ARe(e,t,!0)};mu.rc2.startDecrypting=function(e,t,r){var n=mu.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};mu.rc2.createDecryptionCipher=function(e,t){return ARe(e,t,!1)}});var qS=H((kjr,wRe)=>{d();var Joe=ci();wRe.exports=Joe.jsbn=Joe.jsbn||{};var EA,Avt=0xdeadbeefcafe,CRe=(Avt&16777215)==15715070;function Bt(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}o(Bt,"BigInteger");Joe.jsbn.BigInteger=Bt;function ao(){return new Bt(null)}o(ao,"nbi");function yvt(e,t,r,n,i,s){for(;--s>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}o(yvt,"am1");function Cvt(e,t,r,n,i,s){for(var a=t&32767,l=t>>15;--s>=0;){var c=this.data[e]&32767,u=this.data[e++]>>15,f=l*c+u*a;c=a*c+((f&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(f>>>15)+l*u+(i>>>30),r.data[n++]=c&1073741823}return i}o(Cvt,"am2");function xRe(e,t,r,n,i,s){for(var a=t&16383,l=t>>14;--s>=0;){var c=this.data[e]&16383,u=this.data[e++]>>14,f=l*c+u*a;c=a*c+((f&16383)<<14)+r.data[n]+i,i=(c>>28)+(f>>14)+l*u,r.data[n++]=c&268435455}return i}o(xRe,"am3");typeof navigator>"u"?(Bt.prototype.am=xRe,EA=28):CRe&&navigator.appName=="Microsoft Internet Explorer"?(Bt.prototype.am=Cvt,EA=30):CRe&&navigator.appName!="Netscape"?(Bt.prototype.am=yvt,EA=26):(Bt.prototype.am=xRe,EA=28);Bt.prototype.DB=EA;Bt.prototype.DM=(1<<EA)-1;Bt.prototype.DV=1<<EA;var Zoe=52;Bt.prototype.FV=Math.pow(2,Zoe);Bt.prototype.F1=Zoe-EA;Bt.prototype.F2=2*EA-Zoe;var xvt="0123456789abcdefghijklmnopqrstuvwxyz",xq=new Array,A6,Gd;A6=48;for(Gd=0;Gd<=9;++Gd)xq[A6++]=Gd;A6=97;for(Gd=10;Gd<36;++Gd)xq[A6++]=Gd;A6=65;for(Gd=10;Gd<36;++Gd)xq[A6++]=Gd;function vRe(e){return xvt.charAt(e)}o(vRe,"int2char");function bRe(e,t){var r=xq[e.charCodeAt(t)];return r??-1}o(bRe,"intAt");function vvt(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}o(vvt,"bnpCopyTo");function bvt(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}o(bvt,"bnpFromInt");function K5(e){var t=ao();return t.fromInt(e),t}o(K5,"nbv");function Evt(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,s=0;--n>=0;){var a=r==8?e[n]&255:bRe(e,n);if(a<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=a:s+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this.data[this.t++]=a>>this.DB-s):this.data[this.t-1]|=a<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&(e[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&Bt.ZERO.subTo(this,this)}o(Evt,"bnpFromString");function Ivt(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}o(Ivt,"bnpClamp");function Tvt(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,s="",a=this.t,l=this.DB-a*this.DB%t;if(a-- >0)for(l<this.DB&&(n=this.data[a]>>l)>0&&(i=!0,s=vRe(n));a>=0;)l<t?(n=(this.data[a]&(1<<l)-1)<<t-l,n|=this.data[--a]>>(l+=this.DB-t)):(n=this.data[a]>>(l-=t)&r,l<=0&&(l+=this.DB,--a)),n>0&&(i=!0),i&&(s+=vRe(n));return i?s:"0"}o(Tvt,"bnToString");function wvt(){var e=ao();return Bt.ZERO.subTo(this,e),e}o(wvt,"bnNegate");function _vt(){return this.s<0?this.negate():this}o(_vt,"bnAbs");function Svt(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}o(Svt,"bnCompareTo");function vq(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}o(vq,"nbits");function kvt(){return this.t<=0?0:this.DB*(this.t-1)+vq(this.data[this.t-1]^this.s&this.DM)}o(kvt,"bnBitLength");function Rvt(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}o(Rvt,"bnpDLShiftTo");function Bvt(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}o(Bvt,"bnpDRShiftTo");function Dvt(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM,l;for(l=this.t-1;l>=0;--l)t.data[l+s+1]=this.data[l]>>n|a,a=(this.data[l]&i)<<r;for(l=s-1;l>=0;--l)t.data[l]=0;t.data[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()}o(Dvt,"bnpLShiftTo");function Pvt(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&s)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}o(Pvt,"bnpRShiftTo");function Fvt(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}o(Fvt,"bnpSubTo");function Nvt(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&Bt.ZERO.subTo(t,t)}o(Nvt,"bnpMultiplyTo");function Lvt(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}o(Lvt,"bnpSquareTo");function Qvt(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=ao());var s=ao(),a=this.s,l=e.s,c=this.DB-vq(n.data[n.t-1]);c>0?(n.lShiftTo(c,s),i.lShiftTo(c,r)):(n.copyTo(s),i.copyTo(r));var u=s.t,f=s.data[u-1];if(f!=0){var m=f*(1<<this.F1)+(u>1?s.data[u-2]>>this.F2:0),h=this.FV/m,p=(1<<this.F1)/m,A=1<<this.F2,x=r.t,v=x-u,E=t??ao();for(s.dlShiftTo(v,E),r.compareTo(E)>=0&&(r.data[r.t++]=1,r.subTo(E,r)),Bt.ONE.dlShiftTo(u,E),E.subTo(s,s);s.t<u;)s.data[s.t++]=0;for(;--v>=0;){var b=r.data[--x]==f?this.DM:Math.floor(r.data[x]*h+(r.data[x-1]+A)*p);if((r.data[x]+=s.am(0,b,r,v,0,u))<b)for(s.dlShiftTo(v,E),r.subTo(E,r);r.data[x]<--b;)r.subTo(E,r)}t!=null&&(r.drShiftTo(u,t),a!=l&&Bt.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&Bt.ZERO.subTo(r,r)}}}o(Qvt,"bnpDivRemTo");function Mvt(e){var t=ao();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Bt.ZERO)>0&&e.subTo(t,t),t}o(Mvt,"bnMod");function Fx(e){this.m=e}o(Fx,"Classic");function Ovt(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}o(Ovt,"cConvert");function Uvt(e){return e}o(Uvt,"cRevert");function qvt(e){e.divRemTo(this.m,null,e)}o(qvt,"cReduce");function Wvt(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(Wvt,"cMulTo");function Gvt(e,t){e.squareTo(t),this.reduce(t)}o(Gvt,"cSqrTo");Fx.prototype.convert=Ovt;Fx.prototype.revert=Uvt;Fx.prototype.reduce=qvt;Fx.prototype.mulTo=Wvt;Fx.prototype.sqrTo=Gvt;function Hvt(){if(this.t<1)return 0;var e=this.data[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}o(Hvt,"bnpInvDigit");function Nx(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}o(Nx,"Montgomery");function jvt(e){var t=ao();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Bt.ZERO)>0&&this.m.subTo(t,t),t}o(jvt,"montConvert");function Vvt(e){var t=ao();return e.copyTo(t),this.reduce(t),t}o(Vvt,"montRevert");function $vt(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}o($vt,"montReduce");function zvt(e,t){e.squareTo(t),this.reduce(t)}o(zvt,"montSqrTo");function Yvt(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(Yvt,"montMulTo");Nx.prototype.convert=jvt;Nx.prototype.revert=Vvt;Nx.prototype.reduce=$vt;Nx.prototype.mulTo=Yvt;Nx.prototype.sqrTo=zvt;function Kvt(){return(this.t>0?this.data[0]&1:this.s)==0}o(Kvt,"bnpIsEven");function Jvt(e,t){if(e>4294967295||e<1)return Bt.ONE;var r=ao(),n=ao(),i=t.convert(this),s=vq(e)-1;for(i.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)}o(Jvt,"bnpExp");function Zvt(e,t){var r;return e<256||t.isEven()?r=new Fx(t):r=new Nx(t),this.exp(e,r)}o(Zvt,"bnModPowInt");Bt.prototype.copyTo=vvt;Bt.prototype.fromInt=bvt;Bt.prototype.fromString=Evt;Bt.prototype.clamp=Ivt;Bt.prototype.dlShiftTo=Rvt;Bt.prototype.drShiftTo=Bvt;Bt.prototype.lShiftTo=Dvt;Bt.prototype.rShiftTo=Pvt;Bt.prototype.subTo=Fvt;Bt.prototype.multiplyTo=Nvt;Bt.prototype.squareTo=Lvt;Bt.prototype.divRemTo=Qvt;Bt.prototype.invDigit=Hvt;Bt.prototype.isEven=Kvt;Bt.prototype.exp=Jvt;Bt.prototype.toString=Tvt;Bt.prototype.negate=wvt;Bt.prototype.abs=_vt;Bt.prototype.compareTo=Svt;Bt.prototype.bitLength=kvt;Bt.prototype.mod=Mvt;Bt.prototype.modPowInt=Zvt;Bt.ZERO=K5(0);Bt.ONE=K5(1);function Xvt(){var e=ao();return this.copyTo(e),e}o(Xvt,"bnClone");function ebt(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}o(ebt,"bnIntValue");function tbt(){return this.t==0?this.s:this.data[0]<<24>>24}o(tbt,"bnByteValue");function rbt(){return this.t==0?this.s:this.data[0]<<16>>16}o(rbt,"bnShortValue");function nbt(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}o(nbt,"bnpChunkSize");function ibt(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}o(ibt,"bnSigNum");function obt(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=K5(r),i=ao(),s=ao(),a="";for(this.divRemTo(n,i,s);i.signum()>0;)a=(r+s.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,s);return s.intValue().toString(e)+a}o(obt,"bnpToRadix");function sbt(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,s=0,a=0,l=0;l<e.length;++l){var c=bRe(e,l);if(c<0){e.charAt(l)=="-"&&this.signum()==0&&(i=!0);continue}a=t*a+c,++s>=r&&(this.dMultiply(n),this.dAddOffset(a,0),s=0,a=0)}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),i&&Bt.ZERO.subTo(this,this)}o(sbt,"bnpFromRadix");function abt(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(Bt.ONE.shiftLeft(e-1),Xoe,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(Bt.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}o(abt,"bnpFromNumber");function lbt(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}o(lbt,"bnToByteArray");function cbt(e){return this.compareTo(e)==0}o(cbt,"bnEquals");function ubt(e){return this.compareTo(e)<0?this:e}o(ubt,"bnMin");function fbt(e){return this.compareTo(e)>0?this:e}o(fbt,"bnMax");function dbt(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}o(dbt,"bnpBitwiseTo");function mbt(e,t){return e&t}o(mbt,"op_and");function hbt(e){var t=ao();return this.bitwiseTo(e,mbt,t),t}o(hbt,"bnAnd");function Xoe(e,t){return e|t}o(Xoe,"op_or");function pbt(e){var t=ao();return this.bitwiseTo(e,Xoe,t),t}o(pbt,"bnOr");function ERe(e,t){return e^t}o(ERe,"op_xor");function gbt(e){var t=ao();return this.bitwiseTo(e,ERe,t),t}o(gbt,"bnXor");function IRe(e,t){return e&~t}o(IRe,"op_andnot");function Abt(e){var t=ao();return this.bitwiseTo(e,IRe,t),t}o(Abt,"bnAndNot");function ybt(){for(var e=ao(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}o(ybt,"bnNot");function Cbt(e){var t=ao();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}o(Cbt,"bnShiftLeft");function xbt(e){var t=ao();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}o(xbt,"bnShiftRight");function vbt(e){if(e==0)return-1;var t=0;return(e&65535)==0&&(e>>=16,t+=16),(e&255)==0&&(e>>=8,t+=8),(e&15)==0&&(e>>=4,t+=4),(e&3)==0&&(e>>=2,t+=2),(e&1)==0&&++t,t}o(vbt,"lbit");function bbt(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+vbt(this.data[e]);return this.s<0?this.t*this.DB:-1}o(bbt,"bnGetLowestSetBit");function Ebt(e){for(var t=0;e!=0;)e&=e-1,++t;return t}o(Ebt,"cbit");function Ibt(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=Ebt(this.data[r]^t);return e}o(Ibt,"bnBitCount");function Tbt(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}o(Tbt,"bnTestBit");function wbt(e,t){var r=Bt.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}o(wbt,"bnpChangeBit");function _bt(e){return this.changeBit(e,Xoe)}o(_bt,"bnSetBit");function Sbt(e){return this.changeBit(e,IRe)}o(Sbt,"bnClearBit");function kbt(e){return this.changeBit(e,ERe)}o(kbt,"bnFlipBit");function Rbt(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}o(Rbt,"bnpAddTo");function Bbt(e){var t=ao();return this.addTo(e,t),t}o(Bbt,"bnAdd");function Dbt(e){var t=ao();return this.subTo(e,t),t}o(Dbt,"bnSubtract");function Pbt(e){var t=ao();return this.multiplyTo(e,t),t}o(Pbt,"bnMultiply");function Fbt(e){var t=ao();return this.divRemTo(e,t,null),t}o(Fbt,"bnDivide");function Nbt(e){var t=ao();return this.divRemTo(e,null,t),t}o(Nbt,"bnRemainder");function Lbt(e){var t=ao(),r=ao();return this.divRemTo(e,t,r),new Array(t,r)}o(Lbt,"bnDivideAndRemainder");function Qbt(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}o(Qbt,"bnpDMultiply");function Mbt(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}o(Mbt,"bnpDAddOffset");function US(){}o(US,"NullExp");function TRe(e){return e}o(TRe,"nNop");function Obt(e,t,r){e.multiplyTo(t,r)}o(Obt,"nMulTo");function Ubt(e,t){e.squareTo(t)}o(Ubt,"nSqrTo");US.prototype.convert=TRe;US.prototype.revert=TRe;US.prototype.mulTo=Obt;US.prototype.sqrTo=Ubt;function qbt(e){return this.exp(e,new US)}o(qbt,"bnPow");function Wbt(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}o(Wbt,"bnpMultiplyLowerTo");function Gbt(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}o(Gbt,"bnpMultiplyUpperTo");function y6(e){this.r2=ao(),this.q3=ao(),Bt.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}o(y6,"Barrett");function Hbt(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=ao();return e.copyTo(t),this.reduce(t),t}o(Hbt,"barrettConvert");function jbt(e){return e}o(jbt,"barrettRevert");function Vbt(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}o(Vbt,"barrettReduce");function $bt(e,t){e.squareTo(t),this.reduce(t)}o($bt,"barrettSqrTo");function zbt(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(zbt,"barrettMulTo");y6.prototype.convert=Hbt;y6.prototype.revert=jbt;y6.prototype.reduce=Vbt;y6.prototype.mulTo=zbt;y6.prototype.sqrTo=$bt;function Ybt(e,t){var r=e.bitLength(),n,i=K5(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new Fx(t):t.isEven()?s=new y6(t):s=new Nx(t);var a=new Array,l=3,c=n-1,u=(1<<n)-1;if(a[1]=s.convert(this),n>1){var f=ao();for(s.sqrTo(a[1],f);l<=u;)a[l]=ao(),s.mulTo(f,a[l-2],a[l]),l+=2}var m=e.t-1,h,p=!0,A=ao(),x;for(r=vq(e.data[m])-1;m>=0;){for(r>=c?h=e.data[m]>>r-c&u:(h=(e.data[m]&(1<<r+1)-1)<<c-r,m>0&&(h|=e.data[m-1]>>this.DB+r-c)),l=n;(h&1)==0;)h>>=1,--l;if((r-=l)<0&&(r+=this.DB,--m),p)a[h].copyTo(i),p=!1;else{for(;l>1;)s.sqrTo(i,A),s.sqrTo(A,i),l-=2;l>0?s.sqrTo(i,A):(x=i,i=A,A=x),s.mulTo(A,a[h],i)}for(;m>=0&&(e.data[m]&1<<r)==0;)s.sqrTo(i,A),x=i,i=A,A=x,--r<0&&(r=this.DB-1,--m)}return s.revert(i)}o(Ybt,"bnModPow");function Kbt(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}o(Kbt,"bnGCD");function Jbt(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}o(Jbt,"bnpModInt");function Zbt(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return Bt.ZERO;for(var r=e.clone(),n=this.clone(),i=K5(1),s=K5(0),a=K5(0),l=K5(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!l.isEven())&&(a.addTo(this,a),l.subTo(e,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),s.subTo(l,s)):(n.subTo(r,n),t&&a.subTo(i,a),l.subTo(s,l))}if(n.compareTo(Bt.ONE)!=0)return Bt.ZERO;if(l.compareTo(e)>=0)return l.subtract(e);if(l.signum()<0)l.addTo(e,l);else return l;return l.signum()<0?l.add(e):l}o(Zbt,"bnModInverse");var xh=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Xbt=(1<<26)/xh[xh.length-1];function eEt(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=xh[xh.length-1]){for(t=0;t<xh.length;++t)if(r.data[0]==xh[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<xh.length;){for(var n=xh[t],i=t+1;i<xh.length&&n<Xbt;)n*=xh[i++];for(n=r.modInt(n);t<i;)if(n%xh[t++]==0)return!1}return r.millerRabin(e)}o(eEt,"bnIsProbablePrime");function tEt(e){var t=this.subtract(Bt.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=rEt(),s,a=0;a<e;++a){do s=new Bt(this.bitLength(),i);while(s.compareTo(Bt.ONE)<=0||s.compareTo(t)>=0);var l=s.modPow(n,this);if(l.compareTo(Bt.ONE)!=0&&l.compareTo(t)!=0){for(var c=1;c++<r&&l.compareTo(t)!=0;)if(l=l.modPowInt(2,this),l.compareTo(Bt.ONE)==0)return!1;if(l.compareTo(t)!=0)return!1}}return!0}o(tEt,"bnpMillerRabin");function rEt(){return{nextBytes:o(function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)},"nextBytes")}}o(rEt,"bnGetPrng");Bt.prototype.chunkSize=nbt;Bt.prototype.toRadix=obt;Bt.prototype.fromRadix=sbt;Bt.prototype.fromNumber=abt;Bt.prototype.bitwiseTo=dbt;Bt.prototype.changeBit=wbt;Bt.prototype.addTo=Rbt;Bt.prototype.dMultiply=Qbt;Bt.prototype.dAddOffset=Mbt;Bt.prototype.multiplyLowerTo=Wbt;Bt.prototype.multiplyUpperTo=Gbt;Bt.prototype.modInt=Jbt;Bt.prototype.millerRabin=tEt;Bt.prototype.clone=Xvt;Bt.prototype.intValue=ebt;Bt.prototype.byteValue=tbt;Bt.prototype.shortValue=rbt;Bt.prototype.signum=ibt;Bt.prototype.toByteArray=lbt;Bt.prototype.equals=cbt;Bt.prototype.min=ubt;Bt.prototype.max=fbt;Bt.prototype.and=hbt;Bt.prototype.or=pbt;Bt.prototype.xor=gbt;Bt.prototype.andNot=Abt;Bt.prototype.not=ybt;Bt.prototype.shiftLeft=Cbt;Bt.prototype.shiftRight=xbt;Bt.prototype.getLowestSetBit=bbt;Bt.prototype.bitCount=Ibt;Bt.prototype.testBit=Tbt;Bt.prototype.setBit=_bt;Bt.prototype.clearBit=Sbt;Bt.prototype.flipBit=kbt;Bt.prototype.add=Bbt;Bt.prototype.subtract=Dbt;Bt.prototype.multiply=Pbt;Bt.prototype.divide=Fbt;Bt.prototype.remainder=Nbt;Bt.prototype.divideAndRemainder=Lbt;Bt.prototype.modPow=Ybt;Bt.prototype.modInverse=Zbt;Bt.prototype.pow=qbt;Bt.prototype.gcd=Kbt;Bt.prototype.isProbablePrime=eEt});var C6=H((Djr,RRe)=>{d();var fg=ci();sg();so();var SRe=RRe.exports=fg.sha1=fg.sha1||{};fg.md.sha1=fg.md.algorithms.sha1=SRe;SRe.create=function(){kRe||nEt();var e=null,t=fg.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=fg.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=fg.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),_Re(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=fg.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(ese.substr(0,n.blockLength-a));for(var l,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)l=n.fullMessageLength[f+1]*8,c=l/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};_Re(m,r,i);var h=fg.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h},n};var ese=null,kRe=!1;function nEt(){ese="\x80",ese+=fg.util.fillString("\0",64),kRe=!0}o(nEt,"_init");function _Re(e,t,r){for(var n,i,s,a,l,c,u,f,m=r.length();m>=64;){for(i=e.h0,s=e.h1,a=e.h2,l=e.h3,c=e.h4,f=0;f<16;++f)n=r.getInt32(),t[f]=n,u=l^s&(a^l),n=(i<<5|i>>>27)+u+c+1518500249+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<20;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=l^s&(a^l),n=(i<<5|i>>>27)+u+c+1518500249+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<32;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+1859775393+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<40;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+1859775393+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<60;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s&a|l&(s^a),n=(i<<5|i>>>27)+u+c+2400959708+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<80;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+3395469782+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,e.h4=e.h4+c|0,m-=64}}o(_Re,"_update")});var tse=H((Njr,DRe)=>{d();var dg=ci();so();Wd();C6();var BRe=DRe.exports=dg.pkcs1=dg.pkcs1||{};BRe.encode_rsa_oaep=function(e,t,r){var n,i,s,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),s?s.start():s=dg.md.sha1.create(),a||(a=s);var l=Math.ceil(e.n.bitLength()/8),c=l-2*s.digestLength-2;if(t.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=c,u}n||(n=""),s.update(n,"raw");for(var f=s.digest(),m="",h=c-t.length,p=0;p<h;p++)m+="\0";var A=f.getBytes()+m+""+t;if(!i)i=dg.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=s.digestLength,u}var x=bq(i,l-s.digestLength-1,a),v=dg.util.xorBytes(A,x,A.length),E=bq(v,s.digestLength,a),b=dg.util.xorBytes(i,E,i.length);return"\0"+b+v};BRe.decode_rsa_oaep=function(e,t,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var v=new Error("RSAES-OAEP encoded message length is invalid.");throw v.length=t.length,v.expectedLength=a,v}if(i===void 0?i=dg.md.sha1.create():i.start(),s||(s=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var l=i.digest().getBytes(),c=t.charAt(0),u=t.substring(1,i.digestLength+1),f=t.substring(1+i.digestLength),m=bq(f,i.digestLength,s),h=dg.util.xorBytes(u,m,u.length),p=bq(h,a-i.digestLength-1,s),A=dg.util.xorBytes(f,p,f.length),x=A.substring(0,i.digestLength),v=c!=="\0",E=0;E<i.digestLength;++E)v|=l.charAt(E)!==x.charAt(E);for(var b=1,_=i.digestLength,R=i.digestLength;R<A.length;R++){var P=A.charCodeAt(R),F=P&1^1,W=b?65534:0;v|=P&W,b=b&F,_+=b}if(v||A.charCodeAt(_)!==1)throw new Error("Invalid RSAES-OAEP padding.");return A.substring(_+1)};function bq(e,t,r){r||(r=dg.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),s=0;s<i;++s){var a=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}o(bq,"rsa_mgf1")});var nse=H((Mjr,rse)=>{d();var J5=ci();so();qS();Wd();(function(){if(J5.prime){rse.exports=J5.prime;return}var e=rse.exports=J5.prime=J5.prime||{},t=J5.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=o(function(m,h){return m|h},"op_or");e.generateProbablePrime=function(m,h,p){typeof h=="function"&&(p=h,h={}),h=h||{};var A=h.algorithm||"PRIMEINC";typeof A=="string"&&(A={name:A}),A.options=A.options||{};var x=h.prng||J5.random,v={nextBytes:o(function(E){for(var b=x.getBytesSync(E.length),_=0;_<E.length;++_)E[_]=b.charCodeAt(_)},"nextBytes")};if(A.name==="PRIMEINC")return s(m,v,A.options,p);throw new Error("Invalid prime generation algorithm: "+A.name)};function s(m,h,p,A){return"workers"in p?c(m,h,p,A):a(m,h,p,A)}o(s,"primeincFindPrime");function a(m,h,p,A){var x=u(m,h),v=0,E=f(x.bitLength());"millerRabinTests"in p&&(E=p.millerRabinTests);var b=10;"maxBlockTime"in p&&(b=p.maxBlockTime),l(x,m,h,v,E,b,A)}o(a,"primeincFindPrimeWithoutWorkers");function l(m,h,p,A,x,v,E){var b=+new Date;do{if(m.bitLength()>h&&(m=u(h,p)),m.isProbablePrime(x))return E(null,m);m.dAddOffset(r[A++%8],0)}while(v<0||+new Date-b<v);J5.util.setImmediate(function(){l(m,h,p,A,x,v,E)})}o(l,"_primeinc");function c(m,h,p,A){if(typeof Worker>"u")return a(m,h,p,A);var x=u(m,h),v=p.workers,E=p.workLoad||100,b=E*30/8,_=p.workerScript||"forge/prime.worker.js";if(v===-1)return J5.util.estimateCores(function(P,F){P&&(F=2),v=F-1,R()});R();function R(){v=Math.max(1,v);for(var P=[],F=0;F<v;++F)P[F]=new Worker(_);for(var W=v,F=0;F<v;++F)P[F].addEventListener("message",de);var se=!1;function de(re){if(!se){--W;var G=re.data;if(G.found){for(var U=0;U<P.length;++U)P[U].terminate();return se=!0,A(null,new t(G.prime,16))}x.bitLength()>m&&(x=u(m,h));var ne=x.toString(16);re.target.postMessage({hex:ne,workLoad:E}),x.dAddOffset(b,0)}}o(de,"workerMessage")}o(R,"generate")}o(c,"primeincFindPrimeWithWorkers");function u(m,h){var p=new t(m,h),A=m-1;return p.testBit(A)||p.bitwiseTo(t.ONE.shiftLeft(A),i,p),p.dAddOffset(31-p.mod(n).byteValue(),0),p}o(u,"generateRandom");function f(m){return m<=100?27:m<=150?18:m<=200?15:m<=250?12:m<=300?9:m<=350?8:m<=400?7:m<=500?6:m<=600?5:m<=800?4:m<=1250?3:2}o(f,"getMillerRabinTests")})()});var WS=H((qjr,ORe)=>{d();var nn=ci();Ch();qS();Y5();tse();nse();Wd();so();typeof Zi>"u"&&(Zi=nn.jsbn.BigInteger);var Zi,ise=nn.util.isNodejs?require("crypto"):null,ze=nn.asn1,Hd=nn.util;nn.pki=nn.pki||{};ORe.exports=nn.pki.rsa=nn.rsa=nn.rsa||{};var Yn=nn.pki,iEt=[6,4,2,4,2,4,6,2],oEt={name:"PrivateKeyInfo",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},sEt={name:"RSAPrivateKey",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},aEt={name:"RSAPublicKey",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},lEt=nn.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:ze.Class.UNIVERSAL,type:ze.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},cEt={name:"DigestInfo",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:ze.Class.UNIVERSAL,type:ze.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},uEt=o(function(e){var t;if(e.algorithm in Yn.oids)t=Yn.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=ze.oidToDer(t).getBytes(),i=ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[]),s=ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[]);s.value.push(ze.create(ze.Class.UNIVERSAL,ze.Type.OID,!1,n)),s.value.push(ze.create(ze.Class.UNIVERSAL,ze.Type.NULL,!1,""));var a=ze.create(ze.Class.UNIVERSAL,ze.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(s),i.value.push(a),ze.toDer(i).getBytes()},"emsaPkcs1v15encode"),QRe=o(function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(Zi.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(Zi.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new Zi(nn.util.bytesToHex(nn.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(Zi.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(s)<0;)i=i.add(t.p);var a=i.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return a=a.multiply(n.modInverse(t.n)).mod(t.n),a},"_modPow");Yn.rsa.encrypt=function(e,t,r){var n=r,i,s=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=MRe(e,t,r)):(i=nn.util.createBuffer(),i.putBytes(e));for(var a=new Zi(i.toHex(),16),l=QRe(a,t,n),c=l.toString(16),u=nn.util.createBuffer(),f=s-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(nn.util.hexToBytes(c)),u.getBytes()};Yn.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=i,s}var a=new Zi(nn.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=QRe(a,t,r),c=l.toString(16),u=nn.util.createBuffer(),f=i-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(nn.util.hexToBytes(c)),n!==!1?Eq(u.getBytes(),t,r):u.getBytes()};Yn.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||nn.random,i={nextBytes:o(function(l){for(var c=n.getBytesSync(l.length),u=0;u<l.length;++u)l[u]=c.charCodeAt(u)},"nextBytes")},s=r.algorithm||"PRIMEINC",a;if(s==="PRIMEINC")a={algorithm:s,state:0,bits:e,rng:i,eInt:t||65537,e:new Zi(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+s);return a};Yn.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new Zi(null);r.fromInt(30);for(var n=0,i=o(function(m,h){return m|h},"op_or"),s=+new Date,a,l=0;e.keys===null&&(t<=0||l<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,u=c-1;e.pqState===0?(e.num=new Zi(c,e.rng),e.num.testBit(u)||e.num.bitwiseTo(Zi.ONE.shiftLeft(u),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(dEt(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(iEt[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(Zi.ONE).gcd(e.e).compareTo(Zi.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(Zi.ONE),e.q1=e.q.subtract(Zi.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(Zi.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var f=e.e.modInverse(e.phi);e.keys={privateKey:Yn.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:Yn.rsa.setPublicKey(e.n,e.e)}}a=+new Date,l+=a-s,s=a}return e.keys!==null};Yn.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!nn.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(PRe("generateKeyPair"))return ise.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(l,c,u){if(l)return n(l);n(null,{privateKey:Yn.privateKeyFromPem(u),publicKey:Yn.publicKeyFromPem(c)})});if(FRe("generateKey")&&FRe("exportKey"))return Hd.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:LRe(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(l){return Hd.globalScope.crypto.subtle.exportKey("pkcs8",l.privateKey)}).then(void 0,function(l){n(l)}).then(function(l){if(l){var c=Yn.privateKeyFromAsn1(ze.fromDer(nn.util.createBuffer(l)));n(null,{privateKey:c,publicKey:Yn.setRsaPublicKey(c.n,c.e)})}});if(NRe("generateKey")&&NRe("exportKey")){var i=Hd.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:LRe(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(l){var c=l.target.result,u=Hd.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(f){var m=f.target.result,h=Yn.privateKeyFromAsn1(ze.fromDer(nn.util.createBuffer(m)));n(null,{privateKey:h,publicKey:Yn.setRsaPublicKey(h.n,h.e)})},u.onerror=function(f){n(f)}},i.onerror=function(l){n(l)};return}}else if(PRe("generateKeyPairSync")){var s=ise.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:Yn.privateKeyFromPem(s.privateKey),publicKey:Yn.publicKeyFromPem(s.publicKey)}}}var a=Yn.rsa.createKeyPairGenerationState(e,t,r);if(!n)return Yn.rsa.stepKeyPairGenerationState(a,0),a.keys;fEt(a,r,n)};Yn.setRsaPublicKey=Yn.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:o(function(l,c,u){return MRe(l,c,2).getBytes()},"encode")};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:o(function(l,c){return nn.pkcs1.encode_rsa_oaep(c,l,s)},"encode")};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:o(function(l){return l},"encode")};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return Yn.rsa.encrypt(a,r,!0)},r.verify=function(n,i,s,a){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),s==="RSASSA-PKCS1-V1_5"?s={verify:o(function(c,u){u=Eq(u,r,!0);var f=ze.fromDer(u,{parseAllBytes:a._parseAllDigestBytes}),m={},h=[];if(!ze.validate(f,cEt,m,h)){var p=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw p.errors=h,p}var A=ze.derToOid(m.algorithmIdentifier);if(!(A===nn.oids.md2||A===nn.oids.md5||A===nn.oids.sha1||A===nn.oids.sha224||A===nn.oids.sha256||A===nn.oids.sha384||A===nn.oids.sha512||A===nn.oids["sha512-224"]||A===nn.oids["sha512-256"])){var p=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw p.oid=A,p}if((A===nn.oids.md2||A===nn.oids.md5)&&!("parameters"in m))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===m.digest},"verify")}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:o(function(c,u){return u=Eq(u,r,!0),c===u},"verify")});var l=Yn.rsa.decrypt(i,r,!0,!1);return s.verify(n,l,r.n.bitLength())},r};Yn.setRsaPrivateKey=Yn.rsa.setPrivateKey=function(e,t,r,n,i,s,a,l){var c={n:e,e:t,d:r,p:n,q:i,dP:s,dQ:a,qInv:l};return c.decrypt=function(u,f,m){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var h=Yn.rsa.decrypt(u,c,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:Eq};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:o(function(p,A){return nn.pkcs1.decode_rsa_oaep(A,p,m)},"decode")};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:o(function(p){return p},"decode")};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(h,c,!1)},c.sign=function(u,f){var m=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:uEt},m=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:o(function(){return u},"encode")},m=1);var h=f.encode(u,c.n.bitLength());return Yn.rsa.encrypt(h,c,m)},c};Yn.wrapRsaPrivateKey=function(e){return ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,ze.integerToDer(0).getBytes()),ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.OID,!1,ze.oidToDer(Yn.oids.rsaEncryption).getBytes()),ze.create(ze.Class.UNIVERSAL,ze.Type.NULL,!1,"")]),ze.create(ze.Class.UNIVERSAL,ze.Type.OCTETSTRING,!1,ze.toDer(e).getBytes())])};Yn.privateKeyFromAsn1=function(e){var t={},r=[];if(ze.validate(e,oEt,t,r)&&(e=ze.fromDer(nn.util.createBuffer(t.privateKey))),t={},r=[],!ze.validate(e,sEt,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,a,l,c,u,f,m;return i=nn.util.createBuffer(t.privateKeyModulus).toHex(),s=nn.util.createBuffer(t.privateKeyPublicExponent).toHex(),a=nn.util.createBuffer(t.privateKeyPrivateExponent).toHex(),l=nn.util.createBuffer(t.privateKeyPrime1).toHex(),c=nn.util.createBuffer(t.privateKeyPrime2).toHex(),u=nn.util.createBuffer(t.privateKeyExponent1).toHex(),f=nn.util.createBuffer(t.privateKeyExponent2).toHex(),m=nn.util.createBuffer(t.privateKeyCoefficient).toHex(),Yn.setRsaPrivateKey(new Zi(i,16),new Zi(s,16),new Zi(a,16),new Zi(l,16),new Zi(c,16),new Zi(u,16),new Zi(f,16),new Zi(m,16))};Yn.privateKeyToAsn1=Yn.privateKeyToRSAPrivateKey=function(e){return ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,ze.integerToDer(0).getBytes()),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,mg(e.n)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,mg(e.e)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,mg(e.d)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,mg(e.p)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,mg(e.q)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,mg(e.dP)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,mg(e.dQ)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,mg(e.qInv))])};Yn.publicKeyFromAsn1=function(e){var t={},r=[];if(ze.validate(e,lEt,t,r)){var n=ze.derToOid(t.publicKeyOid);if(n!==Yn.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!ze.validate(e,aEt,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=nn.util.createBuffer(t.publicKeyModulus).toHex(),a=nn.util.createBuffer(t.publicKeyExponent).toHex();return Yn.setRsaPublicKey(new Zi(s,16),new Zi(a,16))};Yn.publicKeyToAsn1=Yn.publicKeyToSubjectPublicKeyInfo=function(e){return ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.OID,!1,ze.oidToDer(Yn.oids.rsaEncryption).getBytes()),ze.create(ze.Class.UNIVERSAL,ze.Type.NULL,!1,"")]),ze.create(ze.Class.UNIVERSAL,ze.Type.BITSTRING,!1,[Yn.publicKeyToRSAPublicKey(e)])])};Yn.publicKeyToRSAPublicKey=function(e){return ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,mg(e.n)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,mg(e.e))])};function MRe(e,t,r){var n=nn.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=e.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var a=i-3-e.length,l;if(r===0||r===1){l=r===0?0:255;for(var c=0;c<a;++c)n.putByte(l)}else for(;a>0;){for(var u=0,f=nn.random.getBytes(a),c=0;c<a;++c)l=f.charCodeAt(c),l===0?++u:n.putByte(l);a=u}return n.putByte(0),n.putBytes(e),n}o(MRe,"_encodePkcs1_v1_5");function Eq(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),s=nn.util.createBuffer(e),a=s.getByte(),l=s.getByte();if(a!==0||r&&l!==0&&l!==1||!r&&l!=2||r&&l===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(l===0){c=i-3-n;for(var u=0;u<c;++u)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(l===1)for(c=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++c}else if(l===2)for(c=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++c}var f=s.getByte();if(f!==0||c!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}o(Eq,"_decodePkcs1_v1_5");function fEt(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){s(e.pBits,function(l,c){if(l)return r(l);if(e.p=c,e.q!==null)return a(l,e.q);s(e.qBits,a)})}o(i,"generate");function s(l,c){nn.prime.generateProbablePrime(l,n,c)}o(s,"getPrime");function a(l,c){if(l)return r(l);if(e.q=c,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(Zi.ONE).gcd(e.e).compareTo(Zi.ONE)!==0){e.p=null,i();return}if(e.q.subtract(Zi.ONE).gcd(e.e).compareTo(Zi.ONE)!==0){e.q=null,s(e.qBits,a);return}if(e.p1=e.p.subtract(Zi.ONE),e.q1=e.q.subtract(Zi.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(Zi.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,s(e.qBits,a);return}var f=e.e.modInverse(e.phi);e.keys={privateKey:Yn.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:Yn.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}o(a,"finish")}o(fEt,"_generateKeyPair");function mg(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=nn.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}o(mg,"_bnToBytes");function dEt(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}o(dEt,"_getMillerRabinTests");function PRe(e){return nn.util.isNodejs&&typeof ise[e]=="function"}o(PRe,"_detectNodeCrypto");function FRe(e){return typeof Hd.globalScope<"u"&&typeof Hd.globalScope.crypto=="object"&&typeof Hd.globalScope.crypto.subtle=="object"&&typeof Hd.globalScope.crypto.subtle[e]=="function"}o(FRe,"_detectSubtleCrypto");function NRe(e){return typeof Hd.globalScope<"u"&&typeof Hd.globalScope.msCrypto=="object"&&typeof Hd.globalScope.msCrypto.subtle=="object"&&typeof Hd.globalScope.msCrypto.subtle[e]=="function"}o(NRe,"_detectSubtleMsCrypto");function LRe(e){for(var t=nn.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}o(LRe,"_intToUint8Array")});var ose=H((Hjr,HRe)=>{d();var _r=ci();z5();Ch();OS();sg();Y5();yq();Px();Wd();Koe();WS();so();typeof URe>"u"&&(URe=_r.jsbn.BigInteger);var URe,ht=_r.asn1,ii=_r.pki=_r.pki||{};HRe.exports=ii.pbe=_r.pbe=_r.pbe||{};var Lx=ii.oids,mEt={name:"EncryptedPrivateKeyInfo",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},hEt={name:"PBES2Algorithms",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:ht.Class.UNIVERSAL,type:ht.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:ht.Class.UNIVERSAL,type:ht.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},pEt={name:"pkcs-12PbeParams",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:ht.Class.UNIVERSAL,type:ht.Type.INTEGER,constructed:!1,capture:"iterations"}]};ii.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=_r.random.getBytesSync(r.saltSize),i=r.count,s=ht.integerToDer(i),a,l,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,f,m;switch(r.algorithm){case"aes128":a=16,u=16,f=Lx["aes128-CBC"],m=_r.aes.createEncryptionCipher;break;case"aes192":a=24,u=16,f=Lx["aes192-CBC"],m=_r.aes.createEncryptionCipher;break;case"aes256":a=32,u=16,f=Lx["aes256-CBC"],m=_r.aes.createEncryptionCipher;break;case"des":a=8,u=8,f=Lx.desCBC,m=_r.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var p="hmacWith"+r.prfAlgorithm.toUpperCase(),A=GRe(p),x=_r.pkcs5.pbkdf2(t,n,i,a,A),v=_r.random.getBytesSync(u),E=m(x);E.start(v),E.update(ht.toDer(e)),E.finish(),c=E.output.getBytes();var b=gEt(n,s,a,p);l=ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(Lx.pkcs5PBES2).getBytes()),ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(Lx.pkcs5PBKDF2).getBytes()),b]),ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(f).getBytes()),ht.create(ht.Class.UNIVERSAL,ht.Type.OCTETSTRING,!1,v)])])])}else if(r.algorithm==="3des"){a=24;var _=new _r.util.ByteBuffer(n),x=ii.pbe.generatePkcs12Key(t,_,1,i,a),v=ii.pbe.generatePkcs12Key(t,_,2,i,a),E=_r.des.createEncryptionCipher(x);E.start(v),E.update(ht.toDer(e)),E.finish(),c=E.output.getBytes(),l=ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(Lx["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OCTETSTRING,!1,n),ht.create(ht.Class.UNIVERSAL,ht.Type.INTEGER,!1,s.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var R=ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[l,ht.create(ht.Class.UNIVERSAL,ht.Type.OCTETSTRING,!1,c)]);return R};ii.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!ht.validate(e,mEt,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=ht.derToOid(n.encryptionOid),l=ii.pbe.getCipher(a,n.encryptionParams,t),c=_r.util.createBuffer(n.encryptedData);return l.update(c),l.finish()&&(r=ht.fromDer(l.output)),r};ii.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:ht.toDer(e).getBytes()};return _r.pem.encode(r,{maxline:t})};ii.encryptedPrivateKeyFromPem=function(e){var t=_r.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return ht.fromDer(t.body)};ii.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=ii.wrapRsaPrivateKey(ii.privateKeyToAsn1(e));return n=ii.encryptPrivateKeyInfo(n,t,r),ii.encryptedPrivateKeyToPem(n)}var i,s,a,l;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,s=_r.random.getBytesSync(16),l=_r.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,s=_r.random.getBytesSync(16),l=_r.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,s=_r.random.getBytesSync(16),l=_r.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,s=_r.random.getBytesSync(8),l=_r.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,s=_r.random.getBytesSync(8),l=_r.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=_r.pbe.opensslDeriveBytes(t,s.substr(0,8),a),f=l(u);f.start(s),f.update(ht.toDer(ii.privateKeyToAsn1(e))),f.finish();var m={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:_r.util.bytesToHex(s).toUpperCase()},body:f.output.getBytes()};return _r.pem.encode(m)};ii.decryptRsaPrivateKey=function(e,t){var r=null,n=_r.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,a;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,a=_r.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,a=_r.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,a=_r.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,a=_r.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,a=_r.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,a=o(function(m){return _r.rc2.createDecryptionCipher(m,40)},"cipherFn");break;case"RC2-64-CBC":s=8,a=o(function(m){return _r.rc2.createDecryptionCipher(m,64)},"cipherFn");break;case"RC2-128-CBC":s=16,a=o(function(m){return _r.rc2.createDecryptionCipher(m,128)},"cipherFn");break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var l=_r.util.hexToBytes(n.dekInfo.parameters),c=_r.pbe.opensslDeriveBytes(t,l.substr(0,8),s),u=a(c);if(u.start(l),u.update(_r.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=ii.decryptPrivateKeyInfo(ht.fromDer(r),t):r=ht.fromDer(r),r!==null&&(r=ii.privateKeyFromAsn1(r)),r};ii.pbe.generatePkcs12Key=function(e,t,r,n,i,s){var a,l;if(typeof s>"u"||s===null){if(!("sha1"in _r.md))throw new Error('"sha1" hash algorithm unavailable.');s=_r.md.sha1.create()}var c=s.digestLength,u=s.blockLength,f=new _r.util.ByteBuffer,m=new _r.util.ByteBuffer;if(e!=null){for(l=0;l<e.length;l++)m.putInt16(e.charCodeAt(l));m.putInt16(0)}var h=m.length(),p=t.length(),A=new _r.util.ByteBuffer;A.fillWithByte(r,u);var x=u*Math.ceil(p/u),v=new _r.util.ByteBuffer;for(l=0;l<x;l++)v.putByte(t.at(l%p));var E=u*Math.ceil(h/u),b=new _r.util.ByteBuffer;for(l=0;l<E;l++)b.putByte(m.at(l%h));var _=v;_.putBuffer(b);for(var R=Math.ceil(i/c),P=1;P<=R;P++){var F=new _r.util.ByteBuffer;F.putBytes(A.bytes()),F.putBytes(_.bytes());for(var W=0;W<n;W++)s.start(),s.update(F.getBytes()),F=s.digest();var se=new _r.util.ByteBuffer;for(l=0;l<u;l++)se.putByte(F.at(l%c));var de=Math.ceil(p/u)+Math.ceil(h/u),re=new _r.util.ByteBuffer;for(a=0;a<de;a++){var G=new _r.util.ByteBuffer(_.getBytes(u)),U=511;for(l=se.length()-1;l>=0;l--)U=U>>8,U+=se.at(l)+G.at(l),G.setAt(l,U&255);re.putBuffer(G)}_=re,f.putBuffer(F)}return f.truncate(f.length()-i),f};ii.pbe.getCipher=function(e,t,r){switch(e){case ii.oids.pkcs5PBES2:return ii.pbe.getCipherForPBES2(e,t,r);case ii.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case ii.oids["pbewithSHAAnd40BitRC2-CBC"]:return ii.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};ii.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!ht.validate(t,hEt,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(e=ht.derToOid(n.kdfOid),e!==ii.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=e,s.supportedOids=["pkcs5PBKDF2"],s}if(e=ht.derToOid(n.encOid),e!==ii.oids["aes128-CBC"]&&e!==ii.oids["aes192-CBC"]&&e!==ii.oids["aes256-CBC"]&&e!==ii.oids["des-EDE3-CBC"]&&e!==ii.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=e,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var a=n.kdfSalt,l=_r.util.createBuffer(n.kdfIterationCount);l=l.getInt(l.length()<<3);var c,u;switch(ii.oids[e]){case"aes128-CBC":c=16,u=_r.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=_r.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=_r.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=_r.des.createDecryptionCipher;break;case"desCBC":c=8,u=_r.des.createDecryptionCipher;break}var f=WRe(n.prfOid),m=_r.pkcs5.pbkdf2(r,a,l,c,f),h=n.encIv,p=u(m);return p.start(h),p};ii.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!ht.validate(t,pEt,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=_r.util.createBuffer(n.salt),l=_r.util.createBuffer(n.iterations);l=l.getInt(l.length()<<3);var c,u,f;switch(e){case ii.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,f=_r.des.startDecrypting;break;case ii.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,f=o(function(x,v){var E=_r.rc2.createDecryptionCipher(x,40);return E.start(v,null),E},"cipherFn");break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=e,s}var m=WRe(n.prfOid),h=ii.pbe.generatePkcs12Key(r,a,1,l,c,m);m.start();var p=ii.pbe.generatePkcs12Key(r,a,2,l,u,m);return f(h,p)};ii.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in _r.md))throw new Error('"md5" hash algorithm unavailable.');n=_r.md.md5.create()}t===null&&(t="");for(var i=[qRe(n,e+t)],s=16,a=1;s<r;++a,s+=16)i.push(qRe(n,i[a-1]+e+t));return i.join("").substr(0,r)};function qRe(e,t){return e.start().update(t).digest().getBytes()}o(qRe,"hash");function WRe(e){var t;if(!e)t="hmacWithSHA1";else if(t=ii.oids[ht.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return GRe(t)}o(WRe,"prfOidToMessageDigest");function GRe(e){var t=_r.md;switch(e){case"hmacWithSHA224":t=_r.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}o(GRe,"prfAlgorithmToMessageDigest");function gEt(e,t,r,n){var i=ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OCTETSTRING,!1,e),ht.create(ht.Class.UNIVERSAL,ht.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(ht.create(ht.Class.UNIVERSAL,ht.Type.INTEGER,!1,_r.util.hexToBytes(r.toString(16))),ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(ii.oids[n]).getBytes()),ht.create(ht.Class.UNIVERSAL,ht.Type.NULL,!1,"")])),i}o(gEt,"createPbkdf2Params")});var sse=H(($jr,$Re)=>{d();var x6=ci();Ch();so();var Er=x6.asn1,v6=$Re.exports=x6.pkcs7asn1=x6.pkcs7asn1||{};x6.pkcs7=x6.pkcs7||{};x6.pkcs7.asn1=v6;var jRe={name:"ContentInfo",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Er.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};v6.contentInfoValidator=jRe;var VRe={name:"EncryptedContentInfo",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:Er.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:Er.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};v6.envelopedDataValidator={name:"EnvelopedData",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(VRe)};v6.encryptedDataValidator={name:"EncryptedData",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1,capture:"version"}].concat(VRe)};var AEt={name:"SignerInfo",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:Er.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:Er.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:Er.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};v6.signedDataValidator={name:"SignedData",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},jRe,{name:"SignedData.Certificates",tagClass:Er.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:Er.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SET,capture:"signerInfos",optional:!0,value:[AEt]}]};v6.recipientInfoValidator={name:"RecipientInfo",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:Er.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var ase=H((Yjr,zRe)=>{d();var Qx=ci();so();Qx.mgf=Qx.mgf||{};var yEt=zRe.exports=Qx.mgf.mgf1=Qx.mgf1=Qx.mgf1||{};yEt.create=function(e){var t={generate:o(function(r,n){for(var i=new Qx.util.ByteBuffer,s=Math.ceil(n/e.digestLength),a=0;a<s;a++){var l=new Qx.util.ByteBuffer;l.putInt32(a),e.start(),e.update(r+l.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()},"generate")};return t}});var KRe=H((Zjr,YRe)=>{d();var Iq=ci();ase();YRe.exports=Iq.mgf=Iq.mgf||{};Iq.mgf.mgf1=Iq.mgf1});var Tq=H((eVr,JRe)=>{d();var Mx=ci();Wd();so();var CEt=JRe.exports=Mx.pss=Mx.pss||{};CEt.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=Mx.util.createBuffer(i));var s;if("saltLength"in e)s=e.saltLength;else if(i!==null)s=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==s)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||Mx.random,l={};return l.encode=function(c,u){var f,m=u-1,h=Math.ceil(m/8),p=c.digest().getBytes();if(h<n+s+2)throw new Error("Message is too long to encrypt.");var A;i===null?A=a.getBytesSync(s):A=i.bytes();var x=new Mx.util.ByteBuffer;x.fillWithByte(0,8),x.putBytes(p),x.putBytes(A),t.start(),t.update(x.getBytes());var v=t.digest().getBytes(),E=new Mx.util.ByteBuffer;E.fillWithByte(0,h-s-n-2),E.putByte(1),E.putBytes(A);var b=E.getBytes(),_=h-n-1,R=r.generate(v,_),P="";for(f=0;f<_;f++)P+=String.fromCharCode(b.charCodeAt(f)^R.charCodeAt(f));var F=65280>>8*h-m&255;return P=String.fromCharCode(P.charCodeAt(0)&~F)+P.substr(1),P+v+"\xBC"},l.verify=function(c,u,f){var m,h=f-1,p=Math.ceil(h/8);if(u=u.substr(-p),p<n+s+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(p-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var A=p-n-1,x=u.substr(0,A),v=u.substr(A,n),E=65280>>8*p-h&255;if((x.charCodeAt(0)&E)!==0)throw new Error("Bits beyond keysize not zero as expected.");var b=r.generate(v,A),_="";for(m=0;m<A;m++)_+=String.fromCharCode(x.charCodeAt(m)^b.charCodeAt(m));_=String.fromCharCode(_.charCodeAt(0)&~E)+_.substr(1);var R=p-n-s-2;for(m=0;m<R;m++)if(_.charCodeAt(m)!==0)throw new Error("Leftmost octets not zero as expected");if(_.charCodeAt(R)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var P=_.substr(-s),F=new Mx.util.ByteBuffer;F.fillWithByte(0,8),F.putBytes(c),F.putBytes(P),t.start(),t.update(F.getBytes());var W=t.digest().getBytes();return v===W},l}});var Sq=H((rVr,rBe)=>{d();var on=ci();z5();Ch();OS();sg();KRe();Y5();Px();Tq();WS();so();var $=on.asn1,or=rBe.exports=on.pki=on.pki||{},Xi=or.oids,aa={};aa.CN=Xi.commonName;aa.commonName="CN";aa.C=Xi.countryName;aa.countryName="C";aa.L=Xi.localityName;aa.localityName="L";aa.ST=Xi.stateOrProvinceName;aa.stateOrProvinceName="ST";aa.O=Xi.organizationName;aa.organizationName="O";aa.OU=Xi.organizationalUnitName;aa.organizationalUnitName="OU";aa.E=Xi.emailAddress;aa.emailAddress="E";var XRe=on.pki.rsa.publicKeyValidator,xEt={name:"Certificate",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:$.Class.UNIVERSAL,type:$.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:$.Class.UNIVERSAL,type:$.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:$.Class.UNIVERSAL,type:$.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:$.Class.UNIVERSAL,type:$.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},XRe,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:$.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:$.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:$.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},vEt={name:"rsapss",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:$.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:$.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:$.Class.UNIVERSAL,type:$.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:$.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:$.Class.UNIVERSAL,type:$.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},bEt={name:"CertificationRequestInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},XRe,{name:"CertificationRequestInfo.attributes",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:$.Class.UNIVERSAL,type:$.Type.SET,constructed:!0}]}]}]},EEt={name:"CertificationRequest",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[bEt,{name:"CertificationRequest.signatureAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};or.RDNAttributesAsArray=function(e,t){for(var r=[],n,i,s,a=0;a<e.value.length;++a){n=e.value[a];for(var l=0;l<n.value.length;++l)s={},i=n.value[l],s.type=$.derToOid(i.value[0].value),s.value=i.value[1].value,s.valueTagClass=i.value[1].type,s.type in Xi&&(s.name=Xi[s.type],s.name in aa&&(s.shortName=aa[s.name])),t&&(t.update(s.type),t.update(s.value)),r.push(s)}return r};or.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=$.derToOid(n.value[0].value),s=n.value[1].value,a=0;a<s.length;++a){var l={};if(l.type=i,l.value=s[a].value,l.valueTagClass=s[a].type,l.type in Xi&&(l.name=Xi[l.type],l.name in aa&&(l.shortName=aa[l.name])),l.type===Xi.extensionRequest){l.extensions=[];for(var c=0;c<l.value.length;++c)l.extensions.push(or.certificateExtensionFromAsn1(l.value[c]))}t.push(l)}return t};function Z5(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,i=0;r===null&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}o(Z5,"_getAttribute");var wq=o(function(e,t,r){var n={};if(e!==Xi["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:Xi.sha1},mgf:{algorithmOid:Xi.mgf1,hash:{algorithmOid:Xi.sha1}},saltLength:20});var i={},s=[];if(!$.validate(t,vEt,i,s)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=s,a}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=$.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=$.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=$.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),_q=o(function(e){switch(Xi[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return on.md.sha1.create();case"md5WithRSAEncryption":return on.md.md5.create();case"sha256WithRSAEncryption":return on.md.sha256.create();case"sha384WithRSAEncryption":return on.md.sha384.create();case"sha512WithRSAEncryption":return on.md.sha512.create();case"RSASSA-PSS":return on.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},"_createSignatureDigest"),eBe=o(function(e){var t=e.certificate,r;switch(t.signatureOid){case Xi.sha1WithRSAEncryption:case Xi.sha1WithRSASignature:break;case Xi["RSASSA-PSS"]:var n,i;if(n=Xi[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||on.md[n]===void 0){var s=new Error("Unsupported MGF hash function.");throw s.oid=t.signatureParameters.mgf.hash.algorithmOid,s.name=n,s}if(i=Xi[t.signatureParameters.mgf.algorithmOid],i===void 0||on.mgf[i]===void 0){var s=new Error("Unsupported MGF function.");throw s.oid=t.signatureParameters.mgf.algorithmOid,s.name=i,s}if(i=on.mgf[i].create(on.md[n].create()),n=Xi[t.signatureParameters.hash.algorithmOid],n===void 0||on.md[n]===void 0){var s=new Error("Unsupported RSASSA-PSS hash function.");throw s.oid=t.signatureParameters.hash.algorithmOid,s.name=n,s}r=on.pss.create(on.md[n].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)},"_verifySignature");or.certificateFromPem=function(e,t,r){var n=on.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var s=$.fromDer(n.body,r);return or.certificateFromAsn1(s,t)};or.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:$.toDer(or.certificateToAsn1(e)).getBytes()};return on.pem.encode(r,{maxline:t})};or.publicKeyFromPem=function(e){var t=on.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=$.fromDer(t.body);return or.publicKeyFromAsn1(n)};or.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:$.toDer(or.publicKeyToAsn1(e)).getBytes()};return on.pem.encode(r,{maxline:t})};or.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:$.toDer(or.publicKeyToRSAPublicKey(e)).getBytes()};return on.pem.encode(r,{maxline:t})};or.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||on.md.sha1.create(),n=t.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=$.toDer(or.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=$.toDer(or.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(i);var s=r.digest();if(t.encoding==="hex"){var a=s.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return s};or.certificationRequestFromPem=function(e,t,r){var n=on.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var s=$.fromDer(n.body,r);return or.certificationRequestFromAsn1(s,t)};or.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:$.toDer(or.certificationRequestToAsn1(e)).getBytes()};return on.pem.encode(r,{maxline:t})};or.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return Z5(e.issuer,t)},e.issuer.addField=function(t){jd([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return Z5(e.subject,t)},e.subject.addField=function(t){jd([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){jd(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){jd(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)tBe(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,i=0;r===null&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||on.md.sha1.create();var n=Xi[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=or.getTBSCertificate(e);var s=$.toDer(e.tbsCertificate);e.md.update(s.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,i=e.subject,s=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=i.attributes,s.actualIssuer=n.attributes,s}var a=t.md;if(a===null){a=_q({signatureOid:t.signatureOid,type:"certificate"});var l=t.tbsCertificate||or.getTBSCertificate(t),c=$.toDer(l);a.update(c.getBytes())}return a!==null&&(r=eBe({certificate:e,md:a,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var s,a,l=0;r&&l<n.attributes.length;++l)s=n.attributes[l],a=i.attributes[l],(s.type!==a.type||s.value!==a.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return or.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=Xi.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return on.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},e};or.certificateFromAsn1=function(e,t){var r={},n=[];if(!$.validate(e,xEt,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var s=$.derToOid(r.publicKeyOid);if(s!==or.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=or.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=on.util.createBuffer(r.certSerialNumber);a.serialNumber=l.toHex(),a.signatureOid=on.asn1.derToOid(r.certSignatureOid),a.signatureParameters=wq(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=on.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=wq(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push($.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push($.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push($.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push($.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=c[0],a.validity.notAfter=c[1],a.tbsCertificate=r.tbsCertificate,t){a.md=_q({signatureOid:a.signatureOid,type:"certificate"});var u=$.toDer(a.tbsCertificate);a.md.update(u.getBytes())}var f=on.md.sha1.create(),m=$.toDer(r.certIssuer);f.update(m.getBytes()),a.issuer.getField=function(A){return Z5(a.issuer,A)},a.issuer.addField=function(A){jd([A]),a.issuer.attributes.push(A)},a.issuer.attributes=or.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=f.digest().toHex();var h=on.md.sha1.create(),p=$.toDer(r.certSubject);return h.update(p.getBytes()),a.subject.getField=function(A){return Z5(a.subject,A)},a.subject.addField=function(A){jd([A]),a.subject.attributes.push(A)},a.subject.attributes=or.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=h.digest().toHex(),r.certExtensions?a.extensions=or.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=or.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};or.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(or.certificateExtensionFromAsn1(n.value[i]));return t};or.certificateExtensionFromAsn1=function(e){var t={};if(t.id=$.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===$.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in Xi){if(t.name=Xi[t.id],t.name==="keyUsage"){var r=$.fromDer(t.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(i&128)===128}else if(t.name==="basicConstraints"){var r=$.fromDer(t.value);r.value.length>0&&r.value[0].type===$.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var s=null;r.value.length>0&&r.value[0].type===$.Type.INTEGER?s=r.value[0].value:r.value.length>1&&(s=r.value[1].value),s!==null&&(t.pathLenConstraint=$.derToInteger(s))}else if(t.name==="extKeyUsage")for(var r=$.fromDer(t.value),a=0;a<r.value.length;++a){var l=$.derToOid(r.value[a].value);l in Xi?t[Xi[l]]=!0:t[l]=!0}else if(t.name==="nsCertType"){var r=$.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=$.fromDer(t.value),u=0;u<r.value.length;++u){c=r.value[u];var f={type:c.type,value:c.value};switch(t.altNames.push(f),c.type){case 1:case 2:case 6:break;case 7:f.ip=on.util.bytesToIP(c.value);break;case 8:f.oid=$.derToOid(c.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=$.fromDer(t.value);t.subjectKeyIdentifier=on.util.bytesToHex(r.value)}}return t};or.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!$.validate(e,EEt,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var s=$.derToOid(r.publicKeyOid);if(s!==or.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=or.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=on.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=wq(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=on.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=wq(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,t){a.md=_q({signatureOid:a.signatureOid,type:"certification request"});var l=$.toDer(a.certificationRequestInfo);a.md.update(l.getBytes())}var c=on.md.sha1.create();return a.subject.getField=function(u){return Z5(a.subject,u)},a.subject.addField=function(u){jd([u]),a.subject.attributes.push(u)},a.subject.attributes=or.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),a.subject.hash=c.digest().toHex(),a.publicKey=or.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(u){return Z5(a,u)},a.addAttribute=function(u){jd([u]),a.attributes.push(u)},a.attributes=or.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};or.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return Z5(e.subject,t)},e.subject.addField=function(t){jd([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return Z5(e,t)},e.addAttribute=function(t){jd([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){jd(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){jd(t),e.attributes=t},e.sign=function(t,r){e.md=r||on.md.sha1.create();var n=Xi[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=or.getCertificationRequestInfo(e);var s=$.toDer(e.certificationRequestInfo);e.md.update(s.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=_q({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||or.getCertificationRequestInfo(e),i=$.toDer(n);r.update(i.getBytes())}return r!==null&&(t=eBe({certificate:e,md:r,signature:e.signature})),t},e};function b6(e){for(var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),r,n,i=e.attributes,s=0;s<i.length;++s){r=i[s];var a=r.value,l=$.Type.PRINTABLESTRING;"valueTagClass"in r&&(l=r.valueTagClass,l===$.Type.UTF8&&(a=on.util.encodeUtf8(a))),n=$.create($.Class.UNIVERSAL,$.Type.SET,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(r.type).getBytes()),$.create($.Class.UNIVERSAL,l,!1,a)])]),t.value.push(n)}return t}o(b6,"_dnToAsn1");function jd(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in or.oids?t.name=or.oids[t.type]:t.shortName&&t.shortName in aa&&(t.name=or.oids[aa[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in or.oids)t.type=or.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in aa&&(t.shortName=aa[t.name]),t.type===Xi.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=$.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(or.certificateExtensionToAsn1(tBe(t.extensions[i])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}o(jd,"_fillMissingFields");function tBe(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in or.oids&&(e.name=or.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in or.oids)e.id=or.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,i=0,s=0;e.digitalSignature&&(i|=128,n=7),e.nonRepudiation&&(i|=64,n=6),e.keyEncipherment&&(i|=32,n=5),e.dataEncipherment&&(i|=16,n=4),e.keyAgreement&&(i|=8,n=3),e.keyCertSign&&(i|=4,n=2),e.cRLSign&&(i|=2,n=1),e.encipherOnly&&(i|=1,n=0),e.decipherOnly&&(s|=128,n=7);var a=String.fromCharCode(n);s!==0?a+=String.fromCharCode(i)+String.fromCharCode(s):i!==0&&(a+=String.fromCharCode(i)),e.value=$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,a)}else if(e.name==="basicConstraints")e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push($.create($.Class.UNIVERSAL,$.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push($.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var c in e)e[c]===!0&&(c in Xi?l.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(Xi[c]).getBytes())):c.indexOf(".")!==-1&&l.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,i=0;e.client&&(i|=128,n=7),e.server&&(i|=64,n=6),e.email&&(i|=32,n=5),e.objsign&&(i|=16,n=4),e.reserved&&(i|=8,n=3),e.sslCA&&(i|=4,n=2),e.emailCA&&(i|=2,n=1),e.objCA&&(i|=1,n=0);var a=String.fromCharCode(n);i!==0&&(a+=String.fromCharCode(i)),e.value=$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,a)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);for(var u,f=0;f<e.altNames.length;++f){u=e.altNames[f];var a=u.value;if(u.type===7&&u.ip){if(a=on.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=$.oidToDer($.oidToDer(u.oid)):a=$.oidToDer(a));e.value.value.push($.create($.Class.CONTEXT_SPECIFIC,u.type,!1,a))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=$.create($.Class.UNIVERSAL,$.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var m=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=m.toHex(),e.value=$.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,m.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);var l=e.value.value;if(e.keyIdentifier){var h=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push($.create($.Class.CONTEXT_SPECIFIC,0,!1,h))}if(e.authorityCertIssuer){var p=[$.create($.Class.CONTEXT_SPECIFIC,4,!0,[b6(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];l.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,p))}if(e.serialNumber){var A=on.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);l.push($.create($.Class.CONTEXT_SPECIFIC,2,!1,A))}}else if(e.name==="cRLDistributionPoints"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);for(var l=e.value.value,x=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),v=$.create($.Class.CONTEXT_SPECIFIC,0,!0,[]),u,f=0;f<e.altNames.length;++f){u=e.altNames[f];var a=u.value;if(u.type===7&&u.ip){if(a=on.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=$.oidToDer($.oidToDer(u.oid)):a=$.oidToDer(a));v.value.push($.create($.Class.CONTEXT_SPECIFIC,u.type,!1,a))}x.value.push($.create($.Class.CONTEXT_SPECIFIC,0,!0,[v])),l.push(x)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}o(tBe,"_fillMissingExtensionFields");function lse(e,t){switch(e){case Xi["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,0,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.hash.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.mgf.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.mgf.hash.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,2,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(t.saltLength).getBytes())])),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,r);default:return $.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")}}o(lse,"_signatureParametersToAsn1");function IEt(e){var t=$.create($.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],s=i.value,a=$.Type.UTF8;"valueTagClass"in i&&(a=i.valueTagClass),a===$.Type.UTF8&&(s=on.util.encodeUtf8(s));var l=!1;"valueConstructed"in i&&(l=i.valueConstructed);var c=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(i.type).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SET,!0,[$.create($.Class.UNIVERSAL,a,l,s)])]);t.value.push(c)}return t}o(IEt,"_CRIAttributesToAsn1");var TEt=new Date("1950-01-01T00:00:00Z"),wEt=new Date("2050-01-01T00:00:00Z");function ZRe(e){return e>=TEt&&e<wEt?$.create($.Class.UNIVERSAL,$.Type.UTCTIME,!1,$.dateToUtcTime(e)):$.create($.Class.UNIVERSAL,$.Type.GENERALIZEDTIME,!1,$.dateToGeneralizedTime(e))}o(ZRe,"_dateToAsn1");or.getTBSCertificate=function(e){var t=ZRe(e.validity.notBefore),r=ZRe(e.validity.notAfter),n=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.CONTEXT_SPECIFIC,0,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.version).getBytes())]),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,on.util.hexToBytes(e.serialNumber)),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.siginfo.algorithmOid).getBytes()),lse(e.siginfo.algorithmOid,e.siginfo.parameters)]),b6(e.issuer),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,r]),b6(e.subject),or.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,[$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push($.create($.Class.CONTEXT_SPECIFIC,2,!0,[$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(or.certificateExtensionsToAsn1(e.extensions)),n};or.getCertificationRequestInfo=function(e){var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.version).getBytes()),b6(e.subject),or.publicKeyToAsn1(e.publicKey),IEt(e)]);return t};or.distinguishedNameToAsn1=function(e){return b6(e)};or.certificateToAsn1=function(e){var t=e.tbsCertificate||or.getTBSCertificate(e);return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.signatureOid).getBytes()),lse(e.signatureOid,e.signatureParameters)]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.signature)])};or.certificateExtensionsToAsn1=function(e){var t=$.create($.Class.CONTEXT_SPECIFIC,3,!0,[]),r=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(or.certificateExtensionToAsn1(e[n]));return t};or.certificateExtensionToAsn1=function(e){var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);t.value.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.id).getBytes())),e.critical&&t.value.push($.create($.Class.UNIVERSAL,$.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=$.toDer(r).getBytes()),t.value.push($.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,r)),t};or.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||or.getCertificationRequestInfo(e);return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.signatureOid).getBytes()),lse(e.signatureOid,e.signatureParameters)]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.signature)])};or.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(a){var l=r(a.issuer);return l},t.addCertificate=function(a){if(typeof a=="string"&&(a=on.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))if(a.subject.hash in t.certs){var l=t.certs[a.subject.hash];on.util.isArray(l)||(l=[l]),l.push(a),t.certs[a.subject.hash]=l}else t.certs[a.subject.hash]=a},t.hasCertificate=function(a){typeof a=="string"&&(a=on.pki.certificateFromPem(a));var l=r(a.subject);if(!l)return!1;on.util.isArray(l)||(l=[l]);for(var c=$.toDer(or.certificateToAsn1(a)).getBytes(),u=0;u<l.length;++u){var f=$.toDer(or.certificateToAsn1(l[u])).getBytes();if(c===f)return!0}return!1},t.listAllCertificates=function(){var a=[];for(var l in t.certs)if(t.certs.hasOwnProperty(l)){var c=t.certs[l];if(!on.util.isArray(c))a.push(c);else for(var u=0;u<c.length;++u)a.push(c[u])}return a},t.removeCertificate=function(a){var l;if(typeof a=="string"&&(a=on.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))return null;var c=r(a.subject);if(!on.util.isArray(c))return l=t.certs[a.subject.hash],delete t.certs[a.subject.hash],l;for(var u=$.toDer(or.certificateToAsn1(a)).getBytes(),f=0;f<c.length;++f){var m=$.toDer(or.certificateToAsn1(c[f])).getBytes();u===m&&(l=c[f],c.splice(f,1))}return c.length===0&&delete t.certs[a.subject.hash],l};function r(a){return n(a),t.certs[a.hash]||null}o(r,"getBySubject");function n(a){if(!a.hash){var l=on.md.sha1.create();a.attributes=or.RDNAttributesAsArray(b6(a),l),a.hash=l.digest().toHex()}}if(o(n,"ensureSubjectHasHash"),e)for(var i=0;i<e.length;++i){var s=e[i];t.addCertificate(s)}return t};or.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};or.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var s=!0,a=null,l=0;do{var c=t.shift(),u=null,f=!1;if(i&&(i<c.validity.notBefore||i>c.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:or.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:i}),a===null){if(u=t[0]||e.getIssuer(c),u===null&&c.isIssuer(c)&&(f=!0,u=c),u){var m=u;on.util.isArray(m)||(m=[m]);for(var h=!1;!h&&m.length>0;){u=m.shift();try{h=u.verify(c)}catch{}}h||(a={message:"Certificate signature is invalid.",error:or.certificateError.bad_certificate})}a===null&&(!u||f)&&!e.hasCertificate(c)&&(a={message:"Certificate is not trusted.",error:or.certificateError.unknown_ca})}if(a===null&&u&&!c.isIssuer(u)&&(a={message:"Certificate issuer is invalid.",error:or.certificateError.bad_certificate}),a===null)for(var p={keyUsage:!0,basicConstraints:!0},A=0;a===null&&A<c.extensions.length;++A){var x=c.extensions[A];x.critical&&!(x.name in p)&&(a={message:"Certificate has an unsupported critical extension.",error:or.certificateError.unsupported_certificate})}if(a===null&&(!s||t.length===0&&(!u||f))){var v=c.getExtension("basicConstraints"),E=c.getExtension("keyUsage");if(E!==null&&(!E.keyCertSign||v===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:or.certificateError.bad_certificate}),a===null&&v!==null&&!v.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:or.certificateError.bad_certificate}),a===null&&E!==null&&"pathLenConstraint"in v){var b=l-1;b>v.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:or.certificateError.bad_certificate})}}var _=a===null?!0:a.error,R=r.verify?r.verify(_,l,n):_;if(R===!0)a=null;else throw _===!0&&(a={message:"The application rejected the certificate.",error:or.certificateError.bad_certificate}),(R||R===0)&&(typeof R=="object"&&!on.util.isArray(R)?(R.message&&(a.message=R.message),R.error&&(a.error=R.error)):typeof R=="string"&&(a.error=R)),a;s=!1,++l}while(t.length>0);return!0}});var use=H((oVr,iBe)=>{d();var ts=ci();Ch();p6();Y5();sse();ose();Wd();WS();C6();so();Sq();var _e=ts.asn1,wi=ts.pki,HS=iBe.exports=ts.pkcs12=ts.pkcs12||{},nBe={name:"ContentInfo",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:_e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},_Et={name:"PFX",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:_e.Class.UNIVERSAL,type:_e.Type.INTEGER,constructed:!1,capture:"version"},nBe,{name:"PFX.macData",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:_e.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:_e.Class.UNIVERSAL,type:_e.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},SEt={name:"SafeBag",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:_e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},kEt={name:"Attribute",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SET,constructed:!0,capture:"values"}]},REt={name:"CertBag",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:_e.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:_e.Class.UNIVERSAL,type:_e.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function GS(e,t,r,n){for(var i=[],s=0;s<e.length;s++)for(var a=0;a<e[s].safeBags.length;a++){var l=e[s].safeBags[a];if(!(n!==void 0&&l.type!==n)){if(t===null){i.push(l);continue}l.attributes[t]!==void 0&&l.attributes[t].indexOf(r)>=0&&i.push(l)}}return i}o(GS,"_getBagsByAttribute");HS.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},i=[];if(!_e.validate(e,_Et,n,i)){var s=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw s.errors=s,s}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:o(function(v){var E={},b;return"localKeyId"in v?b=v.localKeyId:"localKeyIdHex"in v&&(b=ts.util.hexToBytes(v.localKeyIdHex)),b===void 0&&!("friendlyName"in v)&&"bagType"in v&&(E[v.bagType]=GS(a.safeContents,null,null,v.bagType)),b!==void 0&&(E.localKeyId=GS(a.safeContents,"localKeyId",b,v.bagType)),"friendlyName"in v&&(E.friendlyName=GS(a.safeContents,"friendlyName",v.friendlyName,v.bagType)),E},"getBags"),getBagsByFriendlyName:o(function(v,E){return GS(a.safeContents,"friendlyName",v,E)},"getBagsByFriendlyName"),getBagsByLocalKeyId:o(function(v,E){return GS(a.safeContents,"localKeyId",v,E)},"getBagsByLocalKeyId")};if(n.version.charCodeAt(0)!==3){var s=new Error("PKCS#12 PFX of version other than 3 not supported.");throw s.version=n.version.charCodeAt(0),s}if(_e.derToOid(n.contentType)!==wi.oids.data){var s=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw s.oid=_e.derToOid(n.contentType),s}var l=n.content.value[0];if(l.tagClass!==_e.Class.UNIVERSAL||l.type!==_e.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(l=cse(l),n.mac){var c=null,u=0,f=_e.derToOid(n.macAlgorithm);switch(f){case wi.oids.sha1:c=ts.md.sha1.create(),u=20;break;case wi.oids.sha256:c=ts.md.sha256.create(),u=32;break;case wi.oids.sha384:c=ts.md.sha384.create(),u=48;break;case wi.oids.sha512:c=ts.md.sha512.create(),u=64;break;case wi.oids.md5:c=ts.md.md5.create(),u=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+f);var m=new ts.util.ByteBuffer(n.macSalt),h="macIterations"in n?parseInt(ts.util.bytesToHex(n.macIterations),16):1,p=HS.generateKey(r,m,3,h,u,c),A=ts.hmac.create();A.start(c,p),A.update(l.value);var x=A.getMac();if(x.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return BEt(a,l.value,t,r),a};function cse(e){if(e.composed||e.constructed){for(var t=ts.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}o(cse,"_decodePkcs7Data");function BEt(e,t,r,n){if(t=_e.fromDer(t,r),t.tagClass!==_e.Class.UNIVERSAL||t.type!==_e.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var s=t.value[i],a={},l=[];if(!_e.validate(s,nBe,a,l)){var c=new Error("Cannot read ContentInfo.");throw c.errors=l,c}var u={encrypted:!1},f=null,m=a.content.value[0];switch(_e.derToOid(a.contentType)){case wi.oids.data:if(m.tagClass!==_e.Class.UNIVERSAL||m.type!==_e.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");f=cse(m).value;break;case wi.oids.encryptedData:f=DEt(m,n),u.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=_e.derToOid(a.contentType),c}u.safeBags=PEt(f,r,n),e.safeContents.push(u)}}o(BEt,"_decodeAuthenticatedSafe");function DEt(e,t){var r={},n=[];if(!_e.validate(e,ts.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var s=_e.derToOid(r.contentType);if(s!==wi.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=s,i}s=_e.derToOid(r.encAlgorithm);var a=wi.pbe.getCipher(s,r.encParameter,t),l=cse(r.encryptedContentAsn1),c=ts.util.createBuffer(l.value);if(a.update(c),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}o(DEt,"_decryptSafeContents");function PEt(e,t,r){if(!t&&e.length===0)return[];if(e=_e.fromDer(e,t),e.tagClass!==_e.Class.UNIVERSAL||e.type!==_e.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var s=e.value[i],a={},l=[];if(!_e.validate(s,SEt,a,l)){var c=new Error("Cannot read SafeBag.");throw c.errors=l,c}var u={type:_e.derToOid(a.bagId),attributes:FEt(a.bagAttributes)};n.push(u);var f,m,h=a.bagValue.value[0];switch(u.type){case wi.oids.pkcs8ShroudedKeyBag:if(h=wi.decryptPrivateKeyInfo(h,r),h===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case wi.oids.keyBag:try{u.key=wi.privateKeyFromAsn1(h)}catch{u.key=null,u.asn1=h}continue;case wi.oids.certBag:f=REt,m=o(function(){if(_e.derToOid(a.certId)!==wi.oids.x509Certificate){var A=new Error("Unsupported certificate type, only X.509 supported.");throw A.oid=_e.derToOid(a.certId),A}var x=_e.fromDer(a.cert,t);try{u.cert=wi.certificateFromAsn1(x,!0)}catch{u.cert=null,u.asn1=x}},"decoder");break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=u.type,c}if(f!==void 0&&!_e.validate(h,f,a,l)){var c=new Error("Cannot read PKCS#12 "+f.name);throw c.errors=l,c}m()}return n}o(PEt,"_decodeSafeContents");function FEt(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},i=[];if(!_e.validate(e[r],kEt,n,i)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=i,s}var a=_e.derToOid(n.oid);if(wi.oids[a]!==void 0){t[wi.oids[a]]=[];for(var l=0;l<n.values.length;++l)t[wi.oids[a]].push(n.values[l].value)}}return t}o(FEt,"_decodeBagAttributes");HS.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,s;if(i!==null)i=ts.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var a=ts.util.isArray(t)?t[0]:t;typeof a=="string"&&(a=wi.certificateFromPem(a));var l=ts.md.sha1.create();l.update(_e.toDer(wi.certificateToAsn1(a)).getBytes()),i=l.digest().getBytes()}else i=ts.random.getBytes(20);var c=[];i!==null&&c.push(_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.localKeyId).getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.SET,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&c.push(_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.friendlyName).getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.SET,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(s=_e.create(_e.Class.UNIVERSAL,_e.Type.SET,!0,c));var u=[],f=[];t!==null&&(ts.util.isArray(t)?f=t:f=[t]);for(var m=[],h=0;h<f.length;++h){t=f[h],typeof t=="string"&&(t=wi.certificateFromPem(t));var p=h===0?s:void 0,A=wi.certificateToAsn1(t),x=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.certBag).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.x509Certificate).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,_e.toDer(A).getBytes())])])]),p]);m.push(x)}if(m.length>0){var v=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,m),E=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.data).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,_e.toDer(v).getBytes())])]);u.push(E)}var b=null;if(e!==null){var _=wi.wrapRsaPrivateKey(wi.privateKeyToAsn1(e));r===null?b=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.keyBag).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_]),s]):b=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.pkcs8ShroudedKeyBag).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[wi.encryptPrivateKeyInfo(_,r,n)]),s]);var R=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[b]),P=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.data).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,_e.toDer(R).getBytes())])]);u.push(P)}var F=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,u),W;if(n.useMac){var l=ts.md.sha1.create(),se=new ts.util.ByteBuffer(ts.random.getBytes(n.saltSize)),de=n.count,e=HS.generateKey(r,se,3,de,20),re=ts.hmac.create();re.start(l,e),re.update(_e.toDer(F).getBytes());var G=re.getMac();W=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.sha1).getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.NULL,!1,"")]),_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,G.getBytes())]),_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,se.getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.INTEGER,!1,_e.integerToDer(de).getBytes())])}return _e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.INTEGER,!1,_e.integerToDer(3).getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.data).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,_e.toDer(F).getBytes())])]),W])};HS.generateKey=ts.pbe.generatePkcs12Key});var dse=H((lVr,oBe)=>{d();var X5=ci();Ch();Y5();ose();Px();yq();use();Tq();WS();so();Sq();var fse=X5.asn1,E6=oBe.exports=X5.pki=X5.pki||{};E6.pemToDer=function(e){var t=X5.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return X5.util.createBuffer(t.body)};E6.privateKeyFromPem=function(e){var t=X5.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=fse.fromDer(t.body);return E6.privateKeyFromAsn1(n)};E6.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:fse.toDer(E6.privateKeyToAsn1(e)).getBytes()};return X5.pem.encode(r,{maxline:t})};E6.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:fse.toDer(e).getBytes()};return X5.pem.encode(r,{maxline:t})}});var yse=H((uVr,mBe)=>{d();var Dt=ci();Ch();p6();hq();Px();dse();Wd();C6();so();var Dq=o(function(e,t,r,n){var i=Dt.util.createBuffer(),s=e.length>>1,a=s+(e.length&1),l=e.substr(0,a),c=e.substr(s,a),u=Dt.util.createBuffer(),f=Dt.hmac.create();r=t+r;var m=Math.ceil(n/16),h=Math.ceil(n/20);f.start("MD5",l);var p=Dt.util.createBuffer();u.putBytes(r);for(var A=0;A<m;++A)f.start(null,null),f.update(u.getBytes()),u.putBuffer(f.digest()),f.start(null,null),f.update(u.bytes()+r),p.putBuffer(f.digest());f.start("SHA1",c);var x=Dt.util.createBuffer();u.clear(),u.putBytes(r);for(var A=0;A<h;++A)f.start(null,null),f.update(u.getBytes()),u.putBuffer(f.digest()),f.start(null,null),f.update(u.bytes()+r),x.putBuffer(f.digest());return i.putBytes(Dt.util.xorBytes(p.getBytes(),x.getBytes(),n)),i},"prf_TLS1"),NEt=o(function(e,t,r){var n=Dt.hmac.create();n.start("SHA1",e);var i=Dt.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},"hmac_sha1"),LEt=o(function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=Dt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"deflate"),QEt=o(function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=Dt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"inflate"),vf=o(function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return Dt.util.createBuffer(e.getBytes(r))},"readVector"),Vd=o(function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},"writeVector"),X={};X.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};X.SupportedVersions=[X.Versions.TLS_1_1,X.Versions.TLS_1_0];X.Version=X.SupportedVersions[0];X.MaxFragment=15360;X.ConnectionEnd={server:0,client:1};X.PRFAlgorithm={tls_prf_sha256:0};X.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};X.CipherType={stream:0,block:1,aead:2};X.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};X.CompressionMethod={none:0,deflate:1};X.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};X.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};X.Alert={};X.Alert.Level={warning:1,fatal:2};X.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};X.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};X.CipherSuites={};X.getCipherSuite=function(e){var t=null;for(var r in X.CipherSuites){var n=X.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};X.handleUnexpected=function(e,t){var r=!e.open&&e.entity===X.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unexpected_message}})};X.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(X.queue(e,X.createAlert(e,{level:X.Alert.Level.warning,description:X.Alert.Description.no_renegotiation})),X.flush(e)),e.process()};X.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===X.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});else{var s=t.fragment,a=s.length();if(n={version:{major:s.getByte(),minor:s.getByte()},random:Dt.util.createBuffer(s.getBytes(32)),session_id:vf(s,1),extensions:[]},i?(n.cipher_suite=s.getBytes(2),n.compression_method=s.getByte()):(n.cipher_suites=vf(s,2),n.compression_methods=vf(s,1)),a=r-(a-s.length()),a>0){for(var l=vf(s,2);l.length()>0;)n.extensions.push({type:[l.getByte(),l.getByte()],data:vf(l,2)});if(!i)for(var c=0;c<n.extensions.length;++c){var u=n.extensions[c];if(u.type[0]===0&&u.type[1]===0)for(var f=vf(u.data,2);f.length()>0;){var m=f.getByte();if(m!==0)break;e.session.extensions.server_name.serverNameList.push(vf(f,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=X.getCipherSuite(n.cipher_suite);else for(var h=Dt.util.createBuffer(n.cipher_suites.bytes());h.length()>0&&(e.session.cipherSuite=X.getCipherSuite(h.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.handshake_failure},cipherSuite:Dt.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=X.CompressionMethod.none}return n};X.createSecurityParameters=function(e,t){var r=e.entity===X.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,s=r?n:X.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:X.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:s}};X.handleServerHello=function(e,t,r){var n=X.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}});e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=lBe,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=OEt,e.session.resuming=!1,X.createSecurityParameters(e,n)),e.session.id=i,e.process()}};X.handleClientHello=function(e,t,r){var n=X.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),s=null;if(e.sessionCache&&(s=e.sessionCache.getSession(i),s===null?i="":(s.version.major!==n.version.major||s.version.minor>n.version.minor)&&(s=null,i="")),i.length===0&&(i=Dt.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},s)e.version=e.session.version=s.version,e.session.sp=s.sp;else{for(var a,l=1;l<X.SupportedVersions.length&&(a=X.SupportedVersions[l],!(a.minor<=n.version.minor));++l);e.version={major:a.major,minor:a.minor},e.session.version=e.version}s!==null?(e.expect=gse,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?VEt:pse,e.session.resuming=!1,X.createSecurityParameters(e,n)),e.open=!0,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerHello(e)})),e.session.resuming?(X.queue(e,X.createRecord(e,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),e.state.pending=X.createConnectionState(e),e.state.current.write=e.state.pending.write,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createFinished(e)}))):(X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificate(e)})),e.fail||(X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerKeyExchange(e)})),e.verifyClient!==!1&&X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificateRequest(e)})),X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerHelloDone(e)})))),X.flush(e),e.process()}};X.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_list:vf(n,3)},s,a,l=[];try{for(;i.certificate_list.length()>0;)s=vf(i.certificate_list,3),a=Dt.asn1.fromDer(s),s=Dt.pki.certificateFromAsn1(a,!0),l.push(s)}catch(u){return e.error(e,{message:"Could not parse certificate list.",cause:u,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate}})}var c=e.entity===X.ConnectionEnd.client;(c||e.verifyClient===!0)&&l.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}}):l.length===0?e.expect=c?sBe:pse:(c?e.session.serverCertificate=l[0]:e.session.clientCertificate=l[0],X.verifyCertificateChain(e,l)&&(e.expect=c?sBe:pse)),e.process()};X.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unsupported_certificate}});e.expect=UEt,e.process()};X.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:vf(n,2).getBytes()},s=null;if(e.getPrivateKey)try{s=e.getPrivateKey(e,e.session.serverCertificate),s=Dt.pki.privateKeyFromPem(s)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}})}if(s===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}});try{var a=e.session.sp;a.pre_master_secret=s.decrypt(i.enc_pre_master_secret);var l=e.session.clientHelloVersion;if(l.major!==a.pre_master_secret.charCodeAt(0)||l.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=Dt.random.getBytes(48)}e.expect=gse,e.session.clientCertificate!==null&&(e.expect=$Et),e.process()};X.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:vf(n,1),certificate_authorities:vf(n,2)};e.session.certificateRequest=i,e.expect=qEt,e.process()};X.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s={signature:vf(n,2).getBytes()},a=Dt.util.createBuffer();a.putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest()),a=a.getBytes();try{var l=e.session.clientCertificate;if(!l.publicKey.verify(a,s.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.handshake_failure}})}e.expect=gse,e.process()};X.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.insufficient_security}},i=0,s=e.verify(e,n.alert.description,i,[]);if(s!==!0)return(s||s===0)&&(typeof s=="object"&&!Dt.util.isArray(s)?(s.message&&(n.message=s.message),s.alert&&(n.alert.description=s.alert)):typeof s=="number"&&(n.alert.description=s)),e.error(e,n)}e.session.certificateRequest!==null&&(t=X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificate(e)}),X.queue(e,t)),t=X.createRecord(e,{type:X.ContentType.handshake,data:X.createClientKeyExchange(e)}),X.queue(e,t),e.expect=HEt;var a=o(function(l,c){l.session.certificateRequest!==null&&l.session.clientCertificate!==null&&X.queue(l,X.createRecord(l,{type:X.ContentType.handshake,data:X.createCertificateVerify(l,c)})),X.queue(l,X.createRecord(l,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),l.state.pending=X.createConnectionState(l),l.state.current.write=l.state.pending.write,X.queue(l,X.createRecord(l,{type:X.ContentType.handshake,data:X.createFinished(l)})),l.expect=lBe,X.flush(l),l.process()},"callback");if(e.session.certificateRequest===null||e.session.clientCertificate===null)return a(e,null);X.getClientSignature(e,a)};X.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var r=e.entity===X.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=X.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?WEt:zEt,e.process()};X.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s=t.fragment.getBytes();n=Dt.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var a=e.entity===X.ConnectionEnd.client,l=a?"server finished":"client finished",c=e.session.sp,u=12,f=Dq;if(n=f(c.master_secret,l,n.getBytes(),u),n.getBytes()!==s)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&a||!e.session.resuming&&!a)&&(X.queue(e,X.createRecord(e,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createFinished(e)}))),e.expect=a?GEt:YEt,e.handshaking=!1,++e.handshakes,e.peerCertificate=a?e.session.serverCertificate:e.session.clientCertificate,X.flush(e),e.isConnected=!0,e.connected(e),e.process()};X.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case X.Alert.Description.close_notify:i="Connection closed.";break;case X.Alert.Description.unexpected_message:i="Unexpected message.";break;case X.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case X.Alert.Description.decryption_failed:i="Decryption failed.";break;case X.Alert.Description.record_overflow:i="Record overflow.";break;case X.Alert.Description.decompression_failure:i="Decompression failed.";break;case X.Alert.Description.handshake_failure:i="Handshake failure.";break;case X.Alert.Description.bad_certificate:i="Bad certificate.";break;case X.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case X.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case X.Alert.Description.certificate_expired:i="Certificate expired.";break;case X.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case X.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case X.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case X.Alert.Description.access_denied:i="Access denied.";break;case X.Alert.Description.decode_error:i="Decode error.";break;case X.Alert.Description.decrypt_error:i="Decrypt error.";break;case X.Alert.Description.export_restriction:i="Export restriction.";break;case X.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case X.Alert.Description.insufficient_security:i="Insufficient security.";break;case X.Alert.Description.internal_error:i="Internal error.";break;case X.Alert.Description.user_canceled:i="User canceled.";break;case X.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===X.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===X.ConnectionEnd.client?"server":"client",alert:n}),e.process()};X.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=Dt.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var s=r.bytes(i+4);r.read+=4,n in Bq[e.entity][e.expect]?(e.entity===X.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:Dt.md.md5.create(),sha1:Dt.md.sha1.create()}),n!==X.HandshakeType.hello_request&&n!==X.HandshakeType.certificate_verify&&n!==X.HandshakeType.finished&&(e.session.md5.update(s),e.session.sha1.update(s)),Bq[e.entity][e.expect][n](e,t,i)):X.handleUnexpected(e,t)};X.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};X.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),s=r.getBytes(i);if(n===X.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>s.length)return e.process();X.queue(e,X.createRecord(e,{type:X.ContentType.heartbeat,data:X.createHeartbeat(X.HeartbeatMessageType.heartbeat_response,s)})),X.flush(e)}else if(n===X.HeartbeatMessageType.heartbeat_response){if(s!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,Dt.util.createBuffer(s))}e.process()};var MEt=0,OEt=1,sBe=2,UEt=3,qEt=4,lBe=5,WEt=6,GEt=7,HEt=8,jEt=0,VEt=1,pse=2,$Et=3,gse=4,zEt=5,YEt=6,K=X.handleUnexpected,cBe=X.handleChangeCipherSpec,oc=X.handleAlert,g0=X.handleHandshake,uBe=X.handleApplicationData,sc=X.handleHeartbeat,Ase=[];Ase[X.ConnectionEnd.client]=[[K,oc,g0,K,sc],[K,oc,g0,K,sc],[K,oc,g0,K,sc],[K,oc,g0,K,sc],[K,oc,g0,K,sc],[cBe,oc,K,K,sc],[K,oc,g0,K,sc],[K,oc,g0,uBe,sc],[K,oc,g0,K,sc]];Ase[X.ConnectionEnd.server]=[[K,oc,g0,K,sc],[K,oc,g0,K,sc],[K,oc,g0,K,sc],[K,oc,g0,K,sc],[cBe,oc,K,K,sc],[K,oc,g0,K,sc],[K,oc,g0,uBe,sc],[K,oc,g0,K,sc]];var eC=X.handleHelloRequest,KEt=X.handleServerHello,fBe=X.handleCertificate,aBe=X.handleServerKeyExchange,mse=X.handleCertificateRequest,kq=X.handleServerHelloDone,dBe=X.handleFinished,Bq=[];Bq[X.ConnectionEnd.client]=[[K,K,KEt,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[eC,K,K,K,K,K,K,K,K,K,K,fBe,aBe,mse,kq,K,K,K,K,K,K],[eC,K,K,K,K,K,K,K,K,K,K,K,aBe,mse,kq,K,K,K,K,K,K],[eC,K,K,K,K,K,K,K,K,K,K,K,K,mse,kq,K,K,K,K,K,K],[eC,K,K,K,K,K,K,K,K,K,K,K,K,K,kq,K,K,K,K,K,K],[eC,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[eC,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,dBe],[eC,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[eC,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K]];var JEt=X.handleClientHello,ZEt=X.handleClientKeyExchange,XEt=X.handleCertificateVerify;Bq[X.ConnectionEnd.server]=[[K,JEt,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,fBe,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,ZEt,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,XEt,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,dBe],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K]];X.generateKeys=function(e,t){var r=Dq,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,s=e.version.major===X.Versions.TLS_1_0.major&&e.version.minor===X.Versions.TLS_1_0.minor;s&&(i+=2*t.fixed_iv_length);var a=r(t.master_secret,"key expansion",n,i),l={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};return s&&(l.client_write_IV=a.getBytes(t.fixed_iv_length),l.server_write_IV=a.getBytes(t.fixed_iv_length)),l};X.createConnectionState=function(e){var t=e.entity===X.ConnectionEnd.client,r=o(function(){var s={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:o(function(a){return!0},"cipherFunction"),compressionState:null,compressFunction:o(function(a){return!0},"compressFunction"),updateSequenceNumber:o(function(){s.sequenceNumber[1]===4294967295?(s.sequenceNumber[1]=0,++s.sequenceNumber[0]):++s.sequenceNumber[1]},"updateSequenceNumber")};return s},"createMode"),n={read:r(),write:r()};if(n.read.update=function(s,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(s,a,n.read)||s.error(s,{message:"Could not decompress record.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.decompression_failure}}):s.error(s,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_record_mac}}),!s.fail},n.write.update=function(s,a){return n.write.compressFunction(s,a,n.write)?n.write.cipherFunction(a,n.write)||s.error(s,{message:"Could not encrypt record.",send:!1,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}):s.error(s,{message:"Could not compress record.",send:!1,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}),!s.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=X.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case X.CompressionMethod.none:break;case X.CompressionMethod.deflate:n.read.compressFunction=QEt,n.write.compressFunction=LEt;break;default:throw new Error("Unsupported compression algorithm.")}}return n};X.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=Dt.util.createBuffer();return r.putInt32(t),r.putBytes(Dt.random.getBytes(28)),r};X.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};X.createAlert=function(e,t){var r=Dt.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),X.createRecord(e,{type:X.ContentType.alert,data:r})};X.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=Dt.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),s=Dt.util.createBuffer();s.putByte(X.CompressionMethod.none);var a=s.length(),l=Dt.util.createBuffer();if(e.virtualHost){var c=Dt.util.createBuffer();c.putByte(0),c.putByte(0);var u=Dt.util.createBuffer();u.putByte(0),Vd(u,2,Dt.util.createBuffer(e.virtualHost));var f=Dt.util.createBuffer();Vd(f,2,u),Vd(c,2,f),l.putBuffer(c)}var m=l.length();m>0&&(m+=2);var h=e.session.id,p=h.length+1+2+4+28+2+i+1+a+m,A=Dt.util.createBuffer();return A.putByte(X.HandshakeType.client_hello),A.putInt24(p),A.putByte(e.version.major),A.putByte(e.version.minor),A.putBytes(e.session.sp.client_random),Vd(A,1,Dt.util.createBuffer(h)),Vd(A,2,t),Vd(A,1,s),m>0&&Vd(A,2,l),A};X.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=Dt.util.createBuffer();return n.putByte(X.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),Vd(n,1,Dt.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};X.createCertificate=function(e){var t=e.entity===X.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=Dt.util.createBuffer();if(r!==null)try{Dt.util.isArray(r)||(r=[r]);for(var s=null,a=0;a<r.length;++a){var l=Dt.pem.decode(r[a])[0];if(l.type!=="CERTIFICATE"&&l.type!=="X509 CERTIFICATE"&&l.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=l.type,c}if(l.procType&&l.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=Dt.util.createBuffer(l.body);s===null&&(s=Dt.asn1.fromDer(u.bytes(),!1));var f=Dt.util.createBuffer();Vd(f,3,u),i.putBuffer(f)}r=Dt.pki.certificateFromAsn1(s),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(p){return e.error(e,{message:"Could not send certificate list.",cause:p,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate}})}var m=3+i.length(),h=Dt.util.createBuffer();return h.putByte(X.HandshakeType.certificate),h.putInt24(m),Vd(h,3,i),h};X.createClientKeyExchange=function(e){var t=Dt.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(Dt.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,s=Dt.util.createBuffer();return s.putByte(X.HandshakeType.client_key_exchange),s.putInt24(i),s.putInt16(t.length),s.putBytes(t),s};X.createServerKeyExchange=function(e){var t=0,r=Dt.util.createBuffer();return t>0&&(r.putByte(X.HandshakeType.server_key_exchange),r.putInt24(t)),r};X.getClientSignature=function(e,t){var r=Dt.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,i,s){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=Dt.pki.privateKeyFromPem(a)}catch(l){n.error(n,{message:"Could not get private key.",cause:l,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}):i=a.sign(i,null),s(n,i)},e.getSignature(e,r,t)};X.createCertificateVerify=function(e,t){var r=t.length+2,n=Dt.util.createBuffer();return n.putByte(X.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};X.createCertificateRequest=function(e){var t=Dt.util.createBuffer();t.putByte(1);var r=Dt.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],s=Dt.pki.distinguishedNameToAsn1(i.subject),a=Dt.asn1.toDer(s);r.putInt16(a.length()),r.putBuffer(a)}var l=1+t.length()+2+r.length(),c=Dt.util.createBuffer();return c.putByte(X.HandshakeType.certificate_request),c.putInt24(l),Vd(c,1,t),Vd(c,2,r),c};X.createServerHelloDone=function(e){var t=Dt.util.createBuffer();return t.putByte(X.HandshakeType.server_hello_done),t.putInt24(0),t};X.createChangeCipherSpec=function(){var e=Dt.util.createBuffer();return e.putByte(1),e};X.createFinished=function(e){var t=Dt.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===X.ConnectionEnd.client,n=e.session.sp,i=12,s=Dq,a=r?"client finished":"server finished";t=s(n.master_secret,a,t.getBytes(),i);var l=Dt.util.createBuffer();return l.putByte(X.HandshakeType.finished),l.putInt24(t.length()),l.putBuffer(t),l};X.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=Dt.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),s=Math.max(16,i-r-3);return n.putBytes(Dt.random.getBytes(s)),n};X.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===X.ContentType.handshake||t.type===X.ContentType.alert||t.type===X.ContentType.change_cipher_spec))){if(t.type===X.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=X.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>X.MaxFragment;)n.push(X.createRecord(e,{type:t.type,data:Dt.util.createBuffer(i.slice(0,X.MaxFragment))})),i=i.slice(X.MaxFragment);i.length>0&&n.push(X.createRecord(e,{type:t.type,data:Dt.util.createBuffer(i)}))}for(var s=0;s<n.length&&!e.fail;++s){var a=n[s],l=e.state.current.write;l.update(e,a)&&e.records.push(a)}}};X.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var hse=o(function(e){switch(e){case!0:return!0;case Dt.pki.certificateError.bad_certificate:return X.Alert.Description.bad_certificate;case Dt.pki.certificateError.unsupported_certificate:return X.Alert.Description.unsupported_certificate;case Dt.pki.certificateError.certificate_revoked:return X.Alert.Description.certificate_revoked;case Dt.pki.certificateError.certificate_expired:return X.Alert.Description.certificate_expired;case Dt.pki.certificateError.certificate_unknown:return X.Alert.Description.certificate_unknown;case Dt.pki.certificateError.unknown_ca:return X.Alert.Description.unknown_ca;default:return X.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),eIt=o(function(e){switch(e){case!0:return!0;case X.Alert.Description.bad_certificate:return Dt.pki.certificateError.bad_certificate;case X.Alert.Description.unsupported_certificate:return Dt.pki.certificateError.unsupported_certificate;case X.Alert.Description.certificate_revoked:return Dt.pki.certificateError.certificate_revoked;case X.Alert.Description.certificate_expired:return Dt.pki.certificateError.certificate_expired;case X.Alert.Description.certificate_unknown:return Dt.pki.certificateError.certificate_unknown;case X.Alert.Description.unknown_ca:return Dt.pki.certificateError.unknown_ca;default:return Dt.pki.certificateError.bad_certificate}},"_alertDescToCertError");X.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(s,a,l){var c=hse(s),u=e.verify(e,s,a,l);if(u!==!0){if(typeof u=="object"&&!Dt.util.isArray(u)){var f=new Error("The application rejected the certificate.");throw f.send=!0,f.alert={level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate},u.message&&(f.message=u.message),u.alert&&(f.alert.description=u.alert),f}u!==s&&(u=eIt(u))}return u},Dt.pki.verifyCertificateChain(e.caStore,t,r)}catch(s){var i=s;(typeof i!="object"||Dt.util.isArray(i))&&(i={send:!0,alert:{level:X.Alert.Level.fatal,description:hse(s)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:X.Alert.Level.fatal,description:hse(i.error)}),e.error(e,i)}return!e.fail};X.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(i){var s=null,a=null;if(i?a=Dt.util.bytesToHex(i):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){s=r.cache[a],delete r.cache[a];for(var l in r.order)if(r.order[l]===a){r.order.splice(l,1);break}}return s},r.setSession=function(i,s){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=Dt.util.bytesToHex(i);r.order.push(a),r.cache[a]=s}}return r};X.createConnection=function(e){var t=null;e.caStore?Dt.util.isArray(e.caStore)?t=Dt.pki.createCaStore(e.caStore):t=e.caStore:t=Dt.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in X.CipherSuites)r.push(X.CipherSuites[n])}var i=e.server?X.ConnectionEnd.server:X.ConnectionEnd.client,s=e.sessionCache?X.createSessionCache(e.sessionCache):null,a={version:{major:X.Version.major,minor:X.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:s,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(f,m,h,p){return m},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:Dt.util.createBuffer(),tlsData:Dt.util.createBuffer(),data:Dt.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:o(function(f,m){m.origin=m.origin||(f.entity===X.ConnectionEnd.client?"client":"server"),m.send&&(X.queue(f,X.createAlert(f,m.alert)),X.flush(f));var h=m.fatal!==!1;h&&(f.fail=!0),e.error(f,m),h&&f.close(!1)},"error"),deflate:e.deflate||null,inflate:e.inflate||null};a.reset=function(f){a.version={major:X.Version.major,minor:X.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===X.ConnectionEnd.client?MEt:jEt,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(f||typeof f>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=X.createConnectionState(a)},a.reset();var l=o(function(f,m){var h=m.type-X.ContentType.change_cipher_spec,p=Ase[f.entity][f.expect];h in p?p[h](f,m):X.handleUnexpected(f,m)},"_update"),c=o(function(f){var m=0,h=f.input,p=h.length();if(p<5)m=5-p;else{f.record={type:h.getByte(),version:{major:h.getByte(),minor:h.getByte()},length:h.getInt16(),fragment:Dt.util.createBuffer(),ready:!1};var A=f.record.version.major===f.version.major;A&&f.session&&f.session.version&&(A=f.record.version.minor===f.version.minor),A||f.error(f,{message:"Incompatible TLS version.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}})}return m},"_readRecordHeader"),u=o(function(f){var m=0,h=f.input,p=h.length();if(p<f.record.length)m=f.record.length-p;else{f.record.fragment.putBytes(h.getBytes(f.record.length)),h.compact();var A=f.state.current.read;A.update(f,f.record)&&(f.fragmented!==null&&(f.fragmented.type===f.record.type?(f.fragmented.fragment.putBuffer(f.record.fragment),f.record=f.fragmented):f.error(f,{message:"Invalid fragmented record.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unexpected_message}})),f.record.ready=!0)}return m},"_readRecord");return a.handshake=function(f){if(a.entity!==X.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,f=f||"";var m=null;f.length>0&&(a.sessionCache&&(m=a.sessionCache.getSession(f)),m===null&&(f="")),f.length===0&&a.sessionCache&&(m=a.sessionCache.getSession(),m!==null&&(f=m.id)),a.session={id:f,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:Dt.md.md5.create(),sha1:Dt.md.sha1.create()},m&&(a.version=m.version,a.session.sp=m.sp),a.session.sp.client_random=X.createRandom().getBytes(),a.open=!0,X.queue(a,X.createRecord(a,{type:X.ContentType.handshake,data:X.createClientHello(a)})),X.flush(a)}},a.process=function(f){var m=0;return f&&a.input.putBytes(f),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(m=c(a)),!a.fail&&a.record!==null&&!a.record.ready&&(m=u(a)),!a.fail&&a.record!==null&&a.record.ready&&l(a,a.record)),m},a.prepare=function(f){return X.queue(a,X.createRecord(a,{type:X.ContentType.application_data,data:Dt.util.createBuffer(f)})),X.flush(a)},a.prepareHeartbeatRequest=function(f,m){return f instanceof Dt.util.ByteBuffer&&(f=f.bytes()),typeof m>"u"&&(m=f.length),a.expectedHeartbeatPayload=f,X.queue(a,X.createRecord(a,{type:X.ContentType.heartbeat,data:X.createHeartbeat(X.HeartbeatMessageType.heartbeat_request,f,m)})),X.flush(a)},a.close=function(f){if(!a.fail&&a.sessionCache&&a.session){var m={id:a.session.id,version:a.session.version,sp:a.session.sp};m.sp.keys=null,a.sessionCache.setSession(m.id,m)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,X.queue(a,X.createAlert(a,{level:X.Alert.Level.warning,description:X.Alert.Description.close_notify})),X.flush(a)),a.closed(a)),a.reset(f)},a};mBe.exports=Dt.tls=Dt.tls||{};for(Rq in X)typeof X[Rq]!="function"&&(Dt.tls[Rq]=X[Rq]);var Rq;Dt.tls.prf_tls1=Dq;Dt.tls.hmac_sha1=NEt;Dt.tls.createSessionCache=X.createSessionCache;Dt.tls.createConnection=X.createConnection});var gBe=H((mVr,pBe)=>{d();var tC=ci();z5();yse();var $d=pBe.exports=tC.tls;$d.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:o(function(e){e.bulk_cipher_algorithm=$d.BulkCipherAlgorithm.aes,e.cipher_type=$d.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=$d.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},"initSecurityParameters"),initConnectionState:hBe};$d.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:o(function(e){e.bulk_cipher_algorithm=$d.BulkCipherAlgorithm.aes,e.cipher_type=$d.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=$d.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},"initSecurityParameters"),initConnectionState:hBe};function hBe(e,t,r){var n=t.entity===tC.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:tC.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:tC.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=iIt,e.write.cipherFunction=tIt,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=$d.hmac_sha1}o(hBe,"initConnectionState");function tIt(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var i;e.version.minor===$d.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=tC.random.getBytesSync(16),t.cipherState.init=!0;var s=t.cipherState.cipher;return s.start({iv:i}),e.version.minor>=$d.Versions.TLS_1_1.minor&&s.output.putBytes(i),s.update(e.fragment),s.finish(rIt)&&(e.fragment=s.output,e.length=e.fragment.length(),r=!0),r}o(tIt,"encrypt_aes_cbc_sha1");function rIt(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}o(rIt,"encrypt_aes_cbc_sha1_padding");function nIt(e,t,r){var n=!0;if(r){for(var i=t.length(),s=t.last(),a=i-1-s;a<i-1;++a)n=n&&t.at(a)==s;n&&t.truncate(s+1)}return n}o(nIt,"decrypt_aes_cbc_sha1_padding");function iIt(e,t){var r=!1,n;e.version.minor===$d.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),r=i.finish(nIt);var s=t.macLength,a=tC.random.getBytesSync(s),l=i.output.length();l>=s?(e.fragment=i.output.getBytes(l-s),a=i.output.getBytes(s)):e.fragment=i.output.getBytes(),e.fragment=tC.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=oIt(t.macKey,a,c)&&r,r}o(iIt,"decrypt_aes_cbc_sha1");function oIt(e,t,r){var n=tC.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}o(oIt,"compareMacs")});var vse=H((gVr,xBe)=>{d();var xs=ci();sg();so();var jS=xBe.exports=xs.sha512=xs.sha512||{};xs.md.sha512=xs.md.algorithms.sha512=jS;var yBe=xs.sha384=xs.sha512.sha384=xs.sha512.sha384||{};yBe.create=function(){return jS.create("SHA-384")};xs.md.sha384=xs.md.algorithms.sha384=yBe;xs.sha512.sha256=xs.sha512.sha256||{create:o(function(){return jS.create("SHA-512/256")},"create")};xs.md["sha512/256"]=xs.md.algorithms["sha512/256"]=xs.sha512.sha256;xs.sha512.sha224=xs.sha512.sha224||{create:o(function(){return jS.create("SHA-512/224")},"create")};xs.md["sha512/224"]=xs.md.algorithms["sha512/224"]=xs.sha512.sha224;jS.create=function(e){if(CBe||sIt(),typeof e>"u"&&(e="SHA-512"),!(e in Ox))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=Ox[e],r=null,n=xs.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var a=64;switch(e){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var l={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return l.start=function(){l.messageLength=0,l.fullMessageLength=l.messageLength128=[];for(var c=l.messageLengthSize/4,u=0;u<c;++u)l.fullMessageLength.push(0);n=xs.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return l},l.start(),l.update=function(c,u){u==="utf8"&&(c=xs.util.encodeUtf8(c));var f=c.length;l.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var m=l.fullMessageLength.length-1;m>=0;--m)l.fullMessageLength[m]+=f[1],f[1]=f[0]+(l.fullMessageLength[m]/4294967296>>>0),l.fullMessageLength[m]=l.fullMessageLength[m]>>>0,f[0]=f[1]/4294967296>>>0;return n.putBytes(c),ABe(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),l},l.digest=function(){var c=xs.util.createBuffer();c.putBytes(n.bytes());var u=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize,f=u&l.blockLength-1;c.putBytes(Cse.substr(0,l.blockLength-f));for(var m,h,p=l.fullMessageLength[0]*8,A=0;A<l.fullMessageLength.length-1;++A)m=l.fullMessageLength[A+1]*8,h=m/4294967296>>>0,p+=h,c.putInt32(p>>>0),p=m>>>0;c.putInt32(p);for(var x=new Array(r.length),A=0;A<r.length;++A)x[A]=r[A].slice(0);ABe(x,i,c);var v=xs.util.createBuffer(),E;e==="SHA-512"?E=x.length:e==="SHA-384"?E=x.length-2:E=x.length-4;for(var A=0;A<E;++A)v.putInt32(x[A][0]),(A!==E-1||e!=="SHA-512/224")&&v.putInt32(x[A][1]);return v},l};var Cse=null,CBe=!1,xse=null,Ox=null;function sIt(){Cse="\x80",Cse+=xs.util.fillString("\0",128),xse=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Ox={},Ox["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Ox["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Ox["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Ox["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],CBe=!0}o(sIt,"_init");function ABe(e,t,r){for(var n,i,s,a,l,c,u,f,m,h,p,A,x,v,E,b,_,R,P,F,W,se,de,re,G,U,ne,J,j,O,V,Z,ae,te,le,fe=r.length();fe>=128;){for(j=0;j<16;++j)t[j][0]=r.getInt32()>>>0,t[j][1]=r.getInt32()>>>0;for(;j<80;++j)Z=t[j-2],O=Z[0],V=Z[1],n=((O>>>19|V<<13)^(V>>>29|O<<3)^O>>>6)>>>0,i=((O<<13|V>>>19)^(V<<3|O>>>29)^(O<<26|V>>>6))>>>0,te=t[j-15],O=te[0],V=te[1],s=((O>>>1|V<<31)^(O>>>8|V<<24)^O>>>7)>>>0,a=((O<<31|V>>>1)^(O<<24|V>>>8)^(O<<25|V>>>7))>>>0,ae=t[j-7],le=t[j-16],V=i+ae[1]+a+le[1],t[j][0]=n+ae[0]+s+le[0]+(V/4294967296>>>0)>>>0,t[j][1]=V>>>0;for(x=e[0][0],v=e[0][1],E=e[1][0],b=e[1][1],_=e[2][0],R=e[2][1],P=e[3][0],F=e[3][1],W=e[4][0],se=e[4][1],de=e[5][0],re=e[5][1],G=e[6][0],U=e[6][1],ne=e[7][0],J=e[7][1],j=0;j<80;++j)u=((W>>>14|se<<18)^(W>>>18|se<<14)^(se>>>9|W<<23))>>>0,f=((W<<18|se>>>14)^(W<<14|se>>>18)^(se<<23|W>>>9))>>>0,m=(G^W&(de^G))>>>0,h=(U^se&(re^U))>>>0,l=((x>>>28|v<<4)^(v>>>2|x<<30)^(v>>>7|x<<25))>>>0,c=((x<<4|v>>>28)^(v<<30|x>>>2)^(v<<25|x>>>7))>>>0,p=(x&E|_&(x^E))>>>0,A=(v&b|R&(v^b))>>>0,V=J+f+h+xse[j][1]+t[j][1],n=ne+u+m+xse[j][0]+t[j][0]+(V/4294967296>>>0)>>>0,i=V>>>0,V=c+A,s=l+p+(V/4294967296>>>0)>>>0,a=V>>>0,ne=G,J=U,G=de,U=re,de=W,re=se,V=F+i,W=P+n+(V/4294967296>>>0)>>>0,se=V>>>0,P=_,F=R,_=E,R=b,E=x,b=v,V=i+a,x=n+s+(V/4294967296>>>0)>>>0,v=V>>>0;V=e[0][1]+v,e[0][0]=e[0][0]+x+(V/4294967296>>>0)>>>0,e[0][1]=V>>>0,V=e[1][1]+b,e[1][0]=e[1][0]+E+(V/4294967296>>>0)>>>0,e[1][1]=V>>>0,V=e[2][1]+R,e[2][0]=e[2][0]+_+(V/4294967296>>>0)>>>0,e[2][1]=V>>>0,V=e[3][1]+F,e[3][0]=e[3][0]+P+(V/4294967296>>>0)>>>0,e[3][1]=V>>>0,V=e[4][1]+se,e[4][0]=e[4][0]+W+(V/4294967296>>>0)>>>0,e[4][1]=V>>>0,V=e[5][1]+re,e[5][0]=e[5][0]+de+(V/4294967296>>>0)>>>0,e[5][1]=V>>>0,V=e[6][1]+U,e[6][0]=e[6][0]+G+(V/4294967296>>>0)>>>0,e[6][1]=V>>>0,V=e[7][1]+J,e[7][0]=e[7][0]+ne+(V/4294967296>>>0)>>>0,e[7][1]=V>>>0,fe-=128}}o(ABe,"_update")});var vBe=H(bse=>{d();var aIt=ci();Ch();var Fl=aIt.asn1;bse.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Fl.Class.UNIVERSAL,type:Fl.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Fl.Class.UNIVERSAL,type:Fl.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Fl.Class.UNIVERSAL,type:Fl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Fl.Class.UNIVERSAL,type:Fl.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Fl.Class.UNIVERSAL,type:Fl.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};bse.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Fl.Class.UNIVERSAL,type:Fl.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Fl.Class.UNIVERSAL,type:Fl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Fl.Class.UNIVERSAL,type:Fl.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Fl.Class.UNIVERSAL,type:Fl.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var FBe=H((vVr,PBe)=>{d();var ac=ci();qS();Wd();vse();so();var _Be=vBe(),lIt=_Be.publicKeyValidator,cIt=_Be.privateKeyValidator;typeof bBe>"u"&&(bBe=ac.jsbn.BigInteger);var bBe,Tse=ac.util.ByteBuffer,hu=typeof Buffer>"u"?Uint8Array:Buffer;ac.pki=ac.pki||{};PBe.exports=ac.pki.ed25519=ac.ed25519=ac.ed25519||{};var _i=ac.ed25519;_i.constants={};_i.constants.PUBLIC_KEY_BYTE_LENGTH=32;_i.constants.PRIVATE_KEY_BYTE_LENGTH=64;_i.constants.SEED_BYTE_LENGTH=32;_i.constants.SIGN_BYTE_LENGTH=64;_i.constants.HASH_BYTE_LENGTH=64;_i.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=ac.random.getBytesSync(_i.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==_i.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+_i.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=IA({message:t,encoding:"binary"});for(var r=new hu(_i.constants.PUBLIC_KEY_BYTE_LENGTH),n=new hu(_i.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return mIt(r,n),{publicKey:r,privateKey:n}};_i.privateKeyFromAsn1=function(e){var t={},r=[],n=ac.asn1.validate(e,cIt,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=ac.asn1.derToOid(t.privateKeyOid),a=ac.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var l=t.privateKey,c=IA({message:ac.asn1.fromDer(l).value,encoding:"binary"});return{privateKeyBytes:c}};_i.publicKeyFromAsn1=function(e){var t={},r=[],n=ac.asn1.validate(e,lIt,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=ac.asn1.derToOid(t.publicKeyOid),a=ac.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var l=t.ed25519PublicKey;if(l.length!==_i.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return IA({message:l,encoding:"binary"})};_i.publicKeyFromPrivateKey=function(e){e=e||{};var t=IA({message:e.privateKey,encoding:"binary"});if(t.length!==_i.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+_i.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new hu(_i.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};_i.sign=function(e){e=e||{};var t=IA(e),r=IA({message:e.privateKey,encoding:"binary"});if(r.length===_i.constants.SEED_BYTE_LENGTH){var n=_i.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==_i.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+_i.constants.SEED_BYTE_LENGTH+" or "+_i.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new hu(_i.constants.SIGN_BYTE_LENGTH+t.length);hIt(i,t,t.length,r);for(var s=new hu(_i.constants.SIGN_BYTE_LENGTH),a=0;a<s.length;++a)s[a]=i[a];return s};_i.verify=function(e){e=e||{};var t=IA(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=IA({message:e.signature,encoding:"binary"});if(r.length!==_i.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+_i.constants.SIGN_BYTE_LENGTH);var n=IA({message:e.publicKey,encoding:"binary"});if(n.length!==_i.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+_i.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new hu(_i.constants.SIGN_BYTE_LENGTH+t.length),s=new hu(_i.constants.SIGN_BYTE_LENGTH+t.length),a;for(a=0;a<_i.constants.SIGN_BYTE_LENGTH;++a)i[a]=r[a];for(a=0;a<t.length;++a)i[a+_i.constants.SIGN_BYTE_LENGTH]=t[a];return pIt(s,i,i.length,n)>=0};function IA(e){var t=e.message;if(t instanceof Uint8Array||t instanceof hu)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new Tse(t,r)}else if(!(t instanceof Tse))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new hu(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}o(IA,"messageToNativeBuffer");var wse=Cn(),Pq=Cn([1]),uIt=Cn([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),fIt=Cn([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),EBe=Cn([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),IBe=Cn([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Ese=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),dIt=Cn([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function VS(e,t){var r=ac.md.sha512.create(),n=new Tse(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var s=new hu(_i.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)s[a]=i.charCodeAt(a);return s}o(VS,"sha512");function mIt(e,t){var r=[Cn(),Cn(),Cn(),Cn()],n,i=VS(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,Rse(r,i),kse(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}o(mIt,"crypto_sign_keypair");function hIt(e,t,r,n){var i,s,a=new Float64Array(64),l=[Cn(),Cn(),Cn(),Cn()],c=VS(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var u=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=c[32+i];var f=VS(e.subarray(32),r+32);for(_se(f),Rse(l,f),kse(e,l),i=32;i<64;++i)e[i]=n[i];var m=VS(e,r+64);for(_se(m),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=f[i];for(i=0;i<32;++i)for(s=0;s<32;s++)a[i+s]+=m[i]*c[s];return SBe(e.subarray(32),a),u}o(hIt,"crypto_sign");function pIt(e,t,r,n){var i,s,a=new hu(32),l=[Cn(),Cn(),Cn(),Cn()],c=[Cn(),Cn(),Cn(),Cn()];if(s=-1,r<64||gIt(c,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var u=VS(e,r);if(_se(u),BBe(l,c,u),Rse(c,t.subarray(32)),Sse(l,c),kse(a,l),r-=64,kBe(t,0,a,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return s=r,s}o(pIt,"crypto_sign_open");function SBe(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*Ese[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*Ese[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*Ese[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}o(SBe,"modL");function _se(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;SBe(e,t)}o(_se,"reduce");function Sse(e,t){var r=Cn(),n=Cn(),i=Cn(),s=Cn(),a=Cn(),l=Cn(),c=Cn(),u=Cn(),f=Cn();T6(r,e[1],e[0]),T6(f,t[1],t[0]),Vo(r,r,f),I6(n,e[0],e[1]),I6(f,t[0],t[1]),Vo(n,n,f),Vo(i,e[3],t[3]),Vo(i,i,fIt),Vo(s,e[2],t[2]),I6(s,s,s),T6(a,n,r),T6(l,s,i),I6(c,s,i),I6(u,n,r),Vo(e[0],a,l),Vo(e[1],u,c),Vo(e[2],c,l),Vo(e[3],a,u)}o(Sse,"add");function TBe(e,t,r){for(var n=0;n<4;++n)DBe(e[n],t[n],r)}o(TBe,"cswap");function kse(e,t){var r=Cn(),n=Cn(),i=Cn();xIt(i,t[2]),Vo(r,t[0],i),Vo(n,t[1],i),Fq(e,n),e[31]^=RBe(r)<<7}o(kse,"pack");function Fq(e,t){var r,n,i,s=Cn(),a=Cn();for(r=0;r<16;++r)a[r]=t[r];for(Ise(a),Ise(a),Ise(a),n=0;n<2;++n){for(s[0]=a[0]-65517,r=1;r<15;++r)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,DBe(a,s,1-i)}for(r=0;r<16;r++)e[2*r]=a[r]&255,e[2*r+1]=a[r]>>8}o(Fq,"pack25519");function gIt(e,t){var r=Cn(),n=Cn(),i=Cn(),s=Cn(),a=Cn(),l=Cn(),c=Cn();return rC(e[2],Pq),AIt(e[1],t),Ux(i,e[1]),Vo(s,i,uIt),T6(i,i,e[2]),I6(s,e[2],s),Ux(a,s),Ux(l,a),Vo(c,l,a),Vo(r,c,i),Vo(r,r,s),yIt(r,r),Vo(r,r,i),Vo(r,r,s),Vo(r,r,s),Vo(e[0],r,s),Ux(n,e[0]),Vo(n,n,s),wBe(n,i)&&Vo(e[0],e[0],dIt),Ux(n,e[0]),Vo(n,n,s),wBe(n,i)?-1:(RBe(e[0])===t[31]>>7&&T6(e[0],wse,e[0]),Vo(e[3],e[0],e[1]),0)}o(gIt,"unpackneg");function AIt(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}o(AIt,"unpack25519");function yIt(e,t){var r=Cn(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)Ux(r,r),n!==1&&Vo(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(yIt,"pow2523");function wBe(e,t){var r=new hu(32),n=new hu(32);return Fq(r,e),Fq(n,t),kBe(r,0,n,0)}o(wBe,"neq25519");function kBe(e,t,r,n){return CIt(e,t,r,n,32)}o(kBe,"crypto_verify_32");function CIt(e,t,r,n,i){var s,a=0;for(s=0;s<i;++s)a|=e[t+s]^r[n+s];return(1&a-1>>>8)-1}o(CIt,"vn");function RBe(e){var t=new hu(32);return Fq(t,e),t[0]&1}o(RBe,"par25519");function BBe(e,t,r){var n,i;for(rC(e[0],wse),rC(e[1],Pq),rC(e[2],Pq),rC(e[3],wse),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,TBe(e,t,n),Sse(t,e),Sse(e,e),TBe(e,t,n)}o(BBe,"scalarmult");function Rse(e,t){var r=[Cn(),Cn(),Cn(),Cn()];rC(r[0],EBe),rC(r[1],IBe),rC(r[2],Pq),Vo(r[3],EBe,IBe),BBe(e,r,t)}o(Rse,"scalarbase");function rC(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}o(rC,"set25519");function xIt(e,t){var r=Cn(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)Ux(r,r),n!==2&&n!==4&&Vo(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(xIt,"inv25519");function Ise(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}o(Ise,"car25519");function DBe(e,t,r){for(var n,i=~(r-1),s=0;s<16;++s)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}o(DBe,"sel25519");function Cn(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}o(Cn,"gf");function I6(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}o(I6,"A");function T6(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}o(T6,"Z");function Ux(e,t){Vo(e,t,t)}o(Ux,"S");function Vo(e,t,r){var n,i,s=0,a=0,l=0,c=0,u=0,f=0,m=0,h=0,p=0,A=0,x=0,v=0,E=0,b=0,_=0,R=0,P=0,F=0,W=0,se=0,de=0,re=0,G=0,U=0,ne=0,J=0,j=0,O=0,V=0,Z=0,ae=0,te=r[0],le=r[1],fe=r[2],De=r[3],ve=r[4],Ue=r[5],ke=r[6],Ze=r[7],ft=r[8],at=r[9],lt=r[10],ie=r[11],Fe=r[12],Ae=r[13],Ge=r[14],z=r[15];n=t[0],s+=n*te,a+=n*le,l+=n*fe,c+=n*De,u+=n*ve,f+=n*Ue,m+=n*ke,h+=n*Ze,p+=n*ft,A+=n*at,x+=n*lt,v+=n*ie,E+=n*Fe,b+=n*Ae,_+=n*Ge,R+=n*z,n=t[1],a+=n*te,l+=n*le,c+=n*fe,u+=n*De,f+=n*ve,m+=n*Ue,h+=n*ke,p+=n*Ze,A+=n*ft,x+=n*at,v+=n*lt,E+=n*ie,b+=n*Fe,_+=n*Ae,R+=n*Ge,P+=n*z,n=t[2],l+=n*te,c+=n*le,u+=n*fe,f+=n*De,m+=n*ve,h+=n*Ue,p+=n*ke,A+=n*Ze,x+=n*ft,v+=n*at,E+=n*lt,b+=n*ie,_+=n*Fe,R+=n*Ae,P+=n*Ge,F+=n*z,n=t[3],c+=n*te,u+=n*le,f+=n*fe,m+=n*De,h+=n*ve,p+=n*Ue,A+=n*ke,x+=n*Ze,v+=n*ft,E+=n*at,b+=n*lt,_+=n*ie,R+=n*Fe,P+=n*Ae,F+=n*Ge,W+=n*z,n=t[4],u+=n*te,f+=n*le,m+=n*fe,h+=n*De,p+=n*ve,A+=n*Ue,x+=n*ke,v+=n*Ze,E+=n*ft,b+=n*at,_+=n*lt,R+=n*ie,P+=n*Fe,F+=n*Ae,W+=n*Ge,se+=n*z,n=t[5],f+=n*te,m+=n*le,h+=n*fe,p+=n*De,A+=n*ve,x+=n*Ue,v+=n*ke,E+=n*Ze,b+=n*ft,_+=n*at,R+=n*lt,P+=n*ie,F+=n*Fe,W+=n*Ae,se+=n*Ge,de+=n*z,n=t[6],m+=n*te,h+=n*le,p+=n*fe,A+=n*De,x+=n*ve,v+=n*Ue,E+=n*ke,b+=n*Ze,_+=n*ft,R+=n*at,P+=n*lt,F+=n*ie,W+=n*Fe,se+=n*Ae,de+=n*Ge,re+=n*z,n=t[7],h+=n*te,p+=n*le,A+=n*fe,x+=n*De,v+=n*ve,E+=n*Ue,b+=n*ke,_+=n*Ze,R+=n*ft,P+=n*at,F+=n*lt,W+=n*ie,se+=n*Fe,de+=n*Ae,re+=n*Ge,G+=n*z,n=t[8],p+=n*te,A+=n*le,x+=n*fe,v+=n*De,E+=n*ve,b+=n*Ue,_+=n*ke,R+=n*Ze,P+=n*ft,F+=n*at,W+=n*lt,se+=n*ie,de+=n*Fe,re+=n*Ae,G+=n*Ge,U+=n*z,n=t[9],A+=n*te,x+=n*le,v+=n*fe,E+=n*De,b+=n*ve,_+=n*Ue,R+=n*ke,P+=n*Ze,F+=n*ft,W+=n*at,se+=n*lt,de+=n*ie,re+=n*Fe,G+=n*Ae,U+=n*Ge,ne+=n*z,n=t[10],x+=n*te,v+=n*le,E+=n*fe,b+=n*De,_+=n*ve,R+=n*Ue,P+=n*ke,F+=n*Ze,W+=n*ft,se+=n*at,de+=n*lt,re+=n*ie,G+=n*Fe,U+=n*Ae,ne+=n*Ge,J+=n*z,n=t[11],v+=n*te,E+=n*le,b+=n*fe,_+=n*De,R+=n*ve,P+=n*Ue,F+=n*ke,W+=n*Ze,se+=n*ft,de+=n*at,re+=n*lt,G+=n*ie,U+=n*Fe,ne+=n*Ae,J+=n*Ge,j+=n*z,n=t[12],E+=n*te,b+=n*le,_+=n*fe,R+=n*De,P+=n*ve,F+=n*Ue,W+=n*ke,se+=n*Ze,de+=n*ft,re+=n*at,G+=n*lt,U+=n*ie,ne+=n*Fe,J+=n*Ae,j+=n*Ge,O+=n*z,n=t[13],b+=n*te,_+=n*le,R+=n*fe,P+=n*De,F+=n*ve,W+=n*Ue,se+=n*ke,de+=n*Ze,re+=n*ft,G+=n*at,U+=n*lt,ne+=n*ie,J+=n*Fe,j+=n*Ae,O+=n*Ge,V+=n*z,n=t[14],_+=n*te,R+=n*le,P+=n*fe,F+=n*De,W+=n*ve,se+=n*Ue,de+=n*ke,re+=n*Ze,G+=n*ft,U+=n*at,ne+=n*lt,J+=n*ie,j+=n*Fe,O+=n*Ae,V+=n*Ge,Z+=n*z,n=t[15],R+=n*te,P+=n*le,F+=n*fe,W+=n*De,se+=n*ve,de+=n*Ue,re+=n*ke,G+=n*Ze,U+=n*ft,ne+=n*at,J+=n*lt,j+=n*ie,O+=n*Fe,V+=n*Ae,Z+=n*Ge,ae+=n*z,s+=38*P,a+=38*F,l+=38*W,c+=38*se,u+=38*de,f+=38*re,m+=38*G,h+=38*U,p+=38*ne,A+=38*J,x+=38*j,v+=38*O,E+=38*V,b+=38*Z,_+=38*ae,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=R+i+65535,i=Math.floor(n/65536),R=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=R+i+65535,i=Math.floor(n/65536),R=n-i*65536,s+=i-1+37*(i-1),e[0]=s,e[1]=a,e[2]=l,e[3]=c,e[4]=u,e[5]=f,e[6]=m,e[7]=h,e[8]=p,e[9]=A,e[10]=x,e[11]=v,e[12]=E,e[13]=b,e[14]=_,e[15]=R}o(Vo,"M")});var MBe=H((IVr,QBe)=>{d();var bf=ci();so();Wd();qS();QBe.exports=bf.kem=bf.kem||{};var NBe=bf.jsbn.BigInteger;bf.kem.rsa={};bf.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||bf.random,n={};return n.encrypt=function(i,s){var a=Math.ceil(i.n.bitLength()/8),l;do l=new NBe(bf.util.bytesToHex(r.getBytesSync(a)),16).mod(i.n);while(l.compareTo(NBe.ONE)<=0);l=bf.util.hexToBytes(l.toString(16));var c=a-l.length;c>0&&(l=bf.util.fillString("\0",c)+l);var u=i.encrypt(l,"NONE"),f=e.generate(l,s);return{encapsulation:u,key:f}},n.decrypt=function(i,s,a){var l=i.decrypt(s,"NONE");return e.generate(l,a)},n};bf.kem.kdf1=function(e,t){LBe(this,e,0,t||e.digestLength)};bf.kem.kdf2=function(e,t){LBe(this,e,1,t||e.digestLength)};function LBe(e,t,r,n){e.generate=function(i,s){for(var a=new bf.util.ByteBuffer,l=Math.ceil(s/n)+r,c=new bf.util.ByteBuffer,u=r;u<l;++u){c.putInt32(u),t.start(),t.update(i+c.getBytes());var f=t.digest();a.putBytes(f.getBytes(n))}return a.truncate(a.length()-s),a.getBytes()}}o(LBe,"_createKDF")});var WBe=H((_Vr,qBe)=>{d();var Qi=ci();so();qBe.exports=Qi.log=Qi.log||{};Qi.log.levels=["none","error","warning","info","debug","verbose","max"];var Nq={},Pse=[],zS=null;Qi.log.LEVEL_LOCKED=2;Qi.log.NO_LEVEL_CHECK=4;Qi.log.INTERPOLATE=8;for(hg=0;hg<Qi.log.levels.length;++hg)Bse=Qi.log.levels[hg],Nq[Bse]={index:hg,name:Bse.toUpperCase()};var Bse,hg;Qi.log.logMessage=function(e){for(var t=Nq[e.level].index,r=0;r<Pse.length;++r){var n=Pse[r];if(n.flags&Qi.log.NO_LEVEL_CHECK)n.f(e);else{var i=Nq[n.level].index;t<=i&&n.f(n,e)}}};Qi.log.prepareStandard=function(e){"standard"in e||(e.standard=Nq[e.level].name+" ["+e.category+"] "+e.message)};Qi.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=Qi.util.format.apply(this,t)}};Qi.log.prepareStandardFull=function(e){"standardFull"in e||(Qi.log.prepareStandard(e),e.standardFull=e.standard)};for(Dse=["error","warning","info","debug","verbose"],hg=0;hg<Dse.length;++hg)(function(t){Qi.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),s={timestamp:new Date,level:t,category:r,message:n,arguments:i};Qi.log.logMessage(s)}})(Dse[hg]);var Dse,hg;Qi.log.makeLogger=function(e){var t={flags:0,f:e};return Qi.log.setLevel(t,"none"),t};Qi.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&Qi.log.LEVEL_LOCKED))for(var n=0;n<Qi.log.levels.length;++n){var i=Qi.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r};Qi.log.lock=function(e,t){typeof t>"u"||t?e.flags|=Qi.log.LEVEL_LOCKED:e.flags&=~Qi.log.LEVEL_LOCKED};Qi.log.addLogger=function(e){Pse.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(OBe={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},YS=o(function(e,t){Qi.log.prepareStandard(t);var r=OBe[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},"f"),w6=Qi.log.makeLogger(YS)):(YS=o(function(t,r){Qi.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),w6=Qi.log.makeLogger(YS)),Qi.log.setLevel(w6,"debug"),Qi.log.addLogger(w6),zS=w6):console={log:o(function(){},"log")};var w6,OBe,YS;zS!==null&&typeof window<"u"&&window.location&&($S=new URL(window.location.href).searchParams,$S.has("console.level")&&Qi.log.setLevel(zS,$S.get("console.level").slice(-1)[0]),$S.has("console.lock")&&(UBe=$S.get("console.lock").slice(-1)[0],UBe=="true"&&Qi.log.lock(zS)));var $S,UBe;Qi.log.consoleLogger=zS});var HBe=H((RVr,GBe)=>{d();GBe.exports=sg();hq();C6();Voe();vse()});var $Be=H((DVr,VBe)=>{d();var pr=ci();z5();Ch();OS();Y5();Px();sse();Wd();so();Sq();var Pe=pr.asn1,A0=VBe.exports=pr.pkcs7=pr.pkcs7||{};A0.messageFromPem=function(e){var t=pr.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=Pe.fromDer(t.body);return A0.messageFromAsn1(n)};A0.messageToPem=function(e,t){var r={type:"PKCS7",body:Pe.toDer(e.toAsn1()).getBytes()};return pr.pem.encode(r,{maxline:t})};A0.messageFromAsn1=function(e){var t={},r=[];if(!Pe.validate(e,A0.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=Pe.derToOid(t.contentType),s;switch(i){case pr.pki.oids.envelopedData:s=A0.createEnvelopedData();break;case pr.pki.oids.encryptedData:s=A0.createEncryptedData();break;case pr.pki.oids.signedData:s=A0.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return s.fromAsn1(t.content.value[0]),s};A0.createSignedData=function(){var e=null;return e={type:pr.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:o(function(n){if(Nse(e,n,A0.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,s=0;s<i.length;++s)e.certificates.push(pr.pki.certificateFromAsn1(i[s]))},"fromAsn1"),toAsn1:o(function(){e.contentInfo||e.sign();for(var n=[],i=0;i<e.certificates.length;++i)n.push(pr.pki.certificateToAsn1(e.certificates[i]));var s=[],a=Pe.create(Pe.Class.CONTEXT_SPECIFIC,0,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Pe.integerToDer(e.version).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&a.value[0].value.push(Pe.create(Pe.Class.CONTEXT_SPECIFIC,0,!0,n)),s.length>0&&a.value[0].value.push(Pe.create(Pe.Class.CONTEXT_SPECIFIC,1,!0,s)),a.value[0].value.push(Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SET,!0,e.signerInfos)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.type).getBytes()),a])},"toAsn1"),addSigner:o(function(n){var i=n.issuer,s=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=pr.pki.certificateFromPem(a)),i=a.issuer.attributes,s=a.serialNumber}var l=n.key;if(!l)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof l=="string"&&(l=pr.pki.privateKeyFromPem(l));var c=n.digestAlgorithm||pr.pki.oids.sha1;switch(c){case pr.pki.oids.sha1:case pr.pki.oids.sha256:case pr.pki.oids.sha384:case pr.pki.oids.sha512:case pr.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var u=n.authenticatedAttributes||[];if(u.length>0){for(var f=!1,m=!1,h=0;h<u.length;++h){var p=u[h];if(!f&&p.type===pr.pki.oids.contentType){if(f=!0,m)break;continue}if(!m&&p.type===pr.pki.oids.messageDigest){if(m=!0,f)break;continue}}if(!f||!m)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:l,version:1,issuer:i,serialNumber:s,digestAlgorithm:c,signatureAlgorithm:pr.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},"addSigner"),sign:o(function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(pr.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof pr.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=pr.util.encodeUtf8(e.content)),n.detached?e.detachedContent=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(Pe.create(Pe.Class.CONTEXT_SPECIFIC,0,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var s=t();r(s)}},"sign"),verify:o(function(){throw new Error("PKCS#7 signature verification not yet implemented.")},"verify"),addCertificate:o(function(n){typeof n=="string"&&(n=pr.pki.certificateFromPem(n)),e.certificates.push(n)},"addCertificate"),addCertificateRevokationList:o(function(n){throw new Error("PKCS#7 CRL support not yet implemented.")},"addCertificateRevokationList")},e;function t(){for(var n={},i=0;i<e.signers.length;++i){var s=e.signers[i],a=s.digestAlgorithm;a in n||(n[a]=pr.md[pr.pki.oids[a]].create()),s.authenticatedAttributes.length===0?s.md=n[a]:s.md=pr.md[pr.pki.oids[a]].create()}e.digestAlgorithmIdentifiers=[];for(var a in n)e.digestAlgorithmIdentifiers.push(Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(a).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,"")]));return n}o(t,"addDigestAlgorithmIds");function r(n){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=Pe.derToOid(e.contentInfo.value[0].value),a=Pe.toDer(i);a.getByte(),Pe.getBerValueLength(a),a=a.getBytes();for(var l in n)n[l].start().update(a);for(var c=new Date,u=0;u<e.signers.length;++u){var f=e.signers[u];if(f.authenticatedAttributes.length===0){if(s!==pr.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{f.authenticatedAttributesAsn1=Pe.create(Pe.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var m=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SET,!0,[]),h=0;h<f.authenticatedAttributes.length;++h){var p=f.authenticatedAttributes[h];p.type===pr.pki.oids.messageDigest?p.value=n[f.digestAlgorithm].digest():p.type===pr.pki.oids.signingTime&&(p.value||(p.value=c)),m.value.push(Fse(p)),f.authenticatedAttributesAsn1.value.push(Fse(p))}a=Pe.toDer(m).getBytes(),f.md.start().update(a)}f.signature=f.key.sign(f.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=wIt(e.signers)}o(r,"addSignerInfos")};A0.createEncryptedData=function(){var e=null;return e={type:pr.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:pr.pki.oids["aes256-CBC"]},fromAsn1:o(function(t){Nse(e,t,A0.asn1.encryptedDataValidator)},"fromAsn1"),decrypt:o(function(t){t!==void 0&&(e.encryptedContent.key=t),jBe(e)},"decrypt")},e};A0.createEnvelopedData=function(){var e=null;return e={type:pr.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:pr.pki.oids["aes256-CBC"]},fromAsn1:o(function(t){var r=Nse(e,t,A0.asn1.envelopedDataValidator);e.recipients=EIt(r.recipientInfos.value)},"fromAsn1"),toAsn1:o(function(){return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.type).getBytes()),Pe.create(Pe.Class.CONTEXT_SPECIFIC,0,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Pe.integerToDer(e.version).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SET,!0,IIt(e.recipients)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,_It(e.encryptedContent))])])])},"toAsn1"),findRecipient:o(function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],s=i.issuer;if(i.serialNumber===t.serialNumber&&s.length===r.length){for(var a=!0,l=0;l<r.length;++l)if(s[l].type!==r[l].type||s[l].value!==r[l].value){a=!1;break}if(a)return i}}return null},"findRecipient"),decrypt:o(function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case pr.pki.oids.rsaEncryption:case pr.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=pr.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}jBe(e)},"decrypt"),addRecipient:o(function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:pr.pki.oids.rsaEncryption,key:t.publicKey}})},"addRecipient"),encrypt:o(function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,i,s;switch(r){case pr.pki.oids["aes128-CBC"]:n=16,i=16,s=pr.aes.createEncryptionCipher;break;case pr.pki.oids["aes192-CBC"]:n=24,i=16,s=pr.aes.createEncryptionCipher;break;case pr.pki.oids["aes256-CBC"]:n=32,i=16,s=pr.aes.createEncryptionCipher;break;case pr.pki.oids["des-EDE3-CBC"]:n=24,i=8,s=pr.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=pr.util.createBuffer(pr.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=pr.util.createBuffer(pr.random.getBytes(i));var a=s(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var l=0;l<e.recipients.length;++l){var c=e.recipients[l];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case pr.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}},"encrypt")},e};function vIt(e){var t={},r=[];if(!Pe.validate(e,A0.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:pr.pki.RDNAttributesAsArray(t.issuer),serialNumber:pr.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:Pe.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}o(vIt,"_recipientFromAsn1");function bIt(e){return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Pe.integerToDer(e.version).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[pr.pki.distinguishedNameToAsn1({attributes:e.issuer}),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,pr.util.hexToBytes(e.serialNumber))]),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.encryptedContent.algorithm).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,"")]),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,e.encryptedContent.content)])}o(bIt,"_recipientToAsn1");function EIt(e){for(var t=[],r=0;r<e.length;++r)t.push(vIt(e[r]));return t}o(EIt,"_recipientsFromAsn1");function IIt(e){for(var t=[],r=0;r<e.length;++r)t.push(bIt(e[r]));return t}o(IIt,"_recipientsToAsn1");function TIt(e){var t=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Pe.integerToDer(e.version).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[pr.pki.distinguishedNameToAsn1({attributes:e.issuer}),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,pr.util.hexToBytes(e.serialNumber))]),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.digestAlgorithm).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.signatureAlgorithm).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,"")])),t.value.push(Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=Pe.create(Pe.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push(Fse(i))}t.value.push(r)}return t}o(TIt,"_signerToAsn1");function wIt(e){for(var t=[],r=0;r<e.length;++r)t.push(TIt(e[r]));return t}o(wIt,"_signersToAsn1");function Fse(e){var t;if(e.type===pr.pki.oids.contentType)t=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.value).getBytes());else if(e.type===pr.pki.oids.messageDigest)t=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===pr.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var s=Date.parse(i);isNaN(s)?i.length===13?i=Pe.utcTimeToDate(i):i=Pe.generalizedTimeToDate(i):i=new Date(s)}i>=r&&i<n?t=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.UTCTIME,!1,Pe.dateToUtcTime(i)):t=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.GENERALIZEDTIME,!1,Pe.dateToGeneralizedTime(i))}return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.type).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SET,!0,[t])])}o(Fse,"_attributeToAsn1");function _It(e){return[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(pr.pki.oids.data).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.algorithm).getBytes()),e.parameter?Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),Pe.create(Pe.Class.CONTEXT_SPECIFIC,0,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,e.content.getBytes())])]}o(_It,"_encryptedContentToAsn1");function Nse(e,t,r){var n={},i=[];if(!Pe.validate(t,r,n,i)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}var a=Pe.derToOid(n.contentType);if(a!==pr.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var l="";if(pr.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==Pe.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");l+=n.encryptedContent[c].value}else l=n.encryptedContent;e.encryptedContent={algorithm:Pe.derToOid(n.encAlgorithm),parameter:pr.util.createBuffer(n.encParameter.value),content:pr.util.createBuffer(l)}}if(n.content){var l="";if(pr.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==Pe.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");l+=n.content[c].value}else l=n.content;e.content=pr.util.createBuffer(l)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}o(Nse,"_fromAsn1");function jBe(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case pr.pki.oids["aes128-CBC"]:case pr.pki.oids["aes192-CBC"]:case pr.pki.oids["aes256-CBC"]:t=pr.aes.createDecryptionCipher(e.encryptedContent.key);break;case pr.pki.oids.desCBC:case pr.pki.oids["des-EDE3-CBC"]:t=pr.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}o(jBe,"_decryptContent")});var YBe=H((NVr,zBe)=>{d();var Ya=ci();z5();p6();hq();C6();so();var Qq=zBe.exports=Ya.ssh=Ya.ssh||{};Qq.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",i=t===""?"none":"aes256-cbc",s="PuTTY-User-Key-File-2: "+n+`\r
`;s+="Encryption: "+i+`\r
`,s+="Comment: "+r+`\r
`;var a=Ya.util.createBuffer();_6(a,n),pg(a,e.e),pg(a,e.n);var l=Ya.util.encode64(a.bytes(),64),c=Math.floor(l.length/66)+1;s+="Public-Lines: "+c+`\r
`,s+=l;var u=Ya.util.createBuffer();pg(u,e.d),pg(u,e.p),pg(u,e.q),pg(u,e.qInv);var f;if(!t)f=Ya.util.encode64(u.bytes(),64);else{var m=u.length()+16-1;m-=m%16;var h=Lq(u.bytes());h.truncate(h.length()-m+u.length()),u.putBuffer(h);var p=Ya.util.createBuffer();p.putBuffer(Lq("\0\0\0\0",t)),p.putBuffer(Lq("\0\0\0",t));var A=Ya.aes.createEncryptionCipher(p.truncate(8),"CBC");A.start(Ya.util.createBuffer().fillWithByte(0,16)),A.update(u.copy()),A.finish();var x=A.output;x.truncate(16),f=Ya.util.encode64(x.bytes(),64)}c=Math.floor(f.length/66)+1,s+=`\r
Private-Lines: `+c+`\r
`,s+=f;var v=Lq("putty-private-key-file-mac-key",t),E=Ya.util.createBuffer();_6(E,n),_6(E,i),_6(E,r),E.putInt32(a.length()),E.putBuffer(a),E.putInt32(u.length()),E.putBuffer(u);var b=Ya.hmac.create();return b.start("sha1",v),b.update(E.bytes()),s+=`\r
Private-MAC: `+b.digest().toHex()+`\r
`,s};Qq.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=Ya.util.createBuffer();return _6(n,r),pg(n,e.e),pg(n,e.n),r+" "+Ya.util.encode64(n.bytes())+" "+t};Qq.privateKeyToOpenSSH=function(e,t){return t?Ya.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):Ya.pki.privateKeyToPem(e)};Qq.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Ya.md.md5.create(),n="ssh-rsa",i=Ya.util.createBuffer();_6(i,n),pg(i,e.e),pg(i,e.n),r.start(),r.update(i.getBytes());var s=r.digest();if(t.encoding==="hex"){var a=s.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return s};function pg(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=Ya.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}o(pg,"_addBigIntegerToBuffer");function _6(e,t){e.putInt32(t.length),e.putString(t)}o(_6,"_addStringToBuffer");function Lq(){for(var e=Ya.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}o(Lq,"_sha1")});var JBe=H((MVr,KBe)=>{d();KBe.exports=ci();z5();gBe();Ch();aq();OS();FBe();p6();MBe();WBe();HBe();ase();yq();Px();tse();use();$Be();dse();nse();$oe();Tq();Wd();Koe();YBe();yse();so()});var eDe=H(qx=>{"use strict";d();Object.defineProperty(qx,"__esModule",{value:!0});qx.convert=qx.Format=void 0;var KS=JBe(),nC;(function(e){e.der="der",e.pem="pem",e.txt="txt",e.asn1="asn1",e.x509="x509",e.fingerprint="fingerprint"})(nC=qx.Format||(qx.Format={}));function ZBe(e){var t=KS.pki.pemToDer(e),r=KS.asn1,n=r.fromDer(t.data.toString("binary")).value[0].value,i=n[0],s=i.tagClass===r.Class.CONTEXT_SPECIFIC&&i.type===0&&i.constructed,a=n.slice(s);return{serial:a[0],issuer:a[2],valid:a[3],subject:a[4]}}o(ZBe,"myASN");function SIt(e){var t=ZBe(e),r=t.subject.value.map(function(i){return i.value[0].value[1].value}).join("/"),n=t.valid.value.map(function(i){return i.value}).join(" - ");return["Subject	".concat(r),"Valid	".concat(n),String(e)].join(`
`)}o(SIt,"txtFormat");function XBe(e,t){switch(t){case nC.der:return KS.pki.pemToDer(e);case nC.pem:return e;case nC.txt:return SIt(e);case nC.asn1:return ZBe(e);case nC.fingerprint:var r=KS.md.sha1.create(),n=XBe(e,nC.der);return r.update(n.getBytes()),r.digest().toHex();case nC.x509:return KS.pki.certificateFromPem(e);default:throw new Error("unknown format ".concat(t))}}o(XBe,"convert");qx.convert=XBe});var sDe=H(pu=>{"use strict";d();var iC=pu&&pu.__assign||function(){return iC=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},iC.apply(this,arguments)},Mq=pu&&pu.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};Object.defineProperty(pu,"__esModule",{value:!0});pu.convert=pu.Format=pu.addToGlobalAgent=pu.get=void 0;var Lse=require("https"),kIt=require("tls"),tDe=require("child_process"),rDe=Nke(),TA=eDe();Object.defineProperty(pu,"Format",{enumerable:!0,get:o(function(){return TA.Format},"get")});Object.defineProperty(pu,"convert",{enumerable:!0,get:o(function(){return TA.convert},"get")});var nDe=process.platform==="darwin",iDe=Lse.globalAgent,Uq={keychain:"all",unique:!0,excludeBundled:!0,format:TA.Format.pem};function oDe(e){if(e===void 0&&(e=Uq),!nDe)return[];e=iC(iC({},Uq),e);var t=/(?=-----BEGIN\sCERTIFICATE-----)/g,r=["find-certificate","-a","-p"],n=[];if(e.keychain==="all"||e.keychain==="SystemRootCertificates"){var i="/System/Library/Keychains/SystemRootCertificates.keychain",s=(0,tDe.spawnSync)("/usr/bin/security",r.concat(i)).stdout.toString().split(t).map(function(u){return u.trim()});n=Mq(Mq([],n,!0),s,!0)}if(e.keychain==="all"||e.keychain==="current"){var a=(0,tDe.spawnSync)("/usr/bin/security",r).stdout.toString().split(t).map(function(u){return u.trim()});n=Mq(Mq([],n,!0),a,!0)}if(e.unique||e.excludeBundled){var l=n.map(function(u){return(0,TA.convert)(u,TA.Format.fingerprint)}),c=e.excludeBundled?kIt.rootCertificates.map(function(u){return(0,TA.convert)(u,TA.Format.fingerprint)}):[];n=n.filter(function(u,f){var m=l[f];return!(e.unique&&f!==l.indexOf(m)||e.excludeBundled&&c.includes(m))})}return n.map(function(u){return(0,TA.convert)(u,e.format)})}o(oDe,"get");pu.get=oDe;var Oq=iDe.options.ca,RIt=o(function(e){if(e===void 0&&(e=Uq),!!nDe){var t;Array.isArray(Oq)?t=Array.from(Oq):t=typeof Oq<"u"?[Oq]:[],oDe(iC(iC(iC({},Uq),e),{format:TA.Format.pem,excludeBundled:!1})).forEach(function(r){return t.push(r)}),iDe.options.ca=t,Lse.Agent=function(r){return function(n){var i=typeof n<"u"?iC({},n):{};return typeof i.ca>"u"&&(i.ca=t),r.call(this,i)}}(Lse.Agent),(0,rDe.setGlobalDispatcher)(new rDe.Agent({connect:{ca:t}}))}},"addToGlobalAgent");pu.addToGlobalAgent=RIt});var aDe=H((VVr,Qse)=>{d();function BIt(){let{X509Certificate:e}=require("crypto"),{join:t}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(t(__dirname,"crypt32.node")),i=[],s=new n.Crypt32;try{let a;for(;a=s.next();){let l=new e(a);i.push(l.toString())}}finally{s.done()}return Array.from(new Set(i))}o(BIt,"all");process.platform!=="win32"?Qse.exports.all=()=>[]:Qse.exports.all=BIt});var gDe=H((XVr,pDe)=>{"use strict";d();function hDe(e,t,r){let n=t[r];if(e==null&&n.required===!1)return;if(e==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let i=typeof e;if(n.type&&i!==n.type){if(n.required===!1&&t.slice(r).some(s=>s.type===i))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof e}\``)}return!0}o(hDe,"validateParameter");function PIt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}o(PIt,"hasOwnProperty");function FIt(e,t){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let s=0,a=0;s<t.length;++s,++a){let l=t[s],c=r[a];PIt(l,"default")&&c==null&&(c=l.default),l.type==="object"&&l.default!=null&&(c=Object.assign({},l.default,c)),l.name==="options"&&(typeof c=="function"||c==null)&&(c={}),hDe(c,t,s)?n.push(c):a--}if(typeof arguments[arguments.length-1]!="function")return new Promise((s,a)=>{n.push((l,c)=>{if(l)return a(l);s(c)}),e.apply(this,n)});e.apply(this,n)}}o(FIt,"defineOperation");pDe.exports={defineOperation:FIt,validateParameter:hDe}});var Vse=H((r$r,CDe)=>{"use strict";d();var R6=fX()("kerberos"),k6=R6.KerberosClient,ADe=R6.KerberosServer,oC=gDe().defineOperation,NIt=1,LIt=2,QIt=4,MIt=8,OIt=16,UIt=32,qIt=64,WIt=128,GIt=256,yDe=0,HIt=9,jIt=6;k6.prototype.step=oC(k6.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);k6.prototype.wrap=oC(k6.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);k6.prototype.unwrap=oC(k6.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);ADe.prototype.step=oC(ADe.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var VIt=oC(R6.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),$It=oC(R6.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),zIt=oC(R6.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:yDe}},{name:"callback",type:"function",required:!1}]),YIt=oC(R6.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);CDe.exports={initializeClient:zIt,initializeServer:YIt,principalDetails:$It,checkPassword:VIt,GSS_C_DELEG_FLAG:NIt,GSS_C_MUTUAL_FLAG:LIt,GSS_C_REPLAY_FLAG:QIt,GSS_C_SEQUENCE_FLAG:MIt,GSS_C_CONF_FLAG:OIt,GSS_C_INTEG_FLAG:UIt,GSS_C_ANON_FLAG:qIt,GSS_C_PROT_READY_FLAG:WIt,GSS_C_TRANS_FLAG:GIt,GSS_C_NO_OID:yDe,GSS_MECH_OID_KRB5:HIt,GSS_MECH_OID_SPNEGO:jIt}});var xDe=H((i$r,KIt)=>{KIt.exports={name:"kerberos",version:"2.2.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"^7.1.2"},devDependencies:{"@types/node":"^22.2.0",chai:"^4.4.1","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^9.9.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.2.1","jsdoc-to-markdown":"^8.0.3",mocha:"^10.7.3",mongodb:"^6.8.0","node-gyp":"^10.1.0",prebuild:"^13.0.0",prettier:"^3.3.3",request:"^2.88.2"},overrides:{prebuild:{"node-gyp":"$node-gyp"}},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"ESLINT_USE_FLAT_CONFIG=false eslint lib test --fix","check:lint":"ESLINT_USE_FLAT_CONFIG=false eslint lib test",precommit:"check-clang-format",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",test:"mocha test",prebuild:"prebuild --runtime napi --strip --verbose --all"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var bDe=H((o$r,vDe)=>{"use strict";d();var JIt=require("dns"),ZIt=Vse(),$se=class{static{o(this,"MongoAuthProcess")}constructor(t,r,n,i){i=i||{},this.host=t,this.port=r,this.serviceName=n||i.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof i.gssapiCanonicalizeHostName=="boolean"?i.gssapiCanonicalizeHostName:!1,this._transition=XIt(this),this.retries=10}init(t,r,n){let i=this;this.username=t,this.password=r;function s(a,l,c){if(!a)return c();JIt.resolveCname(l,(u,f)=>{if(u)return c(u);Array.isArray(f)&&f.length>0&&(i.host=f[0]),c()})}o(s,"performGssapiCanonicalizeHostName"),s(this.canonicalizeHostName,this.host,a=>{if(a)return n(a);let l={};r!=null&&Object.assign(l,{user:t,password:r});let c=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;ZIt.initializeClient(c,l,(u,f)=>{if(u)return n(u,null);i.client=f,n(null,f)})})}transition(t,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(t,r)}};function XIt(e){return(t,r)=>{e.client.step("",(n,i)=>{if(n)return r(n);e._transition=e8t(e),r(null,i)})}}o(XIt,"firstTransition");function e8t(e){return(t,r)=>{e.client.step(t,(n,i)=>{if(n&&e.retries===0)return r(n);if(n)return e.retries=e.retries-1,e.transition(t,r);e._transition=t8t(e),r(null,i||"")})}}o(e8t,"secondTransition");function t8t(e){return(t,r)=>{e.client.unwrap(t,(n,i)=>{if(n)return r(n,!1);e.client.wrap(i,{user:e.username},(s,a)=>{if(s)return r(s,!1);e._transition=r8t(e),r(null,a)})})}}o(t8t,"thirdTransition");function r8t(e){return(t,r)=>{e._transition=null,r(null,!0)}}o(r8t,"fourthTransition");vDe.exports={MongoAuthProcess:$se}});var IDe=H((l$r,JS)=>{"use strict";d();var EDe=Vse();JS.exports=EDe;JS.exports.Kerberos=EDe;JS.exports.version=xDe().version;JS.exports.processes={MongoAuthProcess:bDe().MongoAuthProcess}});var PPe=H((lXr,DPe)=>{d();DPe.exports=BPe;BPe.sync=v9t;var kPe=require("fs");function x9t(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}o(x9t,"checkPathExt");function RPe(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:x9t(t,r)}o(RPe,"checkStat");function BPe(e,t,r){kPe.stat(e,function(n,i){r(n,n?!1:RPe(i,e,t))})}o(BPe,"isexe");function v9t(e,t){return RPe(kPe.statSync(e),e,t)}o(v9t,"sync")});var MPe=H((fXr,QPe)=>{d();QPe.exports=NPe;NPe.sync=b9t;var FPe=require("fs");function NPe(e,t,r){FPe.stat(e,function(n,i){r(n,n?!1:LPe(i,t))})}o(NPe,"isexe");function b9t(e,t){return LPe(FPe.statSync(e),t)}o(b9t,"sync");function LPe(e,t){return e.isFile()&&E9t(e,t)}o(LPe,"checkStat");function E9t(e,t){var r=e.mode,n=e.uid,i=e.gid,s=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),a=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),l=parseInt("100",8),c=parseInt("010",8),u=parseInt("001",8),f=l|c,m=r&u||r&c&&i===a||r&l&&n===s||r&f&&s===0;return m}o(E9t,"checkMode")});var UPe=H((pXr,OPe)=>{d();var hXr=require("fs"),vW;process.platform==="win32"||global.TESTING_WINDOWS?vW=PPe():vW=MPe();OPe.exports=yae;yae.sync=I9t;function yae(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){yae(e,t||{},function(s,a){s?i(s):n(a)})})}vW(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}o(yae,"isexe");function I9t(e,t){try{return vW.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}o(I9t,"sync")});var $Pe=H((yXr,VPe)=>{d();var H6=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",qPe=require("path"),T9t=H6?";":":",WPe=UPe(),GPe=o(e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),"getNotFoundError"),HPe=o((e,t)=>{let r=t.colon||T9t,n=e.match(/\//)||H6&&e.match(/\\/)?[""]:[...H6?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=H6?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=H6?i.split(r):[""];return H6&&e.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:i}},"getPathInfo"),jPe=o((e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:s}=HPe(e,t),a=[],l=o(u=>new Promise((f,m)=>{if(u===n.length)return t.all&&a.length?f(a):m(GPe(e));let h=n[u],p=/^".*"$/.test(h)?h.slice(1,-1):h,A=qPe.join(p,e),x=!p&&/^\.[\\\/]/.test(e)?e.slice(0,2)+A:A;f(c(x,u,0))}),"step"),c=o((u,f,m)=>new Promise((h,p)=>{if(m===i.length)return h(l(f+1));let A=i[m];WPe(u+A,{pathExt:s},(x,v)=>{if(!x&&v)if(t.all)a.push(u+A);else return h(u+A);return h(c(u,f,m+1))})}),"subStep");return r?l(0).then(u=>r(null,u),r):l(0)},"which"),w9t=o((e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=HPe(e,t),s=[];for(let a=0;a<r.length;a++){let l=r[a],c=/^".*"$/.test(l)?l.slice(1,-1):l,u=qPe.join(c,e),f=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;for(let m=0;m<n.length;m++){let h=f+n[m];try{if(WPe.sync(h,{pathExt:i}))if(t.all)s.push(h);else return h}catch{}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw GPe(e)},"whichSync");VPe.exports=jPe;jPe.sync=w9t});var YPe=H((vXr,Cae)=>{"use strict";d();var zPe=o((e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"},"pathKey");Cae.exports=zPe;Cae.exports.default=zPe});var XPe=H((IXr,ZPe)=>{"use strict";d();var KPe=require("path"),_9t=$Pe(),S9t=YPe();function JPe(e,t){let r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,s=i&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd)}catch{}let a;try{a=_9t.sync(e.command,{path:r[S9t({env:r})],pathExt:t?KPe.delimiter:void 0})}catch{}finally{s&&process.chdir(n)}return a&&(a=KPe.resolve(i?e.options.cwd:"",a)),a}o(JPe,"resolveCommandAttempt");function k9t(e){return JPe(e)||JPe(e,!0)}o(k9t,"resolveCommand");ZPe.exports=k9t});var eFe=H((_Xr,vae)=>{"use strict";d();var xae=/([()\][%!^"`<>&|;, *?])/g;function R9t(e){return e=e.replace(xae,"^$1"),e}o(R9t,"escapeCommand");function B9t(e,t){return e=`${e}`,e=e.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),e=e.replace(/(?=(\\+?)?)\1$/,"$1$1"),e=`"${e}"`,e=e.replace(xae,"^$1"),t&&(e=e.replace(xae,"^$1")),e}o(B9t,"escapeArgument");vae.exports.command=R9t;vae.exports.argument=B9t});var rFe=H((RXr,tFe)=>{"use strict";d();tFe.exports=/^#!(.*)/});var iFe=H((DXr,nFe)=>{"use strict";d();var D9t=rFe();nFe.exports=(e="")=>{let t=e.match(D9t);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var sFe=H((FXr,oFe)=>{"use strict";d();var bae=require("fs"),P9t=iFe();function F9t(e){let r=Buffer.alloc(150),n;try{n=bae.openSync(e,"r"),bae.readSync(n,r,0,150,0),bae.closeSync(n)}catch{}return P9t(r.toString())}o(F9t,"readShebang");oFe.exports=F9t});var uFe=H((QXr,cFe)=>{"use strict";d();var N9t=require("path"),aFe=XPe(),lFe=eFe(),L9t=sFe(),Q9t=process.platform==="win32",M9t=/\.(?:com|exe)$/i,O9t=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function U9t(e){e.file=aFe(e);let t=e.file&&L9t(e.file);return t?(e.args.unshift(e.file),e.command=t,aFe(e)):e.file}o(U9t,"detectShebang");function q9t(e){if(!Q9t)return e;let t=U9t(e),r=!M9t.test(t);if(e.options.forceShell||r){let n=O9t.test(t);e.command=N9t.normalize(e.command),e.command=lFe.command(e.command),e.args=e.args.map(s=>lFe.argument(s,n));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}o(q9t,"parseNonShell");function W9t(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:q9t(n)}o(W9t,"parse");cFe.exports=W9t});var mFe=H((UXr,dFe)=>{"use strict";d();var Eae=process.platform==="win32";function Iae(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}o(Iae,"notFoundError");function G9t(e,t){if(!Eae)return;let r=e.emit;e.emit=function(n,i){if(n==="exit"){let s=fFe(i,t);if(s)return r.call(e,"error",s)}return r.apply(e,arguments)}}o(G9t,"hookChildProcess");function fFe(e,t){return Eae&&e===1&&!t.file?Iae(t.original,"spawn"):null}o(fFe,"verifyENOENT");function H9t(e,t){return Eae&&e===1&&!t.file?Iae(t.original,"spawnSync"):null}o(H9t,"verifyENOENTSync");dFe.exports={hookChildProcess:G9t,verifyENOENT:fFe,verifyENOENTSync:H9t,notFoundError:Iae}});var gFe=H((GXr,j6)=>{"use strict";d();var hFe=require("child_process"),Tae=uFe(),wae=mFe();function pFe(e,t,r){let n=Tae(e,t,r),i=hFe.spawn(n.command,n.args,n.options);return wae.hookChildProcess(i,n),i}o(pFe,"spawn");function j9t(e,t,r){let n=Tae(e,t,r),i=hFe.spawnSync(n.command,n.args,n.options);return i.error=i.error||wae.verifyENOENTSync(i.status,n),i}o(j9t,"spawnSync");j6.exports=pFe;j6.exports.spawn=pFe;j6.exports.sync=j9t;j6.exports._parse=Tae;j6.exports._enoent=wae});var e9=H(Sg=>{"use strict";d();Object.defineProperty(Sg,"__esModule",{value:!0});Sg.BaseTokensPerName=Sg.BaseTokensPerMessage=Sg.BaseTokensPerCompletion=Sg.ChatRole=void 0;var WFe;(function(e){e.System="system",e.User="user",e.Assistant="assistant",e.Function="function",e.Tool="tool"})(WFe||(Sg.ChatRole=WFe={}));Sg.BaseTokensPerCompletion=3;Sg.BaseTokensPerMessage=3;Sg.BaseTokensPerName=1});var GFe=H(Vae=>{"use strict";d();Object.defineProperty(Vae,"__esModule",{value:!0});Vae.once=C7t;function C7t(e){let t,r=!1,n=o((...i)=>(r||(t=e(...i),r=!0),t),"wrappedFunction");return n.clear=()=>{r=!1},n}o(C7t,"once")});var Kae=H(kg=>{"use strict";d();Object.defineProperty(kg,"__esModule",{value:!0});kg.MaterializedChatMessageImage=kg.MaterializedChatMessage=kg.MaterializedChatMessageTextChunk=kg.MaterializedContainer=void 0;var t9=GFe(),fv=e9(),yC=class e{static{o(this,"MaterializedContainer")}parent;id;name;priority;metadata;flags;children;keepWithId;constructor(t,r,n,i,s,a,l){if(this.parent=t,this.id=r,this.name=n,this.priority=i,this.metadata=a,this.flags=l,this.children=s(this),l&8){if(this.children.length!==2)throw new Error("Invalid number of children for EmptyAlternate flag");let[c,u]=this.children;u.isEmpty?this.children=[c]:this.children=[u]}}has(t){return!!(this.flags&t)}async tokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{let i=mv(n)?await n.tokenCount(t):await n.upperBoundTokenCount(t);r+=i})),r}async upperBoundTokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{let i=await n.upperBoundTokenCount(t);r+=i})),r}replaceNode(t,r){return YFe(t,this.children,r)}allMetadata(){return zFe(this)}findById(t){return Yae(t,this)}get isEmpty(){return!this.children.some(t=>!t.isEmpty)}onChunksChange(){this.parent?.onChunksChange()}*toChatMessages(){for(let t of this.children)x7t(t),t instanceof e?yield*t.toChatMessages():!t.isEmpty&&t instanceof r9&&(yield t.toChatMessage())}removeLowestPriorityChild(){let t=[];return zae(this,t),t}};kg.MaterializedContainer=yC;var dv=class{static{o(this,"MaterializedChatMessageTextChunk")}parent;text;priority;metadata;lineBreakBefore;constructor(t,r,n,i=[],s){this.parent=t,this.text=r,this.priority=n,this.metadata=i,this.lineBreakBefore=s}upperBoundTokenCount(t){return this._upperBound(t)}_upperBound=(0,t9.once)(async t=>await t.tokenLength(this.text)+(this.lineBreakBefore!==0?1:0));get isEmpty(){return!/\S/.test(this.text)}};kg.MaterializedChatMessageTextChunk=dv;var r9=class{static{o(this,"MaterializedChatMessage")}parent;id;role;name;toolCalls;toolCallId;priority;metadata;children;constructor(t,r,n,i,s,a,l,c,u){this.parent=t,this.id=r,this.role=n,this.name=i,this.toolCalls=s,this.toolCallId=a,this.priority=l,this.metadata=c,this.children=u(this)}async tokenCount(t){return this._tokenCount(t)}async upperBoundTokenCount(t){return this._upperBound(t)}get text(){return this._text()}get isEmpty(){return!this.toolCalls?.length&&!this.children.some(t=>!t.isEmpty)}replaceNode(t,r){let n=YFe(t,this.children,r);return n&&this.onChunksChange(),n}removeLowestPriorityChild(){let t=[];return zae(this,t),t}onChunksChange(){this._tokenCount.clear(),this._upperBound.clear(),this._text.clear(),this.parent?.onChunksChange()}findById(t){return Yae(t,this)}_tokenCount=(0,t9.once)(async t=>t.countMessageTokens(this.toChatMessage()));_upperBound=(0,t9.once)(async t=>{let r=await this._baseMessageTokenCount(t);return await Promise.all(this.children.map(async n=>{let i=await n.upperBoundTokenCount(t);r+=i})),r});_baseMessageTokenCount=(0,t9.once)(t=>t.countMessageTokens({...this.toChatMessage(),content:""}));_text=(0,t9.once)(()=>{let t=[];for(let{text:r,isTextSibling:n}of $Fe(this)){if(r instanceof Sh){t.push(r);continue}if(r.lineBreakBefore===1||r.lineBreakBefore===2&&!n){let i=t[t.length-1];typeof i=="string"&&!i.endsWith(`
`)&&(t[t.length-1]=i+`
`)}typeof t[t.length-1]=="string"?t[t.length-1]+=r.text:t.push(r.text)}return t});toChatMessage(){let t=this.text.filter(r=>typeof r=="string").join("").trim();if(this.text.some(r=>r instanceof Sh)){if(this.role!==fv.ChatRole.User)throw new Error("Only User messages can have images");let r=this.text.map(n=>{if(typeof n=="string")return{type:"text",text:n};if(n instanceof Sh)return{type:"image_url",image_url:{url:KFe(n.src),detail:n.detail}};throw new Error("Unexpected element type")});return{role:fv.ChatRole.User,content:r}}if(this.role===fv.ChatRole.System)return{role:this.role,content:t,...this.name?{name:this.name}:{}};if(this.role===fv.ChatRole.Assistant){let r={role:this.role,content:t};return this.name&&(r.name=this.name),this.toolCalls?.length&&(r.tool_calls=this.toolCalls.map(n=>({function:n.function,id:n.id,type:n.type}))),r}else return this.role===fv.ChatRole.User?{role:this.role,content:t,...this.name?{name:this.name}:{}}:this.role===fv.ChatRole.Tool?{role:this.role,content:t,tool_call_id:this.toolCallId}:{role:this.role,content:t,name:this.name}}};kg.MaterializedChatMessage=r9;var Sh=class{static{o(this,"MaterializedChatMessageImage")}parent;id;src;priority;metadata;lineBreakBefore;detail;constructor(t,r,n,i,s=[],a,l){this.parent=t,this.id=r,this.src=n,this.priority=i,this.metadata=s,this.lineBreakBefore=a,this.detail=l}upperBoundTokenCount(t){return this._upperBound(t)}_upperBound=(0,t9.once)(async t=>await t.countMessageTokens({role:fv.ChatRole.User,content:[{type:"image_url",image_url:{url:KFe(this.src),detail:this.detail}}]}));isEmpty=!1};kg.MaterializedChatMessageImage=Sh;function mv(e){return!(e instanceof dv||e instanceof Sh)}o(mv,"isContainerType");function x7t(e){if(!(e instanceof yC)&&!(e instanceof r9)&&!(e instanceof Sh))throw new Error(`Cannot have a text node outside a ChatMessage. Text: "${e.text}"`)}o(x7t,"assertContainerOrChatMessage");function*$Fe(e,t=!1){for(let r of e.children)r instanceof dv?(yield{text:r,isTextSibling:t},t=!0):r instanceof Sh?yield{text:r,isTextSibling:!1}:(r&&(yield*$Fe(r,t)),t=!1)}o($Fe,"textChunks");function v7t(e,t){let r;function n(i,s){if(i instanceof dv||i instanceof Sh)(!r||i.priority<r.node.priority)&&(r={chain:s.slice(),node:i});else{s.push(i);for(let a of i.children)n(a,s);s.pop()}}if(o(n,"findLowestInTree"),n(e,[]),!r)throw new Error("No lowest priority node found");yk(r.node,t)}o(v7t,"removeLowestPriorityLegacy");function zae(e,t){let r;if(e instanceof yC&&e.has(1)){v7t(e,t);return}let n=e.children.map((i,s)=>({chain:[e],index:s}));for(let i=0;i<n.length;i++){let{chain:s,index:a}=n[i],l=s[s.length-1].children[a];if(l instanceof yC&&l.has(4)){let c=[...s,l];n.splice(i+1,0,...l.children.map((u,f)=>({chain:c,index:f})))}else if(!r||l.priority<r.value.priority)r={chain:s,index:a,value:l};else if(l.priority===r.value.priority){r.lowestNested??=HFe(r.value);let c=HFe(l);c<r.lowestNested&&(r={chain:s,index:a,value:l,lowestNested:c})}}if(!r)throw new Error("No lowest priority node found");r.value instanceof dv||r.value instanceof Sh||r.value instanceof yC&&r.value.has(2)||mv(r.value)&&!r.value.children.length?yk(r.value,t):zae(r.value,t)}o(zae,"removeLowestPriorityChild");function HFe(e){if(!mv(e))return-1;let t=Number.MAX_SAFE_INTEGER;for(let r of e.children)t=Math.min(t,r.priority);return t}o(HFe,"getLowestPriorityAmongChildren");function*zFe(e){yield*e.metadata;for(let t of e.children)mv(t)?yield*zFe(t):yield*t.metadata}o(zFe,"allMetadata");function YFe(e,t,r){for(let n=0;n<t.length;n++){let i=t[n];if(mv(i)){if(i.id===e){let a=t[n];return r.parent=i.parent,t[n]=r,a}let s=i.replaceNode(e,r);if(s)return s}}}o(YFe,"replaceNode");function*jFe(e){let t=[e];for(;t.length>0;){let r=t.pop();yield r,mv(r)&&t.push(...r.children)}}o(jFe,"forEachNode");function b7t(e){let t=e;for(;t.parent;)t=t.parent;return t}o(b7t,"getRoot");function VFe(e){return e instanceof yC&&e.keepWithId!==void 0}o(VFe,"isKeepWith");var $ae=new Set;function E7t(e,t){let r=new Set;for(let n of jFe(e))VFe(n)&&!$ae.has(n.keepWithId)&&r.add(n.keepWithId);if(r.size===0)return!1;for(let n of r)$ae.add(n);try{let n=b7t(e);for(let i of jFe(n))VFe(i)&&r.has(i.keepWithId)?yk(i,t):i instanceof r9&&i.toolCalls&&(i.toolCalls=I7t(i.toolCalls,s=>!(s.keepWith&&r.has(s.keepWith.id))),i.isEmpty&&yk(i,t))}finally{for(let n of r)$ae.delete(n)}}o(E7t,"removeOtherKeepWiths");function Yae(e,t){if(t.id===e)return t;for(let r of t.children)if(mv(r)){let n=Yae(e,r);if(n)return n}}o(Yae,"findNodeById");function yk(e,t){let r=e.parent;if(!r)return;let n=r.children.indexOf(e);n!==-1&&(r.children.splice(n,1),t.push(e),E7t(e,t),r.isEmpty?yk(r,t):r.onChunksChange())}o(yk,"removeNode");function KFe(e){let t={"/9j/":"image/jpeg",iVBOR:"image/png",R0lGOD:"image/gif",UklGR:"image/webp"};for(let r of Object.keys(t))if(e.startsWith(r))return`data:${t[r]};base64,${e}`;return e}o(KFe,"getEncodedBase64");function I7t(e,t){for(let r=0;r<e.length;r++){if(t(e[r]))continue;let n=e.slice(0,r);for(let i=r+1;i<e.length;i++)t(e[i])&&n.push(e[i]);return n}return e}o(I7t,"filterIfDifferent")});var ZFe=H(()=>{"use strict";d();function T7t(e,t,...r){return{ctor:e,props:t,children:r.flat()}}o(T7t,"_vscpp");function JFe(){throw new Error("This should not be invoked!")}o(JFe,"_vscppf");JFe.isFragment=!0;globalThis.vscpp=T7t;globalThis.vscppf=JFe});var Zae=H(XW=>{"use strict";d();Object.defineProperty(XW,"__esModule",{value:!0});XW.PromptElement=void 0;ZFe();var Jae=class{static{o(this,"PromptElement")}props;get priority(){return this.props.priority??Number.MAX_SAFE_INTEGER}get insertLineBreakBefore(){return!0}constructor(t){this.props=t}};XW.PromptElement=Jae});var cle=H(Mi=>{"use strict";d();Object.defineProperty(Mi,"__esModule",{value:!0});Mi.IfEmpty=Mi.AbstractKeepWith=Mi.TokenLimit=Mi.Expandable=Mi.Chunk=Mi.LegacyPrioritization=Mi.ToolResult=Mi.PrioritizedList=Mi.BaseImageMessage=Mi.TextChunk=Mi.ToolMessage=Mi.FunctionMessage=Mi.AssistantMessage=Mi.UserMessage=Mi.SystemMessage=Mi.BaseChatMessage=void 0;Mi.isChatMessagePromptElement=w7t;Mi.useKeepWith=R7t;var Ck=e9(),Rg=Zae();function w7t(e){return e instanceof eG||e instanceof tG||e instanceof rG}o(w7t,"isChatMessagePromptElement");var MA=class extends Rg.PromptElement{static{o(this,"BaseChatMessage")}render(){return vscpp(vscppf,null,this.props.children)}};Mi.BaseChatMessage=MA;var eG=class extends MA{static{o(this,"SystemMessage")}constructor(t){t.role=Ck.ChatRole.System,super(t)}};Mi.SystemMessage=eG;var tG=class extends MA{static{o(this,"UserMessage")}constructor(t){t.role=Ck.ChatRole.User,super(t)}};Mi.UserMessage=tG;var rG=class extends MA{static{o(this,"AssistantMessage")}constructor(t){t.role=Ck.ChatRole.Assistant,super(t)}};Mi.AssistantMessage=rG;var _7t=/\s+/g,Xae=class extends MA{static{o(this,"FunctionMessage")}constructor(t){t.role=Ck.ChatRole.Function,super(t)}};Mi.FunctionMessage=Xae;var ele=class extends MA{static{o(this,"ToolMessage")}constructor(t){t.role=Ck.ChatRole.Tool,super(t)}};Mi.ToolMessage=ele;var nG=class extends Rg.PromptElement{static{o(this,"TextChunk")}async prepare(t,r,n){let i=this.props.breakOnWhitespace?_7t:this.props.breakOn;if(!i)return vscpp(vscppf,null,this.props.children);let s="",a=[];for(let c of this.props.children||[])if(c&&typeof c=="object"){if(typeof c.ctor!="string")throw new Error("TextChunk children must be text literals or intrinsic attributes.");c.ctor==="br"?s+=`
`:a.push(c)}else c!=null&&(s+=c);let l=await S7t(t,i,s,n);return vscpp(vscppf,null,a,l)}render(t){return t}};Mi.TextChunk=nG;async function S7t(e,t,r,n){if(t instanceof RegExp){if(!t.global)throw new Error(`\`breakOn\` expression must have the global flag set (got ${t})`);t.lastIndex=0}let i="",s=-1;for(;s<r.length;){let a;typeof t=="string"?a=r.indexOf(t,s===-1?0:s+t.length):a=t.exec(r)?.index??-1,a===-1&&(a=r.length);let l=i+r.slice(Math.max(0,s),a);if(await e.countTokens(l,n)>e.tokenBudget)return i;i=l,s=a}return i}o(S7t,"getTextContentBelowBudget");var tle=class extends MA{static{o(this,"BaseImageMessage")}constructor(t){super(t)}};Mi.BaseImageMessage=tle;var rle=class extends Rg.PromptElement{static{o(this,"PrioritizedList")}render(){let{children:t,priority:r=0,descending:n}=this.props;if(t)return vscpp(vscppf,null,t.map((i,s)=>{if(!i)return;let a=n?r-s:r-t.length+s;return typeof i!="object"?vscpp(nG,{priority:a},i):(i.props??={},i.props.priority=a,i)}))}};Mi.PrioritizedList=rle;var nle=class extends Rg.PromptElement{static{o(this,"ToolResult")}render(){return vscpp(vscppf,null,this.props.data.content.map(t=>{if(t&&typeof t.value=="string")return t.value;if(t&&t.value&&typeof t.value.node=="object")return vscpp("elementJSON",{data:t.value})}))}};Mi.ToolResult=nle;var ile=class extends Rg.PromptElement{static{o(this,"LegacyPrioritization")}render(){return vscpp(vscppf,null,this.props.children)}};Mi.LegacyPrioritization=ile;var ole=class extends Rg.PromptElement{static{o(this,"Chunk")}render(){return vscpp(vscppf,null,this.props.children)}};Mi.Chunk=ole;var sle=class extends Rg.PromptElement{static{o(this,"Expandable")}async render(t,r){return vscpp(vscppf,null,await this.props.value(r))}};Mi.Expandable=sle;var ale=class extends Rg.PromptElement{static{o(this,"TokenLimit")}render(){return vscpp(vscppf,null,this.props.children)}};Mi.TokenLimit=ale;var iG=class extends Rg.PromptElement{static{o(this,"AbstractKeepWith")}};Mi.AbstractKeepWith=iG;var k7t=0;function R7t(){let e=k7t++;return class extends iG{static{o(this,"KeepWith")}static id=e;id=e;render(){return vscpp(vscppf,null,this.props.children)}}}o(R7t,"useKeepWith");var lle=class extends Rg.PromptElement{static{o(this,"IfEmpty")}render(){return vscpp(vscppf,null,[this.props.alt,this.props.children])}};Mi.IfEmpty=lle});var eNe=H(xk=>{"use strict";d();Object.defineProperty(xk,"__esModule",{value:!0});xk.localize=B7t;xk.localize2=D7t;xk.getConfiguredDefaultLocale=P7t;function XFe(e,t){let r;return t.length===0?r=e:r=e.replace(/\{(\d+)\}/g,function(n,i){let s=i[0];return typeof t[s]<"u"?t[s]:n}),r}o(XFe,"_format");function B7t(e,t,...r){return XFe(t,r)}o(B7t,"localize");function D7t(e,t,...r){let n=XFe(t,r);return{original:n,value:n}}o(D7t,"localize2");function P7t(e){}o(P7t,"getConfiguredDefaultLocale")});var mle=H(er=>{"use strict";d();Object.defineProperty(er,"__esModule",{value:!0});er.isAndroid=er.isEdge=er.isSafari=er.isFirefox=er.isChrome=er.OS=er.setTimeout0=er.setTimeout0IsFaster=er.translationsConfigFile=er.platformLocale=er.locale=er.Language=er.language=er.userAgent=er.platform=er.isCI=er.isMobile=er.isIOS=er.webWorkerOrigin=er.isWebWorker=er.isWeb=er.isElectron=er.isNative=er.isLinuxSnap=er.isLinux=er.isMacintosh=er.isWindows=er.LANGUAGE_DEFAULT=void 0;er.PlatformToString=N7t;er.isLittleEndian=L7t;er.isBigSurOrNewer=Q7t;var tNe=eNe();er.LANGUAGE_DEFAULT="en";var Ek=!1,Ik=!1,bk=!1,oNe=!1,sNe=!1,fle=!1,aNe=!1,dle=!1,lNe=!1,cNe=!1,vk,oG=er.LANGUAGE_DEFAULT,ule=er.LANGUAGE_DEFAULT,uNe,OA,UA=globalThis,Sf;typeof UA.vscode<"u"&&typeof UA.vscode.process<"u"?Sf=UA.vscode.process:typeof process<"u"&&(Sf=process);var fNe=typeof Sf?.versions?.electron=="string",F7t=fNe&&Sf?.type==="renderer";if(typeof Sf=="object"){Ek=Sf.platform==="win32",Ik=Sf.platform==="darwin",bk=Sf.platform==="linux",oNe=bk&&!!Sf.env.SNAP&&!!Sf.env.SNAP_REVISION,aNe=fNe,lNe=!!Sf.env.CI||!!Sf.env.BUILD_ARTIFACTSTAGINGDIRECTORY,vk=er.LANGUAGE_DEFAULT,oG=er.LANGUAGE_DEFAULT;let e=Sf.env.VSCODE_NLS_CONFIG;if(e)try{let t=JSON.parse(e),r=t.availableLanguages["*"];vk=t.locale,ule=t.osLocale,oG=r||er.LANGUAGE_DEFAULT,uNe=t._translationsConfigFile}catch{}sNe=!0}else typeof navigator=="object"&&!F7t?(OA=navigator.userAgent,Ek=OA.indexOf("Windows")>=0,Ik=OA.indexOf("Macintosh")>=0,dle=(OA.indexOf("Macintosh")>=0||OA.indexOf("iPad")>=0||OA.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,bk=OA.indexOf("Linux")>=0,cNe=OA?.indexOf("Mobi")>=0,fle=!0,vk=tNe.getConfiguredDefaultLocale(tNe.localize({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||er.LANGUAGE_DEFAULT,oG=vk,ule=navigator.language):console.error("Unable to resolve platform.");function N7t(e){switch(e){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}o(N7t,"PlatformToString");var sG=0;Ik?sG=1:Ek?sG=3:bk&&(sG=2);er.isWindows=Ek;er.isMacintosh=Ik;er.isLinux=bk;er.isLinuxSnap=oNe;er.isNative=sNe;er.isElectron=aNe;er.isWeb=fle;er.isWebWorker=fle&&typeof UA.importScripts=="function";er.webWorkerOrigin=er.isWebWorker?UA.origin:void 0;er.isIOS=dle;er.isMobile=cNe;er.isCI=lNe;er.platform=sG;er.userAgent=OA;er.language=oG;var rNe;(function(e){function t(){return er.language}o(t,"value"),e.value=t;function r(){return er.language.length===2?er.language==="en":er.language.length>=3?er.language[0]==="e"&&er.language[1]==="n"&&er.language[2]==="-":!1}o(r,"isDefaultVariant"),e.isDefaultVariant=r;function n(){return er.language==="en"}o(n,"isDefault"),e.isDefault=n})(rNe||(er.Language=rNe={}));er.locale=vk;er.platformLocale=ule;er.translationsConfigFile=uNe;er.setTimeout0IsFaster=typeof UA.postMessage=="function"&&!UA.importScripts;er.setTimeout0=(()=>{if(er.setTimeout0IsFaster){let e=[];UA.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let s=e[n];if(s.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),s.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),UA.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();er.OS=Ik||dle?2:Ek?1:3;var nNe=!0,iNe=!1;function L7t(){if(!iNe){iNe=!0;let e=new Uint8Array(2);e[0]=1,e[1]=2,nNe=new Uint16Array(e.buffer)[0]===513}return nNe}o(L7t,"isLittleEndian");er.isChrome=!!(er.userAgent&&er.userAgent.indexOf("Chrome")>=0);er.isFirefox=!!(er.userAgent&&er.userAgent.indexOf("Firefox")>=0);er.isSafari=!!(!er.isChrome&&er.userAgent&&er.userAgent.indexOf("Safari")>=0);er.isEdge=!!(er.userAgent&&er.userAgent.indexOf("Edg/")>=0);er.isAndroid=!!(er.userAgent&&er.userAgent.indexOf("Android")>=0);function Q7t(e){return parseFloat(e)>=20}o(Q7t,"isBigSurOrNewer")});var mNe=H(Bg=>{"use strict";d();Object.defineProperty(Bg,"__esModule",{value:!0});Bg.arch=Bg.platform=Bg.env=Bg.cwd=void 0;var dNe=mle(),hv,hle=globalThis.vscode;if(typeof hle<"u"&&typeof hle.process<"u"){let e=hle.process;hv={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"?hv={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:hv={get platform(){return dNe.isWindows?"win32":dNe.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};Bg.cwd=hv.cwd;Bg.env=hv.env;Bg.platform=hv.platform;Bg.arch=hv.arch});var pNe=H(Tr=>{"use strict";d();Object.defineProperty(Tr,"__esModule",{value:!0});Tr.delimiter=Tr.sep=Tr.toNamespacedPath=Tr.parse=Tr.format=Tr.extname=Tr.basename=Tr.dirname=Tr.relative=Tr.resolve=Tr.join=Tr.isAbsolute=Tr.normalize=Tr.posix=Tr.win32=void 0;var n9=mNe(),M7t=65,O7t=97,U7t=90,q7t=122,vC=46,Ql=47,yu=92,CC=58,W7t=63,aG=class extends Error{static{o(this,"ErrorInvalidArgType")}code;constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let s=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${s} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function G7t(e,t){if(e===null||typeof e!="object")throw new aG(t,"Object",e)}o(G7t,"validateObject");function la(e,t){if(typeof e!="string")throw new aG(t,"string",e)}o(la,"validateString");var Cu=n9.platform==="win32";function oi(e){return e===Ql||e===yu}o(oi,"isPathSeparator");function ple(e){return e===Ql}o(ple,"isPosixPathSeparator");function xC(e){return e>=M7t&&e<=U7t||e>=O7t&&e<=q7t}o(xC,"isWindowsDeviceRoot");function lG(e,t,r,n){let i="",s=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=Ql}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==vC||i.charCodeAt(i.length-2)!==vC){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",s=0):(i=i.slice(0,f),s=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",s=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",s=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),s=u-a-1;a=u,l=0}else c===vC&&l!==-1?++l:l=-1}return i}o(lG,"normalizeString");function hNe(e,t){G7t(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${t.ext||""}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}o(hNe,"_format");Tr.win32={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let s;if(i>=0){if(s=e[i],la(s,"path"),s.length===0)continue}else t.length===0?s=n9.cwd():(s=n9.env[`=${t}`]||n9.cwd(),(s===void 0||s.slice(0,2).toLowerCase()!==t.toLowerCase()&&s.charCodeAt(2)===yu)&&(s=`${t}\\`));let a=s.length,l=0,c="",u=!1,f=s.charCodeAt(0);if(a===1)oi(f)&&(l=1,u=!0);else if(oi(f))if(u=!0,oi(s.charCodeAt(1))){let m=2,h=m;for(;m<a&&!oi(s.charCodeAt(m));)m++;if(m<a&&m!==h){let p=s.slice(h,m);for(h=m;m<a&&oi(s.charCodeAt(m));)m++;if(m<a&&m!==h){for(h=m;m<a&&!oi(s.charCodeAt(m));)m++;(m===a||m!==h)&&(c=`\\\\${p}\\${s.slice(h,m)}`,l=m)}}}else l=1;else xC(f)&&s.charCodeAt(1)===CC&&(c=s.slice(0,2),l=2,a>2&&oi(s.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${s.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=lG(r,!n,"\\",oi),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){la(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,s=e.charCodeAt(0);if(t===1)return ple(s)?"\\":e;if(oi(s))if(i=!0,oi(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!oi(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&oi(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!oi(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else xC(s)&&e.charCodeAt(1)===CC&&(n=e.slice(0,2),r=2,t>2&&oi(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?lG(e.slice(r),!i,"\\",oi):"";return a.length===0&&!i&&(a="."),a.length>0&&oi(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){la(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return oi(r)||t>2&&xC(r)&&e.charCodeAt(1)===CC&&oi(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let s=0;s<e.length;++s){let a=e[s];la(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&oi(r.charCodeAt(0))){++i;let s=r.length;s>1&&oi(r.charCodeAt(1))&&(++i,s>2&&(oi(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&oi(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return Tr.win32.normalize(t)},relative(e,t){if(la(e,"from"),la(t,"to"),e===t)return"";let r=Tr.win32.resolve(e),n=Tr.win32.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===yu;)i++;let s=e.length;for(;s-1>i&&e.charCodeAt(s-1)===yu;)s--;let a=s-i,l=0;for(;l<t.length&&t.charCodeAt(l)===yu;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===yu;)c--;let u=c-l,f=a<u?a:u,m=-1,h=0;for(;h<f;h++){let A=e.charCodeAt(i+h);if(A!==t.charCodeAt(l+h))break;A===yu&&(m=h)}if(h!==f){if(m===-1)return n}else{if(u>f){if(t.charCodeAt(l+h)===yu)return n.slice(l+h+1);if(h===2)return n.slice(l+h)}a>f&&(e.charCodeAt(i+h)===yu?m=h:h===2&&(m=3)),m===-1&&(m=0)}let p="";for(h=i+m+1;h<=s;++h)(h===s||e.charCodeAt(h)===yu)&&(p+=p.length===0?"..":"\\..");return l+=m,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===yu&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=Tr.win32.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===yu){if(t.charCodeAt(1)===yu){let r=t.charCodeAt(2);if(r!==W7t&&r!==vC)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(xC(t.charCodeAt(0))&&t.charCodeAt(1)===CC&&t.charCodeAt(2)===yu)return`\\\\?\\${t}`;return e},dirname(e){la(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return oi(i)?e:".";if(oi(i)){if(r=n=1,oi(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!oi(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&oi(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!oi(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else xC(i)&&e.charCodeAt(1)===CC&&(r=t>2&&oi(e.charCodeAt(2))?3:2,n=r);let s=-1,a=!0;for(let l=t-1;l>=n;--l)if(oi(e.charCodeAt(l))){if(!a){s=l;break}}else a=!1;if(s===-1){if(r===-1)return".";s=r}return e.slice(0,s)},basename(e,t){t!==void 0&&la(t,"ext"),la(e,"path");let r=0,n=-1,i=!0,s;if(e.length>=2&&xC(e.charCodeAt(0))&&e.charCodeAt(1)===CC&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=r;--s){let c=e.charCodeAt(s);if(oi(c)){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=r;--s)if(oi(e.charCodeAt(s))){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){la(e,"path");let t=0,r=-1,n=0,i=-1,s=!0,a=0;e.length>=2&&e.charCodeAt(1)===CC&&xC(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if(oi(c)){if(!s){n=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===vC?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:hNe.bind(null,"\\"),parse(e){la(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return oi(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(oi(i)){if(n=1,oi(e.charCodeAt(1))){let m=2,h=m;for(;m<r&&!oi(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&oi(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&!oi(e.charCodeAt(m));)m++;m===r?n=m:m!==h&&(n=m+1)}}}}else if(xC(i)&&e.charCodeAt(1)===CC){if(r<=2)return t.root=t.dir=e,t;if(n=2,oi(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),oi(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===vC?s===-1?s=u:f!==1&&(f=1):s!==-1&&(f=-1)}return l!==-1&&(s===-1||f===0||f===1&&s===l-1&&s===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,s),t.base=e.slice(a,l),t.ext=e.slice(s,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null};var H7t=(()=>{if(Cu){let e=/\\/g;return()=>{let t=n9.cwd().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>n9.cwd()})();Tr.posix={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:H7t();la(i,"path"),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===Ql)}return t=lG(t,!r,"/",ple),r?`/${t}`:t.length>0?t:"."},normalize(e){if(la(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Ql,r=e.charCodeAt(e.length-1)===Ql;return e=lG(e,!t,"/",ple),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return la(e,"path"),e.length>0&&e.charCodeAt(0)===Ql},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];la(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":Tr.posix.normalize(t)},relative(e,t){if(la(e,"from"),la(t,"to"),e===t||(e=Tr.posix.resolve(e),t=Tr.posix.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,s=1,a=t.length-s,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let m=e.charCodeAt(r+u);if(m!==t.charCodeAt(s+u))break;m===Ql&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(s+u)===Ql)return t.slice(s+u+1);if(u===0)return t.slice(s+u)}else i>l&&(e.charCodeAt(r+u)===Ql?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===Ql)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(s+c)}`},toNamespacedPath(e){return e},dirname(e){if(la(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Ql,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===Ql){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&la(t,"ext"),la(e,"path");let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=0;--s){let c=e.charCodeAt(s);if(c===Ql){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===Ql){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){la(e,"path");let t=-1,r=0,n=-1,i=!0,s=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===Ql){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===vC?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:hNe.bind(null,"/"),parse(e){la(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===Ql,n;r?(t.root="/",n=1):n=0;let i=-1,s=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===Ql){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===vC?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=s===0&&r?1:s;i===-1||u===0||u===1&&i===a-1&&i===s+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return s>0?t.dir=e.slice(0,s-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};Tr.posix.win32=Tr.win32.win32=Tr.win32;Tr.posix.posix=Tr.win32.posix=Tr.posix;Tr.normalize=Cu?Tr.win32.normalize:Tr.posix.normalize;Tr.isAbsolute=Cu?Tr.win32.isAbsolute:Tr.posix.isAbsolute;Tr.join=Cu?Tr.win32.join:Tr.posix.join;Tr.resolve=Cu?Tr.win32.resolve:Tr.posix.resolve;Tr.relative=Cu?Tr.win32.relative:Tr.posix.relative;Tr.dirname=Cu?Tr.win32.dirname:Tr.posix.dirname;Tr.basename=Cu?Tr.win32.basename:Tr.posix.basename;Tr.extname=Cu?Tr.win32.extname:Tr.posix.extname;Tr.format=Cu?Tr.win32.format:Tr.posix.format;Tr.parse=Cu?Tr.win32.parse:Tr.posix.parse;Tr.toNamespacedPath=Cu?Tr.win32.toNamespacedPath:Tr.posix.toNamespacedPath;Tr.sep=Cu?Tr.win32.sep:Tr.posix.sep;Tr.delimiter=Cu?Tr.win32.delimiter:Tr.posix.delimiter});var bNe=H(i9=>{"use strict";d();Object.defineProperty(i9,"__esModule",{value:!0});i9.URI=void 0;i9.isUriComponents=Z7t;i9.uriToFsPath=dG;var gNe=pNe(),uG=mle(),j7t=/^\w[\w\d+.-]*$/,V7t=/^\//,$7t=/^\/\//;function z7t(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!j7t.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!V7t.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if($7t.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(z7t,"_validateUri");function Y7t(e,t){return!e&&!t?"file":e}o(Y7t,"_schemeFix");function K7t(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==kh&&(t=kh+t):t=kh;break}return t}o(K7t,"_referenceResolution");var $o="",kh="/",J7t=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,fG=class e{static{o(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}scheme;authority;path;query;fragment;constructor(t,r,n,i,s,a=!1){typeof t=="object"?(this.scheme=t.scheme||$o,this.authority=t.authority||$o,this.path=t.path||$o,this.query=t.query||$o,this.fragment=t.fragment||$o):(this.scheme=Y7t(t,a),this.authority=r||$o,this.path=K7t(this.scheme,n||$o),this.query=i||$o,this.fragment=s||$o,z7t(this,a))}get fsPath(){return dG(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:s,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=$o),n===void 0?n=this.authority:n===null&&(n=$o),i===void 0?i=this.path:i===null&&(i=$o),s===void 0?s=this.query:s===null&&(s=$o),a===void 0?a=this.fragment:a===null&&(a=$o),r===this.scheme&&n===this.authority&&i===this.path&&s===this.query&&a===this.fragment?this:new bC(r,n,i,s,a)}static parse(t,r=!1){let n=J7t.exec(t);return n?new bC(n[2]||$o,cG(n[4]||$o),cG(n[5]||$o),cG(n[7]||$o),cG(n[9]||$o),r):new bC($o,$o,$o,$o,$o)}static file(t){let r=$o;if(uG.isWindows&&(t=t.replace(/\\/g,kh)),t[0]===kh&&t[1]===kh){let n=t.indexOf(kh,2);n===-1?(r=t.substring(2),t=kh):(r=t.substring(2,n),t=t.substring(n)||kh)}return new bC("file",r,t,$o,$o)}static from(t,r){return new bC(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return uG.isWindows&&t.scheme==="file"?n=e.file(gNe.win32.join(dG(t,!0),...r)).path:n=gNe.posix.join(t.path,...r),t.with({path:n})}toString(t=!1){return gle(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new bC(t);return r._formatted=t.external??null,r._fsPath=t._sep===CNe?t.fsPath??null:null,r}}else return t}};i9.URI=fG;function Z7t(e){return!e||typeof e!="object"?!1:typeof e.scheme=="string"&&(typeof e.authority=="string"||typeof e.authority>"u")&&(typeof e.path=="string"||typeof e.path>"u")&&(typeof e.query=="string"||typeof e.query>"u")&&(typeof e.fragment=="string"||typeof e.fragment>"u")}o(Z7t,"isUriComponents");var CNe=uG.isWindows?1:void 0,bC=class extends fG{static{o(this,"Uri")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=dG(this,!1)),this._fsPath}toString(t=!1){return t?gle(this,!0):(this._formatted||(this._formatted=gle(this,!1)),this._formatted)}toJSON(){let t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=CNe),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t}},xNe={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function ANe(e,t,r){let n,i=-1;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n!==void 0&&(n+=e.charAt(s));else{n===void 0&&(n=e.substr(0,s));let l=xNe[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n+=l):i===-1&&(i=s)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}o(ANe,"encodeURIComponentFast");function X7t(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=xNe[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}o(X7t,"encodeURIComponentMinimal");function dG(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,uG.isWindows&&(r=r.replace(/\//g,"\\")),r}o(dG,"uriToFsPath");function gle(e,t){let r=t?X7t:ANe,n="",{scheme:i,authority:s,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(s||i==="file")&&(n+=kh,n+=kh),s){let u=s.indexOf("@");if(u!==-1){let f=s.substr(0,u);s=s.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}s=s.toLowerCase(),u=s.lastIndexOf(":"),u===-1?n+=r(s,!1,!0):(n+=r(s.substr(0,u),!1,!0),n+=s.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:ANe(c,!1,!1)),n}o(gle,"_asFormatted");function vNe(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+vNe(e.substr(3)):e}}o(vNe,"decodeURIComponentGraceful");var yNe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function cG(e){return e.match(yNe)?e.replace(yNe,t=>vNe(t)):e}o(cG,"percentDecode")});var Cle=H(EC=>{"use strict";d();Object.defineProperty(EC,"__esModule",{value:!0});EC.PromptReference=EC.ChatResponseReferencePartStatusKind=EC.PromptMetadata=void 0;var Tk=bNe(),Ale=class{static{o(this,"PromptMetadata")}_marker;toString(){return Object.getPrototypeOf(this).constructor.name}};EC.PromptMetadata=Ale;var ENe;(function(e){e[e.Complete=1]="Complete",e[e.Partial=2]="Partial",e[e.Omitted=3]="Omitted"})(ENe||(EC.ChatResponseReferencePartStatusKind=ENe={}));var yle=class e{static{o(this,"PromptReference")}anchor;iconPath;options;static fromJSON(t){let r=o(n=>"scheme"in n?Tk.URI.from(n):{uri:Tk.URI.from(n.uri),range:n.range},"uriOrLocation");return new e("variableName"in t.anchor?{variableName:t.anchor.variableName,value:t.anchor.value&&r(t.anchor.value)}:r(t.anchor),t.iconPath&&("scheme"in t.iconPath?Tk.URI.from(t.iconPath):"light"in t.iconPath?{light:Tk.URI.from(t.iconPath.light),dark:Tk.URI.from(t.iconPath.dark)}:t.iconPath),t.options)}constructor(t,r,n){this.anchor=t,this.iconPath=r,this.options=n}toJSON(){return{anchor:this.anchor,iconPath:this.iconPath,options:this.options}}};EC.PromptReference=yle});var _le=H(o9=>{"use strict";d();Object.defineProperty(o9,"__esModule",{value:!0});o9.PromptRenderer=o9.MetadataMap=void 0;var mG=Kae(),uc=cle(),wle=Cle(),INe;(function(e){e.empty={get:o(()=>{},"get"),getAll:o(()=>[],"getAll")}})(INe||(o9.MetadataMap=INe={}));var xle=class{static{o(this,"PromptRenderer")}_endpoint;_ctor;_props;_tokenizer;_usedContext=[];_ignoredFiles=[];_growables=[];_root=new pG(null,0);_tokenLimits=[];tracer=void 0;constructor(t,r,n,i){this._endpoint=t,this._ctor=r,this._props=n,this._tokenizer=i}getIgnoredFiles(){return Array.from(new Set(this._ignoredFiles))}getUsedContext(){return this._usedContext}createElement(t){return new t.ctor(t.props)}async _processPromptPieces(t,r,n,i){let s=new Map;for(let[c,u]of r.entries()){if(Array.isArray(u.children)&&(u.props=u.props??{},u.props.children=u.children),!u.ctor)throw new Error("Invalid ChatMessage child! Child must be a TSX component that extends PromptElement.");let f=this.createElement(u),m;f instanceof uc.TokenLimit&&(m=u.props.max,this._tokenLimits.push({limit:m,id:u.node.id})),u.node.setObj(f);let h=u.props.flexGrow??1/0,p=s.get(h);p||(p=[],s.set(h,p)),p.push({element:u,promptElementInstance:f,tokenLimit:m})}if(s.size===0)return;let a=[...s.entries()].sort(([c],[u])=>u-c).map(([c,u])=>u),l=o(c=>{let u=0;for(let f=c+1;f<a.length;f++)for(let{element:m}of a[f]){if(!m.props.flexReserve)continue;let h=typeof m.props.flexReserve=="string"?Math.floor(t.remainingTokenBudget/Number(m.props.flexReserve.slice(1))):m.props.flexReserve;u+=h}return t.consume(u),u},"setReserved");for(let[c,u]of a.entries()){let f=l(c),m=0;for(let{element:v}of u)m+=v.props.flexBasis??1;let h=0,p=u.map(v=>{if(v.tokenLimit===void 0)return!1;let E=v.element.props.flexBasis??1,b=E/m;return Math.floor(t.remainingTokenBudget*b)<v.tokenLimit?!1:(m-=E,h+=v.tokenLimit,!0)}),A=u.map((v,E)=>{let b=(v.element.props.flexBasis??1)/m;return{tokenBudget:p[E]?v.tokenLimit:Math.floor((t.remainingTokenBudget-h)*b),endpoint:t.endpoint,countTokens:o((_,R)=>this._tokenizer.tokenLength(_,R),"countTokens")}});t.consume(-f),this.tracer?.addRenderEpoch?.({inNode:u[0].element.node.parent?.id,flexValue:u[0].element.props.flexGrow??0,tokenBudget:t.remainingTokenBudget,reservedTokens:f,elements:u.map((v,E)=>({id:v.element.node.id,tokenBudget:A[E].tokenBudget}))}),await Promise.all(u.map(async({element:v,promptElementInstance:E},b)=>{let _=await E.prepare?.(A[b],n,i);v.node.setState(_)}));let x=await Promise.all(u.map(async({element:v,promptElementInstance:E},b)=>{let _=A[b];return await E.render(v.node.getState(),_,n,i)}));for(let[v,{element:E,promptElementInstance:b}]of u.entries()){let _=A[v],R=x[v];if(!R)continue;let P=await this._processPromptRenderPiece(new pv(_.tokenBudget,this._endpoint),E,b,R,n,i);b instanceof uc.Expandable&&this._growables.push({initialConsume:P,elem:E.node}),t.consume(P)}}}async _processPromptRenderPiece(t,r,n,i,s,a){let l=TNe(i),c=new pv(t.tokenBudget,this._endpoint),{tokensConsumed:u}=await eTt(this._tokenizer,r,n,l);return c.consume(u),await this._handlePromptChildren(r,l,c,s,a),c.consumed}async renderElementJSON(t){return await this._processPromptPieces(new pv(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],void 0,t),{node:this._root.toJSON()}}async render(t,r){await this._processPromptPieces(new pv(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],t,r);let{container:n,allMetadata:i,removed:s}=await this._getFinalElementTree(this._endpoint.modelMaxPromptTokens,r);this.tracer?.didMaterializeTree?.({budget:this._endpoint.modelMaxPromptTokens,renderedTree:{container:n,removed:s,budget:this._endpoint.modelMaxPromptTokens},tokenizer:this._tokenizer,renderTree:o(h=>this._getFinalElementTree(h,void 0).then(p=>({...p,budget:h})),"renderTree")});let a=[...n.toChatMessages()],l=await n.tokenCount(this._tokenizer),c=[...n.allMetadata()],u=new Set,f=c.map(h=>{if(!(h instanceof Dg))return;let p=h.reference,A="variableName"in p.anchor;if(A&&!u.has(p.anchor.variableName))return u.add(p.anchor.variableName),p;if(!A)return p}).filter(Ile),m=i.map(h=>{if(!(h instanceof Dg)||c.includes(h))return;let p=h.reference,A="variableName"in p.anchor;if(A&&!u.has(p.anchor.variableName))return u.add(p.anchor.variableName),p;if(!A)return p}).filter(Ile);return{metadata:{get:o(h=>c.find(p=>p instanceof h),"get"),getAll:o(h=>c.filter(p=>p instanceof h),"getAll")},messages:a,hasIgnoredFiles:this._ignoredFiles.length>0,tokenCount:l,references:f,omittedReferences:m}}async _getFinalElementTree(t,r){let n=this._root.materialize(),i=[...n.allMetadata()],s=[{limit:t,id:this._root.id},...this._tokenLimits],a=0;for(let l=s.length-1;l>=0;l--){let c=s[l];if(c.limit>t)continue;let u=n.findById(c.id);if(!u)continue;let f=await u.tokenCount(this._tokenizer);if(f<c.limit&&!await this._grow(u,f,c.limit,r))continue;let m=await u.tokenCount(this._tokenizer);for(;m>c.limit;){for(;m>c.limit;)for(let h of u.removeLowestPriorityChild()){a++;let p=h.upperBoundTokenCount(this._tokenizer);m-=typeof p=="number"?p:await p}m=await u.tokenCount(this._tokenizer)}}return{container:n,allMetadata:i,removed:a}}async _grow(t,r,n,i){if(!this._growables.length)return!1;for(let s of this._growables){if(!t.findById(s.elem.id))continue;let a=s.elem.getObj();if(!(a instanceof uc.Expandable))throw new Error("unreachable: expected growable");let l=new pG(null,0,s.elem.id),c=new pv(n-r+s.initialConsume,this._endpoint),u=await this._processPromptRenderPiece(c,{node:l,ctor:this._ctor,props:{},children:[]},a,await a.render(void 0,{tokenBudget:c.tokenBudget,endpoint:this._endpoint,countTokens:o((h,p)=>this._tokenizer.tokenLength(h,p),"countTokens")}),void 0,i),f=l.materialize();if(!t.replaceNode(s.elem.id,f))throw new Error("unreachable: could not find old element to replace");if(r-=s.initialConsume,r+=u,r>=n)break}return!0}_handlePromptChildren(t,r,n,i,s){if(t.ctor===uc.TextChunk){this._handleExtrinsicTextChunkChildren(t.node,t.node,t.props,r);return}let a=[];for(let l of r){if(l.kind==="literal"){t.node.appendStringChild(l.value,t.props.priority??Number.MAX_SAFE_INTEGER);continue}if(l.kind==="intrinsic"){this._handleIntrinsic(t.node,l.name,{priority:t.props.priority??Number.MAX_SAFE_INTEGER,...l.props},hG(l.children));continue}let c=t.node.createChild();a.push({node:c,ctor:l.ctor,props:l.props,children:l.children})}return this._processPromptPieces(n,a,i,s)}_handleIntrinsic(t,r,n,i,s){switch(r){case"meta":return this._handleIntrinsicMeta(t,n,i);case"br":return this._handleIntrinsicLineBreak(t,n,i,n.priority,s);case"usedContext":return this._handleIntrinsicUsedContext(t,n,i);case"references":return this._handleIntrinsicReferences(t,n,i);case"ignoredFiles":return this._handleIntrinsicIgnoredFiles(t,n,i);case"elementJSON":return this._handleIntrinsicElementJSON(t,n.data)}throw new Error(`Unknown intrinsic element ${r}!`)}_handleIntrinsicMeta(t,r,n){if(n.length>0)throw new Error("<meta /> must not have children!");r.local?t.addMetadata(r.value):this._root.addMetadata(r.value)}_handleIntrinsicLineBreak(t,r,n,i,s){if(n.length>0)throw new Error("<br /> must not have children!");t.appendLineBreak(i??Number.MAX_SAFE_INTEGER,s)}_handleIntrinsicElementJSON(t,r){let n=t.appendPieceJSON(r.node);if(this.tracer?.includeInEpoch)for(let i of n.elements())this.tracer.includeInEpoch({id:i.id,tokenBudget:0})}_handleIntrinsicUsedContext(t,r,n){if(n.length>0)throw new Error("<usedContext /> must not have children!");this._usedContext.push(...r.value)}_handleIntrinsicReferences(t,r,n){if(n.length>0)throw new Error("<reference /> must not have children!");for(let i of r.value)t.addMetadata(new Dg(i))}_handleIntrinsicIgnoredFiles(t,r,n){if(n.length>0)throw new Error("<ignoredFiles /> must not have children!");this._ignoredFiles.push(...r.value)}_handleExtrinsicTextChunkChildren(t,r,n,i){let s=[],a=[];for(let l of i){if(l.kind==="extrinsic")throw new Error("TextChunk cannot have extrinsic children!");if(l.kind==="literal"&&s.push(l.value),l.kind==="intrinsic")if(l.name==="br")s.push(`
`);else if(l.name==="references")for(let c of l.props.value)a.push(new Dg(c));else this._handleIntrinsic(t,l.name,l.props,hG(l.children),r.childIndex)}t.appendStringChild(s.join(""),n?.priority??Number.MAX_SAFE_INTEGER,a,r.childIndex,!0)}};o9.PromptRenderer=xle;async function eTt(e,t,r,n){let i=0;(0,uc.isChatMessagePromptElement)(r)&&(i+=await e.countMessageTokens({role:t.props.role,content:"",...t.props.name?{name:t.props.name}:void 0,...t.props.toolCalls?{tool_calls:t.props.toolCalls}:void 0,...t.props.toolCallId?{tool_call_id:t.props.toolCallId}:void 0}));for(let s of n)s.kind==="literal"&&(i+=await e.tokenLength(s.value));return{tokensConsumed:i}}o(eTt,"computeTokensConsumedByLiterals");function TNe(e,t=[]){return typeof e>"u"||typeof e=="boolean"?[]:(typeof e=="string"||typeof e=="number"?t.push(new Ele(String(e))):tTt(e)?hG(e.children,t):rTt(e)?hG(e,t):typeof e.ctor=="string"?t.push(new vle(e.ctor,e.props,e.children)):t.push(new ble(e.ctor,e.props,e.children)),t)}o(TNe,"flattenAndReduce");function hG(e,t=[]){for(let r of e)TNe(r,t);return t}o(hG,"flattenAndReduceArr");var vle=class{static{o(this,"IntrinsicPromptPiece")}name;props;children;kind="intrinsic";constructor(t,r,n){this.name=t,this.props=r,this.children=n}},ble=class{static{o(this,"ExtrinsicPromptPiece")}ctor;props;children;kind="extrinsic";constructor(t,r,n){this.ctor=t,this.props=r,this.children=n}},Ele=class{static{o(this,"LiteralPromptPiece")}value;priority;kind="literal";constructor(t,r){this.value=t,this.priority=r}},pv=class{static{o(this,"PromptSizingContext")}tokenBudget;endpoint;_consumed=0;constructor(t,r){this.tokenBudget=t,this.endpoint=r}get consumed(){return this._consumed>this.tokenBudget?this.tokenBudget:this._consumed}get remainingTokenBudget(){return Math.max(0,this.tokenBudget-this._consumed)}consume(t){this._consumed+=t}},pG=class e{static{o(this,"PromptTreeElement")}parent;childIndex;id;static _nextId=0;static fromJSON(t,r){let n=new e(null,t);switch(n._metadata=r.references?.map(i=>new Dg(wle.PromptReference.fromJSON(i)))??[],n._children=r.children.map((i,s)=>{switch(i.type){case 1:return e.fromJSON(s,i);case 2:return wk.fromJSON(n,s,i);default:}}).filter(Ile),r.ctor){case 1:n._obj=new uc.BaseChatMessage(r.props);break;case 2:break;case 3:n._obj=new uc.BaseImageMessage(r.props);break;default:}return n}kind=1;_obj=null;_state=void 0;_children=[];_metadata=[];constructor(t=null,r,n=e._nextId++){this.parent=t,this.childIndex=r,this.id=n}setObj(t){this._obj=t}getObj(){return this._obj}setState(t){this._state=t}getState(){return this._state}createChild(){let t=new e(this,this._children.length);return this._children.push(t),t}appendPieceJSON(t){let r=e.fromJSON(this._children.length,t);return this._children.push(r),r}appendStringChild(t,r,n,i=this._children.length,s=!1){this._children.push(new wk(this,i,t,r,n,s))}appendLineBreak(t,r=this._children.length){this._children.push(new wk(this,r,`
`,t))}toJSON(){let t={type:1,ctor:2,children:this._children.slice().sort((r,n)=>r.childIndex-n.childIndex).map(r=>r.toJSON()),priority:this._obj?.props.priority,references:this._metadata.filter(r=>r instanceof Dg).map(r=>r.reference.toJSON())};if(this._obj instanceof uc.BaseChatMessage)t.ctor=1,t.props={role:this._obj.props.role,name:this._obj.props.name,priority:this._obj.props.priority,toolCalls:this._obj.props.toolCalls,toolCallId:this._obj.props.toolCallId};else if(this._obj instanceof uc.BaseImageMessage)return{...t,ctor:3,props:{src:this._obj.props.src,detail:this._obj.props.detail}};return t}materialize(t){if(this._children.sort((r,n)=>r.childIndex-n.childIndex),this._obj instanceof uc.BaseImageMessage)return new mG.MaterializedChatMessageImage(t,1,this._obj.props.src,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,0,this._obj.props.detail??void 0);if(this._obj instanceof uc.BaseChatMessage){if(!this._obj.props.role)throw new Error("Invalid ChatMessage!");return new mG.MaterializedChatMessage(t,this.id,this._obj.props.role,this._obj.props.name,this._obj instanceof uc.AssistantMessage?this._obj.props.toolCalls:void 0,this._obj instanceof uc.ToolMessage?this._obj.props.toolCallId:void 0,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,r=>this._children.map(n=>n.materialize(r)))}else{let r=0;this._obj instanceof uc.LegacyPrioritization&&(r|=1),this._obj instanceof uc.Chunk&&(r|=2),this._obj instanceof uc.IfEmpty&&(r|=8),this._obj?.props.passPriority&&(r|=4);let n=new mG.MaterializedContainer(t,this.id,this._obj?.constructor.name,this._obj?.props.priority??(this._obj?.props.passPriority?0:Number.MAX_SAFE_INTEGER),i=>this._children.map(s=>s.materialize(i)),this._metadata,r);return this._obj instanceof uc.AbstractKeepWith&&(n.keepWithId=this._obj.id),n}}addMetadata(t){this._metadata.push(t)}*elements(){yield this;for(let t of this._children)t instanceof e&&(yield*t.elements())}},wk=class e{static{o(this,"PromptText")}parent;childIndex;text;priority;metadata;lineBreakBefore;static fromJSON(t,r,n){return new e(t,r,n.text,n.priority,n.references?.map(i=>new Dg(wle.PromptReference.fromJSON(i))),n.lineBreakBefore)}kind=2;constructor(t,r,n,i,s,a=!1){this.parent=t,this.childIndex=r,this.text=n,this.priority=i,this.metadata=s,this.lineBreakBefore=a}collectLeafs(t){t.push(this)}materialize(t){let r=this.lineBreakBefore?1:this.childIndex===0?2:0;return new mG.MaterializedChatMessageTextChunk(t,this.text,this.priority??Number.MAX_SAFE_INTEGER,this.metadata||[],r)}toJSON(){return{type:2,priority:this.priority,text:this.text,references:this.metadata?.filter(t=>t instanceof Dg).map(t=>t.reference.toJSON()),lineBreakBefore:this.lineBreakBefore}}};function tTt(e){return(typeof e.ctor=="function"&&e.ctor.isFragment)??!1}o(tTt,"isFragmentCtor");function Ile(e){return e!==void 0}o(Ile,"isDefined");var Tle=class extends wle.PromptMetadata{static{o(this,"InternalMetadata")}},Dg=class extends Tle{static{o(this,"ReferenceMetadata")}reference;constructor(t){super(),this.reference=t}};function rTt(e){return!!e&&typeof e[Symbol.iterator]=="function"}o(rTt,"isIterable")});var wNe=H(gG=>{"use strict";d();Object.defineProperty(gG,"__esModule",{value:!0});gG.AnyTokenizer=void 0;var _k=e9(),Sle=class{static{o(this,"AnyTokenizer")}countTokens;constructor(t,r){if(this.countTokens=t,r!=="vscode")throw new Error("`mode` must be set to vscode when using vscode.LanguageModelChat as the tokenizer")}async tokenLength(t,r){return this.countTokens(t,r)}async countMessageTokens(t){let r=await Promise.resolve().then(()=>require("vscode"));return this.countTokens({role:this.toChatRole(t.role),content:[new r.LanguageModelTextPart(this.extractText(t))],name:"name"in t?t.name:void 0})}extractText(t){return t.content instanceof Array?t.content.map(r=>"text"in r?r.text:"").join(""):t.content}toChatRole(t){switch(t){case _k.ChatRole.User:return 1;case _k.ChatRole.Assistant:return 2;case _k.ChatRole.System:return 1;case _k.ChatRole.Function:return 1;case _k.ChatRole.Tool:return 1}}};gG.AnyTokenizer=Sle});var _Ne=H(s9=>{"use strict";d();Object.defineProperty(s9,"__esModule",{value:!0});s9.tracerCss=s9.tracerSrc=void 0;s9.tracerSrc='"use strict";(()=>{var $,m,se,Ue,w,re,le,q,X,G,K,Ae,D={},ce=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function E(t,e){for(var n in e)t[n]=e[n];return t}function ue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,n){var o,r,_,c={};for(_ in e)_=="key"?o=e[_]:_=="ref"?r=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?$.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return R(t,c,o,r,null)}function R(t,e,n,o,r){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++se,__i:-1,__u:0};return r==null&&m.vnode!=null&&m.vnode(_),_}function N(t){return t.children}function B(t,e){this.props=t,this.context=e}function I(t,e){if(e==null)return t.__?I(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?I(t):null}function de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return de(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&w.push(t)&&!O.__r++||re!==m.debounceRendering)&&((re=m.debounceRendering)||le)(O)}function O(){var t,e,n,o,r,_,c,a;for(w.sort(q);t=w.shift();)t.__d&&(e=w.length,o=void 0,_=(r=(n=t).__v).__e,c=[],a=[],n.__P&&((o=E({},r)).__v=r.__v+1,m.vnode&&m.vnode(o),Q(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[_]:null,c,_??I(r),!!(32&r.__u),a),o.__v=r.__v,o.__.__k[o.__i]=o,me(c,o,a),o.__e!=_&&de(o)),w.length>e&&w.sort(q));O.__r=0}function pe(t,e,n,o,r,_,c,a,u,s,p){var i,f,d,b,x,C=o&&o.__k||ce,h=e.length;for(n.__d=u,Be(n,e,C),u=n.__d,i=0;i<h;i++)(d=n.__k[i])!=null&&(f=d.__i===-1?D:C[d.__i]||D,d.__i=i,Q(t,d,f,r,_,c,a,u,s,p),b=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Y(f.ref,null,d),p.push(d.ref,d.__c||b,d)),x==null&&b!=null&&(x=b),65536&d.__u||f.__k===d.__k?u=fe(d,u,t):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:b&&(u=b.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=x}function Be(t,e,n){var o,r,_,c,a,u=e.length,s=n.length,p=s,i=0;for(t.__k=[],o=0;o<u;o++)(r=e[o])!=null&&typeof r!="boolean"&&typeof r!="function"?(c=o+i,(r=t.__k[o]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?R(null,r,null,null,null):J(r)?R(N,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?R(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=t,r.__b=t.__b+1,_=null,(a=r.__i=Oe(r,n,c,p))!==-1&&(p--,(_=n[a])&&(_.__u|=131072)),_==null||_.__v===null?(a==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):a!==c&&(a==c-1?i--:a==c+1?i++:(a>c?i--:i++,r.__u|=65536))):r=t.__k[o]=null;if(p)for(o=0;o<s;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=I(_)),he(_,_))}function fe(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=fe(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=I(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Oe(t,e,n,o){var r=t.key,_=t.type,c=n-1,a=n+1,u=e[n];if(u===null||u&&r==u.key&&_===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((u=e[c])&&!(131072&u.__u)&&r==u.key&&_===u.type)return c;c--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&r==u.key&&_===u.type)return a;a++}}return-1}function _e(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Re.test(e)?n:n+"px"}function A(t,e,n,o,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||_e(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||_e(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=X,t.addEventListener(e,_?K:G,_)):t.removeEventListener(e,_?K:G,_);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=X++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function Q(t,e,n,o,r,_,c,a,u,s){var p,i,f,d,b,x,C,h,v,H,M,P,F,oe,z,j,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),_=[a=e.__e=n.__e]),(p=m.__b)&&p(e);e:if(typeof k=="function")try{if(h=e.props,v="prototype"in k&&k.prototype.render,H=(p=k.contextType)&&o[p.__c],M=p?H?H.props.value:p.__:o,n.__c?C=(i=e.__c=n.__c).__=i.__E:(v?e.__c=i=new k(h,M):(e.__c=i=new B(h,M),i.constructor=k,i.render=We),H&&H.sub(i),i.props=h,i.state||(i.state={}),i.context=M,i.__n=o,f=i.__d=!0,i.__h=[],i._sb=[]),v&&i.__s==null&&(i.__s=i.state),v&&k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,k.getDerivedStateFromProps(h,i.__s))),d=i.props,b=i.state,i.__v=e,f)v&&k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),v&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(v&&k.getDerivedStateFromProps==null&&h!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(h,M),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(h,i.__s,M)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(i.props=h,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(U){U&&(U.__=e)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(h,i.__s,M),v&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,b,x)})}if(i.context=M,i.props=h,i.__P=t,i.__e=!1,F=m.__r,oe=0,v){for(i.state=i.__s,i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),z=0;z<i._sb.length;z++)i.__h.push(i._sb[z]);i._sb=[]}else do i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++oe<25);i.state=i.__s,i.getChildContext!=null&&(o=E(E({},o),i.getChildContext())),v&&!f&&i.getSnapshotBeforeUpdate!=null&&(x=i.getSnapshotBeforeUpdate(d,b)),pe(t,J(j=p!=null&&p.type===N&&p.key==null?p.props.children:p)?j:[j],e,n,o,r,_,c,a,u,s),i.base=e.__e,e.__u&=-161,i.__h.length&&c.push(i),C&&(i.__E=i.__=null)}catch(U){if(e.__v=null,u||_!=null){for(e.__u|=u?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;_[_.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;m.__e(U,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$e(n.__e,e,n,o,r,_,c,u,s);(p=m.diffed)&&p(e)}function me(t,e,n){e.__d=void 0;for(var o=0;o<n.length;o++)Y(n[o],n[++o],n[++o]);m.__c&&m.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){m.__e(_,r.__v)}})}function $e(t,e,n,o,r,_,c,a,u){var s,p,i,f,d,b,x,C=n.props,h=e.props,v=e.type;if(v==="svg"?r="http://www.w3.org/2000/svg":v==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),_!=null){for(s=0;s<_.length;s++)if((d=_[s])&&"setAttribute"in d==!!v&&(v?d.localName===v:d.nodeType===3)){t=d,_[s]=null;break}}if(t==null){if(v===null)return document.createTextNode(h);t=document.createElementNS(r,v,h.is&&h),a&&(m.__m&&m.__m(e,_),a=!1),_=null}if(v===null)C===h||a&&t.data===h||(t.data=h);else{if(_=_&&$.call(t.childNodes),C=n.props||D,!a&&_!=null)for(C={},s=0;s<t.attributes.length;s++)C[(d=t.attributes[s]).name]=d.value;for(s in C)if(d=C[s],s!="children"){if(s=="dangerouslySetInnerHTML")i=d;else if(!(s in h)){if(s=="value"&&"defaultValue"in h||s=="checked"&&"defaultChecked"in h)continue;A(t,s,null,d,r)}}for(s in h)d=h[s],s=="children"?f=d:s=="dangerouslySetInnerHTML"?p=d:s=="value"?b=d:s=="checked"?x=d:a&&typeof d!="function"||C[s]===d||A(t,s,d,C[s],r);if(p)a||i&&(p.__html===i.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(i&&(t.innerHTML=""),pe(t,J(f)?f:[f],e,n,o,v==="foreignObject"?"http://www.w3.org/1999/xhtml":r,_,c,_?_[0]:n.__k&&I(n,0),a,u),_!=null)for(s=_.length;s--;)ue(_[s]);a||(s="value",v==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[s]||v==="progress"&&!b||v==="option"&&b!==C[s])&&A(t,s,b,C[s],r),s="checked",x!==void 0&&x!==t[s]&&A(t,s,x,C[s],r))}return t}function Y(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){m.__e(r,n)}}function he(t,e,n){var o,r;if(m.unmount&&m.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Y(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){m.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&he(o[r],e,n||typeof t.type!="function");n||ue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function We(t,e,n){return this.constructor(t,n)}function ve(t,e,n){var o,r,_,c;m.__&&m.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],Q(e,t=(!o&&n||e).__k=l(N,null,[t]),r||D,D,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?$.call(e.childNodes):null,_,!o&&n?n:r?r.__e:e.firstChild,o,c),me(_,t,c)}$=ce.slice,m={__e:function(t,e,n,o){for(var r,_,c;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),c=r.__d),c)return r.__E=r}catch(a){t=a}throw t}},se=0,Ue=function(t){return t!=null&&t.constructor==null},B.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},n),this.props)),t&&E(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},B.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},B.prototype.render=N,w=[],le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},O.__r=0,X=0,G=ae(!1),K=ae(!0),Ae=0;var L,g,Z,ge,V=0,Ee=[],y=m,be=y.__b,ye=y.__r,Ce=y.diffed,xe=y.__c,ke=y.unmount,Te=y.__;function te(t,e){y.__h&&y.__h(g,t,V||e),V=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function S(t){return V=1,Ve(Ne,t)}function Ve(t,e,n){var o=te(L++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ne(void 0,e),function(a){var u=o.__N?o.__N[0]:o.__[0],s=o.t(u,a);u!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var r=function(a,u,s){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!_||_.call(this,a,u,s);var i=!1;return p.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(i=!0)}}),!(!i&&o.__c.props===a)&&(!_||_.call(this,a,u,s))};g.u=!0;var _=g.shouldComponentUpdate,c=g.componentWillUpdate;g.componentWillUpdate=function(a,u,s){if(this.__e){var p=_;_=void 0,r(a,u,s),_=p}c&&c.call(this,a,u,s)},g.shouldComponentUpdate=r}return o.__N||o.__}function Se(t,e){var n=te(L++,3);!y.__s&&Ie(n.__H,e)&&(n.__=t,n.i=e,g.__H.__h.push(n))}function we(t){return V=5,je(function(){return{current:t}},[])}function je(t,e){var n=te(L++,7);return Ie(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function qe(){for(var t;t=Ee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(W),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){g=null,be&&be(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},y.__r=function(t){ye&&ye(t),L=0;var e=(g=t.__c).__H;e&&(Z===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(W),e.__h.forEach(ee),e.__h=[],L=0)),Z=g},y.diffed=function(t){Ce&&Ce(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ee.push(e)!==1&&ge===y.requestAnimationFrame||((ge=y.requestAnimationFrame)||Ge)(qe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Z=g=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||ee(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),xe&&xe(t,e)},y.unmount=function(t){ke&&ke(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var Me=typeof requestAnimationFrame=="function";function Ge(t){var e,n=function(){clearTimeout(o),Me&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Me&&(e=requestAnimationFrame(n))}function W(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ee(t){var e=g;t.__c=t.__(),g=e}function Ie(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ne(t,e){return typeof e=="function"?e(t):e}function He(t,e){let n=we(void 0),o=(...r)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{t(...r)},e)};return Se(()=>()=>{n.current&&clearTimeout(n.current)},[]),o}var Ke=new Intl.NumberFormat("en-US"),T=({value:t})=>l(N,null,Ke.format(t));var ne=[{bg:"#c1e7ff",fg:"#000"},{bg:"#abd2ec",fg:"#000"},{bg:"#94bed9",fg:"#000"},{bg:"#7faac6",fg:"#000"},{bg:"#6996b3",fg:"#fff"},{bg:"#5383a1",fg:"#fff"},{bg:"#3d708f",fg:"#fff"},{bg:"#255e7e",fg:"#fff"}],Xe=({scoreBy:t,nodes:e,epoch:n})=>{if(e.length===0)return null;let o=t;if(t.field!=="tokens"){let r=e[0][t.field],_=e[0][t.field];for(let c=1;c<e.length;c++)r=Math.max(r,e[c][t.field]),_=Math.max(_,e[c][t.field]);o={field:t.field,max:r,min:_}}return l("div",{className:"node-children"},e.map((r,_)=>r.type===2?l(Je,{scoreBy:o,key:_,node:r}):l(Le,{scoreBy:o,key:_,node:r,epoch:n})))},Fe=({node:t})=>l("div",{className:"node-stats"},"Used Tokens: ",l(T,{value:t.tokens})," / ","Priority:"," ",t.priority===Number.MAX_SAFE_INTEGER?"MAX":l(T,{value:t.priority})),De=({scoreBy:t,node:e,children:n,...o})=>{let r=0;if(t.max!==t.min){let _=(e[t.field]-t.min)/(t.max-t.min);r=Math.round((ne.length-1)*_)}return l("div",{...o,className:`node ${o.className||""}`,style:{backgroundColor:ne[r].bg,color:ne[r].fg}},n)},Je=({scoreBy:t,node:e})=>l(De,{node:e,scoreBy:t,tabIndex:0,className:"node-text"},l(Fe,{node:e}),l("div",{className:"node-content"},e.value)),Le=({scoreBy:t,node:e,epoch:n})=>{let[o,r]=S(!1),_=EPOCHS.findIndex(i=>i.elements.some(f=>f.id===e.id));if(_===void 0)throw new Error(`epoch not found for ${e.id}`);let c=EPOCHS[_],a=EPOCHS.at(n),u=c.elements.find(i=>i.id===e.id).tokenBudget,s=e.type===1?e.name||e.role.slice(0,1).toUpperCase()+e.role.slice(1)+"Message":e.name,p=_===n?"new-in-epoch":n<_?"before-epoch":"";return l(De,{node:e,scoreBy:t,className:p},l(Fe,{node:e}),l("div",{className:"node-content node-toggler",onClick:()=>r(i=>!i)},l("span",null,a?.inNode===e.id?"\\u{1F3C3} ":"",`<${s}>`),l("span",{className:"indicator"},o?"[+]":"[-]")),n===_&&l("div",{className:"node-stats"},"Token Budget: ",l(T,{value:u})),a?.inNode===e.id&&l("div",{className:"node-stats"},"Rendering flexGrow=",a.flexValue,l("br",null),l("br",null),"Splitting"," ",a.reservedTokens?`${a.tokenBudget} - ${a.reservedTokens} (reserved) = `:"",l(T,{value:a.tokenBudget})," tokens among ",a.elements.length," ","elements"),!o&&l(Xe,{nodes:e.children,scoreBy:t,epoch:n}))},Pe=({scoreBy:t,node:e,epoch:n})=>{let o;return t==="tokens"?o={field:"tokens",max:e.tokens,min:0}:o={field:"priority",max:e.priority,min:e.priority},l(Le,{scoreBy:o,node:e,epoch:n})};var ze=({label:t,value:e,onChange:n,min:o,max:r})=>{let _=a=>{n(a.target.valueAsNumber)},c=`number-slider-${Math.random()}`;return l("div",{className:"controls-slider"},l("label",{htmlFor:c},t),l("input",{id:c,type:"range",min:o,max:r,value:e,onInput:_}),l("input",{type:"number",min:o,value:e,onInput:_,onChange:_}))},Qe=({scoreBy:t,onScoreByChange:e})=>{let n=o=>{let r=o.target.value;e(r)};return l("div",{className:"controls-scoreby"},"Visualize by",l("label",null,l("input",{type:"radio",name:"scoreBy",value:"tokens",checked:t==="tokens",onChange:n}),"Tokens"),l("label",null,l("input",{type:"radio",name:"scoreBy",value:"priority",checked:t==="priority",onChange:n}),"Priority"))},Ye=()=>{let[t,e]=S(DEFAULT_TOKENS),[n,o]=S(EPOCHS.length),[r,_]=S(DEFAULT_MODEL),[c,a]=S("tokens"),[u,s]=S("epoch"),p=He(async f=>{if(f===DEFAULT_TOKENS)return DEFAULT_MODEL;let b=await(await fetch(`${SERVER_ADDRESS}regen?n=${f}`)).json();_(b)},100),i=f=>{e(f),p(f),o(EPOCHS.length)};return l("div",{className:"app"},l("div",{className:"controls"},l("div",{className:"tabs"},l("div",{className:`tab ${u==="epoch"?"active":""}`,onClick:()=>s("epoch")},"View Order"),l("div",{className:`tab ${u==="tokens"?"active":""}`,onClick:()=>s("tokens")},"Change Token Budget")),l("div",{className:`tab-content ${u==="epoch"?"active":""}`},l(ze,{label:"Render Epoch",value:n,onChange:o,min:0,max:EPOCHS.length})),l("div",{className:`tab-content ${u==="tokens"?"active":""}`},l(ze,{label:"Token Budget",value:t,onChange:i,min:0,max:DEFAULT_TOKENS*2}))),l("div",{className:"control-description"},u==="tokens"?l("p",null,"Token changes here will prune elements and re-render Expandable ones, but the entire prompt is not being re-rendered"):l("p",null,"Changing the render epoch lets you see the order in which elements are rendered and how the token budget is allocated."),l("div",{className:"controls-stats"},l("span",null,"Used ",l(T,{value:r.container.tokens}),"/",l(T,{value:r.budget})," tokens"),l("span",null,"Removed ",l(T,{value:r.removed})," nodes"),l(Qe,{scoreBy:c,onScoreByChange:a}))),l(Pe,{node:r.container,scoreBy:c,epoch:n}))};ve(l(Ye,null),document.body);})();\n';s9.tracerCss=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,system-ui,Ubuntu,Droid Sans,sans-serif;background:#fff;margin:0}.render-pass{border-left:2px solid #ccc;&:hover{border-left-color:#000}}.literals li{white-space:pre;font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace}.render-flex,.render-element{padding-left:10px}.node{border:1px solid rgba(255,255,255,.5);margin:3px 10px;padding:3px 10px;border-radius:4px;width:fit-content;&.new-in-epoch{box-shadow:0 0 3px 2px red}&.before-epoch{pointer-events:none;filter:grayscale(1);color:#777!important;.node{color:#777!important}}&:last-child{margin-bottom:0}}.node-content{font-weight:700}.node-children{margin-left:20px;border-left:2px dashed rgba(255,255,255,.5);padding-left:10px}.node-toggler{cursor:pointer;display:flex;align-items:center;justify-content:space-between;.indicator{font-size:.7em}}.node-text{width:400px;&:focus,&:focus-within{outline:1px solid orange;.node-content{white-space:normal}}.node-content{font-weight:400;font-size:.8em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}}.node-stats{font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace;font-size:.8em}.control-description{padding:10px;p{font-size:.9em;max-width:500px;margin-top:0}}.controls{display:flex;flex-direction:column;gap:10px;position:sticky;top:0;padding:10px;background:#fff;border-bottom:1px solid #ccc;z-index:1}.controls-slider{display:flex;align-items:center;gap:10px}.controls-stats{display:flex;gap:20px;list-style:none;padding:0;margin-top:0}.controls-scoreby{display:flex;gap:10px}.tabs{display:flex;border-bottom:1px solid #ccc;margin-bottom:10px}.tab{padding:10px;cursor:pointer;border:1px solid transparent;border-bottom:none}.tab.active{border-color:#ccc;border-bottom:1px solid #fff;background-color:#f9f9f9}.tab-content{display:none}.tab-content.active{display:block}
`});var DNe=H(yG=>{"use strict";d();Object.defineProperty(yG,"__esModule",{value:!0});yG.HTMLTracer=void 0;var SNe=_Ne(),Sk=Kae(),kle=class{static{o(this,"HTMLTracer")}traceData;epochs=[];addRenderEpoch(t){this.epochs.push(t)}includeInEpoch(t){this.epochs[this.epochs.length-1].elements.push(t)}didMaterializeTree(t){this.traceData=t}async serveHTML(){return Rle.create({epochs:this.epochs,traceData:RNe(this.traceData)})}serveRouter(t){return new AG({baseAddress:t,epochs:this.epochs,traceData:RNe(this.traceData)})}};yG.HTMLTracer=kle;var AG=class{static{o(this,"RequestRouter")}opts;serverToken=crypto.randomUUID();constructor(t){this.opts=t}route(t,r){let n=t,i=r,s=new URL(n.url||"/","http://localhost"),a=`/${this.serverToken}`;switch(s.pathname){case a:case`${a}/`:this.onRoot(s,n,i);break;case`${a}/regen`:this.onRegen(s,n,i);break;default:return!1}return!0}get address(){return this.opts.baseAddress+"/"+this.serverToken}async getHTML(){let{traceData:t,epochs:r}=this.opts;return`<body>
			<style>${SNe.tracerCss}</style>
			<script>
				const DEFAULT_TOKENS = ${JSON.stringify(t.budget)};
				const EPOCHS = ${JSON.stringify(r)};
				const DEFAULT_MODEL = ${JSON.stringify(await kNe(t.tokenizer,t.renderedTree))};
				const SERVER_ADDRESS = ${JSON.stringify(this.opts.baseAddress+"/"+this.serverToken+"/")};
				${SNe.tracerSrc}
			</script>
		</body>`}async onRegen(t,r,n){let{traceData:i}=this.opts,s=Number(t.searchParams.get("n")||i.budget),a=await i.renderTree(s),l=await kNe(i.tokenizer,a),c=JSON.stringify(l);n.setHeader("Content-Type","application/json"),n.setHeader("Content-Length",Buffer.byteLength(c)),n.end(c)}onRoot(t,r,n){this.getHTML().then(i=>{n.setHeader("Content-Type","text/html"),n.setHeader("Content-Length",Buffer.byteLength(i)),n.end(i)})}},Rle=class e extends AG{static{o(this,"RequestServer")}server;static async create(t){let{createServer:r}=await Promise.resolve().then(()=>require("http")),n=r((a,l)=>{try{s.route(a,l)||(l.statusCode=404,l.end("Not Found"))}catch(c){l.statusCode=500,l.end(String(c))}}),i=await new Promise((a,l)=>{n.listen(0,"127.0.0.1",()=>a(n.address().port)).on("error",l)}),s=new e({...t,baseAddress:`http://127.0.0.1:${i}`},n);return s}constructor(t,r){super(t),this.server=r}dispose(){this.server.closeAllConnections(),this.server.close()}};async function kNe(e,t){return{container:await BNe(e,t.container,!1),removed:t.removed,budget:t.budget}}o(kNe,"serializeRenderData");async function BNe(e,t,r){let n={metadata:t.metadata.map(iTt),priority:t.priority};if(t instanceof Sk.MaterializedChatMessageTextChunk)return{...n,type:2,value:t.text,tokens:await t.upperBoundTokenCount(e)};if(t instanceof Sk.MaterializedChatMessageImage)return{...n,name:t.id.toString(),id:t.id,type:3,value:t.src,tokens:await t.upperBoundTokenCount(e)};{let i={...n,id:t.id,name:t.name,children:await Promise.all(t.children.map(s=>BNe(e,s,r||t instanceof Sk.MaterializedChatMessage))),tokens:r?await t.upperBoundTokenCount(e):await t.tokenCount(e)};if(t instanceof Sk.MaterializedContainer)return{...i,type:0};if(t instanceof Sk.MaterializedChatMessage){let s=t.text.filter(a=>typeof a=="string").join("").trim();return{...i,type:1,role:t.role,text:s}}}nTt(t)}o(BNe,"serializeMaterialized");function nTt(e){throw new Error("unreachable")}o(nTt,"assertNever");function iTt(e){return{name:e.constructor.name,value:JSON.stringify(e)}}o(iTt,"serializeMetadata");var RNe=o(e=>{if(e===void 0)throw new Error("Prompt must be rendered before calling HTMLTRacer.serveHTML");return e},"mustGet")});var FNe=H(Ble=>{"use strict";d();Object.defineProperty(Ble,"__esModule",{value:!0});Ble.forEachNode=PNe;function PNe(e,t){if(t(e),e.type===1)for(let r of e.children)PNe(r,t)}o(PNe,"forEachNode")});var LNe=H(NNe=>{"use strict";d();Object.defineProperty(NNe,"__esModule",{value:!0})});var MNe=H(QNe=>{"use strict";d();Object.defineProperty(QNe,"__esModule",{value:!0})});var UNe=H(ONe=>{"use strict";d();Object.defineProperty(ONe,"__esModule",{value:!0})});var Rk=H(Nn=>{"use strict";d();var oTt=Nn&&Nn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kk=Nn&&Nn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&oTt(t,e,r)};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.contentType=Nn.PromptRenderer=Nn.MetadataMap=Nn.PromptElement=Nn.useKeepWith=Nn.ToolResult=Nn.UserMessage=Nn.ToolMessage=Nn.TextChunk=Nn.SystemMessage=Nn.PrioritizedList=Nn.LegacyPrioritization=Nn.FunctionMessage=Nn.Chunk=Nn.AssistantMessage=Nn.ChatRole=Nn.JSONTree=void 0;Nn.renderPrompt=cTt;Nn.renderElementJSON=uTt;Nn.toVsCodeChatMessages=GNe;var CG=e9(),qNe=_le(),sTt=wNe();kk(DNe(),Nn);Nn.JSONTree=FNe();var aTt=e9();Object.defineProperty(Nn,"ChatRole",{enumerable:!0,get:o(function(){return aTt.ChatRole},"get")});kk(Cle(),Nn);kk(LNe(),Nn);kk(MNe(),Nn);kk(UNe(),Nn);var Rh=cle();Object.defineProperty(Nn,"AssistantMessage",{enumerable:!0,get:o(function(){return Rh.AssistantMessage},"get")});Object.defineProperty(Nn,"Chunk",{enumerable:!0,get:o(function(){return Rh.Chunk},"get")});Object.defineProperty(Nn,"FunctionMessage",{enumerable:!0,get:o(function(){return Rh.FunctionMessage},"get")});Object.defineProperty(Nn,"LegacyPrioritization",{enumerable:!0,get:o(function(){return Rh.LegacyPrioritization},"get")});Object.defineProperty(Nn,"PrioritizedList",{enumerable:!0,get:o(function(){return Rh.PrioritizedList},"get")});Object.defineProperty(Nn,"SystemMessage",{enumerable:!0,get:o(function(){return Rh.SystemMessage},"get")});Object.defineProperty(Nn,"TextChunk",{enumerable:!0,get:o(function(){return Rh.TextChunk},"get")});Object.defineProperty(Nn,"ToolMessage",{enumerable:!0,get:o(function(){return Rh.ToolMessage},"get")});Object.defineProperty(Nn,"UserMessage",{enumerable:!0,get:o(function(){return Rh.UserMessage},"get")});Object.defineProperty(Nn,"ToolResult",{enumerable:!0,get:o(function(){return Rh.ToolResult},"get")});Object.defineProperty(Nn,"useKeepWith",{enumerable:!0,get:o(function(){return Rh.useKeepWith},"get")});var lTt=Zae();Object.defineProperty(Nn,"PromptElement",{enumerable:!0,get:o(function(){return lTt.PromptElement},"get")});var WNe=_le();Object.defineProperty(Nn,"MetadataMap",{enumerable:!0,get:o(function(){return WNe.MetadataMap},"get")});Object.defineProperty(Nn,"PromptRenderer",{enumerable:!0,get:o(function(){return WNe.PromptRenderer},"get")});async function cTt(e,t,r,n,i,s,a="vscode"){let l="countTokens"in n?new sTt.AnyTokenizer((x,v)=>n.countTokens(x,v),a):n,c=new qNe.PromptRenderer(r,e,t,l),u=await c.render(i,s),{tokenCount:f,references:m,metadata:h}=u,p=u.messages,A=c.getUsedContext();return a==="vscode"&&(p=GNe(p)),{messages:p,tokenCount:f,metadatas:h,metadata:h,usedContext:A,references:m}}o(cTt,"renderPrompt");Nn.contentType="application/vnd.codechat.prompt+json.1";function uTt(e,t,r,n){return new qNe.PromptRenderer({modelMaxPromptTokens:r?.tokenBudget??Number.MAX_SAFE_INTEGER},e,t,{countMessageTokens(s){throw new Error("Tools may only return text, not messages.")},tokenLength(s,a){return Promise.resolve(r?.countTokens(s,a)??Promise.resolve(1))}}).renderElementJSON(n)}o(uTt,"renderElementJSON");function GNe(e){let t=require("vscode");return e.map(r=>{switch(r.role){case CG.ChatRole.Assistant:let n=t.LanguageModelChatMessage.Assistant(r.content,r.name);return r.tool_calls&&(n.content=[new t.LanguageModelTextPart(r.content),...r.tool_calls.map(i=>{let s;try{s=JSON.parse(i.function.arguments)}catch{throw new Error("Invalid JSON in tool call arguments for tool call: "+i.id)}return new t.LanguageModelToolCallPart(i.id,i.function.name,s)})]),n;case CG.ChatRole.User:return t.LanguageModelChatMessage.User(r.content,r.name);case CG.ChatRole.Function:{let i=t.LanguageModelChatMessage.User("");return i.content=[new t.LanguageModelToolResultPart(r.name,[new t.LanguageModelTextPart(r.content)])],i}case CG.ChatRole.Tool:{let i=t.LanguageModelChatMessage.User("");return i.content=[new t.LanguageModelToolResultPart(r.tool_call_id,[new t.LanguageModelTextPart(r.content)])],i}default:throw new Error(`Converting chat message with role ${r.role} to VS Code chat message is not supported.`)}})}o(GNe,"toVsCodeChatMessages")});var Gk=H((Qdn,_Le)=>{d();var YTt="2.0.0",KTt=Number.MAX_SAFE_INTEGER||9007199254740991,JTt=16,ZTt=250,XTt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];_Le.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:JTt,MAX_SAFE_BUILD_LENGTH:ZTt,MAX_SAFE_INTEGER:KTt,RELEASE_TYPES:XTt,SEMVER_SPEC_VERSION:YTt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Hk=H((Odn,SLe)=>{d();var ewt=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};SLe.exports=ewt});var g9=H((Fg,kLe)=>{d();var{MAX_SAFE_COMPONENT_LENGTH:dce,MAX_SAFE_BUILD_LENGTH:twt,MAX_LENGTH:rwt}=Gk(),nwt=Hk();Fg=kLe.exports={};var iwt=Fg.re=[],owt=Fg.safeRe=[],Br=Fg.src=[],swt=Fg.safeSrc=[],Dr=Fg.t={},awt=0,mce="[a-zA-Z0-9-]",lwt=[["\\s",1],["\\d",rwt],[mce,twt]],cwt=o(e=>{for(let[t,r]of lwt)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},"makeSafeRegex"),Kn=o((e,t,r)=>{let n=cwt(t),i=awt++;nwt(e,i,t),Dr[e]=i,Br[i]=t,swt[i]=n,iwt[i]=new RegExp(t,r?"g":void 0),owt[i]=new RegExp(n,r?"g":void 0)},"createToken");Kn("NUMERICIDENTIFIER","0|[1-9]\\d*");Kn("NUMERICIDENTIFIERLOOSE","\\d+");Kn("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${mce}*`);Kn("MAINVERSION",`(${Br[Dr.NUMERICIDENTIFIER]})\\.(${Br[Dr.NUMERICIDENTIFIER]})\\.(${Br[Dr.NUMERICIDENTIFIER]})`);Kn("MAINVERSIONLOOSE",`(${Br[Dr.NUMERICIDENTIFIERLOOSE]})\\.(${Br[Dr.NUMERICIDENTIFIERLOOSE]})\\.(${Br[Dr.NUMERICIDENTIFIERLOOSE]})`);Kn("PRERELEASEIDENTIFIER",`(?:${Br[Dr.NUMERICIDENTIFIER]}|${Br[Dr.NONNUMERICIDENTIFIER]})`);Kn("PRERELEASEIDENTIFIERLOOSE",`(?:${Br[Dr.NUMERICIDENTIFIERLOOSE]}|${Br[Dr.NONNUMERICIDENTIFIER]})`);Kn("PRERELEASE",`(?:-(${Br[Dr.PRERELEASEIDENTIFIER]}(?:\\.${Br[Dr.PRERELEASEIDENTIFIER]})*))`);Kn("PRERELEASELOOSE",`(?:-?(${Br[Dr.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Br[Dr.PRERELEASEIDENTIFIERLOOSE]})*))`);Kn("BUILDIDENTIFIER",`${mce}+`);Kn("BUILD",`(?:\\+(${Br[Dr.BUILDIDENTIFIER]}(?:\\.${Br[Dr.BUILDIDENTIFIER]})*))`);Kn("FULLPLAIN",`v?${Br[Dr.MAINVERSION]}${Br[Dr.PRERELEASE]}?${Br[Dr.BUILD]}?`);Kn("FULL",`^${Br[Dr.FULLPLAIN]}$`);Kn("LOOSEPLAIN",`[v=\\s]*${Br[Dr.MAINVERSIONLOOSE]}${Br[Dr.PRERELEASELOOSE]}?${Br[Dr.BUILD]}?`);Kn("LOOSE",`^${Br[Dr.LOOSEPLAIN]}$`);Kn("GTLT","((?:<|>)?=?)");Kn("XRANGEIDENTIFIERLOOSE",`${Br[Dr.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Kn("XRANGEIDENTIFIER",`${Br[Dr.NUMERICIDENTIFIER]}|x|X|\\*`);Kn("XRANGEPLAIN",`[v=\\s]*(${Br[Dr.XRANGEIDENTIFIER]})(?:\\.(${Br[Dr.XRANGEIDENTIFIER]})(?:\\.(${Br[Dr.XRANGEIDENTIFIER]})(?:${Br[Dr.PRERELEASE]})?${Br[Dr.BUILD]}?)?)?`);Kn("XRANGEPLAINLOOSE",`[v=\\s]*(${Br[Dr.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Br[Dr.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Br[Dr.XRANGEIDENTIFIERLOOSE]})(?:${Br[Dr.PRERELEASELOOSE]})?${Br[Dr.BUILD]}?)?)?`);Kn("XRANGE",`^${Br[Dr.GTLT]}\\s*${Br[Dr.XRANGEPLAIN]}$`);Kn("XRANGELOOSE",`^${Br[Dr.GTLT]}\\s*${Br[Dr.XRANGEPLAINLOOSE]}$`);Kn("COERCEPLAIN",`(^|[^\\d])(\\d{1,${dce}})(?:\\.(\\d{1,${dce}}))?(?:\\.(\\d{1,${dce}}))?`);Kn("COERCE",`${Br[Dr.COERCEPLAIN]}(?:$|[^\\d])`);Kn("COERCEFULL",Br[Dr.COERCEPLAIN]+`(?:${Br[Dr.PRERELEASE]})?(?:${Br[Dr.BUILD]})?(?:$|[^\\d])`);Kn("COERCERTL",Br[Dr.COERCE],!0);Kn("COERCERTLFULL",Br[Dr.COERCEFULL],!0);Kn("LONETILDE","(?:~>?)");Kn("TILDETRIM",`(\\s*)${Br[Dr.LONETILDE]}\\s+`,!0);Fg.tildeTrimReplace="$1~";Kn("TILDE",`^${Br[Dr.LONETILDE]}${Br[Dr.XRANGEPLAIN]}$`);Kn("TILDELOOSE",`^${Br[Dr.LONETILDE]}${Br[Dr.XRANGEPLAINLOOSE]}$`);Kn("LONECARET","(?:\\^)");Kn("CARETTRIM",`(\\s*)${Br[Dr.LONECARET]}\\s+`,!0);Fg.caretTrimReplace="$1^";Kn("CARET",`^${Br[Dr.LONECARET]}${Br[Dr.XRANGEPLAIN]}$`);Kn("CARETLOOSE",`^${Br[Dr.LONECARET]}${Br[Dr.XRANGEPLAINLOOSE]}$`);Kn("COMPARATORLOOSE",`^${Br[Dr.GTLT]}\\s*(${Br[Dr.LOOSEPLAIN]})$|^$`);Kn("COMPARATOR",`^${Br[Dr.GTLT]}\\s*(${Br[Dr.FULLPLAIN]})$|^$`);Kn("COMPARATORTRIM",`(\\s*)${Br[Dr.GTLT]}\\s*(${Br[Dr.LOOSEPLAIN]}|${Br[Dr.XRANGEPLAIN]})`,!0);Fg.comparatorTrimReplace="$1$2$3";Kn("HYPHENRANGE",`^\\s*(${Br[Dr.XRANGEPLAIN]})\\s+-\\s+(${Br[Dr.XRANGEPLAIN]})\\s*$`);Kn("HYPHENRANGELOOSE",`^\\s*(${Br[Dr.XRANGEPLAINLOOSE]})\\s+-\\s+(${Br[Dr.XRANGEPLAINLOOSE]})\\s*$`);Kn("STAR","(<|>)?=?\\s*\\*");Kn("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Kn("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var JG=H((Gdn,RLe)=>{d();var uwt=Object.freeze({loose:!0}),fwt=Object.freeze({}),dwt=o(e=>e?typeof e!="object"?uwt:e:fwt,"parseOptions");RLe.exports=dwt});var hce=H((Vdn,PLe)=>{d();var BLe=/^[0-9]+$/,DLe=o((e,t)=>{let r=BLe.test(e),n=BLe.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},"compareIdentifiers"),mwt=o((e,t)=>DLe(t,e),"rcompareIdentifiers");PLe.exports={compareIdentifiers:DLe,rcompareIdentifiers:mwt}});var Gc=H((Ydn,QLe)=>{d();var ZG=Hk(),{MAX_LENGTH:FLe,MAX_SAFE_INTEGER:XG}=Gk(),{safeRe:NLe,safeSrc:LLe,t:eH}=g9(),hwt=JG(),{compareIdentifiers:A9}=hce(),pce=class e{static{o(this,"SemVer")}constructor(t,r){if(r=hwt(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>FLe)throw new TypeError(`version is longer than ${FLe} characters`);ZG("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?NLe[eH.LOOSE]:NLe[eH.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>XG||this.major<0)throw new TypeError("Invalid major version");if(this.minor>XG||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>XG||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<XG)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(ZG("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),A9(this.major,t.major)||A9(this.minor,t.minor)||A9(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(ZG("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return A9(n,i)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(ZG("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return A9(n,i)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=new RegExp(`^${this.options.loose?LLe[eH.PRERELEASELOOSE]:LLe[eH.PRERELEASE]}$`),s=`-${r}`.match(i);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),A9(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};QLe.exports=pce});var Iv=H((Zdn,OLe)=>{d();var MLe=Gc(),pwt=o((e,t,r=!1)=>{if(e instanceof MLe)return e;try{return new MLe(e,t)}catch(n){if(!r)return null;throw n}},"parse");OLe.exports=pwt});var qLe=H((tmn,ULe)=>{d();var gwt=Iv(),Awt=o((e,t)=>{let r=gwt(e,t);return r?r.version:null},"valid");ULe.exports=Awt});var GLe=H((imn,WLe)=>{d();var ywt=Iv(),Cwt=o((e,t)=>{let r=ywt(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},"clean");WLe.exports=Cwt});var VLe=H((amn,jLe)=>{d();var HLe=Gc(),xwt=o((e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new HLe(e instanceof HLe?e.version:e,r).inc(t,n,i).version}catch{return null}},"inc");jLe.exports=xwt});var YLe=H((umn,zLe)=>{d();var $Le=Iv(),vwt=o((e,t)=>{let r=$Le(e,null,!0),n=$Le(t,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,l=s?n:r,c=!!a.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(l.compareMain(a)===0)return l.minor&&!l.patch?"minor":"patch"}let f=c?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"},"diff");zLe.exports=vwt});var JLe=H((mmn,KLe)=>{d();var bwt=Gc(),Ewt=o((e,t)=>new bwt(e,t).major,"major");KLe.exports=Ewt});var XLe=H((gmn,ZLe)=>{d();var Iwt=Gc(),Twt=o((e,t)=>new Iwt(e,t).minor,"minor");ZLe.exports=Twt});var tQe=H((Cmn,eQe)=>{d();var wwt=Gc(),_wt=o((e,t)=>new wwt(e,t).patch,"patch");eQe.exports=_wt});var nQe=H((bmn,rQe)=>{d();var Swt=Iv(),kwt=o((e,t)=>{let r=Swt(e,t);return r&&r.prerelease.length?r.prerelease:null},"prerelease");rQe.exports=kwt});var Xd=H((Tmn,oQe)=>{d();var iQe=Gc(),Rwt=o((e,t,r)=>new iQe(e,r).compare(new iQe(t,r)),"compare");oQe.exports=Rwt});var aQe=H((Smn,sQe)=>{d();var Bwt=Xd(),Dwt=o((e,t,r)=>Bwt(t,e,r),"rcompare");sQe.exports=Dwt});var cQe=H((Bmn,lQe)=>{d();var Pwt=Xd(),Fwt=o((e,t)=>Pwt(e,t,!0),"compareLoose");lQe.exports=Fwt});var tH=H((Fmn,fQe)=>{d();var uQe=Gc(),Nwt=o((e,t,r)=>{let n=new uQe(e,r),i=new uQe(t,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");fQe.exports=Nwt});var mQe=H((Qmn,dQe)=>{d();var Lwt=tH(),Qwt=o((e,t)=>e.sort((r,n)=>Lwt(r,n,t)),"sort");dQe.exports=Qwt});var pQe=H((Umn,hQe)=>{d();var Mwt=tH(),Owt=o((e,t)=>e.sort((r,n)=>Mwt(n,r,t)),"rsort");hQe.exports=Owt});var jk=H((Gmn,gQe)=>{d();var Uwt=Xd(),qwt=o((e,t,r)=>Uwt(e,t,r)>0,"gt");gQe.exports=qwt});var rH=H((Vmn,AQe)=>{d();var Wwt=Xd(),Gwt=o((e,t,r)=>Wwt(e,t,r)<0,"lt");AQe.exports=Gwt});var gce=H((Ymn,yQe)=>{d();var Hwt=Xd(),jwt=o((e,t,r)=>Hwt(e,t,r)===0,"eq");yQe.exports=jwt});var Ace=H((Zmn,CQe)=>{d();var Vwt=Xd(),$wt=o((e,t,r)=>Vwt(e,t,r)!==0,"neq");CQe.exports=$wt});var nH=H((thn,xQe)=>{d();var zwt=Xd(),Ywt=o((e,t,r)=>zwt(e,t,r)>=0,"gte");xQe.exports=Ywt});var iH=H((ihn,vQe)=>{d();var Kwt=Xd(),Jwt=o((e,t,r)=>Kwt(e,t,r)<=0,"lte");vQe.exports=Jwt});var yce=H((ahn,bQe)=>{d();var Zwt=gce(),Xwt=Ace(),e_t=jk(),t_t=nH(),r_t=rH(),n_t=iH(),i_t=o((e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Zwt(e,r,n);case"!=":return Xwt(e,r,n);case">":return e_t(e,r,n);case">=":return t_t(e,r,n);case"<":return r_t(e,r,n);case"<=":return n_t(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}},"cmp");bQe.exports=i_t});var IQe=H((uhn,EQe)=>{d();var o_t=Gc(),s_t=Iv(),{safeRe:oH,t:sH}=g9(),a_t=o((e,t)=>{if(e instanceof o_t)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?oH[sH.COERCEFULL]:oH[sH.COERCE]);else{let c=t.includePrerelease?oH[sH.COERCERTLFULL]:oH[sH.COERCERTL],u;for(;(u=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",l=t.includePrerelease&&r[6]?`+${r[6]}`:"";return s_t(`${n}.${i}.${s}${a}${l}`,t)},"coerce");EQe.exports=a_t});var wQe=H((mhn,TQe)=>{d();var Cce=class{static{o(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}};TQe.exports=Cce});var em=H((ghn,RQe)=>{d();var l_t=/\s+/g,xce=class e{static{o(this,"Range")}constructor(t,r){if(r=u_t(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof vce)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(l_t," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!SQe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&A_t(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&p_t)|(this.options.loose&&g_t))+":"+t,i=_Qe.get(n);if(i)return i;let s=this.options.loose,a=s?xu[b0.HYPHENRANGELOOSE]:xu[b0.HYPHENRANGE];t=t.replace(a,__t(this.options.includePrerelease)),vs("hyphen replace",t),t=t.replace(xu[b0.COMPARATORTRIM],d_t),vs("comparator trim",t),t=t.replace(xu[b0.TILDETRIM],m_t),vs("tilde trim",t),t=t.replace(xu[b0.CARETTRIM],h_t),vs("caret trim",t);let l=t.split(" ").map(m=>y_t(m,this.options)).join(" ").split(/\s+/).map(m=>w_t(m,this.options));s&&(l=l.filter(m=>(vs("loose invalid filter",m,this.options),!!m.match(xu[b0.COMPARATORLOOSE])))),vs("range list",l);let c=new Map,u=l.map(m=>new vce(m,this.options));for(let m of u){if(SQe(m))return[m];c.set(m.value,m)}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return _Qe.set(n,f),f}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>kQe(n,r)&&t.set.some(i=>kQe(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new f_t(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(S_t(this.set[r],t,this.options))return!0;return!1}};RQe.exports=xce;var c_t=wQe(),_Qe=new c_t,u_t=JG(),vce=Vk(),vs=Hk(),f_t=Gc(),{safeRe:xu,t:b0,comparatorTrimReplace:d_t,tildeTrimReplace:m_t,caretTrimReplace:h_t}=g9(),{FLAG_INCLUDE_PRERELEASE:p_t,FLAG_LOOSE:g_t}=Gk(),SQe=o(e=>e.value==="<0.0.0-0","isNullSet"),A_t=o(e=>e.value==="","isAny"),kQe=o((e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,t)),i=n.pop();return r},"isSatisfiable"),y_t=o((e,t)=>(vs("comp",e,t),e=v_t(e,t),vs("caret",e),e=C_t(e,t),vs("tildes",e),e=E_t(e,t),vs("xrange",e),e=T_t(e,t),vs("stars",e),e),"parseComparator"),E0=o(e=>!e||e.toLowerCase()==="x"||e==="*","isX"),C_t=o((e,t)=>e.trim().split(/\s+/).map(r=>x_t(r,t)).join(" "),"replaceTildes"),x_t=o((e,t)=>{let r=t.loose?xu[b0.TILDELOOSE]:xu[b0.TILDE];return e.replace(r,(n,i,s,a,l)=>{vs("tilde",e,n,i,s,a,l);let c;return E0(i)?c="":E0(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:E0(a)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:l?(vs("replaceTilde pr",l),c=`>=${i}.${s}.${a}-${l} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,vs("tilde return",c),c})},"replaceTilde"),v_t=o((e,t)=>e.trim().split(/\s+/).map(r=>b_t(r,t)).join(" "),"replaceCarets"),b_t=o((e,t)=>{vs("caret",e,t);let r=t.loose?xu[b0.CARETLOOSE]:xu[b0.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,s,a,l,c)=>{vs("caret",e,i,s,a,l,c);let u;return E0(s)?u="":E0(a)?u=`>=${s}.0.0${n} <${+s+1}.0.0-0`:E0(l)?s==="0"?u=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:c?(vs("replaceCaret pr",c),s==="0"?a==="0"?u=`>=${s}.${a}.${l}-${c} <${s}.${a}.${+l+1}-0`:u=`>=${s}.${a}.${l}-${c} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${l}-${c} <${+s+1}.0.0-0`):(vs("no pr"),s==="0"?a==="0"?u=`>=${s}.${a}.${l}${n} <${s}.${a}.${+l+1}-0`:u=`>=${s}.${a}.${l}${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${l} <${+s+1}.0.0-0`),vs("caret return",u),u})},"replaceCaret"),E_t=o((e,t)=>(vs("replaceXRanges",e,t),e.split(/\s+/).map(r=>I_t(r,t)).join(" ")),"replaceXRanges"),I_t=o((e,t)=>{e=e.trim();let r=t.loose?xu[b0.XRANGELOOSE]:xu[b0.XRANGE];return e.replace(r,(n,i,s,a,l,c)=>{vs("xRange",e,n,i,s,a,l,c);let u=E0(s),f=u||E0(a),m=f||E0(l),h=m;return i==="="&&h&&(i=""),c=t.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&h?(f&&(a=0),l=0,i===">"?(i=">=",f?(s=+s+1,a=0,l=0):(a=+a+1,l=0)):i==="<="&&(i="<",f?s=+s+1:a=+a+1),i==="<"&&(c="-0"),n=`${i+s}.${a}.${l}${c}`):f?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:m&&(n=`>=${s}.${a}.0${c} <${s}.${+a+1}.0-0`),vs("xRange return",n),n})},"replaceXRange"),T_t=o((e,t)=>(vs("replaceStars",e,t),e.trim().replace(xu[b0.STAR],"")),"replaceStars"),w_t=o((e,t)=>(vs("replaceGTE0",e,t),e.trim().replace(xu[t.includePrerelease?b0.GTE0PRE:b0.GTE0],"")),"replaceGTE0"),__t=o(e=>(t,r,n,i,s,a,l,c,u,f,m,h)=>(E0(n)?r="":E0(i)?r=`>=${n}.0.0${e?"-0":""}`:E0(s)?r=`>=${n}.${i}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,E0(u)?c="":E0(f)?c=`<${+u+1}.0.0-0`:E0(m)?c=`<${u}.${+f+1}.0-0`:h?c=`<=${u}.${f}.${m}-${h}`:e?c=`<${u}.${f}.${+m+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),"hyphenReplace"),S_t=o((e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(vs(e[n].semver),e[n].semver!==vce.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0},"testSet")});var Vk=H((Chn,LQe)=>{d();var $k=Symbol("SemVer ANY"),Ice=class e{static{o(this,"Comparator")}static get ANY(){return $k}constructor(t,r){if(r=BQe(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),Ece("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===$k?this.value="":this.value=this.operator+this.semver.version,Ece("comp",this)}parse(t){let r=this.options.loose?DQe[PQe.COMPARATORLOOSE]:DQe[PQe.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new FQe(n[2],this.options.loose):this.semver=$k}toString(){return this.value}test(t){if(Ece("Comparator.test",t,this.options.loose),this.semver===$k||t===$k)return!0;if(typeof t=="string")try{t=new FQe(t,this.options)}catch{return!1}return bce(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new NQe(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new NQe(this.value,r).test(t.semver):(r=BQe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||bce(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||bce(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};LQe.exports=Ice;var BQe=JG(),{safeRe:DQe,t:PQe}=g9(),bce=yce(),Ece=Hk(),FQe=Gc(),NQe=em()});var zk=H((bhn,QQe)=>{d();var k_t=em(),R_t=o((e,t,r)=>{try{t=new k_t(t,r)}catch{return!1}return t.test(e)},"satisfies");QQe.exports=R_t});var OQe=H((Thn,MQe)=>{d();var B_t=em(),D_t=o((e,t)=>new B_t(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");MQe.exports=D_t});var qQe=H((Shn,UQe)=>{d();var P_t=Gc(),F_t=em(),N_t=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new F_t(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new P_t(n,r))}),n},"maxSatisfying");UQe.exports=N_t});var GQe=H((Bhn,WQe)=>{d();var L_t=Gc(),Q_t=em(),M_t=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new Q_t(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new L_t(n,r))}),n},"minSatisfying");WQe.exports=M_t});var VQe=H((Fhn,jQe)=>{d();var Tce=Gc(),O_t=em(),HQe=jk(),U_t=o((e,t)=>{e=new O_t(e,t);let r=new Tce("0.0.0");if(e.test(r)||(r=new Tce("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],s=null;i.forEach(a=>{let l=new Tce(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!s||HQe(l,s))&&(s=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||HQe(r,s))&&(r=s)}return r&&e.test(r)?r:null},"minVersion");jQe.exports=U_t});var zQe=H((Qhn,$Qe)=>{d();var q_t=em(),W_t=o((e,t)=>{try{return new q_t(e,t).range||"*"}catch{return null}},"validRange");$Qe.exports=W_t});var aH=H((Uhn,ZQe)=>{d();var G_t=Gc(),JQe=Vk(),{ANY:H_t}=JQe,j_t=em(),V_t=zk(),YQe=jk(),KQe=rH(),$_t=iH(),z_t=nH(),Y_t=o((e,t,r,n)=>{e=new G_t(e,n),t=new j_t(t,n);let i,s,a,l,c;switch(r){case">":i=YQe,s=$_t,a=KQe,l=">",c=">=";break;case"<":i=KQe,s=z_t,a=YQe,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(V_t(e,t,n))return!1;for(let u=0;u<t.set.length;++u){let f=t.set[u],m=null,h=null;if(f.forEach(p=>{p.semver===H_t&&(p=new JQe(">=0.0.0")),m=m||p,h=h||p,i(p.semver,m.semver,n)?m=p:a(p.semver,h.semver,n)&&(h=p)}),m.operator===l||m.operator===c||(!h.operator||h.operator===l)&&s(e,h.semver))return!1;if(h.operator===c&&a(e,h.semver))return!1}return!0},"outside");ZQe.exports=Y_t});var eMe=H((Ghn,XQe)=>{d();var K_t=aH(),J_t=o((e,t,r)=>K_t(e,t,">",r),"gtr");XQe.exports=J_t});var rMe=H((Vhn,tMe)=>{d();var Z_t=aH(),X_t=o((e,t,r)=>Z_t(e,t,"<",r),"ltr");tMe.exports=X_t});var oMe=H((Yhn,iMe)=>{d();var nMe=em(),eSt=o((e,t,r)=>(e=new nMe(e,r),t=new nMe(t,r),e.intersects(t,r)),"intersects");iMe.exports=eSt});var aMe=H((Zhn,sMe)=>{d();var tSt=zk(),rSt=Xd();sMe.exports=(e,t,r)=>{let n=[],i=null,s=null,a=e.sort((f,m)=>rSt(f,m,r));for(let f of a)tSt(f,t,r)?(s=f,i||(i=f)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let l=[];for(let[f,m]of n)f===m?l.push(f):!m&&f===a[0]?l.push("*"):m?f===a[0]?l.push(`<=${m}`):l.push(`${f} - ${m}`):l.push(`>=${f}`);let c=l.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t}});var mMe=H((epn,dMe)=>{d();var lMe=em(),_ce=Vk(),{ANY:wce}=_ce,Yk=zk(),Sce=Xd(),nSt=o((e,t,r={})=>{if(e===t)return!0;e=new lMe(e,r),t=new lMe(t,r);let n=!1;e:for(let i of e.set){for(let s of t.set){let a=oSt(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),iSt=[new _ce(">=0.0.0-0")],cMe=[new _ce(">=0.0.0")],oSt=o((e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===wce){if(t.length===1&&t[0].semver===wce)return!0;r.includePrerelease?e=iSt:e=cMe}if(t.length===1&&t[0].semver===wce){if(r.includePrerelease)return!0;t=cMe}let n=new Set,i,s;for(let p of e)p.operator===">"||p.operator===">="?i=uMe(i,p,r):p.operator==="<"||p.operator==="<="?s=fMe(s,p,r):n.add(p.semver);if(n.size>1)return null;let a;if(i&&s){if(a=Sce(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let p of n){if(i&&!Yk(p,String(i),r)||s&&!Yk(p,String(s),r))return null;for(let A of t)if(!Yk(p,String(A),r))return!1;return!0}let l,c,u,f,m=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;m&&m.prerelease.length===1&&s.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let p of t){if(f=f||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(l=uMe(i,p,r),l===p&&l!==i)return!1}else if(i.operator===">="&&!Yk(i.semver,String(p),r))return!1}if(s){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator==="<"||p.operator==="<="){if(c=fMe(s,p,r),c===p&&c!==s)return!1}else if(s.operator==="<="&&!Yk(s.semver,String(p),r))return!1}if(!p.operator&&(s||i)&&a!==0)return!1}return!(i&&u&&!s&&a!==0||s&&f&&!i&&a!==0||h||m)},"simpleSubset"),uMe=o((e,t,r)=>{if(!e)return t;let n=Sce(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},"higherGT"),fMe=o((e,t,r)=>{if(!e)return t;let n=Sce(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e},"lowerLT");dMe.exports=nSt});var Rce=H((npn,gMe)=>{d();var kce=g9(),hMe=Gk(),sSt=Gc(),pMe=hce(),aSt=Iv(),lSt=qLe(),cSt=GLe(),uSt=VLe(),fSt=YLe(),dSt=JLe(),mSt=XLe(),hSt=tQe(),pSt=nQe(),gSt=Xd(),ASt=aQe(),ySt=cQe(),CSt=tH(),xSt=mQe(),vSt=pQe(),bSt=jk(),ESt=rH(),ISt=gce(),TSt=Ace(),wSt=nH(),_St=iH(),SSt=yce(),kSt=IQe(),RSt=Vk(),BSt=em(),DSt=zk(),PSt=OQe(),FSt=qQe(),NSt=GQe(),LSt=VQe(),QSt=zQe(),MSt=aH(),OSt=eMe(),USt=rMe(),qSt=oMe(),WSt=aMe(),GSt=mMe();gMe.exports={parse:aSt,valid:lSt,clean:cSt,inc:uSt,diff:fSt,major:dSt,minor:mSt,patch:hSt,prerelease:pSt,compare:gSt,rcompare:ASt,compareLoose:ySt,compareBuild:CSt,sort:xSt,rsort:vSt,gt:bSt,lt:ESt,eq:ISt,neq:TSt,gte:wSt,lte:_St,cmp:SSt,coerce:kSt,Comparator:RSt,Range:BSt,satisfies:DSt,toComparators:PSt,maxSatisfying:FSt,minSatisfying:NSt,minVersion:LSt,validRange:QSt,outside:MSt,gtr:OSt,ltr:USt,intersects:qSt,simplifyRange:WSt,subset:GSt,SemVer:sSt,re:kce.re,src:kce.src,tokens:kce.t,SEMVER_SPEC_VERSION:hMe.SEMVER_SPEC_VERSION,RELEASE_TYPES:hMe.RELEASE_TYPES,compareIdentifiers:pMe.compareIdentifiers,rcompareIdentifiers:pMe.rcompareIdentifiers}});var Df=H(Zk=>{"use strict";d();Object.defineProperty(Zk,"__esModule",{value:!0});Zk.dedent=void 0;function LMe(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(l,c){var u=c.match(/\n([\t ]+|(?!\s).)/g);return u?l.concat(u.map(function(f){var m,h;return(h=(m=f.match(/[\t ]/g))===null||m===void 0?void 0:m.length)!==null&&h!==void 0?h:0})):l},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(l){return l.replace(s,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var a=n[0];return t.forEach(function(l,c){var u=a.match(/(?:^|\n)( *)$/),f=u?u[1]:"",m=l;typeof l=="string"&&l.includes(`
`)&&(m=String(l).split(`
`).map(function(h,p){return p===0?h:""+f+h}).join(`
`)),a+=m+n[c+1]}),a}o(LMe,"dedent");Zk.dedent=LMe;Zk.default=LMe});var HMe=H(Gce=>{"use strict";d();Object.defineProperty(Gce,"__esModule",{value:!0});Gce.workerFile=`
const { parentPort } = require('worker_threads')

parentPort.on('message', async worker => {
  const response = {
    error: null,
    data: null
  }

  try {
    eval(worker)
    // __executor__ is defined in worker
    response.data = await __executor__()
    parentPort.postMessage(response)
  } catch (err) {
    response.data = null
    response.error = {
      message: err.message,
      stack: err.stack
    }

    try {
      parentPort.postMessage(response)
    } catch (err) {
      console.error(err)
    }
  }
})
`});var KMe=H(jce=>{"use strict";d();Object.defineProperty(jce,"__esModule",{value:!0});var jMe=require("worker_threads"),lkt=require("v8"),ckt=require("os"),VMe=HMe(),gH="ready",$Me="spawning",ukt="busy",AH="off",zMe=ckt.cpus().length,YMe=process.version.replace("v","").split("."),fkt=parseInt(YMe[0]),dkt=parseInt(YMe[1]),Hce=class{static{o(this,"WorkerPool")}constructor(){this.maxWorkers=zMe,this.taskQueue=[],this.workers=[]}resurrect(t){let r=new jMe.Worker(VMe.workerFile,{eval:!0});t.status=$Me,t.worker=r,r.once("online",()=>process.nextTick(()=>{t.status=gH,r.removeAllListeners(),this.tick()})),r.once("error",n=>{console.error(n),t.status=AH,r.removeAllListeners(),this.tick()})}tick(){if(this.workers.filter(({status:c})=>c===AH).forEach(c=>this.resurrect(c)),this.taskQueue.length===0)return;let t;for(let c=0;c<this.workers.length;c++)if(this.workers[c].status===gH){t=this.workers[c];break}if(typeof t>"u")return;let r=this.taskQueue.shift();t.status=ukt;let{worker:n}=t,{handler:i,config:s,resolve:a,reject:l}=r;try{let c="";for(let h in s.ctx){if(!s.ctx.hasOwnProperty(h))continue;let p;switch(typeof s.ctx[h]){case"string":p=`'${s.ctx[h]}'`;break;case"object":p=JSON.stringify(s.ctx[h]);break;default:p=s.ctx[h]}c+=`let ${h} = ${p}
`}let u=lkt.serialize(s.data),f=JSON.stringify(u),m=`
      async function __executor__() {
        const v8 = require('v8')
        ${c}
        const dataParsed = JSON.parse('${f}')
        const dataBuffer = Buffer.from(dataParsed.data)
        const dataDeserialized = v8.deserialize(dataBuffer)
        return await (${i.toString()})(dataDeserialized)
      }
      `;n.once("message",h=>{if(this.free(n),typeof h.error>"u"||h.error===null)return a(h.data);let p=new Error(h.error.message);p.stack=h.error.stack,l(p)}),n.once("error",h=>{t.status=AH,l(h),this.tick()}),n.postMessage(m)}catch(c){this.free(n),l(c)}}enqueue({handler:t,config:r,resolve:n,reject:i}){this.taskQueue.push({handler:t,config:r,resolve:n,reject:i}),this.tick()}free(t){for(let r=0;r<this.workers.length;r++)if(t.threadId===this.workers[r].worker.threadId){this.workers[r].status=gH,this.workers[r].worker.removeAllListeners(),this.tick();break}}setup(t={}){return this.maxWorkers=t.maxWorkers>0?t.maxWorkers:zMe,this.maxWorkers>10&&console.warn(`Worker pool has more than 10 workers.
You should also increase the Max Listeners of Node.js (https://nodejs.org/docs/latest/api/events.html#events_emitter_setmaxlisteners_n)
Otherwise, limit them with start({maxWorkers: 10})`),new Promise((r,n)=>{let i=0,s=0;for(let a=0;a<this.maxWorkers;a++){let l=new jMe.Worker(VMe.workerFile,{eval:!0});this.workers.push({status:$Me,worker:l}),l.once("online",(c=>()=>{process.nextTick(()=>{this.workers[c].status=gH,this.workers[c].worker.removeAllListeners(),i++,i>0&&i+s===this.maxWorkers&&r()})})(a)),l.once("error",(c=>u=>{this.workers[c].status=AH,this.workers[c].worker.removeAllListeners(),s++,s===this.maxWorkers&&n(u)})(a))}})}async teardown(){if(fkt>=12&&dkt>=5){let t=[];for(let{worker:r}of this.workers)t.push(r.terminate());await Promise.all(t),this.workers=[]}else await new Promise(r=>{let n=0;for(let i=0;i<this.workers.length;i++)this.workers[i].worker.terminate(()=>{n++,n===this.workers.length&&(this.workers=[],r())})})}};jce.default=new Hce});var yH=H(wv=>{"use strict";d();var mkt=wv&&wv.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wv,"__esModule",{value:!0});var Xk=mkt(KMe()),hkt=`job needs a function.
Try with:
> job(() => {...}, config)`,pkt=`job needs an object as ctx.
Try with:
> job(() => {...}, {ctx: {...}})`;function gkt(e,t={ctx:{},data:{}}){return new Promise((r,n)=>{if(typeof e!="function")return n(new Error(hkt));if(t.ctx=t.ctx||{},t.data=t.data||{},typeof t.ctx!="object")return n(new Error(pkt));Xk.default.enqueue({handler:e,config:t,resolve:r,reject:n})})}o(gkt,"job");wv.job=gkt;wv.stop=Xk.default.teardown.bind(Xk.default);wv.start=Xk.default.setup.bind(Xk.default)});var mOe=H(_v=>{"use strict";d();var Mg=_v&&_v.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},t0e=_v&&_v.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},VA,DC;Object.defineProperty(_v,"__esModule",{value:!0});var r0e=class{static{o(this,"AwaitLock")}constructor(){VA.set(this,!1),DC.set(this,new Set)}get acquired(){return Mg(this,VA,"f")}acquireAsync({timeout:t}={}){if(!Mg(this,VA,"f"))return t0e(this,VA,!0,"f"),Promise.resolve();if(t==null)return new Promise(i=>{Mg(this,DC,"f").add(i)});let r,n;return Promise.race([new Promise(i=>{r=o(()=>{clearTimeout(n),i()},"resolver"),Mg(this,DC,"f").add(r)}),new Promise((i,s)=>{n=setTimeout(()=>{Mg(this,DC,"f").delete(r),s(new Error("Timed out waiting for lock"))},t)})])}tryAcquire(){return Mg(this,VA,"f")?!1:(t0e(this,VA,!0,"f"),!0)}release(){if(!Mg(this,VA,"f"))throw new Error("Cannot release an unacquired lock");if(Mg(this,DC,"f").size>0){let[t]=Mg(this,DC,"f");Mg(this,DC,"f").delete(t),t()}else t0e(this,VA,!1,"f")}};_v.default=r0e;VA=new WeakMap,DC=new WeakMap});var xWe=H((pNn,CWe)=>{d();var U9=1e3,q9=U9*60,W9=q9*60,Lv=W9*24,HNt=Lv*7,jNt=Lv*365.25;CWe.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return VNt(e);if(r==="number"&&isFinite(e))return t.long?zNt(e):$Nt(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function VNt(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*jNt;case"weeks":case"week":case"w":return r*HNt;case"days":case"day":case"d":return r*Lv;case"hours":case"hour":case"hrs":case"hr":case"h":return r*W9;case"minutes":case"minute":case"mins":case"min":case"m":return r*q9;case"seconds":case"second":case"secs":case"sec":case"s":return r*U9;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(VNt,"parse");function $Nt(e){var t=Math.abs(e);return t>=Lv?Math.round(e/Lv)+"d":t>=W9?Math.round(e/W9)+"h":t>=q9?Math.round(e/q9)+"m":t>=U9?Math.round(e/U9)+"s":e+"ms"}o($Nt,"fmtShort");function zNt(e){var t=Math.abs(e);return t>=Lv?Zj(e,t,Lv,"day"):t>=W9?Zj(e,t,W9,"hour"):t>=q9?Zj(e,t,q9,"minute"):t>=U9?Zj(e,t,U9,"second"):e+" ms"}o(zNt,"fmtLong");function Zj(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}o(Zj,"plural")});var Fue=H((yNn,vWe)=>{d();function YNt(e){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=a,r.humanize=xWe(),r.destroy=u,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function t(f){let m=0;for(let h=0;h<f.length;h++)m=(m<<5)-m+f.charCodeAt(h),m|=0;return r.colors[Math.abs(m)%r.colors.length]}o(t,"selectColor"),r.selectColor=t;function r(f){let m,h=null,p,A;function x(...v){if(!x.enabled)return;let E=x,b=Number(new Date),_=b-(m||b);E.diff=_,E.prev=m,E.curr=b,m=b,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let R=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(F,W)=>{if(F==="%%")return"%";R++;let se=r.formatters[W];if(typeof se=="function"){let de=v[R];F=se.call(E,de),v.splice(R,1),R--}return F}),r.formatArgs.call(E,v),(E.log||r.log).apply(E,v)}return o(x,"debug"),x.namespace=f,x.useColors=r.useColors(),x.color=r.selectColor(f),x.extend=n,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:o(()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,A=r.enabled(f)),A),"get"),set:o(v=>{h=v},"set")}),typeof r.init=="function"&&r.init(x),x}o(r,"createDebug");function n(f,m){let h=r(this.namespace+(typeof m>"u"?":":m)+f);return h.log=this.log,h}o(n,"extend");function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let m,h=(typeof f=="string"?f:"").split(/[\s,]+/),p=h.length;for(m=0;m<p;m++)h[m]&&(f=h[m].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}o(i,"enable");function s(){let f=[...r.names.map(l),...r.skips.map(l).map(m=>"-"+m)].join(",");return r.enable(""),f}o(s,"disable");function a(f){if(f[f.length-1]==="*")return!0;let m,h;for(m=0,h=r.skips.length;m<h;m++)if(r.skips[m].test(f))return!1;for(m=0,h=r.names.length;m<h;m++)if(r.names[m].test(f))return!0;return!1}o(a,"enabled");function l(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}o(l,"toNamespace");function c(f){return f instanceof Error?f.stack||f.message:f}o(c,"coerce");function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(u,"destroy"),r.enable(r.load()),r}o(YNt,"setup");vWe.exports=YNt});var bWe=H((Ff,Xj)=>{d();Ff.formatArgs=JNt;Ff.save=ZNt;Ff.load=XNt;Ff.useColors=KNt;Ff.storage=eLt();Ff.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ff.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function KNt(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(KNt,"useColors");function JNt(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Xj.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}o(JNt,"formatArgs");Ff.log=console.debug||console.log||(()=>{});function ZNt(e){try{e?Ff.storage.setItem("debug",e):Ff.storage.removeItem("debug")}catch{}}o(ZNt,"save");function XNt(){let e;try{e=Ff.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}o(XNt,"load");function eLt(){try{return localStorage}catch{}}o(eLt,"localstorage");Xj.exports=Fue()(Ff);var{formatters:tLt}=Xj.exports;tLt.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var IWe=H((ENn,EWe)=>{"use strict";d();EWe.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var _We=H((TNn,wWe)=>{"use strict";d();var rLt=require("os"),TWe=require("tty"),om=IWe(),{env:ql}=process,OC;om("no-color")||om("no-colors")||om("color=false")||om("color=never")?OC=0:(om("color")||om("colors")||om("color=true")||om("color=always"))&&(OC=1);"FORCE_COLOR"in ql&&(ql.FORCE_COLOR==="true"?OC=1:ql.FORCE_COLOR==="false"?OC=0:OC=ql.FORCE_COLOR.length===0?1:Math.min(parseInt(ql.FORCE_COLOR,10),3));function Nue(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}o(Nue,"translateLevel");function Lue(e,t){if(OC===0)return 0;if(om("color=16m")||om("color=full")||om("color=truecolor"))return 3;if(om("color=256"))return 2;if(e&&!t&&OC===void 0)return 0;let r=OC||0;if(ql.TERM==="dumb")return r;if(process.platform==="win32"){let n=rLt.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in ql)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in ql)||ql.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in ql)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ql.TEAMCITY_VERSION)?1:0;if(ql.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in ql){let n=parseInt((ql.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ql.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ql.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(ql.TERM)||"COLORTERM"in ql?1:r}o(Lue,"supportsColor");function nLt(e){let t=Lue(e,e&&e.isTTY);return Nue(t)}o(nLt,"getSupportLevel");wWe.exports={supportsColor:nLt,stdout:Nue(Lue(!0,TWe.isatty(1))),stderr:Nue(Lue(!0,TWe.isatty(2)))}});var kWe=H((pc,tV)=>{d();var iLt=require("tty"),eV=require("util");pc.init=fLt;pc.log=lLt;pc.formatArgs=sLt;pc.save=cLt;pc.load=uLt;pc.useColors=oLt;pc.destroy=eV.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");pc.colors=[6,2,3,4,5,1];try{let e=_We();e&&(e.stderr||e).level>=2&&(pc.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}pc.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function oLt(){return"colors"in pc.inspectOpts?!!pc.inspectOpts.colors:iLt.isatty(process.stderr.fd)}o(oLt,"useColors");function sLt(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${t} \x1B[0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(i+"m+"+tV.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=aLt()+t+" "+e[0]}o(sLt,"formatArgs");function aLt(){return pc.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(aLt,"getDate");function lLt(...e){return process.stderr.write(eV.format(...e)+`
`)}o(lLt,"log");function cLt(e){e?process.env.DEBUG=e:delete process.env.DEBUG}o(cLt,"save");function uLt(){return process.env.DEBUG}o(uLt,"load");function fLt(e){e.inspectOpts={};let t=Object.keys(pc.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=pc.inspectOpts[t[r]]}o(fLt,"init");tV.exports=Fue()(pc);var{formatters:SWe}=tV.exports;SWe.o=function(e){return this.inspectOpts.colors=this.useColors,eV.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};SWe.O=function(e){return this.inspectOpts.colors=this.useColors,eV.inspect(e,this.inspectOpts)}});var Qv=H((RNn,Que)=>{d();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Que.exports=bWe():Que.exports=kWe()});var Gue=H((FNn,PWe)=>{d();var TR=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,dLt=typeof AbortController=="function",rV=dLt?AbortController:class{static{o(this,"AbortController")}constructor(){this.signal=new RWe}abort(){this.signal.dispatchEvent("abort")}},mLt=typeof AbortSignal=="function",hLt=typeof rV.AbortSignal=="function",RWe=mLt?AbortSignal:hLt?rV.AbortController:class{static{o(this,"AbortSignal")}constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let r={type:t,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(t,r){t==="abort"&&this._listeners.push(r)}removeEventListener(t,r){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},que=new Set,Mue=o((e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;nV(r)&&Wue(r,`${e} option`,`options.${t}`,H9)},"deprecatedOption"),Oue=o((e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(nV(r)){let{prototype:n}=H9,{get:i}=Object.getOwnPropertyDescriptor(n,e);Wue(r,`${e} method`,`cache.${t}()`,i)}},"deprecatedMethod"),pLt=o((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(nV(r)){let{prototype:n}=H9,{get:i}=Object.getOwnPropertyDescriptor(n,e);Wue(r,`${e} property`,`cache.${t}`,i)}},"deprecatedProperty"),BWe=o((...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},"emitWarning"),nV=o(e=>!que.has(e),"shouldWarn"),Wue=o((e,t,r,n)=>{que.add(e);let i=`The ${t} is deprecated. Please use ${r} instead.`;BWe(i,"DeprecationWarning",e,n)},"warn"),Mv=o(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),"isPosInt"),DWe=o(e=>Mv(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?G9:null:null,"getUintArray"),G9=class extends Array{static{o(this,"ZeroArray")}constructor(t){super(t),this.fill(0)}},Uue=class{static{o(this,"Stack")}constructor(t){if(t===0)return[];let r=DWe(t);this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},H9=class e{static{o(this,"LRUCache")}constructor(t={}){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:a,updateAgeOnHas:l,allowStale:c,dispose:u,disposeAfter:f,noDisposeOnSet:m,noUpdateTTL:h,maxSize:p=0,sizeCalculation:A,fetchMethod:x,fetchContext:v,noDeleteOnFetchRejection:E,noDeleteOnStaleGet:b}=t,{length:_,maxAge:R,stale:P}=t instanceof e?{}:t;if(r!==0&&!Mv(r))throw new TypeError("max option must be a nonnegative integer");let F=r?DWe(r):Array;if(!F)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=p,this.sizeCalculation=A||_,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=x||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=v,!this.fetchMethod&&v!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new F(r),this.prev=new F(r),this.head=0,this.tail=0,this.free=new Uue(r),this.initialFill=1,this.size=0,typeof u=="function"&&(this.dispose=u),typeof f=="function"?(this.disposeAfter=f,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!m,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!E,this.maxSize!==0){if(!Mv(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!c||!!P,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!l,this.ttlResolution=Mv(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||R||0,this.ttl){if(!Mv(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let W="LRU_CACHE_UNBOUNDED";nV(W)&&(que.add(W),BWe("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",W,e))}P&&Mue("stale","allowStale"),R&&Mue("maxAge","ttl"),_&&Mue("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new G9(this.max),this.starts=new G9(this.max),this.setItemTTL=(n,i,s=TR.now())=>{if(this.starts[n]=i!==0?s:0,this.ttls[n]=i,i!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},i+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?TR.now():0};let t=0,r=o(()=>{let n=TR.now();if(this.ttlResolution>0){t=n;let i=setTimeout(()=>t=0,this.ttlResolution);i.unref&&i.unref()}return n},"getNow");this.getRemainingTTL=n=>{let i=this.keyMap.get(n);return i===void 0?0:this.ttls[i]===0||this.starts[i]===0?1/0:this.starts[i]+this.ttls[i]-(t||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||r())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,r,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new G9(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,r,n,i)=>{if(!Mv(n))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(n=i(r,t),!Mv(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,r)=>{this.sizes[t]=r;let n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,r){}requireSize(t,r,n,i){if(n||i)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(t,r=this){for(let n of this.indexes())t.call(r,this.valList[n],this.keyList[n],this)}rforEach(t,r=this){for(let n of this.rindexes())t.call(r,this.valList[n],this.keyList[n],this)}get prune(){return Oue("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),t=!0);return t}dump(){let t=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],i=this.valList[r],a={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){a.ttl=this.ttls[r];let l=TR.now()-this.starts[r];a.start=Math.floor(Date.now()-l)}this.sizes&&(a.size=this.sizes[r]),t.unshift([n,a])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let i=Date.now()-n.start;n.start=TR.now()-i}this.set(r,n.value,n)}}dispose(t,r,n){}set(t,r,{ttl:n=this.ttl,start:i,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL}={}){if(a=this.requireSize(t,r,a,l),this.maxSize&&a>this.maxSize)return this;let u=this.size===0?void 0:this.keyMap.get(t);if(u===void 0)u=this.newIndex(),this.keyList[u]=t,this.valList[u]=r,this.keyMap.set(t,u),this.next[this.tail]=u,this.prev[u]=this.tail,this.tail=u,this.size++,this.addItemSize(u,a),c=!1;else{let f=this.valList[u];r!==f&&(this.isBackgroundFetch(f)?f.__abortController.abort():s||(this.dispose(f,t,"set"),this.disposeAfter&&this.disposed.push([f,t,"set"])),this.removeItemSize(u),this.valList[u]=r,this.addItemSize(u,a)),this.moveToTail(u)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),c||this.setItemTTL(u,n,i),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let r=this.head,n=this.keyList[r],i=this.valList[r];return this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,n,"evict"),this.disposeAfter&&this.disposed.push([i,n,"evict"])),this.removeItemSize(r),t&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(t,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(t);if(n!==void 0&&(r||!this.isStale(n))){let i=this.valList[n];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(t,r,n,i){let s=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(s))return s;let a=new rV,l={signal:a.signal,options:n,context:i},c=o(h=>(a.signal.aborted||this.set(t,h,l.options),h),"cb"),u=o(h=>{if(this.valList[r]===m&&(!n.noDeleteOnFetchRejection||m.__staleWhileFetching===void 0?this.delete(t):this.valList[r]=m.__staleWhileFetching),m.__returned===m)throw h},"eb"),f=o(h=>h(this.fetchMethod(t,s,l)),"pcall"),m=new Promise(f).then(c,u);return m.__abortController=a,m.__staleWhileFetching=s,m.__returned=null,r===void 0?(this.set(t,m,l.options),r=this.keyMap.get(t)):this.valList[r]=m,m}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,fetchContext:m=this.fetchContext,forceRefresh:h=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i});let p={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:s,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:f},A=this.keyMap.get(t);if(A===void 0){let x=this.backgroundFetch(t,A,p,m);return x.__returned=x}else{let x=this.valList[A];if(this.isBackgroundFetch(x))return r&&x.__staleWhileFetching!==void 0?x.__staleWhileFetching:x.__returned=x;if(!h&&!this.isStale(A))return this.moveToTail(A),n&&this.updateItemAge(A),x;let v=this.backgroundFetch(t,A,p,m);return r&&v.__staleWhileFetching!==void 0?v.__staleWhileFetching:v.__returned=v}}get(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet}={}){let s=this.keyMap.get(t);if(s!==void 0){let a=this.valList[s],l=this.isBackgroundFetch(a);return this.isStale(s)?l?r?a.__staleWhileFetching:void 0:(i||this.delete(t),r?a:void 0):l?void 0:(this.moveToTail(s),n&&this.updateItemAge(s),a)}}connect(t,r){this.prev[r]=t,this.next[t]=r}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return Oue("del","delete"),this.delete}delete(t){let r=!1;if(this.size!==0){let n=this.keyMap.get(t);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let i=this.valList[n];this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,t,"delete"),this.disposeAfter&&this.disposed.push([i,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let t of this.rindexes({allowStale:!0})){let r=this.valList[t];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[t];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return Oue("reset","clear"),this.clear}get length(){return pLt("length","size"),this.size}static get AbortController(){return rV}static get AbortSignal(){return RWe}};PWe.exports=H9});var Vue=H((QNn,FWe)=>{"use strict";d();var wR=class extends Error{static{o(this,"FetchBaseError")}constructor(t,r,n){super(t),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}},Hue=class extends wR{static{o(this,"FetchError")}constructor(t,r,n){super(t,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}},jue=class extends wR{static{o(this,"AbortError")}constructor(t,r="aborted"){super(t,r,"AbortError")}};FWe.exports={FetchBaseError:wR,FetchError:Hue,AbortError:jue}});var XA=H((UNn,LWe)=>{"use strict";d();var{constants:{MAX_LENGTH:gLt}}=require("buffer"),{pipeline:iV,PassThrough:ALt}=require("stream"),{promisify:yLt}=require("util"),{createGunzip:CLt,createInflate:xLt,createBrotliDecompress:vLt,constants:{Z_SYNC_FLUSH:NWe}}=require("zlib"),bLt=Qv()("helix-fetch:utils"),ELt=yLt(iV),ILt=o((e,t)=>e===204||e===304||+t["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(t["content-encoding"]),"canDecode"),TLt=o((e,t,r,n)=>{if(!ILt(e,t))return r;let i=o(s=>{s&&(bLt(`encountered error while decoding stream: ${s}`),n(s))},"cb");switch(t["content-encoding"].trim()){case"gzip":case"x-gzip":return iV(r,CLt({flush:NWe,finishFlush:NWe}),i);case"deflate":case"x-deflate":return iV(r,xLt(),i);case"br":return iV(r,vLt(),i);default:return r}},"decodeStream"),wLt=o(e=>{if(!e||typeof e!="object"||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},"isPlainObject"),oV=o((e,t)=>{if(Buffer.isBuffer(e))return e.length;switch(typeof e){case"string":return e.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(e)?Symbol.keyFor(e).length*2:(e.toString().length-8)*2;case"object":return Array.isArray(e)?_Lt(e,t):SLt(e,t);default:return 0}},"calcSize"),_Lt=o((e,t)=>(t.add(e),e.map(r=>t.has(r)?0:oV(r,t)).reduce((r,n)=>r+n,0)),"calcArraySize"),SLt=o((e,t)=>{if(e==null)return 0;t.add(e);let r=0,n=[];for(let i in e)n.push(i);return n.push(...Object.getOwnPropertySymbols(e)),n.forEach(i=>{if(r+=oV(i,t),typeof e[i]=="object"&&e[i]!==null){if(t.has(e[i]))return;t.add(e[i])}r+=oV(e[i],t)}),r},"calcObjectSize"),kLt=o(e=>oV(e,new WeakSet),"sizeof"),RLt=o(async e=>{let t=new ALt,r=0,n=[];return t.on("data",i=>{if(r+i.length>gLt)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(i),r+=i.length}),await ELt(e,t),Buffer.concat(n,r)},"streamToBuffer");LWe.exports={decodeStream:TLt,isPlainObject:wLt,sizeof:kLt,streamToBuffer:RLt}});var aV=H((GNn,UWe)=>{"use strict";d();var{PassThrough:QWe,Readable:e2}=require("stream"),{types:{isAnyArrayBuffer:OWe}}=require("util"),{FetchError:BLt,FetchBaseError:DLt}=Vue(),{streamToBuffer:PLt}=XA(),FLt=Buffer.alloc(0),sm=Symbol("Body internals"),NLt=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),MWe=o(async e=>{if(e[sm].disturbed)throw new TypeError("Already read");if(e[sm].error)throw new TypeError(`Stream had error: ${e[sm].error.message}`);e[sm].disturbed=!0;let{stream:t}=e[sm];return t===null?FLt:PLt(t)},"consume"),sV=class{static{o(this,"Body")}constructor(t){let r;t==null?r=null:t instanceof URLSearchParams?r=e2.from(t.toString()):t instanceof e2?r=t:Buffer.isBuffer(t)?r=e2.from(t):OWe(t)?r=e2.from(Buffer.from(t)):typeof t=="string"||t instanceof String?r=e2.from(t):r=e2.from(String(t)),this[sm]={stream:r,disturbed:!1,error:null},t instanceof e2&&r.on("error",n=>{let i=n instanceof DLt?n:new BLt(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[sm].error=i})}get body(){return this[sm].stream}get bodyUsed(){return this[sm].disturbed}async buffer(){return MWe(this)}async arrayBuffer(){return NLt(await this.buffer())}async text(){return(await MWe(this)).toString()}async json(){return JSON.parse(await this.text())}};Object.defineProperties(sV.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var LLt=o(e=>{if(e[sm].disturbed)throw new TypeError("Cannot clone: already read");let{stream:t}=e[sm],r=t;if(t instanceof e2){r=new QWe;let n=new QWe;t.pipe(r),t.pipe(n),e[sm].stream=n}return r},"cloneStream"),QLt=o(e=>e===null?null:typeof e=="string"?"text/plain; charset=utf-8":e instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(e)||OWe(e)||e instanceof e2?null:"text/plain; charset=utf-8","guessContentType");UWe.exports={Body:sV,cloneStream:LLt,guessContentType:QLt}});var j9=H((VNn,HWe)=>{"use strict";d();var{validateHeaderName:qWe,validateHeaderValue:WWe}=require("http"),{isPlainObject:MLt}=XA(),t2=Symbol("Headers internals"),_R=o(e=>{let t=typeof e!="string"?String(e):e;if(typeof qWe=="function")qWe(t);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return t.toLowerCase()},"normalizeName"),GWe=o((e,t)=>{let r=typeof e!="string"?String(e):e;if(typeof WWe=="function")WWe(t,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),lV=class e{static{o(this,"Headers")}constructor(t={}){if(this[t2]={map:new Map},t instanceof e)t.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(t))t.forEach(([r,n])=>{this.append(r,n)});else if(MLt(t))for(let[r,n]of Object.entries(t))this.append(r,n)}set(t,r){this[t2].map.set(_R(t),GWe(r,t))}has(t){return this[t2].map.has(_R(t))}get(t){let r=this[t2].map.get(_R(t));return r===void 0?null:r}append(t,r){let n=_R(t),i=GWe(r,t),s=this[t2].map.get(n);this[t2].map.set(n,s?`${s}, ${i}`:i)}delete(t){this[t2].map.delete(_R(t))}forEach(t,r){for(let n of this.keys())t.call(r,this.get(n),n)}keys(){return Array.from(this[t2].map.keys()).sort()}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[t2].map)}};Object.defineProperties(lV.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));HWe.exports={Headers:lV}});var $ue=H((YNn,jWe)=>{"use strict";d();var{EventEmitter:OLt}=require("events"),Uh=Symbol("AbortSignal internals"),V9=class{static{o(this,"AbortSignal")}constructor(){this[Uh]={eventEmitter:new OLt,onabort:null,aborted:!1}}get aborted(){return this[Uh].aborted}get onabort(){return this[Uh].onabort}set onabort(t){this[Uh].onabort=t}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(t,r){this[Uh].eventEmitter.removeListener(t,r)}addEventListener(t,r){this[Uh].eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},n=`on${t}`;typeof this[Uh][n]=="function"&&this[n](r),this[Uh].eventEmitter.emit(t,r)}fire(){this[Uh].aborted=!0,this.dispatchEvent("abort")}};Object.defineProperties(V9.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var uV=class extends V9{static{o(this,"TimeoutSignal")}constructor(t){if(!Number.isInteger(t))throw new TypeError(`Expected an integer, got ${typeof t}`);super(),this[Uh].timerId=setTimeout(()=>{this.fire()},t)}clear(){clearTimeout(this[Uh].timerId)}};Object.defineProperties(uV.prototype,{clear:{enumerable:!0}});var cV=Symbol("AbortController internals"),fV=class{static{o(this,"AbortController")}constructor(){this[cV]={signal:new V9}}get signal(){return this[cV].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[cV].signal.aborted||this[cV].signal.fire()}};Object.defineProperties(fV.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});jWe.exports={AbortController:fV,AbortSignal:V9,TimeoutSignal:uV}});var SR=H((ZNn,zWe)=>{"use strict";d();var{randomBytes:ULt}=require("crypto"),{Readable:qLt}=require("stream"),Yue=o(e=>typeof e=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&typeof e.type=="string"&&typeof e.size=="number"&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),"isBlob"),WLt=o(e=>e!=null&&typeof e=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&e[Symbol.toStringTag]==="FormData","isFormData"),VWe=o(e=>`--${e}--\r
\r
`,"getFooter"),$We=o((e,t,r)=>{let n="";return n+=`--${e}\r
`,n+=`Content-Disposition: form-data; name="${t}"`,Yue(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*GLt(e,t){for(let[r,n]of e)yield $We(t,r,n),Yue(n)?yield*n.stream():yield n,yield`\r
`;yield VWe(t)}o(GLt,"formDataIterator");var HLt=o((e,t)=>{let r=0;for(let[n,i]of e)r+=Buffer.byteLength($We(t,n,i)),r+=Yue(i)?i.size:Buffer.byteLength(String(i)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(VWe(t)),r},"getFormDataLength"),zue=class{static{o(this,"FormDataSerializer")}constructor(t){this.fd=t,this.boundary=ULt(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=HLt(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return qLt.from(GLt(this.fd,this.boundary))}};zWe.exports={isFormData:WLt,FormDataSerializer:zue}});var KWe=H((tLn,YWe)=>{"use strict";d();var{AbortSignal:jLt}=$ue(),{Body:VLt,cloneStream:$Lt,guessContentType:zLt}=aV(),{Headers:YLt}=j9(),{isPlainObject:KLt}=XA(),{isFormData:JLt,FormDataSerializer:ZLt}=SR(),XLt=20,UC=Symbol("Request internals"),dV=class e extends VLt{static{o(this,"Request")}constructor(t,r={}){let n=t instanceof e?t:null,i=n?new URL(n.url):new URL(t),s=r.method||n&&n.method||"GET";if(s=s.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(s))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body||(n&&n.body?$Lt(n):null),l=new YLt(r.headers||n&&n.headers||{});if(JLt(a)&&!l.has("content-type")){let m=new ZLt(a);a=m.stream(),l.set("content-type",m.contentType()),!l.has("transfer-encoding")&&!l.has("content-length")&&l.set("content-length",m.length())}if(!l.has("content-type"))if(KLt(a))a=JSON.stringify(a),l.set("content-type","application/json");else{let m=zLt(a);m&&l.set("content-type",m)}super(a);let c=n?n.signal:null;if("signal"in r&&(c=r.signal),c&&!(c instanceof jLt))throw new TypeError("signal needs to be an instance of AbortSignal");let u=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(u))throw new TypeError(`'${u}' is not a valid redirect option`);let f=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(f))throw new TypeError(`'${f}' is not a valid cache option`);this[UC]={init:{...r},method:s,redirect:u,cache:f,headers:l,parsedURL:i,signal:c},r.follow===void 0?!n||n.follow===void 0?this.follow=XLt:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[UC].method}get url(){return this[UC].parsedURL.toString()}get headers(){return this[UC].headers}get redirect(){return this[UC].redirect}get cache(){return this[UC].cache}get signal(){return this[UC].signal}clone(){return new e(this)}get init(){return this[UC].init}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(dV.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});YWe.exports={Request:dV}});var Kue=H((iLn,JWe)=>{"use strict";d();var{Body:eQt,cloneStream:tQt,guessContentType:rQt}=aV(),{Headers:nQt}=j9(),{isPlainObject:iQt}=XA(),{isFormData:oQt,FormDataSerializer:sQt}=SR(),qh=Symbol("Response internals"),mV=class e extends eQt{static{o(this,"Response")}constructor(t=null,r={}){let n=new nQt(r.headers),i=t;if(oQt(i)&&!n.has("content-type")){let s=new sQt(i);i=s.stream(),n.set("content-type",s.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",s.length())}if(i!==null&&!n.has("content-type"))if(iQt(i))i=JSON.stringify(i),n.set("content-type","application/json");else{let s=rQt(i);s&&n.set("content-type",s)}super(i),this[qh]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[qh].url||""}get status(){return this[qh].status}get statusText(){return this[qh].statusText}get ok(){return this[qh].status>=200&&this[qh].status<300}get redirected(){return this[qh].counter>0}get headers(){return this[qh].headers}get httpVersion(){return this[qh].httpVersion}get decoded(){return this[qh].decoded}static redirect(t,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new e(null,{headers:{location:new URL(t).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new e(tQt(this),{...this[qh]})}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(mV.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});JWe.exports={Response:mV}});var XWe=H((lLn,ZWe)=>{"use strict";d();var aQt=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),lQt=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),cQt=new Set([500,502,503,504]),uQt={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},fQt={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function Ov(e){let t=parseInt(e,10);return isFinite(t)?t:0}o(Ov,"toNumberOrZero");function dQt(e){return e?cQt.has(e.status):!0}o(dQt,"isErrorResponse");function Jue(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[i,s]=n.split(/=/,2);t[i.trim()]=s===void 0?!0:s.trim().replace(/^"|"$/g,"")}return t}o(Jue,"parseCacheControl");function mQt(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}o(mQt,"formatCacheControl");ZWe.exports=class{static{o(this,"CachePolicy")}constructor(t,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:s,ignoreCargoCult:a,_fromObject:l}={}){if(l){this._fromObject(l);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=s!==void 0?s:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=Jue(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=Jue(t.headers["cache-control"]),a&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":mQt(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&lQt.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||aQt.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=Jue(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)uQt[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return Ov(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return Ov(this._rescc["s-maxage"])}if(this._rescc["max-age"])return Ov(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+Ov(this._rescc["stale-if-error"]),n=t+Ov(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+Ov(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+Ov(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(s=>!/^\s*W\//.test(s));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&dQt(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let i={};for(let a in this._resHeaders)i[a]=a in r.headers&&!fQt[a]?r.headers[a]:this._resHeaders[a];let s=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(t,s,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var nGe=H((fLn,rGe)=>{"use strict";d();var hQt=XWe(),{Headers:pQt}=j9(),eGe=o(e=>({url:e.url,method:e.method,headers:e.headers.plain()}),"convertRequest"),tGe=o(e=>({status:e.status,headers:e.headers.plain()}),"convertResponse"),Zue=class{static{o(this,"CachePolicyWrapper")}constructor(t,r,n){this.policy=new hQt(eGe(t),tGe(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(t){return this.policy.satisfiesWithoutRevalidation(eGe(t))}responseHeaders(t){return new pQt(this.policy.responseHeaders(tGe(t)))}timeToLive(){return this.policy.timeToLive()}};rGe.exports=Zue});var sGe=H((hLn,oGe)=>{"use strict";d();var{Readable:gQt}=require("stream"),{Headers:iGe}=j9(),{Response:AQt}=Kue(),qC=Symbol("CacheableResponse internals"),yQt=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),Xue=class e extends AQt{static{o(this,"CacheableResponse")}constructor(t,r){super(t,r);let n=new iGe(r.headers);this[qC]={headers:n,bufferedBody:t}}get headers(){return this[qC].headers}set headers(t){if(t instanceof iGe)this[qC].headers=t;else throw new TypeError("instance of Headers expected")}get body(){return gQt.from(this[qC].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[qC].bufferedBody}async arrayBuffer(){return yQt(this[qC].bufferedBody)}async text(){return this[qC].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:t,status:r,statusText:n,headers:i,httpVersion:s,decoded:a,counter:l}=this;return new e(this[qC].bufferedBody,{url:t,status:r,statusText:n,headers:i,httpVersion:s,decoded:a,counter:l})}get[Symbol.toStringTag](){return this.constructor.name}},CQt=o(async e=>{let t=await e.buffer(),{url:r,status:n,statusText:i,headers:s,httpVersion:a,decoded:l,counter:c}=e;return new Xue(t,{url:r,status:n,statusText:i,headers:s,httpVersion:a,decoded:l,counter:c})},"cacheableResponse");oGe.exports={cacheableResponse:CQt}});var hV=H((ALn,aGe)=>{"use strict";d();var efe=class extends Error{static{o(this,"RequestAbortedError")}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};aGe.exports={RequestAbortedError:efe}});var dGe=H((xLn,fGe)=>{"use strict";d();var cGe=require("http"),uGe=require("https"),{Readable:xQt}=require("stream"),r2=Qv()("helix-fetch:h1"),{RequestAbortedError:lGe}=hV(),{decodeStream:vQt}=XA(),bQt=o((e,t)=>{let{h1:r,options:{h1:n,rejectUnauthorized:i}}=e;return t==="https:"?r.httpsAgent?r.httpsAgent:n||typeof i=="boolean"?(r.httpsAgent=new uGe.Agent(typeof i=="boolean"?{...n||{},rejectUnauthorized:i}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new cGe.Agent(n),r.httpAgent):void 0},"getAgent"),EQt=o(e=>{e.h1={}},"setupContext"),IQt=o(async({h1:e})=>{e.httpAgent&&(r2("resetContext: destroying httpAgent"),e.httpAgent.destroy(),delete e.httpAgent),e.httpsAgent&&(r2("resetContext: destroying httpsAgent"),e.httpsAgent.destroy(),delete e.httpsAgent)},"resetContext"),TQt=o((e,t,r)=>{let{statusCode:n,statusMessage:i,httpVersion:s,httpVersionMajor:a,httpVersionMinor:l,headers:c}=e,u=t?vQt(n,c,e,r):e;return{statusCode:n,statusText:i,httpVersion:s,httpVersionMajor:a,httpVersionMinor:l,headers:c,readable:u,decoded:!!(t&&u!==e)}},"createResponse"),wQt=o(async(e,t,r)=>{let{request:n}=t.protocol==="https:"?uGe:cGe,i=bQt(e,t.protocol),s={...r,agent:i},{socket:a,body:l}=s;return a&&(delete s.socket,a.assigned||(a.assigned=!0,i?s.agent=new Proxy(i,{get:o((c,u)=>u==="createConnection"&&!a.inUse?(f,m)=>{r2(`agent reusing socket #${a.id} (${a.servername})`),a.inUse=!0,m(null,a)}:c[u],"get")}):s.createConnection=(c,u)=>{r2(`reusing socket #${a.id} (${a.servername})`),a.inUse=!0,u(null,a)})),new Promise((c,u)=>{r2(`${s.method} ${t.href}`);let f,{signal:m}=s,h=o(()=>{m.removeEventListener("abort",h),a&&!a.inUse&&(r2(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),u(new lGe),f&&f.abort()},"onAbortSignal");if(m){if(m.aborted){u(new lGe);return}m.addEventListener("abort",h)}f=n(t,s),f.once("response",p=>{m&&m.removeEventListener("abort",h),a&&!a.inUse&&(r2(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),c(TQt(p,s.decode,u))}),f.once("error",p=>{m&&m.removeEventListener("abort",h),a&&!a.inUse&&(r2(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),f.aborted||(r2(`${s.method} ${t.href} failed with: ${p.message}`),f.abort(),u(p))}),l instanceof xQt?l.pipe(f):(l&&f.write(l),f.end())})},"h1Request");fGe.exports={request:wQt,setupContext:EQt,resetContext:IQt}});var gGe=H((ELn,pGe)=>{"use strict";d();var{connect:_Qt,constants:SQt}=require("http2"),{Readable:kQt}=require("stream"),bs=Qv()("helix-fetch:h2"),{RequestAbortedError:mGe}=hV(),{decodeStream:RQt}=XA(),{NGHTTP2_CANCEL:kR}=SQt,BQt=5*60*1e3,DQt=5e3,PQt=o(e=>{e.h2={sessionCache:{}}},"setupContext"),FQt=o(async({h2:e})=>Promise.all(Object.values(e.sessionCache).map(t=>new Promise(r=>{t.on("close",r),bs(`resetContext: destroying session (socket #${t.socket&&t.socket.id}, ${t.socket&&t.socket.servername})`),t.destroy()}))),"resetContext"),hGe=o((e,t,r,n=()=>{})=>{let i={...e},s=i[":status"];delete i[":status"];let a=r?RQt(s,e,t,n):t;return{statusCode:s,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:i,readable:a,decoded:!!(r&&a!==t)}},"createResponse"),NQt=o((e,t,r,n,i,s)=>{let{options:{h2:{pushPromiseHandler:a,pushHandler:l,pushedStreamIdleTimeout:c=DQt}}}=e,u=i[":path"],f=`${t}${u}`;bs(`received PUSH_PROMISE: ${f}, stream #${n.id}, headers: ${JSON.stringify(i)}, flags: ${s}`),a&&a(f,i,o(()=>{n.close(kR)},"rejectPush")),n.on("push",(m,h)=>{bs(`received push headers for ${t}${u}, stream #${n.id}, headers: ${JSON.stringify(m)}, flags: ${h}`),n.setTimeout(c,()=>{bs(`closing pushed stream #${n.id} after ${c} ms of inactivity`),n.close(kR)}),l&&l(f,i,hGe(m,n,r))}),n.on("aborted",()=>{bs(`pushed stream #${n.id} aborted`)}),n.on("error",m=>{bs(`pushed stream #${n.id} encountered error: ${m}`)}),n.on("frameError",(m,h,p)=>{bs(`pushed stream #${n.id} encountered frameError: type: ${m}, code: ${h}, id: ${p}`)})},"handlePush"),LQt=o(async(e,t,r)=>{let{origin:n,pathname:i,search:s,hash:a}=t,l=`${i}${s}${a}`,{options:{h2:c={}},h2:{sessionCache:u}}=e,{idleSessionTimeout:f=BQt,pushPromiseHandler:m,pushHandler:h}=c,p={...r},{method:A,headers:x,socket:v,body:E,decode:b}=p;return v&&delete p.socket,x.host&&(x[":authority"]=x.host,delete x.host),new Promise((_,R)=>{let P=u[n];if(!P||P.closed||P.destroyed){let re=!(e.options.rejectUnauthorized===!1||c.rejectUnauthorized===!1),G={...c,rejectUnauthorized:re};v&&!v.inUse&&(G.createConnection=()=>(bs(`reusing socket #${v.id} (${v.servername})`),v.inUse=!0,v)),P=_Qt(n,{...G,settings:{enablePush:!!(m||h)}}),P.setMaxListeners(1e3),P.setTimeout(f,()=>{bs(`closing session ${n} after ${f} ms of inactivity`),P.close()}),P.once("connect",()=>{bs(`session ${n} established`),bs(`caching session ${n}`),u[n]=P}),P.on("localSettings",ne=>{bs(`session ${n} localSettings: ${JSON.stringify(ne)}`)}),P.on("remoteSettings",ne=>{bs(`session ${n} remoteSettings: ${JSON.stringify(ne)}`)}),P.once("close",()=>{bs(`session ${n} closed`),u[n]===P&&(bs(`discarding cached session ${n}`),delete u[n])}),P.once("error",ne=>{bs(`session ${n} encountered error: ${ne}`),u[n]===P&&(bs(`discarding cached session ${n}`),delete u[n])}),P.on("frameError",(ne,J,j)=>{bs(`session ${n} encountered frameError: type: ${ne}, code: ${J}, id: ${j}`)}),P.once("goaway",(ne,J,j)=>{bs(`session ${n} received GOAWAY frame: errorCode: ${ne}, lastStreamID: ${J}, opaqueData: ${j?j.toString():void 0}`)}),P.on("stream",(ne,J,j)=>{NQt(e,n,b,ne,J,j)})}else v&&v.id!==P.socket.id&&!v.inUse&&(bs(`discarding redundant socket used for ALPN: #${v.id} ${v.servername}`),v.destroy());bs(`${A} ${t.host}${l}`);let F,{signal:W}=p,se=o(()=>{W.removeEventListener("abort",se),R(new mGe),F&&F.close(kR)},"onAbortSignal");if(W){if(W.aborted){R(new mGe);return}W.addEventListener("abort",se)}let de=o(re=>{bs(`session ${n} encountered error during ${p.method} ${t.href}: ${re}`),R(re)},"onSessionError");P.once("error",de),F=P.request({":method":A,":path":l,...x}),F.once("response",re=>{P.off("error",de),W&&W.removeEventListener("abort",se),_(hGe(re,F,p.decode,R))}),F.once("error",re=>{P.off("error",de),W&&W.removeEventListener("abort",se),F.rstCode!==kR&&(bs(`${p.method} ${t.href} failed with: ${re.message}`),F.close(kR),R(re))}),F.once("frameError",(re,G,U)=>{P.off("error",de),bs(`encountered frameError during ${p.method} ${t.href}: type: ${re}, code: ${G}, id: ${U}`)}),F.on("push",(re,G)=>{bs(`received 'push' event: headers: ${JSON.stringify(re)}, flags: ${G}`)}),E instanceof kQt?E.pipe(F):(E&&F.write(E),F.end())})},"request");pGe.exports={request:LQt,setupContext:PQt,resetContext:FQt}});var yGe=H((wLn,AGe)=>{"use strict";d();var{EventEmitter:QQt}=require("events"),MQt=o(()=>{let e={},t=new QQt;return t.setMaxListeners(0),{acquire:o(r=>new Promise(n=>{if(!e[r]){e[r]=!0,n();return}let i=o(s=>{e[r]||(e[r]=!0,t.removeListener(r,i),n(s))},"tryAcquire");t.on(r,i)}),"acquire"),release:o((r,n)=>{Reflect.deleteProperty(e,r),setImmediate(()=>t.emit(r,n))},"release")}},"lock");AGe.exports=MQt});var CGe=H((kLn,OQt)=>{OQt.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var IGe=H((RLn,EGe)=>{"use strict";d();var{Readable:UQt}=require("stream"),qQt=require("tls"),{types:{isAnyArrayBuffer:WQt}}=require("util"),GQt=Gue(),tfe=Qv()("helix-fetch:core"),{RequestAbortedError:pV}=hV(),rfe=dGe(),gV=gGe(),HQt=yGe(),{isPlainObject:jQt}=XA(),{isFormData:VQt,FormDataSerializer:$Qt}=SR(),{version:zQt}=CGe(),nfe="h2",ife="h2c",ofe="http/1.0",Uv="http/1.1",YQt=100,KQt=60*60*1e3,JQt=[nfe,Uv,ofe],ZQt=`helix-fetch/${zQt}`,XQt={method:"GET",compress:!0,decode:!0},xGe=0,vGe=HQt(),bGe=o((e,t)=>new Promise((r,n)=>{let{signal:i}=t,s,a=o(()=>{i.removeEventListener("abort",a);let u=new pV;n(u),s&&s.destroy(u)},"onAbortSignal");if(i){if(i.aborted){n(new pV);return}i.addEventListener("abort",a)}let l=+e.port||443,c=o(u=>{i&&i.removeEventListener("abort",a),u instanceof pV||(tfe(`connecting to ${e.hostname}:${l} failed with: ${u.message}`),n(u))},"onError");s=qQt.connect(l,e.hostname,t),s.once("secureConnect",()=>{i&&i.removeEventListener("abort",a),s.off("error",c),xGe+=1,s.id=xGe,s.secureConnecting=!1,tfe(`established TLS connection: #${s.id} (${s.servername})`),r(s)}),s.once("error",c)}),"connectTLS"),eMt=o(async(e,t)=>{let r=await vGe.acquire(e.origin);try{return r||(r=await bGe(e,t)),r}finally{vGe.release(e.origin,r)}},"connect"),tMt=o(async(e,t,r)=>{let n=`${t.protocol}//${t.host}`,i=e.alpnCache.get(n);if(i)return{protocol:i};switch(t.protocol){case"http:":return i=Uv,e.alpnCache.set(n,i),{protocol:i};case"http2:":return i=ife,e.alpnCache.set(n,i),{protocol:i};case"https:":break;default:throw new TypeError(`unsupported protocol: ${t.protocol}`)}let{options:{rejectUnauthorized:s,h1:a={},h2:l={}}}=e,c=!(s===!1||a.rejectUnauthorized===!1||l.rejectUnauthorized===!1),u={servername:t.hostname,ALPNProtocols:e.alpnProtocols,signal:r,rejectUnauthorized:c};e.options.ca&&(u.ca=e.options.ca);let f=await eMt(t,u);return i=f.alpnProtocol,i||(i=Uv),e.alpnCache.set(n,i),{protocol:i,socket:f}},"determineProtocol"),rMt=o(e=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},"sanitizeHeaders"),nMt=o(async(e,t,r,n)=>{let i=t.protocol==="https:",s;t.port?s=t.port:i?s=443:s=80;let a={...r,host:t.host,hostname:t.hostname,port:s},l=await e(a);if(i){let u={...a,ALPNProtocols:n};u.socket=l,u.servername=a.host;let f=await bGe(t,u);return{protocol:f.alpnProtocol||Uv,socket:f}}return{protocol:l.alpnProtocol||Uv,socket:l}},"getProtocolAndSocketFromFactory"),iMt=o(async(e,t,r)=>{let n=new URL(t),i={...XQt,...r||{}};typeof i.method=="string"&&(i.method=i.method.toUpperCase()),i.headers=rMt(i.headers||{}),i.headers.host===void 0&&(i.headers.host=n.host),e.userAgent&&i.headers["user-agent"]===void 0&&(i.headers["user-agent"]=e.userAgent);let s;if(i.body instanceof URLSearchParams)s="application/x-www-form-urlencoded; charset=utf-8",i.body=i.body.toString();else if(VQt(i.body)){let u=new $Qt(i.body);s=u.contentType(),i.body=u.stream(),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(u.length()))}else typeof i.body=="string"||i.body instanceof String?s="text/plain; charset=utf-8":jQt(i.body)?(i.body=JSON.stringify(i.body),s="application/json"):WQt(i.body)&&(i.body=Buffer.from(i.body));i.headers["content-type"]===void 0&&s!==void 0&&(i.headers["content-type"]=s),i.body!=null&&(i.body instanceof UQt||(!(typeof i.body=="string"||i.body instanceof String)&&!Buffer.isBuffer(i.body)&&(i.body=String(i.body)),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(Buffer.isBuffer(i.body)?i.body.length:Buffer.byteLength(i.body,"utf-8"))))),i.headers.accept===void 0&&(i.headers.accept="*/*"),i.body==null&&["POST","PUT"].includes(i.method)&&(i.headers["content-length"]="0"),i.compress&&i.headers["accept-encoding"]===void 0&&(i.headers["accept-encoding"]="gzip,deflate,br");let{signal:a}=i,{protocol:l,socket:c=null}=e.socketFactory?await nMt(e.socketFactory,n,i,e.alpnProtocols):await tMt(e,n,a);switch(tfe(`${n.host} -> ${l}`),l){case nfe:try{return await gV.request(e,n,c?{...i,socket:c}:i)}catch(u){let{code:f,message:m}=u;throw f==="ERR_HTTP2_ERROR"&&m==="Protocol error"&&e.alpnCache.delete(`${n.protocol}//${n.host}`),u}case ife:return gV.request(e,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),c?{...i,socket:c}:i);case ofe:case Uv:return rfe.request(e,n,c?{...i,socket:c}:i);default:throw new TypeError(`unsupported protocol: ${l}`)}},"request"),oMt=o(async e=>(e.alpnCache.clear(),Promise.all([rfe.resetContext(e),gV.resetContext(e)])),"resetContext"),sMt=o(e=>{let{options:{alpnProtocols:t=JQt,alpnCacheTTL:r=KQt,alpnCacheSize:n=YQt,userAgent:i=ZQt,socketFactory:s}}=e;e.alpnProtocols=t,e.alpnCache=new GQt({max:n,ttl:r}),e.userAgent=i,e.socketFactory=s,rfe.setupContext(e),gV.setupContext(e)},"setupContext");EGe.exports={request:iMt,setupContext:sMt,resetContext:oMt,RequestAbortedError:pV,ALPN_HTTP2:nfe,ALPN_HTTP2C:ife,ALPN_HTTP1_1:Uv,ALPN_HTTP1_0:ofe}});var wGe=H((PLn,TGe)=>{"use strict";d();var aMt=Qv()("helix-fetch:core"),{request:lMt,setupContext:cMt,resetContext:uMt,RequestAbortedError:fMt,ALPN_HTTP2:dMt,ALPN_HTTP2C:mMt,ALPN_HTTP1_1:hMt,ALPN_HTTP1_0:pMt}=IGe(),sfe=class e{static{o(this,"RequestContext")}constructor(t){this.options={...t||{}},cMt(this)}api(){return{request:o(async(t,r)=>this.request(t,r),"request"),context:o((t={})=>new e(t).api(),"context"),setCA:o(t=>this.setCA(t),"setCA"),reset:o(async()=>this.reset(),"reset"),RequestAbortedError:fMt,ALPN_HTTP2:dMt,ALPN_HTTP2C:mMt,ALPN_HTTP1_1:hMt,ALPN_HTTP1_0:pMt}}async request(t,r){return lMt(this,t,r)}setCA(t){this.options.ca=t}async reset(){return aMt("resetting context"),uMt(this)}};TGe.exports=new sfe().api()});var BGe=H((LLn,RGe)=>{"use strict";d();var{EventEmitter:gMt}=require("events"),{Readable:RR}=require("stream"),afe=Qv()("helix-fetch"),AMt=Gue(),{Body:yMt}=aV(),{Headers:ffe}=j9(),{Request:qv}=KWe(),{Response:cfe}=Kue(),{FetchBaseError:CMt,FetchError:BR,AbortError:AV}=Vue(),{AbortController:xMt,AbortSignal:vMt,TimeoutSignal:bMt}=$ue(),EMt=nGe(),{cacheableResponse:IMt}=sGe(),{sizeof:TMt}=XA(),{isFormData:wMt}=SR(),{context:_Mt,RequestAbortedError:SMt}=wGe(),_Ge=["GET","HEAD"],kMt=500,RMt=100*1024*1024,lfe="push",SGe=o(async(e,t,r)=>{let{request:n}=e.context,i=t instanceof qv&&typeof r>"u"?t:new qv(t,r),{method:s,body:a,signal:l,compress:c,decode:u,follow:f,redirect:m,init:{body:h}}=i,p;if(l&&l.aborted){let P=new AV("The operation was aborted.");throw i.init.body instanceof RR&&i.init.body.destroy(P),P}try{p=await n(i.url,{...r,method:s,headers:i.headers.plain(),body:h&&!(h instanceof RR)&&!wMt(h)?h:a,compress:c,decode:u,follow:f,redirect:m,signal:l})}catch(P){throw h instanceof RR&&h.destroy(P),P instanceof TypeError?P:P instanceof SMt?new AV("The operation was aborted."):new BR(P.message,"system",P)}let A=o(()=>{l.removeEventListener("abort",A);let P=new AV("The operation was aborted.");i.init.body instanceof RR&&i.init.body.destroy(P),p.readable.emit("error",P)},"abortHandler");l&&l.addEventListener("abort",A);let{statusCode:x,statusText:v,httpVersion:E,headers:b,readable:_,decoded:R}=p;if([301,302,303,307,308].includes(x)){let{location:P}=b,F=P==null?null:new URL(P,i.url);switch(i.redirect){case"manual":break;case"error":throw l&&l.removeEventListener("abort",A),new BR(`uri requested responds with a redirect, redirect mode is set to 'error': ${i.url}`,"no-redirect");case"follow":{if(F===null)break;if(i.counter>=i.follow)throw l&&l.removeEventListener("abort",A),new BR(`maximum redirect reached at: ${i.url}`,"max-redirect");let W={headers:new ffe(i.headers),follow:i.follow,compress:i.compress,decode:i.decode,counter:i.counter+1,method:i.method,body:i.body,signal:i.signal};if(x!==303&&i.body&&i.init.body instanceof RR)throw l&&l.removeEventListener("abort",A),new BR("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(x===303||(x===301||x===302)&&i.method==="POST")&&(W.method="GET",W.body=void 0,W.headers.delete("content-length")),l&&l.removeEventListener("abort",A),SGe(e,new qv(F,W))}default:}}return l&&(_.once("end",()=>{l.removeEventListener("abort",A)}),_.once("error",()=>{l.removeEventListener("abort",A)})),new cfe(_,{url:i.url,status:x,statusText:v,headers:b,httpVersion:E,decoded:R,counter:i.counter})},"fetch"),kGe=o(async(e,t,r)=>{if(e.options.maxCacheSize===0||!_Ge.includes(t.method))return r;let n=new EMt(t,r,{shared:!1});if(n.storable()){let i=await IMt(r);return e.cache.set(t.url,{policy:n,response:i},n.timeToLive()),i}else return r},"cacheResponse"),BMt=o(async(e,t,r)=>{let n=new qv(t,r);if(e.options.maxCacheSize!==0&&_Ge.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:a,response:l}=e.cache.get(n.url)||{};if(a&&a.satisfiesWithoutRevalidation(n)){l.headers=new ffe(a.responseHeaders(l));let c=l.clone();return c.fromCache=!0,c}}let s=await SGe(e,n);return n.cache!=="no-store"?kGe(e,n,s):s},"cachingFetch"),DMt=o((e,t={})=>{let r=new URL(e);if(typeof t!="object"||Array.isArray(t))throw new TypeError("qs: object expected");return Object.entries(t).forEach(([n,i])=>{Array.isArray(i)?i.forEach(s=>r.searchParams.append(n,s)):r.searchParams.append(n,i)}),r.href},"createUrl"),PMt=o(e=>new bMt(e),"timeoutSignal"),ufe=class e{static{o(this,"FetchContext")}constructor(t){this.options={...t};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:RMt,i=kMt;n===0&&(n=1,i=1);let s=o(({response:l},c)=>TMt(l),"sizeCalculation");this.cache=new AMt({max:i,maxSize:n,sizeCalculation:s}),this.eventEmitter=new gMt,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:a}=this.options.h2;a&&(this.options.h2.pushPromiseHandler=(l,c,u)=>{let f={...c};Object.keys(f).filter(m=>m.startsWith(":")).forEach(m=>delete f[m]),this.pushPromiseHandler(l,f,u)},this.options.h2.pushHandler=(l,c,u)=>{let f={...c};Object.keys(f).filter(E=>E.startsWith(":")).forEach(E=>delete f[E]);let{statusCode:m,statusText:h,httpVersion:p,headers:A,readable:x,decoded:v}=u;this.pushHandler(l,f,new cfe(x,{url:l,status:m,statusText:h,headers:A,httpVersion:p,decoded:v}))}),this.context=_Mt(this.options)}api(){return{fetch:o(async(t,r)=>this.fetch(t,r),"fetch"),Body:yMt,Headers:ffe,Request:qv,Response:cfe,AbortController:xMt,AbortSignal:vMt,FetchBaseError:CMt,FetchError:BR,AbortError:AV,context:o((t={})=>new e(t).api(),"context"),setCA:o(t=>this.setCA(t),"setCA"),noCache:o((t={})=>new e({...t,maxCacheSize:0}).api(),"noCache"),h1:o((t={})=>new e({...t,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1"),keepAlive:o((t={})=>new e({...t,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAlive"),h1NoCache:o((t={})=>new e({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1NoCache"),keepAliveNoCache:o((t={})=>new e({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAliveNoCache"),reset:o(async()=>this.context.reset(),"reset"),onPush:o(t=>this.onPush(t),"onPush"),offPush:o(t=>this.offPush(t),"offPush"),createUrl:DMt,timeoutSignal:PMt,clearCache:o(()=>this.clearCache(),"clearCache"),cacheStats:o(()=>this.cacheStats(),"cacheStats"),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(t,r){return BMt(this,t,r)}setCA(t){this.options.ca=t,this.context.setCA(t)}onPush(t){return this.eventEmitter.on(lfe,t)}offPush(t){return this.eventEmitter.off(lfe,t)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(t,r,n){afe(`received server push promise: ${t}, headers: ${JSON.stringify(r)}`);let i=new qv(t,{headers:r}),{policy:s}=this.cache.get(t)||{};s&&s.satisfiesWithoutRevalidation(i)&&(afe(`already cached, reject push promise: ${t}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(t,r,n){afe(`caching resource pushed by server: ${t}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let i=await kGe(this,new qv(t,{headers:r}),n);this.eventEmitter.emit(lfe,t,i)}};RGe.exports=new ufe().api()});var PGe=H((OLn,DGe)=>{"use strict";d();DGe.exports=BGe()});var sUt={};C1(sUt,{getTokenizer:()=>go,getTokenizerAsync:()=>KCe,main:()=>Cje});module.exports=HVe(sUt);d();d();Dme().install();d();d();var BT="github.copilot";d();d();var bp=class{static{o(this,"Clock")}now(){return new Date}};d();var uP=et(Iy());function hY(e){return(0,uP.SHA256)(uP.enc.Utf16.parse(e.prefix+e.suffix)).toString()}o(hY,"keyForPrompt");var In=class{constructor(t=10){this.valueMap=new Map;this.lruKeys=[];this.sizeLimit=t}static{o(this,"LRUCacheMap")}set(t,r){let n;return this.valueMap.has(t)?n=t:this.lruKeys.length>=this.sizeLimit&&(n=this.lruKeys[0]),n!==void 0&&this.delete(n),this.valueMap.set(t,r),this.touchKeyInLRU(t),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.touchKeyInLRU(t),r}}delete(t){return this.has(t)?this.deleteKey(t):!1}clear(){this.valueMap.clear(),this.lruKeys=[]}get size(){return this.valueMap.size}keys(){return this.lruKeys.slice().values()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}deleteKey(t){let r=!1;return this.removeKeyFromLRU(t),this.valueMap.get(t)!==void 0&&(r=this.valueMap.delete(t)),r}removeKeyFromLRU(t){let r=this.lruKeys.indexOf(t);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(t){this.removeKeyFromLRU(t),this.lruKeys.push(t)}};d();d();d();d();var Ys=class extends Error{static{o(this,"CopilotAuthError")}constructor(t,r){super(t,{cause:r}),this.name="CopilotAuthError"}};d();var Jf="X-Copilot-RelatedPluginVersion-",PT=(O=>(O.Market="X-MSEdge-Market",O.CorpNet="X-FD-Corpnet",O.Build="X-VSCode-Build",O.ApplicationVersion="X-VSCode-AppVersion",O.TargetPopulation="X-VSCode-TargetPopulation",O.ClientId="X-MSEdge-ClientId",O.ExtensionName="X-VSCode-ExtensionName",O.ExtensionVersion="X-VSCode-ExtensionVersion",O.ExtensionRelease="X-VSCode-ExtensionRelease",O.Language="X-VSCode-Language",O.CopilotClientTimeBucket="X-Copilot-ClientTimeBucket",O.CopilotEngine="X-Copilot-Engine",O.CopilotOverrideEngine="X-Copilot-OverrideEngine",O.CopilotRepository="X-Copilot-Repository",O.CopilotFileType="X-Copilot-FileType",O.CopilotUserKind="X-Copilot-UserKind",O.CopilotDogfood="X-Copilot-Dogfood",O.CopilotCustomModel="X-Copilot-CustomModel",O.CopilotOrgs="X-Copilot-Orgs",O.CopilotCustomModelNames="X-Copilot-CustomModelNames",O.CopilotTrackingId="X-Copilot-CopilotTrackingId",O.CopilotClientVersion="X-Copilot-ClientVersion",O.CopilotRelatedPluginVersionCppTools=Jf+"msvscodecpptools",O.CopilotRelatedPluginVersionCMakeTools=Jf+"msvscodecmaketools",O.CopilotRelatedPluginVersionMakefileTools=Jf+"msvscodemakefiletools",O.CopilotRelatedPluginVersionCSharpDevKit=Jf+"msdotnettoolscsdevkit",O.CopilotRelatedPluginVersionPython=Jf+"mspythonpython",O.CopilotRelatedPluginVersionPylance=Jf+"mspythonvscodepylance",O.CopilotRelatedPluginVersionJavaPack=Jf+"vscjavavscodejavapack",O.CopilotRelatedPluginVersionTypescript=Jf+"vscodetypescriptlanguagefeatures",O.CopilotRelatedPluginVersionTypescriptNext=Jf+"msvscodevscodetypescriptnext",O.CopilotRelatedPluginVersionCSharp=Jf+"msdotnettoolscsharp",O))(PT||{});var k$e={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},V3=class e{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}static{o(this,"FilterSettings")}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let i=k$e[r];i!==void 0&&(t.properties[i]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new e({...this.filters,[t]:r})}};d();var Or=class{static{o(this,"Fetcher")}#e;set rejectUnauthorized(t){this.#e=t}get rejectUnauthorized(){return this.#e}},FT=class extends Error{static{o(this,"HttpTimeoutError")}constructor(t,r){super(t,{cause:r}),this.name="HttpTimeoutError"}};function bc(e){return!e||typeof e!="object"?!1:e instanceof FT||"name"in e&&e.name==="AbortError"||"code"in e&&e.code==="ABORT_ERR"}o(bc,"isAbortError");var mE=class extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}static{o(this,"JsonParseError")}},$3=class extends Error{static{o(this,"FetchResponseError")}constructor(t){super(`HTTP ${t.status} ${t.statusText}`),this.name="FetchResponseError",this.code=`HTTP${t.status}`}},R$e=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function NT(e,t=!0){return e instanceof Error?t&&"cause"in e&&NT(e.cause,!1)?!0:e.name==="EditorFetcherError"||e.name==="FetchError"||e instanceof mE||e instanceof $3||e?.message?.startsWith("net::")||R$e.has(e.code??""):!1}o(NT,"isNetworkError");var Ty=class{constructor(t,r,n,i,s){this.status=t;this.statusText=r;this.headers=n;this.getText=i;this.getBody=s;this.ok=this.status>=200&&this.status<300;this.clientError=this.status>=400&&this.status<500}static{o(this,"Response")}async text(){return this.getText()}async json(){let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new mE(`Response content-type is ${r??"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let i=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(i&&parseInt(i[2],10)==t.length||n.message==="Unexpected end of JSON input"){let s=new TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new mE(`Response body truncated: actualLength=${s}`,"Truncated"):new mE(`Response body truncated: actualLength=${s}, headerLength=${a}`,"Truncated")}}throw n}}body(){return this.getBody()}};function z3(e,t,r,n,i,s,a,l,c){let u={...l,Authorization:`Bearer ${r}`,"X-Request-Id":i,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(ws).sessionId,"VScode-MachineId":e.get(ws).machineId,...Ec(e)};n&&(u["OpenAI-Intent"]=n);let f={method:"POST",headers:u,json:s,timeout:c},m=e.get(Or);if(a){let p=m.makeAbortController();a.onCancellationRequested(()=>{jt(e,"networking.cancelRequest",ln.createAndMarkAsIssued({headerRequestId:i})),p.abort()}),f.signal=p.signal}return m.fetch(t,f).catch(p=>{if(B$e(p))return jt(e,"networking.disconnectAll"),m.disconnectAll().then(()=>m.fetch(t,f));throw p})}o(z3,"postRequest");function B$e(e){return e instanceof Error?e.message=="ERR_HTTP2_GOAWAY_SESSION"?!0:"code"in e?e.code=="ECONNRESET"||e.code=="ETIMEDOUT"||e.code=="ERR_HTTP2_INVALID_SESSION":!1:!1}o(B$e,"isInterruptedNetworkError");d();d();d();d();d();d();d();var Ic={};C1(Ic,{HasPropertyKey:()=>fP,IsArray:()=>pa,IsAsyncIterator:()=>pY,IsBigInt:()=>LT,IsBoolean:()=>b1,IsDate:()=>Y3,IsFunction:()=>gY,IsIterator:()=>AY,IsNull:()=>yY,IsNumber:()=>Fu,IsObject:()=>ko,IsRegExp:()=>QT,IsString:()=>Wo,IsSymbol:()=>CY,IsUint8Array:()=>E1,IsUndefined:()=>ga});d();function fP(e,t){return t in e}o(fP,"HasPropertyKey");function pY(e){return ko(e)&&!pa(e)&&!E1(e)&&Symbol.asyncIterator in e}o(pY,"IsAsyncIterator");function pa(e){return Array.isArray(e)}o(pa,"IsArray");function LT(e){return typeof e=="bigint"}o(LT,"IsBigInt");function b1(e){return typeof e=="boolean"}o(b1,"IsBoolean");function Y3(e){return e instanceof globalThis.Date}o(Y3,"IsDate");function gY(e){return typeof e=="function"}o(gY,"IsFunction");function AY(e){return ko(e)&&!pa(e)&&!E1(e)&&Symbol.iterator in e}o(AY,"IsIterator");function yY(e){return e===null}o(yY,"IsNull");function Fu(e){return typeof e=="number"}o(Fu,"IsNumber");function ko(e){return typeof e=="object"&&e!==null}o(ko,"IsObject");function QT(e){return e instanceof globalThis.RegExp}o(QT,"IsRegExp");function Wo(e){return typeof e=="string"}o(Wo,"IsString");function CY(e){return typeof e=="symbol"}o(CY,"IsSymbol");function E1(e){return e instanceof globalThis.Uint8Array}o(E1,"IsUint8Array");function ga(e){return e===void 0}o(ga,"IsUndefined");function D$e(e){return e.map(t=>dP(t))}o(D$e,"ArrayType");function P$e(e){return new Date(e.getTime())}o(P$e,"DateType");function F$e(e){return new Uint8Array(e)}o(F$e,"Uint8ArrayType");function N$e(e){return new RegExp(e.source,e.flags)}o(N$e,"RegExpType");function L$e(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=dP(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=dP(e[r]);return t}o(L$e,"ObjectType");function dP(e){return pa(e)?D$e(e):Y3(e)?P$e(e):E1(e)?F$e(e):QT(e)?N$e(e):ko(e)?L$e(e):e}o(dP,"Visit");function ss(e){return dP(e)}o(ss,"Clone");function hE(e,t){return t===void 0?ss(e):ss({...t,...e})}o(hE,"CloneType");d();d();d();function mP(e){return ai(e)&&globalThis.Symbol.asyncIterator in e}o(mP,"IsAsyncIterator");function hP(e){return ai(e)&&globalThis.Symbol.iterator in e}o(hP,"IsIterator");function xY(e){return ai(e)&&(globalThis.Object.getPrototypeOf(e)===Object.prototype||globalThis.Object.getPrototypeOf(e)===null)}o(xY,"IsStandardObject");function pP(e){return e instanceof globalThis.Promise}o(pP,"IsPromise");function Xc(e){return e instanceof Date&&globalThis.Number.isFinite(e.getTime())}o(Xc,"IsDate");function Uhe(e){return e instanceof globalThis.Map}o(Uhe,"IsMap");function qhe(e){return e instanceof globalThis.Set}o(qhe,"IsSet");function Zf(e){return globalThis.ArrayBuffer.isView(e)}o(Zf,"IsTypedArray");function pE(e){return e instanceof globalThis.Uint8Array}o(pE,"IsUint8Array");function hn(e,t){return t in e}o(hn,"HasPropertyKey");function ai(e){return e!==null&&typeof e=="object"}o(ai,"IsObject");function pn(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}o(pn,"IsArray");function as(e){return e===void 0}o(as,"IsUndefined");function I1(e){return e===null}o(I1,"IsNull");function Ep(e){return typeof e=="boolean"}o(Ep,"IsBoolean");function Kr(e){return typeof e=="number"}o(Kr,"IsNumber");function gP(e){return globalThis.Number.isInteger(e)}o(gP,"IsInteger");function zl(e){return typeof e=="bigint"}o(zl,"IsBigInt");function Oi(e){return typeof e=="string"}o(Oi,"IsString");function wy(e){return typeof e=="function"}o(wy,"IsFunction");function T1(e){return typeof e=="symbol"}o(T1,"IsSymbol");function Nu(e){return zl(e)||Ep(e)||I1(e)||Kr(e)||Oi(e)||T1(e)||as(e)}o(Nu,"IsValueType");var Yo;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,l){return e.ExactOptionalPropertyTypes?l in a:a[l]!==void 0}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let l=ai(a);return e.AllowArrayObject?l:l&&!pn(a)}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return e.AllowNaN?Kr(a):Number.isFinite(a)}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){let l=as(a);return e.AllowNullVoid?l||a===null:l}o(s,"IsVoidLike"),e.IsVoidLike=s})(Yo||(Yo={}));d();function Q$e(e){return globalThis.Object.freeze(e).map(t=>MT(t))}o(Q$e,"ImmutableArray");function M$e(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=MT(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=MT(e[r]);return globalThis.Object.freeze(t)}o(M$e,"ImmutableObject");function MT(e){return pa(e)?Q$e(e):Y3(e)?e:E1(e)?e:QT(e)?e:ko(e)?M$e(e):e}o(MT,"Immutable");function ut(e,t){let r=t!==void 0?{...t,...e}:e;switch(Yo.InstanceMode){case"freeze":return MT(r);case"clone":return ss(r);default:return r}}o(ut,"CreateType");d();var gn=class extends Error{static{o(this,"TypeBoxError")}constructor(t){super(t)}};d();d();d();var _s=Symbol.for("TypeBox.Transform"),Sm=Symbol.for("TypeBox.Readonly"),Yl=Symbol.for("TypeBox.Optional"),Xf=Symbol.for("TypeBox.Hint"),ot=Symbol.for("TypeBox.Kind");function gE(e){return ko(e)&&e[Sm]==="Readonly"}o(gE,"IsReadonly");function Q0(e){return ko(e)&&e[Yl]==="Optional"}o(Q0,"IsOptional");function vY(e){return Ri(e,"Any")}o(vY,"IsAny");function bY(e){return Ri(e,"Argument")}o(bY,"IsArgument");function km(e){return Ri(e,"Array")}o(km,"IsArray");function K3(e){return Ri(e,"AsyncIterator")}o(K3,"IsAsyncIterator");function J3(e){return Ri(e,"BigInt")}o(J3,"IsBigInt");function w1(e){return Ri(e,"Boolean")}o(w1,"IsBoolean");function Rm(e){return Ri(e,"Computed")}o(Rm,"IsComputed");function Bm(e){return Ri(e,"Constructor")}o(Bm,"IsConstructor");function O$e(e){return Ri(e,"Date")}o(O$e,"IsDate");function Dm(e){return Ri(e,"Function")}o(Dm,"IsFunction");function Pm(e){return Ri(e,"Integer")}o(Pm,"IsInteger");function qs(e){return Ri(e,"Intersect")}o(qs,"IsIntersect");function Z3(e){return Ri(e,"Iterator")}o(Z3,"IsIterator");function Ri(e,t){return ko(e)&&ot in e&&e[ot]===t}o(Ri,"IsKindOf");function AP(e){return b1(e)||Fu(e)||Wo(e)}o(AP,"IsLiteralValue");function Lu(e){return Ri(e,"Literal")}o(Lu,"IsLiteral");function Qu(e){return Ri(e,"MappedKey")}o(Qu,"IsMappedKey");function ls(e){return Ri(e,"MappedResult")}o(ls,"IsMappedResult");function _y(e){return Ri(e,"Never")}o(_y,"IsNever");function U$e(e){return Ri(e,"Not")}o(U$e,"IsNot");function OT(e){return Ri(e,"Null")}o(OT,"IsNull");function Fm(e){return Ri(e,"Number")}o(Fm,"IsNumber");function Aa(e){return Ri(e,"Object")}o(Aa,"IsObject");function X3(e){return Ri(e,"Promise")}o(X3,"IsPromise");function e4(e){return Ri(e,"Record")}o(e4,"IsRecord");function Ks(e){return Ri(e,"Ref")}o(Ks,"IsRef");function EY(e){return Ri(e,"RegExp")}o(EY,"IsRegExp");function _1(e){return Ri(e,"String")}o(_1,"IsString");function UT(e){return Ri(e,"Symbol")}o(UT,"IsSymbol");function Mu(e){return Ri(e,"TemplateLiteral")}o(Mu,"IsTemplateLiteral");function q$e(e){return Ri(e,"This")}o(q$e,"IsThis");function no(e){return ko(e)&&_s in e}o(no,"IsTransform");function Ou(e){return Ri(e,"Tuple")}o(Ou,"IsTuple");function S1(e){return Ri(e,"Undefined")}o(S1,"IsUndefined");function Ui(e){return Ri(e,"Union")}o(Ui,"IsUnion");function W$e(e){return Ri(e,"Uint8Array")}o(W$e,"IsUint8Array");function G$e(e){return Ri(e,"Unknown")}o(G$e,"IsUnknown");function H$e(e){return Ri(e,"Unsafe")}o(H$e,"IsUnsafe");function j$e(e){return Ri(e,"Void")}o(j$e,"IsVoid");function Sy(e){return ko(e)&&ot in e&&Wo(e[ot])}o(Sy,"IsKind");function Ss(e){return vY(e)||bY(e)||km(e)||w1(e)||J3(e)||K3(e)||Rm(e)||Bm(e)||O$e(e)||Dm(e)||Pm(e)||qs(e)||Z3(e)||Lu(e)||Qu(e)||ls(e)||_y(e)||U$e(e)||OT(e)||Fm(e)||Aa(e)||X3(e)||e4(e)||Ks(e)||EY(e)||_1(e)||UT(e)||Mu(e)||q$e(e)||Ou(e)||S1(e)||Ui(e)||W$e(e)||G$e(e)||H$e(e)||j$e(e)||Sy(e)}o(Ss,"IsSchema");var Me={};C1(Me,{IsAny:()=>jhe,IsArgument:()=>Vhe,IsArray:()=>$he,IsAsyncIterator:()=>zhe,IsBigInt:()=>Yhe,IsBoolean:()=>Khe,IsComputed:()=>Jhe,IsConstructor:()=>Zhe,IsDate:()=>Xhe,IsFunction:()=>epe,IsImport:()=>J$e,IsInteger:()=>tpe,IsIntersect:()=>rpe,IsIterator:()=>npe,IsKind:()=>kpe,IsKindOf:()=>Ai,IsLiteral:()=>WT,IsLiteralBoolean:()=>Z$e,IsLiteralNumber:()=>ope,IsLiteralString:()=>ipe,IsLiteralValue:()=>spe,IsMappedKey:()=>ape,IsMappedResult:()=>lpe,IsNever:()=>cpe,IsNot:()=>upe,IsNull:()=>fpe,IsNumber:()=>dpe,IsObject:()=>mpe,IsOptional:()=>K$e,IsPromise:()=>hpe,IsProperties:()=>yP,IsReadonly:()=>Y$e,IsRecord:()=>ppe,IsRecursive:()=>X$e,IsRef:()=>gpe,IsRegExp:()=>Ape,IsSchema:()=>cs,IsString:()=>ype,IsSymbol:()=>Cpe,IsTemplateLiteral:()=>xpe,IsThis:()=>vpe,IsTransform:()=>bpe,IsTuple:()=>Epe,IsUint8Array:()=>Tpe,IsUndefined:()=>Ipe,IsUnion:()=>_Y,IsUnionLiteral:()=>eze,IsUnknown:()=>wpe,IsUnsafe:()=>_pe,IsVoid:()=>Spe,TypeGuardUnknownTypeError:()=>IY});d();var IY=class extends gn{static{o(this,"TypeGuardUnknownTypeError")}},V$e=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function Whe(e){try{return new RegExp(e),!0}catch{return!1}}o(Whe,"IsPattern");function TY(e){if(!Wo(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}o(TY,"IsControlCharacterFree");function Ghe(e){return wY(e)||cs(e)}o(Ghe,"IsAdditionalProperties");function qT(e){return ga(e)||LT(e)}o(qT,"IsOptionalBigInt");function Go(e){return ga(e)||Fu(e)}o(Go,"IsOptionalNumber");function wY(e){return ga(e)||b1(e)}o(wY,"IsOptionalBoolean");function Ro(e){return ga(e)||Wo(e)}o(Ro,"IsOptionalString");function $$e(e){return ga(e)||Wo(e)&&TY(e)&&Whe(e)}o($$e,"IsOptionalPattern");function z$e(e){return ga(e)||Wo(e)&&TY(e)}o(z$e,"IsOptionalFormat");function Hhe(e){return ga(e)||cs(e)}o(Hhe,"IsOptionalSchema");function Y$e(e){return ko(e)&&e[Sm]==="Readonly"}o(Y$e,"IsReadonly");function K$e(e){return ko(e)&&e[Yl]==="Optional"}o(K$e,"IsOptional");function jhe(e){return Ai(e,"Any")&&Ro(e.$id)}o(jhe,"IsAny");function Vhe(e){return Ai(e,"Argument")&&Fu(e.index)}o(Vhe,"IsArgument");function $he(e){return Ai(e,"Array")&&e.type==="array"&&Ro(e.$id)&&cs(e.items)&&Go(e.minItems)&&Go(e.maxItems)&&wY(e.uniqueItems)&&Hhe(e.contains)&&Go(e.minContains)&&Go(e.maxContains)}o($he,"IsArray");function zhe(e){return Ai(e,"AsyncIterator")&&e.type==="AsyncIterator"&&Ro(e.$id)&&cs(e.items)}o(zhe,"IsAsyncIterator");function Yhe(e){return Ai(e,"BigInt")&&e.type==="bigint"&&Ro(e.$id)&&qT(e.exclusiveMaximum)&&qT(e.exclusiveMinimum)&&qT(e.maximum)&&qT(e.minimum)&&qT(e.multipleOf)}o(Yhe,"IsBigInt");function Khe(e){return Ai(e,"Boolean")&&e.type==="boolean"&&Ro(e.$id)}o(Khe,"IsBoolean");function Jhe(e){return Ai(e,"Computed")&&Wo(e.target)&&pa(e.parameters)&&e.parameters.every(t=>cs(t))}o(Jhe,"IsComputed");function Zhe(e){return Ai(e,"Constructor")&&e.type==="Constructor"&&Ro(e.$id)&&pa(e.parameters)&&e.parameters.every(t=>cs(t))&&cs(e.returns)}o(Zhe,"IsConstructor");function Xhe(e){return Ai(e,"Date")&&e.type==="Date"&&Ro(e.$id)&&Go(e.exclusiveMaximumTimestamp)&&Go(e.exclusiveMinimumTimestamp)&&Go(e.maximumTimestamp)&&Go(e.minimumTimestamp)&&Go(e.multipleOfTimestamp)}o(Xhe,"IsDate");function epe(e){return Ai(e,"Function")&&e.type==="Function"&&Ro(e.$id)&&pa(e.parameters)&&e.parameters.every(t=>cs(t))&&cs(e.returns)}o(epe,"IsFunction");function J$e(e){return Ai(e,"Import")&&fP(e,"$defs")&&ko(e.$defs)&&yP(e.$defs)&&fP(e,"$ref")&&Wo(e.$ref)&&e.$ref in e.$defs}o(J$e,"IsImport");function tpe(e){return Ai(e,"Integer")&&e.type==="integer"&&Ro(e.$id)&&Go(e.exclusiveMaximum)&&Go(e.exclusiveMinimum)&&Go(e.maximum)&&Go(e.minimum)&&Go(e.multipleOf)}o(tpe,"IsInteger");function yP(e){return ko(e)&&Object.entries(e).every(([t,r])=>TY(t)&&cs(r))}o(yP,"IsProperties");function rpe(e){return Ai(e,"Intersect")&&!(Wo(e.type)&&e.type!=="object")&&pa(e.allOf)&&e.allOf.every(t=>cs(t)&&!bpe(t))&&Ro(e.type)&&(wY(e.unevaluatedProperties)||Hhe(e.unevaluatedProperties))&&Ro(e.$id)}o(rpe,"IsIntersect");function npe(e){return Ai(e,"Iterator")&&e.type==="Iterator"&&Ro(e.$id)&&cs(e.items)}o(npe,"IsIterator");function Ai(e,t){return ko(e)&&ot in e&&e[ot]===t}o(Ai,"IsKindOf");function ipe(e){return WT(e)&&Wo(e.const)}o(ipe,"IsLiteralString");function ope(e){return WT(e)&&Fu(e.const)}o(ope,"IsLiteralNumber");function Z$e(e){return WT(e)&&b1(e.const)}o(Z$e,"IsLiteralBoolean");function WT(e){return Ai(e,"Literal")&&Ro(e.$id)&&spe(e.const)}o(WT,"IsLiteral");function spe(e){return b1(e)||Fu(e)||Wo(e)}o(spe,"IsLiteralValue");function ape(e){return Ai(e,"MappedKey")&&pa(e.keys)&&e.keys.every(t=>Fu(t)||Wo(t))}o(ape,"IsMappedKey");function lpe(e){return Ai(e,"MappedResult")&&yP(e.properties)}o(lpe,"IsMappedResult");function cpe(e){return Ai(e,"Never")&&ko(e.not)&&Object.getOwnPropertyNames(e.not).length===0}o(cpe,"IsNever");function upe(e){return Ai(e,"Not")&&cs(e.not)}o(upe,"IsNot");function fpe(e){return Ai(e,"Null")&&e.type==="null"&&Ro(e.$id)}o(fpe,"IsNull");function dpe(e){return Ai(e,"Number")&&e.type==="number"&&Ro(e.$id)&&Go(e.exclusiveMaximum)&&Go(e.exclusiveMinimum)&&Go(e.maximum)&&Go(e.minimum)&&Go(e.multipleOf)}o(dpe,"IsNumber");function mpe(e){return Ai(e,"Object")&&e.type==="object"&&Ro(e.$id)&&yP(e.properties)&&Ghe(e.additionalProperties)&&Go(e.minProperties)&&Go(e.maxProperties)}o(mpe,"IsObject");function hpe(e){return Ai(e,"Promise")&&e.type==="Promise"&&Ro(e.$id)&&cs(e.item)}o(hpe,"IsPromise");function ppe(e){return Ai(e,"Record")&&e.type==="object"&&Ro(e.$id)&&Ghe(e.additionalProperties)&&ko(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&Whe(r[0])&&ko(t.patternProperties)&&cs(t.patternProperties[r[0]])})(e)}o(ppe,"IsRecord");function X$e(e){return ko(e)&&Xf in e&&e[Xf]==="Recursive"}o(X$e,"IsRecursive");function gpe(e){return Ai(e,"Ref")&&Ro(e.$id)&&Wo(e.$ref)}o(gpe,"IsRef");function Ape(e){return Ai(e,"RegExp")&&Ro(e.$id)&&Wo(e.source)&&Wo(e.flags)&&Go(e.maxLength)&&Go(e.minLength)}o(Ape,"IsRegExp");function ype(e){return Ai(e,"String")&&e.type==="string"&&Ro(e.$id)&&Go(e.minLength)&&Go(e.maxLength)&&$$e(e.pattern)&&z$e(e.format)}o(ype,"IsString");function Cpe(e){return Ai(e,"Symbol")&&e.type==="symbol"&&Ro(e.$id)}o(Cpe,"IsSymbol");function xpe(e){return Ai(e,"TemplateLiteral")&&e.type==="string"&&Wo(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}o(xpe,"IsTemplateLiteral");function vpe(e){return Ai(e,"This")&&Ro(e.$id)&&Wo(e.$ref)}o(vpe,"IsThis");function bpe(e){return ko(e)&&_s in e}o(bpe,"IsTransform");function Epe(e){return Ai(e,"Tuple")&&e.type==="array"&&Ro(e.$id)&&Fu(e.minItems)&&Fu(e.maxItems)&&e.minItems===e.maxItems&&(ga(e.items)&&ga(e.additionalItems)&&e.minItems===0||pa(e.items)&&e.items.every(t=>cs(t)))}o(Epe,"IsTuple");function Ipe(e){return Ai(e,"Undefined")&&e.type==="undefined"&&Ro(e.$id)}o(Ipe,"IsUndefined");function eze(e){return _Y(e)&&e.anyOf.every(t=>ipe(t)||ope(t))}o(eze,"IsUnionLiteral");function _Y(e){return Ai(e,"Union")&&Ro(e.$id)&&ko(e)&&pa(e.anyOf)&&e.anyOf.every(t=>cs(t))}o(_Y,"IsUnion");function Tpe(e){return Ai(e,"Uint8Array")&&e.type==="Uint8Array"&&Ro(e.$id)&&Go(e.minByteLength)&&Go(e.maxByteLength)}o(Tpe,"IsUint8Array");function wpe(e){return Ai(e,"Unknown")&&Ro(e.$id)}o(wpe,"IsUnknown");function _pe(e){return Ai(e,"Unsafe")}o(_pe,"IsUnsafe");function Spe(e){return Ai(e,"Void")&&e.type==="void"&&Ro(e.$id)}o(Spe,"IsVoid");function kpe(e){return ko(e)&&ot in e&&Wo(e[ot])&&!V$e.includes(e[ot])}o(kpe,"IsKind");function cs(e){return ko(e)&&(jhe(e)||Vhe(e)||$he(e)||Khe(e)||Yhe(e)||zhe(e)||Jhe(e)||Zhe(e)||Xhe(e)||epe(e)||tpe(e)||rpe(e)||npe(e)||WT(e)||ape(e)||lpe(e)||cpe(e)||upe(e)||fpe(e)||dpe(e)||mpe(e)||hpe(e)||ppe(e)||gpe(e)||Ape(e)||ype(e)||Cpe(e)||xpe(e)||vpe(e)||Epe(e)||Ipe(e)||_Y(e)||Tpe(e)||wpe(e)||_pe(e)||Spe(e)||kpe(e))}o(cs,"IsSchema");d();var SY="(true|false)",GT="(0|[1-9][0-9]*)",kY="(.*)",tze="(?!.*)",hGt=`^${SY}$`,Ip=`^${GT}$`,Tp=`^${kY}$`,Rpe=`^${tze}$`;d();var Nm={};C1(Nm,{Clear:()=>nze,Delete:()=>ize,Entries:()=>rze,Get:()=>aze,Has:()=>oze,Set:()=>sze});d();var AE=new Map;function rze(){return new Map(AE)}o(rze,"Entries");function nze(){return AE.clear()}o(nze,"Clear");function ize(e){return AE.delete(e)}o(ize,"Delete");function oze(e){return AE.has(e)}o(oze,"Has");function sze(e,t){AE.set(e,t)}o(sze,"Set");function aze(e){return AE.get(e)}o(aze,"Get");var e0={};C1(e0,{Clear:()=>cze,Delete:()=>uze,Entries:()=>lze,Get:()=>mze,Has:()=>fze,Set:()=>dze});d();var yE=new Map;function lze(){return new Map(yE)}o(lze,"Entries");function cze(){return yE.clear()}o(cze,"Clear");function uze(e){return yE.delete(e)}o(uze,"Delete");function fze(e){return yE.has(e)}o(fze,"Has");function dze(e,t){yE.set(e,t)}o(dze,"Set");function mze(e){return yE.get(e)}o(mze,"Get");d();function Bpe(e,t){return e.includes(t)}o(Bpe,"SetIncludes");function Dpe(e){return[...new Set(e)]}o(Dpe,"SetDistinct");function hze(e,t){return e.filter(r=>t.includes(r))}o(hze,"SetIntersect");function pze(e,t){return e.reduce((r,n)=>hze(r,n),t)}o(pze,"SetIntersectManyResolve");function Ppe(e){return e.length===1?e[0]:e.length>1?pze(e.slice(1),e[0]):[]}o(Ppe,"SetIntersectMany");function Fpe(e){let t=[];for(let r of e)t.push(...r);return t}o(Fpe,"SetUnionMany");d();function ky(e){return ut({[ot]:"Any"},e)}o(ky,"Any");d();function CE(e,t){return ut({[ot]:"Array",type:"array",items:e},t)}o(CE,"Array");d();function Npe(e){return ut({[ot]:"Argument",index:e})}o(Npe,"Argument");d();function xE(e,t){return ut({[ot]:"AsyncIterator",type:"AsyncIterator",items:e},t)}o(xE,"AsyncIterator");d();d();function Ko(e,t,r){return ut({[ot]:"Computed",target:e,parameters:t},r)}o(Ko,"Computed");d();d();function gze(e,t){let{[t]:r,...n}=e;return n}o(gze,"DiscardKey");function Ws(e,t){return t.reduce((r,n)=>gze(r,n),e)}o(Ws,"Discard");d();function Xn(e){return ut({[ot]:"Never",not:{}},e)}o(Xn,"Never");d();d();function Vi(e){return ut({[ot]:"MappedResult",properties:e})}o(Vi,"MappedResult");d();d();function vE(e,t,r){return ut({[ot]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}o(vE,"Constructor");d();function wp(e,t,r){return ut({[ot]:"Function",type:"Function",parameters:e,returns:t},r)}o(wp,"Function");d();d();d();d();function HT(e,t){return ut({[ot]:"Union",anyOf:e},t)}o(HT,"UnionCreate");function Aze(e){return e.some(t=>Q0(t))}o(Aze,"IsUnionOptional");function Lpe(e){return e.map(t=>Q0(t)?yze(t):t)}o(Lpe,"RemoveOptionalFromRest");function yze(e){return Ws(e,[Yl])}o(yze,"RemoveOptionalFromType");function Cze(e,t){return Aze(e)?Tc(HT(Lpe(e),t)):HT(Lpe(e),t)}o(Cze,"ResolveUnion");function _p(e,t){return e.length===1?ut(e[0],t):e.length===0?Xn(t):Cze(e,t)}o(_p,"UnionEvaluated");d();function io(e,t){return e.length===0?Xn(t):e.length===1?ut(e[0],t):HT(e,t)}o(io,"Union");d();d();d();var CP=class extends gn{static{o(this,"TemplateLiteralParserError")}};function xze(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}o(xze,"Unescape");function RY(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}o(RY,"IsNonEscaped");function R1(e,t){return RY(e,t,"(")}o(R1,"IsOpenParen");function jT(e,t){return RY(e,t,")")}o(jT,"IsCloseParen");function Qpe(e,t){return RY(e,t,"|")}o(Qpe,"IsSeparator");function vze(e){if(!(R1(e,0)&&jT(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if(R1(e,r)&&(t+=1),jT(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}o(vze,"IsGroup");function bze(e){return e.slice(1,e.length-1)}o(bze,"InGroup");function Eze(e){let t=0;for(let r=0;r<e.length;r++)if(R1(e,r)&&(t+=1),jT(e,r)&&(t-=1),Qpe(e,r)&&t===0)return!0;return!1}o(Eze,"IsPrecedenceOr");function Ize(e){for(let t=0;t<e.length;t++)if(R1(e,t))return!0;return!1}o(Ize,"IsPrecedenceAnd");function Tze(e){let[t,r]=[0,0],n=[];for(let s=0;s<e.length;s++)if(R1(e,s)&&(t+=1),jT(e,s)&&(t-=1),Qpe(e,s)&&t===0){let a=e.slice(r,s);a.length>0&&n.push(bE(a)),r=s+1}let i=e.slice(r);return i.length>0&&n.push(bE(i)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}o(Tze,"Or");function wze(e){function t(i,s){if(!R1(i,s))throw new CP("TemplateLiteralParser: Index must point to open parens");let a=0;for(let l=s;l<i.length;l++)if(R1(i,l)&&(a+=1),jT(i,l)&&(a-=1),a===0)return[s,l];throw new CP("TemplateLiteralParser: Unclosed group parens in expression")}o(t,"Group");function r(i,s){for(let a=s;a<i.length;a++)if(R1(i,a))return[s,a];return[s,i.length]}o(r,"Range");let n=[];for(let i=0;i<e.length;i++)if(R1(e,i)){let[s,a]=t(e,i),l=e.slice(s,a+1);n.push(bE(l)),i=a}else{let[s,a]=r(e,i),l=e.slice(s,a);l.length>0&&n.push(bE(l)),i=a-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}o(wze,"And");function bE(e){return vze(e)?bE(bze(e)):Eze(e)?Tze(e):Ize(e)?wze(e):{type:"const",const:xze(e)}}o(bE,"TemplateLiteralParse");function EE(e){return bE(e.slice(1,e.length-1))}o(EE,"TemplateLiteralParseExact");var BY=class extends gn{static{o(this,"TemplateLiteralFiniteError")}};function _ze(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}o(_ze,"IsNumberExpression");function Sze(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}o(Sze,"IsBooleanExpression");function kze(e){return e.type==="const"&&e.const===".*"}o(kze,"IsStringExpression");function t4(e){return _ze(e)||kze(e)?!1:Sze(e)?!0:e.type==="and"?e.expr.every(t=>t4(t)):e.type==="or"?e.expr.every(t=>t4(t)):e.type==="const"?!0:(()=>{throw new BY("Unknown expression type")})()}o(t4,"IsTemplateLiteralExpressionFinite");function xP(e){let t=EE(e.pattern);return t4(t)}o(xP,"IsTemplateLiteralFinite");d();var DY=class extends gn{static{o(this,"TemplateLiteralGenerateError")}};function*Mpe(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of Mpe(e.slice(1)))yield`${t}${r}`}o(Mpe,"GenerateReduce");function*Rze(e){return yield*Mpe(e.expr.map(t=>[...VT(t)]))}o(Rze,"GenerateAnd");function*Bze(e){for(let t of e.expr)yield*VT(t)}o(Bze,"GenerateOr");function*Dze(e){return yield e.const}o(Dze,"GenerateConst");function*VT(e){return e.type==="and"?yield*Rze(e):e.type==="or"?yield*Bze(e):e.type==="const"?yield*Dze(e):(()=>{throw new DY("Unknown expression")})()}o(VT,"TemplateLiteralExpressionGenerate");function IE(e){let t=EE(e.pattern);return t4(t)?[...VT(t)]:[]}o(IE,"TemplateLiteralGenerate");d();d();function Bi(e,t){return ut({[ot]:"Literal",const:e,type:typeof e},t)}o(Bi,"Literal");d();function vP(e){return ut({[ot]:"Boolean",type:"boolean"},e)}o(vP,"Boolean");d();function TE(e){return ut({[ot]:"BigInt",type:"bigint"},e)}o(TE,"BigInt");d();function ed(e){return ut({[ot]:"Number",type:"number"},e)}o(ed,"Number");d();function t0(e){return ut({[ot]:"String",type:"string"},e)}o(t0,"String");function*Pze(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield vP():t==="number"?yield ed():t==="bigint"?yield TE():t==="string"?yield t0():yield(()=>{let r=t.split("|").map(n=>Bi(n.trim()));return r.length===0?Xn():r.length===1?r[0]:_p(r)})()}o(Pze,"FromUnion");function*Fze(e){if(e[1]!=="{"){let t=Bi("$"),r=PY(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=Pze(e.slice(2,t)),n=PY(e.slice(t+1));return yield*[...r,...n]}yield Bi(e)}o(Fze,"FromTerminal");function*PY(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=Bi(e.slice(0,t)),n=Fze(e.slice(t));return yield*[r,...n]}yield Bi(e)}o(PY,"FromSyntax");function Ope(e){return[...PY(e)]}o(Ope,"TemplateLiteralSyntax");d();var FY=class extends gn{static{o(this,"TemplateLiteralPatternError")}};function Nze(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(Nze,"Escape");function Upe(e,t){return Mu(e)?e.pattern.slice(1,e.pattern.length-1):Ui(e)?`(${e.anyOf.map(r=>Upe(r,t)).join("|")})`:Fm(e)?`${t}${GT}`:Pm(e)?`${t}${GT}`:J3(e)?`${t}${GT}`:_1(e)?`${t}${kY}`:Lu(e)?`${t}${Nze(e.const.toString())}`:w1(e)?`${t}${SY}`:(()=>{throw new FY(`Unexpected Kind '${e[ot]}'`)})()}o(Upe,"Visit");function NY(e){return`^${e.map(t=>Upe(t,"")).join("")}$`}o(NY,"TemplateLiteralPattern");d();function r4(e){let r=IE(e).map(n=>Bi(n));return _p(r)}o(r4,"TemplateLiteralToUnion");d();function bP(e,t){let r=Wo(e)?NY(Ope(e)):NY(e);return ut({[ot]:"TemplateLiteral",type:"string",pattern:r},t)}o(bP,"TemplateLiteral");function Lze(e){return IE(e).map(r=>r.toString())}o(Lze,"FromTemplateLiteral");function Qze(e){let t=[];for(let r of e)t.push(...M0(r));return t}o(Qze,"FromUnion");function Mze(e){return[e.toString()]}o(Mze,"FromLiteral");function M0(e){return[...new Set(Mu(e)?Lze(e):Ui(e)?Qze(e.anyOf):Lu(e)?Mze(e.const):Fm(e)?["[number]"]:Pm(e)?["[number]"]:[])]}o(M0,"IndexPropertyKeys");d();function Oze(e,t,r){let n={};for(let i of Object.getOwnPropertyNames(t))n[i]=Ry(e,M0(t[i]),r);return n}o(Oze,"FromProperties");function Uze(e,t,r){return Oze(e,t.properties,r)}o(Uze,"FromMappedResult");function qpe(e,t,r){let n=Uze(e,t,r);return Vi(n)}o(qpe,"IndexFromMappedResult");function Gpe(e,t){return e.map(r=>Hpe(r,t))}o(Gpe,"FromRest");function qze(e){return e.filter(t=>!_y(t))}o(qze,"FromIntersectRest");function Wze(e,t){return EP(qze(Gpe(e,t)))}o(Wze,"FromIntersect");function Gze(e){return e.some(t=>_y(t))?[]:e}o(Gze,"FromUnionRest");function Hze(e,t){return _p(Gze(Gpe(e,t)))}o(Hze,"FromUnion");function jze(e,t){return t in e?e[t]:t==="[number]"?_p(e):Xn()}o(jze,"FromTuple");function Vze(e,t){return t==="[number]"?e:Xn()}o(Vze,"FromArray");function $ze(e,t){return t in e?e[t]:Xn()}o($ze,"FromProperty");function Hpe(e,t){return qs(e)?Wze(e.allOf,t):Ui(e)?Hze(e.anyOf,t):Ou(e)?jze(e.items??[],t):km(e)?Vze(e.items,t):Aa(e)?$ze(e.properties,t):Xn()}o(Hpe,"IndexFromPropertyKey");function $T(e,t){return t.map(r=>Hpe(e,r))}o($T,"IndexFromPropertyKeys");function Wpe(e,t){return _p($T(e,t))}o(Wpe,"FromSchema");function Ry(e,t,r){if(Ks(e)||Ks(t)){let n="Index types using Ref parameters require both Type and Key to be of TSchema";if(!Ss(e)||!Ss(t))throw new gn(n);return Ko("Index",[e,t])}return ls(t)?qpe(e,t,r):Qu(t)?jpe(e,t,r):ut(Ss(t)?Wpe(e,M0(t)):Wpe(e,t),r)}o(Ry,"Index");function zze(e,t,r){return{[t]:Ry(e,[t],ss(r))}}o(zze,"MappedIndexPropertyKey");function Yze(e,t,r){return t.reduce((n,i)=>({...n,...zze(e,i,r)}),{})}o(Yze,"MappedIndexPropertyKeys");function Kze(e,t,r){return Yze(e,t.keys,r)}o(Kze,"MappedIndexProperties");function jpe(e,t,r){let n=Kze(e,t,r);return Vi(n)}o(jpe,"IndexFromMappedKey");d();function wE(e,t){return ut({[ot]:"Iterator",type:"Iterator",items:e},t)}o(wE,"Iterator");d();function Jze(e){let t=[];for(let r in e)Q0(e[r])||t.push(r);return t}o(Jze,"RequiredKeys");function Zze(e,t){let r=Jze(e),n=r.length>0?{[ot]:"Object",type:"object",properties:e,required:r}:{[ot]:"Object",type:"object",properties:e};return ut(n,t)}o(Zze,"_Object");var oo=Zze;d();function IP(e,t){return ut({[ot]:"Promise",type:"Promise",item:e},t)}o(IP,"Promise");d();d();function Xze(e){return ut(Ws(e,[Sm]))}o(Xze,"RemoveReadonly");function eYe(e){return ut({...e,[Sm]:"Readonly"})}o(eYe,"AddReadonly");function tYe(e,t){return t===!1?Xze(e):eYe(e)}o(tYe,"ReadonlyWithFlag");function O0(e,t){let r=t??!0;return ls(e)?Vpe(e,r):tYe(e,r)}o(O0,"Readonly");function rYe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=O0(e[n],t);return r}o(rYe,"FromProperties");function nYe(e,t){return rYe(e.properties,t)}o(nYe,"FromMappedResult");function Vpe(e,t){let r=nYe(e,t);return Vi(r)}o(Vpe,"ReadonlyFromMappedResult");d();function td(e,t){return ut(e.length>0?{[ot]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[ot]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}o(td,"Tuple");function $pe(e,t){return e in t?rd(e,t[e]):Vi(t)}o($pe,"FromMappedResult");function iYe(e){return{[e]:Bi(e)}}o(iYe,"MappedKeyToKnownMappedResultProperties");function oYe(e){let t={};for(let r of e)t[r]=Bi(r);return t}o(oYe,"MappedKeyToUnknownMappedResultProperties");function sYe(e,t){return Bpe(t,e)?iYe(e):oYe(t)}o(sYe,"MappedKeyToMappedResultProperties");function aYe(e,t){let r=sYe(e,t);return $pe(e,r)}o(aYe,"FromMappedKey");function zT(e,t){return t.map(r=>rd(e,r))}o(zT,"FromRest");function lYe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=rd(e,t[n]);return r}o(lYe,"FromProperties");function rd(e,t){let r={...t};return Q0(t)?Tc(rd(e,Ws(t,[Yl]))):gE(t)?O0(rd(e,Ws(t,[Sm]))):ls(t)?$pe(e,t.properties):Qu(t)?aYe(e,t.keys):Bm(t)?vE(zT(e,t.parameters),rd(e,t.returns),r):Dm(t)?wp(zT(e,t.parameters),rd(e,t.returns),r):K3(t)?xE(rd(e,t.items),r):Z3(t)?wE(rd(e,t.items),r):qs(t)?wc(zT(e,t.allOf),r):Ui(t)?io(zT(e,t.anyOf),r):Ou(t)?td(zT(e,t.items??[]),r):Aa(t)?oo(lYe(e,t.properties),r):km(t)?CE(rd(e,t.items),r):X3(t)?IP(rd(e,t.item),r):t}o(rd,"FromSchemaType");function cYe(e,t){let r={};for(let n of e)r[n]=rd(n,t);return r}o(cYe,"MappedFunctionReturnType");function zpe(e,t,r){let n=Ss(e)?M0(e):e,i=t({[ot]:"MappedKey",keys:n}),s=cYe(n,i);return oo(s,r)}o(zpe,"Mapped");d();function uYe(e){return ut(Ws(e,[Yl]))}o(uYe,"RemoveOptional");function fYe(e){return ut({...e,[Yl]:"Optional"})}o(fYe,"AddOptional");function dYe(e,t){return t===!1?uYe(e):fYe(e)}o(dYe,"OptionalWithFlag");function Tc(e,t){let r=t??!0;return ls(e)?Ype(e,r):dYe(e,r)}o(Tc,"Optional");function mYe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Tc(e[n],t);return r}o(mYe,"FromProperties");function hYe(e,t){return mYe(e.properties,t)}o(hYe,"FromMappedResult");function Ype(e,t){let r=hYe(e,t);return Vi(r)}o(Ype,"OptionalFromMappedResult");d();function YT(e,t={}){let r=e.every(i=>Aa(i)),n=Ss(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return ut(t.unevaluatedProperties===!1||Ss(t.unevaluatedProperties)||r?{...n,[ot]:"Intersect",type:"object",allOf:e}:{...n,[ot]:"Intersect",allOf:e},t)}o(YT,"IntersectCreate");function pYe(e){return e.every(t=>Q0(t))}o(pYe,"IsIntersectOptional");function gYe(e){return Ws(e,[Yl])}o(gYe,"RemoveOptionalFromType");function Kpe(e){return e.map(t=>Q0(t)?gYe(t):t)}o(Kpe,"RemoveOptionalFromRest");function AYe(e,t){return pYe(e)?Tc(YT(Kpe(e),t)):YT(Kpe(e),t)}o(AYe,"ResolveIntersect");function EP(e,t={}){if(e.length===1)return ut(e[0],t);if(e.length===0)return Xn(t);if(e.some(r=>no(r)))throw new Error("Cannot intersect transform types");return AYe(e,t)}o(EP,"IntersectEvaluated");d();function wc(e,t){if(e.length===1)return ut(e[0],t);if(e.length===0)return Xn(t);if(e.some(r=>no(r)))throw new Error("Cannot intersect transform types");return YT(e,t)}o(wc,"Intersect");d();function nd(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new gn("Ref: $ref must be a string");return ut({[ot]:"Ref",$ref:t},r)}o(nd,"Ref");function yYe(e,t){return Ko("Awaited",[Ko(e,t)])}o(yYe,"FromComputed");function CYe(e){return Ko("Awaited",[nd(e)])}o(CYe,"FromRef");function xYe(e){return wc(Jpe(e))}o(xYe,"FromIntersect");function vYe(e){return io(Jpe(e))}o(vYe,"FromUnion");function bYe(e){return _E(e)}o(bYe,"FromPromise");function Jpe(e){return e.map(t=>_E(t))}o(Jpe,"FromRest");function _E(e,t){return ut(Rm(e)?yYe(e.target,e.parameters):qs(e)?xYe(e.allOf):Ui(e)?vYe(e.anyOf):X3(e)?bYe(e.item):Ks(e)?CYe(e.$ref):e,t)}o(_E,"Awaited");d();d();d();d();function Zpe(e){let t=[];for(let r of e)t.push(U0(r));return t}o(Zpe,"FromRest");function EYe(e){let t=Zpe(e);return Fpe(t)}o(EYe,"FromIntersect");function IYe(e){let t=Zpe(e);return Ppe(t)}o(IYe,"FromUnion");function TYe(e){return e.map((t,r)=>r.toString())}o(TYe,"FromTuple");function wYe(e){return["[number]"]}o(wYe,"FromArray");function _Ye(e){return globalThis.Object.getOwnPropertyNames(e)}o(_Ye,"FromProperties");function SYe(e){return LY?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}o(SYe,"FromPatternProperties");function U0(e){return qs(e)?EYe(e.allOf):Ui(e)?IYe(e.anyOf):Ou(e)?TYe(e.items??[]):km(e)?wYe(e.items):Aa(e)?_Ye(e.properties):e4(e)?SYe(e.patternProperties):[]}o(U0,"KeyOfPropertyKeys");var LY=!1;function B1(e){LY=!0;let t=U0(e);return LY=!1,`^(${t.map(n=>`(${n})`).join("|")})$`}o(B1,"KeyOfPattern");function kYe(e,t){return Ko("KeyOf",[Ko(e,t)])}o(kYe,"FromComputed");function RYe(e){return Ko("KeyOf",[nd(e)])}o(RYe,"FromRef");function BYe(e,t){let r=U0(e),n=DYe(r),i=_p(n);return ut(i,t)}o(BYe,"KeyOfFromType");function DYe(e){return e.map(t=>t==="[number]"?ed():Bi(t))}o(DYe,"KeyOfPropertyKeysToRest");function SE(e,t){return Rm(e)?kYe(e.target,e.parameters):Ks(e)?RYe(e.$ref):ls(e)?Xpe(e,t):BYe(e,t)}o(SE,"KeyOf");function PYe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=SE(e[n],ss(t));return r}o(PYe,"FromProperties");function FYe(e,t){return PYe(e.properties,t)}o(FYe,"FromMappedResult");function Xpe(e,t){let r=FYe(e,t);return Vi(r)}o(Xpe,"KeyOfFromMappedResult");d();function TP(e){let t=U0(e),r=$T(e,t);return t.map((n,i)=>[t[i],r[i]])}o(TP,"KeyOfPropertyEntries");function NYe(e){let t=[];for(let r of e)t.push(...U0(r));return Dpe(t)}o(NYe,"CompositeKeys");function LYe(e){return e.filter(t=>!_y(t))}o(LYe,"FilterNever");function QYe(e,t){let r=[];for(let n of e)r.push(...$T(n,[t]));return LYe(r)}o(QYe,"CompositeProperty");function MYe(e,t){let r={};for(let n of t)r[n]=EP(QYe(e,n));return r}o(MYe,"CompositeProperties");function ege(e,t){let r=NYe(e),n=MYe(e,r);return oo(n,t)}o(ege,"Composite");d();d();function wP(e){return ut({[ot]:"Date",type:"Date"},e)}o(wP,"Date");d();function _P(e){return ut({[ot]:"Null",type:"null"},e)}o(_P,"Null");d();function SP(e){return ut({[ot]:"Symbol",type:"symbol"},e)}o(SP,"Symbol");d();function kP(e){return ut({[ot]:"Undefined",type:"undefined"},e)}o(kP,"Undefined");d();function RP(e){return ut({[ot]:"Uint8Array",type:"Uint8Array"},e)}o(RP,"Uint8Array");d();function Lm(e){return ut({[ot]:"Unknown"},e)}o(Lm,"Unknown");function OYe(e){return e.map(t=>QY(t,!1))}o(OYe,"FromArray");function UYe(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=O0(QY(e[r],!1));return t}o(UYe,"FromProperties");function BP(e,t){return t===!0?e:O0(e)}o(BP,"ConditionalReadonly");function QY(e,t){return pY(e)?BP(ky(),t):AY(e)?BP(ky(),t):pa(e)?O0(td(OYe(e))):E1(e)?RP():Y3(e)?wP():ko(e)?BP(oo(UYe(e)),t):gY(e)?BP(wp([],Lm()),t):ga(e)?kP():yY(e)?_P():CY(e)?SP():LT(e)?TE():Fu(e)?Bi(e):b1(e)?Bi(e):Wo(e)?Bi(e):oo({})}o(QY,"FromValue");function tge(e,t){return ut(QY(e,!0),t)}o(tge,"Const");d();function rge(e,t){return Bm(e)?td(e.parameters,t):Xn(t)}o(rge,"ConstructorParameters");d();function nge(e,t){if(ga(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(s=>isNaN(s)).map(s=>e[s]),i=[...new Set(r)].map(s=>Bi(s));return io(i,{...t,[Xf]:"Enum"})}o(nge,"Enum");d();d();d();var OY=class extends gn{static{o(this,"ExtendsResolverError")}},dt;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(dt||(dt={}));function id(e){return e===dt.False?e:dt.True}o(id,"IntoBooleanResult");function kE(e){throw new OY(e)}o(kE,"Throw");function Ma(e){return Me.IsNever(e)||Me.IsIntersect(e)||Me.IsUnion(e)||Me.IsUnknown(e)||Me.IsAny(e)}o(Ma,"IsStructuralRight");function Oa(e,t){return Me.IsNever(t)?uge(e,t):Me.IsIntersect(t)?DP(e,t):Me.IsUnion(t)?GY(e,t):Me.IsUnknown(t)?hge(e,t):Me.IsAny(t)?WY(e,t):kE("StructuralRight")}o(Oa,"StructuralRight");function WY(e,t){return dt.True}o(WY,"FromAnyRight");function qYe(e,t){return Me.IsIntersect(t)?DP(e,t):Me.IsUnion(t)&&t.anyOf.some(r=>Me.IsAny(r)||Me.IsUnknown(r))?dt.True:Me.IsUnion(t)?dt.Union:Me.IsUnknown(t)||Me.IsAny(t)?dt.True:dt.Union}o(qYe,"FromAny");function WYe(e,t){return Me.IsUnknown(e)?dt.False:Me.IsAny(e)?dt.Union:Me.IsNever(e)?dt.True:dt.False}o(WYe,"FromArrayRight");function GYe(e,t){return Me.IsObject(t)&&PP(t)?dt.True:Ma(t)?Oa(e,t):Me.IsArray(t)?id(Bo(e.items,t.items)):dt.False}o(GYe,"FromArray");function HYe(e,t){return Ma(t)?Oa(e,t):Me.IsAsyncIterator(t)?id(Bo(e.items,t.items)):dt.False}o(HYe,"FromAsyncIterator");function jYe(e,t){return Ma(t)?Oa(e,t):Me.IsObject(t)?_c(e,t):Me.IsRecord(t)?od(e,t):Me.IsBigInt(t)?dt.True:dt.False}o(jYe,"FromBigInt");function lge(e,t){return Me.IsLiteralBoolean(e)||Me.IsBoolean(e)?dt.True:dt.False}o(lge,"FromBooleanRight");function VYe(e,t){return Ma(t)?Oa(e,t):Me.IsObject(t)?_c(e,t):Me.IsRecord(t)?od(e,t):Me.IsBoolean(t)?dt.True:dt.False}o(VYe,"FromBoolean");function $Ye(e,t){return Ma(t)?Oa(e,t):Me.IsObject(t)?_c(e,t):Me.IsConstructor(t)?e.parameters.length>t.parameters.length?dt.False:e.parameters.every((r,n)=>id(Bo(t.parameters[n],r))===dt.True)?id(Bo(e.returns,t.returns)):dt.False:dt.False}o($Ye,"FromConstructor");function zYe(e,t){return Ma(t)?Oa(e,t):Me.IsObject(t)?_c(e,t):Me.IsRecord(t)?od(e,t):Me.IsDate(t)?dt.True:dt.False}o(zYe,"FromDate");function YYe(e,t){return Ma(t)?Oa(e,t):Me.IsObject(t)?_c(e,t):Me.IsFunction(t)?e.parameters.length>t.parameters.length?dt.False:e.parameters.every((r,n)=>id(Bo(t.parameters[n],r))===dt.True)?id(Bo(e.returns,t.returns)):dt.False:dt.False}o(YYe,"FromFunction");function cge(e,t){return Me.IsLiteral(e)&&Ic.IsNumber(e.const)||Me.IsNumber(e)||Me.IsInteger(e)?dt.True:dt.False}o(cge,"FromIntegerRight");function KYe(e,t){return Me.IsInteger(t)||Me.IsNumber(t)?dt.True:Ma(t)?Oa(e,t):Me.IsObject(t)?_c(e,t):Me.IsRecord(t)?od(e,t):dt.False}o(KYe,"FromInteger");function DP(e,t){return t.allOf.every(r=>Bo(e,r)===dt.True)?dt.True:dt.False}o(DP,"FromIntersectRight");function JYe(e,t){return e.allOf.some(r=>Bo(r,t)===dt.True)?dt.True:dt.False}o(JYe,"FromIntersect");function ZYe(e,t){return Ma(t)?Oa(e,t):Me.IsIterator(t)?id(Bo(e.items,t.items)):dt.False}o(ZYe,"FromIterator");function XYe(e,t){return Me.IsLiteral(t)&&t.const===e.const?dt.True:Ma(t)?Oa(e,t):Me.IsObject(t)?_c(e,t):Me.IsRecord(t)?od(e,t):Me.IsString(t)?mge(e,t):Me.IsNumber(t)?fge(e,t):Me.IsInteger(t)?cge(e,t):Me.IsBoolean(t)?lge(e,t):dt.False}o(XYe,"FromLiteral");function uge(e,t){return dt.False}o(uge,"FromNeverRight");function eKe(e,t){return dt.True}o(eKe,"FromNever");function ige(e){let[t,r]=[e,0];for(;Me.IsNot(t);)t=t.not,r+=1;return r%2===0?t:Lm()}o(ige,"UnwrapTNot");function tKe(e,t){return Me.IsNot(e)?Bo(ige(e),t):Me.IsNot(t)?Bo(e,ige(t)):kE("Invalid fallthrough for Not")}o(tKe,"FromNot");function rKe(e,t){return Ma(t)?Oa(e,t):Me.IsObject(t)?_c(e,t):Me.IsRecord(t)?od(e,t):Me.IsNull(t)?dt.True:dt.False}o(rKe,"FromNull");function fge(e,t){return Me.IsLiteralNumber(e)||Me.IsNumber(e)||Me.IsInteger(e)?dt.True:dt.False}o(fge,"FromNumberRight");function nKe(e,t){return Ma(t)?Oa(e,t):Me.IsObject(t)?_c(e,t):Me.IsRecord(t)?od(e,t):Me.IsInteger(t)||Me.IsNumber(t)?dt.True:dt.False}o(nKe,"FromNumber");function q0(e,t){return Object.getOwnPropertyNames(e.properties).length===t}o(q0,"IsObjectPropertyCount");function oge(e){return PP(e)}o(oge,"IsObjectStringLike");function sge(e){return q0(e,0)||q0(e,1)&&"description"in e.properties&&Me.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(Me.IsString(e.properties.description.anyOf[0])&&Me.IsUndefined(e.properties.description.anyOf[1])||Me.IsString(e.properties.description.anyOf[1])&&Me.IsUndefined(e.properties.description.anyOf[0]))}o(sge,"IsObjectSymbolLike");function MY(e){return q0(e,0)}o(MY,"IsObjectNumberLike");function age(e){return q0(e,0)}o(age,"IsObjectBooleanLike");function iKe(e){return q0(e,0)}o(iKe,"IsObjectBigIntLike");function oKe(e){return q0(e,0)}o(oKe,"IsObjectDateLike");function sKe(e){return PP(e)}o(sKe,"IsObjectUint8ArrayLike");function aKe(e){let t=ed();return q0(e,0)||q0(e,1)&&"length"in e.properties&&id(Bo(e.properties.length,t))===dt.True}o(aKe,"IsObjectFunctionLike");function lKe(e){return q0(e,0)}o(lKe,"IsObjectConstructorLike");function PP(e){let t=ed();return q0(e,0)||q0(e,1)&&"length"in e.properties&&id(Bo(e.properties.length,t))===dt.True}o(PP,"IsObjectArrayLike");function cKe(e){let t=wp([ky()],ky());return q0(e,0)||q0(e,1)&&"then"in e.properties&&id(Bo(e.properties.then,t))===dt.True}o(cKe,"IsObjectPromiseLike");function dge(e,t){return Bo(e,t)===dt.False||Me.IsOptional(e)&&!Me.IsOptional(t)?dt.False:dt.True}o(dge,"Property");function _c(e,t){return Me.IsUnknown(e)?dt.False:Me.IsAny(e)?dt.Union:Me.IsNever(e)||Me.IsLiteralString(e)&&oge(t)||Me.IsLiteralNumber(e)&&MY(t)||Me.IsLiteralBoolean(e)&&age(t)||Me.IsSymbol(e)&&sge(t)||Me.IsBigInt(e)&&iKe(t)||Me.IsString(e)&&oge(t)||Me.IsSymbol(e)&&sge(t)||Me.IsNumber(e)&&MY(t)||Me.IsInteger(e)&&MY(t)||Me.IsBoolean(e)&&age(t)||Me.IsUint8Array(e)&&sKe(t)||Me.IsDate(e)&&oKe(t)||Me.IsConstructor(e)&&lKe(t)||Me.IsFunction(e)&&aKe(t)?dt.True:Me.IsRecord(e)&&Me.IsString(UY(e))?t[Xf]==="Record"?dt.True:dt.False:Me.IsRecord(e)&&Me.IsNumber(UY(e))?q0(t,0)?dt.True:dt.False:dt.False}o(_c,"FromObjectRight");function uKe(e,t){return Ma(t)?Oa(e,t):Me.IsRecord(t)?od(e,t):Me.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!Me.IsOptional(t.properties[r]))return dt.False;if(Me.IsOptional(t.properties[r]))return dt.True;if(dge(e.properties[r],t.properties[r])===dt.False)return dt.False}return dt.True})():dt.False}o(uKe,"FromObject");function fKe(e,t){return Ma(t)?Oa(e,t):Me.IsObject(t)&&cKe(t)?dt.True:Me.IsPromise(t)?id(Bo(e.item,t.item)):dt.False}o(fKe,"FromPromise");function UY(e){return Ip in e.patternProperties?ed():Tp in e.patternProperties?t0():kE("Unknown record key pattern")}o(UY,"RecordKey");function qY(e){return Ip in e.patternProperties?e.patternProperties[Ip]:Tp in e.patternProperties?e.patternProperties[Tp]:kE("Unable to get record value schema")}o(qY,"RecordValue");function od(e,t){let[r,n]=[UY(t),qY(t)];return Me.IsLiteralString(e)&&Me.IsNumber(r)&&id(Bo(e,n))===dt.True?dt.True:Me.IsUint8Array(e)&&Me.IsNumber(r)||Me.IsString(e)&&Me.IsNumber(r)||Me.IsArray(e)&&Me.IsNumber(r)?Bo(e,n):Me.IsObject(e)?(()=>{for(let i of Object.getOwnPropertyNames(e.properties))if(dge(n,e.properties[i])===dt.False)return dt.False;return dt.True})():dt.False}o(od,"FromRecordRight");function dKe(e,t){return Ma(t)?Oa(e,t):Me.IsObject(t)?_c(e,t):Me.IsRecord(t)?Bo(qY(e),qY(t)):dt.False}o(dKe,"FromRecord");function mKe(e,t){let r=Me.IsRegExp(e)?t0():e,n=Me.IsRegExp(t)?t0():t;return Bo(r,n)}o(mKe,"FromRegExp");function mge(e,t){return Me.IsLiteral(e)&&Ic.IsString(e.const)||Me.IsString(e)?dt.True:dt.False}o(mge,"FromStringRight");function hKe(e,t){return Ma(t)?Oa(e,t):Me.IsObject(t)?_c(e,t):Me.IsRecord(t)?od(e,t):Me.IsString(t)?dt.True:dt.False}o(hKe,"FromString");function pKe(e,t){return Ma(t)?Oa(e,t):Me.IsObject(t)?_c(e,t):Me.IsRecord(t)?od(e,t):Me.IsSymbol(t)?dt.True:dt.False}o(pKe,"FromSymbol");function gKe(e,t){return Me.IsTemplateLiteral(e)?Bo(r4(e),t):Me.IsTemplateLiteral(t)?Bo(e,r4(t)):kE("Invalid fallthrough for TemplateLiteral")}o(gKe,"FromTemplateLiteral");function AKe(e,t){return Me.IsArray(t)&&e.items!==void 0&&e.items.every(r=>Bo(r,t.items)===dt.True)}o(AKe,"IsArrayOfTuple");function yKe(e,t){return Me.IsNever(e)?dt.True:Me.IsUnknown(e)?dt.False:Me.IsAny(e)?dt.Union:dt.False}o(yKe,"FromTupleRight");function CKe(e,t){return Ma(t)?Oa(e,t):Me.IsObject(t)&&PP(t)||Me.IsArray(t)&&AKe(e,t)?dt.True:Me.IsTuple(t)?Ic.IsUndefined(e.items)&&!Ic.IsUndefined(t.items)||!Ic.IsUndefined(e.items)&&Ic.IsUndefined(t.items)?dt.False:Ic.IsUndefined(e.items)&&!Ic.IsUndefined(t.items)||e.items.every((r,n)=>Bo(r,t.items[n])===dt.True)?dt.True:dt.False:dt.False}o(CKe,"FromTuple");function xKe(e,t){return Ma(t)?Oa(e,t):Me.IsObject(t)?_c(e,t):Me.IsRecord(t)?od(e,t):Me.IsUint8Array(t)?dt.True:dt.False}o(xKe,"FromUint8Array");function vKe(e,t){return Ma(t)?Oa(e,t):Me.IsObject(t)?_c(e,t):Me.IsRecord(t)?od(e,t):Me.IsVoid(t)?IKe(e,t):Me.IsUndefined(t)?dt.True:dt.False}o(vKe,"FromUndefined");function GY(e,t){return t.anyOf.some(r=>Bo(e,r)===dt.True)?dt.True:dt.False}o(GY,"FromUnionRight");function bKe(e,t){return e.anyOf.every(r=>Bo(r,t)===dt.True)?dt.True:dt.False}o(bKe,"FromUnion");function hge(e,t){return dt.True}o(hge,"FromUnknownRight");function EKe(e,t){return Me.IsNever(t)?uge(e,t):Me.IsIntersect(t)?DP(e,t):Me.IsUnion(t)?GY(e,t):Me.IsAny(t)?WY(e,t):Me.IsString(t)?mge(e,t):Me.IsNumber(t)?fge(e,t):Me.IsInteger(t)?cge(e,t):Me.IsBoolean(t)?lge(e,t):Me.IsArray(t)?WYe(e,t):Me.IsTuple(t)?yKe(e,t):Me.IsObject(t)?_c(e,t):Me.IsUnknown(t)?dt.True:dt.False}o(EKe,"FromUnknown");function IKe(e,t){return Me.IsUndefined(e)||Me.IsUndefined(e)?dt.True:dt.False}o(IKe,"FromVoidRight");function TKe(e,t){return Me.IsIntersect(t)?DP(e,t):Me.IsUnion(t)?GY(e,t):Me.IsUnknown(t)?hge(e,t):Me.IsAny(t)?WY(e,t):Me.IsObject(t)?_c(e,t):Me.IsVoid(t)?dt.True:dt.False}o(TKe,"FromVoid");function Bo(e,t){return Me.IsTemplateLiteral(e)||Me.IsTemplateLiteral(t)?gKe(e,t):Me.IsRegExp(e)||Me.IsRegExp(t)?mKe(e,t):Me.IsNot(e)||Me.IsNot(t)?tKe(e,t):Me.IsAny(e)?qYe(e,t):Me.IsArray(e)?GYe(e,t):Me.IsBigInt(e)?jYe(e,t):Me.IsBoolean(e)?VYe(e,t):Me.IsAsyncIterator(e)?HYe(e,t):Me.IsConstructor(e)?$Ye(e,t):Me.IsDate(e)?zYe(e,t):Me.IsFunction(e)?YYe(e,t):Me.IsInteger(e)?KYe(e,t):Me.IsIntersect(e)?JYe(e,t):Me.IsIterator(e)?ZYe(e,t):Me.IsLiteral(e)?XYe(e,t):Me.IsNever(e)?eKe(e,t):Me.IsNull(e)?rKe(e,t):Me.IsNumber(e)?nKe(e,t):Me.IsObject(e)?uKe(e,t):Me.IsRecord(e)?dKe(e,t):Me.IsString(e)?hKe(e,t):Me.IsSymbol(e)?pKe(e,t):Me.IsTuple(e)?CKe(e,t):Me.IsPromise(e)?fKe(e,t):Me.IsUint8Array(e)?xKe(e,t):Me.IsUndefined(e)?vKe(e,t):Me.IsUnion(e)?bKe(e,t):Me.IsUnknown(e)?EKe(e,t):Me.IsVoid(e)?TKe(e,t):kE(`Unknown left type operand '${e[ot]}'`)}o(Bo,"Visit");function By(e,t){return Bo(e,t)}o(By,"ExtendsCheck");d();d();d();function wKe(e,t,r,n,i){let s={};for(let a of globalThis.Object.getOwnPropertyNames(e))s[a]=RE(e[a],t,r,n,ss(i));return s}o(wKe,"FromProperties");function _Ke(e,t,r,n,i){return wKe(e.properties,t,r,n,i)}o(_Ke,"FromMappedResult");function pge(e,t,r,n,i){let s=_Ke(e,t,r,n,i);return Vi(s)}o(pge,"ExtendsFromMappedResult");function SKe(e,t,r,n){let i=By(e,t);return i===dt.Union?io([r,n]):i===dt.True?r:n}o(SKe,"ExtendsResolve");function RE(e,t,r,n,i){return ls(e)?pge(e,t,r,n,i):Qu(e)?ut(gge(e,t,r,n,i)):ut(SKe(e,t,r,n),i)}o(RE,"Extends");function kKe(e,t,r,n,i){return{[e]:RE(Bi(e),t,r,n,ss(i))}}o(kKe,"FromPropertyKey");function RKe(e,t,r,n,i){return e.reduce((s,a)=>({...s,...kKe(a,t,r,n,i)}),{})}o(RKe,"FromPropertyKeys");function BKe(e,t,r,n,i){return RKe(e.keys,t,r,n,i)}o(BKe,"FromMappedKey");function gge(e,t,r,n,i){let s=BKe(e,t,r,n,i);return Vi(s)}o(gge,"ExtendsFromMappedKey");d();function DKe(e){return e.allOf.every(t=>D1(t))}o(DKe,"Intersect");function PKe(e){return e.anyOf.some(t=>D1(t))}o(PKe,"Union");function FKe(e){return!D1(e.not)}o(FKe,"Not");function D1(e){return e[ot]==="Intersect"?DKe(e):e[ot]==="Union"?PKe(e):e[ot]==="Not"?FKe(e):e[ot]==="Undefined"}o(D1,"ExtendsUndefinedCheck");d();function Age(e,t){return BE(r4(e),t)}o(Age,"ExcludeFromTemplateLiteral");function NKe(e,t){let r=e.filter(n=>By(n,t)===dt.False);return r.length===1?r[0]:io(r)}o(NKe,"ExcludeRest");function BE(e,t,r={}){return Mu(e)?ut(Age(e,t),r):ls(e)?ut(yge(e,t),r):ut(Ui(e)?NKe(e.anyOf,t):By(e,t)!==dt.False?Xn():e,r)}o(BE,"Exclude");function LKe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=BE(e[n],t);return r}o(LKe,"FromProperties");function QKe(e,t){return LKe(e.properties,t)}o(QKe,"FromMappedResult");function yge(e,t){let r=QKe(e,t);return Vi(r)}o(yge,"ExcludeFromMappedResult");d();d();d();function Cge(e,t){return DE(r4(e),t)}o(Cge,"ExtractFromTemplateLiteral");function MKe(e,t){let r=e.filter(n=>By(n,t)!==dt.False);return r.length===1?r[0]:io(r)}o(MKe,"ExtractRest");function DE(e,t,r){return Mu(e)?ut(Cge(e,t),r):ls(e)?ut(xge(e,t),r):ut(Ui(e)?MKe(e.anyOf,t):By(e,t)!==dt.False?e:Xn(),r)}o(DE,"Extract");function OKe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=DE(e[n],t);return r}o(OKe,"FromProperties");function UKe(e,t){return OKe(e.properties,t)}o(UKe,"FromMappedResult");function xge(e,t){let r=UKe(e,t);return Vi(r)}o(xge,"ExtractFromMappedResult");d();function vge(e,t){return Bm(e)?ut(e.returns,t):Xn(t)}o(vge,"InstanceType");d();d();function FP(e){return O0(Tc(e))}o(FP,"ReadonlyOptional");d();function n4(e,t,r){return ut({[ot]:"Record",type:"object",patternProperties:{[e]:t}},r)}o(n4,"RecordCreateFromPattern");function HY(e,t,r){let n={};for(let i of e)n[i]=t;return oo(n,{...r,[Xf]:"Record"})}o(HY,"RecordCreateFromKeys");function qKe(e,t,r){return xP(e)?HY(M0(e),t,r):n4(e.pattern,t,r)}o(qKe,"FromTemplateLiteralKey");function WKe(e,t,r){return HY(M0(io(e)),t,r)}o(WKe,"FromUnionKey");function GKe(e,t,r){return HY([e.toString()],t,r)}o(GKe,"FromLiteralKey");function HKe(e,t,r){return n4(e.source,t,r)}o(HKe,"FromRegExpKey");function jKe(e,t,r){let n=ga(e.pattern)?Tp:e.pattern;return n4(n,t,r)}o(jKe,"FromStringKey");function VKe(e,t,r){return n4(Tp,t,r)}o(VKe,"FromAnyKey");function $Ke(e,t,r){return n4(Rpe,t,r)}o($Ke,"FromNeverKey");function zKe(e,t,r){return oo({true:t,false:t},r)}o(zKe,"FromBooleanKey");function YKe(e,t,r){return n4(Ip,t,r)}o(YKe,"FromIntegerKey");function KKe(e,t,r){return n4(Ip,t,r)}o(KKe,"FromNumberKey");function NP(e,t,r={}){return Ui(e)?WKe(e.anyOf,t,r):Mu(e)?qKe(e,t,r):Lu(e)?GKe(e.const,t,r):w1(e)?zKe(e,t,r):Pm(e)?YKe(e,t,r):Fm(e)?KKe(e,t,r):EY(e)?HKe(e,t,r):_1(e)?jKe(e,t,r):vY(e)?VKe(e,t,r):_y(e)?$Ke(e,t,r):Xn(r)}o(NP,"Record");function LP(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}o(LP,"RecordPattern");function bge(e){let t=LP(e);return t===Tp?t0():t===Ip?ed():t0({pattern:t})}o(bge,"RecordKey");function QP(e){return e.patternProperties[LP(e)]}o(QP,"RecordValue");function JKe(e,t){return t.parameters=KT(e,t.parameters),t.returns=Qm(e,t.returns),t}o(JKe,"FromConstructor");function ZKe(e,t){return t.parameters=KT(e,t.parameters),t.returns=Qm(e,t.returns),t}o(ZKe,"FromFunction");function XKe(e,t){return t.allOf=KT(e,t.allOf),t}o(XKe,"FromIntersect");function eJe(e,t){return t.anyOf=KT(e,t.anyOf),t}o(eJe,"FromUnion");function tJe(e,t){return ga(t.items)||(t.items=KT(e,t.items)),t}o(tJe,"FromTuple");function rJe(e,t){return t.items=Qm(e,t.items),t}o(rJe,"FromArray");function nJe(e,t){return t.items=Qm(e,t.items),t}o(nJe,"FromAsyncIterator");function iJe(e,t){return t.items=Qm(e,t.items),t}o(iJe,"FromIterator");function oJe(e,t){return t.item=Qm(e,t.item),t}o(oJe,"FromPromise");function sJe(e,t){let r=uJe(e,t.properties);return{...t,...oo(r)}}o(sJe,"FromObject");function aJe(e,t){let r=Qm(e,bge(t)),n=Qm(e,QP(t)),i=NP(r,n);return{...t,...i}}o(aJe,"FromRecord");function lJe(e,t){return t.index in e?e[t.index]:Lm()}o(lJe,"FromArgument");function cJe(e,t){let r=gE(t),n=Q0(t),i=Qm(e,t);return r&&n?FP(i):r&&!n?O0(i):!r&&n?Tc(i):i}o(cJe,"FromProperty");function uJe(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:cJe(e,t[n])}),{})}o(uJe,"FromProperties");function KT(e,t){return t.map(r=>Qm(e,r))}o(KT,"FromTypes");function Qm(e,t){return Bm(t)?JKe(e,t):Dm(t)?ZKe(e,t):qs(t)?XKe(e,t):Ui(t)?eJe(e,t):Ou(t)?tJe(e,t):km(t)?rJe(e,t):K3(t)?nJe(e,t):Z3(t)?iJe(e,t):X3(t)?oJe(e,t):Aa(t)?sJe(e,t):e4(t)?aJe(e,t):bY(t)?lJe(e,t):t}o(Qm,"FromType");function Ege(e,t){return Qm(t,hE(e))}o(Ege,"Instantiate");d();function Ige(e){return ut({[ot]:"Integer",type:"integer"},e)}o(Ige,"Integer");d();d();d();function fJe(e,t,r){return{[e]:Mm(Bi(e),t,ss(r))}}o(fJe,"MappedIntrinsicPropertyKey");function dJe(e,t,r){return e.reduce((i,s)=>({...i,...fJe(s,t,r)}),{})}o(dJe,"MappedIntrinsicPropertyKeys");function mJe(e,t,r){return dJe(e.keys,t,r)}o(mJe,"MappedIntrinsicProperties");function Tge(e,t,r){let n=mJe(e,t,r);return Vi(n)}o(Tge,"IntrinsicFromMappedKey");function hJe(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}o(hJe,"ApplyUncapitalize");function pJe(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}o(pJe,"ApplyCapitalize");function gJe(e){return e.toUpperCase()}o(gJe,"ApplyUppercase");function AJe(e){return e.toLowerCase()}o(AJe,"ApplyLowercase");function yJe(e,t,r){let n=EE(e.pattern);if(!t4(n))return{...e,pattern:wge(e.pattern,t)};let a=[...VT(n)].map(u=>Bi(u)),l=_ge(a,t),c=io(l);return bP([c],r)}o(yJe,"FromTemplateLiteral");function wge(e,t){return typeof e=="string"?t==="Uncapitalize"?hJe(e):t==="Capitalize"?pJe(e):t==="Uppercase"?gJe(e):t==="Lowercase"?AJe(e):e:e.toString()}o(wge,"FromLiteralValue");function _ge(e,t){return e.map(r=>Mm(r,t))}o(_ge,"FromRest");function Mm(e,t,r={}){return Qu(e)?Tge(e,t,r):Mu(e)?yJe(e,t,r):Ui(e)?io(_ge(e.anyOf,t),r):Lu(e)?Bi(wge(e.const,t),r):ut(e,r)}o(Mm,"Intrinsic");function Sge(e,t={}){return Mm(e,"Capitalize",t)}o(Sge,"Capitalize");d();function kge(e,t={}){return Mm(e,"Lowercase",t)}o(kge,"Lowercase");d();function Rge(e,t={}){return Mm(e,"Uncapitalize",t)}o(Rge,"Uncapitalize");d();function Bge(e,t={}){return Mm(e,"Uppercase",t)}o(Bge,"Uppercase");d();d();d();d();d();function CJe(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=Dy(e[i],t,ss(r));return n}o(CJe,"FromProperties");function xJe(e,t,r){return CJe(e.properties,t,r)}o(xJe,"FromMappedResult");function Dge(e,t,r){let n=xJe(e,t,r);return Vi(n)}o(Dge,"OmitFromMappedResult");function vJe(e,t){return e.map(r=>jY(r,t))}o(vJe,"FromIntersect");function bJe(e,t){return e.map(r=>jY(r,t))}o(bJe,"FromUnion");function EJe(e,t){let{[t]:r,...n}=e;return n}o(EJe,"FromProperty");function IJe(e,t){return t.reduce((r,n)=>EJe(r,n),e)}o(IJe,"FromProperties");function TJe(e,t){let r=Ws(e,[_s,"$id","required","properties"]),n=IJe(e.properties,t);return oo(n,r)}o(TJe,"FromObject");function wJe(e){let t=e.reduce((r,n)=>AP(n)?[...r,Bi(n)]:r,[]);return io(t)}o(wJe,"UnionFromPropertyKeys");function jY(e,t){return qs(e)?wc(vJe(e.allOf,t)):Ui(e)?io(bJe(e.anyOf,t)):Aa(e)?TJe(e,t):oo({})}o(jY,"OmitResolve");function Dy(e,t,r){let n=pa(t)?wJe(t):t,i=Ss(t)?M0(t):t,s=Ks(e),a=Ks(t);return ls(e)?Dge(e,i,r):Qu(t)?Pge(e,t,r):s&&a?Ko("Omit",[e,n],r):!s&&a?Ko("Omit",[e,n],r):s&&!a?Ko("Omit",[e,n],r):ut({...jY(e,i),...r})}o(Dy,"Omit");function _Je(e,t,r){return{[t]:Dy(e,[t],ss(r))}}o(_Je,"FromPropertyKey");function SJe(e,t,r){return t.reduce((n,i)=>({...n,..._Je(e,i,r)}),{})}o(SJe,"FromPropertyKeys");function kJe(e,t,r){return SJe(e,t.keys,r)}o(kJe,"FromMappedKey");function Pge(e,t,r){let n=kJe(e,t,r);return Vi(n)}o(Pge,"OmitFromMappedKey");d();d();d();function RJe(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=Py(e[i],t,ss(r));return n}o(RJe,"FromProperties");function BJe(e,t,r){return RJe(e.properties,t,r)}o(BJe,"FromMappedResult");function Fge(e,t,r){let n=BJe(e,t,r);return Vi(n)}o(Fge,"PickFromMappedResult");function DJe(e,t){return e.map(r=>VY(r,t))}o(DJe,"FromIntersect");function PJe(e,t){return e.map(r=>VY(r,t))}o(PJe,"FromUnion");function FJe(e,t){let r={};for(let n of t)n in e&&(r[n]=e[n]);return r}o(FJe,"FromProperties");function NJe(e,t){let r=Ws(e,[_s,"$id","required","properties"]),n=FJe(e.properties,t);return oo(n,r)}o(NJe,"FromObject");function LJe(e){let t=e.reduce((r,n)=>AP(n)?[...r,Bi(n)]:r,[]);return io(t)}o(LJe,"UnionFromPropertyKeys");function VY(e,t){return qs(e)?wc(DJe(e.allOf,t)):Ui(e)?io(PJe(e.anyOf,t)):Aa(e)?NJe(e,t):oo({})}o(VY,"PickResolve");function Py(e,t,r){let n=pa(t)?LJe(t):t,i=Ss(t)?M0(t):t,s=Ks(e),a=Ks(t);return ls(e)?Fge(e,i,r):Qu(t)?Nge(e,t,r):s&&a?Ko("Pick",[e,n],r):!s&&a?Ko("Pick",[e,n],r):s&&!a?Ko("Pick",[e,n],r):ut({...VY(e,i),...r})}o(Py,"Pick");function QJe(e,t,r){return{[t]:Py(e,[t],ss(r))}}o(QJe,"FromPropertyKey");function MJe(e,t,r){return t.reduce((n,i)=>({...n,...QJe(e,i,r)}),{})}o(MJe,"FromPropertyKeys");function OJe(e,t,r){return MJe(e,t.keys,r)}o(OJe,"FromMappedKey");function Nge(e,t,r){let n=OJe(e,t,r);return Vi(n)}o(Nge,"PickFromMappedKey");d();d();function UJe(e,t){return Ko("Partial",[Ko(e,t)])}o(UJe,"FromComputed");function qJe(e){return Ko("Partial",[nd(e)])}o(qJe,"FromRef");function WJe(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Tc(e[r]);return t}o(WJe,"FromProperties");function GJe(e){let t=Ws(e,[_s,"$id","required","properties"]),r=WJe(e.properties);return oo(r,t)}o(GJe,"FromObject");function Lge(e){return e.map(t=>Qge(t))}o(Lge,"FromRest");function Qge(e){return Rm(e)?UJe(e.target,e.parameters):Ks(e)?qJe(e.$ref):qs(e)?wc(Lge(e.allOf)):Ui(e)?io(Lge(e.anyOf)):Aa(e)?GJe(e):J3(e)||w1(e)||Pm(e)||Lu(e)||OT(e)||Fm(e)||_1(e)||UT(e)||S1(e)?e:oo({})}o(Qge,"PartialResolve");function PE(e,t){return ls(e)?Mge(e,t):ut({...Qge(e),...t})}o(PE,"Partial");function HJe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=PE(e[n],ss(t));return r}o(HJe,"FromProperties");function jJe(e,t){return HJe(e.properties,t)}o(jJe,"FromMappedResult");function Mge(e,t){let r=jJe(e,t);return Vi(r)}o(Mge,"PartialFromMappedResult");d();d();function VJe(e,t){return Ko("Required",[Ko(e,t)])}o(VJe,"FromComputed");function $Je(e){return Ko("Required",[nd(e)])}o($Je,"FromRef");function zJe(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Ws(e[r],[Yl]);return t}o(zJe,"FromProperties");function YJe(e){let t=Ws(e,[_s,"$id","required","properties"]),r=zJe(e.properties);return oo(r,t)}o(YJe,"FromObject");function Oge(e){return e.map(t=>Uge(t))}o(Oge,"FromRest");function Uge(e){return Rm(e)?VJe(e.target,e.parameters):Ks(e)?$Je(e.$ref):qs(e)?wc(Oge(e.allOf)):Ui(e)?io(Oge(e.anyOf)):Aa(e)?YJe(e):J3(e)||w1(e)||Pm(e)||Lu(e)||OT(e)||Fm(e)||_1(e)||UT(e)||S1(e)?e:oo({})}o(Uge,"RequiredResolve");function FE(e,t){return ls(e)?qge(e,t):ut({...Uge(e),...t})}o(FE,"Required");function KJe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=FE(e[n],t);return r}o(KJe,"FromProperties");function JJe(e,t){return KJe(e.properties,t)}o(JJe,"FromMappedResult");function qge(e,t){let r=JJe(e,t);return Vi(r)}o(qge,"RequiredFromMappedResult");function ZJe(e,t){return t.map(r=>Ks(r)?$Y(e,r.$ref):Uu(e,r))}o(ZJe,"DereferenceParameters");function $Y(e,t){return t in e?Ks(e[t])?$Y(e,e[t].$ref):Uu(e,e[t]):Xn()}o($Y,"Dereference");function XJe(e){return _E(e[0])}o(XJe,"FromAwaited");function eZe(e){return Ry(e[0],e[1])}o(eZe,"FromIndex");function tZe(e){return SE(e[0])}o(tZe,"FromKeyOf");function rZe(e){return PE(e[0])}o(rZe,"FromPartial");function nZe(e){return Dy(e[0],e[1])}o(nZe,"FromOmit");function iZe(e){return Py(e[0],e[1])}o(iZe,"FromPick");function oZe(e){return FE(e[0])}o(oZe,"FromRequired");function sZe(e,t,r){let n=ZJe(e,r);return t==="Awaited"?XJe(n):t==="Index"?eZe(n):t==="KeyOf"?tZe(n):t==="Partial"?rZe(n):t==="Omit"?nZe(n):t==="Pick"?iZe(n):t==="Required"?oZe(n):Xn()}o(sZe,"FromComputed");function aZe(e,t){return CE(Uu(e,t))}o(aZe,"FromArray");function lZe(e,t){return xE(Uu(e,t))}o(lZe,"FromAsyncIterator");function cZe(e,t,r){return vE(JT(e,t),Uu(e,r))}o(cZe,"FromConstructor");function uZe(e,t,r){return wp(JT(e,t),Uu(e,r))}o(uZe,"FromFunction");function fZe(e,t){return wc(JT(e,t))}o(fZe,"FromIntersect");function dZe(e,t){return wE(Uu(e,t))}o(dZe,"FromIterator");function mZe(e,t){return oo(globalThis.Object.keys(t).reduce((r,n)=>({...r,[n]:Uu(e,t[n])}),{}))}o(mZe,"FromObject");function hZe(e,t){let[r,n]=[Uu(e,QP(t)),LP(t)],i=hE(t);return i.patternProperties[n]=r,i}o(hZe,"FromRecord");function pZe(e,t){return Ks(t)?{...$Y(e,t.$ref),[_s]:t[_s]}:t}o(pZe,"FromTransform");function gZe(e,t){return td(JT(e,t))}o(gZe,"FromTuple");function AZe(e,t){return io(JT(e,t))}o(AZe,"FromUnion");function JT(e,t){return t.map(r=>Uu(e,r))}o(JT,"FromTypes");function Uu(e,t){return Q0(t)?ut(Uu(e,Ws(t,[Yl])),t):gE(t)?ut(Uu(e,Ws(t,[Sm])),t):no(t)?ut(pZe(e,t),t):km(t)?ut(aZe(e,t.items),t):K3(t)?ut(lZe(e,t.items),t):Rm(t)?ut(sZe(e,t.target,t.parameters)):Bm(t)?ut(cZe(e,t.parameters,t.returns),t):Dm(t)?ut(uZe(e,t.parameters,t.returns),t):qs(t)?ut(fZe(e,t.allOf),t):Z3(t)?ut(dZe(e,t.items),t):Aa(t)?ut(mZe(e,t.properties),t):e4(t)?ut(hZe(e,t)):Ou(t)?ut(gZe(e,t.items||[]),t):Ui(t)?ut(AZe(e,t.anyOf),t):t}o(Uu,"FromType");function yZe(e,t){return t in e?Uu(e,e[t]):Xn()}o(yZe,"ComputeType");function Wge(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:yZe(e,r)}),{})}o(Wge,"ComputeModuleProperties");var zY=class{static{o(this,"TModule")}constructor(t){let r=Wge(t),n=this.WithIdentifiers(r);this.$defs=n}Import(t,r){let n={...this.$defs,[t]:ut(this.$defs[t],r)};return ut({[ot]:"Import",$defs:n,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:{...t[n],$id:n}}),{})}};function Gge(e){return new zY(e)}o(Gge,"Module");d();function Hge(e,t){return ut({[ot]:"Not",not:e},t)}o(Hge,"Not");d();function jge(e,t){return Dm(e)?td(e.parameters,t):Xn()}o(jge,"Parameters");d();var CZe=0;function Vge(e,t={}){ga(t.$id)&&(t.$id=`T${CZe++}`);let r=hE(e({[ot]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,ut({[Xf]:"Recursive",...r},t)}o(Vge,"Recursive");d();function $ge(e,t){let r=Wo(e)?new globalThis.RegExp(e):e;return ut({[ot]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}o($ge,"RegExp");d();function xZe(e){return qs(e)?e.allOf:Ui(e)?e.anyOf:Ou(e)?e.items??[]:[]}o(xZe,"RestResolve");function zge(e){return xZe(e)}o(zge,"Rest");d();function Yge(e,t){return Dm(e)?ut(e.returns,t):Xn(t)}o(Yge,"ReturnType");d();var YY=class{static{o(this,"TransformDecodeBuilder")}constructor(t){this.schema=t}Decode(t){return new KY(this.schema,t)}},KY=class{static{o(this,"TransformEncodeBuilder")}constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let s={Encode:o(a=>r[_s].Encode(t(a)),"Encode"),Decode:o(a=>this.decode(r[_s].Decode(a)),"Decode")};return{...r,[_s]:s}}EncodeSchema(t,r){let n={Decode:this.decode,Encode:t};return{...r,[_s]:n}}Encode(t){return no(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};function Kge(e){return new YY(e)}o(Kge,"Transform");d();function Jge(e={}){return ut({[ot]:e[ot]??"Unsafe"},e)}o(Jge,"Unsafe");d();function Zge(e){return ut({[ot]:"Void",type:"void"},e)}o(Zge,"Void");d();var JY={};C1(JY,{Any:()=>ky,Argument:()=>Npe,Array:()=>CE,AsyncIterator:()=>xE,Awaited:()=>_E,BigInt:()=>TE,Boolean:()=>vP,Capitalize:()=>Sge,Composite:()=>ege,Const:()=>tge,Constructor:()=>vE,ConstructorParameters:()=>rge,Date:()=>wP,Enum:()=>nge,Exclude:()=>BE,Extends:()=>RE,Extract:()=>DE,Function:()=>wp,Index:()=>Ry,InstanceType:()=>vge,Instantiate:()=>Ege,Integer:()=>Ige,Intersect:()=>wc,Iterator:()=>wE,KeyOf:()=>SE,Literal:()=>Bi,Lowercase:()=>kge,Mapped:()=>zpe,Module:()=>Gge,Never:()=>Xn,Not:()=>Hge,Null:()=>_P,Number:()=>ed,Object:()=>oo,Omit:()=>Dy,Optional:()=>Tc,Parameters:()=>jge,Partial:()=>PE,Pick:()=>Py,Promise:()=>IP,Readonly:()=>O0,ReadonlyOptional:()=>FP,Record:()=>NP,Recursive:()=>Vge,Ref:()=>nd,RegExp:()=>$ge,Required:()=>FE,Rest:()=>zge,ReturnType:()=>Yge,String:()=>t0,Symbol:()=>SP,TemplateLiteral:()=>bP,Transform:()=>Kge,Tuple:()=>td,Uint8Array:()=>RP,Uncapitalize:()=>Rge,Undefined:()=>kP,Union:()=>io,Unknown:()=>Lm,Unsafe:()=>Jge,Uppercase:()=>Bge,Void:()=>Zge});d();var I=JY;var Sye=et(ei()),kye=I.Object({accessToken:I.Optional(I.String({minLength:1})),handle:I.Optional(I.String({minLength:1})),githubAppId:I.Optional(I.String({minLength:1}))}),TJ;(r=>(r.method="github/didChangeAuth",r.type=new Sye.ProtocolNotificationType(r.method)))(TJ||={});d();var Rye=et(ei()),wJ;(r=>(r.method="copilot/ipCodeCitation",r.type=new Rye.NotificationType(r.method)))(wJ||={});d();var Bye=et(ei()),IF;(r=>(r.method="context/update",r.type=new Bye.ProtocolRequestType(r.method)))(IF||={});d();d();var Gy="Cancelled";d();var Hn=et(ei()),aw=I.String(),V0=I.Object({uri:aw}),c4=I.Intersect([V0,I.Object({version:I.Optional(I.Integer())})]),Jor=I.Required(c4),xl=I.Object({line:I.Integer({minimum:0}),character:I.Integer({minimum:0})}),ya=I.Object({start:xl,end:xl}),_J=I.Union([I.Integer(),I.String()]),Zor=I.Object({isCancellationRequested:I.Boolean(),onCancellationRequested:I.Any()});d();var Dye=et(ei()),SJ;(r=>(r.method="textDocument/didFocus",r.type=new Dye.ProtocolNotificationType(r.method)))(SJ||={});d();var IXe=I.Object({didChangeFeatureFlags:I.Boolean(),fetch:I.Boolean(),ipCodeCitation:I.Boolean(),redirectedTelemetry:I.Boolean(),related:I.Boolean(),token:I.Boolean(),watchedFiles:I.Boolean()}),TXe=I.Object({name:I.String(),version:I.String(),readableName:I.Optional(I.String())}),Pye=I.Object({name:I.String(),version:I.Optional(I.String()),readableName:I.Optional(I.String())}),Fye=I.Object({editorInfo:I.Optional(Pye),editorPluginInfo:I.Optional(Pye),relatedPluginInfo:I.Optional(I.Array(TXe)),copilotIntegrationId:I.Optional(I.String()),copilotCapabilities:I.Optional(I.Partial(IXe)),githubAppId:I.Optional(I.String())});d();var lw=et(ei());var TF=(r=>(r[r.Invoked=1]="Invoked",r[r.Automatic=2]="Automatic",r))(TF||{}),wXe=I.Enum(TF),_Xe=I.Object({triggerKind:wXe,selectedCompletionInfo:I.Optional(I.Object({text:I.String(),range:ya,tooltipSignature:I.Optional(I.String())}))}),Nye=I.Object({textDocument:c4,position:xl,formattingOptions:I.Optional(I.Object({tabSize:I.Optional(I.Union([I.Integer({minimum:1}),I.String()])),insertSpaces:I.Optional(I.Union([I.Boolean(),I.String()]))})),context:_Xe,data:I.Optional(I.Unknown())}),kJ;(r=>(r.method="textDocument/inlineCompletion",r.type=new lw.ProtocolRequestType(r.method)))(kJ||={});var Lye=I.Object({command:I.Object({arguments:I.Tuple([I.String({minLength:1})])})}),Qye=I.Object({item:Lye}),RJ;(r=>(r.method="textDocument/didShowCompletion",r.type=new lw.ProtocolNotificationType(r.method)))(RJ||={});var Mye=I.Object({item:Lye,acceptedLength:I.Integer({minimum:1})}),BJ;(r=>(r.method="textDocument/didPartiallyAcceptCompletion",r.type=new lw.ProtocolNotificationType(r.method)))(BJ||={});d();var Oye=et(ei()),DJ;(r=>(r.method="textDocument/inlineCompletionPrompt",r.type=new Oye.ProtocolRequestType(r.method)))(DJ||={});d();var Uye=et(ei()),qye=I.Object({textDocument:c4,position:xl}),SXe=I.Object({command:I.Object({arguments:I.Tuple([I.String({minLength:1})])})}),Wye=I.Object({item:SXe}),PJ;(r=>(r.method="textDocument/didShowInlineEdit",r.type=new Uye.ProtocolNotificationType(r.method)))(PJ||={});d();var wF=et(ei());var Gye=I.Object({textDocument:c4,position:xl,partialResultToken:I.Optional(_J),workDoneToken:I.Optional(_J)}),_F;(n=>(n.method="textDocument/copilotPanelCompletion",n.type=new wF.ProtocolRequestType(n.method),n.partialResult=new wF.ProgressType))(_F||={});d();var Hye=et(ei()),FJ;(r=>(r.method="copilot/related",r.type=new Hye.ProtocolRequestType(r.method)))(FJ||={});d();var jye=et(ei()),NJ;(r=>(r.method="statusNotification",r.type=new jye.ProtocolNotificationType(r.method)))(NJ||={});var Vye=et(require("events"));var SF="CopilotToken",Bp=class{static{o(this,"CopilotTokenNotifier")}#e=new Vye.default;#t;constructor(){this.#e.setMaxListeners(20)}emitToken(t){if(t.token!==this.#t?.token)return this.#t=t,this.#e.emit(SF,t)}onToken(t){return this.#e.on(SF,t),Hn.Disposable.create(()=>this.#e.off(SF,t))}};function Ca(e,t){let r=Gu(e,t,`event.${SF}`);return e.get(Bp).onToken(r)}o(Ca,"onCopilotToken");function cw(e,t){return e.get(Bp).emitToken(t)}o(cw,"emitCopilotToken");var Jl=class{static{o(this,"TelemetryUserConfig")}constructor(t,r,n,i){this.trackingId=r,this.optedIn=n??!1,this.ftFlag=i??"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){Ca(t,r=>{let n=r.getTokenValue("rt")==="1",i=r.getTokenValue("ft")??"",s=r.getTokenValue("tid"),a=r.organization_list,l=r.enterprise_list,c=r.getTokenValue("sku");s!==void 0&&(this.trackingId=s,this.organizationsList=a?.toString(),this.enterpriseList=l?.toString(),this.sku=c,this.optedIn=n,this.ftFlag=i)})}};var kF=et(Iy()),RF=et(require("os"));var kXe=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function RXe(e){let t={type:e.name,value:e.message},r=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r?.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let n of r.slice(e.toString().length+1).split(/\n/).reverse()){let i=n.match(kXe),s={filename:"",function:""};i&&(s.function=i[2]?.trim()?.replace(/^[^.]{1,2}(\.|$)/,"_$1")??s.function,s.filename=(i[4]?.trim()??s.filename).replace(/^\.\/dist\//,"/github-copilot/dist/"),i[5]&&i[5]!==":0"&&(s.lineno=i[5].slice(1)),i[6]&&i[5]!==":0"&&(s.colno=i[6].slice(1)),s.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(s.filename)),t.stacktrace.push(s)}}return t}o(RXe,"buildExceptionDetail");function LJ(e,t){let r=e.get(dn),n=r.getEditorInfo(),i=e.get(Jl),s={"#editor":n.devName??n.name,"#editor_version":Dp({name:n.devName??n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":Dp(r.getEditorPluginInfo()),"#session_id":e.get(ws).sessionId,"#machine_id":e.get(ws).machineId,"#architecture":RF.arch(),"#os_platform":RF.platform(),...t};return i.trackingId&&(s.user=i.trackingId,s["#tracking_id"]=i.trackingId),s}o(LJ,"buildContext");function $ye(e,t){let r=e.get(Eo),n=e.get(dn).getEditorInfo(),i=typeof process<"u"?process.versions.node:"web",s={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:LJ(e,{"#node_version":i}),sensitive_context:{}},a=[];s.exception_detail=[];let l=0,c=t;for(;c instanceof Error&&l<10;){let f=RXe(c);s.exception_detail.unshift(f),a.unshift([c,f]),l+=1,c=c.cause}let u=[];for(let[f,m]of a)if(m.stacktrace&&m.stacktrace.length>0){u.push(`${m.type}: ${f.code??""}`);let h=[...m.stacktrace].reverse();for(let p of h)if(p.filename?.startsWith("/github-copilot/"))return s;for(let p of h)if(p.in_app){u.push(`${p.filename?.replace(/^\.\//,"")}:${p.lineno}:${p.colno}`);break}u.push(`${h[0].filename?.replace(/^\.\//,"")}`)}else return s;return s.exception_detail.length>0&&(s.rollup_id=(0,kF.SHA256)(kF.enc.Utf16.parse(u.join(`
`))).toString()),s}o($ye,"buildPayload");d();var uw=class{static{o(this,"FailingTelemetryReporter")}sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,i){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};d();var Pp=class{constructor(t=5){this.perTenMinutes=t;this.cache=new In}static{o(this,"ExceptionRateLimiter")}isThrottled(t){let r=Date.now(),n=this.cache.get(t)||new Array(this.perTenMinutes).fill(0);return r-n[0]<6e5?!0:(n.push(r),n.shift(),this.cache.set(t,n),!1)}};d();var ld=class e{constructor(t){this.flags=t}static{o(this,"RuntimeMode")}static fromEnvironment(t,r=process.argv,n=process.env){return new e({debug:Kye(r,n),verboseLogging:DXe(r,n),testMode:t,simulation:BXe(n)})}};function qm(e){return e.get(ld).flags.testMode}o(qm,"isRunningInTest");function eI(e){return qm(e)}o(eI,"shouldFailForDebugPurposes");function fw(e){return e.get(ld).flags.debug}o(fw,"isDebugEnabled");function Yye(e){return e.get(ld).flags.verboseLogging}o(Yye,"isVerboseLoggingEnabled");function Kye(e,t){return e.includes("--debug")||QJ(t,"DEBUG")}o(Kye,"determineDebugFlag");function BXe(e){return QJ(e,"SIMULATION")}o(BXe,"determineSimulationFlag");function DF(e){return e.get(ld).flags.simulation}o(DF,"isRunningInSimulation");function DXe(e,t){return t.COPILOT_AGENT_VERBOSE==="1"||t.COPILOT_AGENT_VERBOSE?.toLowerCase()==="true"||QJ(t,"VERBOSE")||Kye(e,t)}o(DXe,"determineVerboseLoggingEnabled");function QJ(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||n?.toLowerCase()==="true"}return!1}o(QJ,"determineEnvFlagEnabled");d();var Do=class{constructor(){this.promises=new Set}static{o(this,"PromiseQueue")}register(t){this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};d();var Xye=require("os"),e5e=et(require("path"));function dw(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}o(dw,"redactPaths");var PXe=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),FXe=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/u,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/u];function OJ(e){if(PXe.has(e))return e;for(let t of FXe)if(t.test(e))return e;return dw(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}o(OJ,"redactMessage");function PF(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(PF,"escapeForRegExp");var NXe=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+PF((0,Xye.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function MJ(e){return e.replace(NXe,"~")}o(MJ,"redactHomeDir");var t5e="[\\\\/]?([^:)]*)(?=:\\d)",Jye=new RegExp(PF(e5e.sep),"g"),Zye=new RegExp(PF(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+t5e,"gi");function UJ(e,t,r=!1,n=[]){let i=new Error(t(e));i.name=e.name,typeof e.syscall=="string"&&(i.syscall=e.syscall),typeof e.code=="string"&&(i.code=e.code),typeof e.errno=="number"&&(i.errno=e.errno),i.stack=void 0;let s=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let l of[e.toString(),`${e.name}: ${e.message}`])if(s?.startsWith(l+`
`)){a=s.slice(l.length+1).split(/\n/);break}if(a){i.stack=i.toString();for(let l of a)if(Zye.test(l))i.stack+=`
${dw(l.replace(Zye,(c,u)=>"./"+u.replace(Jye,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(l))i.stack+=`
${dw(l)}`;else{let c=!1;for(let{prefix:u,path:f}of n){let m=new RegExp(PF(f.replace(/[\\/]$/,""))+t5e,"gi");if(m.test(l)){i.stack+=`
${dw(l.replace(m,(h,p)=>u+p.replace(Jye,"/")))}`,c=!0;break}}if(c)continue;r?i.stack+=`
${MJ(l)}`:i.stack+=`
    at [redacted]:0:0`}}else r&&s&&(i.stack=MJ(s));return e.cause instanceof Error&&(i.cause=UJ(e.cause,t,r,n)),i}o(UJ,"cloneError");function r5e(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}o(r5e,"errorMessageWithoutPath");function n5e(e,t){return UJ(e,o(function(n){return MJ(r5e(n))},"prepareMessage"),!0,t)}o(n5e,"prepareErrorForRestrictedTelemetry");function qJ(e,t,r=!1){return UJ(e,o(function(i){if(r)return OJ(r5e(i));let s="[redacted]";return typeof i.code=="string"&&(s=i.code+" "+s),typeof i.syscall=="string"?s=dw(i.syscall)+" "+s:"erroredSysCall"in i&&typeof i.erroredSysCall=="string"&&(s=i.erroredSysCall+" "+s),s},"prepareMessage"),!1,t)}o(qJ,"redactError");d();d();function LXe(e){switch(e.errorType){case nt.ArrayContains:return"Expected array to contain at least one matching value";case nt.ArrayMaxContains:return`Expected array to contain no more than ${e.schema.maxContains} matching values`;case nt.ArrayMinContains:return`Expected array to contain at least ${e.schema.minContains} matching values`;case nt.ArrayMaxItems:return`Expected array length to be less or equal to ${e.schema.maxItems}`;case nt.ArrayMinItems:return`Expected array length to be greater or equal to ${e.schema.minItems}`;case nt.ArrayUniqueItems:return"Expected array elements to be unique";case nt.Array:return"Expected array";case nt.AsyncIterator:return"Expected AsyncIterator";case nt.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.schema.exclusiveMaximum}`;case nt.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.schema.exclusiveMinimum}`;case nt.BigIntMaximum:return`Expected bigint to be less or equal to ${e.schema.maximum}`;case nt.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.schema.minimum}`;case nt.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.schema.multipleOf}`;case nt.BigInt:return"Expected bigint";case nt.Boolean:return"Expected boolean";case nt.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.schema.exclusiveMinimumTimestamp}`;case nt.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.schema.exclusiveMaximumTimestamp}`;case nt.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.schema.minimumTimestamp}`;case nt.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.schema.maximumTimestamp}`;case nt.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.schema.multipleOfTimestamp}`;case nt.Date:return"Expected Date";case nt.Function:return"Expected function";case nt.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.schema.exclusiveMaximum}`;case nt.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.schema.exclusiveMinimum}`;case nt.IntegerMaximum:return`Expected integer to be less or equal to ${e.schema.maximum}`;case nt.IntegerMinimum:return`Expected integer to be greater or equal to ${e.schema.minimum}`;case nt.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.schema.multipleOf}`;case nt.Integer:return"Expected integer";case nt.IntersectUnevaluatedProperties:return"Unexpected property";case nt.Intersect:return"Expected all values to match";case nt.Iterator:return"Expected Iterator";case nt.Literal:return`Expected ${typeof e.schema.const=="string"?`'${e.schema.const}'`:e.schema.const}`;case nt.Never:return"Never";case nt.Not:return"Value should not match";case nt.Null:return"Expected null";case nt.NumberExclusiveMaximum:return`Expected number to be less than ${e.schema.exclusiveMaximum}`;case nt.NumberExclusiveMinimum:return`Expected number to be greater than ${e.schema.exclusiveMinimum}`;case nt.NumberMaximum:return`Expected number to be less or equal to ${e.schema.maximum}`;case nt.NumberMinimum:return`Expected number to be greater or equal to ${e.schema.minimum}`;case nt.NumberMultipleOf:return`Expected number to be a multiple of ${e.schema.multipleOf}`;case nt.Number:return"Expected number";case nt.Object:return"Expected object";case nt.ObjectAdditionalProperties:return"Unexpected property";case nt.ObjectMaxProperties:return`Expected object to have no more than ${e.schema.maxProperties} properties`;case nt.ObjectMinProperties:return`Expected object to have at least ${e.schema.minProperties} properties`;case nt.ObjectRequiredProperty:return"Expected required property";case nt.Promise:return"Expected Promise";case nt.RegExp:return"Expected string to match regular expression";case nt.StringFormatUnknown:return`Unknown format '${e.schema.format}'`;case nt.StringFormat:return`Expected string to match '${e.schema.format}' format`;case nt.StringMaxLength:return`Expected string length less or equal to ${e.schema.maxLength}`;case nt.StringMinLength:return`Expected string length greater or equal to ${e.schema.minLength}`;case nt.StringPattern:return`Expected string to match '${e.schema.pattern}'`;case nt.String:return"Expected string";case nt.Symbol:return"Expected symbol";case nt.TupleLength:return`Expected tuple to have ${e.schema.maxItems||0} elements`;case nt.Tuple:return"Expected tuple";case nt.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.schema.maxByteLength}`;case nt.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.schema.minByteLength}`;case nt.Uint8Array:return"Expected Uint8Array";case nt.Undefined:return"Expected undefined";case nt.Union:return"Expected union value";case nt.Void:return"Expected void";case nt.Kind:return`Expected kind '${e.schema[ot]}'`;default:return"Unknown error type"}}o(LXe,"DefaultErrorFunction");var QXe=LXe;function i5e(){return QXe}o(i5e,"GetErrorFunction");d();var WJ=class extends gn{static{o(this,"TypeDereferenceError")}constructor(t){super(`Unable to dereference schema with $id '${t.$ref}'`),this.schema=t}};function MXe(e,t){let r=t.find(n=>n.$id===e.$ref);if(r===void 0)throw new WJ(e);return $i(r,t)}o(MXe,"Resolve");function vl(e,t){return!Oi(e.$id)||t.some(r=>r.$id===e.$id)||t.push(e),t}o(vl,"Pushref");function $i(e,t){return e[ot]==="This"||e[ot]==="Ref"?MXe(e,t):e}o($i,"Deref");d();var GJ=class extends gn{static{o(this,"ValueHashError")}constructor(t){super("Unable to hash value"),this.value=t}},Hu;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(Hu||(Hu={}));var tI=BigInt("14695981039346656037"),[OXe,UXe]=[BigInt("1099511628211"),BigInt("18446744073709551616")],qXe=Array.from({length:256}).map((e,t)=>BigInt(t)),o5e=new Float64Array(1),s5e=new DataView(o5e.buffer),a5e=new Uint8Array(o5e.buffer);function*WXe(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}o(WXe,"NumberToBytes");function GXe(e){Bc(Hu.Array);for(let t of e)rI(t)}o(GXe,"ArrayType");function HXe(e){Bc(Hu.Boolean),Bc(e?1:0)}o(HXe,"BooleanType");function jXe(e){Bc(Hu.BigInt),s5e.setBigInt64(0,e);for(let t of a5e)Bc(t)}o(jXe,"BigIntType");function VXe(e){Bc(Hu.Date),rI(e.getTime())}o(VXe,"DateType");function $Xe(e){Bc(Hu.Null)}o($Xe,"NullType");function zXe(e){Bc(Hu.Number),s5e.setFloat64(0,e);for(let t of a5e)Bc(t)}o(zXe,"NumberType");function YXe(e){Bc(Hu.Object);for(let t of globalThis.Object.getOwnPropertyNames(e).sort())rI(t),rI(e[t])}o(YXe,"ObjectType");function KXe(e){Bc(Hu.String);for(let t=0;t<e.length;t++)for(let r of WXe(e.charCodeAt(t)))Bc(r)}o(KXe,"StringType");function JXe(e){Bc(Hu.Symbol),rI(e.description)}o(JXe,"SymbolType");function ZXe(e){Bc(Hu.Uint8Array);for(let t=0;t<e.length;t++)Bc(e[t])}o(ZXe,"Uint8ArrayType");function XXe(e){return Bc(Hu.Undefined)}o(XXe,"UndefinedType");function rI(e){if(pn(e))return GXe(e);if(Ep(e))return HXe(e);if(zl(e))return jXe(e);if(Xc(e))return VXe(e);if(I1(e))return $Xe(e);if(Kr(e))return zXe(e);if(ai(e))return YXe(e);if(Oi(e))return KXe(e);if(T1(e))return JXe(e);if(pE(e))return ZXe(e);if(as(e))return XXe(e);throw new GJ(e)}o(rI,"Visit");function Bc(e){tI=tI^qXe[e],tI=tI*OXe%UXe}o(Bc,"FNV1A64");function Hy(e){return tI=BigInt("14695981039346656037"),rI(e),tI}o(Hy,"Hash");d();var HJ=class extends gn{static{o(this,"ValueCheckUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function eet(e){return e[ot]==="Any"||e[ot]==="Unknown"}o(eet,"IsAnyOrUnknown");function Ei(e){return e!==void 0}o(Ei,"IsDefined");function tet(e,t,r){return!0}o(tet,"FromAny");function ret(e,t,r){return!0}o(ret,"FromArgument");function net(e,t,r){if(!pn(r)||Ei(e.minItems)&&!(r.length>=e.minItems)||Ei(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(s=>bl(e.items,t,s))||e.uniqueItems===!0&&!function(){let s=new Set;for(let a of r){let l=Hy(a);if(s.has(l))return!1;s.add(l)}return!0}())return!1;if(!(Ei(e.contains)||Kr(e.minContains)||Kr(e.maxContains)))return!0;let n=Ei(e.contains)?e.contains:Xn(),i=r.reduce((s,a)=>bl(n,t,a)?s+1:s,0);return!(i===0||Kr(e.minContains)&&i<e.minContains||Kr(e.maxContains)&&i>e.maxContains)}o(net,"FromArray");function iet(e,t,r){return mP(r)}o(iet,"FromAsyncIterator");function oet(e,t,r){return!(!zl(r)||Ei(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Ei(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Ei(e.maximum)&&!(r<=e.maximum)||Ei(e.minimum)&&!(r>=e.minimum)||Ei(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}o(oet,"FromBigInt");function set(e,t,r){return Ep(r)}o(set,"FromBoolean");function aet(e,t,r){return bl(e.returns,t,r.prototype)}o(aet,"FromConstructor");function cet(e,t,r){return!(!Xc(r)||Ei(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||Ei(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||Ei(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||Ei(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||Ei(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}o(cet,"FromDate");function uet(e,t,r){return wy(r)}o(uet,"FromFunction");function fet(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return bl(i,[...t,...n],r)}o(fet,"FromImport");function det(e,t,r){return!(!gP(r)||Ei(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Ei(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Ei(e.maximum)&&!(r<=e.maximum)||Ei(e.minimum)&&!(r>=e.minimum)||Ei(e.multipleOf)&&r%e.multipleOf!==0)}o(det,"FromInteger");function met(e,t,r){let n=e.allOf.every(i=>bl(i,t,r));if(e.unevaluatedProperties===!1){let i=new RegExp(B1(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a));return n&&s}else if(Ss(e.unevaluatedProperties)){let i=new RegExp(B1(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a)||bl(e.unevaluatedProperties,t,r[a]));return n&&s}else return n}o(met,"FromIntersect");function het(e,t,r){return hP(r)}o(het,"FromIterator");function pet(e,t,r){return r===e.const}o(pet,"FromLiteral");function get(e,t,r){return!1}o(get,"FromNever");function Aet(e,t,r){return!bl(e.not,t,r)}o(Aet,"FromNot");function yet(e,t,r){return I1(r)}o(yet,"FromNull");function Cet(e,t,r){return!(!Yo.IsNumberLike(r)||Ei(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Ei(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Ei(e.minimum)&&!(r>=e.minimum)||Ei(e.maximum)&&!(r<=e.maximum)||Ei(e.multipleOf)&&r%e.multipleOf!==0)}o(Cet,"FromNumber");function xet(e,t,r){if(!Yo.IsObjectLike(r)||Ei(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Ei(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let i of n){let s=e.properties[i];if(e.required&&e.required.includes(i)){if(!bl(s,t,r[i])||(D1(s)||eet(s))&&!(i in r))return!1}else if(Yo.IsExactOptionalProperty(r,i)&&!bl(s,t,r[i]))return!1}if(e.additionalProperties===!1){let i=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&i.length===n.length?!0:i.every(s=>n.includes(s))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(s=>n.includes(s)||bl(e.additionalProperties,t,r[s])):!0}o(xet,"FromObject");function vet(e,t,r){return pP(r)}o(vet,"FromPromise");function bet(e,t,r){if(!Yo.IsRecordLike(r)||Ei(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Ei(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,i]=Object.entries(e.patternProperties)[0],s=new RegExp(n),a=Object.entries(r).every(([u,f])=>s.test(u)?bl(i,t,f):!0),l=typeof e.additionalProperties=="object"?Object.entries(r).every(([u,f])=>s.test(u)?!0:bl(e.additionalProperties,t,f)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(u=>s.test(u)):!0;return a&&l&&c}o(bet,"FromRecord");function Eet(e,t,r){return bl($i(e,t),t,r)}o(Eet,"FromRef");function Iet(e,t,r){let n=new RegExp(e.source,e.flags);return Ei(e.minLength)&&!(r.length>=e.minLength)||Ei(e.maxLength)&&!(r.length<=e.maxLength)?!1:n.test(r)}o(Iet,"FromRegExp");function Tet(e,t,r){return!Oi(r)||Ei(e.minLength)&&!(r.length>=e.minLength)||Ei(e.maxLength)&&!(r.length<=e.maxLength)||Ei(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:Ei(e.format)?Nm.Has(e.format)?Nm.Get(e.format)(r):!1:!0}o(Tet,"FromString");function wet(e,t,r){return T1(r)}o(wet,"FromSymbol");function _et(e,t,r){return Oi(r)&&new RegExp(e.pattern).test(r)}o(_et,"FromTemplateLiteral");function ket(e,t,r){return bl($i(e,t),t,r)}o(ket,"FromThis");function Ret(e,t,r){if(!pn(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!bl(e.items[n],t,r[n]))return!1;return!0}o(Ret,"FromTuple");function Bet(e,t,r){return as(r)}o(Bet,"FromUndefined");function Det(e,t,r){return e.anyOf.some(n=>bl(n,t,r))}o(Det,"FromUnion");function Pet(e,t,r){return!(!pE(r)||Ei(e.maxByteLength)&&!(r.length<=e.maxByteLength)||Ei(e.minByteLength)&&!(r.length>=e.minByteLength))}o(Pet,"FromUint8Array");function Fet(e,t,r){return!0}o(Fet,"FromUnknown");function Net(e,t,r){return Yo.IsVoidLike(r)}o(Net,"FromVoid");function Let(e,t,r){return e0.Has(e[ot])?e0.Get(e[ot])(e,r):!1}o(Let,"FromKind");function bl(e,t,r){let n=Ei(e.$id)?vl(e,t):t,i=e;switch(i[ot]){case"Any":return tet(i,n,r);case"Argument":return ret(i,n,r);case"Array":return net(i,n,r);case"AsyncIterator":return iet(i,n,r);case"BigInt":return oet(i,n,r);case"Boolean":return set(i,n,r);case"Constructor":return aet(i,n,r);case"Date":return cet(i,n,r);case"Function":return uet(i,n,r);case"Import":return fet(i,n,r);case"Integer":return det(i,n,r);case"Intersect":return met(i,n,r);case"Iterator":return het(i,n,r);case"Literal":return pet(i,n,r);case"Never":return get(i,n,r);case"Not":return Aet(i,n,r);case"Null":return yet(i,n,r);case"Number":return Cet(i,n,r);case"Object":return xet(i,n,r);case"Promise":return vet(i,n,r);case"Record":return bet(i,n,r);case"Ref":return Eet(i,n,r);case"RegExp":return Iet(i,n,r);case"String":return Tet(i,n,r);case"Symbol":return wet(i,n,r);case"TemplateLiteral":return _et(i,n,r);case"This":return ket(i,n,r);case"Tuple":return Ret(i,n,r);case"Undefined":return Bet(i,n,r);case"Union":return Det(i,n,r);case"Uint8Array":return Pet(i,n,r);case"Unknown":return Fet(i,n,r);case"Void":return Net(i,n,r);default:if(!e0.Has(i[ot]))throw new HJ(i);return Let(i,n,r)}}o(bl,"Visit");function di(...e){return e.length===3?bl(e[0],e[1],e[2]):bl(e[0],[],e[1])}o(di,"Check");var nt;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"})(nt||(nt={}));var jJ=class extends gn{static{o(this,"ValueErrorsUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function N1(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}o(N1,"EscapeKey");function Ii(e){return e!==void 0}o(Ii,"IsDefined");var jy=class{static{o(this,"ValueErrorIterator")}constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};function yr(e,t,r,n,i=[]){return{type:e,schema:t,path:r,value:n,message:i5e()({errorType:e,path:r,schema:t,value:n,errors:i}),errors:i}}o(yr,"Create");function*Qet(e,t,r,n){}o(Qet,"FromAny");function*Met(e,t,r,n){}o(Met,"FromArgument");function*Oet(e,t,r,n){if(!pn(n))return yield yr(nt.Array,e,r,n);Ii(e.minItems)&&!(n.length>=e.minItems)&&(yield yr(nt.ArrayMinItems,e,r,n)),Ii(e.maxItems)&&!(n.length<=e.maxItems)&&(yield yr(nt.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*El(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let l of n){let c=Hy(l);if(a.has(c))return!1;a.add(c)}return!0}()&&(yield yr(nt.ArrayUniqueItems,e,r,n)),!(Ii(e.contains)||Ii(e.minContains)||Ii(e.maxContains)))return;let i=Ii(e.contains)?e.contains:Xn(),s=n.reduce((a,l,c)=>El(i,t,`${r}${c}`,l).next().done===!0?a+1:a,0);s===0&&(yield yr(nt.ArrayContains,e,r,n)),Kr(e.minContains)&&s<e.minContains&&(yield yr(nt.ArrayMinContains,e,r,n)),Kr(e.maxContains)&&s>e.maxContains&&(yield yr(nt.ArrayMaxContains,e,r,n))}o(Oet,"FromArray");function*Uet(e,t,r,n){mP(n)||(yield yr(nt.AsyncIterator,e,r,n))}o(Uet,"FromAsyncIterator");function*qet(e,t,r,n){if(!zl(n))return yield yr(nt.BigInt,e,r,n);Ii(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield yr(nt.BigIntExclusiveMaximum,e,r,n)),Ii(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield yr(nt.BigIntExclusiveMinimum,e,r,n)),Ii(e.maximum)&&!(n<=e.maximum)&&(yield yr(nt.BigIntMaximum,e,r,n)),Ii(e.minimum)&&!(n>=e.minimum)&&(yield yr(nt.BigIntMinimum,e,r,n)),Ii(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield yr(nt.BigIntMultipleOf,e,r,n))}o(qet,"FromBigInt");function*Wet(e,t,r,n){Ep(n)||(yield yr(nt.Boolean,e,r,n))}o(Wet,"FromBoolean");function*Get(e,t,r,n){yield*El(e.returns,t,r,n.prototype)}o(Get,"FromConstructor");function*Het(e,t,r,n){if(!Xc(n))return yield yr(nt.Date,e,r,n);Ii(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield yr(nt.DateExclusiveMaximumTimestamp,e,r,n)),Ii(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield yr(nt.DateExclusiveMinimumTimestamp,e,r,n)),Ii(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield yr(nt.DateMaximumTimestamp,e,r,n)),Ii(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield yr(nt.DateMinimumTimestamp,e,r,n)),Ii(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield yr(nt.DateMultipleOfTimestamp,e,r,n))}o(Het,"FromDate");function*jet(e,t,r,n){wy(n)||(yield yr(nt.Function,e,r,n))}o(jet,"FromFunction");function*Vet(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref];yield*El(s,[...t,...i],r,n)}o(Vet,"FromImport");function*$et(e,t,r,n){if(!gP(n))return yield yr(nt.Integer,e,r,n);Ii(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield yr(nt.IntegerExclusiveMaximum,e,r,n)),Ii(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield yr(nt.IntegerExclusiveMinimum,e,r,n)),Ii(e.maximum)&&!(n<=e.maximum)&&(yield yr(nt.IntegerMaximum,e,r,n)),Ii(e.minimum)&&!(n>=e.minimum)&&(yield yr(nt.IntegerMinimum,e,r,n)),Ii(e.multipleOf)&&n%e.multipleOf!==0&&(yield yr(nt.IntegerMultipleOf,e,r,n))}o($et,"FromInteger");function*zet(e,t,r,n){let i=!1;for(let s of e.allOf)for(let a of El(s,t,r,n))i=!0,yield a;if(i)return yield yr(nt.Intersect,e,r,n);if(e.unevaluatedProperties===!1){let s=new RegExp(B1(e));for(let a of Object.getOwnPropertyNames(n))s.test(a)||(yield yr(nt.IntersectUnevaluatedProperties,e,`${r}/${a}`,n))}if(typeof e.unevaluatedProperties=="object"){let s=new RegExp(B1(e));for(let a of Object.getOwnPropertyNames(n))if(!s.test(a)){let l=El(e.unevaluatedProperties,t,`${r}/${a}`,n[a]).next();l.done||(yield l.value)}}}o(zet,"FromIntersect");function*Yet(e,t,r,n){hP(n)||(yield yr(nt.Iterator,e,r,n))}o(Yet,"FromIterator");function*Ket(e,t,r,n){n!==e.const&&(yield yr(nt.Literal,e,r,n))}o(Ket,"FromLiteral");function*Jet(e,t,r,n){yield yr(nt.Never,e,r,n)}o(Jet,"FromNever");function*Zet(e,t,r,n){El(e.not,t,r,n).next().done===!0&&(yield yr(nt.Not,e,r,n))}o(Zet,"FromNot");function*Xet(e,t,r,n){I1(n)||(yield yr(nt.Null,e,r,n))}o(Xet,"FromNull");function*ett(e,t,r,n){if(!Yo.IsNumberLike(n))return yield yr(nt.Number,e,r,n);Ii(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield yr(nt.NumberExclusiveMaximum,e,r,n)),Ii(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield yr(nt.NumberExclusiveMinimum,e,r,n)),Ii(e.maximum)&&!(n<=e.maximum)&&(yield yr(nt.NumberMaximum,e,r,n)),Ii(e.minimum)&&!(n>=e.minimum)&&(yield yr(nt.NumberMinimum,e,r,n)),Ii(e.multipleOf)&&n%e.multipleOf!==0&&(yield yr(nt.NumberMultipleOf,e,r,n))}o(ett,"FromNumber");function*ttt(e,t,r,n){if(!Yo.IsObjectLike(n))return yield yr(nt.Object,e,r,n);Ii(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield yr(nt.ObjectMinProperties,e,r,n)),Ii(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield yr(nt.ObjectMaxProperties,e,r,n));let i=Array.isArray(e.required)?e.required:[],s=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let l of i)a.includes(l)||(yield yr(nt.ObjectRequiredProperty,e.properties[l],`${r}/${N1(l)}`,void 0));if(e.additionalProperties===!1)for(let l of a)s.includes(l)||(yield yr(nt.ObjectAdditionalProperties,e,`${r}/${N1(l)}`,n[l]));if(typeof e.additionalProperties=="object")for(let l of a)s.includes(l)||(yield*El(e.additionalProperties,t,`${r}/${N1(l)}`,n[l]));for(let l of s){let c=e.properties[l];e.required&&e.required.includes(l)?(yield*El(c,t,`${r}/${N1(l)}`,n[l]),D1(e)&&!(l in n)&&(yield yr(nt.ObjectRequiredProperty,c,`${r}/${N1(l)}`,void 0))):Yo.IsExactOptionalProperty(n,l)&&(yield*El(c,t,`${r}/${N1(l)}`,n[l]))}}o(ttt,"FromObject");function*rtt(e,t,r,n){pP(n)||(yield yr(nt.Promise,e,r,n))}o(rtt,"FromPromise");function*ntt(e,t,r,n){if(!Yo.IsRecordLike(n))return yield yr(nt.Object,e,r,n);Ii(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield yr(nt.ObjectMinProperties,e,r,n)),Ii(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield yr(nt.ObjectMaxProperties,e,r,n));let[i,s]=Object.entries(e.patternProperties)[0],a=new RegExp(i);for(let[l,c]of Object.entries(n))a.test(l)&&(yield*El(s,t,`${r}/${N1(l)}`,c));if(typeof e.additionalProperties=="object")for(let[l,c]of Object.entries(n))a.test(l)||(yield*El(e.additionalProperties,t,`${r}/${N1(l)}`,c));if(e.additionalProperties===!1){for(let[l,c]of Object.entries(n))if(!a.test(l))return yield yr(nt.ObjectAdditionalProperties,e,`${r}/${N1(l)}`,c)}}o(ntt,"FromRecord");function*itt(e,t,r,n){yield*El($i(e,t),t,r,n)}o(itt,"FromRef");function*ott(e,t,r,n){if(!Oi(n))return yield yr(nt.String,e,r,n);if(Ii(e.minLength)&&!(n.length>=e.minLength)&&(yield yr(nt.StringMinLength,e,r,n)),Ii(e.maxLength)&&!(n.length<=e.maxLength)&&(yield yr(nt.StringMaxLength,e,r,n)),!new RegExp(e.source,e.flags).test(n))return yield yr(nt.RegExp,e,r,n)}o(ott,"FromRegExp");function*stt(e,t,r,n){if(!Oi(n))return yield yr(nt.String,e,r,n);Ii(e.minLength)&&!(n.length>=e.minLength)&&(yield yr(nt.StringMinLength,e,r,n)),Ii(e.maxLength)&&!(n.length<=e.maxLength)&&(yield yr(nt.StringMaxLength,e,r,n)),Oi(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield yr(nt.StringPattern,e,r,n))),Oi(e.format)&&(Nm.Has(e.format)?Nm.Get(e.format)(n)||(yield yr(nt.StringFormat,e,r,n)):yield yr(nt.StringFormatUnknown,e,r,n))}o(stt,"FromString");function*att(e,t,r,n){T1(n)||(yield yr(nt.Symbol,e,r,n))}o(att,"FromSymbol");function*ltt(e,t,r,n){if(!Oi(n))return yield yr(nt.String,e,r,n);new RegExp(e.pattern).test(n)||(yield yr(nt.StringPattern,e,r,n))}o(ltt,"FromTemplateLiteral");function*ctt(e,t,r,n){yield*El($i(e,t),t,r,n)}o(ctt,"FromThis");function*utt(e,t,r,n){if(!pn(n))return yield yr(nt.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield yr(nt.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield yr(nt.TupleLength,e,r,n);if(e.items)for(let i=0;i<e.items.length;i++)yield*El(e.items[i],t,`${r}/${i}`,n[i])}o(utt,"FromTuple");function*ftt(e,t,r,n){as(n)||(yield yr(nt.Undefined,e,r,n))}o(ftt,"FromUndefined");function*dtt(e,t,r,n){if(di(e,t,n))return;let i=e.anyOf.map(s=>new jy(El(s,t,r,n)));yield yr(nt.Union,e,r,n,i)}o(dtt,"FromUnion");function*mtt(e,t,r,n){if(!pE(n))return yield yr(nt.Uint8Array,e,r,n);Ii(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield yr(nt.Uint8ArrayMaxByteLength,e,r,n)),Ii(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield yr(nt.Uint8ArrayMinByteLength,e,r,n))}o(mtt,"FromUint8Array");function*htt(e,t,r,n){}o(htt,"FromUnknown");function*ptt(e,t,r,n){Yo.IsVoidLike(n)||(yield yr(nt.Void,e,r,n))}o(ptt,"FromVoid");function*gtt(e,t,r,n){e0.Get(e[ot])(e,n)||(yield yr(nt.Kind,e,r,n))}o(gtt,"FromKind");function*El(e,t,r,n){let i=Ii(e.$id)?[...t,e]:t,s=e;switch(s[ot]){case"Any":return yield*Qet(s,i,r,n);case"Argument":return yield*Met(s,i,r,n);case"Array":return yield*Oet(s,i,r,n);case"AsyncIterator":return yield*Uet(s,i,r,n);case"BigInt":return yield*qet(s,i,r,n);case"Boolean":return yield*Wet(s,i,r,n);case"Constructor":return yield*Get(s,i,r,n);case"Date":return yield*Het(s,i,r,n);case"Function":return yield*jet(s,i,r,n);case"Import":return yield*Vet(s,i,r,n);case"Integer":return yield*$et(s,i,r,n);case"Intersect":return yield*zet(s,i,r,n);case"Iterator":return yield*Yet(s,i,r,n);case"Literal":return yield*Ket(s,i,r,n);case"Never":return yield*Jet(s,i,r,n);case"Not":return yield*Zet(s,i,r,n);case"Null":return yield*Xet(s,i,r,n);case"Number":return yield*ett(s,i,r,n);case"Object":return yield*ttt(s,i,r,n);case"Promise":return yield*rtt(s,i,r,n);case"Record":return yield*ntt(s,i,r,n);case"Ref":return yield*itt(s,i,r,n);case"RegExp":return yield*ott(s,i,r,n);case"String":return yield*stt(s,i,r,n);case"Symbol":return yield*att(s,i,r,n);case"TemplateLiteral":return yield*ltt(s,i,r,n);case"This":return yield*ctt(s,i,r,n);case"Tuple":return yield*utt(s,i,r,n);case"Undefined":return yield*ftt(s,i,r,n);case"Union":return yield*dtt(s,i,r,n);case"Uint8Array":return yield*mtt(s,i,r,n);case"Unknown":return yield*htt(s,i,r,n);case"Void":return yield*ptt(s,i,r,n);default:if(!e0.Has(s[ot]))throw new jJ(e);return yield*gtt(s,i,r,n)}}o(El,"Visit");function Fp(...e){let t=e.length===3?El(e[0],e[1],"",e[2]):El(e[0],[],"",e[1]);return new jy(t)}o(Fp,"Errors");d();d();var nI=class extends gn{static{o(this,"TransformDecodeCheckError")}constructor(t,r,n){super("Unable to decode value as it does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},VJ=class extends gn{static{o(this,"TransformDecodeError")}constructor(t,r,n,i){super(i instanceof Error?i.message:"Unknown error"),this.schema=t,this.path=r,this.value=n,this.error=i}};function Rs(e,t,r){try{return no(e)?e[_s].Decode(r):r}catch(n){throw new VJ(e,t,r,n)}}o(Rs,"Default");function Att(e,t,r,n){return pn(n)?Rs(e,r,n.map((i,s)=>Wm(e.items,t,`${r}/${s}`,i))):Rs(e,r,n)}o(Att,"FromArray");function ytt(e,t,r,n){if(!ai(n)||Nu(n))return Rs(e,r,n);let i=TP(e),s=i.map(f=>f[0]),a={...n};for(let[f,m]of i)f in a&&(a[f]=Wm(m,t,`${r}/${f}`,a[f]));if(!no(e.unevaluatedProperties))return Rs(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.unevaluatedProperties,u={...a};for(let f of l)s.includes(f)||(u[f]=Rs(c,`${r}/${f}`,u[f]));return Rs(e,r,u)}o(ytt,"FromIntersect");function Ctt(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=Wm(s,[...t,...i],r,n);return Rs(e,r,a)}o(Ctt,"FromImport");function xtt(e,t,r,n){return Rs(e,r,Wm(e.not,t,r,n))}o(xtt,"FromNot");function vtt(e,t,r,n){if(!ai(n))return Rs(e,r,n);let i=U0(e),s={...n};for(let u of i)hn(s,u)&&(as(s[u])&&(!S1(e.properties[u])||Yo.IsExactOptionalProperty(s,u))||(s[u]=Wm(e.properties[u],t,`${r}/${u}`,s[u])));if(!Ss(e.additionalProperties))return Rs(e,r,s);let a=Object.getOwnPropertyNames(s),l=e.additionalProperties,c={...s};for(let u of a)i.includes(u)||(c[u]=Rs(l,`${r}/${u}`,c[u]));return Rs(e,r,c)}o(vtt,"FromObject");function btt(e,t,r,n){if(!ai(n))return Rs(e,r,n);let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=new RegExp(i),a={...n};for(let f of Object.getOwnPropertyNames(n))s.test(f)&&(a[f]=Wm(e.patternProperties[i],t,`${r}/${f}`,a[f]));if(!Ss(e.additionalProperties))return Rs(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)s.test(f)||(u[f]=Rs(c,`${r}/${f}`,u[f]));return Rs(e,r,u)}o(btt,"FromRecord");function Ett(e,t,r,n){let i=$i(e,t);return Rs(e,r,Wm(i,t,r,n))}o(Ett,"FromRef");function Itt(e,t,r,n){let i=$i(e,t);return Rs(e,r,Wm(i,t,r,n))}o(Itt,"FromThis");function Ttt(e,t,r,n){return pn(n)&&pn(e.items)?Rs(e,r,e.items.map((i,s)=>Wm(i,t,`${r}/${s}`,n[s]))):Rs(e,r,n)}o(Ttt,"FromTuple");function wtt(e,t,r,n){for(let i of e.anyOf){if(!di(i,t,n))continue;let s=Wm(i,t,r,n);return Rs(e,r,s)}return Rs(e,r,n)}o(wtt,"FromUnion");function Wm(e,t,r,n){let i=vl(e,t),s=e;switch(e[ot]){case"Array":return Att(s,i,r,n);case"Import":return Ctt(s,i,r,n);case"Intersect":return ytt(s,i,r,n);case"Not":return xtt(s,i,r,n);case"Object":return vtt(s,i,r,n);case"Record":return btt(s,i,r,n);case"Ref":return Ett(s,i,r,n);case"Symbol":return Rs(s,r,n);case"This":return Itt(s,i,r,n);case"Tuple":return Ttt(s,i,r,n);case"Union":return wtt(s,i,r,n);default:return Rs(s,r,n)}}o(Wm,"Visit");function iI(e,t,r){return Wm(e,t,"",r)}o(iI,"TransformDecode");d();var oI=class extends gn{static{o(this,"TransformEncodeCheckError")}constructor(t,r,n){super("The encoded value does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},$J=class extends gn{static{o(this,"TransformEncodeError")}constructor(t,r,n,i){super(`${i instanceof Error?i.message:"Unknown error"}`),this.schema=t,this.path=r,this.value=n,this.error=i}};function Zl(e,t,r){try{return no(e)?e[_s].Encode(r):r}catch(n){throw new $J(e,t,r,n)}}o(Zl,"Default");function _tt(e,t,r,n){let i=Zl(e,r,n);return pn(i)?i.map((s,a)=>Gm(e.items,t,`${r}/${a}`,s)):i}o(_tt,"FromArray");function Stt(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=Zl(e,r,n);return Gm(s,[...t,...i],r,a)}o(Stt,"FromImport");function ktt(e,t,r,n){let i=Zl(e,r,n);if(!ai(n)||Nu(n))return i;let s=TP(e),a=s.map(m=>m[0]),l={...i};for(let[m,h]of s)m in l&&(l[m]=Gm(h,t,`${r}/${m}`,l[m]));if(!no(e.unevaluatedProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.unevaluatedProperties,f={...l};for(let m of c)a.includes(m)||(f[m]=Zl(u,`${r}/${m}`,f[m]));return f}o(ktt,"FromIntersect");function Rtt(e,t,r,n){return Zl(e.not,r,Zl(e,r,n))}o(Rtt,"FromNot");function Btt(e,t,r,n){let i=Zl(e,r,n);if(!ai(i))return i;let s=U0(e),a={...i};for(let f of s)hn(a,f)&&(as(a[f])&&(!S1(e.properties[f])||Yo.IsExactOptionalProperty(a,f))||(a[f]=Gm(e.properties[f],t,`${r}/${f}`,a[f])));if(!Ss(e.additionalProperties))return a;let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)s.includes(f)||(u[f]=Zl(c,`${r}/${f}`,u[f]));return u}o(Btt,"FromObject");function Dtt(e,t,r,n){let i=Zl(e,r,n);if(!ai(n))return i;let s=Object.getOwnPropertyNames(e.patternProperties)[0],a=new RegExp(s),l={...i};for(let m of Object.getOwnPropertyNames(n))a.test(m)&&(l[m]=Gm(e.patternProperties[s],t,`${r}/${m}`,l[m]));if(!Ss(e.additionalProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.additionalProperties,f={...l};for(let m of c)a.test(m)||(f[m]=Zl(u,`${r}/${m}`,f[m]));return f}o(Dtt,"FromRecord");function Ptt(e,t,r,n){let i=$i(e,t),s=Gm(i,t,r,n);return Zl(e,r,s)}o(Ptt,"FromRef");function Ftt(e,t,r,n){let i=$i(e,t),s=Gm(i,t,r,n);return Zl(e,r,s)}o(Ftt,"FromThis");function Ntt(e,t,r,n){let i=Zl(e,r,n);return pn(e.items)?e.items.map((s,a)=>Gm(s,t,`${r}/${a}`,i[a])):[]}o(Ntt,"FromTuple");function Ltt(e,t,r,n){for(let i of e.anyOf){if(!di(i,t,n))continue;let s=Gm(i,t,r,n);return Zl(e,r,s)}for(let i of e.anyOf){let s=Gm(i,t,r,n);if(di(e,t,s))return Zl(e,r,s)}return Zl(e,r,n)}o(Ltt,"FromUnion");function Gm(e,t,r,n){let i=vl(e,t),s=e;switch(e[ot]){case"Array":return _tt(s,i,r,n);case"Import":return Stt(s,i,r,n);case"Intersect":return ktt(s,i,r,n);case"Not":return Rtt(s,i,r,n);case"Object":return Btt(s,i,r,n);case"Record":return Dtt(s,i,r,n);case"Ref":return Ptt(s,i,r,n);case"This":return Ftt(s,i,r,n);case"Tuple":return Ntt(s,i,r,n);case"Union":return Ltt(s,i,r,n);default:return Zl(s,r,n)}}o(Gm,"Visit");function sI(e,t,r){return Gm(e,t,"",r)}o(sI,"TransformEncode");d();function Qtt(e,t){return no(e)||ol(e.items,t)}o(Qtt,"FromArray");function Mtt(e,t){return no(e)||ol(e.items,t)}o(Mtt,"FromAsyncIterator");function Ott(e,t){return no(e)||ol(e.returns,t)||e.parameters.some(r=>ol(r,t))}o(Ott,"FromConstructor");function Utt(e,t){return no(e)||ol(e.returns,t)||e.parameters.some(r=>ol(r,t))}o(Utt,"FromFunction");function qtt(e,t){return no(e)||no(e.unevaluatedProperties)||e.allOf.some(r=>ol(r,t))}o(qtt,"FromIntersect");function Wtt(e,t){let r=globalThis.Object.getOwnPropertyNames(e.$defs).reduce((i,s)=>[...i,e.$defs[s]],[]),n=e.$defs[e.$ref];return no(e)||ol(n,[...r,...t])}o(Wtt,"FromImport");function Gtt(e,t){return no(e)||ol(e.items,t)}o(Gtt,"FromIterator");function Htt(e,t){return no(e)||ol(e.not,t)}o(Htt,"FromNot");function jtt(e,t){return no(e)||Object.values(e.properties).some(r=>ol(r,t))||Ss(e.additionalProperties)&&ol(e.additionalProperties,t)}o(jtt,"FromObject");function Vtt(e,t){return no(e)||ol(e.item,t)}o(Vtt,"FromPromise");function $tt(e,t){let r=Object.getOwnPropertyNames(e.patternProperties)[0],n=e.patternProperties[r];return no(e)||ol(n,t)||Ss(e.additionalProperties)&&no(e.additionalProperties)}o($tt,"FromRecord");function ztt(e,t){return no(e)?!0:ol($i(e,t),t)}o(ztt,"FromRef");function Ytt(e,t){return no(e)?!0:ol($i(e,t),t)}o(Ytt,"FromThis");function Ktt(e,t){return no(e)||!as(e.items)&&e.items.some(r=>ol(r,t))}o(Ktt,"FromTuple");function Jtt(e,t){return no(e)||e.anyOf.some(r=>ol(r,t))}o(Jtt,"FromUnion");function ol(e,t){let r=vl(e,t),n=e;if(e.$id&&zJ.has(e.$id))return!1;switch(e.$id&&zJ.add(e.$id),e[ot]){case"Array":return Qtt(n,r);case"AsyncIterator":return Mtt(n,r);case"Constructor":return Ott(n,r);case"Function":return Utt(n,r);case"Import":return Wtt(n,r);case"Intersect":return qtt(n,r);case"Iterator":return Gtt(n,r);case"Not":return Htt(n,r);case"Object":return jtt(n,r);case"Promise":return Vtt(n,r);case"Record":return $tt(n,r);case"Ref":return ztt(n,r);case"This":return Ytt(n,r);case"Tuple":return Ktt(n,r);case"Union":return Jtt(n,r);default:return no(e)}}o(ol,"Visit");var zJ=new Set;function L1(e,t){return zJ.clear(),ol(e,t)}o(L1,"HasTransform");var YJ=class{static{o(this,"TypeCheck")}constructor(t,r,n,i){this.schema=t,this.references=r,this.checkFunc=n,this.code=i,this.hasTransform=L1(t,r)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(t){return Fp(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new nI(this.schema,t,this.Errors(t).First());return this.hasTransform?iI(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?sI(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new oI(this.schema,t,this.Errors(t).First());return r}},Q1;(function(e){function t(s){return s===36}o(t,"DollarSign"),e.DollarSign=t;function r(s){return s===95}o(r,"IsUnderscore"),e.IsUnderscore=r;function n(s){return s>=65&&s<=90||s>=97&&s<=122}o(n,"IsAlpha"),e.IsAlpha=n;function i(s){return s>=48&&s<=57}o(i,"IsNumeric"),e.IsNumeric=i})(Q1||(Q1={}));var FF;(function(e){function t(s){return s.length===0?!1:Q1.IsNumeric(s.charCodeAt(0))}o(t,"IsFirstCharacterNumeric");function r(s){if(t(s))return!1;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);if(!(Q1.IsAlpha(l)||Q1.IsNumeric(l)||Q1.DollarSign(l)||Q1.IsUnderscore(l)))return!1}return!0}o(r,"IsAccessor");function n(s){return s.replace(/'/g,"\\'")}o(n,"EscapeHyphen");function i(s,a){return r(a)?`${s}.${a}`:`${s}['${n(a)}']`}o(i,"Encode"),e.Encode=i})(FF||(FF={}));var KJ;(function(e){function t(r){let n=[];for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);Q1.IsNumeric(s)||Q1.IsAlpha(s)?n.push(r.charAt(i)):n.push(`_${s}_`)}return n.join("").replace(/__/g,"_")}o(t,"Encode"),e.Encode=t})(KJ||(KJ={}));var JJ;(function(e){function t(r){return r.replace(/'/g,"\\'")}o(t,"Escape"),e.Escape=t})(JJ||(JJ={}));var ZJ=class extends gn{static{o(this,"TypeCompilerUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}},NF=class extends gn{static{o(this,"TypeCompilerTypeGuardError")}constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}},u4;(function(e){function t(a,l,c){return Yo.ExactOptionalPropertyTypes?`('${l}' in ${a} ? ${c} : true)`:`(${FF.Encode(a,l)} !== undefined ? ${c} : true)`}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return Yo.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return Yo.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return Yo.AllowNaN?`typeof ${a} === 'number'`:`Number.isFinite(${a})`}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){return Yo.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}o(s,"IsVoidLike"),e.IsVoidLike=s})(u4||(u4={}));var ds;(function(e){function t(ie){return ie[ot]==="Any"||ie[ot]==="Unknown"}o(t,"IsAnyOrUnknown");function*r(ie,Fe,Ae){yield"true"}o(r,"FromAny");function*n(ie,Fe,Ae){yield"true"}o(n,"FromArgument");function*i(ie,Fe,Ae){yield`Array.isArray(${Ae})`;let[Ge,z]=[ke("value","any"),ke("acc","number")];Kr(ie.maxItems)&&(yield`${Ae}.length <= ${ie.maxItems}`),Kr(ie.minItems)&&(yield`${Ae}.length >= ${ie.minItems}`);let ee=fe(ie.items,Fe,"value");if(yield`${Ae}.every((${Ge}) => ${ee})`,cs(ie.contains)||Kr(ie.minContains)||Kr(ie.maxContains)){let Le=cs(ie.contains)?ie.contains:Xn(),Se=fe(Le,Fe,"value"),Ce=Kr(ie.minContains)?[`(count >= ${ie.minContains})`]:[],qe=Kr(ie.maxContains)?[`(count <= ${ie.maxContains})`]:[],Ve=`const count = value.reduce((${z}, ${Ge}) => ${Se} ? acc + 1 : acc, 0)`,tt=["(count > 0)",...Ce,...qe].join(" && ");yield`((${Ge}) => { ${Ve}; return ${tt}})(${Ae})`}ie.uniqueItems===!0&&(yield`((${Ge}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${Ae})`)}o(i,"FromArray");function*s(ie,Fe,Ae){yield`(typeof value === 'object' && Symbol.asyncIterator in ${Ae})`}o(s,"FromAsyncIterator");function*a(ie,Fe,Ae){yield`(typeof ${Ae} === 'bigint')`,zl(ie.exclusiveMaximum)&&(yield`${Ae} < BigInt(${ie.exclusiveMaximum})`),zl(ie.exclusiveMinimum)&&(yield`${Ae} > BigInt(${ie.exclusiveMinimum})`),zl(ie.maximum)&&(yield`${Ae} <= BigInt(${ie.maximum})`),zl(ie.minimum)&&(yield`${Ae} >= BigInt(${ie.minimum})`),zl(ie.multipleOf)&&(yield`(${Ae} % BigInt(${ie.multipleOf})) === 0`)}o(a,"FromBigInt");function*l(ie,Fe,Ae){yield`(typeof ${Ae} === 'boolean')`}o(l,"FromBoolean");function*c(ie,Fe,Ae){yield*te(ie.returns,Fe,`${Ae}.prototype`)}o(c,"FromConstructor");function*u(ie,Fe,Ae){yield`(${Ae} instanceof Date) && Number.isFinite(${Ae}.getTime())`,Kr(ie.exclusiveMaximumTimestamp)&&(yield`${Ae}.getTime() < ${ie.exclusiveMaximumTimestamp}`),Kr(ie.exclusiveMinimumTimestamp)&&(yield`${Ae}.getTime() > ${ie.exclusiveMinimumTimestamp}`),Kr(ie.maximumTimestamp)&&(yield`${Ae}.getTime() <= ${ie.maximumTimestamp}`),Kr(ie.minimumTimestamp)&&(yield`${Ae}.getTime() >= ${ie.minimumTimestamp}`),Kr(ie.multipleOfTimestamp)&&(yield`(${Ae}.getTime() % ${ie.multipleOfTimestamp}) === 0`)}o(u,"FromDate");function*f(ie,Fe,Ae){yield`(typeof ${Ae} === 'function')`}o(f,"FromFunction");function*m(ie,Fe,Ae){let Ge=globalThis.Object.getOwnPropertyNames(ie.$defs).reduce((z,ee)=>[...z,ie.$defs[ee]],[]);yield*te(nd(ie.$ref),[...Fe,...Ge],Ae)}o(m,"FromImport");function*h(ie,Fe,Ae){yield`Number.isInteger(${Ae})`,Kr(ie.exclusiveMaximum)&&(yield`${Ae} < ${ie.exclusiveMaximum}`),Kr(ie.exclusiveMinimum)&&(yield`${Ae} > ${ie.exclusiveMinimum}`),Kr(ie.maximum)&&(yield`${Ae} <= ${ie.maximum}`),Kr(ie.minimum)&&(yield`${Ae} >= ${ie.minimum}`),Kr(ie.multipleOf)&&(yield`(${Ae} % ${ie.multipleOf}) === 0`)}o(h,"FromInteger");function*p(ie,Fe,Ae){let Ge=ie.allOf.map(z=>fe(z,Fe,Ae)).join(" && ");if(ie.unevaluatedProperties===!1){let z=ve(`${new RegExp(B1(ie))};`),ee=`Object.getOwnPropertyNames(${Ae}).every(key => ${z}.test(key))`;yield`(${Ge} && ${ee})`}else if(cs(ie.unevaluatedProperties)){let z=ve(`${new RegExp(B1(ie))};`),ee=`Object.getOwnPropertyNames(${Ae}).every(key => ${z}.test(key) || ${fe(ie.unevaluatedProperties,Fe,`${Ae}[key]`)})`;yield`(${Ge} && ${ee})`}else yield`(${Ge})`}o(p,"FromIntersect");function*A(ie,Fe,Ae){yield`(typeof value === 'object' && Symbol.iterator in ${Ae})`}o(A,"FromIterator");function*x(ie,Fe,Ae){typeof ie.const=="number"||typeof ie.const=="boolean"?yield`(${Ae} === ${ie.const})`:yield`(${Ae} === '${JJ.Escape(ie.const)}')`}o(x,"FromLiteral");function*v(ie,Fe,Ae){yield"false"}o(v,"FromNever");function*E(ie,Fe,Ae){yield`(!${fe(ie.not,Fe,Ae)})`}o(E,"FromNot");function*b(ie,Fe,Ae){yield`(${Ae} === null)`}o(b,"FromNull");function*_(ie,Fe,Ae){yield u4.IsNumberLike(Ae),Kr(ie.exclusiveMaximum)&&(yield`${Ae} < ${ie.exclusiveMaximum}`),Kr(ie.exclusiveMinimum)&&(yield`${Ae} > ${ie.exclusiveMinimum}`),Kr(ie.maximum)&&(yield`${Ae} <= ${ie.maximum}`),Kr(ie.minimum)&&(yield`${Ae} >= ${ie.minimum}`),Kr(ie.multipleOf)&&(yield`(${Ae} % ${ie.multipleOf}) === 0`)}o(_,"FromNumber");function*R(ie,Fe,Ae){yield u4.IsObjectLike(Ae),Kr(ie.minProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length >= ${ie.minProperties}`),Kr(ie.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length <= ${ie.maxProperties}`);let Ge=Object.getOwnPropertyNames(ie.properties);for(let z of Ge){let ee=FF.Encode(Ae,z),Le=ie.properties[z];if(ie.required&&ie.required.includes(z))yield*te(Le,Fe,ee),(D1(Le)||t(Le))&&(yield`('${z}' in ${Ae})`);else{let Se=fe(Le,Fe,ee);yield u4.IsExactOptionalProperty(Ae,z,Se)}}if(ie.additionalProperties===!1)if(ie.required&&ie.required.length===Ge.length)yield`Object.getOwnPropertyNames(${Ae}).length === ${Ge.length}`;else{let z=`[${Ge.map(ee=>`'${ee}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${Ae}).every(key => ${z}.includes(key))`}if(typeof ie.additionalProperties=="object"){let z=fe(ie.additionalProperties,Fe,`${Ae}[key]`),ee=`[${Ge.map(Le=>`'${Le}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${Ae}).every(key => ${ee}.includes(key) || ${z}))`}}o(R,"FromObject");function*P(ie,Fe,Ae){yield`${Ae} instanceof Promise`}o(P,"FromPromise");function*F(ie,Fe,Ae){yield u4.IsRecordLike(Ae),Kr(ie.minProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length >= ${ie.minProperties}`),Kr(ie.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length <= ${ie.maxProperties}`);let[Ge,z]=Object.entries(ie.patternProperties)[0],ee=ve(`${new RegExp(Ge)}`),Le=fe(z,Fe,"value"),Se=cs(ie.additionalProperties)?fe(ie.additionalProperties,Fe,Ae):ie.additionalProperties===!1?"false":"true",Ce=`(${ee}.test(key) ? ${Le} : ${Se})`;yield`(Object.entries(${Ae}).every(([key, value]) => ${Ce}))`}o(F,"FromRecord");function*W(ie,Fe,Ae){let Ge=$i(ie,Fe);if(le.functions.has(ie.$ref))return yield`${De(ie.$ref)}(${Ae})`;yield*te(Ge,Fe,Ae)}o(W,"FromRef");function*se(ie,Fe,Ae){let Ge=ve(`${new RegExp(ie.source,ie.flags)};`);yield`(typeof ${Ae} === 'string')`,Kr(ie.maxLength)&&(yield`${Ae}.length <= ${ie.maxLength}`),Kr(ie.minLength)&&(yield`${Ae}.length >= ${ie.minLength}`),yield`${Ge}.test(${Ae})`}o(se,"FromRegExp");function*de(ie,Fe,Ae){yield`(typeof ${Ae} === 'string')`,Kr(ie.maxLength)&&(yield`${Ae}.length <= ${ie.maxLength}`),Kr(ie.minLength)&&(yield`${Ae}.length >= ${ie.minLength}`),ie.pattern!==void 0&&(yield`${ve(`${new RegExp(ie.pattern)};`)}.test(${Ae})`),ie.format!==void 0&&(yield`format('${ie.format}', ${Ae})`)}o(de,"FromString");function*re(ie,Fe,Ae){yield`(typeof ${Ae} === 'symbol')`}o(re,"FromSymbol");function*G(ie,Fe,Ae){yield`(typeof ${Ae} === 'string')`,yield`${ve(`${new RegExp(ie.pattern)};`)}.test(${Ae})`}o(G,"FromTemplateLiteral");function*U(ie,Fe,Ae){yield`${De(ie.$ref)}(${Ae})`}o(U,"FromThis");function*ne(ie,Fe,Ae){if(yield`Array.isArray(${Ae})`,ie.items===void 0)return yield`${Ae}.length === 0`;yield`(${Ae}.length === ${ie.maxItems})`;for(let Ge=0;Ge<ie.items.length;Ge++)yield`${fe(ie.items[Ge],Fe,`${Ae}[${Ge}]`)}`}o(ne,"FromTuple");function*J(ie,Fe,Ae){yield`${Ae} === undefined`}o(J,"FromUndefined");function*j(ie,Fe,Ae){yield`(${ie.anyOf.map(z=>fe(z,Fe,Ae)).join(" || ")})`}o(j,"FromUnion");function*O(ie,Fe,Ae){yield`${Ae} instanceof Uint8Array`,Kr(ie.maxByteLength)&&(yield`(${Ae}.length <= ${ie.maxByteLength})`),Kr(ie.minByteLength)&&(yield`(${Ae}.length >= ${ie.minByteLength})`)}o(O,"FromUint8Array");function*V(ie,Fe,Ae){yield"true"}o(V,"FromUnknown");function*Z(ie,Fe,Ae){yield u4.IsVoidLike(Ae)}o(Z,"FromVoid");function*ae(ie,Fe,Ae){let Ge=le.instances.size;le.instances.set(Ge,ie),yield`kind('${ie[ot]}', ${Ge}, ${Ae})`}o(ae,"FromKind");function*te(ie,Fe,Ae,Ge=!0){let z=Oi(ie.$id)?[...Fe,ie]:Fe,ee=ie;if(Ge&&Oi(ie.$id)){let Le=De(ie.$id);if(le.functions.has(Le))return yield`${Le}(${Ae})`;{le.functions.set(Le,"<deferred>");let Se=Ue(Le,ie,Fe,"value",!1);return le.functions.set(Le,Se),yield`${Le}(${Ae})`}}switch(ee[ot]){case"Any":return yield*r(ee,z,Ae);case"Argument":return yield*n(ee,z,Ae);case"Array":return yield*i(ee,z,Ae);case"AsyncIterator":return yield*s(ee,z,Ae);case"BigInt":return yield*a(ee,z,Ae);case"Boolean":return yield*l(ee,z,Ae);case"Constructor":return yield*c(ee,z,Ae);case"Date":return yield*u(ee,z,Ae);case"Function":return yield*f(ee,z,Ae);case"Import":return yield*m(ee,z,Ae);case"Integer":return yield*h(ee,z,Ae);case"Intersect":return yield*p(ee,z,Ae);case"Iterator":return yield*A(ee,z,Ae);case"Literal":return yield*x(ee,z,Ae);case"Never":return yield*v(ee,z,Ae);case"Not":return yield*E(ee,z,Ae);case"Null":return yield*b(ee,z,Ae);case"Number":return yield*_(ee,z,Ae);case"Object":return yield*R(ee,z,Ae);case"Promise":return yield*P(ee,z,Ae);case"Record":return yield*F(ee,z,Ae);case"Ref":return yield*W(ee,z,Ae);case"RegExp":return yield*se(ee,z,Ae);case"String":return yield*de(ee,z,Ae);case"Symbol":return yield*re(ee,z,Ae);case"TemplateLiteral":return yield*G(ee,z,Ae);case"This":return yield*U(ee,z,Ae);case"Tuple":return yield*ne(ee,z,Ae);case"Undefined":return yield*J(ee,z,Ae);case"Union":return yield*j(ee,z,Ae);case"Uint8Array":return yield*O(ee,z,Ae);case"Unknown":return yield*V(ee,z,Ae);case"Void":return yield*Z(ee,z,Ae);default:if(!e0.Has(ee[ot]))throw new ZJ(ie);return yield*ae(ee,z,Ae)}}o(te,"Visit");let le={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function fe(ie,Fe,Ae,Ge=!0){return`(${[...te(ie,Fe,Ae,Ge)].join(" && ")})`}o(fe,"CreateExpression");function De(ie){return`check_${KJ.Encode(ie)}`}o(De,"CreateFunctionName");function ve(ie){let Fe=`local_${le.variables.size}`;return le.variables.set(Fe,`const ${Fe} = ${ie}`),Fe}o(ve,"CreateVariable");function Ue(ie,Fe,Ae,Ge,z=!0){let[ee,Le]=[`
`,Ve=>"".padStart(Ve," ")],Se=ke("value","any"),Ce=Ze("boolean"),qe=[...te(Fe,Ae,Ge,z)].map(Ve=>`${Le(4)}${Ve}`).join(` &&${ee}`);return`function ${ie}(${Se})${Ce} {${ee}${Le(2)}return (${ee}${qe}${ee}${Le(2)})
}`}o(Ue,"CreateFunction");function ke(ie,Fe){let Ae=le.language==="typescript"?`: ${Fe}`:"";return`${ie}${Ae}`}o(ke,"CreateParameter");function Ze(ie){return le.language==="typescript"?`: ${ie}`:""}o(Ze,"CreateReturns");function ft(ie,Fe,Ae){let Ge=Ue("check",ie,Fe,"value"),z=ke("value","any"),ee=Ze("boolean"),Le=[...le.functions.values()],Se=[...le.variables.values()],Ce=Oi(ie.$id)?`return function check(${z})${ee} {
  return ${De(ie.$id)}(value)
}`:`return ${Ge}`;return[...Se,...Le,Ce].join(`
`)}o(ft,"Build");function at(...ie){let Fe={language:"javascript"},[Ae,Ge,z]=ie.length===2&&pn(ie[1])?[ie[0],ie[1],Fe]:ie.length===2&&!pn(ie[1])?[ie[0],[],ie[1]]:ie.length===3?[ie[0],ie[1],ie[2]]:ie.length===1?[ie[0],[],Fe]:[null,[],Fe];if(le.language=z.language,le.variables.clear(),le.functions.clear(),le.instances.clear(),!cs(Ae))throw new NF(Ae);for(let ee of Ge)if(!cs(ee))throw new NF(ee);return ft(Ae,Ge,z)}o(at,"Code"),e.Code=at;function lt(ie,Fe=[]){let Ae=at(ie,Fe,{language:"javascript"}),Ge=globalThis.Function("kind","format","hash",Ae),z=new Map(le.instances);function ee(qe,Ve,tt){if(!e0.Has(qe)||!z.has(Ve))return!1;let Ct=e0.Get(qe),Pt=z.get(Ve);return Ct(Pt,tt)}o(ee,"typeRegistryFunction");function Le(qe,Ve){return Nm.Has(qe)?Nm.Get(qe)(Ve):!1}o(Le,"formatRegistryFunction");function Se(qe){return Hy(qe)}o(Se,"hashFunction");let Ce=Ge(ee,Le,Se);return new YJ(ie,Fe,Ce,Ae)}o(lt,"Compile"),e.Compile=lt})(ds||(ds={}));var MF=et(Iy());d();d();var Xl=[];for(let e=0;e<256;++e)Xl.push((e+256).toString(16).slice(1));function l5e(e,t=0){return(Xl[e[t+0]]+Xl[e[t+1]]+Xl[e[t+2]]+Xl[e[t+3]]+"-"+Xl[e[t+4]]+Xl[e[t+5]]+"-"+Xl[e[t+6]]+Xl[e[t+7]]+"-"+Xl[e[t+8]]+Xl[e[t+9]]+"-"+Xl[e[t+10]]+Xl[e[t+11]]+Xl[e[t+12]]+Xl[e[t+13]]+Xl[e[t+14]]+Xl[e[t+15]]).toLowerCase()}o(l5e,"unsafeStringify");d();var c5e=require("crypto");var QF=new Uint8Array(256),LF=QF.length;function XJ(){return LF>QF.length-16&&((0,c5e.randomFillSync)(QF),LF=0),QF.slice(LF,LF+=16)}o(XJ,"rng");d();d();var u5e=require("crypto"),eZ={randomUUID:u5e.randomUUID};function Ztt(e,t,r){if(eZ.randomUUID&&!t&&!e)return eZ.randomUUID();e=e||{};let n=e.random??e.rng?.()??XJ();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return l5e(n)}o(Ztt,"v4");var Ir=Ztt;var OF=et(ei());function aI(e){return e===1}o(aI,"isRestricted");var Xtt=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"],mw=8192,ert=21;var Bs=class{static{o(this,"TelemetryReporters")}getReporter(t,r=0){return aI(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(UF(t))return this.reporterRestricted;if(eI(t))return new uw}getFTReporter(t){if(d5e(t))return this.reporterFT;if(eI(t))return new uw}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}},trt=I.Object({},{additionalProperties:I.String()}),rrt=I.Object({meanLogProb:I.Optional(I.Number()),meanAlternativeLogProb:I.Optional(I.Number())},{additionalProperties:I.Number()}),nrt=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function irt(e){return nrt.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(irt,"isOomError");function ort(e){return NT(e)?"network":irt(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}o(ort,"getErrorType");var ln=class e{static{o(this,"TelemetryData")}static{this.validateTelemetryProperties=ds.Compile(trt)}static{this.validateTelemetryMeasurements=ds.Compile(rrt)}static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new e(t||{},r||{},Zs())}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime);return s.displayedTime=this.displayedTime,s}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=Zs())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(xr).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=Dp(t.get(dn).getEditorInfo()),this.properties.editor_plugin_version=Dp(t.get(dn).getEditorPluginInfo());let r=t.get(ws);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${d4(t)}`,typeof process<"u"&&(this.properties.runtime_version=`node/${process.versions.node}`);let n=t.get(dn);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=Dp(n.getEditorInfo());let i=t.get(Or);this.properties.fetcher=i.name;let s=i.proxySettings;this.properties.proxy_enabled=s?"true":"false",this.properties.proxy_auth=s?.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=s?.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=i.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=A5e(t);r["copilot.build"]=y5e(t),r["copilot.buildType"]=ud(t),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(aI(t))return r;let n={};for(let i in r)e.keysToRemoveFromStandardTelemetryHack.includes(i)||(n[i]=r[i]);return n}sanitizeKeys(){this.properties=e.sanitizeKeys(this.properties),this.measurements=e.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}multiplexProperties(){this.properties=e.multiplexProperties(this.properties)}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let i=e.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[i]=t[n]}return r}static multiplexProperties(t){let r={...t};for(let n in t){let i=t[n],s=i?.length??0;if(s>mw){let a=0,l=0;for(;s>0&&l<ert;){l+=1;let c=n;l>1&&(c=n+"_"+(l<10?"0":"")+l);let u=a+mw;s<mw&&(u=a+s),r[c]=i.slice(a,u),s-=mw,a+=mw}}}return r}updateMeasurements(t){let r=t-this.issuedTime;if(this.measurements.timeSinceIssuedMs=r,this.displayedTime!==void 0){let n=t-this.displayedTime;this.measurements.timeSinceDisplayedMs=n}this.measurements.current_time===void 0&&(this.measurements.current_time=lrt(t))}validateData(t,r){let n;if(e.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...e.validateTelemetryProperties.Errors(this.properties)])}),!e.validateTelemetryMeasurements.Check(this.measurements)){let i=JSON.stringify([...e.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:i}:(n.problem="both",n.error+=`; ${i}`)}if(n===void 0)return!0;if(eI(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return f4(t,"invalidTelemetryData",e.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),aI(r)&&f4(t,"invalidTelemetryData_in_secure",e.createAndMarkAsIssued({problem:n.problem,requestId:this.properties.requestId??"unknown"}),0),!1}async makeReadyForSending(t,r,n,i){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),this.multiplexProperties(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(i),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),Object.assign(this.properties,m5e(t))}},Np=class e extends ln{static{o(this,"TelemetryWithExp")}constructor(t,r,n,i){super(t,r,n),this.filtersAndExp=i}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime,this.filtersAndExp);return s.displayedTime=this.displayedTime,s}async extendWithExpTelemetry(t){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new e({},{},0,{filters:new V3({}),exp:cd.createEmptyConfig()})}};function hw(e,t,r,n){e.get(Bs).getReporter(e,t)?.sendTelemetryEvent(r,ln.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(hw,"sendTelemetryEvent");function srt(e,t,r,n){e.get(Bs).getReporter(e,t)?.sendTelemetryErrorEvent(r,ln.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(srt,"sendTelemetryErrorEvent");function art(e,t,r,n){e.get(Bs).getFTReporter(e)?.sendTelemetryEvent(r,ln.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(art,"sendFTTelemetryEvent");function lI(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}o(lI,"telemetrizePromptLength");function Zs(){return performance.now()}o(Zs,"now");function lrt(e){return Math.floor(e/1e3)}o(lrt,"nowSeconds");function UF(e){return e.get(Jl).optedIn}o(UF,"shouldSendRestricted");function d5e(e){return e.get(Jl).ftFlag!==""}o(d5e,"shouldSendFinetuningTelemetry");function jt(e,t,r,n){return e.get(Do).register(crt(e,t,Zs(),r?.extendedBy(),n))}o(jt,"telemetry");async function crt(e,t,r,n,i=0){let s=n||ln.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i??!1,"IncludeExp",r),(!aI(i)||UF(e))&&hw(e,i,t,s),aI(i)&&Xtt.includes(t)&&d5e(e)&&art(e,i,t,s)}o(crt,"_telemetry");function qF(e,t){return e.get(Do).register(urt(e,t,Zs()))}o(qF,"telemetryExpProblem");async function urt(e,t,r){let n="expProblem",i=ln.createAndMarkAsIssued(t,{});await i.makeReadyForSending(e,0,"SkipExp",r),hw(e,0,n,i)}o(urt,"_telemetryExpProblem");function rZ(e,t,r,n){return e.get(Do).register(frt(e,t,r,n))}o(rZ,"telemetryRaw");async function frt(e,t,r,n){let i={...r,...m5e(e)};hw(e,0,t,{properties:i,measurements:n})}o(frt,"_telemetryRaw");function m5e(e){let t=e.get(dn),r={unique_id:Ir(),common_extname:t.getEditorPluginInfo().name,common_extversion:t.getEditorPluginInfo().version,common_vscodeversion:Dp(t.getEditorInfo())},n=e.get(Jl);return n.trackingId&&(r.copilot_trackingId=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),r}o(m5e,"createRequiredProperties");var tZ=class extends Error{static{o(this,"CopilotNonError")}constructor(t){let r;try{r=JSON.stringify(t)}catch{r=String(t)}super(r),this.name="CopilotNonError",this.code=(0,MF.SHA256)(MF.enc.Utf16.parse(this.message)).toString().slice(0,16)}};function xa(e,t,r,n,i){return e.get(Do).register(h5e(e,t,Zs(),r,{...n},i))}o(xa,"telemetryException");async function h5e(e,t,r,n,i,s){let a;if(t instanceof Error){if(a=t,a.name==="Canceled"&&a.message==="Canceled"||a.name==="CodeExpectedError"||bc(a)||a instanceof Ys||a instanceof OF.ConnectionError||a instanceof OF.ResponseError)return}else{if(a=new tZ(t),t&&typeof t=="object"&&t.name==="ExitStatus")return;if(a.stack?.startsWith(`${a}
`)){let x=a.stack.slice(`${a}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*_telemetryException\b/.test(x[0]??"")&&x.shift(),/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(x[0]??"")&&x.shift(),a.stack=`${a}
${x.join(`
`)}`}}let l=e.get(dn).getEditorInfo(),c;l.root&&(c=[{prefix:`${l.name}:`,path:l.root}]);let u=qJ(a,c),f=UF(e),m=ort(a),h=m==="exception",p=ln.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:u.stack||u.toString(),message:u.message,...i});if(await p.makeReadyForSending(e,0,"IncludeExp",r),s?.exception_detail)for(let x of s.exception_detail)x.value&&(f?x.value=OJ(x.value):x.value="[redacted]");if(s??=$ye(e,qJ(a,c,f)),s.context={...s.context,"copilot_event.unique_id":p.properties.unique_id,"#restricted_telemetry":f?"true":"false"},n&&(s.context["#origin"]=n,s.transaction=n),s.rollup_id!=="auto"&&(p.properties.errno=s.rollup_id),s.created_at=new Date(p.issuedTime).toISOString(),f){let x=n5e(a,c),v=ln.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:x.stack||x.toString(),message:x.message,...i});s.rollup_id!=="auto"&&(v.properties.errno=s.rollup_id),await v.makeReadyForSending(e,1,"IncludeExp",r),v.properties.unique_id=p.properties.unique_id,p.properties.restricted_unique_id=v.properties.unique_id,hw(e,1,`error.${m}`,v)}let A=s.rollup_id==="auto"?a.stack??"":s.rollup_id;h&&!e.get(Pp).isThrottled(A)&&(p.properties.failbot_payload=JSON.stringify(s)),hw(e,0,`error.${m}`,p)}o(h5e,"_telemetryException");function Gu(e,t,r,n){let i=o(async(...s)=>{try{await t(...s)}catch(a){await h5e(e,a,Zs(),r,n)}},"wrapped");return(...s)=>e.get(Do).register(i(...s))}o(Gu,"telemetryCatch");function f4(e,t,r,n){return e.get(Do).register(drt(e,t,Zs(),r?.extendedBy(),n))}o(f4,"telemetryError");async function drt(e,t,r,n,i=0){if(aI(i)&&!UF(e))return;let s=n||ln.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i,"IncludeExp",r),srt(e,i,t,s)}o(drt,"_telemetryError");function p5e(e,t,r,n,i){let s=ln.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:i.toString()});if(r.logprobs)for(let[a,l]of Object.entries(r.logprobs))s.properties["logprobs_"+a]=JSON.stringify(l)??"unset";return s.extendWithRequestId(n),jt(e,"engine.completion",s,1)}o(p5e,"logEngineCompletion");function g5e(e,t,r){let n;t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix)}:n={promptJson:JSON.stringify(t.prefix)};let i=r.extendedBy(n);return jt(e,"engine.prompt",i,1)}o(g5e,"logEnginePrompt");var cd=class e{static{o(this,"ExpConfig")}constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return qF(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new e({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};d();d();d();var v5e=require("os"),GF=require("path");d();var C5e;(()=>{"use strict";var e={975:G=>{function U(j){if(typeof j!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(j))}o(U,"e");function ne(j,O){for(var V,Z="",ae=0,te=-1,le=0,fe=0;fe<=j.length;++fe){if(fe<j.length)V=j.charCodeAt(fe);else{if(V===47)break;V=47}if(V===47){if(!(te===fe-1||le===1))if(te!==fe-1&&le===2){if(Z.length<2||ae!==2||Z.charCodeAt(Z.length-1)!==46||Z.charCodeAt(Z.length-2)!==46){if(Z.length>2){var De=Z.lastIndexOf("/");if(De!==Z.length-1){De===-1?(Z="",ae=0):ae=(Z=Z.slice(0,De)).length-1-Z.lastIndexOf("/"),te=fe,le=0;continue}}else if(Z.length===2||Z.length===1){Z="",ae=0,te=fe,le=0;continue}}O&&(Z.length>0?Z+="/..":Z="..",ae=2)}else Z.length>0?Z+="/"+j.slice(te+1,fe):Z=j.slice(te+1,fe),ae=fe-te-1;te=fe,le=0}else V===46&&le!==-1?++le:le=-1}return Z}o(ne,"r");var J={resolve:o(function(){for(var j,O="",V=!1,Z=arguments.length-1;Z>=-1&&!V;Z--){var ae;Z>=0?ae=arguments[Z]:(j===void 0&&(j=process.cwd()),ae=j),U(ae),ae.length!==0&&(O=ae+"/"+O,V=ae.charCodeAt(0)===47)}return O=ne(O,!V),V?O.length>0?"/"+O:"/":O.length>0?O:"."},"resolve"),normalize:o(function(j){if(U(j),j.length===0)return".";var O=j.charCodeAt(0)===47,V=j.charCodeAt(j.length-1)===47;return(j=ne(j,!O)).length!==0||O||(j="."),j.length>0&&V&&(j+="/"),O?"/"+j:j},"normalize"),isAbsolute:o(function(j){return U(j),j.length>0&&j.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var j,O=0;O<arguments.length;++O){var V=arguments[O];U(V),V.length>0&&(j===void 0?j=V:j+="/"+V)}return j===void 0?".":J.normalize(j)},"join"),relative:o(function(j,O){if(U(j),U(O),j===O||(j=J.resolve(j))===(O=J.resolve(O)))return"";for(var V=1;V<j.length&&j.charCodeAt(V)===47;++V);for(var Z=j.length,ae=Z-V,te=1;te<O.length&&O.charCodeAt(te)===47;++te);for(var le=O.length-te,fe=ae<le?ae:le,De=-1,ve=0;ve<=fe;++ve){if(ve===fe){if(le>fe){if(O.charCodeAt(te+ve)===47)return O.slice(te+ve+1);if(ve===0)return O.slice(te+ve)}else ae>fe&&(j.charCodeAt(V+ve)===47?De=ve:ve===0&&(De=0));break}var Ue=j.charCodeAt(V+ve);if(Ue!==O.charCodeAt(te+ve))break;Ue===47&&(De=ve)}var ke="";for(ve=V+De+1;ve<=Z;++ve)ve!==Z&&j.charCodeAt(ve)!==47||(ke.length===0?ke+="..":ke+="/..");return ke.length>0?ke+O.slice(te+De):(te+=De,O.charCodeAt(te)===47&&++te,O.slice(te))},"relative"),_makeLong:o(function(j){return j},"_makeLong"),dirname:o(function(j){if(U(j),j.length===0)return".";for(var O=j.charCodeAt(0),V=O===47,Z=-1,ae=!0,te=j.length-1;te>=1;--te)if((O=j.charCodeAt(te))===47){if(!ae){Z=te;break}}else ae=!1;return Z===-1?V?"/":".":V&&Z===1?"//":j.slice(0,Z)},"dirname"),basename:o(function(j,O){if(O!==void 0&&typeof O!="string")throw new TypeError('"ext" argument must be a string');U(j);var V,Z=0,ae=-1,te=!0;if(O!==void 0&&O.length>0&&O.length<=j.length){if(O.length===j.length&&O===j)return"";var le=O.length-1,fe=-1;for(V=j.length-1;V>=0;--V){var De=j.charCodeAt(V);if(De===47){if(!te){Z=V+1;break}}else fe===-1&&(te=!1,fe=V+1),le>=0&&(De===O.charCodeAt(le)?--le==-1&&(ae=V):(le=-1,ae=fe))}return Z===ae?ae=fe:ae===-1&&(ae=j.length),j.slice(Z,ae)}for(V=j.length-1;V>=0;--V)if(j.charCodeAt(V)===47){if(!te){Z=V+1;break}}else ae===-1&&(te=!1,ae=V+1);return ae===-1?"":j.slice(Z,ae)},"basename"),extname:o(function(j){U(j);for(var O=-1,V=0,Z=-1,ae=!0,te=0,le=j.length-1;le>=0;--le){var fe=j.charCodeAt(le);if(fe!==47)Z===-1&&(ae=!1,Z=le+1),fe===46?O===-1?O=le:te!==1&&(te=1):O!==-1&&(te=-1);else if(!ae){V=le+1;break}}return O===-1||Z===-1||te===0||te===1&&O===Z-1&&O===V+1?"":j.slice(O,Z)},"extname"),format:o(function(j){if(j===null||typeof j!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof j);return function(O,V){var Z=V.dir||V.root,ae=V.base||(V.name||"")+(V.ext||"");return Z?Z===V.root?Z+ae:Z+"/"+ae:ae}(0,j)},"format"),parse:o(function(j){U(j);var O={root:"",dir:"",base:"",ext:"",name:""};if(j.length===0)return O;var V,Z=j.charCodeAt(0),ae=Z===47;ae?(O.root="/",V=1):V=0;for(var te=-1,le=0,fe=-1,De=!0,ve=j.length-1,Ue=0;ve>=V;--ve)if((Z=j.charCodeAt(ve))!==47)fe===-1&&(De=!1,fe=ve+1),Z===46?te===-1?te=ve:Ue!==1&&(Ue=1):te!==-1&&(Ue=-1);else if(!De){le=ve+1;break}return te===-1||fe===-1||Ue===0||Ue===1&&te===fe-1&&te===le+1?fe!==-1&&(O.base=O.name=le===0&&ae?j.slice(1,fe):j.slice(le,fe)):(le===0&&ae?(O.name=j.slice(1,te),O.base=j.slice(1,fe)):(O.name=j.slice(le,te),O.base=j.slice(le,fe)),O.ext=j.slice(te,fe)),le>0?O.dir=j.slice(0,le-1):ae&&(O.dir="/"),O},"parse"),sep:"/",delimiter:":",win32:null,posix:null};J.posix=J,G.exports=J}},t={};function r(G){var U=t[G];if(U!==void 0)return U.exports;var ne=t[G]={exports:{}};return e[G](ne,ne.exports,r),ne.exports}o(r,"r"),r.d=(G,U)=>{for(var ne in U)r.o(U,ne)&&!r.o(G,ne)&&Object.defineProperty(G,ne,{enumerable:!0,get:U[ne]})},r.o=(G,U)=>Object.prototype.hasOwnProperty.call(G,U),r.r=G=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})};var n={};let i;r.r(n),r.d(n,{URI:o(()=>h,"URI"),Utils:o(()=>re,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,a=/^\//,l=/^\/\//;function c(G,U){if(!G.scheme&&U)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${G.authority}", path: "${G.path}", query: "${G.query}", fragment: "${G.fragment}"}`);if(G.scheme&&!s.test(G.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(G.path){if(G.authority){if(!a.test(G.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(G.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(c,"a");let u="",f="/",m=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class h{static{o(this,"l")}static isUri(U){return U instanceof h||!!U&&typeof U.authority=="string"&&typeof U.fragment=="string"&&typeof U.path=="string"&&typeof U.query=="string"&&typeof U.scheme=="string"&&typeof U.fsPath=="string"&&typeof U.with=="function"&&typeof U.toString=="function"}scheme;authority;path;query;fragment;constructor(U,ne,J,j,O,V=!1){typeof U=="object"?(this.scheme=U.scheme||u,this.authority=U.authority||u,this.path=U.path||u,this.query=U.query||u,this.fragment=U.fragment||u):(this.scheme=function(Z,ae){return Z||ae?Z:"file"}(U,V),this.authority=ne||u,this.path=function(Z,ae){switch(Z){case"https":case"http":case"file":ae?ae[0]!==f&&(ae=f+ae):ae=f}return ae}(this.scheme,J||u),this.query=j||u,this.fragment=O||u,c(this,V))}get fsPath(){return b(this,!1)}with(U){if(!U)return this;let{scheme:ne,authority:J,path:j,query:O,fragment:V}=U;return ne===void 0?ne=this.scheme:ne===null&&(ne=u),J===void 0?J=this.authority:J===null&&(J=u),j===void 0?j=this.path:j===null&&(j=u),O===void 0?O=this.query:O===null&&(O=u),V===void 0?V=this.fragment:V===null&&(V=u),ne===this.scheme&&J===this.authority&&j===this.path&&O===this.query&&V===this.fragment?this:new A(ne,J,j,O,V)}static parse(U,ne=!1){let J=m.exec(U);return J?new A(J[2]||u,F(J[4]||u),F(J[5]||u),F(J[7]||u),F(J[9]||u),ne):new A(u,u,u,u,u)}static file(U){let ne=u;if(i&&(U=U.replace(/\\/g,f)),U[0]===f&&U[1]===f){let J=U.indexOf(f,2);J===-1?(ne=U.substring(2),U=f):(ne=U.substring(2,J),U=U.substring(J)||f)}return new A("file",ne,U,u,u)}static from(U){let ne=new A(U.scheme,U.authority,U.path,U.query,U.fragment);return c(ne,!0),ne}toString(U=!1){return _(this,U)}toJSON(){return this}static revive(U){if(U){if(U instanceof h)return U;{let ne=new A(U);return ne._formatted=U.external,ne._fsPath=U._sep===p?U.fsPath:null,ne}}return U}}let p=i?1:void 0;class A extends h{static{o(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath}toString(U=!1){return U?_(this,!0):(this._formatted||(this._formatted=_(this,!1)),this._formatted)}toJSON(){let U={$mid:1};return this._fsPath&&(U.fsPath=this._fsPath,U._sep=p),this._formatted&&(U.external=this._formatted),this.path&&(U.path=this.path),this.scheme&&(U.scheme=this.scheme),this.authority&&(U.authority=this.authority),this.query&&(U.query=this.query),this.fragment&&(U.fragment=this.fragment),U}}let x={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function v(G,U,ne){let J,j=-1;for(let O=0;O<G.length;O++){let V=G.charCodeAt(O);if(V>=97&&V<=122||V>=65&&V<=90||V>=48&&V<=57||V===45||V===46||V===95||V===126||U&&V===47||ne&&V===91||ne&&V===93||ne&&V===58)j!==-1&&(J+=encodeURIComponent(G.substring(j,O)),j=-1),J!==void 0&&(J+=G.charAt(O));else{J===void 0&&(J=G.substr(0,O));let Z=x[V];Z!==void 0?(j!==-1&&(J+=encodeURIComponent(G.substring(j,O)),j=-1),J+=Z):j===-1&&(j=O)}}return j!==-1&&(J+=encodeURIComponent(G.substring(j))),J!==void 0?J:G}o(v,"m");function E(G){let U;for(let ne=0;ne<G.length;ne++){let J=G.charCodeAt(ne);J===35||J===63?(U===void 0&&(U=G.substr(0,ne)),U+=x[J]):U!==void 0&&(U+=G[ne])}return U!==void 0?U:G}o(E,"y");function b(G,U){let ne;return ne=G.authority&&G.path.length>1&&G.scheme==="file"?`//${G.authority}${G.path}`:G.path.charCodeAt(0)===47&&(G.path.charCodeAt(1)>=65&&G.path.charCodeAt(1)<=90||G.path.charCodeAt(1)>=97&&G.path.charCodeAt(1)<=122)&&G.path.charCodeAt(2)===58?U?G.path.substr(1):G.path[1].toLowerCase()+G.path.substr(2):G.path,i&&(ne=ne.replace(/\//g,"\\")),ne}o(b,"v");function _(G,U){let ne=U?E:v,J="",{scheme:j,authority:O,path:V,query:Z,fragment:ae}=G;if(j&&(J+=j,J+=":"),(O||j==="file")&&(J+=f,J+=f),O){let te=O.indexOf("@");if(te!==-1){let le=O.substr(0,te);O=O.substr(te+1),te=le.lastIndexOf(":"),te===-1?J+=ne(le,!1,!1):(J+=ne(le.substr(0,te),!1,!1),J+=":",J+=ne(le.substr(te+1),!1,!0)),J+="@"}O=O.toLowerCase(),te=O.lastIndexOf(":"),te===-1?J+=ne(O,!1,!0):(J+=ne(O.substr(0,te),!1,!0),J+=O.substr(te))}if(V){if(V.length>=3&&V.charCodeAt(0)===47&&V.charCodeAt(2)===58){let te=V.charCodeAt(1);te>=65&&te<=90&&(V=`/${String.fromCharCode(te+32)}:${V.substr(3)}`)}else if(V.length>=2&&V.charCodeAt(1)===58){let te=V.charCodeAt(0);te>=65&&te<=90&&(V=`${String.fromCharCode(te+32)}:${V.substr(2)}`)}J+=ne(V,!0,!1)}return Z&&(J+="?",J+=ne(Z,!1,!1)),ae&&(J+="#",J+=U?ae:v(ae,!1,!1)),J}o(_,"b");function R(G){try{return decodeURIComponent(G)}catch{return G.length>3?G.substr(0,3)+R(G.substr(3)):G}}o(R,"C");let P=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function F(G){return G.match(P)?G.replace(P,U=>R(U)):G}o(F,"w");var W=r(975);let se=W.posix||W,de="/";var re;(function(G){G.joinPath=function(U,...ne){return U.with({path:se.join(U.path,...ne)})},G.resolvePath=function(U,...ne){let J=U.path,j=!1;J[0]!==de&&(J=de+J,j=!0);let O=se.resolve(J,...ne);return j&&O[0]===de&&!U.authority&&(O=O.substring(1)),U.with({path:O})},G.dirname=function(U){if(U.path.length===0||U.path===de)return U;let ne=se.dirname(U.path);return ne.length===1&&ne.charCodeAt(0)===46&&(ne=""),U.with({path:ne})},G.basename=function(U){return se.basename(U.path)},G.extname=function(U){return se.extname(U.path)}})(re||(re={})),C5e=n})();var{URI:Vy,Utils:WF}=C5e;function b5e(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substring(0,3)+b5e(e.substring(3)):e}}o(b5e,"decodeURIComponentGraceful");var x5e=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function nZ(e){return e.match(x5e)?e.replace(x5e,t=>b5e(t)):e}o(nZ,"percentDecode");function sl(e){if(/^[A-Za-z][A-Za-z0-9+.-]+:/.test(e))throw new Error("Path must not contain a scheme");if(!e)throw new Error("Path must not be empty");return Vy.file(e).toString()}o(sl,"makeFsUri");function cI(e){if(typeof e!="string"&&(e=e.uri),/^[A-Za-z]:\\/.test(e))throw new Error(`Could not parse <${e}>: Windows-style path`);try{let t=e.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return t?Vy.parse(t[1]+t[2],!0):Vy.parse(e,!0)}catch(t){throw new Error(`Could not parse <${e}>`,{cause:t})}}o(cI,"parseUri");function E5e(e){return cI(e),e}o(E5e,"validateUri");function ec(e){try{return cI(e).toString()}catch{return e}}o(ec,"normalizeUri");var I5e=new Set(["file","notebook","vscode-notebook","vscode-notebook-cell"]);function Il(e){let t=cI(e);if(!I5e.has(t.scheme))throw new Error(`Unsupported scheme: ${t.scheme}`);if((0,v5e.platform)()==="win32"){let r=t.path;return t.authority?r=`//${t.authority}${t.path}`:/^\/[A-Za-z]:/.test(r)&&(r=r.substring(1)),(0,GF.normalize)(r)}else{if(t.authority)throw new Error("Unsupported remote file path");return t.path}}o(Il,"fsPath");function Mo(e){try{return Il(e)}catch{return}}o(Mo,"getFsPath");function T5e(e){let t=Mo(e);if(t)return Vy.file(t).toString()}o(T5e,"getFsUri");function m4(e,...t){let r,n=Mo(e);return n?r=sl((0,GF.resolve)(n,...t)):r=WF.resolvePath(cI(e),...t.map(i=>w5e(i))).toString(),typeof e=="string"?r:{uri:r}}o(m4,"resolveFilePath");function Fo(e,...t){let r=WF.joinPath(cI(e),...t.map(w5e)).toString();return typeof e=="string"?r:{uri:r}}o(Fo,"joinPath");function w5e(e){return mrt(e)?e.replaceAll("\\","/"):e}o(w5e,"pathToURIPath");function mrt(e){return/^[^/\\]*\\/.test(e)}o(mrt,"isWinPath");function Di(e){return nZ((typeof e=="string"?e:e.uri).replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}o(Di,"basename");function ju(e){let t=WF.dirname(cI(e)),r;return I5e.has(t.scheme)&&t.scheme!=="file"?r=t.with({scheme:"file",fragment:""}).toString():r=t.toString(),typeof e=="string"?r:{uri:r}}o(ju,"dirname");var On=class{static{o(this,"NetworkConfiguration")}},HF={api:"https://api.githubcopilot.com",proxy:"https://copilot-proxy.githubusercontent.com",telemetry:"https://copilot-telemetry.githubusercontent.com","origin-tracker":"https://origin-tracker.githubusercontent.com"};function iZ(e,t,r){if(r&&qm(e)){for(let n of r){let i=jn(e,n);if(i)return i}return}for(let n of t){let i=jn(e,n);if(i)return i}}o(iZ,"urlConfigOverride");function hrt(e,t){switch(t){case"api":return iZ(e,[Rt.DebugOverrideCapiUrl,Rt.DebugOverrideCapiUrlLegacy],[Rt.DebugTestOverrideCapiUrl,Rt.DebugTestOverrideCapiUrlLegacy]);case"proxy":return iZ(e,[Rt.DebugOverrideProxyUrl,Rt.DebugOverrideProxyUrlLegacy],[Rt.DebugTestOverrideProxyUrl,Rt.DebugTestOverrideProxyUrlLegacy]);case"origin-tracker":if(!jF(e))return iZ(e,[Rt.DebugSnippyOverrideUrl])}}o(hrt,"getEndpointOverrideUrl");function uI(e,t,r,...n){let i=hrt(e,r)??(t.envelope.endpoints??HF)[r];return Fo(i,...n)}o(uI,"getEndpointUrl");var Hm=class{static{o(this,"ExpConfigMaker")}},pw=class extends Hm{constructor(r="",n={}){super();this.overrideTASUrl=r;this.defaultFilters=n}static{o(this,"ExpConfigFromTAS")}async fetchExperiments(r,n){let i=r.get(Or),s=Object.keys(n).length===0?this.defaultFilters:n,a=this.overrideTASUrl.length===0?r.get(On).getExperimentationUrl():this.overrideTASUrl,l;try{l=await i.fetch(a,{method:"GET",headers:s,timeout:5e3})}catch(m){return cd.createFallbackConfig(r,`Error fetching ExP config: ${String(m)}`)}if(!l.ok)return cd.createFallbackConfig(r,`ExP responded with ${l.status}`);let c;try{c=await l.json()}catch(m){if(m instanceof SyntaxError)return xa(r,m,"fetchExperiments"),cd.createFallbackConfig(r,"ExP responded with invalid JSON");throw m}let u=c.Configs.find(m=>m.Id==="vscode")??{Id:"vscode",Parameters:{}},f=Object.entries(u.Parameters).map(([m,h])=>m+(h?"":"cf"));return new cd(u.Parameters,c.AssignmentContext,f.join(";"))}},VF=class extends Hm{static{o(this,"ExpConfigNone")}fetchExperiments(t,r){return Promise.resolve(cd.createEmptyConfig())}};d();d();var $F=class{constructor(t){this.prefix=t}static{o(this,"GranularityImplementation")}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}},oZ=class extends $F{static{o(this,"ConstantGranularity")}getValue(t){return this.prefix}getUpcomingValues(t){return[]}},_5e=o(e=>new oZ(e),"DEFAULT_GRANULARITY"),zF=class extends $F{constructor(r,n=.5,i=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=i}static{o(this,"TimeBucketGranularity")}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],i=this.getUpcomingTimePeriodBucketStrings(r),s=this.getUpcomingByCallBucketStrings();for(let a of i)for(let l of s)n.push(this.prefix+a+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var S5e="X-Copilot-ClientTimeBucket",YF=class{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=_5e(t)}static{o(this,"GranularityDirectory")}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let i=new zF(this.prefix);isNaN(r)||i.setByCallBuckets(r),isNaN(n)||i.setTimePeriod(n*3600*1e3),this.specs.set(t,i)}}extendFilters(t){let r=this.selectGranularity(t),[n,i]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(S5e,n),otherFilterSettingsToPrefetch:i.map(s=>t.withChange(S5e,s))}}};d();d();d();d();d();d();function KF(e){return["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","faef89d9169d5eacf1d8c8dde3412e37","4535c7beffc844b46bb1ed4aa04d759a"].find(r=>e.includes(r))}o(KF,"findKnownOrg");d();d();var h4=(i=>(i[i.DEBUG=4]="DEBUG",i[i.INFO=3]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=1]="ERROR",i))(h4||{}),qa=class{static{o(this,"LogTarget")}},Lp=class{static{o(this,"TelemetryLogSender")}},Yt=class{constructor(t){this.category=t}static{o(this,"Logger")}log(t,r,...n){t.get(qa).logIt(t,r,this.category,...n)}debug(t,...r){this.log(t,4,...r)}info(t,...r){this.log(t,3,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){t.get(Lp).sendError(t,this.category,...r),this.errorWithoutTelemetry(t,...r)}errorWithoutTelemetry(t,...r){this.log(t,1,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let i=n;n.startsWith(".")&&(i=n.substring(1),n=`${this.category}${n}`),t.get(Lp).sendException(t,r,n);let s=r instanceof Error?r:new Error(`Non-error thrown: ${String(r)}`);this.log(t,1,`${i}:`,s)}},li=new Yt("default");d();var va=class{static{o(this,"NotificationSender")}async showWarningMessageOnlyOnce(t,r,...n){return this.showWarningMessage(r,...n)}};d();var tc=class{static{o(this,"UrlOpener")}};var prt=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],k5e="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",R5e="https://gh.io/copilot-network-errors",$0=class{constructor(){this.notifiedErrorCodes=[]}static{o(this,"UserErrorNotifier")}notifyUser(t,r){if(!(r instanceof Error))return;let n=r;n.code&&prt.includes(n.code)&&!this.didNotifyBefore(n.code)&&(this.notifiedErrorCodes.push(n.code),this.displayCertificateErrorNotification(t,n))}async displayCertificateErrorNotification(t,r){new Yt("certificates").error(t,`${k5e} Please visit ${R5e} to learn more. Original cause:`,r);let n={title:"Learn more"};return t.get(va).showWarningMessage(k5e,n).then(i=>{if(i?.title===n.title)return t.get(tc).open(R5e)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};var Vu=new Yt("auth"),P5e=60;function B5e(){return Math.floor(Date.now()/1e3)}o(B5e,"nowSeconds");async function JF(e,t){let r=ln.createAndMarkAsIssued({},{});jt(e,"auth.new_login");let n=await grt(e,t),i=await n.json(),s=i.user_notification;if(D5e(e,s,t),n.clientError&&!n.headers.get("x-github-request-id")&&Vu.error(e,`HTTP ${n.status} response does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`),n.status===401){let c="Failed to get copilot token due to 401 status. Please sign out and try again.";return Vu.info(e,c),f4(e,"auth.unknown_401",r),{kind:"failure",reason:"HTTP401",message:c,envelope:i}}if(!n.ok||!i.token){Vu.info(e,`Invalid copilot token: missing token: ${n.status} ${n.statusText}`),f4(e,"auth.invalid_token",r.extendedBy({status:n.status.toString(),status_text:n.statusText}));let c=i.error_details;return c?.notification_id!=="not_signed_up"&&D5e(e,c,t),{kind:"failure",reason:"NotAuthorized",message:"User not authorized",envelope:i,...c}}let a=i.expires_at;i.expires_at=B5e()+i.refresh_in+P5e;let l=new M1(i);return cw(e,l),jt(e,"auth.new_token",r.extendedBy({},{adjusted_expires_at:i.expires_at,expires_at:a,current_time:B5e()})),{kind:"success",envelope:i}}o(JF,"authFromGitHubToken");async function grt(e,t){let r=e.get(On).getTokenUrl(t);try{return await e.get(Or).fetch(r,{headers:{Authorization:`token ${t.token}`,...Ec(e)},timeout:12e4})}catch(n){throw e.get($0).notifyUser(e,n),n}}o(grt,"fetchCopilotToken");function D5e(e,t,r){t&&e.get(va).showWarningMessageOnlyOnce(t.notification_id,t.message,{title:t.title},{title:"Dismiss"}).then(async n=>{let i=n?.title===t.title,s=i||n?.title==="Dismiss";if(i){let a=e.get(dn).getEditorPluginInfo(),l=t.url.replace("{EDITOR}",encodeURIComponent(a.name+"_"+a.version));await e.get(tc).open(l)}t.notification_id&&s&&await Art(e,t.notification_id,r)}).catch(n=>{Vu.exception(e,n,"copilotToken.notification")})}o(D5e,"notifyUser");async function Art(e,t,r){let n=e.get(On).getNotificationUrl(r),i=await e.get(Or).fetch(n,{headers:{Authorization:`token ${r.token}`,...Ec(e)},method:"POST",body:JSON.stringify({notification_id:t})});(!i||!i.ok)&&Vu.error(e,`Failed to send notification result to GitHub: ${i?.status} ${i?.statusText}`)}o(Art,"sendNotificationResultToGitHub");var M1=class{constructor(t){this.envelope=t;this.token=t.token,this.organization_list=t.organization_list,this.enterprise_list=t.enterprise_list,this.tokenMap=this.parseToken(this.token)}static{o(this,"CopilotToken")}needsRefresh(){return(this.envelope.expires_at-P5e)*1e3<Date.now()}isExpired(){return this.envelope.expires_at*1e3<Date.now()}get hasKnownOrg(){return KF(this.organization_list||[])!==void 0}parseToken(t){let r=new Map,i=(t??"").split(":")[0].split(";");for(let s of i){let[a,l]=s.split("=");r.set(a,l)}return r}getTokenValue(t){return this.tokenMap.get(t)}};d();d();d();var M5e=et(N5e()),O5e=et(Q5e()),$u=et(require("os"));var fI=class{constructor(t,r,n,i=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=i;this.onCopilotToken=o(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:o((t,r)=>{if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=t.headers??{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let i={method:"POST",headers:n,body:t.data};this.ctx.get(Or).fetch(t.urlString,i).then(s=>s.text().then(a=>{r(s.status,Object.fromEntries(s.headers),a)})).catch(s=>{li.errorWithoutTelemetry(this.ctx,"Error sending telemetry",s),r(0,{})})},"sendPOST")};this.client=new O5e.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(On).getTelemetryUrl(),extensionConfig:{[M5e.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=yrt(t),this.commonProperties=Crt(t),this.#e=Ca(t,this.onCopilotToken)}static{o(this,"AppInsightsReporter")}#e;sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let i=this.qualifyEventName(t);this.client.track({name:i,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:i,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.#e.dispose(),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};function yrt(e){let t={},r=e.get(ws);t["ai.session.id"]=r.sessionId;let n=e.get(Jl);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${$u.type()} ${$u.release()}`,t["ai.device.osArchitecture"]=$u.arch(),t["ai.device.osPlatform"]=$u.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(Eo).getVersion(),t}o(yrt,"getTags");function Crt(e){let t={};t.common_os=$u.platform(),t.common_platformversion=$u.release(),t.common_arch=$u.arch(),t.common_cpu=Array.from(new Set($u.cpus().map(n=>n.model))).join();let r=e.get(ws);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind=r.uiKind,t.common_remotename=r.remoteName,t.common_isnewappinstall="",t}o(Crt,"getCommonProperties");var U5e="7d7048df-6dd0-4048-bb23-b716c1461f8f",q5e="3fdd7f28-937a-48c8-9a21-ba337db23bd1",xrt="f0000000-0000-0000-0000-000000000000",zu=class{constructor(){this._initialized=!1}static{o(this,"TelemetryInitialization")}get isInitialized(){return this._initialized}get isEnabled(){return this._enabled??!1}async initialize(t,r,n){let i=t.get(Bs).deactivate();if(this._namespace=r,this._enabled=n,this._initialized=!0,n){let s=t.get(Bs);s.setReporter(new fI(t,r,U5e)),s.setRestrictedReporter(new fI(t,r,q5e)),s.setFTReporter(new fI(t,r,xrt,!0))}await i}reInitialize(t){return this._initialized?this.initialize(t,this._namespace,this._enabled):Promise.reject(new Error("Cannot re-initialize telemetry that has not been initialized."))}};function $y(e,t,r){return e.get(zu).initialize(e,t,r)}o($y,"setupTelemetryReporters");var Bn=class{constructor(t,r){this.authPersistence=t;this._copilotTokenManager=r;this.pendingSignIn=void 0}static{o(this,"AuthManager")}#e;getCopilotTokenManager(){return this._copilotTokenManager}async checkAndUpdateStatus(t,r){let n=r?.localChecksOnly??!1,i=W5e(process.env);return i===void 0&&(i=await this.getAuthRecord(r?.githubAppId)),i===void 0?(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken(),{status:"NotSignedIn"}):n?{status:"MaybeOK",user:i.user}:(r?.forceRefresh&&this._copilotTokenManager.resetToken(),{status:await this.getTokenWithSignUpLimited(t,i,r?.freshSignIn??!1),user:i.user})}async getAuthRecord(t){if(this.#e!==null)return this.#e??this.getPersistedAuthRecord(t)}async getTokenWithSignUpLimited(t,r,n){try{await this._copilotTokenManager.getToken()}catch(i){if(i instanceof fd)return n&&i.result.envelope?.can_signup_for_limited&&await this.signUpLimited(t,r)?this.getTokenWithSignUpLimited(t,r,!1):i.result.reason==="HTTP401"?"NotSignedIn":i.result.reason;throw i}return"OK"}async getPersistedAuthRecord(t){return await this.authPersistence.getAuthRecord(t)}async getGitHubToken(t){let r=W5e(process.env)??await this.getAuthRecord();if(r===void 0)return;let n={token:r.oauth_token};return r.dev_override&&ud(t)==="dev"&&(n.devOverride={copilotTokenUrl:r.dev_override.copilot_token_url,notificationUrl:r.dev_override.notification_url,contentRestrictionsUrl:r.dev_override.content_restrictions_url}),n}async signUpLimited(t,r){let n=t.get(On).getSignUpLimitedUrl();try{return(await(await t.get(Or).fetch(n,{headers:{Authorization:`token ${r.oauth_token}`,...Ec(t)},method:"POST",body:JSON.stringify({restricted_telemetry:t.get(zu).isEnabled?"enabled":"disabled",public_code_suggestions:"enabled"})})).json())?.subscribed||!1}catch(i){return Vu.exception(t,i,"signUpLimited failed"),!1}}async setAuthRecord(t,r){await this.authPersistence.saveAuthRecord(r),this._copilotTokenManager.resetToken()}setTransientAuthRecord(t,r,n=!0){this.#e=r,n&&this._copilotTokenManager.resetToken()}async deleteAuthRecord(t){await this.authPersistence.deleteAuthRecord(),!this.#e&&(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken())}};function W5e(e){if(e.GH_COPILOT_TOKEN&&!/=/.test(e.GH_COPILOT_TOKEN))return{user:"<GH_COPILOT_TOKEN-user>",oauth_token:e.GH_COPILOT_TOKEN};if(e.GITHUB_COPILOT_TOKEN)return{user:"<GITHUB_COPILOT_TOKEN-user>",oauth_token:e.GITHUB_COPILOT_TOKEN};if(e.CODESPACES==="true"&&e.GITHUB_TOKEN)return{user:e.GITHUB_USER||"<codespaces-user>",oauth_token:e.GITHUB_TOKEN}}o(W5e,"getAuthRecordFromEnv");d();var zi=class{static{o(this,"StatusReporter")}#e=0;#t="Normal";#i;#n;#r=!0;get busy(){return this.#e>0}withProgress(t){return this.#t==="Warning"&&this.forceNormal(),this.#e++===0&&this.#o(),t().finally(()=>{--this.#e===0&&this.#o()})}forceStatus(t,r,n){this.#t===t&&this.#i===r&&!n&&!this.#n&&!this.#r||(this.#t=t,this.#i=r,this.#n=n,this.#r=!1,this.#o())}forceNormal(){this.#t!=="Inactive"&&this.forceStatus("Normal")}setError(t,r){this.forceStatus("Error",t,r)}setWarning(t){this.#t!=="Error"&&this.forceStatus("Warning",t)}setInactive(t){this.#t==="Error"||this.#t==="Warning"||this.forceStatus("Inactive",t)}clearInactive(){this.#t==="Inactive"&&this.forceStatus("Normal")}#o(){let t={kind:this.#t,message:this.#i,busy:this.busy,command:this.#n};this.didChange(t)}},eN=class extends zi{static{o(this,"NoOpStatusReporter")}didChange(){}};var $r=class{static{o(this,"CopilotTokenManager")}constructor(){}async getGitHubToken(){return(await this.getGitHubSession())?.token}primeToken(){try{return this.getToken().then(()=>{},()=>{})}catch{return Promise.resolve()}}},fd=class extends Ys{constructor(r){super(r.message??"");this.result=r}static{o(this,"TokenResultError")}},tN=class extends $r{constructor(r){super();this.ctx=r;this.token=void 0;this.tokenPromise=void 0}static{o(this,"CopilotTokenManagerFromGitHubTokenBase")}async fetchCopilotTokenEnvelope(){let r=await this.getGitHubSession();if(!r)throw new fd({reason:"NotSignedIn"});if(!r?.token)throw new fd({reason:"HTTP401"});let n=await JF(this.ctx,r);if(n.kind==="failure"){if(n.message)throw new fd(n);let i=new Error(`Unexpected error getting Copilot token: ${n.reason}`);throw i.code=`CopilotToken.${n.reason}`,i}return n.envelope}async getToken(){if(!this.tokenPromise&&(!this.token||this.token?.needsRefresh())){let r=this.fetchCopilotTokenEnvelope().then(n=>{let i=new M1(n);return this.tokenPromise!==r?i:(this.token=i,this.tokenPromise=void 0,this.ctx.get(zi).forceNormal(),this.token)},n=>{if(this.tokenPromise!==r)throw n;this.tokenPromise=void 0;let i=this.ctx.get(zi);if(n instanceof fd)switch(n.result.reason){case"NotSignedIn":i.setError("You are not signed into GitHub.",{command:"github.copilot.signIn",title:"Sign In"});break;case"HTTP401":i.setError("Your GitHub token is invalid. Try signing in again.");break;case"NotAuthorized":i.setError(n.message||"No access to Copilot found.");break}else i.setWarning(String(n));throw n});this.tokenPromise=r}return this.token&&!this.token.isExpired()?this.token:await this.tokenPromise}resetToken(r){r!==void 0?(jt(this.ctx,"auth.reset_token_"+r),Vu.debug(this.ctx,`Resetting copilot token on HTTP error ${r}`)):Vu.debug(this.ctx,"Resetting copilot token"),this.token=void 0,this.tokenPromise=void 0}},dI=class extends tN{static{o(this,"CopilotTokenManagerFromAuthManager")}async getGitHubSession(){return await this.ctx.get(Bn).getGitHubToken(this.ctx)}};function vrt(e){let t=e.getCopilotIntegrationId();if(t)return t;switch(e.getEditorPluginInfo().name){case"copilot-intellij":return"jetbrains-chat";case"copilot":case"copilot-vs":return;default:return"jetbrains-chat"}}o(vrt,"getIntegrationId");function zy(e){let t={...Ec(e),"X-GitHub-Api-Version":sZ},r=vrt(e.get(dn));return r&&(t["Copilot-Integration-Id"]=r),t}o(zy,"getCapiHeaders");function mI(e,t,...r){return uI(e,t,"api",...r)}o(mI,"getCapiUrl");async function p4(e,t){let r=await e.get($r).getToken(),n=mI(e,r,t),i={Authorization:`Bearer ${r.token}`,...zy(e)};return await e.get(Or).fetch(new URL(n).href,{method:"GET",headers:i})}o(p4,"fetchCapiUrl");async function G5e(e,t,r){let n=await e.get($r).getToken(),i=mI(e,n,t),s={Authorization:`Bearer ${n.token}`,...zy(e)};return await e.get(Or).fetch(new URL(i).href,{method:"POST",headers:s,body:r})}o(G5e,"postCapiUrl");d();var H5e=10*60*1e3,mi={Gpt35turbo:"gpt-3.5-turbo",Gpt4:"gpt-4",Gpt4turbo:"gpt-4-turbo",Gpt4o:"gpt-4o",Gpt4oMini:"gpt-4o-mini",O1Mini:"o1-mini",O1Ga:"o1-ga",Claude35Sonnet:"claude-3.5-sonnet",O3Mini:"o3-mini",Gemini20Flash:"gemini-2.0-flash",Gemini20Pro:"gemini-2.0-pro",Claude37Sonnet:"claude-3.7-sonnet",Claude37SonnetThought:"claude-3.7-sonnet-thought",Gpt45:"gpt-4.5",Unknown:"unknown"},j5e=new Set([mi.O1Ga,mi.O3Mini,mi.O1Mini,mi.Gemini20Pro,mi.Gemini20Flash]);function ms(e){switch(e){case"edits":case"user":case"inline":return[mi.Gpt4o,mi.Gpt4turbo,mi.Gpt4,mi.O1Mini,mi.O1Ga,mi.Claude35Sonnet,mi.O3Mini,mi.Gemini20Flash,mi.Claude37Sonnet,mi.Claude37SonnetThought,mi.Gpt45];case"meta":case"suggestions":case"synonyms":return[mi.Gpt4oMini,mi.Gpt35turbo]}}o(ms,"getSupportedModelFamiliesForPrompt");var iN={textEmbedding3Small:"text-embedding-3-small"},brt=I.Object({type:I.Union([I.Literal("chat"),I.Literal("embeddings"),I.Literal("completion")]),tokenizer:I.String(),family:I.String(),object:I.String(),supports:I.Optional(I.Object({tool_calls:I.Optional(I.Boolean()),parallel_tool_calls:I.Optional(I.Boolean()),streaming:I.Optional(I.Boolean()),vision:I.Optional(I.Boolean())})),limits:I.Optional(I.Object({max_inputs:I.Optional(I.Number()),max_prompt_tokens:I.Optional(I.Number()),max_output_tokens:I.Optional(I.Number()),max_context_window_tokens:I.Optional(I.Number())}))}),Ert=I.Object({id:I.String(),name:I.String(),version:I.String(),model_picker_enabled:I.Boolean(),is_chat_default:I.Optional(I.Boolean()),is_chat_fallback:I.Optional(I.Boolean()),capabilities:brt,billing:I.Optional(I.Object({is_premium:I.Optional(I.Boolean()),multiplier:I.Optional(I.Number())})),object:I.String(),preview:I.Optional(I.Boolean()),isExperimental:I.Optional(I.Boolean()),policy:I.Optional(I.Object({state:I.String(),terms:I.String()}))}),V5e=I.Object({data:I.Array(Ert)}),Yu=class{static{o(this,"ModelMetadataProvider")}},rN=class extends Yu{constructor(r){super();this.ctx=r;this._metadata=[];this._lastFetchTime=0;Ca(r,()=>{this._lastFetchTime=0})}static{o(this,"CapiModelMetadataProvider")}async getMetadata(){return this.shouldRefreshModels()&&await this.fetchMetadata(),this._metadata.slice()}async fetchMetadata(){let r=await p4(this.ctx,"/models");if(r.status<200||r.status>=300){if(r.status===429&&this._metadata.length>0){li.error(this.ctx,"Rate limited while fetching models from CAPI",{status:r.status,statusText:r.statusText});return}throw li.error(this.ctx,"Failed to fetch models from CAPI",{status:r.status,statusText:r.statusText}),new $3(r)}await this.processModels(r)}async fetchModel(r){let n=await p4(this.ctx,`/models/${r}`);if(!n.ok){li.error(this.ctx,`Failed to fetch model ${r} from CAPI`,{status:n.status,statusText:n.statusText});return}return await n.json()}async acceptModelPolicy(r){return(await G5e(this.ctx,`/models/${r}/policy`,JSON.stringify({status:"enabled"}))).ok?(await this.fetchMetadata(),!0):!1}async processModels(r){try{let n=await r.json();this._metadata=n.data,this._lastFetchTime=Date.now()}catch(n){li.error(this.ctx,"Failed to parse models from CAPI",{error:n})}}shouldRefreshModels(){return this._metadata.length===0||!this._lastFetchTime?!0:this.isLastFetchOlderTenMinutes()}isLastFetchOlderTenMinutes(){return Date.now()-this._lastFetchTime>H5e}},nN=class extends Yu{constructor(r,n){super();this.ctx=r;this.delegate=n;this._exp_models_cache=new Map}static{o(this,"ExpModelMetadataProvider")}async getMetadata(){let r=this.ctx.get(xr),n=await r.updateExPValuesAndAssignments(),i=r.ideChatExpModelIds(n),s=[];if(i){let a=i?.split(",");for(let l of a){let c=await this.fetchModel(l.trim());c!==void 0&&(c.isExperimental=!0,s.push(c))}}return s.concat(await this.delegate.getMetadata())}async fetchModel(r){let n=this._exp_models_cache.get(r);if(n){let[s,a]=n;if(Date.now()-a<H5e)return s}let i=await this.delegate.fetchModel(r);if(i)return this._exp_models_cache.set(r,[i,Date.now()]),i}async acceptModelPolicy(r){return await this.delegate.acceptModelPolicy(r)}};d();function $5e(e){let t=jn(e,Rt.UserSelectedCompletionModel);return typeof t=="string"&&t.length>0?t:null}o($5e,"getUserSelectedModelConfiguration");d();d();var Irt=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Y5e=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},aZ,oN,K5e,lZ=class extends gn{static{o(this,"AssertError")}constructor(t){let r=t.First();super(r===void 0?"Invalid Value":r.message),aZ.add(this),oN.set(this,void 0),Irt(this,oN,t,"f"),this.error=r}Errors(){return new jy(Y5e(this,aZ,"m",K5e).call(this))}};oN=new WeakMap,aZ=new WeakSet,K5e=o(function*(){this.error&&(yield this.error),yield*Y5e(this,oN,"f")},"_AssertError_Iterator");function z5e(e,t,r){if(!di(e,t,r))throw new lZ(Fp(e,t,r))}o(z5e,"AssertValue");function sN(...e){return e.length===3?z5e(e[0],e[1],e[2]):z5e(e[0],[],e[1])}o(sN,"Assert");d();d();d();function Trt(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Yi(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Yi(e[r]);return t}o(Trt,"FromObject");function wrt(e){return e.map(t=>Yi(t))}o(wrt,"FromArray");function _rt(e){return e.slice()}o(_rt,"FromTypedArray");function Srt(e){return new Map(Yi([...e.entries()]))}o(Srt,"FromMap");function krt(e){return new Set(Yi([...e.entries()]))}o(krt,"FromSet");function Rrt(e){return new Date(e.toISOString())}o(Rrt,"FromDate");function Yi(e){if(pn(e))return wrt(e);if(Xc(e))return Rrt(e);if(Zf(e))return _rt(e);if(Uhe(e))return Srt(e);if(qhe(e))return krt(e);if(ai(e))return Trt(e);if(Nu(e))return e;throw new Error("ValueClone: Unable to clone value")}o(Yi,"Clone");var Ku=class extends gn{static{o(this,"ValueCreateError")}constructor(t,r){super(r),this.schema=t}};function Ki(e){return wy(e)?e():Yi(e)}o(Ki,"FromDefault");function Brt(e,t){return hn(e,"default")?Ki(e.default):{}}o(Brt,"FromAny");function Drt(e,t){return{}}o(Drt,"FromArgument");function Prt(e,t){if(e.uniqueItems===!0&&!hn(e,"default"))throw new Ku(e,"Array with the uniqueItems constraint requires a default value");if("contains"in e&&!hn(e,"default"))throw new Ku(e,"Array with the contains constraint requires a default value");return"default"in e?Ki(e.default):e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>z0(e.items,t)):[]}o(Prt,"FromArray");function Frt(e,t){return hn(e,"default")?Ki(e.default):async function*(){}()}o(Frt,"FromAsyncIterator");function Nrt(e,t){return hn(e,"default")?Ki(e.default):BigInt(0)}o(Nrt,"FromBigInt");function Lrt(e,t){return hn(e,"default")?Ki(e.default):!1}o(Lrt,"FromBoolean");function Qrt(e,t){if(hn(e,"default"))return Ki(e.default);{let r=z0(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,i]of Object.entries(r)){let s=this;s[n]=i}}}:class{}}}o(Qrt,"FromConstructor");function Mrt(e,t){return hn(e,"default")?Ki(e.default):e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}o(Mrt,"FromDate");function Ort(e,t){return hn(e,"default")?Ki(e.default):()=>z0(e.returns,t)}o(Ort,"FromFunction");function Urt(e,t){let r=globalThis.Object.values(e.$defs),n=e.$defs[e.$ref];return z0(n,[...t,...r])}o(Urt,"FromImport");function qrt(e,t){return hn(e,"default")?Ki(e.default):e.minimum!==void 0?e.minimum:0}o(qrt,"FromInteger");function Wrt(e,t){if(hn(e,"default"))return Ki(e.default);{let r=e.allOf.reduce((n,i)=>{let s=z0(i,t);return typeof s=="object"?{...n,...s}:s},{});if(!di(e,t,r))throw new Ku(e,"Intersect produced invalid value. Consider using a default value.");return r}}o(Wrt,"FromIntersect");function Grt(e,t){return hn(e,"default")?Ki(e.default):function*(){}()}o(Grt,"FromIterator");function Hrt(e,t){return hn(e,"default")?Ki(e.default):e.const}o(Hrt,"FromLiteral");function jrt(e,t){if(hn(e,"default"))return Ki(e.default);throw new Ku(e,"Never types cannot be created. Consider using a default value.")}o(jrt,"FromNever");function Vrt(e,t){if(hn(e,"default"))return Ki(e.default);throw new Ku(e,"Not types must have a default value")}o(Vrt,"FromNot");function $rt(e,t){return hn(e,"default")?Ki(e.default):null}o($rt,"FromNull");function zrt(e,t){return hn(e,"default")?Ki(e.default):e.minimum!==void 0?e.minimum:0}o(zrt,"FromNumber");function Yrt(e,t){if(hn(e,"default"))return Ki(e.default);{let r=new Set(e.required),n={};for(let[i,s]of Object.entries(e.properties))r.has(i)&&(n[i]=z0(s,t));return n}}o(Yrt,"FromObject");function Krt(e,t){return hn(e,"default")?Ki(e.default):Promise.resolve(z0(e.item,t))}o(Krt,"FromPromise");function Jrt(e,t){let[r,n]=Object.entries(e.patternProperties)[0];if(hn(e,"default"))return Ki(e.default);if(r===Tp||r===Ip)return{};{let i=r.slice(1,r.length-1).split("|"),s={};for(let a of i)s[a]=z0(n,t);return s}}o(Jrt,"FromRecord");function Zrt(e,t){return hn(e,"default")?Ki(e.default):z0($i(e,t),t)}o(Zrt,"FromRef");function Xrt(e,t){if(hn(e,"default"))return Ki(e.default);throw new Ku(e,"RegExp types cannot be created. Consider using a default value.")}o(Xrt,"FromRegExp");function ent(e,t){if(e.pattern!==void 0){if(hn(e,"default"))return Ki(e.default);throw new Ku(e,"String types with patterns must specify a default value")}else if(e.format!==void 0){if(hn(e,"default"))return Ki(e.default);throw new Ku(e,"String types with formats must specify a default value")}else return hn(e,"default")?Ki(e.default):e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>" ").join(""):""}o(ent,"FromString");function tnt(e,t){return hn(e,"default")?Ki(e.default):"value"in e?Symbol.for(e.value):Symbol()}o(tnt,"FromSymbol");function rnt(e,t){if(hn(e,"default"))return Ki(e.default);if(!xP(e))throw new Ku(e,"Can only create template literals that produce a finite variants. Consider using a default value.");return IE(e)[0]}o(rnt,"FromTemplateLiteral");function nnt(e,t){if(J5e++>fnt)throw new Ku(e,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return hn(e,"default")?Ki(e.default):z0($i(e,t),t)}o(nnt,"FromThis");function int(e,t){return hn(e,"default")?Ki(e.default):e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>z0(e.items[n],t))}o(int,"FromTuple");function ont(e,t){if(hn(e,"default"))return Ki(e.default)}o(ont,"FromUndefined");function snt(e,t){if(hn(e,"default"))return Ki(e.default);if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return z0(e.anyOf[0],t)}o(snt,"FromUnion");function ant(e,t){return hn(e,"default")?Ki(e.default):e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}o(ant,"FromUint8Array");function lnt(e,t){return hn(e,"default")?Ki(e.default):{}}o(lnt,"FromUnknown");function cnt(e,t){if(hn(e,"default"))return Ki(e.default)}o(cnt,"FromVoid");function unt(e,t){if(hn(e,"default"))return Ki(e.default);throw new Error("User defined types must specify a default value")}o(unt,"FromKind");function z0(e,t){let r=vl(e,t),n=e;switch(n[ot]){case"Any":return Brt(n,r);case"Argument":return Drt(n,r);case"Array":return Prt(n,r);case"AsyncIterator":return Frt(n,r);case"BigInt":return Nrt(n,r);case"Boolean":return Lrt(n,r);case"Constructor":return Qrt(n,r);case"Date":return Mrt(n,r);case"Function":return Ort(n,r);case"Import":return Urt(n,r);case"Integer":return qrt(n,r);case"Intersect":return Wrt(n,r);case"Iterator":return Grt(n,r);case"Literal":return Hrt(n,r);case"Never":return jrt(n,r);case"Not":return Vrt(n,r);case"Null":return $rt(n,r);case"Number":return zrt(n,r);case"Object":return Yrt(n,r);case"Promise":return Krt(n,r);case"Record":return Jrt(n,r);case"Ref":return Zrt(n,r);case"RegExp":return Xrt(n,r);case"String":return ent(n,r);case"Symbol":return tnt(n,r);case"TemplateLiteral":return rnt(n,r);case"This":return nnt(n,r);case"Tuple":return int(n,r);case"Undefined":return ont(n,r);case"Union":return snt(n,r);case"Uint8Array":return ant(n,r);case"Unknown":return lnt(n,r);case"Void":return cnt(n,r);default:if(!e0.Has(n[ot]))throw new Ku(n,"Unknown type");return unt(n,r)}}o(z0,"Visit");var fnt=512,J5e=0;function dd(...e){return J5e=0,e.length===2?z0(e[0],e[1]):z0(e[0],[])}o(dd,"Create");var aN=class extends gn{static{o(this,"ValueCastError")}constructor(t,r){super(r),this.schema=t}};function dnt(e,t,r){if(e[ot]==="Object"&&typeof r=="object"&&!I1(r)){let n=e,i=Object.getOwnPropertyNames(r),s=Object.entries(n.properties),[a,l]=[1/s.length,s.length];return s.reduce((c,[u,f])=>{let m=f[ot]==="Literal"&&f.const===r[u]?l:0,h=di(f,t,r[u])?a:0,p=i.includes(u)?a:0;return c+(m+h+p)},0)}else return di(e,t,r)?1:0}o(dnt,"ScoreUnion");function mnt(e,t,r){let n=e.anyOf.map(a=>$i(a,t)),[i,s]=[n[0],0];for(let a of n){let l=dnt(a,t,r);l>s&&(i=a,s=l)}return i}o(mnt,"SelectUnion");function hnt(e,t,r){if("default"in e)return typeof r=="function"?e.default:Yi(e.default);{let n=mnt(e,t,r);return gw(n,t,r)}}o(hnt,"CastUnion");function pnt(e,t,r){return di(e,t,r)?Yi(r):dd(e,t)}o(pnt,"DefaultClone");function gnt(e,t,r){return di(e,t,r)?r:dd(e,t)}o(gnt,"Default");function Ant(e,t,r){if(di(e,t,r))return Yi(r);let n=pn(r)?Yi(r):dd(e,t),i=Kr(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=(Kr(e.maxItems)&&i.length>e.maxItems?i.slice(0,e.maxItems):i).map(c=>jm(e.items,t,c));if(e.uniqueItems!==!0)return a;let l=[...new Set(a)];if(!di(e,t,l))throw new aN(e,"Array cast produced invalid data due to uniqueItems constraint");return l}o(Ant,"FromArray");function ynt(e,t,r){if(di(e,t,r))return dd(e,t);let n=new Set(e.returns.required||[]),i=o(function(){},"result");for(let[s,a]of Object.entries(e.returns.properties))!n.has(s)&&r.prototype[s]===void 0||(i.prototype[s]=jm(a,t,r.prototype[s]));return i}o(ynt,"FromConstructor");function Cnt(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return jm(i,[...t,...n],r)}o(Cnt,"FromImport");function xnt(e,t,r){let n=dd(e,t),i=ai(n)&&ai(r)?{...n,...r}:r;return di(e,t,i)?i:dd(e,t)}o(xnt,"FromIntersect");function vnt(e,t,r){throw new aN(e,"Never types cannot be cast")}o(vnt,"FromNever");function bnt(e,t,r){if(di(e,t,r))return r;if(r===null||typeof r!="object")return dd(e,t);let n=new Set(e.required||[]),i={};for(let[s,a]of Object.entries(e.properties))!n.has(s)&&r[s]===void 0||(i[s]=jm(a,t,r[s]));if(typeof e.additionalProperties=="object"){let s=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))s.includes(a)||(i[a]=jm(e.additionalProperties,t,r[a]))}return i}o(bnt,"FromObject");function Ent(e,t,r){if(di(e,t,r))return Yi(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return dd(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],s={};for(let[a,l]of Object.entries(r))s[a]=jm(i,t,l);return s}o(Ent,"FromRecord");function Int(e,t,r){return jm($i(e,t),t,r)}o(Int,"FromRef");function Tnt(e,t,r){return jm($i(e,t),t,r)}o(Tnt,"FromThis");function wnt(e,t,r){return di(e,t,r)?Yi(r):pn(r)?e.items===void 0?[]:e.items.map((n,i)=>jm(n,t,r[i])):dd(e,t)}o(wnt,"FromTuple");function _nt(e,t,r){return di(e,t,r)?Yi(r):hnt(e,t,r)}o(_nt,"FromUnion");function jm(e,t,r){let n=Oi(e.$id)?vl(e,t):t,i=e;switch(e[ot]){case"Array":return Ant(i,n,r);case"Constructor":return ynt(i,n,r);case"Import":return Cnt(i,n,r);case"Intersect":return xnt(i,n,r);case"Never":return vnt(i,n,r);case"Object":return bnt(i,n,r);case"Record":return Ent(i,n,r);case"Ref":return Int(i,n,r);case"This":return Tnt(i,n,r);case"Tuple":return wnt(i,n,r);case"Union":return _nt(i,n,r);case"Date":case"Symbol":case"Uint8Array":return pnt(e,t,r);default:return gnt(i,n,r)}}o(jm,"Visit");function gw(...e){return e.length===3?jm(e[0],e[1],e[2]):jm(e[0],[],e[1])}o(gw,"Cast");d();function Snt(e){return Sy(e)&&e[ot]!=="Unsafe"}o(Snt,"IsCheckable");function knt(e,t,r){return pn(r)?r.map(n=>Y0(e.items,t,n)):r}o(knt,"FromArray");function Rnt(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Y0(i,[...t,...n],r)}o(Rnt,"FromImport");function Bnt(e,t,r){let n=e.unevaluatedProperties,s=e.allOf.map(l=>Y0(l,t,Yi(r))).reduce((l,c)=>ai(c)?{...l,...c}:c,{});if(!ai(r)||!ai(s)||!Sy(n))return s;let a=U0(e);for(let l of Object.getOwnPropertyNames(r))a.includes(l)||di(n,t,r[l])&&(s[l]=Y0(n,t,r[l]));return s}o(Bnt,"FromIntersect");function Dnt(e,t,r){if(!ai(r)||pn(r))return r;let n=e.additionalProperties;for(let i of Object.getOwnPropertyNames(r)){if(hn(e.properties,i)){r[i]=Y0(e.properties[i],t,r[i]);continue}if(Sy(n)&&di(n,t,r[i])){r[i]=Y0(n,t,r[i]);continue}delete r[i]}return r}o(Dnt,"FromObject");function Pnt(e,t,r){if(!ai(r))return r;let n=e.additionalProperties,i=Object.getOwnPropertyNames(r),[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of i){if(l.test(c)){r[c]=Y0(a,t,r[c]);continue}if(Sy(n)&&di(n,t,r[c])){r[c]=Y0(n,t,r[c]);continue}delete r[c]}return r}o(Pnt,"FromRecord");function Fnt(e,t,r){return Y0($i(e,t),t,r)}o(Fnt,"FromRef");function Nnt(e,t,r){return Y0($i(e,t),t,r)}o(Nnt,"FromThis");function Lnt(e,t,r){if(!pn(r))return r;if(as(e.items))return[];let n=Math.min(r.length,e.items.length);for(let i=0;i<n;i++)r[i]=Y0(e.items[i],t,r[i]);return r.length>n?r.slice(0,n):r}o(Lnt,"FromTuple");function Qnt(e,t,r){for(let n of e.anyOf)if(Snt(n)&&di(n,t,r))return Y0(n,t,r);return r}o(Qnt,"FromUnion");function Y0(e,t,r){let n=Oi(e.$id)?vl(e,t):t,i=e;switch(i[ot]){case"Array":return knt(i,n,r);case"Import":return Rnt(i,n,r);case"Intersect":return Bnt(i,n,r);case"Object":return Dnt(i,n,r);case"Record":return Pnt(i,n,r);case"Ref":return Fnt(i,n,r);case"This":return Nnt(i,n,r);case"Tuple":return Lnt(i,n,r);case"Union":return Qnt(i,n,r);default:return r}}o(Y0,"Visit");function lN(...e){return e.length===3?Y0(e[0],e[1],e[2]):Y0(e[0],[],e[1])}o(lN,"Clean");d();function cN(e){return Oi(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}o(cN,"IsStringNumeric");function Mnt(e){return zl(e)||Ep(e)||Kr(e)}o(Mnt,"IsValueToString");function Aw(e){return e===!0||Kr(e)&&e===1||zl(e)&&e===BigInt("1")||Oi(e)&&(e.toLowerCase()==="true"||e==="1")}o(Aw,"IsValueTrue");function yw(e){return e===!1||Kr(e)&&(e===0||Object.is(e,-0))||zl(e)&&e===BigInt("0")||Oi(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}o(yw,"IsValueFalse");function Ont(e){return Oi(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(Ont,"IsTimeStringWithTimeZone");function Unt(e){return Oi(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(Unt,"IsTimeStringWithoutTimeZone");function qnt(e){return Oi(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(qnt,"IsDateTimeStringWithTimeZone");function Wnt(e){return Oi(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(Wnt,"IsDateTimeStringWithoutTimeZone");function Gnt(e){return Oi(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}o(Gnt,"IsDateString");function Hnt(e,t){let r=X5e(e);return r===t?r:e}o(Hnt,"TryConvertLiteralString");function jnt(e,t){let r=eCe(e);return r===t?r:e}o(jnt,"TryConvertLiteralNumber");function Vnt(e,t){let r=Z5e(e);return r===t?r:e}o(Vnt,"TryConvertLiteralBoolean");function $nt(e,t){return Oi(e.const)?Hnt(t,e.const):Kr(e.const)?jnt(t,e.const):Ep(e.const)?Vnt(t,e.const):t}o($nt,"TryConvertLiteral");function Z5e(e){return Aw(e)?!0:yw(e)?!1:e}o(Z5e,"TryConvertBoolean");function znt(e){let t=o(r=>r.split(".")[0],"truncateInteger");return cN(e)?BigInt(t(e)):Kr(e)?BigInt(Math.trunc(e)):yw(e)?BigInt(0):Aw(e)?BigInt(1):e}o(znt,"TryConvertBigInt");function X5e(e){return T1(e)&&e.description!==void 0?e.description.toString():Mnt(e)?e.toString():e}o(X5e,"TryConvertString");function eCe(e){return cN(e)?parseFloat(e):Aw(e)?1:yw(e)?0:e}o(eCe,"TryConvertNumber");function Ynt(e){return cN(e)?parseInt(e):Kr(e)?Math.trunc(e):Aw(e)?1:yw(e)?0:e}o(Ynt,"TryConvertInteger");function Knt(e){return Oi(e)&&e.toLowerCase()==="null"?null:e}o(Knt,"TryConvertNull");function Jnt(e){return Oi(e)&&e==="undefined"?void 0:e}o(Jnt,"TryConvertUndefined");function Znt(e){return Xc(e)?e:Kr(e)?new Date(e):Aw(e)?new Date(1):yw(e)?new Date(0):cN(e)?new Date(parseInt(e)):Unt(e)?new Date(`1970-01-01T${e}.000Z`):Ont(e)?new Date(`1970-01-01T${e}`):Wnt(e)?new Date(`${e}.000Z`):qnt(e)?new Date(e):Gnt(e)?new Date(`${e}T00:00:00.000Z`):e}o(Znt,"TryConvertDate");function Xnt(e,t,r){return(pn(r)?r:[r]).map(i=>Vm(e.items,t,i))}o(Xnt,"FromArray");function eit(e,t,r){return znt(r)}o(eit,"FromBigInt");function tit(e,t,r){return Z5e(r)}o(tit,"FromBoolean");function rit(e,t,r){return Znt(r)}o(rit,"FromDate");function nit(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Vm(i,[...t,...n],r)}o(nit,"FromImport");function iit(e,t,r){return Ynt(r)}o(iit,"FromInteger");function oit(e,t,r){return e.allOf.reduce((n,i)=>Vm(i,t,n),r)}o(oit,"FromIntersect");function sit(e,t,r){return $nt(e,r)}o(sit,"FromLiteral");function ait(e,t,r){return Knt(r)}o(ait,"FromNull");function lit(e,t,r){return eCe(r)}o(lit,"FromNumber");function cit(e,t,r){if(!ai(r))return r;for(let n of Object.getOwnPropertyNames(e.properties))hn(r,n)&&(r[n]=Vm(e.properties[n],t,r[n]));return r}o(cit,"FromObject");function uit(e,t,r){if(!ai(r))return r;let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[i];for(let[a,l]of Object.entries(r))r[a]=Vm(s,t,l);return r}o(uit,"FromRecord");function fit(e,t,r){return Vm($i(e,t),t,r)}o(fit,"FromRef");function dit(e,t,r){return X5e(r)}o(dit,"FromString");function mit(e,t,r){return Oi(r)||Kr(r)?Symbol(r):r}o(mit,"FromSymbol");function hit(e,t,r){return Vm($i(e,t),t,r)}o(hit,"FromThis");function pit(e,t,r){return pn(r)&&!as(e.items)?r.map((i,s)=>s<e.items.length?Vm(e.items[s],t,i):i):r}o(pit,"FromTuple");function git(e,t,r){return Jnt(r)}o(git,"FromUndefined");function Ait(e,t,r){for(let n of e.anyOf){let i=Vm(n,t,Yi(r));if(di(n,t,i))return i}return r}o(Ait,"FromUnion");function Vm(e,t,r){let n=vl(e,t),i=e;switch(e[ot]){case"Array":return Xnt(i,n,r);case"BigInt":return eit(i,n,r);case"Boolean":return tit(i,n,r);case"Date":return rit(i,n,r);case"Import":return nit(i,n,r);case"Integer":return iit(i,n,r);case"Intersect":return oit(i,n,r);case"Literal":return sit(i,n,r);case"Null":return ait(i,n,r);case"Number":return lit(i,n,r);case"Object":return cit(i,n,r);case"Record":return uit(i,n,r);case"Ref":return fit(i,n,r);case"String":return dit(i,n,r);case"Symbol":return mit(i,n,r);case"This":return hit(i,n,r);case"Tuple":return pit(i,n,r);case"Undefined":return git(i,n,r);case"Union":return Ait(i,n,r);default:return r}}o(Vm,"Visit");function uN(...e){return e.length===3?Vm(e[0],e[1],e[2]):Vm(e[0],[],e[1])}o(uN,"Convert");d();function tCe(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]];if(!di(t,r,n))throw new nI(t,n,Fp(t,r,n).First());return L1(t,r)?iI(t,r,n):n}o(tCe,"Decode");d();function O1(e,t){let r=hn(e,"default")?e.default:void 0,n=wy(r)?r():Yi(r);return as(t)?n:ai(t)&&ai(n)?Object.assign(n,t):t}o(O1,"ValueOrDefault");function cZ(e){return Sy(e)&&"default"in e}o(cZ,"HasDefaultProperty");function yit(e,t,r){if(pn(r)){for(let i=0;i<r.length;i++)r[i]=r0(e.items,t,r[i]);return r}let n=O1(e,r);if(!pn(n))return n;for(let i=0;i<n.length;i++)n[i]=r0(e.items,t,n[i]);return n}o(yit,"FromArray");function Cit(e,t,r){return Xc(r)?r:O1(e,r)}o(Cit,"FromDate");function xit(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return r0(i,[...t,...n],r)}o(xit,"FromImport");function vit(e,t,r){let n=O1(e,r);return e.allOf.reduce((i,s)=>{let a=r0(s,t,n);return ai(a)?{...i,...a}:a},{})}o(vit,"FromIntersect");function bit(e,t,r){let n=O1(e,r);if(!ai(n))return n;let i=Object.getOwnPropertyNames(e.properties);for(let s of i){let a=r0(e.properties[s],t,n[s]);as(a)||(n[s]=r0(e.properties[s],t,n[s]))}if(!cZ(e.additionalProperties))return n;for(let s of Object.getOwnPropertyNames(n))i.includes(s)||(n[s]=r0(e.additionalProperties,t,n[s]));return n}o(bit,"FromObject");function Eit(e,t,r){let n=O1(e,r);if(!ai(n))return n;let i=e.additionalProperties,[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of Object.getOwnPropertyNames(n))l.test(c)&&cZ(a)&&(n[c]=r0(a,t,n[c]));if(!cZ(i))return n;for(let c of Object.getOwnPropertyNames(n))l.test(c)||(n[c]=r0(i,t,n[c]));return n}o(Eit,"FromRecord");function Iit(e,t,r){return r0($i(e,t),t,O1(e,r))}o(Iit,"FromRef");function Tit(e,t,r){return r0($i(e,t),t,r)}o(Tit,"FromThis");function wit(e,t,r){let n=O1(e,r);if(!pn(n)||as(e.items))return n;let[i,s]=[e.items,Math.max(e.items.length,n.length)];for(let a=0;a<s;a++)a<i.length&&(n[a]=r0(i[a],t,n[a]));return n}o(wit,"FromTuple");function _it(e,t,r){let n=O1(e,r);for(let i of e.anyOf){let s=r0(i,t,Yi(n));if(di(i,t,s))return s}return n}o(_it,"FromUnion");function r0(e,t,r){let n=vl(e,t),i=e;switch(i[ot]){case"Array":return yit(i,n,r);case"Date":return Cit(i,n,r);case"Import":return xit(i,n,r);case"Intersect":return vit(i,n,r);case"Object":return bit(i,n,r);case"Record":return Eit(i,n,r);case"Ref":return Iit(i,n,r);case"This":return Tit(i,n,r);case"Tuple":return wit(i,n,r);case"Union":return _it(i,n,r);default:return O1(i,r)}}o(r0,"Visit");function fN(...e){return e.length===3?r0(e[0],e[1],e[2]):r0(e[0],[],e[1])}o(fN,"Default");d();d();var $m={};C1($m,{Delete:()=>kit,Format:()=>Cw,Get:()=>Bit,Has:()=>Rit,Set:()=>Sit,ValuePointerRootDeleteError:()=>mN,ValuePointerRootSetError:()=>dN});d();var dN=class extends gn{static{o(this,"ValuePointerRootSetError")}constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}},mN=class extends gn{static{o(this,"ValuePointerRootDeleteError")}constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};function rCe(e){return e.indexOf("~")===-1?e:e.replace(/~1/g,"/").replace(/~0/g,"~")}o(rCe,"Escape");function*Cw(e){if(e==="")return;let[t,r]=[0,0];for(let n=0;n<e.length;n++)e.charAt(n)==="/"?(n===0||(r=n,yield rCe(e.slice(t,r))),t=n+1):r=n;yield rCe(e.slice(t))}o(Cw,"Format");function Sit(e,t,r){if(t==="")throw new dN(e,t,r);let[n,i,s]=[null,e,""];for(let a of Cw(t))i[a]===void 0&&(i[a]={}),n=i,i=i[a],s=a;n[s]=r}o(Sit,"Set");function kit(e,t){if(t==="")throw new mN(e,t);let[r,n,i]=[null,e,""];for(let s of Cw(t)){if(n[s]===void 0||n[s]===null)return;r=n,n=n[s],i=s}if(Array.isArray(r)){let s=parseInt(i);r.splice(s,1)}else delete r[i]}o(kit,"Delete");function Rit(e,t){if(t==="")return!0;let[r,n,i]=[null,e,""];for(let s of Cw(t)){if(n[s]===void 0)return!1;r=n,n=n[s],i=s}return Object.getOwnPropertyNames(r).includes(i)}o(Rit,"Has");function Bit(e,t){if(t==="")return e;let r=e;for(let n of Cw(t)){if(r[n]===void 0)return;r=r[n]}return r}o(Bit,"Get");d();function Dit(e,t){if(!ai(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(i=>g4(e[i],t[i]))}o(Dit,"ObjectType");function Pit(e,t){return Xc(t)&&e.getTime()===t.getTime()}o(Pit,"DateType");function Fit(e,t){return!pn(t)||e.length!==t.length?!1:e.every((r,n)=>g4(r,t[n]))}o(Fit,"ArrayType");function Nit(e,t){return!Zf(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>g4(r,t[n]))}o(Nit,"TypedArrayType");function Lit(e,t){return e===t}o(Lit,"ValueType");function g4(e,t){if(Xc(e))return Pit(e,t);if(Zf(e))return Nit(e,t);if(pn(e))return Fit(e,t);if(ai(e))return Dit(e,t);if(Nu(e))return Lit(e,t);throw new Error("ValueEquals: Unable to compare value")}o(g4,"Equal");var Qit=oo({type:Bi("insert"),path:t0(),value:Lm()}),Mit=oo({type:Bi("update"),path:t0(),value:Lm()}),Oit=oo({type:Bi("delete"),path:t0()}),iCe=io([Qit,Mit,Oit]),hN=class extends gn{static{o(this,"ValueDiffError")}constructor(t,r){super(r),this.value=t}};function pN(e,t){return{type:"update",path:e,value:t}}o(pN,"CreateUpdate");function oCe(e,t){return{type:"insert",path:e,value:t}}o(oCe,"CreateInsert");function sCe(e){return{type:"delete",path:e}}o(sCe,"CreateDelete");function nCe(e){if(globalThis.Object.getOwnPropertySymbols(e).length>0)throw new hN(e,"Cannot diff objects with symbols")}o(nCe,"AssertDiffable");function*Uit(e,t,r){if(nCe(t),nCe(r),!xY(r))return yield pN(e,r);let n=globalThis.Object.getOwnPropertyNames(t),i=globalThis.Object.getOwnPropertyNames(r);for(let s of i)hn(t,s)||(yield oCe(`${e}/${s}`,r[s]));for(let s of n)hn(r,s)&&(g4(t,r)||(yield*gN(`${e}/${s}`,t[s],r[s])));for(let s of n)hn(r,s)||(yield sCe(`${e}/${s}`))}o(Uit,"ObjectType");function*qit(e,t,r){if(!pn(r))return yield pN(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*gN(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield oCe(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield sCe(`${e}/${n}`))}o(qit,"ArrayType");function*Wit(e,t,r){if(!Zf(r)||t.length!==r.length||globalThis.Object.getPrototypeOf(t).constructor.name!==globalThis.Object.getPrototypeOf(r).constructor.name)return yield pN(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*gN(`${e}/${n}`,t[n],r[n])}o(Wit,"TypedArrayType");function*Git(e,t,r){t!==r&&(yield pN(e,r))}o(Git,"ValueType");function*gN(e,t,r){if(xY(t))return yield*Uit(e,t,r);if(pn(t))return yield*qit(e,t,r);if(Zf(t))return yield*Wit(e,t,r);if(Nu(t))return yield*Git(e,t,r);throw new hN(t,"Unable to diff value")}o(gN,"Visit");function aCe(e,t){return[...gN("",e,t)]}o(aCe,"Diff");function Hit(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}o(Hit,"IsRootUpdate");function jit(e){return e.length===0}o(jit,"IsIdentity");function lCe(e,t){if(Hit(t))return Yi(t[0].value);if(jit(t))return Yi(e);let r=Yi(e);for(let n of t)switch(n.type){case"insert":{$m.Set(r,n.path,n.value);break}case"update":{$m.Set(r,n.path,n.value);break}case"delete":{$m.Delete(r,n.path);break}}return r}o(lCe,"Patch");d();function cCe(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]],i=L1(t,r)?sI(t,r,n):n;if(!di(t,r,i))throw new oI(t,i,Fp(t,r,i).First());return i}o(cCe,"Encode");d();function AN(e){return ai(e)&&!pn(e)}o(AN,"IsStandardObject");var yN=class extends gn{static{o(this,"ValueMutateError")}constructor(t){super(t)}};function Vit(e,t,r,n){if(!AN(r))$m.Set(e,t,Yi(n));else{let i=Object.getOwnPropertyNames(r),s=Object.getOwnPropertyNames(n);for(let a of i)s.includes(a)||delete r[a];for(let a of s)i.includes(a)||(r[a]=null);for(let a of s)uZ(e,`${t}/${a}`,r[a],n[a])}}o(Vit,"ObjectType");function $it(e,t,r,n){if(!pn(r))$m.Set(e,t,Yi(n));else{for(let i=0;i<n.length;i++)uZ(e,`${t}/${i}`,r[i],n[i]);r.splice(n.length)}}o($it,"ArrayType");function zit(e,t,r,n){if(Zf(r)&&r.length===n.length)for(let i=0;i<r.length;i++)r[i]=n[i];else $m.Set(e,t,Yi(n))}o(zit,"TypedArrayType");function Yit(e,t,r,n){r!==n&&$m.Set(e,t,n)}o(Yit,"ValueType");function uZ(e,t,r,n){if(pn(n))return $it(e,t,r,n);if(Zf(n))return zit(e,t,r,n);if(AN(n))return Vit(e,t,r,n);if(Nu(n))return Yit(e,t,r,n)}o(uZ,"Visit");function uCe(e){return Zf(e)||Nu(e)}o(uCe,"IsNonMutableValue");function Kit(e,t){return AN(e)&&pn(t)||pn(e)&&AN(t)}o(Kit,"IsMismatchedValue");function fCe(e,t){if(uCe(e)||uCe(t))throw new yN("Only object and array types can be mutated at the root level");if(Kit(e,t))throw new yN("Cannot assign due type mismatch of assignable values");uZ(e,"",e,t)}o(fCe,"Mutate");d();var CN=class extends gn{static{o(this,"ParseError")}constructor(t){super(t)}},fZ;(function(e){let t=new Map([["Assert",(s,a,l)=>(sN(s,a,l),l)],["Cast",(s,a,l)=>gw(s,a,l)],["Clean",(s,a,l)=>lN(s,a,l)],["Clone",(s,a,l)=>Yi(l)],["Convert",(s,a,l)=>uN(s,a,l)],["Decode",(s,a,l)=>L1(s,a)?iI(s,a,l):l],["Default",(s,a,l)=>fN(s,a,l)],["Encode",(s,a,l)=>L1(s,a)?sI(s,a,l):l]]);function r(s){t.delete(s)}o(r,"Delete"),e.Delete=r;function n(s,a){t.set(s,a)}o(n,"Set"),e.Set=n;function i(s){return t.get(s)}o(i,"Get"),e.Get=i})(fZ||(fZ={}));var dCe=["Clone","Clean","Default","Convert","Assert","Decode"];function Jit(e,t,r,n){return e.reduce((i,s)=>{let a=fZ.Get(s);if(as(a))throw new CN(`Unable to find Parse operation '${s}'`);return a(t,r,i)},n)}o(Jit,"ParseValue");function mCe(...e){let[t,r,n,i]=e.length===4?[e[0],e[1],e[2],e[3]]:e.length===3?pn(e[0])?[e[0],e[1],[],e[2]]:[dCe,e[0],e[1],e[2]]:e.length===2?[dCe,e[0],[],e[1]]:(()=>{throw new CN("Invalid Arguments")})();return Jit(t,r,n,i)}o(mCe,"Parse");d();var Yy={};C1(Yy,{Assert:()=>sN,Cast:()=>gw,Check:()=>di,Clean:()=>lN,Clone:()=>Yi,Convert:()=>uN,Create:()=>dd,Decode:()=>tCe,Default:()=>fN,Diff:()=>aCe,Edit:()=>iCe,Encode:()=>cCe,Equal:()=>g4,Errors:()=>Fp,Hash:()=>Hy,Mutate:()=>fCe,Parse:()=>mCe,Patch:()=>lCe,ValueErrorIterator:()=>jy});d();var Zit={capabilities:{family:"gpt-3.5-turbo",object:"model_capabilities",supports:{streaming:!0},tokenizer:"cl100k_base",type:"completion"},id:"copilot-codex",model_picker_enabled:!0,name:"GPT-3.5 Turbo",object:"model",preview:!1,version:"copilot-codex"},Xit="gpt-4o-copilot",md=class e{constructor(t,r=!0){this._ctx=t;this.onModelsFetchedCallbacks=[];this.fetchedModelData=[];this.customModels=[];this.editorPreviewFeaturesDisabled=!1;r&&Ca(this._ctx,n=>this.refreshAvailableModels(n))}static{o(this,"AvailableModelsManager")}async refreshAvailableModels(t){await this.refreshModels(t);for(let r of this.onModelsFetchedCallbacks)r()}addHandler(t){this.onModelsFetchedCallbacks.push(t)}getDefaultModelId(){if(this.fetchedModelData){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled)[0];if(t)return t.id}return Xit}parseModelsResponse(t){try{return Yy.Parse(V5e,t)}catch(r){li.exception(this._ctx,r,"Failed to parse /models response from CAPI");return}}async refreshModels(t){let r=await this.fetchModels(t);r&&(this.fetchedModelData=r)}async fetchModels(t){return this.customModels=t.getTokenValue("cml")?.split(",")??[],this.editorPreviewFeaturesDisabled=t.getTokenValue("editor_preview_features")=="0",t.getTokenValue("fcv1")=="1"?Promise.resolve([Zit]):await this.fetch()}async fetch(){let t=await p4(this._ctx,"/models");return t.ok?this.parseModelsResponse(await t.json())?.data??[]:(li.error(this._ctx,"Failed to fetch models from CAPI",{status:t.status,statusText:t.statusText}),null)}getGenericCompletionModels(){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled);return e.mapCompletionModels(t)}static filterCompletionModels(t,r){return t.filter(n=>n.capabilities.type==="completion").filter(n=>!r||n.preview===!1||n.preview===void 0)}static filterModelsWithEditorPreviewFeatures(t,r){return t.filter(n=>!r||n.preview===!1||n.preview===void 0)}static mapCompletionModels(t){return t.map(r=>({modelId:r.id,label:r.name,preview:!!r.preview}))}getCurrentModelRequestInfo(t=void 0){let r=this.getDefaultModelId(),n=$5e(this._ctx);if(n){let l=this.getGenericCompletionModels().map(c=>c.modelId);l.includes(n)||(l.length>0&&li.error(this._ctx,`User selected model ${n} is not in the list of generic models: ${l.join(", ")}, falling back to default model.`),n=null),r===n&&(n=null)}let i=jn(this._ctx,Rt.DebugOverrideEngine)||jn(this._ctx,Rt.DebugOverrideEngineLegacy);if(i)return new Ky(i,"override");let s=t?this._ctx.get(xr).customEngine(t):"",a=t?this._ctx.get(xr).customEngineTargetEngine(t):void 0;return n?s&&a&&n===a?new Ky(s,"exp"):new Ky(n,"modelpicker"):s?new Ky(s,"exp"):this.customModels.length>0?new Ky(this.customModels[0],"custommodel"):new Ky(r,"default")}},Ky=class{constructor(t,r){this.modelId=t;this.modelChoiceSource=r}static{o(this,"ModelRequestInfo")}get headers(){return{}}};function Jy(e,t=void 0){let r=e.get(md).getCurrentModelRequestInfo(t);return{headers:r.headers,modelId:r.modelId,engineChoiceSource:r.modelChoiceSource}}o(Jy,"getEngineRequestInfo");d();d();var Io=class{static{o(this,"FileSystem")}};var BCe=et(RCe());function DCe(e){return e!==void 0&&e!==0}o(DCe,"isRepoInfo");async function PCe(e){let r=(await e.get($r).getToken()).organization_list??[];return KF(r)??""}o(PCe,"getUserKind");async function xw(e,t){return(await e.get($r).getToken()).getTokenValue(t)??""}o(xw,"getTokenKeyValue");function FCe(e){if(e===void 0||e===0)return"";let t=U1(e);if(t==="github/github")return t;let r=Tot(e)?.toLowerCase();return r!==void 0?r:""}o(FCe,"getDogFood");function U1(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}o(U1,"tryGetGitHubNWO");function Tot(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}o(Tot,"tryGetADONWO");function Zy(e,t){let r=ju(t);return wot(e,r)}o(Zy,"extractRepoInfoInBackground");var wot=Rot(_ot,1e4);async function _ot(e,t){let r=T5e(t);if(!r)return;let n=await Sot(e,r);if(!n)return;let i=e.get(Io),s=Fo(n,".git","config"),a;try{a=await i.readFileString(s)}catch{return}let l=kot(a)??"",c=pZ(l),u={uri:n};return c===void 0?{baseFolder:u,url:l,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:u,url:l,...c}}o(_ot,"extractRepoInfo");function pZ(e){let t;try{if(t=(0,BCe.default)(e),t.resource==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.resource,owner:t.owner,repo:t.name,pathname:t.pathname}}o(pZ,"parseRepoUrl");async function Sot(e,t){let r=t+"_add_to_make_longer",n=e.get(Io);for(;t!=="file:///"&&t.length<r.length;){let i=Fo(t,".git","config"),s=!1;try{await n.stat(i),s=!0}catch{s=!1}if(s)return t;r=t,t=ju(t)}}o(Sot,"getRepoBaseUri");function kot(e){let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,i=/^\s*\[/,s,a,l=!1;for(let c of e.split(`
`))if(l&&s!==void 0){if(s+=c,c.endsWith("\\"))s=s.substring(0,s.length-1);else if(l=!1,a==="origin")return s}else{let u=c.match(t)??c.match(r);if(u)a=u[1];else if(c.match(i))a=void 0;else{if(s&&a!=="origin")continue;{let f=c.match(n);if(f){if(s=f[1],s.endsWith("\\"))s=s.substring(0,s.length-1),l=!0;else if(a==="origin")return s}}}}return s}o(kot,"getRepoUrlFromConfigText");var hZ=class{static{o(this,"CompletedComputation")}constructor(t){this.result=t}};function Rot(e,t){let r=new In(t),n=new Set;return(i,...s)=>{let a=JSON.stringify(s),l=r.get(a);if(l)return l.result;if(n.has(a))return 0;let c=e(i,...s);return n.add(a),c.then(u=>{r.set(a,new hZ(u)),n.delete(a)}),0}}o(Rot,"computeInBackgroundAndMemoize");d();d();d();d();d();d();d();var hI=class extends Error{constructor(r,n){super(r,{cause:n});this.code="CopilotPromptLoadFailure"}static{o(this,"CopilotPromptLoadFailure")}};d();var NCe=et(require("node:fs/promises")),xN=et(require("node:path"));async function vN(e){return await NCe.readFile(gZ(e))}o(vN,"readFile");function gZ(e){return xN.default.resolve(xN.default.extname(__filename)!==".ts"?__dirname:xN.default.resolve(__dirname,"../../dist"),e)}o(gZ,"locateFile");var gI=et(YCe());var pI=new Map;function go(e="cl100k_base"){let t=pI.get(e);return t!==void 0?t:pI.get("cl100k_base")}o(go,"getTokenizer");async function KCe(e="cl100k_base"){return await SZ,go(e)}o(KCe,"getTokenizerAsync");async function Vot(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=await vN(e),r=new Map,n=[];for(let i=0;i<t.length;i++){if(t[i]!==255||n.length===0){n.push(t[i]);continue}r.set(Uint8Array.from(n),r.size),n=[]}return r.set(Uint8Array.from(n),r.size),r}o(Vot,"parseTikTokenNoIndex");var _N=class e{constructor(t){this._tokenizer=t}static{o(this,"TTokenizer")}static async create(t){try{let r=(0,gI.createTokenizer)(await Vot(`resources/${t}.tiktoken.noindex`),(0,gI.getSpecialTokensByEncoder)(t),(0,gI.getRegexByEncoder)(t),32768);return new e(r)}catch(r){throw r instanceof Error?new hI("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(n=>this.detokenize([n]))}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(-s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(-s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(-r),{text:this.detokenize(l),tokens:l})}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(0,s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(0,s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},wZ=class{constructor(){this.hash=o(t=>{let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);r=(r<<5)-r+i,r&=r&65535}return r},"hash")}static{o(this,"MockTokenizer")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){let n=this.tokenizeStrings(t).slice(-r);return{text:n.join(""),tokens:n.map(this.hash)}}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},_Z=class{static{o(this,"ApproximateTokenizer")}tokenize(t){throw new Error("Not implemented")}detokenize(t){throw new Error("Not implemented")}tokenizeStrings(t){throw new Error("Not implemented")}tokenLength(t){return Math.ceil(t.length/4)}takeLastTokens(t,r){throw new Error("Not implemented")}takeFirstTokens(t,r){throw new Error("Not implemented")}takeLastLinesTokens(t,r){throw new Error("Not implemented")}},SZ=(async()=>{pI.set("mock",new wZ),pI.set("approximate",new _Z),pI.set("cl100k_base",await _N.create("cl100k_base")),pI.set("o200k_base",await _N.create("o200k_base"))})();var $ot={tokenizerName:"cl100k_base"};function zot(e){return{...$ot,...e}}o(zot,"cursorContextOptions");function bw(e,t={}){let r=zot(t),n=go(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let i=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(i=i.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(i=n.takeLastLinesTokens(i,r.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:n.tokenLength(i),tokenizerName:r.tokenizerName}}o(bw,"getCursorContext");d();d();d();var A4={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},kZ={};for(let[e,t]of Object.entries(A4))if(t.markdownLanguageIds)for(let r of t.markdownLanguageIds)kZ[r]=e;else kZ[e]=e;function XCe(e){return kZ[e]}o(XCe,"mdCodeBlockLangToLanguageId");var e3e={start:"//",end:""},Yot=["php","plaintext"],JCe={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function Kot({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}o(Kot,"hasLanguageMarker");function RZ(e,t){let r=A4[t]?A4[t].lineComment:e3e;if(r){let n=r.end==""?"":" "+r.end;return`${r.start} ${e}${n}`}return""}o(RZ,"comment");function Jot(e,t){let r=A4[t]?A4[t].lineComment:e3e;if(!r)return e;let n=e,i=`${r.start} `;if(n.startsWith(i)&&(n=n.substring(i.length)),r.end&&r.end!==""){let s=` ${r.end}`;n.endsWith(s)&&(n=n.substring(0,n.length-s.length))}return n}o(Jot,"uncomment");function t3e(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(s=>Jot(s,t)).join(`
`);return r?i+`
`:i}o(t3e,"uncommentBlockAsSingles");function i0(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(s=>RZ(s,t)).join(`
`);return r?i+`
`:i}o(i0,"commentBlockAsSingles");function r3e(e){let{languageId:t}=e;return Yot.indexOf(t)===-1&&!Kot(e)?t in JCe?JCe[t]:RZ(`Language: ${t}`,t):""}o(r3e,"getLanguageMarker");function n3e(e){return e.relativePath?RZ(`Path: ${e.relativePath}`,e.languageId):""}o(n3e,"getPathMarker");function Ew(e){return e===""||e.endsWith(`
`)?e:e+`
`}o(Ew,"newLineEnded");function i3e(e){return ZCe(typeof e=="string"?e:"plaintext")}o(i3e,"getLanguage");function ZCe(e){return A4[e]!==void 0?{languageId:e,...A4[e]}:{languageId:e,lineComment:{start:"//",end:""}}}o(ZCe,"_getLanguage");var Zot={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function o3e(e,t){let r=Zot[e.semantics],n=["snippets"].includes(e.semantics)?"these":"this",s=(e.relativePath?`Compare ${n} ${r} from ${e.relativePath}:`:`Compare ${n} ${r}:`)+`
`+e.snippet;return s.endsWith(`
`)||(s+=`
`),i0(s,t)}o(o3e,"announceSnippet");var BZ=class{constructor(t){this.keys=[];this.cache={};this.size=t}static{o(this,"FifoCache")}put(t,r){if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let n=this.keys.shift()??"";delete this.cache[n]}}get(t){return this.cache[t]}};var DZ=class{static{o(this,"Tokenizer")}constructor(t){this.stopsForLanguage=rst.get(t.languageId)??tst}tokenize(t){return new Set(Xot(t).filter(r=>!this.stopsForLanguage.has(r)))}},s3e=new BZ(20),AI=class{static{o(this,"WindowedMatcher")}constructor(t){this.referenceDoc=t,this.tokenizer=new DZ(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,i)=>n.score>i.score?1:-1):r=="descending"?t.sort((n,i)=>n.score>i.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){let n=[];if(t.source.length===0||(await this.referenceTokens).size===0)return n;let i=t.source.split(`
`),s=this.id()+":"+t.source,a=s3e.get(s)??[],l=a.length==0,c=l?i.map(u=>this.tokenizer.tokenize(u),this.tokenizer):[];for(let[u,[f,m]]of this.getWindowsDelineations(i).entries()){if(l){let A=new Set;c.slice(f,m).forEach(x=>x.forEach(v=>A.add(v),A)),a.push(A)}let h=a[u],p=this.similarityScore(h,await this.referenceTokens);if(n.length&&f>0&&n[n.length-1].endLine>f){n[n.length-1].score<p&&(n[n.length-1].score=p,n[n.length-1].startLine=f,n[n.length-1].endLine=m);continue}n.push({score:p,startLine:f,endLine:m})}return l&&s3e.put(s,a),this.sortScoredSnippets(n,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let n=t.source.split(`
`),i=await this.retrieveAllSnippets(t,"descending");if(i.length===0)return[];let s=[];for(let a=0;a<i.length&&a<r;a++)if(i[a].score!==0){let l=n.slice(i[a].startLine,i[a].endLine).join(`
`);s.push({snippet:l,semantics:"snippet",provider:"similar-files",...i[a]})}return s}};function Xot(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}o(Xot,"splitIntoWords");var est=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),tst=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...est]),rst=new Map([]);d();d();d();function PZ(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}o(PZ,"virtualNode");function a3e(e,t,r,n,i){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:i}}o(a3e,"lineNode");function FZ(e){return{type:"blank",lineNumber:e,subs:[]}}o(FZ,"blankNode");function kN(e){return{type:"top",indentation:-1,subs:e??[]}}o(kN,"topNode");function rc(e){return e.type==="blank"}o(rc,"isBlank");function y4(e){return e.type==="line"}o(y4,"isLine");function C4(e){return e.type==="virtual"}o(C4,"isVirtual");function l3e(e,t){return Dc(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}o(l3e,"clearLabelsIf");function x4(e,t){switch(e.type){case"line":case"virtual":{let r=e.subs.map(n=>x4(n,t));return{...e,subs:r,label:e.label?t(e.label):void 0}}case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(r=>x4(r,t)),label:e.label?t(e.label):void 0}}}o(x4,"mapLabels");function Dc(e,t,r){function n(i){r==="topDown"&&t(i),i.subs.forEach(s=>{n(s)}),r==="bottomUp"&&t(i)}o(n,"_visit"),n(e)}o(Dc,"visitTree");function NZ(e,t,r,n){let i=t;function s(a){i=r(a,i)}return o(s,"visitor"),Dc(e,s,n),i}o(NZ,"foldTree");function RN(e,t,r){let n=o(s=>{if(r!==void 0&&r(s))return s;{let a=s.subs.map(n).filter(l=>l!==void 0);return s.subs=a,t(s)}},"rebuild"),i=n(e);return i!==void 0?i:kN()}o(RN,"rebuildTree");d();function ist(e){let t=e.split(`
`),r=t.map(u=>u.match(/^\s*/)[0].length),n=t.map(u=>u.trimLeft());function i(u){let[f,m]=s(u+1,r[u]);return[a3e(r[u],u,n[u],f),m]}o(i,"parseNode");function s(u,f){let m,h=[],p=u,A;for(;p<n.length&&(n[p]===""||r[p]>f);)if(n[p]==="")A===void 0&&(A=p),p+=1;else{if(A!==void 0){for(let x=A;x<p;x++)h.push(FZ(x));A=void 0}[m,p]=i(p),h.push(m)}return A!==void 0&&(p=A),[h,p]}o(s,"parseSubs");let[a,l]=s(0,-1),c=l;for(;c<n.length&&n[c]==="";)a.push(FZ(c)),c+=1;if(c<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${n.length}`);return kN(a)}o(ist,"parseRaw");function Iw(e,t){function r(n){if(y4(n)){let i=t.find(s=>s.matches(n.sourceLine));i&&(n.label=i.label)}}o(r,"visitor"),Dc(e,r,"bottomUp")}o(Iw,"labelLines");function BN(e){function t(r){if(C4(r)&&r.label===void 0){let n=r.subs.filter(i=>!rc(i));n.length===1&&(r.label=n[0].label)}}o(t,"visitor"),Dc(e,t,"bottomUp")}o(BN,"labelVirtualInherited");function Tw(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=o(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}o(Tw,"buildLabelRules");function LZ(e){let r=RN(e,o(function(n){if(n.subs.length===0||n.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return n;let i=[],s;for(let a=0;a<n.subs.length;a++){let l=n.subs[a],c=n.subs[a-1];if(l.label==="opener"&&c!==void 0&&y4(c))c.subs.push(l),l.subs.forEach(u=>c.subs.push(u)),l.subs=[];else if(l.label==="closer"&&s!==void 0&&(y4(l)||C4(l))&&l.indentation>=s.indentation){let u=i.length-1;for(;u>0&&rc(i[u]);)u-=1;if(s.subs.push(...i.splice(u+1)),l.subs.length>0){let f=s.subs.findIndex(A=>A.label!=="newVirtual"),m=s.subs.slice(0,f),h=s.subs.slice(f),p=h.length>0?[PZ(l.indentation,h,"newVirtual")]:[];s.subs=[...m,...p,l]}else s.subs.push(l)}else i.push(l),rc(l)||(s=l)}return n.subs=i,n},"rebuilder"));return l3e(e,n=>n==="newVirtual"),r}o(LZ,"combineClosersAndOpeners");function c3e(e,t=rc,r){return RN(e,o(function(i){if(i.subs.length<=1)return i;let s=[],a=[],l,c=!1;function u(f=!1){if(l!==void 0&&(s.length>0||!f)){let m=PZ(l,a,r);s.push(m)}else a.forEach(m=>s.push(m))}o(u,"flushBlockIntoNewSubs");for(let f=0;f<i.subs.length;f++){let m=i.subs[f],h=t(m);!h&&c&&(u(),a=[]),c=h,a.push(m),rc(m)||(l=l??m.indentation)}return u(!0),i.subs=s,i},"rebuilder"))}o(c3e,"groupBlocks");function v4(e){return RN(e,o(function(r){return C4(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&C4(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}o(v4,"flattenVirtual");var ost={opener:/^[[({]/,closer:/^[\])}]/},sst=Tw(ost),u3e={};function QZ(e,t){u3e[e]=t}o(QZ,"registerLanguageSpecificParser");function ww(e,t){let r=ist(e),n=u3e[t??""];return n?n(r):(Iw(r,sst),LZ(r))}o(ww,"parseTree");function DN(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let i=0;i<n-e+1;i++)r.push([i,i+e]);return r}o(DN,"getBasicWindowDelineations");var PN=class e extends AI{static{o(this,"FixedWindowSizeJaccardMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return DN(this.windowLength,t)}_getCursorContextInfo(t){return bw(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return ast(t,r)}};function ast(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}o(ast,"computeScore");d();d();var FN=et(f3e());var OZ={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};function Ju(e){return e in OZ&&e!=="csharp"&&e!=="java"}o(Ju,"isSupportedLanguageId");function NN(e){if(!(e in OZ))throw new Error(`Unrecognized language: ${e}`);return OZ[e]}o(NN,"languageIdToWasmLanguage");var MZ=new Map;async function lst(e){let t;try{t=await vN(`tree-sitter-${e}.wasm`)}catch(r){throw r instanceof Error&&"code"in r&&typeof r.code=="string"&&r.name==="Error"?new hI(`Could not load tree-sitter-${e}.wasm`,r):r}return FN.default.Language.load(t)}o(lst,"loadWasmLanguage");function cst(e){let t=NN(e);if(!MZ.has(t)){let r=lst(t);MZ.set(t,r)}return MZ.get(t)}o(cst,"getLanguage");var UZ=class extends Error{static{o(this,"WrappedError")}constructor(t,r){super(t,{cause:r})}};async function q1(e,t){await FN.default.init({locateFile:o(s=>gZ(s),"locateFile")});let r;try{r=new FN.default}catch(s){throw s&&typeof s=="object"&&"message"in s&&typeof s.message=="string"&&s.message.includes("table index is out of bounds")?new UZ(`Could not init Parse for language <${e}>`,s):s}let n=await cst(e);r.setLanguage(n);let i=r.parse(t);return r.delete(),i}o(q1,"parseTreeSitter");function d3e(e){switch(NN(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":case"c_sharp":case"java":return"}";case"ruby":return"end"}}o(d3e,"getBlockCloseToken");function ust(e,t){let r=[];for(let n of e){if(!n[1]){let i=t.tree.getLanguage();n[1]=i.query(n[0])}r.push(...n[1].matches(t))}return r}o(ust,"innerQuery");var fst=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function m3e(e){return ust([fst],e).length==1}o(m3e,"queryPythonIsDocstring");var LN=class e extends AI{static{o(this,"BlockTokenSubsetMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return DN(this.windowLength,t)}_getCursorContextInfo(t){return bw(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=e.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let t=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,r=this.referenceDoc.offset,n=t?this.referenceDoc.source.slice(t,r):bw(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(n)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return dst(t,r)}async getEnclosingMemberStart(t,r){let n;try{n=await q1(this.referenceDoc.languageId,t);let i=n.rootNode.namedDescendantForIndex(r);for(;i&&!(e.isMember(i)||e.isBlock(i));)i=i.parent??void 0;return i}finally{n?.delete()}}static isMember(t){switch(t?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function dst(e,t){let r=new Set;return t.forEach(n=>{e.has(n)&&r.add(n)}),r.size}o(dst,"computeScore");var mst=0,hst=60,pst=4,gst=1,Ast=20,yst=1e4,qZ={snippetLength:hst,threshold:mst,maxTopSnippets:pst,maxCharPerFile:yst,maxNumberOfFiles:Ast,maxSnippetsPerFile:gst,useSubsetMatching:!1};var QN={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};function Cst(e,t){return(t.useSubsetMatching?LN.FACTORY(t.snippetLength):PN.FACTORY(t.snippetLength)).to(e)}o(Cst,"getMatcher");async function h3e(e,t,r){let n=Cst(e,r);return r.maxTopSnippets===0?[]:(await t.filter(s=>s.source.length<r.maxCharPerFile&&s.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(s,a)=>(await s).concat((await n.findMatches(a,r.maxSnippetsPerFile)).map(l=>({relativePath:a.relativePath,...l}))),Promise.resolve([]))).filter(s=>s.score&&s.snippet&&s.score>r.threshold).sort((s,a)=>s.score-a.score).slice(-r.maxTopSnippets)}o(h3e,"getSimilarSnippets");var _w=500,Sw=8192-_w,p3e=4;var MN=10,ON=15;var xst={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function W1(e){return e=e.toLowerCase(),xst[e]??e}o(W1,"normalizeLanguageId");var WZ=class{constructor(t){this.ctx=t;this.cache=new In(200)}static{o(this,"FilterSettingsToExpConfigs")}async fetchExpConfig(t){let r=this.cache.get(t.stringify());return r||(r=new GZ(()=>this.ctx.get(Hm).fetchExperiments(this.ctx,t.toHeaders()),1e3*60*60),this.cache.set(t.stringify(),r)),r.run()}getCachedExpConfig(t){return this.cache.get(t.stringify())?.value()}},GZ=class{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}static{o(this,"Task")}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};function bst(e){return"uri"in e}o(bst,"isCompletionsFiltersInfo");var xr=class e{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.dynamicFilterGroups=[];this.upcomingDynamicFilters={};this.assignments=new WZ(this.ctx)}static{o(this,"Features")}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}registerDynamicFilterGroup(t){this.dynamicFilterGroups.push(t)}getDynamicFilterValues(){let t={};for(let r of this.dynamicFilterGroups)Object.assign(t,r());for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments(t,r=ln.createAndMarkAsIssued()){if(r instanceof Np)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let n=t&&bst(t)?Zy(this.ctx,t.uri):void 0,i=U1(n)??"",s=FCe(n)??"",a=t?.languageId??"",l=Jy(this.ctx).modelId,c=await PCe(this.ctx),u=await xw(this.ctx,"ft"),f=await xw(this.ctx,"ol"),m=await xw(this.ctx,"cml"),h=await xw(this.ctx,"tid"),p={"X-Copilot-Repository":i,"X-Copilot-FileType":a,"X-Copilot-UserKind":c,"X-Copilot-Dogfood":s,"X-Copilot-Engine":l,"X-Copilot-CustomModel":u,"X-Copilot-Orgs":f,"X-Copilot-CustomModelNames":m,"X-Copilot-CopilotTrackingId":h},A=this.getGranularityDirectory(),x=this.makeFilterSettings(p),v=A.extendFilters(x),E=await this.getExpConfig(v.newFilterSettings);A.update(x,+(E.variables.copilotbycallbuckets??NaN),+(E.variables.copilottimeperiodsizeinh??NaN));let b=A.extendFilters(x),_=b.newFilterSettings,R=await this.getExpConfig(_),P=new Promise(F=>setTimeout(F,e.upcomingDynamicFilterCheckDelayMs));for(let F of b.otherFilterSettingsToPrefetch)P=P.then(async()=>{await new Promise(W=>setTimeout(W,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(F)});return this.prepareForUpcomingFilters(_),new Np(r.properties,r.measurements,r.issuedTime,{filters:_,exp:R})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(ws).machineId;this.granularityDirectory=new YF(t,this.ctx.get(bp))}return this.granularityDirectory}makeFilterSettings(t){return new V3({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t){try{return this.assignments.fetchExpConfig(t)}catch(r){return cd.createFallbackConfig(this.ctx,`Error fetching ExP config: ${String(r)}`)}}async prepareForUpcomingFilters(t){if(!(new Date().getMinutes()<60-e.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(i=>setTimeout(i,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(r,n()))}stringify(){let t=this.assignments.getCachedExpConfig(new V3({}));return JSON.stringify(t?.variables??{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=await this.getExpConfig(t);return{filters:t,exp:r}}disableLogProb(t){return t.filtersAndExp.exp.variables.copilotdisablelogprob??!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}customEngine(t){return t.filtersAndExp.exp.variables.copilotcustomengine??""}customEngineTargetEngine(t){return t.filtersAndExp.exp.variables.copilotcustomenginetargetengine}suffixPercent(t){return t.filtersAndExp.exp.variables.CopilotSuffixPercent??ON}suffixMatchThreshold(t){return t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold??MN}cppHeadersShutdownSwitch(t){return t.filtersAndExp.exp.variables.copilotcppheadersshutdownswitch??!1}relatedFilesVSCodeCSharp(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodecsharp??!1}relatedFilesVSCodeTypeScript(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodetypescript??!1}relatedFilesVSCode(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscode??!1}excludeOpenTabFilesCSharp(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilescsharp??!1}excludeOpenTabFilesCpp(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilescpp??!1}excludeOpenTabFilesTypeScript(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilestypescript??!1}fallbackToOpenTabFilesWithNoRelatedFiles(t){return t.filtersAndExp.exp.variables.copilotfallbacktoopentabfiles??!1}contextProviders(t){let r=t.filtersAndExp.exp.variables.copilotcontextproviders??"";return r?r.split(",").map(n=>n.trim()):[]}includeNeighboringFiles(t){return t.filtersAndExp.exp.variables.copilotincludeneighboringfiles??!1}maxPromptCompletionTokens(t){return t.filtersAndExp.exp.variables.maxpromptcompletionTokens??Sw+_w}promptOrderListPreset(t){let r=t.filtersAndExp.exp.variables.copilotpromptorderlistpreset;return"default"}promptPriorityPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptprioritypreset){case"office-exp":return"office-exp";default:return"default"}}ideChatMaxRequestTokens(t){return t.filtersAndExp.exp.variables.idechatmaxrequesttokens??-1}ideChatExpModelIds(t){return t.filtersAndExp.exp.variables.idechatexpmodelids??""}ideChatEnableProjectMetadata(t){return t.filtersAndExp.exp.variables.idechatenableprojectmetadata??!1}ideEnableCopilotEditsAgent(t){return t.filtersAndExp.exp.variables.ideenablecopiloteditsagent??!1}recentEditsInPrompt(t){return t.filtersAndExp.exp.variables.copilotrecenteditsinprompt??!1}recentEditsEditCount(t){return t.filtersAndExp.exp.variables.copilotrecenteditseditcount??5}recentEditsMaxFiles(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxfiles??5}recentEditsContextLines(t){return t.filtersAndExp.exp.variables.copilotrecenteditscontextlines??3}recentEditsRemoveDeletedLines(t){return t.filtersAndExp.exp.variables.copilotrecenteditsremovedeletedlines??!1}recentEditsInsertionsBeforeDeletions(t){return t.filtersAndExp.exp.variables.copilotrecenteditsinsertionsbeforedeletions??!1}recentEditsAppendNoReplyMarker(t){return t.filtersAndExp.exp.variables.copilotrecenteditsappendnoreplymarker??!1}recentEditsMaxLinesBetweenEdits(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxlinesbetweenedits??100}recentEditsActiveDocDistanceLimitFromCursor(t){return t.filtersAndExp.exp.variables.copilotrecenteditsactivedocdistancelimitfromcursor??100}recentEditsSummarizationFormat(t){return t.filtersAndExp.exp.variables.copilotrecenteditsummarizationformat??"diff"}triggerCompletionAfterAccept(t){return t.filtersAndExp.exp.variables.copilottriggercompletionafteraccept}enableAsyncCompletions(t){return t.filtersAndExp.exp.variables.copilotasynccompletions??!1}enableSpeculativeRequests(t){return t.filtersAndExp.exp.variables.copilotspeculativerequests??!1}cppContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotcppContextProviderParams}disableContextualFilter(t){return t.filtersAndExp.exp.variables.copilotdisablecontextualfilter??!1}vscodeDebounceThreshold(t){return t.filtersAndExp.exp.variables.copilotvscodedebouncethreshold}enableElectronFetcher(t){return t.filtersAndExp.exp.variables.copilotelectronfetcher??!1}asyncCompletionsTimeout(t){return t.filtersAndExp.exp.variables.copilotasynccompletionstimeout??100}enablePromptContextProxyField(t){return t.filtersAndExp.exp.variables.copilotenablepromptcontextproxyfield??!1}enableProgressiveReveal(t){return t.filtersAndExp.exp.variables.copilotprogressivereveal??!1}enablePrefixCompletionsCache(t){return t.filtersAndExp.exp.variables.copilotprefixcompletionscache??!1}};var HZ={};C1(HZ,{activationEvents:()=>Wst,badges:()=>qst,bugs:()=>Pst,build:()=>_st,buildType:()=>Sst,categories:()=>Ost,contributes:()=>jZ,default:()=>Yst,dependencies:()=>$st,description:()=>Tst,devDependencies:()=>Vst,displayName:()=>Ist,enabledApiProposals:()=>Hst,engines:()=>Mst,extensionPack:()=>Qst,homepage:()=>Bst,icon:()=>Nst,keywords:()=>Ust,license:()=>Dst,main:()=>Gst,name:()=>Est,overrides:()=>zst,preview:()=>Rst,pricing:()=>Lst,publisher:()=>kst,qna:()=>Fst,scripts:()=>jst,version:()=>wst});var Est="copilot",Ist="GitHub Copilot",Tst="Your AI pair programmer",wst="1.312.0",_st="1540",Sst="prod",kst="GitHub",Rst=!1,Bst="https://github.com/features/copilot?editor=vscode",Dst="https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",Pst={url:"https://github.com/microsoft/vscode-copilot-release/issues"},Fst="https://github.com/github-community/community/discussions/categories/copilot",Nst="assets/Copilot-App-Icon.png",Lst="Trial",Qst=["GitHub.copilot-chat"],Mst={vscode:"^1.98.0",node:">=20.0.0",npm:">=9.0.0"},Ost=["AI","Chat","Programming Languages","Machine Learning"],Ust=["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],qst=[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],Wst=["onStartupFinished"],Gst="./dist/extension",Hst=["inlineCompletionsAdditions"],jZ={commands:[{command:"github.copilot.toggleStatusMenu",title:"Open Status Menu",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.acceptCursorPanelSolution",title:"Accept Panel Suggestion at the Cursor",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the Previous Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the Next Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.completions.disable",title:"Disable Completions",enablement:"github.copilot.activated && config.editor.inlineSuggest.enabled && github.copilot.completions.enabled",category:"GitHub Copilot"},{command:"github.copilot.completions.enable",title:"Enable Completions",enablement:"github.copilot.activated && !(config.editor.inlineSuggest.enabled && github.copilot.completions.enabled)",category:"GitHub Copilot"},{command:"github.copilot.completions.toggle",title:"Toggle (Enable/Disable) Completions",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"},{command:"github.copilot.openModelPicker",title:"Change Completions Model",category:"GitHub Copilot"},{command:"github.copilot.sendCompletionFeedback",title:"Send Copilot Completion Feedback",category:"GitHub Copilot"}],keybindings:[{command:"github.copilot.generate",key:"ctrl+enter",mac:"ctrl+enter",when:"editorTextFocus && !commentEditorFocused"},{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"}],configuration:[{title:"GitHub Copilot",properties:{"github.copilot.selectedCompletionModel":{type:"string",default:"",markdownDescription:'The currently selected completion model ID. To select from a list of available models, use the __"Change Completion Model"__ command or open the model picker from the Copilot menu. The value must be a valid model ID. An empty value indicates that the default model will be used.'},"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},authPermissions:{type:"string",enum:["default","minimal"],markdownEnumDescriptions:["Default (recommended) - The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.","Minimal - The minimal permissions required for Copilot functionality."],default:"default",markdownDescription:"Controls what kind of permissions are asked for when signing in to Copilot. The options are\n* `default` - (strongly recommended) The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.\n* `minimal` - The minimal permissions are the least that Copilot needs to function. Some features may behave slower or not at all."},useLanguageServer:{type:"boolean",default:!1,description:"Experimental: Use language server"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],deprecationMessage:"Set overrideLogLevels.* to ERROR to filter out unwanted categories.",description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",scope:"window",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"This setting has no effect. Please use github.copilot.enable instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,deprecationMessage:"This setting is deprecated. Please use github.copilot.enable instead.",description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},jst={build:"tsx esbuild.ts",clean:"./script/build/clean.sh",compress:"tsx ./script/compressTokenizer.ts","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"tsx script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"tsx script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --quiet --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build","pretest:lib-e2e":"npm run build",prewatch:"npm run build","prewatch:esbuild":"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent "test:lib-e2e --ignore-scripts" test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.{ts,tsx}"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.{ts,tsx}"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.{ts,tsx}" --exclude "lib/e2e/src/prompt/**/*.test.ts"',"test:lib-e2e-no-ci":'mocha "lib/e2e/no-ci/**/*.test.{ts,tsx}"',"test:lib-prompt-e2e":'mocha "lib/e2e/src/prompt/prompt.test.ts"',"test:lib-prompt-e2e-perf":"INCLUDE_PERFORMANCE=true npm run test:lib-prompt-e2e","test:lsp-client":'mocha "lsp-client/test/*.test.{ts,tsx}"',"test:prompt":'mocha "prompt/test/**/*.test.{ts,tsx}"',"vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package --allow-missing-repository",watch:'run-p "watch:esbuild --ignore-scripts" "watch:types -- --preserveWatchOutput"',"watch:esbuild":"tsx esbuild.ts --watch","watch:types":"tsc --noEmit --watch"},Vst={"@datadog/datadog-ci":"^3.4.0","@github/prettier-config":"0.0.6","@limegrass/eslint-plugin-import-alias":"^1.5.0","@parcel/watcher":"^2.5.1","@types/benchmark":"^2.1.5","@types/crypto-js":"^4.2.2","@types/diff":"^7.0.2","@types/git-url-parse":"^16.0.0","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.10","@types/node":"~20.8.0","@types/semver":"^7.7.0","@types/sinon":"^17.0.4","@types/uuid":"^10.0.0","@types/vscode":"1.98.0","@types/yargs":"^17.0.24","@vscode/test-electron":"^2.5.2","@vscode/vsce":"^3.3.2","@yao-pkg/pkg":"^6.4.0",benchmark:"^2.1.4",boxen:"^8.0.1",chalk:"^5.4.1","dependency-cruiser":"^16.10.0",electron:"^28.1.4",esbuild:"^0.25.3","esbuild-plugin-copy":"^2.1.1",eslint:"^9.25.1","eslint-formatter-visualstudio":"^8.40.0","eslint-plugin-mocha":"^10.5.0",fantasticon:"^3.0.0",glob:"^11.0.2",globals:"^16.0.0","js-yaml":"^4.1.0",mocha:"^11.1.0","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",prettier:"^3.5.3","prettier-plugin-organize-imports":"^4.1.0",proxy:"^2.1.1","simple-git":"^3.27.0",sinon:"^20.0.0","ts-dedent":"^2.2.0",tsx:"^4.19.3",typescript:"^5.8.3","typescript-eslint":"^8.31.0","vscode-dts":"^0.3.3"},$st={"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/memoize":"1.1.5","@microsoft/1ds-post-js":"^4.3.6","@microsoft/applicationinsights-web-basic":"^3.3.6","@microsoft/tiktokenizer":"^1.0.10","@modelcontextprotocol/sdk":"^1.10.2","@sinclair/typebox":"^0.34.33","@types/vscode-webview":"^1.57.4","@vscode/codicons":"^0.0.36","@vscode/prompt-tsx":"0.3.0-alpha.21","@vscode/webview-ui-toolkit":"^1.3.1","await-lock":"^2.2.2","crypto-js":"^4.2.0",diff:"^7.0.0",dldr:"^0.0.10","get-stream":"^6.0.1","git-url-parse":"^16.0.3",kerberos:"^2.2.0","mac-ca":"^3.1.1",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^10.1.1","os-browserify":"^0.3.0","path-browserify":"^1.0.1",semver:"^7.7.1",shiki:"~1.15.0","source-map-support":"^0.5.21",sqlite3:"^5.1.7",uuid:"^11.1.0","vscode-languageclient":"^9.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.1.0","web-tree-sitter":"^0.20.8","windows-ca-certs":"^0.1.0",yargs:"^17.7.2"},zst={fsevents:"<0",bindings:"npm:bundled-bindings@^1.5.0"},Yst={name:Est,displayName:Ist,description:Tst,version:wst,build:_st,buildType:Sst,publisher:kst,preview:Rst,homepage:Bst,license:Dst,bugs:Pst,qna:Fst,icon:Nst,pricing:Lst,extensionPack:Qst,engines:Mst,categories:Ost,keywords:Ust,badges:qst,activationEvents:Wst,main:Gst,enabledApiProposals:Hst,contributes:jZ,scripts:jst,devDependencies:Vst,dependencies:$st,overrides:zst};var Rt={Enable:"enable",UserSelectedCompletionModel:"selectedCompletionModel",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",RelatedFilesVSCodeCSharp:"advanced.relatedFilesVSCodeCSharp",RelatedFilesVSCodeTypeScript:"advanced.relatedFilesVSCodeTypeScript",RelatedFilesVSCode:"advanced.relatedFilesVSCode",ExcludeOpenTabFilesCSharp:"advanced.excludeOpenTabFilesCSharp",ExcludeOpenTabFilesCpp:"advanced.excludeOpenTabFilesCpp",ExcludeOpenTabFilesTypeScript:"advanced.excludeOpenTabFilesTypeScript",FallbackToOpenTabFilesWithNoRelatedFiles:"advanced.fallbackToOpenTabFilesWithNoRelatedFiles",ContextProviders:"advanced.contextProviders",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher",UseSubsetMatching:"advanced.useSubsetMatching",EnablePromptComponents:"advanced.enablePromptComponents",ContextProviderTimeBudget:"advanced.contextProviderTimeBudget",DebugOverrideCapiUrl:"internal.capiUrl",DebugOverrideCapiUrlLegacy:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"internal.capiTestUrl",DebugTestOverrideCapiUrlLegacy:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"internal.completionsUrl",DebugOverrideProxyUrlLegacy:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"internal.completionsTestUrl",DebugTestOverrideProxyUrlLegacy:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"internal.completionModel",DebugOverrideEngineLegacy:"advanced.debug.overrideEngine",UseAsyncCompletions:"internal.useAsyncCompletions",EnableSpeculativeRequests:"internal.enableSpeculativeRequests",EnablePrefixCache:"internal.enablePrefixCache",AlwaysRequestMultiline:"internal.alwaysRequestMultiline",TrimCompletionsAggressively:"internal.trimCompletionsAggressively",VSCodeDebounceThreshold:"internal.vscodeDebounceThreshold",RecentEditsInPrompt:"internal.recentEditsInPrompt",RecentEditsEditCount:"internal.recentEditsEditCount",RecentEditsMaxFiles:"internal.recentEditsMaxFiles",RecentEditsContextLines:"internal.recentEditsContextLines",RecentEditsRemoveDeletedLines:"internal.recentEditsRemoveDeletedLines",InsertionsBeforeDeletions:"internal.recentEditsInsertionsBeforeDeletions",RecentEditsAppendNoReplyMarker:"internal.recentEditsAppendNoReplyMarker",RecentEditsMaxLinesBetweenEdits:"internal.recentEditsMaxLinesBetweenEdits",RecentEditsActiveDocDistanceLimitFromCursor:"internal.recentEditsActiveDocDistanceLimitFromCursor",RecentEditsSummarizationFormat:"internal.recentEditsSummarizationFormat",IncludeNeighboringFiles:"internal.includeNeighboringFiles",DebugOverrideCppHeadersShutdownSwitch:"internal.cppHeadersShutdownSwitch"};function y3e(e){return["server","parsingandserver"].includes(e)}o(y3e,"shouldDoServerTrimming");var zm=class{static{o(this,"BlockModeConfig")}},CI=class extends zm{static{o(this,"ConfigBlockModeConfig")}forLanguage(t,r,n){let i=t.get(xr).overrideBlockMode(n);if(i)return g3e(i,r);let s=t.get(xr).enableProgressiveReveal(n);return jn(t,Rt.AlwaysRequestMultiline)??s?g3e("moremultiline",r):r=="ruby"?"parsing":Ju(r)?"parsingandserver":"server"}};function Kst(e){return["parsing","parsingandserver","moremultiline"].includes(e)}o(Kst,"blockModeRequiresTreeSitter");function g3e(e,t){return Kst(e)&&!Ju(t)?"server":e}o(g3e,"toApplicableBlockMode");var Op=class{static{o(this,"ConfigProvider")}},xI=class extends Op{static{o(this,"DefaultsOnlyConfigProvider")}getConfig(t){return Zst(t)}getOptionalConfig(t){return Xst(t)}dumpForTelemetry(){return{}}},b4=class extends Op{constructor(r,n){super();this.baseConfigProvider=r;this.overrides=n}static{o(this,"InMemoryConfigProvider")}getOptionalOverride(r){return this.overrides.get(r)}getConfig(r){return this.getOptionalOverride(r)??this.baseConfigProvider.getConfig(r)}getOptionalConfig(r){return this.getOptionalOverride(r)??this.baseConfigProvider.getOptionalConfig(r)}setConfig(r,n){n!==void 0?this.overrides.set(r,n):this.overrides.delete(r)}dumpForTelemetry(){let r=this.baseConfigProvider.dumpForTelemetry();for(let n of[Rt.ShowEditorCompletions,Rt.EnableAutoCompletions,Rt.DelayCompletions,Rt.FilterCompletions]){let i=this.overrides.get(n);i!==void 0&&(r[n]=JSON.stringify(i))}return r}};function Jst(e){return e?.type==="object"&&"properties"in e}o(Jst,"isContributesObject");function C3e(e,t){let r=e,n=[];for(let i of t.split(".")){let s=[...n,i].join(".");r&&typeof r=="object"&&s in r?(r=r[s],n.length=0):n.push(i)}if(!(r===void 0||n.length>0))return r}o(C3e,"getConfigKeyRecursively");function Zst(e){if(yI.has(e))return yI.get(e);throw new Error(`Missing config default value: ${BT}.${e}`)}o(Zst,"getConfigDefaultForKey");function Xst(e){return yI.get(e)}o(Xst,"getOptionalConfigDefaultForKey");var yI=new Map([[Rt.DebugOverrideCppHeadersShutdownSwitch,!1],[Rt.RelatedFilesVSCodeCSharp,!1],[Rt.RelatedFilesVSCodeTypeScript,!1],[Rt.RelatedFilesVSCode,!1],[Rt.ExcludeOpenTabFilesCSharp,!1],[Rt.ExcludeOpenTabFilesCpp,!1],[Rt.ExcludeOpenTabFilesTypeScript,!1],[Rt.FallbackToOpenTabFilesWithNoRelatedFiles,!1],[Rt.IncludeNeighboringFiles,!1],[Rt.ContextProviders,[]],[Rt.DebugUseEditorFetcher,null],[Rt.DebugUseElectronFetcher,null],[Rt.DebugOverrideLogLevels,{}],[Rt.DebugSnippyOverrideUrl,""],[Rt.FetchStrategy,"auto"],[Rt.UseSubsetMatching,null],[Rt.EnablePromptComponents,!1],[Rt.ContextProviderTimeBudget,150],[Rt.DebugOverrideCapiUrl,""],[Rt.DebugTestOverrideCapiUrl,""],[Rt.DebugOverrideProxyUrl,""],[Rt.DebugTestOverrideProxyUrl,""],[Rt.DebugOverrideEngine,""],[Rt.UseAsyncCompletions,void 0],[Rt.EnableSpeculativeRequests,void 0],[Rt.EnablePrefixCache,void 0],[Rt.AlwaysRequestMultiline,void 0],[Rt.TrimCompletionsAggressively,void 0],[Rt.VSCodeDebounceThreshold,void 0],[Rt.RecentEditsInPrompt,void 0],[Rt.RecentEditsEditCount,void 0],[Rt.RecentEditsMaxFiles,void 0],[Rt.RecentEditsContextLines,void 0],[Rt.RecentEditsRemoveDeletedLines,void 0],[Rt.InsertionsBeforeDeletions,void 0],[Rt.RecentEditsAppendNoReplyMarker,void 0],[Rt.RecentEditsMaxLinesBetweenEdits,void 0],[Rt.RecentEditsActiveDocDistanceLimitFromCursor,void 0],[Rt.RecentEditsSummarizationFormat,void 0],[Rt.ShowEditorCompletions,void 0],[Rt.DelayCompletions,void 0],[Rt.FilterCompletions,void 0]]);for(let e of Object.values(Rt)){let t=jZ.configuration[0],r=[],n=`${BT}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let i=t.properties[r.join(".")];if(Jst(i))r.length=0,t=i;else if(n.length==0&&i?.default!==void 0){if(yI.has(e))throw new Error(`Duplicate config default value ${BT}.${e}`);yI.set(e,i.default)}}if(!yI.has(e))throw new Error(`Missing config default value ${BT}.${e}`)}function jn(e,t){return e.get(Op).getConfig(t)}o(jn,"getConfig");function A5e(e){return e.get(Op).dumpForTelemetry()}o(A5e,"dumpForTelemetry");var Eo=class{constructor(){this.packageJson=HZ}static{o(this,"BuildInfo")}isPreRelease(){return this.getBuildType()==="nightly"}isProduction(){return this.getBuildType()!=="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};function jF(e){return e.get(Eo).isProduction()}o(jF,"isProduction");function ud(e){return e.get(Eo).getBuildType()}o(ud,"getBuildType");function y5e(e){return e.get(Eo).getBuild()}o(y5e,"getBuild");function d4(e){return e.get(Eo).getVersion()}o(d4,"getVersion");var ws=class{constructor(t,r,n="none",i="desktop"){this.sessionId=t;this.machineId=r;this.remoteName=n;this.uiKind=i}static{o(this,"EditorSession")}};function Dp({name:e,version:t}){return`${e}/${t}`}o(Dp,"formatNameAndVersion");var dn=class{static{o(this,"EditorAndPluginInfo")}getCopilotIntegrationId(){}},sZ="2025-05-01";function Ec(e){let t=e.get(dn);return{"X-GitHub-Api-Version":sZ,"Editor-Version":Dp(t.getEditorInfo()),"Editor-Plugin-Version":Dp(t.getEditorPluginInfo()),"Copilot-Language-Server-Version":d4(e)}}o(Ec,"editorVersionHeaders");var A3e="Iv1.b507a08c87ecfe98",Xs=class{static{o(this,"GitHubAppInfo")}findAppIdToAuthenticate(){return this.githubAppId??A3e}fallbackAppId(){return A3e}};d();d();d();var E4={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};d();d();var x3e=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],v3e={".php":[".blade"]},kw=Object.keys(E4).flatMap(e=>E4[e].extensions);var VZ=et(require("node:path"));var bI=class{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}static{o(this,"Language")}},Rw=class{static{o(this,"LanguageDetection")}},$Z=new Map,vI=new Map;for(let[e,{extensions:t,filenames:r}]of Object.entries(E4)){for(let n of t)$Z.set(n,[...$Z.get(n)??[],e]);for(let n of r??[])vI.set(n,[...vI.get(n)??[],e])}var zZ=class extends Rw{static{o(this,"FilenameAndExensionLanguageDetection")}detectLanguage(t){let r=Di(t.uri),n=VZ.extname(r).toLowerCase(),i=this.extensionWithoutTemplateLanguage(r,n),s=this.detectLanguageId(r,i),a=this.computeFullyQualifiedExtension(n,i);return s?new bI(s.languageId,s.isGuess,a):new bI(t.languageId,!0,a)}extensionWithoutTemplateLanguage(t,r){if(x3e.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),i=VZ.extname(n).toLowerCase();if(i.length>0&&kw.includes(i)&&this.isExtensionValidForTemplateLanguage(r,i))return i}return r}isExtensionValidForTemplateLanguage(t,r){let n=v3e[t];return!n||n.includes(r)}detectLanguageId(t,r){if(vI.has(t))return{languageId:vI.get(t)[0],isGuess:!1};let n=$Z.get(r)??[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;t.includes(".");)if(t=t.replace(/\.[^.]*$/,""),vI.has(t))return{languageId:vI.get(t)[0],isGuess:!1}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}},YZ=class extends Rw{constructor(r){super();this.delegate=r}static{o(this,"GroupingLanguageDetection")}detectLanguage(r){let n=this.delegate.detectLanguage(r),i=n.languageId;return i==="c"||i==="cpp"?new bI("cpp",n.isGuess,n.fileExtension):n}},KZ=class extends Rw{constructor(r){super();this.delegate=r}static{o(this,"ClientProvidedLanguageDetection")}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new bI(r.languageId,!0,""):this.delegate.detectLanguage(r)}},eat=new YZ(new KZ(new zZ));function EI({uri:e,languageId:t}){let r=eat.detectLanguage({uri:e,languageId:"UNKNOWN"});return r.languageId==="UNKNOWN"?t:r.languageId}o(EI,"detectLanguage");d();d();d();d();function G1(e){if(e.isCancellationRequested)throw new UN}o(G1,"throwIfCancellationRequested");function Bw(e){return e instanceof UN?!0:e instanceof Error&&e.name===JZ&&e.message===JZ}o(Bw,"isCancellationError");var UN=class extends Error{static{o(this,"CancellationError")}constructor(){super(JZ),this.name=this.message}},JZ="Canceled",qN=class{constructor(){this.items=[]}static{o(this,"Stack")}push(t){this.items.push(t)}pop(){return this.items.pop()}peek(){return this.items[this.items.length-1]}tryPeek(){return this.items.length>0}toArray(){return this.items}};function I4(e){switch(e){case 0:case 2:case 7:case 8:case 11:case 12:case 13:case 14:return!0;default:return!1}}o(I4,"isTypeDefinition");var hd=class e{static{o(this,"TextRange")}static{this.empty=new e(0,0)}constructor(t,r){this.start=t,this.length=r}static fromBounds(t,r){return new e(t,r-t)}get end(){return this.start+this.length}contains(t){return this.start<=t&&this.end>=t}containsRange(t){return this.start<=t.start&&this.end>=t.end}equals(t){return this.start===t.start&&this.length===t.length}getText(t){return t.slice(this.start,this.end)}getTextWithIndentation(t,r){let n=[],i=this.start;for(i=E3e(t,t.length,i),b3e(n,r);i<this.end;)t[i]!=="\r"&&t[i]!==`
`?n.push(t[i++]):t[i]==="\r"&&i<t.length&&t[i+1]!==`
`||t[i]===`
`?(n.push(`
`),i=E3e(t,t.length,++i),b3e(n,r)):i++;return n.join("")}};function b3e(e,t){for(let r=0;r<t;r++)e.push(" ")}o(b3e,"appendIndent");function E3e(e,t,r){for(;r<t&&(e[r]===" "||e[r]==="	");)r++;return r}o(E3e,"consumeIndent");var II=class{constructor(t,r,n,i,s,a,l,c,u){this.fileName=t;this.fullyQualifiedName=r;this.unqualifiedName=n;this.commentRange=i;this.nameRange=s;this.bodyRange=a;this.extentRange=l;this.kind=c;this.refKind=u;if(t.indexOf("\\")!==-1)throw new Error("fileName must be normalized to use forward slashes as path separators")}static{o(this,"SymbolRange")}equals(t){return this.fileName===t.fileName&&this.fullyQualifiedName===t.fullyQualifiedName&&this.unqualifiedName===t.unqualifiedName&&this.commentRange.equals(t.commentRange)&&this.nameRange.equals(t.nameRange)&&this.bodyRange.equals(t.bodyRange)&&this.extentRange.equals(t.extentRange)&&this.kind===t.kind&&this.refKind===t.refKind}},Ym=class e{constructor(){this.queriesCache=new Map}static{o(this,"SymbolExtractorBase")}async executeQuery(t,r,n){let i;try{i=await q1(this.languageId,r);let s=i.getLanguage(),l=this.getOrCreateQuery(s,n).matches(i.rootNode),c=new qN,u=[];for(let f of l){let m=this.createSymbolRange(c,t,r,f.captures);m&&u.push(m)}return u}finally{i?.delete()}}getOrCreateQuery(t,r){let n=this.queriesCache.get(r);return n||(n=t.query(r),this.queriesCache.set(r,n)),n}createSymbolRange(t,r,n,i){let s=0,a=0,l=0,c=0,u=0,f=0,m=0,h=0,p=null,A=null;for(let E=0;E<i.length;E++){let b=i[E].name;b==="name"?(u=i[E].node.startIndex,f=i[E].node.endIndex):b==="reference"?(u=i[E].node.startIndex,f=i[E].node.endIndex,l=i[E].node.startIndex,c=i[E].node.endIndex,p=b):b==="body"?(m=i[E].node.startIndex,h=i[E].node.endIndex):b==="comment"?(s=s===0?i[E].node.startIndex:Math.min(s,i[E].node.startIndex),a=Math.max(a,i[E].node.endIndex)):b==="receiver"?A=hd.fromBounds(i[E].node.startIndex,i[E].node.endIndex).getText(n):(l=i[E].node.startIndex,c=i[E].node.endIndex,p=b)}p==="definition.module.filescoped"&&(h=n.length,c=h);let x=hd.fromBounds(l,c),v=l>0||c>0||u>0||f>0?new II(r,"","",hd.fromBounds(s,a),hd.fromBounds(u,f),hd.fromBounds(m,h),x,e.kindFromString(p),0):null;if(v){e.updateScopesForSymbol(t,v);let E=v.nameRange.getText(n),b=this.createNameFromScopes(n,t.toArray());return b=A?`${A}.${b}`:b,new II(r,b,E.substring(E.lastIndexOf(".")+1),v.commentRange,v.nameRange,v.bodyRange,v.extentRange,v.kind,0)}return null}static updateScopesForSymbol(t,r){for(;t.tryPeek()&&!t.peek()?.extentRange.containsRange(r.extentRange);)t.pop();t.push(r)}static kindFromString(t){switch(t){case"definition.class":return 0;case"definition.constant":return 1;case"definition.enum_variant":return 3;case"definition.enum":return 2;case"definition.field":return 4;case"definition.function":return 5;case"definition.implementation":return 6;case"definition.interface":return 7;case"definition.macro":return 8;case"definition.method":return 9;case"definition.module":case"definition.module.filescoped":return 10;case"definition.struct":return 11;case"definition.trait":return 12;case"definition.type":return 13;case"definition.union":return 14;case"reference":return 16;default:throw new Error("NotSupportedException")}}};var WN=class extends Ym{static{o(this,"GoSymbolExtractor")}get languageId(){return"go"}extractSymbols(t,r){return this.executeQuery(t,r,tat)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},GN=class extends Ym{static{o(this,"GoReferenceExtractor")}get languageId(){return"go"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}extractReferences(t,r){return this.executeQuery(t,r,rat)}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,nat),s=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...s.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}},tat=`
(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (struct_type (field_declaration_list) @body))) @definition.struct
)

(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (interface_type (_)) @body)) @definition.interface
)

(
    ((comment)* @comment)
    .
    (method_declaration receiver: (parameter_list (parameter_declaration type: [(type_identifier) @receiver (pointer_type (type_identifier) @receiver)] )) name: (_) @name body: (_) @body) @definition.method
)

(
    ((comment)* @comment)
    .
    (method_elem name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (function_declaration name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (field_declaration name: (_) @name) @definition.field
)
`,rat=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`,nat=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`;d();var HN=class extends Ym{static{o(this,"JavaSymbolExtractor")}get languageId(){return"java"}extractSymbols(t,r){return this.executeQuery(t,r,iat)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},jN=class extends Ym{static{o(this,"JavaReferenceExtractor")}get languageId(){return"java"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}extractReferences(t,r){return this.executeQuery(t,r,oat)}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,sat),s=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...s.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}},iat=`
(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (class_declaration name: (identifier) @name body: (class_body) @body) @definition.class
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (constructor_declaration name: (identifier) @name body: (constructor_body) @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (method_declaration name: (identifier) @name body: (block)? @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (interface_declaration name: (identifier) @name body: (interface_body) @body) @definition.interface
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (field_declaration declarator: (variable_declarator name: (identifier) @name)) @definition.field
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_declaration name: (_) @name body: (_) @body) @definition.enum
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_constant name: (identifier) @name) @definition.enum_variant
)
`,oat=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`,sat=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`;d();var aat=new Set(["int","str","float","bool","list","dict","tuple","set"]),VN=class extends Ym{static{o(this,"PythonSymbolExtractor")}get languageId(){return"python"}extractSymbols(t,r){return this.executeQuery(t,r,lat)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},$N=class extends Ym{static{o(this,"PythonReferenceExtractor")}get languageId(){return"python"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}async extractReferences(t,r){return(await this.executeQuery(t,r,cat)).filter(i=>!aat.has(i.unqualifiedName))}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,uat),s=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...s.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}},lat=`
(
    ((comment)* @comment)
    .
    (class_definition name: (_) @name body: (_) @body) @definition.class
)

(
    ((comment)* @comment)
    .
    (function_definition name: (_) @name body: (_) @body) @definition.method
)
`,cat=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
]) @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`,uat=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
])  @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`;var zN=[{symbolExtractor:new HN,referenceExtractor:new jN,languageId:"java"},{symbolExtractor:new WN,referenceExtractor:new GN,languageId:"go"},{symbolExtractor:new VN,referenceExtractor:new $N,languageId:"python"}];function T3e(e){let t=EI({uri:e});if(t&&zN.some(r=>t===r.languageId))return t}o(T3e,"getSupportedLanguageIdForFallbackProvider");var w3e=zN.map(e=>e.referenceExtractor),YN=zN.map(e=>e.symbolExtractor),ZZ=zN.map(e=>E4[e.languageId].extensions).flat();d();d();d();d();d();d();d();d();var fat={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},dat=Tw(fat);function _3e(e){let t=e;return Iw(t,dat),t=LZ(t),t=v4(t),BN(t),Dc(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!rc(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}o(_3e,"processJava");d();var mat={heading:/^# /,subheading:/^## /,subsubheading:/### /},hat=Tw(mat);function S3e(e){let t=e;if(Iw(t,hat),rc(t))return t;function r(s){if(s.label==="heading")return 1;if(s.label==="subheading")return 2;if(s.label==="subsubheading")return 3}o(r,"headingLevel");let n=[t],i=[...t.subs];t.subs=[];for(let s of i){let a=r(s);if(a===void 0||rc(s))n[n.length-1].subs.push(s);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(s),n[a]=s;n.length>a+1;)n.pop()}}return t=c3e(t),t=v4(t),BN(t),t}o(S3e,"processMarkdown");d();function k3e(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}o(k3e,"deparseLine");QZ("markdown",S3e);QZ("java",_3e);var pat={worthUp:.9,worthSibling:.88,worthDown:.8};function XZ(e,t,r=go(),n=pat){let i=x4(e,s=>s?1:void 0);return Dc(i,s=>{if(rc(s))return;let a=s.subs.reduce((l,c)=>Math.max(l,c.label??0),0);s.label=Math.max(s.label??0,a*n.worthUp)},"bottomUp"),Dc(i,s=>{if(rc(s))return;let a=s.subs.map(u=>u.label??0),l=[...a];for(let u=0;u<a.length;u++)a[u]!==0&&(l=l.map((f,m)=>Math.max(f,Math.pow(n.worthSibling,Math.abs(u-m))*a[u])));let c=s.label;c!==void 0&&(l=l.map(u=>Math.max(u,n.worthDown*c))),s.subs.forEach((u,f)=>u.label=l[f])},"topDown"),gat(i,t,r)}o(XZ,"fromTreeWithFocussedLines");function gat(e,t,r=go()){let n=NZ(e,[],(i,s)=>((i.type==="line"||i.type==="blank")&&s.push(i.type==="line"?[k3e(i).trimEnd(),i.label??0]:["",i.label??0]),s),"topDown");return new tr(n,t,r)}o(gat,"fromTreeWithValuedLines");function Zu(e,t=!0,r=!0,n,i=go()){let s=typeof e=="string"?ww(e):ww(e.source,e.languageId);v4(s);let a=x4(s,l=>t&&l!=="closer");return Dc(a,l=>{l.label===void 0&&(l.label=t&&l.label!==!1)},"topDown"),t&&Dc(a,l=>{if(l.label){let c=!1;for(let u of[...l.subs].reverse())u.label&&!c?c=!0:u.label=!1}else for(let c of l.subs)c.label=!1;l.subs.length>0&&(l.label=!1)},"topDown"),r&&Dc(a,l=>{l.label||=(y4(l)||rc(l))&&l.lineNumber==0},"topDown"),XZ(a,n,i)}o(Zu,"elidableTextForSourceCode");d();var Dw=class e{constructor(t,r,n,i="strict",s){this.text=t;this._value=r;this._cost=n;this.metadata=s;if(t.includes(`
`)&&i!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&i!=="none")throw new Error("LineWithValueAndCost: value is negative");if(n<0&&i!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(i=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}static{o(this,"LineWithValueAndCost")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>go().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new e(this.text,this.value,this.cost,"none",this.metadata)}};var tr=class e{constructor(t,r,n=go()){this.metadata=r;this.tokenizer=n;this.lines=[];let i=[];for(let s of t){let a=Array.isArray(s)?s[1]:1,l=Array.isArray(s)?s[0]:s;typeof l=="string"?l.split(`
`).forEach(c=>i.push(new Dw(c,a,n.tokenLength(c+`
`),"strict",this.metadata))):l instanceof e?l.lines.forEach(c=>i.push(c.copy().adjustValue(a))):"source"in l&&"languageId"in l&&Zu(l).lines.forEach(c=>i.push(c.copy().adjustValue(a)))}this.lines=i}static{o(this,"ElidableText")}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>go().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}elide(t,r="[...]",n=!0,i="removeLeastDesirable",s=this.tokenizer){let a=this.lines.map(l=>l.copy());return Aat(a,t,r,n,i,s)}};function Aat(e,t,r,n,i,s){if(s.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");i==="removeLeastBangForBuck"&&e.forEach(m=>m.adjustValue(1/m.cost));let a=e.reduce((m,h)=>Math.max(m,h.value),0)+1,l=e.reduce((m,h)=>Math.max(m,h.text.length),0)+1,c=r.trim(),u=e.reduce((m,h)=>m+h.cost,0),f=e.length+1;for(;u>t&&f-->=-1;){let m=e.reduce((b,_)=>_.value<b.value?_:b),h=e.indexOf(m),p=e.slice(0,h+1).reverse().find(b=>b.text.trim()!=="")??{text:""},A=n?Math.min(p.text.match(/^\s*/)?.[0].length??0,e[h-1]?.text.trim()===c?e[h-1]?.text.match(/^\s*/)?.[0].length??0:l,e[h+1]?.text.trim()===c?e[h+1]?.text.match(/^\s*/)?.[0].length??0:l):0,x=" ".repeat(A)+r,v=new Dw(x,a,s.tokenLength(x+`
`),"loose",m.metadata);e.splice(h,1,v),e[h+1]?.text.trim()===c&&e.splice(h+1,1),e[h-1]?.text.trim()===c&&e.splice(h-1,1);let E=e.reduce((b,_)=>b+_.cost,0);E>=u&&e.every(b=>b.value===a)&&(n=!1),u=E}if(f<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return{getText:o(()=>e.map(m=>m.text).join(`
`),"getText"),getLines:o(()=>e,"getLines")}}o(Aat,"elide");d();d();function Km(){}o(Km,"Diff");Km.prototype={diff:o(function(t,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.callback;typeof i=="function"&&(s=i,i={});var a=this;function l(R){return R=a.postProcess(R,i),s?(setTimeout(function(){s(R)},0),!0):R}o(l,"done"),t=this.castInput(t,i),r=this.castInput(r,i),t=this.removeEmpty(this.tokenize(t,i)),r=this.removeEmpty(this.tokenize(r,i));var c=r.length,u=t.length,f=1,m=c+u;i.maxEditLength!=null&&(m=Math.min(m,i.maxEditLength));var h=(n=i.timeout)!==null&&n!==void 0?n:1/0,p=Date.now()+h,A=[{oldPos:-1,lastComponent:void 0}],x=this.extractCommon(A[0],r,t,0,i);if(A[0].oldPos+1>=u&&x+1>=c)return l(R3e(a,A[0].lastComponent,r,t,a.useLongestToken));var v=-1/0,E=1/0;function b(){for(var R=Math.max(v,-f);R<=Math.min(E,f);R+=2){var P=void 0,F=A[R-1],W=A[R+1];F&&(A[R-1]=void 0);var se=!1;if(W){var de=W.oldPos-R;se=W&&0<=de&&de<c}var re=F&&F.oldPos+1<u;if(!se&&!re){A[R]=void 0;continue}if(!re||se&&F.oldPos<W.oldPos?P=a.addToPath(W,!0,!1,0,i):P=a.addToPath(F,!1,!0,1,i),x=a.extractCommon(P,r,t,R,i),P.oldPos+1>=u&&x+1>=c)return l(R3e(a,P.lastComponent,r,t,a.useLongestToken));A[R]=P,P.oldPos+1>=u&&(E=Math.min(E,R-1)),x+1>=c&&(v=Math.max(v,R+1))}f++}if(o(b,"execEditLength"),s)o(function R(){setTimeout(function(){if(f>m||Date.now()>p)return s();b()||R()},0)},"exec")();else for(;f<=m&&Date.now()<=p;){var _=b();if(_)return _}},"diff"),addToPath:o(function(t,r,n,i,s){var a=t.lastComponent;return a&&!s.oneChangePerToken&&a.added===r&&a.removed===n?{oldPos:t.oldPos+i,lastComponent:{count:a.count+1,added:r,removed:n,previousComponent:a.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:r,removed:n,previousComponent:a}}},"addToPath"),extractCommon:o(function(t,r,n,i,s){for(var a=r.length,l=n.length,c=t.oldPos,u=c-i,f=0;u+1<a&&c+1<l&&this.equals(n[c+1],r[u+1],s);)u++,c++,f++,s.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return f&&!s.oneChangePerToken&&(t.lastComponent={count:f,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=c,u},"extractCommon"),equals:o(function(t,r,n){return n.comparator?n.comparator(t,r):t===r||n.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:o(function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},"removeEmpty"),castInput:o(function(t){return t},"castInput"),tokenize:o(function(t){return Array.from(t)},"tokenize"),join:o(function(t){return t.join("")},"join"),postProcess:o(function(t){return t},"postProcess")};function R3e(e,t,r,n,i){for(var s=[],a;t;)s.push(t),a=t.previousComponent,delete t.previousComponent,t=a;s.reverse();for(var l=0,c=s.length,u=0,f=0;l<c;l++){var m=s[l];if(m.removed)m.value=e.join(n.slice(f,f+m.count)),f+=m.count;else{if(!m.added&&i){var h=r.slice(u,u+m.count);h=h.map(function(p,A){var x=n[f+A];return x.length>p.length?x:p}),m.value=e.join(h)}else m.value=e.join(r.slice(u,u+m.count));u+=m.count,m.added||(f+=m.count)}}return s}o(R3e,"buildValues");var L2r=new Km;function B3e(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}o(B3e,"longestCommonPrefix");function D3e(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}o(D3e,"longestCommonSuffix");function eX(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}o(eX,"replacePrefix");function tX(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}o(tX,"replaceSuffix");function Pw(e,t){return eX(e,t,"")}o(Pw,"removePrefix");function KN(e,t){return tX(e,t,"")}o(KN,"removeSuffix");function P3e(e,t){return t.slice(0,yat(e,t))}o(P3e,"maximumOverlap");function yat(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var n=t.length;e.length<t.length&&(n=e.length);var i=Array(n),s=0;i[0]=0;for(var a=1;a<n;a++){for(t[a]==t[s]?i[a]=i[s]:i[a]=s;s>0&&t[a]!=t[s];)s=i[s];t[a]==t[s]&&s++}s=0;for(var l=r;l<e.length;l++){for(;s>0&&e[l]!=t[s];)s=i[s];e[l]==t[s]&&s++}return s}o(yat,"overlapCount");var JN="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Cat=new RegExp("[".concat(JN,"]+|\\s+|[^").concat(JN,"]"),"ug"),ZN=new Km;ZN.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};ZN.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(s){return s.segment})}else r=e.match(Cat)||[];var n=[],i=null;return r.forEach(function(s){/\s/.test(s)?i==null?n.push(s):n.push(n.pop()+s):/\s/.test(i)?n[n.length-1]==i?n.push(n.pop()+s):n.push(i+s):n.push(s),i=s}),n};ZN.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};ZN.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,n=null,i=null;return e.forEach(function(s){s.added?n=s:s.removed?i=s:((n||i)&&F3e(r,i,n,s),r=s,n=null,i=null)}),(n||i)&&F3e(r,i,n,null),e};function F3e(e,t,r,n){if(t&&r){var i=t.value.match(/^\s*/)[0],s=t.value.match(/\s*$/)[0],a=r.value.match(/^\s*/)[0],l=r.value.match(/\s*$/)[0];if(e){var c=B3e(i,a);e.value=tX(e.value,a,c),t.value=Pw(t.value,c),r.value=Pw(r.value,c)}if(n){var u=D3e(s,l);n.value=eX(n.value,l,u),t.value=KN(t.value,u),r.value=KN(r.value,u)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),n&&(n.value=n.value.replace(/^\s*/,""));else if(e&&n){var f=n.value.match(/^\s*/)[0],m=t.value.match(/^\s*/)[0],h=t.value.match(/\s*$/)[0],p=B3e(f,m);t.value=Pw(t.value,p);var A=D3e(Pw(f,p),h);t.value=KN(t.value,A),n.value=eX(n.value,f,A),e.value=tX(e.value,f,f.slice(0,f.length-A.length))}else if(n){var x=n.value.match(/^\s*/)[0],v=t.value.match(/\s*$/)[0],E=P3e(v,x);t.value=KN(t.value,E)}else if(e){var b=e.value.match(/\s*$/)[0],_=t.value.match(/^\s*/)[0],R=P3e(b,_);t.value=Pw(t.value,R)}}o(F3e,"dedupeWhitespaceInChangeObjects");var xat=new Km;xat.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(JN,"]+|[^\\S\\n\\r]+|[^").concat(JN,"]"),"ug");return e.match(t)||[]};var oX=new Km;oX.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var s=n[i];i%2&&!t.newlineIsToken?r[r.length-1]+=s:r.push(s)}return r};oX.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),Km.prototype.equals.call(this,e,t,r)};var vat=new Km;vat.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var bat=new Km;bat.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function rX(e){"@babel/helpers - typeof";return rX=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rX(e)}o(rX,"_typeof");var Fw=new Km;Fw.useLongestToken=!0;Fw.tokenize=oX.tokenize;Fw.castInput=function(e,t){var r=t.undefinedReplacement,n=t.stringifyReplacer,i=n===void 0?function(s,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(nX(e,null,null,i),i,"  ")};Fw.equals=function(e,t,r){return Km.prototype.equals.call(Fw,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};function nX(e,t,r,n,i){t=t||[],r=r||[],n&&(e=n(i,e));var s;for(s=0;s<t.length;s+=1)if(t[s]===e)return r[s];var a;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),s=0;s<e.length;s+=1)a[s]=nX(e[s],t,r,n,i);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),rX(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var l=[],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&l.push(c);for(l.sort(),s=0;s<l.length;s+=1)c=l[s],a[c]=nX(e[c],t,r,n,c);t.pop(),r.pop()}else a=e;return a}o(nX,"canonicalize");var iX=new Km;iX.tokenize=function(e){return e.slice()};iX.join=iX.removeEmpty=function(e){return e};var N3e=require("fs");async function L3e(e,t,r,n,i){let s=new Map,a=0;for(let m of e){let h=m.node.fileName.toLowerCase(),p=s.get(h);p?p.symbols.push(m):s.set(h,{symbols:[m],topRank:a}),a++}if(s.delete(r.toLowerCase()),s.size===0)return[];let l=t,c=t/Math.min(4,s.size),u=[],f=Array.from(s.keys());f.sort((m,h)=>{let p=s.get(m).topRank,A=s.get(h).topRank;return p-A});for(let m of f){let h=s.get(m).symbols;if(h.length===0)continue;let p=h[0].node.fileName,A=h.reduce((x,v)=>x+v.node.extentRange.length,0);for(let x of h){if(l<=5)return u;G1(i);let v=x.node.extentRange.length/A,E=Math.min(l,v*c),b=(await Iat([x])).elide(E).getText();l-=n.tokenLength(b),u.push({uri:p,value:b})}}return u}o(L3e,"symbolRangesToCodeSnippets");async function Iat(e){if(e.length===0)return new tr([]);let t=e[0].node.fileName,r=[],n="";try{let i=Mo(t);i&&(n=(await N3e.promises.readFile(i)).toString())}catch{}for(let i of e)Q3e(i,n).forEach(s=>r.push(s));return new tr(r)}o(Iat,"sameFileSymbolRangeToElidableText");function Q3e(e,t){let n=[],i=e.node,s=t.substring(sX(t,i.commentRange.start),i.commentRange.end);n.push([aX(s),1-3e-4]);let a=sX(t,i.bodyRange.start),l=sX(t,i.extentRange.start),c=i.bodyRange.length===0?t.substring(l,i.extentRange.end):t.substring(i.commentRange.length===0?l:i.commentRange.end,a);if(I4(i.kind)&&(c="BEGIN "+c.trimStart()),n.push([aX(c),1-1e-4]),e.children.length>0)for(let u of e.children)n.push(...Q3e(u,t));else{let u=1-(I4(e.node.kind)?3e-4:4e-4),f=t.substring(a,i.bodyRange.end);n.push([aX(f),u])}return I4(i.kind)&&n.push(["END "+c.substring(6),1-1e-4]),n.filter(u=>u[0].length>0)}o(Q3e,"prepareForElidableText");function sX(e,t){for(;t-1>=0&&(e[t-1]==="	"||e[t-1]===" ");)t--;return t}o(sX,"shiftLeftToNearestLineEndingOrAlphanumeric");function aX(e){let t=0;for(;t<e.length&&(e[t]==="\r"||e[t]===`
`);)t++;let r=e.length-1;for(;r>=0&&(e[r]==="\r"||e[r]===`
`||e[r]===" "||e[r]==="	");)r--;return e.substring(t,r+1)}o(aX,"trimLineEndingsAndTrailingWhitespace");var lX=class{constructor(t,r){this.referenceExtractors=new Map;this.index=t;for(let n of r)this.referenceExtractors.set(n.languageId,n)}static{o(this,"ContextRetrievalStrategy")}},Nw=class extends lX{static{o(this,"UnqualifiedNameRetrievalStrategy")}constructor(t,r,n,i){super(t,r),this.caseSensitive=n,this.typesOnly=i}async getContextAtPositionAsync(t,r,n,i,s){let a=this.referenceExtractors.get(i);if(!a)return[];G1(s);let l=await a.extractReferences(t,r);G1(s);let c=Array.from(l);c.sort((h,p)=>this.compareSymbolRangesByProximityToCaret(h,p,n));let u=[],f=new Set,m=await this.findDefinitionsViaUnqualifiedNames(c,s);this.typesOnly&&(m=m.filter(h=>I4(h.kind)));for(let h of m)f.has(JSON.stringify(h))||(f.add(JSON.stringify(h)),u.push(await this.makeSymbolRangeNodeFromDefinition(h,s)));return u}async findDefinitionsViaUnqualifiedNames(t,r){let n=Array.from(new Set(t.map(f=>f.unqualifiedName))),i=!this.caseSensitive,s=await this.index.findPotentialDefinitionsAsync(n,i,r),a=o(f=>i?f.toLowerCase():f,"lowercaseIfCaseInsensitive"),l=o(f=>a(f.unqualifiedName),"getSymbolKey"),c=new Map;for(let f of s){let m=l(f),h=c.get(m)??[];c.set(m,[...h,f])}let u=[];for(let f of n){let m=c.get(a(f));!m||m.length>20||u.push(...m)}return u}async makeSymbolRangeNodeFromDefinition(t,r){if(G1(r),I4(t.kind)){let n=await this.index.findSymbolsByFullyQualifiedNamePrefix(t.fileName,t.fullyQualifiedName+".",r),i=await Promise.all(n.map(s=>this.makeSymbolRangeNodeFromDefinition(s,r)));return{node:t,children:i}}else return{node:t,children:[]}}compareSymbolRangesByProximityToCaret(t,r,n){let i=t.extentRange.end<=n,s=r.extentRange.end<=n;if(i&&!s)return-1;if(!i&&s)return 1;let a=Math.abs(t.extentRange.start-n),l=Math.abs(r.extentRange.start-n);return a-l}},XN=class{constructor(t,r){this.strategies=new Map;this.strategies.set("go",new Nw(t,r,!0,!0)),this.strategies.set("java",new Nw(t,r,!0,!0)),this.strategies.set("python",new Nw(t,r,!0,!1))}static{o(this,"SyntaxAwareContextRetrieval")}async getStringifiedContextAtPositionAsync(t,r,n,i,s,a){let l=await this.getContextAtPositionAsync(t,r,n,i,a);G1(a);let c=go();return L3e(l,s,t,c,a)}async getContextAtPositionAsync(t,r,n,i,s){return this.strategies.has(i)?this.strategies.get(i).getContextAtPositionAsync(t,r,n,i,s):[]}};d();d();d();d();var T4={Id:"id"},Xu={FilePath:"filePath",LastWriteTimeUtc:"lastWriteTimeUtc"},Pi={DocumentId:"documentId",FullyQualifiedName:"fullyQualifiedName",UnqualifiedName:"unqualifiedName",CommentStart:"commentStart",CommentLength:"commentLength",NameStart:"nameStart",NameLength:"nameLength",BodyStart:"bodyStart",BodyLength:"bodyLength",ExtentStart:"extentStart",ExtentLength:"extentLength",SymbolKind:"symbolKind",RefKind:"refKind"};d();d();var eL=class{constructor(t,r,n){this.tableName=t;this.createOptimizations=r;this.extraCreateDeclarations=n;this.primaryKey=new cX(T4.Id)}static{o(this,"SQLTableQueryGenerator")}createTableQueries(){return this.createTableString??=this.generateCreateTableString(),[this.createTableString,...this.createOptimizations]}generateCreateTableString(){let t=this.fields.map(r=>r.initColumnString());return this.extraCreateDeclarations&&t.push(this.extraCreateDeclarations),t.push(),[`CREATE TABLE IF NOT EXISTS ${this.tableName} (`,`    ${this.primaryKey.initColumnString()},`,`    ${t.join(`,
`)}`,")"].join(`
`)}insertQuery(t,r){this.cachedInsertQueryStrings??=this.generateInsertQueryStrings();let n=[this.cachedInsertQueryStrings.prefix,Array(r).fill(this.cachedInsertQueryStrings.valuesTemplate).join(`,
`)];return t&&n.push("ON CONFLICT DO NOTHING"),n.join(`
`)}generateInsertQueryStrings(){return{prefix:`INSERT INTO ${this.tableName} (${this.fields.map(t=>t.name).join(", ")})
VALUES`,valuesTemplate:`(${Array(this.fields.length).fill("?").join(", ")})`}}},Lw=class e extends eL{constructor(){super(e.tableName,[`CREATE UNIQUE INDEX IF NOT EXISTS 'IX_Document_FilePath' ON '${e.tableName}' ('${Xu.FilePath}');`]);this.fields=[new Ow(Xu.FilePath,{notNull:!0,collate:!0,noCase:!0,unique:!0}),new K0(Xu.LastWriteTimeUtc,{notNull:!0})]}static{o(this,"DocumentQueryGenerator")}static{this.tableName="Document"}},Qw=class e extends eL{constructor(){super(e.tableName,[`CREATE INDEX IF NOT EXISTS 'IX_Symbol_DocumentId' ON '${e.tableName}' ('${Pi.DocumentId}', '${Pi.ExtentStart}', '${Pi.ExtentLength}');`,`CREATE INDEX IF NOT EXISTS 'IX_Symbol_UnqualifiedName' ON '${e.tableName}' ('${Pi.UnqualifiedName}');`],`FOREIGN KEY(${Pi.DocumentId}) REFERENCES Document(${T4.Id}) ON DELETE CASCADE`);this.fields=[new K0(Pi.DocumentId),new Ow(Pi.FullyQualifiedName,{notNull:!0}),new Ow(Pi.UnqualifiedName,{notNull:!0}),new K0(Pi.CommentStart,{notNull:!0}),new K0(Pi.CommentLength,{notNull:!0}),new K0(Pi.NameStart,{notNull:!0}),new K0(Pi.NameLength,{notNull:!0}),new K0(Pi.BodyStart,{notNull:!0}),new K0(Pi.BodyLength,{notNull:!0}),new K0(Pi.ExtentStart,{notNull:!0}),new K0(Pi.ExtentLength,{notNull:!0}),new K0(Pi.SymbolKind,{notNull:!0}),new K0(Pi.RefKind,{notNull:!0})]}static{o(this,"SymbolQueryGenerator")}static{this.tableName="Symbol"}},Mw=class{constructor(t,r){this.name=t;this.notNull=r?.notNull??!1}static{o(this,"SQLField")}},Ow=class extends Mw{static{o(this,"StringColumn")}constructor(t,r){super(t,{notNull:r?.notNull}),this.collate=r?.collate??!1,this.noCase=r?.noCase??!1,this.unique=r?.unique??!1}initColumnString(){let t=this.collate?"COLLATE":void 0,r=this.noCase?"NOCASE":void 0,n=this.notNull?"NOT NULL":void 0,i=this.unique?"UNIQUE":void 0,s=[t,r,n,i].filter(a=>a).join(" ");return`'${this.name}' VARCHAR(500) ${s}`}},K0=class extends Mw{static{o(this,"NumberColumn")}initColumnString(){return`'${this.name}' INTEGER${this.notNull?" NOT NULL":""}`}},cX=class extends Mw{static{o(this,"NumberPrimaryKeyColumn")}initColumnString(){return`'${this.name}' INTEGER PRIMARY KEY AUTOINCREMENT${this.notNull?" NOT NULL":""}`}};var tL=class{static{o(this,"SQLTable")}constructor(t){this.queryGenerator=this.createQueryGenerator(),this.init=this.doInit(t)}async doInit(t){let r=await t;if(r)return await this.create(r),r}async create(t){let r=o(i=>new Promise((s,a)=>{t.run(i,l=>{l?a(l):s()})}),"runQuery"),n=this.queryGenerator.createTableQueries();for(let i of n)await r(i)}async insert(t,r){let n=await this.init;n&&await new Promise((i,s)=>{let a=this.queryGenerator.insertQuery(r,t.length);n.run(a,t.map(l=>Object.values(l)).flat(),function(l){l?s(l):i(this)})})}async getAllRows(){let t=await this.init;return t?pd(t,`SELECT * FROM ${this.queryGenerator.tableName}`,[]):[]}async deleteRow(t){let r=await this.init;if(r)return pd(r,`DELETE FROM ${this.queryGenerator.tableName} WHERE ${T4.Id} = ?`,[t])}},H1=class e extends tL{static{o(this,"DocumentTable")}static{this.tableName=Lw.tableName}createQueryGenerator(){return new Lw}async updateTimestamp(t,r){let n=await this.init;n&&await pd(n,`UPDATE ${e.tableName} SET ${Xu.LastWriteTimeUtc} = ? WHERE ${Xu.FilePath} = ?`,[r,t])}async deleteAllWithPath(t){let r=await this.init;r&&await pd(r,`DELETE FROM ${e.tableName} WHERE ${Xu.FilePath} = ?`,[t])}async getDocumentByFilePath(t){let r=await this.init;return r?pd(r,`SELECT * FROM ${this.queryGenerator.tableName} WHERE ${Xu.FilePath} = ?`,[t]):[]}},Ha=class e extends tL{static{o(this,"SymbolTable")}static{this.tableName=Qw.tableName}createQueryGenerator(){return new Qw}async clearAllSymbolsFromDocument(t){let r=await this.init;if(r)return pd(r,`DELETE FROM ${e.tableName} WHERE ${Pi.DocumentId} = ?`,[t])}};async function pd(e,t,r){return new Promise((n,i)=>e.all(t,r,(s,a)=>{s&&i(s),n(a)}))}o(pd,"runPromisifiedDBQuery");var iL=class{constructor(t){this.databaseFileName=t;this.innerJoinStatement=`INNER JOIN ${H1.tableName} ON ${Ha.tableName}.${Pi.DocumentId} = ${H1.tableName}.${T4.Id}`;this.db=this.initDb(t),this.documentTable=new H1(this.db),this.symbolTable=new Ha(this.db)}static{o(this,"DocumentSymbolDatabase")}async initDb(t){let r;try{r=await Promise.resolve().then(()=>et(Y3e()))}catch(i){console.error("Error loading sqlite3 module:",i);return}let n;try{n=await new Promise((i,s)=>{let a=new r.default.Database(t,l=>{l?s(l):i(a)})})}catch(i){console.error("Error initializing database:",i);return}return await pd(n,"pragma journal_mode=wal",[]),await pd(n,"pragma synchronous=normal",[]),await pd(n,"pragma optimize=0x10002",[]),await pd(n,"pragma foreign_keys = ON",[]),n}async close(){let t=await this.db;if(t)return await this.documentTable.init,await this.symbolTable.init,new Promise((r,n)=>{t.close(i=>i?n(i):r())})}async querySymbolsFuzzilyUsingUnqualifiedName(t,r){return await this.query([`SELECT * FROM ${Ha.tableName}`,this.innerJoinStatement,`WHERE ${Pi.UnqualifiedName} BETWEEN ? AND (? || '~')`,`ORDER BY ${Pi.UnqualifiedName}`,"LIMIT ?"].join(`
`),[t,t,r])}async querySymbolsUsingUnqualifiedNames(t,r){let n=t.map(()=>"?").join(", "),i=r?"COLLATE NOCASE ":"";return await this.query([`SELECT * FROM ${Ha.tableName}`,this.innerJoinStatement,`WHERE ${Pi.UnqualifiedName} ${i}IN (${n})`].join(`
`),t)}async querySymbolsUsingFullyQualifiedName(t){return this.query([`SELECT * FROM ${Ha.tableName}`,this.innerJoinStatement,`WHERE ${Pi.FullyQualifiedName} = ?`].join(`
`),[t])}async querySymbolsContainingPosition(t,r){return this.query([`SELECT * FROM ${Ha.tableName}`,this.innerJoinStatement,`WHERE ${H1.tableName}.${Xu.FilePath} = ? AND ${Ha.tableName}.${Pi.ExtentStart} <= ? AND (${Ha.tableName}.${Pi.ExtentStart} + ${Ha.tableName}.${Pi.ExtentLength}) >= ?`].join(`
`),[t,r,r])}async querySymbolsContainedByRange(t,r,n){return this.query([`SELECT * FROM ${Ha.tableName}`,this.innerJoinStatement,`WHERE ${H1.tableName}.${Xu.FilePath} = ? AND ${Ha.tableName}.${Pi.ExtentStart} >= ? AND (${Ha.tableName}.${Pi.ExtentStart} + ${Ha.tableName}.${Pi.ExtentLength}) <= ?`,`ORDER BY ${Ha.tableName}.${Pi.ExtentStart}`].join(`
`),[t,r,n])}async querySymbolsByQualifiedNamePrefix(t,r){return this.query([`SELECT * FROM ${Ha.tableName}`,this.innerJoinStatement,`WHERE ${H1.tableName}.${Xu.FilePath} = ? AND ${Ha.tableName}.${Pi.FullyQualifiedName} LIKE ?`,`ORDER BY ${Ha.tableName}.${Pi.ExtentStart}`].join(`
`),[t,`${r}%`])}async insertSymbols(t){return await this.symbolTable.insert(t,!1)}async insertDocument(t,r,n=!1){return await this.documentTable.insert([{filePath:t,lastWriteTimeUtc:r}],n)}async clearAllSymbolsFromDocument(t){return this.symbolTable.clearAllSymbolsFromDocument(t)}async updateDocumentTimestamp(t,r){return this.documentTable.updateTimestamp(t,r)}async deleteAllDocumentsWithPath(t){return this.documentTable.deleteAllWithPath(t)}async getAllDocuments(){return this.documentTable.getAllRows()}getDocument(t){return this.documentTable.getDocumentByFilePath(t)}async query(t,r){let n=await this.db;return n?(await this.documentTable.init,await this.symbolTable.init,pd(n,t,r)):[]}};var oL=class{static{o(this,"SQLStorageReaderWriter")}constructor(t){this.database=new iL(t)}async close(){await this.database.close()}async insertOrReplaceDocumentSymbolsAsync(t,r,n){let i=await this.getOrCreateDocumentAsync(t,r);await this.database.clearAllSymbolsFromDocument(i.id),n.length>0&&await this.database.insertSymbols(n.map(s=>({documentId:i.id,fullyQualifiedName:s.fullyQualifiedName,unqualifiedName:s.unqualifiedName,commentStart:s.commentRange.start,commentLength:s.commentRange.length,nameStart:s.nameRange.start,nameLength:s.nameRange.length,bodyStart:s.bodyRange.start,bodyLength:s.bodyRange.length,extentStart:s.extentRange.start,extentLength:s.extentRange.length,symbolKind:s.kind,refKind:s.refKind}))),await this.database.updateDocumentTimestamp(t,r)}async addDocumentsAsync(t){for(let r of t)r=r.toLowerCase(),await this.database.insertDocument(r,Date.now(),!0)}async deleteDocumentAsync(t){return await this.database.deleteAllDocumentsWithPath(t.toLowerCase())}async updateDocumentTimestampAsync(t,r){return await this.database.updateDocumentTimestamp(t.toLowerCase(),r)}async fuzzyMatchSymbolsAsync(t,r){return _I(await this.database.querySymbolsFuzzilyUsingUnqualifiedName(t,r))}async findPotentialDefinitionsAsync(t,r,n){let i=[],a=0;for(;a<t.length;){let l=t.slice(a,a+500);a+=500;let c=await this.database.querySymbolsUsingUnqualifiedNames(l,r);i.push(...c),G1(n)}return _I(i)}async getDefinitionsAsync(t){return _I(await this.database.querySymbolsUsingFullyQualifiedName(t))}async findSymbolsContainingPositionAsync(t,r){let n=await this.database.querySymbolsContainingPosition(t.toLowerCase(),r);return _I(n)}async findSymbolsContainedByRangeAsync(t,r,n){return _I(await this.database.querySymbolsContainedByRange(t.toLowerCase(),r,n))}async findSymbolsByFullyQualifiedNamePrefix(t,r){return _I(await this.database.querySymbolsByQualifiedNamePrefix(t.toLowerCase(),r))}async getDocumentsAsync(){return this.database.getAllDocuments()}async getDocumentAsync(t){let r=await this.database.getDocument(t);if(r?.at(0))return r[0]}async getOrCreateDocumentAsync(t,r){let n=await this.database.getDocument(t);if(n?.at(0))return n[0];await this.database.insertDocument(t,r,!0);let i=await this.database.getDocument(t);if(!i)throw Error("Unable to insert document");return i[0]}};function _I(e){return e.map(t=>new II(t.filePath,t.fullyQualifiedName,t.unqualifiedName,new hd(t.commentStart,t.commentLength),new hd(t.nameStart,t.nameLength),new hd(t.bodyStart,t.bodyLength),new hd(t.extentStart,t.extentLength),t.symbolKind,t.refKind))}o(_I,"symbolsToSymbolRanges");var aL=et(require("fs/promises"));var sL=class{static{o(this,"Index")}constructor(t,r){this.storage=new oL(t),this.symbolExtractors=r}dispose(){return this.storage.close()}get reader(){return this.storage}async indexFile(t,r){let n=Mo(t);if(!n)throw Error(`Cannot resolve a readable file path from ${t}`);let i;try{i=await aL.stat(n)}catch{await this.storage.deleteDocumentAsync(t);return}let s=i.mtimeMs,a=await this.storage.getDocumentAsync(t);if(a&&a.lastWriteTimeUtc>=s)return;let l=this.symbolExtractors.find(f=>f.languageId==r);if(!l)return;let c=(await aL.readFile(n)).toString(),u=await l.extractSymbols(t,c);await this.storage.insertOrReplaceDocumentSymbolsAsync(t,s,u)}async getDocumentFilePaths(){return(await this.storage.getDocumentsAsync()).map(r=>r.filePath)}};d();function pX(e){let t=e;return typeof t?.cwd=="string"&&Array.isArray(t?.indexWorkspaceRoots)&&t.indexWorkspaceRoots.every(r=>Bat(r))}o(pX,"isIndexWorkerData");var qw=class{static{o(this,"IndexNotification")}constructor(t){this.operation=t}},e5=class extends qw{constructor(r,n){super(n);this.id=r;this.id=r}static{o(this,"IndexRequest")}},lL=class extends qw{constructor(r){super(Pc.Cancel);this.messageIdToCancel=r}static{o(this,"CancellationNotification")}},Pc={CreateIndex:"createIndex",AddOrInvalidated:"addOrInvalidated",GetContext:"getContext",Exit:"exit",Response:"response",RemoveIndex:"removeIndex",Cancel:"cancel",GetAllDocumentsInWorkspace:"getAllDocumentsInWorkspace"},cL=class extends e5{constructor(r,n,i){super(r,Pc.CreateIndex);this.baseWorkspaceFolderUri=n;this.databaseFilePath=i}static{o(this,"CreateIndexRequest")}},uL=class extends e5{constructor(r,n){super(r,Pc.RemoveIndex);this.baseWorkspaceFolderUri=n}static{o(this,"RemoveIndexRequest")}},fL=class extends e5{constructor(r,n,i){super(r,Pc.AddOrInvalidated);this.fileUri=n;this.languageId=i}static{o(this,"AddOrInvalidatedRequest")}},dL=class extends e5{constructor(r,n){super(r,Pc.GetAllDocumentsInWorkspace);this.baseWorkspaceFolderUri=n}static{o(this,"GetAllDocumentsRequest")}},mL=class extends e5{constructor(r,n,i,s,a){super(r,Pc.GetContext);this.fileUri=n;this.code=i;this.offset=s;this.languageId=a}static{o(this,"GetContextRequest")}},hL=class extends e5{static{o(this,"ExitRequest")}constructor(t){super(t,Pc.Exit)}},Jm=class extends qw{constructor(r,n,i){super(Pc.Response);this.id=r;this.error=n;this.data=i;n&&"code"in n&&typeof n.code=="string"&&(this.code=n.code)}static{o(this,"ResponseMessage")}};function Bat(e){return"databaseFilePath"in e&&"rootPath"in e}o(Bat,"isIndexableWorkspaceFolder");var K3e=et(ei()),w4=require("worker_threads");var pL=class{static{o(this,"IndexInfo")}constructor(t){this.index=new sL(t,YN),this.contextRetreival=new XN(this.index.reader,w3e)}},gX=class e{constructor(t,r){this.indices=new Map;this.cancellationTokens=new Map;for(let n of r){let i=Il(n.rootPath);this.indices.set(i,new pL(n.databaseFilePath))}this.port=t,this.port.on("message",n=>void this.dispatchMessage(n,this.indices,this.cancellationTokens))}static{o(this,"IndexWorker")}async dispatchMessage(t,r,n){try{let i=new K3e.CancellationTokenSource;n.set(t.id,i);let s;switch(t.operation){case Pc.AddOrInvalidated:s=await e.dispatchAddOrInvalidate(t,r,i.token);break;case Pc.GetContext:s=await e.dispatchGetContext(t,r,i.token);break;case Pc.Cancel:n.get(t.id)?.cancel(),s=new Jm(t.id,void 0,void 0);break;case Pc.Exit:s=await this.dispatchExit(t,r,i.token);break;case Pc.CreateIndex:s=await e.dispatchCreateIndex(t,r,i.token);break;case Pc.RemoveIndex:s=await e.dispatchRemoveIndex(t,r,i.token);break;case Pc.GetAllDocumentsInWorkspace:s=await e.GetAllDocumentsInWorkspaceRequest(t,r,i.token);break;default:this.port?.postMessage(new Error(`Unknown operation: ${t.operation}`))}s&&this.port?.postMessage(s),n.get(t.id)?.dispose(),n.delete(t.id)}catch(i){if(!(i instanceof Error))throw i;this.port?.postMessage(new Jm(t.id,i,void 0))}}static async GetAllDocumentsInWorkspaceRequest(t,r,n){let i=Il(t.baseWorkspaceFolderUri),s,a;return r.has(i)?a=await r.get(i).index.getDocumentFilePaths():s=new Error(`Index not found for ${t.baseWorkspaceFolderUri}`),new Jm(t.id,s,a)}static async dispatchAddOrInvalidate(t,r,n){let i=Il(t.fileUri),s=e.getIndexInfo(i,r)?.index,a;return s?await s.indexFile(t.fileUri,t.languageId):a=new Error(`Index not found for ${t.fileUri}`),new Jm(t.id,a,void 0)}static async dispatchGetContext(t,r,n){let i=Il(t.fileUri),s=e.getIndexInfo(i,r)?.contextRetreival,a,l;return s?l=await s.getStringifiedContextAtPositionAsync(t.fileUri,t.code,t.offset,t.languageId,8e3,n):a=new Error(`ContextRetrieval not found for ${t.fileUri}`),new Jm(t.id,a,l)}async dispatchExit(t,r,n){for(let i of r.values())await i.index.dispose();r.clear(),this.port?.postMessage(new Jm(t.id,void 0,void 0)),this.port?.close()}static async dispatchCreateIndex(t,r,n){let i=Il(t.baseWorkspaceFolderUri);return r.has(i)||r.set(i,new pL(t.databaseFilePath)),new Jm(t.id,void 0,void 0)}static async dispatchRemoveIndex(t,r,n){let i=Il(t.baseWorkspaceFolderUri);if(r.has(i)){let s=r.get(i);s&&await s.index.dispose(),r.delete(i)}return new Jm(t.id,void 0,void 0)}static getIndexInfo(t,r){for(let[n,i]of r)if(t.startsWith(n))return i}};function J3e(){return pX(w4.workerData)}o(J3e,"isIndexWorker");function Z3e(){let e=w4.parentPort;if(!e)throw new Error("This must be run a worker thread.");if(!pX(w4.workerData))throw new Error("Worker data must provide a valid database path.");let t=w4.workerData.cwd;process.cwd=()=>t,new gX(e,w4.workerData.indexWorkspaceRoots)}o(Z3e,"runIndexWorker");d();var Ww=et(require("util"));function X3e(e){let t=new console.Console(process.stderr,process.stderr);function r(n,...i){if(ud(e)==="dev")return e.get(qa).logIt(e,n,"console",...i)}return o(r,"logIt"),t.debug=(...n)=>r(4,...n),t.info=(...n)=>r(3,...n),t.warn=(...n)=>r(2,...n),t.error=(...n)=>r(1,...n),t.assert=(n,...i)=>{n||(i.length===0?r(2,"Assertion failed"):r(2,"Assertion failed:",Ww.format(...i)))},t.dir=(n,i)=>r(4,Ww.inspect(n,i)),t.log=t.debug.bind(t),t.trace=(...n)=>{let i=new Error(Ww.format(...n));i.name="Trace",t.log(i)},t}o(X3e,"createConsole");var gje=et(require("fs/promises")),Aje=et(require("os")),am=et(Xm()),yje=require("worker_threads");d();d();var XL=require("assert");d();d();var Hlt={right:Ylt,center:Klt},jlt=0,VL=1,Vlt=2,$L=3,WX=class{static{o(this,"UI")}constructor(t){var r;this.width=t.width,this.wrap=(r=t.wrap)!==null&&r!==void 0?r:!0,this.rows=[]}span(...t){let r=this.div(...t);r.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let r=t.map(n=>typeof n=="string"?this.colFromString(n):n);return this.rows.push(r),r}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let r=t.split(`
`).map(i=>i.split("	")),n=0;return r.forEach(i=>{i.length>1&&ef.stringWidth(i[0])>n&&(n=Math.min(Math.floor(this.width*.5),ef.stringWidth(i[0])))}),r.forEach(i=>{this.div(...i.map((s,a)=>({text:s.trim(),padding:this.measurePadding(s),width:a===0&&i.length>1?n:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let r=ef.stripAnsi(t);return[0,r.match(/\s*$/)[0].length,0,r.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(r=>{this.rowToString(r,t)}),t.filter(r=>!r.hidden).map(r=>r.text).join(`
`)}rowToString(t,r){return this.rasterize(t).forEach((n,i)=>{let s="";n.forEach((a,l)=>{let{width:c}=t[l],u=this.negatePadding(t[l]),f=a;if(u>ef.stringWidth(a)&&(f+=" ".repeat(u-ef.stringWidth(a))),t[l].align&&t[l].align!=="left"&&this.wrap){let h=Hlt[t[l].align];f=h(f,u),ef.stringWidth(f)<u&&(f+=" ".repeat((c||0)-ef.stringWidth(f)-1))}let m=t[l].padding||[0,0,0,0];m[$L]&&(s+=" ".repeat(m[$L])),s+=$4e(t[l],f,"| "),s+=f,s+=$4e(t[l],f," |"),m[VL]&&(s+=" ".repeat(m[VL])),i===0&&r.length>0&&(s=this.renderInline(s,r[r.length-1]))}),r.push({text:s.replace(/ +$/,""),span:t.span})}),r}renderInline(t,r){let n=t.match(/^ */),i=n?n[0].length:0,s=r.text,a=ef.stringWidth(s.trimRight());return r.span?this.wrap?i<a?t:(r.hidden=!0,s.trimRight()+" ".repeat(i-a)+t.trimLeft()):(r.hidden=!0,s+t):t}rasterize(t){let r=[],n=this.columnWidths(t),i;return t.forEach((s,a)=>{s.width=n[a],this.wrap?i=ef.wrap(s.text,this.negatePadding(s),{hard:!0}).split(`
`):i=s.text.split(`
`),s.border&&(i.unshift("."+"-".repeat(this.negatePadding(s)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(s)+2)+"'")),s.padding&&(i.unshift(...new Array(s.padding[jlt]||0).fill("")),i.push(...new Array(s.padding[Vlt]||0).fill(""))),i.forEach((l,c)=>{r[c]||r.push([]);let u=r[c];for(let f=0;f<a;f++)u[f]===void 0&&u.push("");u.push(l)})}),r}negatePadding(t){let r=t.width||0;return t.padding&&(r-=(t.padding[$L]||0)+(t.padding[VL]||0)),t.border&&(r-=4),r}columnWidths(t){if(!this.wrap)return t.map(a=>a.width||ef.stringWidth(a.text));let r=t.length,n=this.width,i=t.map(a=>{if(a.width)return r--,n-=a.width,a.width}),s=r?Math.floor(n/r):0;return i.map((a,l)=>a===void 0?Math.max(s,$lt(t[l])):a)}};function $4e(e,t,r){return e.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?r:"  ":""}o($4e,"addBorder");function $lt(e){let t=e.padding||[],r=1+(t[$L]||0)+(t[VL]||0);return e.border?r+4:r}o($lt,"_minWidth");function zlt(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}o(zlt,"getWindowWidth");function Ylt(e,t){e=e.trim();let r=ef.stringWidth(e);return r<t?" ".repeat(t-r)+e:e}o(Ylt,"alignRight");function Klt(e,t){e=e.trim();let r=ef.stringWidth(e);return r>=t?e:" ".repeat(t-r>>1)+e}o(Klt,"alignCenter");var ef;function z4e(e,t){return ef=t,new WX({width:e?.width||zlt(),wrap:e?.wrap})}o(z4e,"cliui");d();var Y4e=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function GX(e){return e.replace(Y4e,"")}o(GX,"stripAnsi");function K4e(e,t){let[r,n]=e.match(Y4e)||["",""];e=GX(e);let i="";for(let s=0;s<e.length;s++)s!==0&&s%t===0&&(i+=`
`),i+=e.charAt(s);return r&&n&&(i=`${r}${i}${n}`),i}o(K4e,"wrap");function HX(e){return z4e(e,{stringWidth:o(t=>[...t].length,"stringWidth"),stripAnsi:GX,wrap:K4e})}o(HX,"ui");d();var BI=require("path"),zL=require("fs");function jX(e,t){let r=(0,BI.resolve)(".",e),n;for((0,zL.statSync)(r).isDirectory()||(r=(0,BI.dirname)(r));;){if(n=t(r,(0,zL.readdirSync)(r)),n)return(0,BI.resolve)(r,n);if(r=(0,BI.dirname)(n=r),n===r)break}}o(jX,"default");var dxe=require("util"),mxe=require("fs"),hxe=require("url");d();var txe=require("util"),ZL=require("path");d();function R4(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let r="",n=!1,i=e.match(/^-+/);for(let s=i?i[0].length:0;s<e.length;s++){let a=e.charAt(s);n&&(n=!1,a=a.toUpperCase()),s!==0&&(a==="-"||a==="_")?n=!0:a!=="-"&&a!=="_"&&(r+=a)}return r}}o(R4,"camelCase");function YL(e,t){let r=e.toLowerCase();t=t||"-";let n="";for(let i=0;i<e.length;i++){let s=r.charAt(i),a=e.charAt(i);s!==a&&i>0?n+=`${t}${r.charAt(i)}`:n+=a}return n}o(YL,"decamelize");function KL(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}o(KL,"looksLikeNumber");d();d();function J4e(e){if(Array.isArray(e))return e.map(a=>typeof a!="string"?a+"":a);e=e.trim();let t=0,r=null,n=null,i=null,s=[];for(let a=0;a<e.length;a++){if(r=n,n=e.charAt(a),n===" "&&!i){r!==" "&&t++;continue}n===i?i=null:(n==="'"||n==='"')&&!i&&(i=n),s[t]||(s[t]=""),s[t]+=n}return s}o(J4e,"tokenizeArgString");d();var vd;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array"})(vd||(vd={}));var j1,JL=class{static{o(this,"YargsParser")}constructor(t){j1=t}parse(t,r){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},r),i=J4e(t),s=typeof t=="string",a=Jlt(Object.assign(Object.create(null),n.alias)),l=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),c=Object.assign(Object.create(null),n.default),u=n.configObjects||[],f=n.envPrefix,m=l["populate--"],h=m?"--":"_",p=Object.create(null),A=Object.create(null),x=n.__||j1.format,v={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},E=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,b=new RegExp("^--"+l["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(z){let ee=typeof z=="object"?z.key:z,Le=Object.keys(z).map(function(Se){return{boolean:"bools",string:"strings",number:"numbers"}[Se]}).filter(Boolean).pop();Le&&(v[Le][ee]=!0),v.arrays[ee]=!0,v.keys.push(ee)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(z){v.bools[z]=!0,v.keys.push(z)}),[].concat(n.string||[]).filter(Boolean).forEach(function(z){v.strings[z]=!0,v.keys.push(z)}),[].concat(n.number||[]).filter(Boolean).forEach(function(z){v.numbers[z]=!0,v.keys.push(z)}),[].concat(n.count||[]).filter(Boolean).forEach(function(z){v.counts[z]=!0,v.keys.push(z)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(z){v.normalize[z]=!0,v.keys.push(z)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([z,ee])=>{typeof ee=="number"&&(v.nargs[z]=ee,v.keys.push(z))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([z,ee])=>{typeof ee=="function"&&(v.coercions[z]=ee,v.keys.push(z))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(z){v.configs[z]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([z,ee])=>{(typeof ee=="boolean"||typeof ee=="function")&&(v.configs[z]=ee)})),De(n.key,a,n.default,v.arrays),Object.keys(c).forEach(function(z){(v.aliases[z]||[]).forEach(function(ee){c[ee]=c[z]})});let _=null;Ge();let R=[],P=Object.assign(Object.create(null),{_:[]}),F={};for(let z=0;z<i.length;z++){let ee=i[z],Le=ee.replace(/^-{3,}/,"---"),Se,Ce,qe,Ve,tt,Ct;if(ee!=="--"&&/^-/.test(ee)&&ft(ee))W(ee);else if(Le.match(/^---+(=|$)/)){W(ee);continue}else if(ee.match(/^--.+=/)||!l["short-option-groups"]&&ee.match(/^-.+=/))Ve=ee.match(/^--?([^=]+)=([\s\S]*)$/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=3&&(ve(Ve[1],v.arrays)?z=de(z,Ve[1],i,Ve[2]):ve(Ve[1],v.nargs)!==!1?z=se(z,Ve[1],i,Ve[2]):re(Ve[1],Ve[2],!0));else if(ee.match(b)&&l["boolean-negation"])Ve=ee.match(b),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],re(Ce,ve(Ce,v.arrays)?[!1]:!1));else if(ee.match(/^--.+/)||!l["short-option-groups"]&&ee.match(/^-[^-]+/))Ve=ee.match(/^--?(.+)/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],ve(Ce,v.arrays)?z=de(z,Ce,i):ve(Ce,v.nargs)!==!1?z=se(z,Ce,i):(tt=i[z+1],tt!==void 0&&(!tt.match(/^-/)||tt.match(E))&&!ve(Ce,v.bools)&&!ve(Ce,v.counts)||/^(true|false)$/.test(tt)?(re(Ce,tt),z++):re(Ce,lt(Ce))));else if(ee.match(/^-.\..+=/))Ve=ee.match(/^-([^=]+)=([\s\S]*)$/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=3&&re(Ve[1],Ve[2]);else if(ee.match(/^-.\..+/)&&!ee.match(E))tt=i[z+1],Ve=ee.match(/^-(.\..+)/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],tt!==void 0&&!tt.match(/^-/)&&!ve(Ce,v.bools)&&!ve(Ce,v.counts)?(re(Ce,tt),z++):re(Ce,lt(Ce)));else if(ee.match(/^-[^-]+/)&&!ee.match(E)){qe=ee.slice(1,-1).split(""),Se=!1;for(let Pt=0;Pt<qe.length;Pt++){if(tt=ee.slice(Pt+2),qe[Pt+1]&&qe[Pt+1]==="="){Ct=ee.slice(Pt+3),Ce=qe[Pt],ve(Ce,v.arrays)?z=de(z,Ce,i,Ct):ve(Ce,v.nargs)!==!1?z=se(z,Ce,i,Ct):re(Ce,Ct),Se=!0;break}if(tt==="-"){re(qe[Pt],tt);continue}if(/[A-Za-z]/.test(qe[Pt])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(tt)&&ve(tt,v.bools)===!1){re(qe[Pt],tt),Se=!0;break}if(qe[Pt+1]&&qe[Pt+1].match(/\W/)){re(qe[Pt],tt),Se=!0;break}else re(qe[Pt],lt(qe[Pt]))}Ce=ee.slice(-1)[0],!Se&&Ce!=="-"&&(ve(Ce,v.arrays)?z=de(z,Ce,i):ve(Ce,v.nargs)!==!1?z=se(z,Ce,i):(tt=i[z+1],tt!==void 0&&(!/^(-|--)[^-]/.test(tt)||tt.match(E))&&!ve(Ce,v.bools)&&!ve(Ce,v.counts)||/^(true|false)$/.test(tt)?(re(Ce,tt),z++):re(Ce,lt(Ce))))}else if(ee.match(/^-[0-9]$/)&&ee.match(E)&&ve(ee.slice(1),v.bools))Ce=ee.slice(1),re(Ce,lt(Ce));else if(ee==="--"){R=i.slice(z+1);break}else if(l["halt-at-non-option"]){R=i.slice(z);break}else W(ee)}V(P,!0),V(P,!1),J(P),O(),te(P,v.aliases,c,!0),Z(P),l["set-placeholder-key"]&&ae(P),Object.keys(v.counts).forEach(function(z){le(P,z.split("."))||re(z,0)}),m&&R.length&&(P[h]=[]),R.forEach(function(z){P[h].push(z)}),l["camel-case-expansion"]&&l["strip-dashed"]&&Object.keys(P).filter(z=>z!=="--"&&z.includes("-")).forEach(z=>{delete P[z]}),l["strip-aliased"]&&[].concat(...Object.keys(a).map(z=>a[z])).forEach(z=>{l["camel-case-expansion"]&&z.includes("-")&&delete P[z.split(".").map(ee=>R4(ee)).join(".")],delete P[z]});function W(z){let ee=ne("_",z);(typeof ee=="string"||typeof ee=="number")&&P._.push(ee)}o(W,"pushPositional");function se(z,ee,Le,Se){let Ce,qe=ve(ee,v.nargs);if(qe=typeof qe!="number"||isNaN(qe)?1:qe,qe===0)return Ae(Se)||(_=Error(x("Argument unexpected for: %s",ee))),re(ee,lt(ee)),z;let Ve=Ae(Se)?0:1;if(l["nargs-eats-options"])Le.length-(z+1)+Ve<qe&&(_=Error(x("Not enough arguments following: %s",ee))),Ve=qe;else{for(Ce=z+1;Ce<Le.length&&(!Le[Ce].match(/^-[^0-9]/)||Le[Ce].match(E)||ft(Le[Ce]));Ce++)Ve++;Ve<qe&&(_=Error(x("Not enough arguments following: %s",ee)))}let tt=Math.min(Ve,qe);for(!Ae(Se)&&tt>0&&(re(ee,Se),tt--),Ce=z+1;Ce<tt+z+1;Ce++)re(ee,Le[Ce]);return z+tt}o(se,"eatNargs");function de(z,ee,Le,Se){let Ce=[],qe=Se||Le[z+1],Ve=ve(ee,v.nargs);if(ve(ee,v.bools)&&!/^(true|false)$/.test(qe))Ce.push(!0);else if(Ae(qe)||Ae(Se)&&/^-/.test(qe)&&!E.test(qe)&&!ft(qe)){if(c[ee]!==void 0){let tt=c[ee];Ce=Array.isArray(tt)?tt:[tt]}}else{Ae(Se)||Ce.push(U(ee,Se,!0));for(let tt=z+1;tt<Le.length&&!(!l["greedy-arrays"]&&Ce.length>0||Ve&&typeof Ve=="number"&&Ce.length>=Ve||(qe=Le[tt],/^-/.test(qe)&&!E.test(qe)&&!ft(qe)));tt++)z=tt,Ce.push(U(ee,qe,s))}return typeof Ve=="number"&&(Ve&&Ce.length<Ve||isNaN(Ve)&&Ce.length===0)&&(_=Error(x("Not enough arguments following: %s",ee))),re(ee,Ce),z}o(de,"eatArray");function re(z,ee,Le=s){if(/-/.test(z)&&l["camel-case-expansion"]){let qe=z.split(".").map(function(Ve){return R4(Ve)}).join(".");G(z,qe)}let Se=U(z,ee,Le),Ce=z.split(".");fe(P,Ce,Se),v.aliases[z]&&v.aliases[z].forEach(function(qe){let Ve=qe.split(".");fe(P,Ve,Se)}),Ce.length>1&&l["dot-notation"]&&(v.aliases[Ce[0]]||[]).forEach(function(qe){let Ve=qe.split("."),tt=[].concat(Ce);tt.shift(),Ve=Ve.concat(tt),(v.aliases[z]||[]).includes(Ve.join("."))||fe(P,Ve,Se)}),ve(z,v.normalize)&&!ve(z,v.arrays)&&[z].concat(v.aliases[z]||[]).forEach(function(Ve){Object.defineProperty(F,Ve,{enumerable:!0,get(){return ee},set(tt){ee=typeof tt=="string"?j1.normalize(tt):tt}})})}o(re,"setArg");function G(z,ee){v.aliases[z]&&v.aliases[z].length||(v.aliases[z]=[ee],p[ee]=!0),v.aliases[ee]&&v.aliases[ee].length||G(ee,z)}o(G,"addNewAlias");function U(z,ee,Le){Le&&(ee=Zlt(ee)),(ve(z,v.bools)||ve(z,v.counts))&&typeof ee=="string"&&(ee=ee==="true");let Se=Array.isArray(ee)?ee.map(function(Ce){return ne(z,Ce)}):ne(z,ee);return ve(z,v.counts)&&(Ae(Se)||typeof Se=="boolean")&&(Se=VX()),ve(z,v.normalize)&&ve(z,v.arrays)&&(Array.isArray(ee)?Se=ee.map(Ce=>j1.normalize(Ce)):Se=j1.normalize(ee)),Se}o(U,"processValue");function ne(z,ee){return!l["parse-positional-numbers"]&&z==="_"||!ve(z,v.strings)&&!ve(z,v.bools)&&!Array.isArray(ee)&&(KL(ee)&&l["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${ee}`)))||!Ae(ee)&&ve(z,v.numbers))&&(ee=Number(ee)),ee}o(ne,"maybeCoerceNumber");function J(z){let ee=Object.create(null);te(ee,v.aliases,c),Object.keys(v.configs).forEach(function(Le){let Se=z[Le]||ee[Le];if(Se)try{let Ce=null,qe=j1.resolve(j1.cwd(),Se),Ve=v.configs[Le];if(typeof Ve=="function"){try{Ce=Ve(qe)}catch(tt){Ce=tt}if(Ce instanceof Error){_=Ce;return}}else Ce=j1.require(qe);j(Ce)}catch(Ce){Ce.name==="PermissionDenied"?_=Ce:z[Le]&&(_=Error(x("Invalid JSON config file: %s",Se)))}})}o(J,"setConfig");function j(z,ee){Object.keys(z).forEach(function(Le){let Se=z[Le],Ce=ee?ee+"."+Le:Le;typeof Se=="object"&&Se!==null&&!Array.isArray(Se)&&l["dot-notation"]?j(Se,Ce):(!le(P,Ce.split("."))||ve(Ce,v.arrays)&&l["combine-arrays"])&&re(Ce,Se)})}o(j,"setConfigObject");function O(){typeof u<"u"&&u.forEach(function(z){j(z)})}o(O,"setConfigObjects");function V(z,ee){if(typeof f>"u")return;let Le=typeof f=="string"?f:"",Se=j1.env();Object.keys(Se).forEach(function(Ce){if(Le===""||Ce.lastIndexOf(Le,0)===0){let qe=Ce.split("__").map(function(Ve,tt){return tt===0&&(Ve=Ve.substring(Le.length)),R4(Ve)});(ee&&v.configs[qe.join(".")]||!ee)&&!le(z,qe)&&re(qe.join("."),Se[Ce])}})}o(V,"applyEnvVars");function Z(z){let ee,Le=new Set;Object.keys(z).forEach(function(Se){if(!Le.has(Se)&&(ee=ve(Se,v.coercions),typeof ee=="function"))try{let Ce=ne(Se,ee(z[Se]));[].concat(v.aliases[Se]||[],Se).forEach(qe=>{Le.add(qe),z[qe]=Ce})}catch(Ce){_=Ce}})}o(Z,"applyCoercions");function ae(z){return v.keys.forEach(ee=>{~ee.indexOf(".")||typeof z[ee]>"u"&&(z[ee]=void 0)}),z}o(ae,"setPlaceholderKeys");function te(z,ee,Le,Se=!1){Object.keys(Le).forEach(function(Ce){le(z,Ce.split("."))||(fe(z,Ce.split("."),Le[Ce]),Se&&(A[Ce]=!0),(ee[Ce]||[]).forEach(function(qe){le(z,qe.split("."))||fe(z,qe.split("."),Le[Ce])}))})}o(te,"applyDefaultsAndAliases");function le(z,ee){let Le=z;l["dot-notation"]||(ee=[ee.join(".")]),ee.slice(0,-1).forEach(function(Ce){Le=Le[Ce]||{}});let Se=ee[ee.length-1];return typeof Le!="object"?!1:Se in Le}o(le,"hasKey");function fe(z,ee,Le){let Se=z;l["dot-notation"]||(ee=[ee.join(".")]),ee.slice(0,-1).forEach(function(Ct){Ct=Z4e(Ct),typeof Se=="object"&&Se[Ct]===void 0&&(Se[Ct]={}),typeof Se[Ct]!="object"||Array.isArray(Se[Ct])?(Array.isArray(Se[Ct])?Se[Ct].push({}):Se[Ct]=[Se[Ct],{}],Se=Se[Ct][Se[Ct].length-1]):Se=Se[Ct]});let Ce=Z4e(ee[ee.length-1]),qe=ve(ee.join("."),v.arrays),Ve=Array.isArray(Le),tt=l["duplicate-arguments-array"];!tt&&ve(Ce,v.nargs)&&(tt=!0,(!Ae(Se[Ce])&&v.nargs[Ce]===1||Array.isArray(Se[Ce])&&Se[Ce].length===v.nargs[Ce])&&(Se[Ce]=void 0)),Le===VX()?Se[Ce]=VX(Se[Ce]):Array.isArray(Se[Ce])?tt&&qe&&Ve?Se[Ce]=l["flatten-duplicate-arrays"]?Se[Ce].concat(Le):(Array.isArray(Se[Ce][0])?Se[Ce]:[Se[Ce]]).concat([Le]):!tt&&!!qe==!!Ve?Se[Ce]=Le:Se[Ce]=Se[Ce].concat([Le]):Se[Ce]===void 0&&qe?Se[Ce]=Ve?Le:[Le]:tt&&!(Se[Ce]===void 0||ve(Ce,v.counts)||ve(Ce,v.bools))?Se[Ce]=[Se[Ce],Le]:Se[Ce]=Le}o(fe,"setKey");function De(...z){z.forEach(function(ee){Object.keys(ee||{}).forEach(function(Le){v.aliases[Le]||(v.aliases[Le]=[].concat(a[Le]||[]),v.aliases[Le].concat(Le).forEach(function(Se){if(/-/.test(Se)&&l["camel-case-expansion"]){let Ce=R4(Se);Ce!==Le&&v.aliases[Le].indexOf(Ce)===-1&&(v.aliases[Le].push(Ce),p[Ce]=!0)}}),v.aliases[Le].concat(Le).forEach(function(Se){if(Se.length>1&&/[A-Z]/.test(Se)&&l["camel-case-expansion"]){let Ce=YL(Se,"-");Ce!==Le&&v.aliases[Le].indexOf(Ce)===-1&&(v.aliases[Le].push(Ce),p[Ce]=!0)}}),v.aliases[Le].forEach(function(Se){v.aliases[Se]=[Le].concat(v.aliases[Le].filter(function(Ce){return Se!==Ce}))}))})})}o(De,"extendAliases");function ve(z,ee){let Le=[].concat(v.aliases[z]||[],z),Se=Object.keys(ee),Ce=Le.find(qe=>Se.includes(qe));return Ce?ee[Ce]:!1}o(ve,"checkAllAliases");function Ue(z){let ee=Object.keys(v);return[].concat(ee.map(Se=>v[Se])).some(function(Se){return Array.isArray(Se)?Se.includes(z):Se[z]})}o(Ue,"hasAnyFlag");function ke(z,...ee){return[].concat(...ee).some(function(Se){let Ce=z.match(Se);return Ce&&Ue(Ce[1])})}o(ke,"hasFlagsMatching");function Ze(z){if(z.match(E)||!z.match(/^-[^-]+/))return!1;let ee=!0,Le,Se=z.slice(1).split("");for(let Ce=0;Ce<Se.length;Ce++){if(Le=z.slice(Ce+2),!Ue(Se[Ce])){ee=!1;break}if(Se[Ce+1]&&Se[Ce+1]==="="||Le==="-"||/[A-Za-z]/.test(Se[Ce])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(Le)||Se[Ce+1]&&Se[Ce+1].match(/\W/))break}return ee}o(Ze,"hasAllShortFlags");function ft(z){return l["unknown-options-as-args"]&&at(z)}o(ft,"isUnknownOptionAsArg");function at(z){return z=z.replace(/^-{3,}/,"--"),z.match(E)||Ze(z)?!1:!ke(z,/^-+([^=]+?)=[\s\S]*$/,b,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}o(at,"isUnknownOption");function lt(z){return!ve(z,v.bools)&&!ve(z,v.counts)&&`${z}`in c?c[z]:ie(Fe(z))}o(lt,"defaultValue");function ie(z){return{[vd.BOOLEAN]:!0,[vd.STRING]:"",[vd.NUMBER]:void 0,[vd.ARRAY]:[]}[z]}o(ie,"defaultForType");function Fe(z){let ee=vd.BOOLEAN;return ve(z,v.strings)?ee=vd.STRING:ve(z,v.numbers)?ee=vd.NUMBER:ve(z,v.bools)?ee=vd.BOOLEAN:ve(z,v.arrays)&&(ee=vd.ARRAY),ee}o(Fe,"guessType");function Ae(z){return z===void 0}o(Ae,"isUndefined");function Ge(){Object.keys(v.counts).find(z=>ve(z,v.arrays)?(_=Error(x("Invalid configuration: %s, opts.count excludes opts.array.",z)),!0):ve(z,v.nargs)?(_=Error(x("Invalid configuration: %s, opts.count excludes opts.narg.",z)),!0):!1)}return o(Ge,"checkConfiguration"),{aliases:Object.assign({},v.aliases),argv:Object.assign(F,P),configuration:l,defaulted:Object.assign({},A),error:_,newAliases:Object.assign({},p)}}};function Jlt(e){let t=[],r=Object.create(null),n=!0;for(Object.keys(e).forEach(function(i){t.push([].concat(e[i],i))});n;){n=!1;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++)if(t[i].filter(function(l){return t[s].indexOf(l)!==-1}).length){t[i]=t[i].concat(t[s]),t.splice(s,1),n=!0;break}}return t.forEach(function(i){i=i.filter(function(a,l,c){return c.indexOf(a)===l});let s=i.pop();s!==void 0&&typeof s=="string"&&(r[s]=i)}),r}o(Jlt,"combineAliases");function VX(e){return e!==void 0?e+1:1}o(VX,"increment");function Z4e(e){return e==="__proto__"?"___proto___":e}o(Z4e,"sanitizeKey");function Zlt(e){return typeof e=="string"&&(e[0]==="'"||e[0]==='"')&&e[e.length-1]===e[0]?e.substring(1,e.length-1):e}o(Zlt,"stripQuotes");var rxe=require("fs");var $X,zX,YX,X4e=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,exe=(zX=($X=process==null?void 0:process.versions)===null||$X===void 0?void 0:$X.node)!==null&&zX!==void 0?zX:(YX=process==null?void 0:process.version)===null||YX===void 0?void 0:YX.slice(1);if(exe&&Number(exe.match(/^([^.]+)/)[1])<X4e)throw Error(`yargs parser supports a minimum Node.js version of ${X4e}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var Xlt=process?process.env:{},nxe=new JL({cwd:process.cwd,env:o(()=>Xlt,"env"),format:txe.format,normalize:ZL.normalize,resolve:ZL.resolve,require:o(e=>{if(typeof require<"u")return require(e);if(e.match(/\.json$/))return JSON.parse((0,rxe.readFileSync)(e,"utf8"));throw Error("only .json config files are supported in ESM")},"require")}),Yw=o(function(t,r){return nxe.parse(t.slice(),r).argv},"Parser");Yw.detailed=function(e,t){return nxe.parse(e.slice(),t)};Yw.camelCase=R4;Yw.decamelize=YL;Yw.looksLikeNumber=KL;var ixe=Yw;var th=require("path");d();function ect(){return tct()?0:1}o(ect,"getProcessArgvBinIndex");function tct(){return rct()&&!process.defaultApp}o(tct,"isBundledElectronApp");function rct(){return!!process.versions.electron}o(rct,"isElectronApp");function oxe(){return process.argv[ect()]}o(oxe,"getProcessArgvBin");d();var hs=class e extends Error{static{o(this,"YError")}constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,e)}};d();d();var DI=require("fs"),sxe=require("util"),axe=require("path");var lxe={fs:{readFileSync:DI.readFileSync,writeFile:DI.writeFile},format:sxe.format,resolve:axe.resolve,exists:o(e=>{try{return(0,DI.statSync)(e).isFile()}catch{return!1}},"exists")};d();var eh,KX=class{static{o(this,"Y18N")}constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let r=t.shift(),n=o(function(){},"cb");return typeof t[t.length-1]=="function"&&(n=t.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]=r,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n(),eh.format.apply(eh.format,[this.cache[this.locale][r]||r].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),r=t.shift(),n=t.shift(),i=t.shift(),s=o(function(){},"cb");typeof t[t.length-1]=="function"&&(s=t.pop()),this.cache[this.locale]||this._readLocaleFile();let a=i===1?r:n;this.cache[this.locale][r]&&(a=this.cache[this.locale][r][i===1?"one":"other"]),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]={one:r,other:n},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s();let l=[a];return~a.indexOf("%d")&&l.push(i),eh.format.apply(eh.format,l.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.cache[this.locale][r]=t[r])}_taggedLiteral(t,...r){let n="";return t.forEach(function(i,s){let a=r[s+1];n+=i,typeof a<"u"&&(n+="%s")}),this.__.apply(this,[n].concat([].slice.call(r,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,r=this.writeQueue[0],n=r.directory,i=r.locale,s=r.cb,a=this._resolveLocaleFile(n,i),l=JSON.stringify(this.cache[i],null,2);eh.fs.writeFile(a,l,"utf-8",function(c){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),s(c)})}_readLocaleFile(){let t={},r=this._resolveLocaleFile(this.directory,this.locale);try{eh.fs.readFileSync&&(t=JSON.parse(eh.fs.readFileSync(r,"utf-8")))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+r),n.code==="ENOENT")t={};else throw n}this.cache[this.locale]=t}_resolveLocaleFile(t,r){let n=eh.resolve(t,"./",r+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~r.lastIndexOf("_")){let i=eh.resolve(t,"./",r.split("_")[0]+".json");this._fileExistsSync(i)&&(n=i)}return n}_fileExistsSync(t){return eh.exists(t)}};function cxe(e,t){eh=t;let r=new KX(e);return{__:r.__.bind(r),__n:r.__n.bind(r),setLocale:r.setLocale.bind(r),getLocale:r.getLocale.bind(r),updateLocale:r.updateLocale.bind(r),locale:r.locale}}o(cxe,"y18n");var nct=o(e=>cxe(e,lxe),"y18n"),uxe=nct;var ict="require is not supported by ESM",fxe="loading a directory of commands is not supported yet for ESM",Kw;try{Kw=(0,hxe.fileURLToPath)(importMetaUrlShim)}catch{Kw=process.cwd()}var oct=Kw.substring(0,Kw.lastIndexOf("node_modules")),pxe={assert:{notStrictEqual:XL.notStrictEqual,strictEqual:XL.strictEqual},cliui:HX,findUp:jX,getEnv:o(e=>process.env[e],"getEnv"),inspect:dxe.inspect,getCallerFile:o(()=>{throw new hs(fxe)},"getCallerFile"),getProcessArgvBin:oxe,mainFilename:oct||process.cwd(),Parser:ixe,path:{basename:th.basename,dirname:th.dirname,extname:th.extname,relative:th.relative,resolve:th.resolve},process:{argv:o(()=>process.argv,"argv"),cwd:process.cwd,emitWarning:o((e,t)=>process.emitWarning(e,t),"emitWarning"),execPath:o(()=>process.execPath,"execPath"),exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:mxe.readFileSync,require:o(()=>{throw new hs(ict)},"require"),requireDirectory:o(()=>{throw new hs(fxe)},"requireDirectory"),stringWidth:o(e=>[...e].length,"stringWidth"),y18n:uxe({directory:(0,th.resolve)(Kw,"../../../locales"),updateFiles:!1})};d();d();d();function s0(e,t,r,n){r.assert.notStrictEqual(e,t,n)}o(s0,"assertNotStrictEqual");function JX(e,t){t.assert.strictEqual(typeof e,"string")}o(JX,"assertSingleKey");function PI(e){return Object.keys(e)}o(PI,"objectKeys");d();function ps(e){return!!e&&!!e.then&&typeof e.then=="function"}o(ps,"isPromise");d();d();d();function i5(e){let r=e.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,i=r.shift();if(!i)throw new Error(`No command found in: ${e}`);let s={cmd:i.replace(n,""),demanded:[],optional:[]};return r.forEach((a,l)=>{let c=!1;a=a.replace(/\s/g,""),/\.+[\]>]/.test(a)&&l===r.length-1&&(c=!0),/^\[/.test(a)?s.optional.push({cmd:a.replace(n,"").split("|"),variadic:c}):s.demanded.push({cmd:a.replace(n,"").split("|"),variadic:c})}),s}o(i5,"parseCommand");var sct=["first","second","third","fourth","fifth","sixth"];function Pr(e,t,r){function n(){return typeof e=="object"?[{demanded:[],optional:[]},e,t]:[i5(`cmd ${e}`),t,r]}o(n,"parseArgs");try{let i=0,[s,a,l]=n(),c=[].slice.call(a);for(;c.length&&c[c.length-1]===void 0;)c.pop();let u=l||c.length;if(u<s.demanded.length)throw new hs(`Not enough arguments provided. Expected ${s.demanded.length} but received ${c.length}.`);let f=s.demanded.length+s.optional.length;if(u>f)throw new hs(`Too many arguments provided. Expected max ${f} but received ${u}.`);s.demanded.forEach(m=>{let h=c.shift(),p=gxe(h);m.cmd.filter(x=>x===p||x==="*").length===0&&Axe(p,m.cmd,i),i+=1}),s.optional.forEach(m=>{if(c.length===0)return;let h=c.shift(),p=gxe(h);m.cmd.filter(x=>x===p||x==="*").length===0&&Axe(p,m.cmd,i),i+=1})}catch(i){console.warn(i.stack)}}o(Pr,"argsert");function gxe(e){return Array.isArray(e)?"array":e===null?"null":typeof e}o(gxe,"guessType");function Axe(e,t,r){throw new hs(`Invalid ${sct[r]||"manyith"} argument. Expected ${t.join(" or ")} but received ${e}.`)}o(Axe,"argumentTypeError");var eQ=class{static{o(this,"GlobalMiddleware")}constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,r,n=!0,i=!1){if(Pr("<array|function> [boolean] [boolean] [boolean]",[t,r,n],arguments.length),Array.isArray(t)){for(let s=0;s<t.length;s++){if(typeof t[s]!="function")throw Error("middleware must be a function");let a=t[s];a.applyBeforeValidation=r,a.global=n}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let s=t;s.applyBeforeValidation=r,s.global=n,s.mutates=i,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,r){let n=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let s=[...n[r]||[],r];return i.option?!s.includes(i.option):!0}),t.option=r,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function yxe(e){return e?e.map(t=>(t.applyBeforeValidation=!1,t)):[]}o(yxe,"commandMiddlewareFactory");function B4(e,t,r,n){return r.reduce((i,s)=>{if(s.applyBeforeValidation!==n)return i;if(s.mutates){if(s.applied)return i;s.applied=!0}if(ps(i))return i.then(a=>Promise.all([a,s(a,t)])).then(([a,l])=>Object.assign(a,l));{let a=s(i,t);return ps(a)?a.then(l=>Object.assign(i,l)):Object.assign(i,a)}},e)}o(B4,"applyMiddleware");d();function D4(e,t,r=n=>{throw n}){try{let n=act(e)?e():e;return ps(n)?n.then(i=>t(i)):t(n)}catch(n){return r(n)}}o(D4,"maybeAsyncResult");function act(e){return typeof e=="function"}o(act,"isFunction");d();function ZX(e){if(typeof require>"u")return null;for(let t=0,r=Object.keys(require.cache),n;t<r.length;t++)if(n=require.cache[r[t]],n.exports===e)return n;return null}o(ZX,"whichModule");var FI=/(^\*)|(^\$0)/,XX=class{static{o(this,"CommandInstance")}constructor(t,r,n,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=t,this.globalMiddleware=n,this.validation=r}addDirectory(t,r,n,i){i=i||{},typeof i.recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let s=typeof i.visit=="function"?i.visit:a=>a;i.visit=(a,l,c)=>{let u=s(a,l,c);if(u){if(this.requireCache.has(l))return u;this.requireCache.add(l),this.addHandler(u)}return u},this.shim.requireDirectory({require:r,filename:n},t,i)}addHandler(t,r,n,i,s,a){let l=[],c=yxe(s);if(i=i||(()=>{}),Array.isArray(t))if(lct(t))[t,...l]=t;else for(let u of t)this.addHandler(u);else if(uct(t)){let u=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);t.aliases&&(u=[].concat(u).concat(t.aliases)),this.addHandler(u,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated);return}else if(Cxe(n)){this.addHandler([t].concat(l),r,n.builder,n.handler,n.middlewares,n.deprecated);return}if(typeof t=="string"){let u=i5(t);l=l.map(h=>i5(h).cmd);let f=!1,m=[u.cmd].concat(l).filter(h=>FI.test(h)?(f=!0,!1):!0);m.length===0&&f&&m.push("$0"),f&&(u.cmd=m[0],l=m.slice(1),t=t.replace(FI,u.cmd)),l.forEach(h=>{this.aliasMap[h]=u.cmd}),r!==!1&&this.usage.command(t,r,f,l,a),this.handlers[u.cmd]={original:t,description:r,handler:i,builder:n||{},middlewares:c,deprecated:a,demanded:u.demanded,optional:u.optional},f&&(this.defaultCommand=this.handlers[u.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,r,n,i,s,a){let l=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,c=r.getInternalMethods().getContext(),u=c.commands.slice(),f=!t;t&&(c.commands.push(t),c.fullCommands.push(l.original));let m=this.applyBuilderUpdateUsageAndParse(f,l,r,n.aliases,u,i,s,a);return ps(m)?m.then(h=>this.applyMiddlewareAndGetResult(f,l,h.innerArgv,c,s,h.aliases,r)):this.applyMiddlewareAndGetResult(f,l,m.innerArgv,c,s,m.aliases,r)}applyBuilderUpdateUsageAndParse(t,r,n,i,s,a,l,c){let u=r.builder,f=n;if(tQ(u)){n.getInternalMethods().getUsageInstance().freeze();let m=u(n.getInternalMethods().reset(i),c);if(ps(m))return m.then(h=>(f=vxe(h)?h:n,this.parseAndUpdateUsage(t,r,f,s,a,l)))}else cct(u)&&(n.getInternalMethods().getUsageInstance().freeze(),f=n.getInternalMethods().reset(i),Object.keys(r.builder).forEach(m=>{f.option(m,u[m])}));return this.parseAndUpdateUsage(t,r,f,s,a,l)}parseAndUpdateUsage(t,r,n,i,s,a){t&&n.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(n)&&n.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,r),r.description);let l=n.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,s,a);return ps(l)?l.then(c=>({aliases:n.parsed.aliases,innerArgv:c})):{aliases:n.parsed.aliases,innerArgv:l}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,r){let n=FI.test(r.original)?r.original.replace(FI,"").trim():r.original,i=t.filter(s=>!FI.test(s));return i.push(n),`$0 ${i.join(" ")}`}handleValidationAndGetResult(t,r,n,i,s,a,l,c){if(!a.getInternalMethods().getHasOutput()){let u=a.getInternalMethods().runValidation(s,c,a.parsed.error,t);n=D4(n,f=>(u(f),f))}if(r.handler&&!a.getInternalMethods().getHasOutput()){a.getInternalMethods().setHasOutput();let u=!!a.getOptions().configuration["populate--"];a.getInternalMethods().postProcess(n,u,!1,!1),n=B4(n,a,l,!1),n=D4(n,f=>{let m=r.handler(f);return ps(m)?m.then(()=>f):f}),t||a.getInternalMethods().getUsageInstance().cacheHelpMessage(),ps(n)&&!a.getInternalMethods().hasParseCallback()&&n.catch(f=>{try{a.getInternalMethods().getUsageInstance().fail(null,f)}catch{}})}return t||(i.commands.pop(),i.fullCommands.pop()),n}applyMiddlewareAndGetResult(t,r,n,i,s,a,l){let c={};if(s)return n;l.getInternalMethods().getHasOutput()||(c=this.populatePositionals(r,n,i,l));let u=this.globalMiddleware.getMiddleware().slice(0).concat(r.middlewares),f=B4(n,l,u,!0);return ps(f)?f.then(m=>this.handleValidationAndGetResult(t,r,m,i,a,l,u,c)):this.handleValidationAndGetResult(t,r,f,i,a,l,u,c)}populatePositionals(t,r,n,i){r._=r._.slice(n.commands.length);let s=t.demanded.slice(0),a=t.optional.slice(0),l={};for(this.validation.positionalCount(s.length,r._.length);s.length;){let c=s.shift();this.populatePositional(c,r,l)}for(;a.length;){let c=a.shift();this.populatePositional(c,r,l)}return r._=n.commands.concat(r._.map(c=>""+c)),this.postProcessPositionals(r,l,this.cmdToParseOptions(t.original),i),l}populatePositional(t,r,n){let i=t.cmd[0];t.variadic?n[i]=r._.splice(0).map(String):r._.length&&(n[i]=[String(r._.shift())])}cmdToParseOptions(t){let r={array:[],default:{},alias:{},demand:{}},n=i5(t);return n.demanded.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(r.array.push(s),r.default[s]=[]),r.alias[s]=a,r.demand[s]=!0}),n.optional.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(r.array.push(s),r.default[s]=[]),r.alias[s]=a}),r}postProcessPositionals(t,r,n,i){let s=Object.assign({},i.getOptions());s.default=Object.assign(n.default,s.default);for(let u of Object.keys(n.alias))s.alias[u]=(s.alias[u]||[]).concat(n.alias[u]);s.array=s.array.concat(n.array),s.config={};let a=[];if(Object.keys(r).forEach(u=>{r[u].map(f=>{s.configuration["unknown-options-as-args"]&&(s.key[u]=!0),a.push(`--${u}`),a.push(f)})}),!a.length)return;let l=Object.assign({},s.configuration,{"populate--":!1}),c=this.shim.Parser.detailed(a,Object.assign({},s,{configuration:l}));if(c.error)i.getInternalMethods().getUsageInstance().fail(c.error.message,c.error);else{let u=Object.keys(r);Object.keys(r).forEach(f=>{u.push(...c.aliases[f])}),Object.keys(c.argv).forEach(f=>{u.includes(f)&&(r[f]||(r[f]=c.argv[f]),!this.isInConfigs(i,f)&&!this.isDefaulted(i,f)&&Object.prototype.hasOwnProperty.call(t,f)&&Object.prototype.hasOwnProperty.call(c.argv,f)&&(Array.isArray(t[f])||Array.isArray(c.argv[f]))?t[f]=[].concat(t[f],c.argv[f]):t[f]=c.argv[f])})}}isDefaulted(t,r){let{default:n}=t.getOptions();return Object.prototype.hasOwnProperty.call(n,r)||Object.prototype.hasOwnProperty.call(n,this.shim.Parser.camelCase(r))}isInConfigs(t,r){let{configObjects:n}=t.getOptions();return n.some(i=>Object.prototype.hasOwnProperty.call(i,r))||n.some(i=>Object.prototype.hasOwnProperty.call(i,this.shim.Parser.camelCase(r)))}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let n=FI.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(n,this.defaultCommand.description)}let r=this.defaultCommand.builder;if(tQ(r))return r(t,!0);Cxe(r)||Object.keys(r).forEach(n=>{t.option(n,r[n])})}moduleName(t){let r=ZX(t);if(!r)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(r.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:r,desc:n}){for(let i of[t,r,n]){if(typeof i=="string"||i===!1)return i;s0(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();s0(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function xxe(e,t,r,n){return new XX(e,t,r,n)}o(xxe,"command");function Cxe(e){return typeof e=="object"&&!!e.builder&&typeof e.handler=="function"}o(Cxe,"isCommandBuilderDefinition");function lct(e){return e.every(t=>typeof t=="string")}o(lct,"isCommandAndAliases");function tQ(e){return typeof e=="function"}o(tQ,"isCommandBuilderCallback");function cct(e){return typeof e=="object"}o(cct,"isCommandBuilderOptionDefinitions");function uct(e){return typeof e=="object"&&!Array.isArray(e)}o(uct,"isCommandHandlerDefinition");d();d();function o5(e={},t=()=>!0){let r={};return PI(e).forEach(n=>{t(n,e[n])&&(r[n]=e[n])}),r}o(o5,"objFilter");d();function s5(e){typeof process>"u"||[process.stdout,process.stderr].forEach(t=>{let r=t;r._handle&&r.isTTY&&typeof r._handle.setBlocking=="function"&&r._handle.setBlocking(e)})}o(s5,"setBlocking");function fct(e){return typeof e=="boolean"}o(fct,"isBoolean");function Exe(e,t){let r=t.y18n.__,n={},i=[];n.failFn=o(function(U){i.push(U)},"failFn");let s=null,a=null,l=!0;n.showHelpOnFail=o(function(U=!0,ne){let[J,j]=typeof U=="string"?[!0,U]:[U,ne];return e.getInternalMethods().isGlobalContext()&&(a=j),s=j,l=J,n},"showHelpOnFailFn");let c=!1;n.fail=o(function(U,ne){let J=e.getInternalMethods().getLoggerInstance();if(i.length)for(let j=i.length-1;j>=0;--j){let O=i[j];if(fct(O)){if(ne)throw ne;if(U)throw Error(U)}else O(U,ne,n)}else{if(e.getExitProcess()&&s5(!0),!c){c=!0,l&&(e.showHelp("error"),J.error()),(U||ne)&&J.error(U||ne);let j=s||a;j&&((U||ne)&&J.error(""),J.error(j))}if(ne=ne||new hs(U),e.getExitProcess())return e.exit(1);if(e.getInternalMethods().hasParseCallback())return e.exit(1,ne);throw ne}},"fail");let u=[],f=!1;n.usage=(G,U)=>G===null?(f=!0,u=[],n):(f=!1,u.push([G,U||""]),n),n.getUsage=()=>u,n.getUsageDisabled=()=>f,n.getPositionalGroupName=()=>r("Positionals:");let m=[];n.example=(G,U)=>{m.push([G,U||""])};let h=[];n.command=o(function(U,ne,J,j,O=!1){J&&(h=h.map(V=>(V[2]=!1,V))),h.push([U,ne||"",J,j,O])},"command"),n.getCommands=()=>h;let p={};n.describe=o(function(U,ne){Array.isArray(U)?U.forEach(J=>{n.describe(J,ne)}):typeof U=="object"?Object.keys(U).forEach(J=>{n.describe(J,U[J])}):p[U]=ne},"describe"),n.getDescriptions=()=>p;let A=[];n.epilog=G=>{A.push(G)};let x=!1,v;n.wrap=G=>{x=!0,v=G},n.getWrap=()=>t.getEnv("YARGS_DISABLE_WRAP")?null:(x||(v=se(),x=!0),v);let E="__yargsString__:";n.deferY18nLookup=G=>E+G,n.help=o(function(){if(R)return R;_();let U=e.customScriptName?e.$0:t.path.basename(e.$0),ne=e.getDemandedOptions(),J=e.getDemandedCommands(),j=e.getDeprecatedOptions(),O=e.getGroups(),V=e.getOptions(),Z=[];Z=Z.concat(Object.keys(p)),Z=Z.concat(Object.keys(ne)),Z=Z.concat(Object.keys(J)),Z=Z.concat(Object.keys(V.default)),Z=Z.filter(F),Z=Object.keys(Z.reduce((ke,Ze)=>(Ze!=="_"&&(ke[Ze]=!0),ke),{}));let ae=n.getWrap(),te=t.cliui({width:ae,wrap:!!ae});if(!f){if(u.length)u.forEach(ke=>{te.div({text:`${ke[0].replace(/\$0/g,U)}`}),ke[1]&&te.div({text:`${ke[1]}`,padding:[1,0,0,0]})}),te.div();else if(h.length){let ke=null;J._?ke=`${U} <${r("command")}>
`:ke=`${U} [${r("command")}]
`,te.div(`${ke}`)}}if(h.length>1||h.length===1&&!h[0][2]){te.div(r("Commands:"));let ke=e.getInternalMethods().getContext(),Ze=ke.commands.length?`${ke.commands.join(" ")} `:"";e.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(h=h.sort((at,lt)=>at[0].localeCompare(lt[0])));let ft=U?`${U} `:"";h.forEach(at=>{let lt=`${ft}${Ze}${at[0].replace(/^\$0 ?/,"")}`;te.span({text:lt,padding:[0,2,0,2],width:b(h,ae,`${U}${Ze}`)+4},{text:at[1]});let ie=[];at[2]&&ie.push(`[${r("default")}]`),at[3]&&at[3].length&&ie.push(`[${r("aliases:")} ${at[3].join(", ")}]`),at[4]&&(typeof at[4]=="string"?ie.push(`[${r("deprecated: %s",at[4])}]`):ie.push(`[${r("deprecated")}]`)),ie.length?te.div({text:ie.join(" "),padding:[0,0,0,2],align:"right"}):te.div()}),te.div()}let le=(Object.keys(V.alias)||[]).concat(Object.keys(e.parsed.newAliases)||[]);Z=Z.filter(ke=>!e.parsed.newAliases[ke]&&le.every(Ze=>(V.alias[Ze]||[]).indexOf(ke)===-1));let fe=r("Options:");O[fe]||(O[fe]=[]),P(Z,V.alias,O,fe);let De=o(ke=>/^--/.test(rQ(ke)),"isLongSwitch"),ve=Object.keys(O).filter(ke=>O[ke].length>0).map(ke=>{let Ze=O[ke].filter(F).map(ft=>{if(le.includes(ft))return ft;for(let at=0,lt;(lt=le[at])!==void 0;at++)if((V.alias[lt]||[]).includes(ft))return lt;return ft});return{groupName:ke,normalizedKeys:Ze}}).filter(({normalizedKeys:ke})=>ke.length>0).map(({groupName:ke,normalizedKeys:Ze})=>{let ft=Ze.reduce((at,lt)=>(at[lt]=[lt].concat(V.alias[lt]||[]).map(ie=>ke===n.getPositionalGroupName()?ie:(/^[0-9]$/.test(ie)?V.boolean.includes(lt)?"-":"--":ie.length>1?"--":"-")+ie).sort((ie,Fe)=>De(ie)===De(Fe)?0:De(ie)?1:-1).join(", "),at),{});return{groupName:ke,normalizedKeys:Ze,switches:ft}});if(ve.filter(({groupName:ke})=>ke!==n.getPositionalGroupName()).some(({normalizedKeys:ke,switches:Ze})=>!ke.every(ft=>De(Ze[ft])))&&ve.filter(({groupName:ke})=>ke!==n.getPositionalGroupName()).forEach(({normalizedKeys:ke,switches:Ze})=>{ke.forEach(ft=>{De(Ze[ft])&&(Ze[ft]=dct(Ze[ft],4))})}),ve.forEach(({groupName:ke,normalizedKeys:Ze,switches:ft})=>{te.div(ke),Ze.forEach(at=>{let lt=ft[at],ie=p[at]||"",Fe=null;ie.includes(E)&&(ie=r(ie.substring(E.length))),V.boolean.includes(at)&&(Fe=`[${r("boolean")}]`),V.count.includes(at)&&(Fe=`[${r("count")}]`),V.string.includes(at)&&(Fe=`[${r("string")}]`),V.normalize.includes(at)&&(Fe=`[${r("string")}]`),V.array.includes(at)&&(Fe=`[${r("array")}]`),V.number.includes(at)&&(Fe=`[${r("number")}]`);let Ae=o(ee=>typeof ee=="string"?`[${r("deprecated: %s",ee)}]`:`[${r("deprecated")}]`,"deprecatedExtra"),Ge=[at in j?Ae(j[at]):null,Fe,at in ne?`[${r("required")}]`:null,V.choices&&V.choices[at]?`[${r("choices:")} ${n.stringifiedValues(V.choices[at])}]`:null,W(V.default[at],V.defaultDescription[at])].filter(Boolean).join(" ");te.span({text:rQ(lt),padding:[0,2,0,2+bxe(lt)],width:b(ft,ae)+4},ie);let z=e.getInternalMethods().getUsageConfiguration()["hide-types"]===!0;Ge&&!z?te.div({text:Ge,padding:[0,0,0,2],align:"right"}):te.div()}),te.div()}),m.length&&(te.div(r("Examples:")),m.forEach(ke=>{ke[0]=ke[0].replace(/\$0/g,U)}),m.forEach(ke=>{ke[1]===""?te.div({text:ke[0],padding:[0,2,0,2]}):te.div({text:ke[0],padding:[0,2,0,2],width:b(m,ae)+4},{text:ke[1]})}),te.div()),A.length>0){let ke=A.map(Ze=>Ze.replace(/\$0/g,U)).join(`
`);te.div(`${ke}
`)}return te.toString().replace(/\s*$/,"")},"help");function b(G,U,ne){let J=0;return Array.isArray(G)||(G=Object.values(G).map(j=>[j])),G.forEach(j=>{J=Math.max(t.stringWidth(ne?`${ne} ${rQ(j[0])}`:rQ(j[0]))+bxe(j[0]),J)}),U&&(J=Math.min(J,parseInt((U*.5).toString(),10))),J}o(b,"maxWidth");function _(){let G=e.getDemandedOptions(),U=e.getOptions();(Object.keys(U.alias)||[]).forEach(ne=>{U.alias[ne].forEach(J=>{p[J]&&n.describe(ne,p[J]),J in G&&e.demandOption(ne,G[J]),U.boolean.includes(J)&&e.boolean(ne),U.count.includes(J)&&e.count(ne),U.string.includes(J)&&e.string(ne),U.normalize.includes(J)&&e.normalize(ne),U.array.includes(J)&&e.array(ne),U.number.includes(J)&&e.number(ne)})})}o(_,"normalizeAliases");let R;n.cacheHelpMessage=function(){R=this.help()},n.clearCachedHelpMessage=function(){R=void 0},n.hasCachedHelpMessage=function(){return!!R};function P(G,U,ne,J){let j=[],O=null;return Object.keys(ne).forEach(V=>{j=j.concat(ne[V])}),G.forEach(V=>{O=[V].concat(U[V]),O.some(Z=>j.indexOf(Z)!==-1)||ne[J].push(V)}),j}o(P,"addUngroupedKeys");function F(G){return e.getOptions().hiddenOptions.indexOf(G)<0||e.parsed.argv[e.getOptions().showHiddenOpt]}o(F,"filterHiddenOptions"),n.showHelp=G=>{let U=e.getInternalMethods().getLoggerInstance();G||(G="error"),(typeof G=="function"?G:U[G])(n.help())},n.functionDescription=G=>["(",G.name?t.Parser.decamelize(G.name,"-"):r("generated-value"),")"].join(""),n.stringifiedValues=o(function(U,ne){let J="",j=ne||", ",O=[].concat(U);return!U||!O.length||O.forEach(V=>{J.length&&(J+=j),J+=JSON.stringify(V)}),J},"stringifiedValues");function W(G,U){let ne=`[${r("default:")} `;if(G===void 0&&!U)return null;if(U)ne+=U;else switch(typeof G){case"string":ne+=`"${G}"`;break;case"object":ne+=JSON.stringify(G);break;default:ne+=G}return`${ne}]`}o(W,"defaultString");function se(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}o(se,"windowWidth");let de=null;n.version=G=>{de=G},n.showVersion=G=>{let U=e.getInternalMethods().getLoggerInstance();G||(G="error"),(typeof G=="function"?G:U[G])(de)},n.reset=o(function(U){return s=null,c=!1,u=[],f=!1,A=[],m=[],h=[],p=o5(p,ne=>!U[ne]),n},"reset");let re=[];return n.freeze=o(function(){re.push({failMessage:s,failureOutput:c,usages:u,usageDisabled:f,epilogs:A,examples:m,commands:h,descriptions:p})},"freeze"),n.unfreeze=o(function(U=!1){let ne=re.pop();ne&&(U?(p={...ne.descriptions,...p},h=[...ne.commands,...h],u=[...ne.usages,...u],m=[...ne.examples,...m],A=[...ne.epilogs,...A]):{failMessage:s,failureOutput:c,usages:u,usageDisabled:f,epilogs:A,examples:m,commands:h,descriptions:p}=ne)},"unfreeze"),n}o(Exe,"usage");function eee(e){return typeof e=="object"}o(eee,"isIndentedText");function dct(e,t){return eee(e)?{text:e.text,indentation:e.indentation+t}:{text:e,indentation:t}}o(dct,"addIndentation");function bxe(e){return eee(e)?e.indentation:0}o(bxe,"getIndentation");function rQ(e){return eee(e)?e.text:e}o(rQ,"getText");d();d();var Ixe=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,Txe=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var tee=class{static{o(this,"Completion")}constructor(t,r,n,i){var s,a,l;this.yargs=t,this.usage=r,this.command=n,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(l=((s=this.shim.getEnv("SHELL"))===null||s===void 0?void 0:s.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&l!==void 0?l:!1}defaultCompletion(t,r,n,i){let s=this.command.getCommandHandlers();for(let l=0,c=t.length;l<c;++l)if(s[t[l]]&&s[t[l]].builder){let u=s[t[l]].builder;if(tQ(u)){this.indexAfterLastReset=l+1;let f=this.yargs.getInternalMethods().reset();return u(f,!0),f.argv}}let a=[];this.commandCompletions(a,t,n),this.optionCompletions(a,t,r,n),this.choicesFromOptionsCompletions(a,t,r,n),this.choicesFromPositionalsCompletions(a,t,r,n),i(null,a)}commandCompletions(t,r,n){let i=this.yargs.getInternalMethods().getContext().commands;!n.match(/^-/)&&i[i.length-1]!==n&&!this.previousArgHasChoices(r)&&this.usage.getCommands().forEach(s=>{let a=i5(s[0]).cmd;if(r.indexOf(a)===-1)if(!this.zshShell)t.push(a);else{let l=s[1]||"";t.push(a.replace(/:/g,"\\:")+":"+l)}})}optionCompletions(t,r,n,i){if((i.match(/^-/)||i===""&&t.length===0)&&!this.previousArgHasChoices(r)){let s=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(s.key).forEach(l=>{let c=!!s.configuration["boolean-negation"]&&s.boolean.includes(l);!a.includes(l)&&!s.hiddenOptions.includes(l)&&!this.argsContainKey(r,l,c)&&this.completeOptionKey(l,t,i,c&&!!s.default[l])})}}choicesFromOptionsCompletions(t,r,n,i){if(this.previousArgHasChoices(r)){let s=this.getPreviousArgChoices(r);s&&s.length>0&&t.push(...s.map(a=>a.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(t,r,n,i){if(i===""&&t.length>0&&this.previousArgHasChoices(r))return;let s=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],a=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),l=s[n._.length-a-1];if(!l)return;let c=this.yargs.getOptions().choices[l]||[];for(let u of c)u.startsWith(i)&&t.push(u.replace(/:/g,"\\:"))}getPreviousArgChoices(t){if(t.length<1)return;let r=t[t.length-1],n="";if(!r.startsWith("-")&&t.length>1&&(n=r,r=t[t.length-2]),!r.startsWith("-"))return;let i=r.replace(/^-+/,""),s=this.yargs.getOptions(),a=[i,...this.yargs.getAliases()[i]||[]],l;for(let c of a)if(Object.prototype.hasOwnProperty.call(s.key,c)&&Array.isArray(s.choices[c])){l=s.choices[c];break}if(l)return l.filter(c=>!n||c.startsWith(n))}previousArgHasChoices(t){let r=this.getPreviousArgChoices(t);return r!==void 0&&r.length>0}argsContainKey(t,r,n){let i=o(s=>t.indexOf((/^[^0-9]$/.test(s)?"-":"--")+s)!==-1,"argsContains");if(i(r)||n&&i(`no-${r}`))return!0;if(this.aliases){for(let s of this.aliases[r])if(i(s))return!0}return!1}completeOptionKey(t,r,n,i){var s,a,l,c;let u=t;if(this.zshShell){let p=this.usage.getDescriptions(),A=(a=(s=this===null||this===void 0?void 0:this.aliases)===null||s===void 0?void 0:s[t])===null||a===void 0?void 0:a.find(E=>{let b=p[E];return typeof b=="string"&&b.length>0}),x=A?p[A]:void 0,v=(c=(l=p[t])!==null&&l!==void 0?l:x)!==null&&c!==void 0?c:"";u=`${t.replace(/:/g,"\\:")}:${v.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`}let f=o(p=>/^--/.test(p),"startsByTwoDashes"),m=o(p=>/^[^0-9]$/.test(p),"isShortOption"),h=!f(n)&&m(t)?"-":"--";r.push(h+u),i&&r.push(h+"no-"+u)}customCompletion(t,r,n,i){if(s0(this.customCompletionFunction,null,this.shim),hct(this.customCompletionFunction)){let s=this.customCompletionFunction(n,r);return ps(s)?s.then(a=>{this.shim.process.nextTick(()=>{i(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{i(a,void 0)})}):i(null,s)}else return pct(this.customCompletionFunction)?this.customCompletionFunction(n,r,(s=i)=>this.defaultCompletion(t,r,n,s),s=>{i(null,s)}):this.customCompletionFunction(n,r,s=>{i(null,s)})}getCompletion(t,r){let n=t.length?t[t.length-1]:"",i=this.yargs.parse(t,!0),s=this.customCompletionFunction?a=>this.customCompletion(t,a,n,r):a=>this.defaultCompletion(t,a,n,r);return ps(i)?i.then(s):s(i)}generateCompletionScript(t,r){let n=this.zshShell?Txe:Ixe,i=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),n=n.replace(/{{app_name}}/g,i),n=n.replace(/{{completion_command}}/g,r),n.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function wxe(e,t,r,n){return new tee(e,t,r,n)}o(wxe,"completion");function hct(e){return e.length<3}o(hct,"isSyncCompletionFunction");function pct(e){return e.length>3}o(pct,"isFallbackCompletionFunction");d();d();function _xe(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;let r=[],n;for(n=0;n<=t.length;n++)r[n]=[n];let i;for(i=0;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)t.charAt(n-1)===e.charAt(i-1)?r[n][i]=r[n-1][i-1]:n>1&&i>1&&t.charAt(n-2)===e.charAt(i-1)&&t.charAt(n-1)===e.charAt(i-2)?r[n][i]=r[n-2][i-2]+1:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]}o(_xe,"levenshtein");var Sxe=["$0","--","_"];function kxe(e,t,r){let n=r.y18n.__,i=r.y18n.__n,s={};s.nonOptionCount=o(function(m){let h=e.getDemandedCommands(),A=m._.length+(m["--"]?m["--"].length:0)-e.getInternalMethods().getContext().commands.length;h._&&(A<h._.min||A>h._.max)&&(A<h._.min?h._.minMsg!==void 0?t.fail(h._.minMsg?h._.minMsg.replace(/\$0/g,A.toString()).replace(/\$1/,h._.min.toString()):null):t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",A,A.toString(),h._.min.toString())):A>h._.max&&(h._.maxMsg!==void 0?t.fail(h._.maxMsg?h._.maxMsg.replace(/\$0/g,A.toString()).replace(/\$1/,h._.max.toString()):null):t.fail(i("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",A,A.toString(),h._.max.toString()))))},"nonOptionCount"),s.positionalCount=o(function(m,h){h<m&&t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",h,h+"",m+""))},"positionalCount"),s.requiredArguments=o(function(m,h){let p=null;for(let A of Object.keys(h))(!Object.prototype.hasOwnProperty.call(m,A)||typeof m[A]>"u")&&(p=p||{},p[A]=h[A]);if(p){let A=[];for(let v of Object.keys(p)){let E=p[v];E&&A.indexOf(E)<0&&A.push(E)}let x=A.length?`
${A.join(`
`)}`:"";t.fail(i("Missing required argument: %s","Missing required arguments: %s",Object.keys(p).length,Object.keys(p).join(", ")+x))}},"requiredArguments"),s.unknownArguments=o(function(m,h,p,A,x=!0){var v;let E=e.getInternalMethods().getCommandInstance().getCommands(),b=[],_=e.getInternalMethods().getContext();if(Object.keys(m).forEach(R=>{!Sxe.includes(R)&&!Object.prototype.hasOwnProperty.call(p,R)&&!Object.prototype.hasOwnProperty.call(e.getInternalMethods().getParseContext(),R)&&!s.isValidAndSomeAliasIsNotNew(R,h)&&b.push(R)}),x&&(_.commands.length>0||E.length>0||A)&&m._.slice(_.commands.length).forEach(R=>{E.includes(""+R)||b.push(""+R)}),x){let P=((v=e.getDemandedCommands()._)===null||v===void 0?void 0:v.max)||0,F=_.commands.length+P;F<m._.length&&m._.slice(F).forEach(W=>{W=String(W),!_.commands.includes(W)&&!b.includes(W)&&b.push(W)})}b.length&&t.fail(i("Unknown argument: %s","Unknown arguments: %s",b.length,b.map(R=>R.trim()?R:`"${R}"`).join(", ")))},"unknownArguments"),s.unknownCommands=o(function(m){let h=e.getInternalMethods().getCommandInstance().getCommands(),p=[],A=e.getInternalMethods().getContext();return(A.commands.length>0||h.length>0)&&m._.slice(A.commands.length).forEach(x=>{h.includes(""+x)||p.push(""+x)}),p.length>0?(t.fail(i("Unknown command: %s","Unknown commands: %s",p.length,p.join(", "))),!0):!1},"unknownCommands"),s.isValidAndSomeAliasIsNotNew=o(function(m,h){if(!Object.prototype.hasOwnProperty.call(h,m))return!1;let p=e.parsed.newAliases;return[m,...h[m]].some(A=>!Object.prototype.hasOwnProperty.call(p,A)||!p[m])},"isValidAndSomeAliasIsNotNew"),s.limitedChoices=o(function(m){let h=e.getOptions(),p={};if(!Object.keys(h.choices).length)return;Object.keys(m).forEach(v=>{Sxe.indexOf(v)===-1&&Object.prototype.hasOwnProperty.call(h.choices,v)&&[].concat(m[v]).forEach(E=>{h.choices[v].indexOf(E)===-1&&E!==void 0&&(p[v]=(p[v]||[]).concat(E))})});let A=Object.keys(p);if(!A.length)return;let x=n("Invalid values:");A.forEach(v=>{x+=`
  ${n("Argument: %s, Given: %s, Choices: %s",v,t.stringifiedValues(p[v]),t.stringifiedValues(h.choices[v]))}`}),t.fail(x)},"limitedChoices");let a={};s.implies=o(function(m,h){Pr("<string|object> [array|number|string]",[m,h],arguments.length),typeof m=="object"?Object.keys(m).forEach(p=>{s.implies(p,m[p])}):(e.global(m),a[m]||(a[m]=[]),Array.isArray(h)?h.forEach(p=>s.implies(m,p)):(s0(h,void 0,r),a[m].push(h)))},"implies"),s.getImplied=o(function(){return a},"getImplied");function l(f,m){let h=Number(m);return m=isNaN(h)?m:h,typeof m=="number"?m=f._.length>=m:m.match(/^--no-.+/)?(m=m.match(/^--no-(.+)/)[1],m=!Object.prototype.hasOwnProperty.call(f,m)):m=Object.prototype.hasOwnProperty.call(f,m),m}o(l,"keyExists"),s.implications=o(function(m){let h=[];if(Object.keys(a).forEach(p=>{let A=p;(a[p]||[]).forEach(x=>{let v=A,E=x;v=l(m,v),x=l(m,x),v&&!x&&h.push(` ${A} -> ${E}`)})}),h.length){let p=`${n("Implications failed:")}
`;h.forEach(A=>{p+=A}),t.fail(p)}},"implications");let c={};s.conflicts=o(function(m,h){Pr("<string|object> [array|string]",[m,h],arguments.length),typeof m=="object"?Object.keys(m).forEach(p=>{s.conflicts(p,m[p])}):(e.global(m),c[m]||(c[m]=[]),Array.isArray(h)?h.forEach(p=>s.conflicts(m,p)):c[m].push(h))},"conflicts"),s.getConflicting=()=>c,s.conflicting=o(function(m){Object.keys(m).forEach(h=>{c[h]&&c[h].forEach(p=>{p&&m[h]!==void 0&&m[p]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",h,p))})}),e.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(c).forEach(h=>{c[h].forEach(p=>{p&&m[r.Parser.camelCase(h)]!==void 0&&m[r.Parser.camelCase(p)]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",h,p))})})},"conflictingFn"),s.recommendCommands=o(function(m,h){h=h.sort((v,E)=>E.length-v.length);let A=null,x=1/0;for(let v=0,E;(E=h[v])!==void 0;v++){let b=_xe(m,E);b<=3&&b<x&&(x=b,A=E)}A&&t.fail(n("Did you mean %s?",A))},"recommendCommands"),s.reset=o(function(m){return a=o5(a,h=>!m[h]),c=o5(c,h=>!m[h]),s},"reset");let u=[];return s.freeze=o(function(){u.push({implied:a,conflicting:c})},"freeze"),s.unfreeze=o(function(){let m=u.pop();s0(m,void 0,r),{implied:a,conflicting:c}=m},"unfreeze"),s}o(kxe,"validation");d();var ree=[],Jw;function nQ(e,t,r,n){Jw=n;let i={};if(Object.prototype.hasOwnProperty.call(e,"extends")){if(typeof e.extends!="string")return i;let s=/\.json|\..*rc$/.test(e.extends),a=null;if(s)a=Act(t,e.extends);else try{a=require.resolve(e.extends)}catch{return e}gct(a),ree.push(a),i=s?JSON.parse(Jw.readFileSync(a,"utf8")):require(e.extends),delete e.extends,i=nQ(i,Jw.path.dirname(a),r,Jw)}return ree=[],r?Rxe(i,e):Object.assign({},i,e)}o(nQ,"applyExtends");function gct(e){if(ree.indexOf(e)>-1)throw new hs(`Circular extended configurations: '${e}'.`)}o(gct,"checkForCircularExtends");function Act(e,t){return Jw.path.resolve(e,t)}o(Act,"getPathToDefaultConfig");function Rxe(e,t){let r={};function n(i){return i&&typeof i=="object"&&!Array.isArray(i)}o(n,"isObject"),Object.assign(r,e);for(let i of Object.keys(t))n(t[i])&&n(r[i])?r[i]=Rxe(e[i],t[i]):r[i]=t[i];return r}o(Rxe,"mergeDeep");var Nr=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},pe=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},ba,P4,Zw,bd,tf,iQ,a5,F4,oQ,Ed,sQ,Id,Up,rf,Td,aQ,NI,Tl,zr,lQ,cQ,nf,N4,LI,L4,l5,uQ,Dn,Q4,M4,O4,qn,fQ,qp,ea;function Kxe(e){return(t=[],r=e.process.cwd(),n)=>{let i=new mee(t,r,n,e);return Object.defineProperty(i,"argv",{get:o(()=>i.parse(),"get"),enumerable:!0}),i.help(),i.version(),i}}o(Kxe,"YargsFactory");var Bxe=Symbol("copyDoubleDash"),Dxe=Symbol("copyDoubleDash"),nee=Symbol("deleteFromParserHintObject"),Pxe=Symbol("emitWarning"),Fxe=Symbol("freeze"),Nxe=Symbol("getDollarZero"),U4=Symbol("getParserConfiguration"),Lxe=Symbol("getUsageConfiguration"),iee=Symbol("guessLocale"),Qxe=Symbol("guessVersion"),Mxe=Symbol("parsePositionalNumbers"),oee=Symbol("pkgUp"),c5=Symbol("populateParserHintArray"),QI=Symbol("populateParserHintSingleValueDictionary"),see=Symbol("populateParserHintArrayDictionary"),aee=Symbol("populateParserHintDictionary"),lee=Symbol("sanitizeKey"),cee=Symbol("setKey"),uee=Symbol("unfreeze"),Oxe=Symbol("validateAsync"),Uxe=Symbol("getCommandInstance"),qxe=Symbol("getContext"),Wxe=Symbol("getHasOutput"),Gxe=Symbol("getLoggerInstance"),Hxe=Symbol("getParseContext"),jxe=Symbol("getUsageInstance"),Vxe=Symbol("getValidationInstance"),dQ=Symbol("hasParseCallback"),$xe=Symbol("isGlobalContext"),q4=Symbol("postProcess"),zxe=Symbol("rebase"),fee=Symbol("reset"),Xw=Symbol("runYargsParserAndExecuteCommands"),dee=Symbol("runValidation"),Yxe=Symbol("setHasOutput"),W4=Symbol("kTrackManuallySetKeys"),mee=class{static{o(this,"YargsInstance")}constructor(t=[],r,n,i){this.customScriptName=!1,this.parsed=!1,ba.set(this,void 0),P4.set(this,void 0),Zw.set(this,{commands:[],fullCommands:[]}),bd.set(this,null),tf.set(this,null),iQ.set(this,"show-hidden"),a5.set(this,null),F4.set(this,!0),oQ.set(this,{}),Ed.set(this,!0),sQ.set(this,[]),Id.set(this,void 0),Up.set(this,{}),rf.set(this,!1),Td.set(this,null),aQ.set(this,!0),NI.set(this,void 0),Tl.set(this,""),zr.set(this,void 0),lQ.set(this,void 0),cQ.set(this,{}),nf.set(this,null),N4.set(this,null),LI.set(this,{}),L4.set(this,{}),l5.set(this,void 0),uQ.set(this,!1),Dn.set(this,void 0),Q4.set(this,!1),M4.set(this,!1),O4.set(this,!1),qn.set(this,void 0),fQ.set(this,{}),qp.set(this,null),ea.set(this,void 0),Nr(this,Dn,i,"f"),Nr(this,l5,t,"f"),Nr(this,P4,r,"f"),Nr(this,lQ,n,"f"),Nr(this,Id,new eQ(this),"f"),this.$0=this[Nxe](),this[fee](),Nr(this,ba,pe(this,ba,"f"),"f"),Nr(this,qn,pe(this,qn,"f"),"f"),Nr(this,ea,pe(this,ea,"f"),"f"),Nr(this,zr,pe(this,zr,"f"),"f"),pe(this,zr,"f").showHiddenOpt=pe(this,iQ,"f"),Nr(this,NI,this[Dxe](),"f")}addHelpOpt(t,r){let n="help";return Pr("[string|boolean] [string]",[t,r],arguments.length),pe(this,Td,"f")&&(this[nee](pe(this,Td,"f")),Nr(this,Td,null,"f")),t===!1&&r===void 0?this:(Nr(this,Td,typeof t=="string"?t:n,"f"),this.boolean(pe(this,Td,"f")),this.describe(pe(this,Td,"f"),r||pe(this,qn,"f").deferY18nLookup("Show help")),this)}help(t,r){return this.addHelpOpt(t,r)}addShowHiddenOpt(t,r){if(Pr("[string|boolean] [string]",[t,r],arguments.length),t===!1&&r===void 0)return this;let n=typeof t=="string"?t:pe(this,iQ,"f");return this.boolean(n),this.describe(n,r||pe(this,qn,"f").deferY18nLookup("Show hidden options")),pe(this,zr,"f").showHiddenOpt=n,this}showHidden(t,r){return this.addShowHiddenOpt(t,r)}alias(t,r){return Pr("<object|string|array> [string|array]",[t,r],arguments.length),this[see](this.alias.bind(this),"alias",t,r),this}array(t){return Pr("<array|string>",[t],arguments.length),this[c5]("array",t),this[W4](t),this}boolean(t){return Pr("<array|string>",[t],arguments.length),this[c5]("boolean",t),this[W4](t),this}check(t,r){return Pr("<function> [boolean]",[t,r],arguments.length),this.middleware((n,i)=>D4(()=>t(n,i.getOptions()),s=>(s?(typeof s=="string"||s instanceof Error)&&pe(this,qn,"f").fail(s.toString(),s):pe(this,qn,"f").fail(pe(this,Dn,"f").y18n.__("Argument check failed: %s",t.toString())),n),s=>(pe(this,qn,"f").fail(s.message?s.message:s.toString(),s),n)),!1,r),this}choices(t,r){return Pr("<object|string|array> [string|array]",[t,r],arguments.length),this[see](this.choices.bind(this),"choices",t,r),this}coerce(t,r){if(Pr("<object|string|array> [function]",[t,r],arguments.length),Array.isArray(t)){if(!r)throw new hs("coerce callback must be provided");for(let n of t)this.coerce(n,r);return this}else if(typeof t=="object"){for(let n of Object.keys(t))this.coerce(n,t[n]);return this}if(!r)throw new hs("coerce callback must be provided");return pe(this,zr,"f").key[t]=!0,pe(this,Id,"f").addCoerceMiddleware((n,i)=>{let s;return Object.prototype.hasOwnProperty.call(n,t)?D4(()=>(s=i.getAliases(),r(n[t])),l=>{n[t]=l;let c=i.getInternalMethods().getParserConfiguration()["strip-aliased"];if(s[t]&&c!==!0)for(let u of s[t])n[u]=l;return n},l=>{throw new hs(l.message)}):n},t),this}conflicts(t,r){return Pr("<string|object> [string|array]",[t,r],arguments.length),pe(this,ea,"f").conflicts(t,r),this}config(t="config",r,n){return Pr("[object|string] [string|function] [function]",[t,r,n],arguments.length),typeof t=="object"&&!Array.isArray(t)?(t=nQ(t,pe(this,P4,"f"),this[U4]()["deep-merge-config"]||!1,pe(this,Dn,"f")),pe(this,zr,"f").configObjects=(pe(this,zr,"f").configObjects||[]).concat(t),this):(typeof r=="function"&&(n=r,r=void 0),this.describe(t,r||pe(this,qn,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(i=>{pe(this,zr,"f").config[i]=n||!0}),this)}completion(t,r,n){return Pr("[string] [string|boolean|function] [function]",[t,r,n],arguments.length),typeof r=="function"&&(n=r,r=void 0),Nr(this,tf,t||pe(this,tf,"f")||"completion","f"),!r&&r!==!1&&(r="generate completion script"),this.command(pe(this,tf,"f"),r),n&&pe(this,bd,"f").registerFunction(n),this}command(t,r,n,i,s,a){return Pr("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,r,n,i,s,a],arguments.length),pe(this,ba,"f").addHandler(t,r,n,i,s,a),this}commands(t,r,n,i,s,a){return this.command(t,r,n,i,s,a)}commandDir(t,r){Pr("<string> [object]",[t,r],arguments.length);let n=pe(this,lQ,"f")||pe(this,Dn,"f").require;return pe(this,ba,"f").addDirectory(t,n,pe(this,Dn,"f").getCallerFile(),r),this}count(t){return Pr("<array|string>",[t],arguments.length),this[c5]("count",t),this[W4](t),this}default(t,r,n){return Pr("<object|string|array> [*] [string]",[t,r,n],arguments.length),n&&(JX(t,pe(this,Dn,"f")),pe(this,zr,"f").defaultDescription[t]=n),typeof r=="function"&&(JX(t,pe(this,Dn,"f")),pe(this,zr,"f").defaultDescription[t]||(pe(this,zr,"f").defaultDescription[t]=pe(this,qn,"f").functionDescription(r)),r=r.call()),this[QI](this.default.bind(this),"default",t,r),this}defaults(t,r,n){return this.default(t,r,n)}demandCommand(t=1,r,n,i){return Pr("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,r,n,i],arguments.length),typeof r!="number"&&(n=r,r=1/0),this.global("_",!1),pe(this,zr,"f").demandedCommands._={min:t,max:r,minMsg:n,maxMsg:i},this}demand(t,r,n){return Array.isArray(r)?(r.forEach(i=>{s0(n,!0,pe(this,Dn,"f")),this.demandOption(i,n)}),r=1/0):typeof r!="number"&&(n=r,r=1/0),typeof t=="number"?(s0(n,!0,pe(this,Dn,"f")),this.demandCommand(t,r,n,n)):Array.isArray(t)?t.forEach(i=>{s0(n,!0,pe(this,Dn,"f")),this.demandOption(i,n)}):typeof n=="string"?this.demandOption(t,n):(n===!0||typeof n>"u")&&this.demandOption(t),this}demandOption(t,r){return Pr("<object|string|array> [string]",[t,r],arguments.length),this[QI](this.demandOption.bind(this),"demandedOptions",t,r),this}deprecateOption(t,r){return Pr("<string> [string|boolean]",[t,r],arguments.length),pe(this,zr,"f").deprecatedOptions[t]=r,this}describe(t,r){return Pr("<object|string|array> [string]",[t,r],arguments.length),this[cee](t,!0),pe(this,qn,"f").describe(t,r),this}detectLocale(t){return Pr("<boolean>",[t],arguments.length),Nr(this,F4,t,"f"),this}env(t){return Pr("[string|boolean]",[t],arguments.length),t===!1?delete pe(this,zr,"f").envPrefix:pe(this,zr,"f").envPrefix=t||"",this}epilogue(t){return Pr("<string>",[t],arguments.length),pe(this,qn,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,r){return Pr("<string|array> [string]",[t,r],arguments.length),Array.isArray(t)?t.forEach(n=>this.example(...n)):pe(this,qn,"f").example(t,r),this}exit(t,r){Nr(this,rf,!0,"f"),Nr(this,a5,r,"f"),pe(this,Ed,"f")&&pe(this,Dn,"f").process.exit(t)}exitProcess(t=!0){return Pr("[boolean]",[t],arguments.length),Nr(this,Ed,t,"f"),this}fail(t){if(Pr("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new hs("Invalid first argument. Expected function or boolean 'false'");return pe(this,qn,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,r){return Pr("<array> [function]",[t,r],arguments.length),r?pe(this,bd,"f").getCompletion(t,r):new Promise((n,i)=>{pe(this,bd,"f").getCompletion(t,(s,a)=>{s?i(s):n(a)})})}getDemandedOptions(){return Pr([],0),pe(this,zr,"f").demandedOptions}getDemandedCommands(){return Pr([],0),pe(this,zr,"f").demandedCommands}getDeprecatedOptions(){return Pr([],0),pe(this,zr,"f").deprecatedOptions}getDetectLocale(){return pe(this,F4,"f")}getExitProcess(){return pe(this,Ed,"f")}getGroups(){return Object.assign({},pe(this,Up,"f"),pe(this,L4,"f"))}getHelp(){if(Nr(this,rf,!0,"f"),!pe(this,qn,"f").hasCachedHelpMessage()){if(!this.parsed){let r=this[Xw](pe(this,l5,"f"),void 0,void 0,0,!0);if(ps(r))return r.then(()=>pe(this,qn,"f").help())}let t=pe(this,ba,"f").runDefaultBuilderOn(this);if(ps(t))return t.then(()=>pe(this,qn,"f").help())}return Promise.resolve(pe(this,qn,"f").help())}getOptions(){return pe(this,zr,"f")}getStrict(){return pe(this,Q4,"f")}getStrictCommands(){return pe(this,M4,"f")}getStrictOptions(){return pe(this,O4,"f")}global(t,r){return Pr("<string|array> [boolean]",[t,r],arguments.length),t=[].concat(t),r!==!1?pe(this,zr,"f").local=pe(this,zr,"f").local.filter(n=>t.indexOf(n)===-1):t.forEach(n=>{pe(this,zr,"f").local.includes(n)||pe(this,zr,"f").local.push(n)}),this}group(t,r){Pr("<string|array> <string>",[t,r],arguments.length);let n=pe(this,L4,"f")[r]||pe(this,Up,"f")[r];pe(this,L4,"f")[r]&&delete pe(this,L4,"f")[r];let i={};return pe(this,Up,"f")[r]=(n||[]).concat(t).filter(s=>i[s]?!1:i[s]=!0),this}hide(t){return Pr("<string>",[t],arguments.length),pe(this,zr,"f").hiddenOptions.push(t),this}implies(t,r){return Pr("<string|object> [number|string|array]",[t,r],arguments.length),pe(this,ea,"f").implies(t,r),this}locale(t){return Pr("[string]",[t],arguments.length),t===void 0?(this[iee](),pe(this,Dn,"f").y18n.getLocale()):(Nr(this,F4,!1,"f"),pe(this,Dn,"f").y18n.setLocale(t),this)}middleware(t,r,n){return pe(this,Id,"f").addMiddleware(t,!!r,n)}nargs(t,r){return Pr("<string|object|array> [number]",[t,r],arguments.length),this[QI](this.nargs.bind(this),"narg",t,r),this}normalize(t){return Pr("<array|string>",[t],arguments.length),this[c5]("normalize",t),this}number(t){return Pr("<array|string>",[t],arguments.length),this[c5]("number",t),this[W4](t),this}option(t,r){if(Pr("<string|object> [object]",[t,r],arguments.length),typeof t=="object")Object.keys(t).forEach(n=>{this.options(n,t[n])});else{typeof r!="object"&&(r={}),this[W4](t),pe(this,qp,"f")&&(t==="version"||r?.alias==="version")&&this[Pxe](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),pe(this,zr,"f").key[t]=!0,r.alias&&this.alias(t,r.alias);let n=r.deprecate||r.deprecated;n&&this.deprecateOption(t,n);let i=r.demand||r.required||r.require;i&&this.demand(t,i),r.demandOption&&this.demandOption(t,typeof r.demandOption=="string"?r.demandOption:void 0),r.conflicts&&this.conflicts(t,r.conflicts),"default"in r&&this.default(t,r.default),r.implies!==void 0&&this.implies(t,r.implies),r.nargs!==void 0&&this.nargs(t,r.nargs),r.config&&this.config(t,r.configParser),r.normalize&&this.normalize(t),r.choices&&this.choices(t,r.choices),r.coerce&&this.coerce(t,r.coerce),r.group&&this.group(t,r.group),(r.boolean||r.type==="boolean")&&(this.boolean(t),r.alias&&this.boolean(r.alias)),(r.array||r.type==="array")&&(this.array(t),r.alias&&this.array(r.alias)),(r.number||r.type==="number")&&(this.number(t),r.alias&&this.number(r.alias)),(r.string||r.type==="string")&&(this.string(t),r.alias&&this.string(r.alias)),(r.count||r.type==="count")&&this.count(t),typeof r.global=="boolean"&&this.global(t,r.global),r.defaultDescription&&(pe(this,zr,"f").defaultDescription[t]=r.defaultDescription),r.skipValidation&&this.skipValidation(t);let s=r.describe||r.description||r.desc,a=pe(this,qn,"f").getDescriptions();(!Object.prototype.hasOwnProperty.call(a,t)||typeof s=="string")&&this.describe(t,s),r.hidden&&this.hide(t),r.requiresArg&&this.requiresArg(t)}return this}options(t,r){return this.option(t,r)}parse(t,r,n){Pr("[string|array] [function|boolean|object] [function]",[t,r,n],arguments.length),this[Fxe](),typeof t>"u"&&(t=pe(this,l5,"f")),typeof r=="object"&&(Nr(this,N4,r,"f"),r=n),typeof r=="function"&&(Nr(this,nf,r,"f"),r=!1),r||Nr(this,l5,t,"f"),pe(this,nf,"f")&&Nr(this,Ed,!1,"f");let i=this[Xw](t,!!r),s=this.parsed;return pe(this,bd,"f").setParsed(this.parsed),ps(i)?i.then(a=>(pe(this,nf,"f")&&pe(this,nf,"f").call(this,pe(this,a5,"f"),a,pe(this,Tl,"f")),a)).catch(a=>{throw pe(this,nf,"f")&&pe(this,nf,"f")(a,this.parsed.argv,pe(this,Tl,"f")),a}).finally(()=>{this[uee](),this.parsed=s}):(pe(this,nf,"f")&&pe(this,nf,"f").call(this,pe(this,a5,"f"),i,pe(this,Tl,"f")),this[uee](),this.parsed=s,i)}parseAsync(t,r,n){let i=this.parse(t,r,n);return ps(i)?i:Promise.resolve(i)}parseSync(t,r,n){let i=this.parse(t,r,n);if(ps(i))throw new hs(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(t){return Pr("<object>",[t],arguments.length),Nr(this,cQ,t,"f"),this}pkgConf(t,r){Pr("<string> [string]",[t,r],arguments.length);let n=null,i=this[oee](r||pe(this,P4,"f"));return i[t]&&typeof i[t]=="object"&&(n=nQ(i[t],r||pe(this,P4,"f"),this[U4]()["deep-merge-config"]||!1,pe(this,Dn,"f")),pe(this,zr,"f").configObjects=(pe(this,zr,"f").configObjects||[]).concat(n)),this}positional(t,r){Pr("<string> <object>",[t,r],arguments.length);let n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];r=o5(r,(a,l)=>a==="type"&&!["string","number","boolean"].includes(l)?!1:n.includes(a));let i=pe(this,Zw,"f").fullCommands[pe(this,Zw,"f").fullCommands.length-1],s=i?pe(this,ba,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return PI(s).forEach(a=>{let l=s[a];Array.isArray(l)?l.indexOf(t)!==-1&&(r[a]=!0):l[t]&&!(a in r)&&(r[a]=l[t])}),this.group(t,pe(this,qn,"f").getPositionalGroupName()),this.option(t,r)}recommendCommands(t=!0){return Pr("[boolean]",[t],arguments.length),Nr(this,uQ,t,"f"),this}required(t,r,n){return this.demand(t,r,n)}require(t,r,n){return this.demand(t,r,n)}requiresArg(t){return Pr("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&pe(this,zr,"f").narg[t]?this:(this[QI](this.requiresArg.bind(this),"narg",t,NaN),this)}showCompletionScript(t,r){return Pr("[string] [string]",[t,r],arguments.length),t=t||this.$0,pe(this,NI,"f").log(pe(this,bd,"f").generateCompletionScript(t,r||pe(this,tf,"f")||"completion")),this}showHelp(t){if(Pr("[string|function]",[t],arguments.length),Nr(this,rf,!0,"f"),!pe(this,qn,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[Xw](pe(this,l5,"f"),void 0,void 0,0,!0);if(ps(n))return n.then(()=>{pe(this,qn,"f").showHelp(t)}),this}let r=pe(this,ba,"f").runDefaultBuilderOn(this);if(ps(r))return r.then(()=>{pe(this,qn,"f").showHelp(t)}),this}return pe(this,qn,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,r){return Pr("[boolean|string] [string]",[t,r],arguments.length),pe(this,qn,"f").showHelpOnFail(t,r),this}showVersion(t){return Pr("[string|function]",[t],arguments.length),pe(this,qn,"f").showVersion(t),this}skipValidation(t){return Pr("<array|string>",[t],arguments.length),this[c5]("skipValidation",t),this}strict(t){return Pr("[boolean]",[t],arguments.length),Nr(this,Q4,t!==!1,"f"),this}strictCommands(t){return Pr("[boolean]",[t],arguments.length),Nr(this,M4,t!==!1,"f"),this}strictOptions(t){return Pr("[boolean]",[t],arguments.length),Nr(this,O4,t!==!1,"f"),this}string(t){return Pr("<array|string>",[t],arguments.length),this[c5]("string",t),this[W4](t),this}terminalWidth(){return Pr([],0),pe(this,Dn,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return Pr("<object>",[t],arguments.length),Nr(this,F4,!1,"f"),pe(this,Dn,"f").y18n.updateLocale(t),this}usage(t,r,n,i){if(Pr("<string|null|undefined> [string|boolean] [function|object] [function]",[t,r,n,i],arguments.length),r!==void 0){if(s0(t,null,pe(this,Dn,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,r,n,i);throw new hs(".usage() description must start with $0 if being used as alias for .command()")}else return pe(this,qn,"f").usage(t),this}usageConfiguration(t){return Pr("<object>",[t],arguments.length),Nr(this,fQ,t,"f"),this}version(t,r,n){let i="version";if(Pr("[boolean|string] [string] [string]",[t,r,n],arguments.length),pe(this,qp,"f")&&(this[nee](pe(this,qp,"f")),pe(this,qn,"f").version(void 0),Nr(this,qp,null,"f")),arguments.length===0)n=this[Qxe](),t=i;else if(arguments.length===1){if(t===!1)return this;n=t,t=i}else arguments.length===2&&(n=r,r=void 0);return Nr(this,qp,typeof t=="string"?t:i,"f"),r=r||pe(this,qn,"f").deferY18nLookup("Show version number"),pe(this,qn,"f").version(n||void 0),this.boolean(pe(this,qp,"f")),this.describe(pe(this,qp,"f"),r),this}wrap(t){return Pr("<number|null|undefined>",[t],arguments.length),pe(this,qn,"f").wrap(t),this}[(ba=new WeakMap,P4=new WeakMap,Zw=new WeakMap,bd=new WeakMap,tf=new WeakMap,iQ=new WeakMap,a5=new WeakMap,F4=new WeakMap,oQ=new WeakMap,Ed=new WeakMap,sQ=new WeakMap,Id=new WeakMap,Up=new WeakMap,rf=new WeakMap,Td=new WeakMap,aQ=new WeakMap,NI=new WeakMap,Tl=new WeakMap,zr=new WeakMap,lQ=new WeakMap,cQ=new WeakMap,nf=new WeakMap,N4=new WeakMap,LI=new WeakMap,L4=new WeakMap,l5=new WeakMap,uQ=new WeakMap,Dn=new WeakMap,Q4=new WeakMap,M4=new WeakMap,O4=new WeakMap,qn=new WeakMap,fQ=new WeakMap,qp=new WeakMap,ea=new WeakMap,Bxe)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch{}return t}[Dxe](){return{log:o((...t)=>{this[dQ]()||console.log(...t),Nr(this,rf,!0,"f"),pe(this,Tl,"f").length&&Nr(this,Tl,pe(this,Tl,"f")+`
`,"f"),Nr(this,Tl,pe(this,Tl,"f")+t.join(" "),"f")},"log"),error:o((...t)=>{this[dQ]()||console.error(...t),Nr(this,rf,!0,"f"),pe(this,Tl,"f").length&&Nr(this,Tl,pe(this,Tl,"f")+`
`,"f"),Nr(this,Tl,pe(this,Tl,"f")+t.join(" "),"f")},"error")}}[nee](t){PI(pe(this,zr,"f")).forEach(r=>{if((i=>i==="configObjects")(r))return;let n=pe(this,zr,"f")[r];Array.isArray(n)?n.includes(t)&&n.splice(n.indexOf(t),1):typeof n=="object"&&delete n[t]}),delete pe(this,qn,"f").getDescriptions()[t]}[Pxe](t,r,n){pe(this,oQ,"f")[n]||(pe(this,Dn,"f").process.emitWarning(t,r),pe(this,oQ,"f")[n]=!0)}[Fxe](){pe(this,sQ,"f").push({options:pe(this,zr,"f"),configObjects:pe(this,zr,"f").configObjects.slice(0),exitProcess:pe(this,Ed,"f"),groups:pe(this,Up,"f"),strict:pe(this,Q4,"f"),strictCommands:pe(this,M4,"f"),strictOptions:pe(this,O4,"f"),completionCommand:pe(this,tf,"f"),output:pe(this,Tl,"f"),exitError:pe(this,a5,"f"),hasOutput:pe(this,rf,"f"),parsed:this.parsed,parseFn:pe(this,nf,"f"),parseContext:pe(this,N4,"f")}),pe(this,qn,"f").freeze(),pe(this,ea,"f").freeze(),pe(this,ba,"f").freeze(),pe(this,Id,"f").freeze()}[Nxe](){let t="",r;return/\b(node|iojs|electron)(\.exe)?$/.test(pe(this,Dn,"f").process.argv()[0])?r=pe(this,Dn,"f").process.argv().slice(1,2):r=pe(this,Dn,"f").process.argv().slice(0,1),t=r.map(n=>{let i=this[zxe](pe(this,P4,"f"),n);return n.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<n.length?i:n}).join(" ").trim(),pe(this,Dn,"f").getEnv("_")&&pe(this,Dn,"f").getProcessArgvBin()===pe(this,Dn,"f").getEnv("_")&&(t=pe(this,Dn,"f").getEnv("_").replace(`${pe(this,Dn,"f").path.dirname(pe(this,Dn,"f").process.execPath())}/`,"")),t}[U4](){return pe(this,cQ,"f")}[Lxe](){return pe(this,fQ,"f")}[iee](){if(!pe(this,F4,"f"))return;let t=pe(this,Dn,"f").getEnv("LC_ALL")||pe(this,Dn,"f").getEnv("LC_MESSAGES")||pe(this,Dn,"f").getEnv("LANG")||pe(this,Dn,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[Qxe](){return this[oee]().version||"unknown"}[Mxe](t){let r=t["--"]?t["--"]:t._;for(let n=0,i;(i=r[n])!==void 0;n++)pe(this,Dn,"f").Parser.looksLikeNumber(i)&&Number.isSafeInteger(Math.floor(parseFloat(`${i}`)))&&(r[n]=Number(i));return t}[oee](t){let r=t||"*";if(pe(this,LI,"f")[r])return pe(this,LI,"f")[r];let n={};try{let i=t||pe(this,Dn,"f").mainFilename;!t&&pe(this,Dn,"f").path.extname(i)&&(i=pe(this,Dn,"f").path.dirname(i));let s=pe(this,Dn,"f").findUp(i,(a,l)=>{if(l.includes("package.json"))return"package.json"});s0(s,void 0,pe(this,Dn,"f")),n=JSON.parse(pe(this,Dn,"f").readFileSync(s,"utf8"))}catch{}return pe(this,LI,"f")[r]=n||{},pe(this,LI,"f")[r]}[c5](t,r){r=[].concat(r),r.forEach(n=>{n=this[lee](n),pe(this,zr,"f")[t].push(n)})}[QI](t,r,n,i){this[aee](t,r,n,i,(s,a,l)=>{pe(this,zr,"f")[s][a]=l})}[see](t,r,n,i){this[aee](t,r,n,i,(s,a,l)=>{pe(this,zr,"f")[s][a]=(pe(this,zr,"f")[s][a]||[]).concat(l)})}[aee](t,r,n,i,s){if(Array.isArray(n))n.forEach(a=>{t(a,i)});else if((a=>typeof a=="object")(n))for(let a of PI(n))t(a,n[a]);else s(r,this[lee](n),i)}[lee](t){return t==="__proto__"?"___proto___":t}[cee](t,r){return this[QI](this[cee].bind(this),"key",t,r),this}[uee](){var t,r,n,i,s,a,l,c,u,f,m,h;let p=pe(this,sQ,"f").pop();s0(p,void 0,pe(this,Dn,"f"));let A;t=this,r=this,n=this,i=this,s=this,a=this,l=this,c=this,u=this,f=this,m=this,h=this,{options:{set value(x){Nr(t,zr,x,"f")}}.value,configObjects:A,exitProcess:{set value(x){Nr(r,Ed,x,"f")}}.value,groups:{set value(x){Nr(n,Up,x,"f")}}.value,output:{set value(x){Nr(i,Tl,x,"f")}}.value,exitError:{set value(x){Nr(s,a5,x,"f")}}.value,hasOutput:{set value(x){Nr(a,rf,x,"f")}}.value,parsed:this.parsed,strict:{set value(x){Nr(l,Q4,x,"f")}}.value,strictCommands:{set value(x){Nr(c,M4,x,"f")}}.value,strictOptions:{set value(x){Nr(u,O4,x,"f")}}.value,completionCommand:{set value(x){Nr(f,tf,x,"f")}}.value,parseFn:{set value(x){Nr(m,nf,x,"f")}}.value,parseContext:{set value(x){Nr(h,N4,x,"f")}}.value}=p,pe(this,zr,"f").configObjects=A,pe(this,qn,"f").unfreeze(),pe(this,ea,"f").unfreeze(),pe(this,ba,"f").unfreeze(),pe(this,Id,"f").unfreeze()}[Oxe](t,r){return D4(r,n=>(t(n),n))}getInternalMethods(){return{getCommandInstance:this[Uxe].bind(this),getContext:this[qxe].bind(this),getHasOutput:this[Wxe].bind(this),getLoggerInstance:this[Gxe].bind(this),getParseContext:this[Hxe].bind(this),getParserConfiguration:this[U4].bind(this),getUsageConfiguration:this[Lxe].bind(this),getUsageInstance:this[jxe].bind(this),getValidationInstance:this[Vxe].bind(this),hasParseCallback:this[dQ].bind(this),isGlobalContext:this[$xe].bind(this),postProcess:this[q4].bind(this),reset:this[fee].bind(this),runValidation:this[dee].bind(this),runYargsParserAndExecuteCommands:this[Xw].bind(this),setHasOutput:this[Yxe].bind(this)}}[Uxe](){return pe(this,ba,"f")}[qxe](){return pe(this,Zw,"f")}[Wxe](){return pe(this,rf,"f")}[Gxe](){return pe(this,NI,"f")}[Hxe](){return pe(this,N4,"f")||{}}[jxe](){return pe(this,qn,"f")}[Vxe](){return pe(this,ea,"f")}[dQ](){return!!pe(this,nf,"f")}[$xe](){return pe(this,aQ,"f")}[q4](t,r,n,i){return n||ps(t)||(r||(t=this[Bxe](t)),(this[U4]()["parse-positional-numbers"]||this[U4]()["parse-positional-numbers"]===void 0)&&(t=this[Mxe](t)),i&&(t=B4(t,this,pe(this,Id,"f").getMiddleware(),!1))),t}[fee](t={}){Nr(this,zr,pe(this,zr,"f")||{},"f");let r={};r.local=pe(this,zr,"f").local||[],r.configObjects=pe(this,zr,"f").configObjects||[];let n={};r.local.forEach(a=>{n[a]=!0,(t[a]||[]).forEach(l=>{n[l]=!0})}),Object.assign(pe(this,L4,"f"),Object.keys(pe(this,Up,"f")).reduce((a,l)=>{let c=pe(this,Up,"f")[l].filter(u=>!(u in n));return c.length>0&&(a[l]=c),a},{})),Nr(this,Up,{},"f");let i=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],s=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return i.forEach(a=>{r[a]=(pe(this,zr,"f")[a]||[]).filter(l=>!n[l])}),s.forEach(a=>{r[a]=o5(pe(this,zr,"f")[a],l=>!n[l])}),r.envPrefix=pe(this,zr,"f").envPrefix,Nr(this,zr,r,"f"),Nr(this,qn,pe(this,qn,"f")?pe(this,qn,"f").reset(n):Exe(this,pe(this,Dn,"f")),"f"),Nr(this,ea,pe(this,ea,"f")?pe(this,ea,"f").reset(n):kxe(this,pe(this,qn,"f"),pe(this,Dn,"f")),"f"),Nr(this,ba,pe(this,ba,"f")?pe(this,ba,"f").reset():xxe(pe(this,qn,"f"),pe(this,ea,"f"),pe(this,Id,"f"),pe(this,Dn,"f")),"f"),pe(this,bd,"f")||Nr(this,bd,wxe(this,pe(this,qn,"f"),pe(this,ba,"f"),pe(this,Dn,"f")),"f"),pe(this,Id,"f").reset(),Nr(this,tf,null,"f"),Nr(this,Tl,"","f"),Nr(this,a5,null,"f"),Nr(this,rf,!1,"f"),this.parsed=!1,this}[zxe](t,r){return pe(this,Dn,"f").path.relative(t,r)}[Xw](t,r,n,i=0,s=!1){let a=!!n||s;t=t||pe(this,l5,"f"),pe(this,zr,"f").__=pe(this,Dn,"f").y18n.__,pe(this,zr,"f").configuration=this[U4]();let l=!!pe(this,zr,"f").configuration["populate--"],c=Object.assign({},pe(this,zr,"f").configuration,{"populate--":!0}),u=pe(this,Dn,"f").Parser.detailed(t,Object.assign({},pe(this,zr,"f"),{configuration:{"parse-positional-numbers":!1,...c}})),f=Object.assign(u.argv,pe(this,N4,"f")),m,h=u.aliases,p=!1,A=!1;Object.keys(f).forEach(x=>{x===pe(this,Td,"f")&&f[x]?p=!0:x===pe(this,qp,"f")&&f[x]&&(A=!0)}),f.$0=this.$0,this.parsed=u,i===0&&pe(this,qn,"f").clearCachedHelpMessage();try{if(this[iee](),r)return this[q4](f,l,!!n,!1);pe(this,Td,"f")&&[pe(this,Td,"f")].concat(h[pe(this,Td,"f")]||[]).filter(_=>_.length>1).includes(""+f._[f._.length-1])&&(f._.pop(),p=!0),Nr(this,aQ,!1,"f");let x=pe(this,ba,"f").getCommands(),v=pe(this,bd,"f").completionKey in f,E=p||v||s;if(f._.length){if(x.length){let b;for(let _=i||0,R;f._[_]!==void 0;_++)if(R=String(f._[_]),x.includes(R)&&R!==pe(this,tf,"f")){let P=pe(this,ba,"f").runCommand(R,this,u,_+1,s,p||A||s);return this[q4](P,l,!!n,!1)}else if(!b&&R!==pe(this,tf,"f")){b=R;break}!pe(this,ba,"f").hasDefaultCommand()&&pe(this,uQ,"f")&&b&&!E&&pe(this,ea,"f").recommendCommands(b,x)}pe(this,tf,"f")&&f._.includes(pe(this,tf,"f"))&&!v&&(pe(this,Ed,"f")&&s5(!0),this.showCompletionScript(),this.exit(0))}if(pe(this,ba,"f").hasDefaultCommand()&&!E){let b=pe(this,ba,"f").runCommand(null,this,u,0,s,p||A||s);return this[q4](b,l,!!n,!1)}if(v){pe(this,Ed,"f")&&s5(!0),t=[].concat(t);let b=t.slice(t.indexOf(`--${pe(this,bd,"f").completionKey}`)+1);return pe(this,bd,"f").getCompletion(b,(_,R)=>{if(_)throw new hs(_.message);(R||[]).forEach(P=>{pe(this,NI,"f").log(P)}),this.exit(0)}),this[q4](f,!l,!!n,!1)}if(pe(this,rf,"f")||(p?(pe(this,Ed,"f")&&s5(!0),a=!0,this.showHelp("log"),this.exit(0)):A&&(pe(this,Ed,"f")&&s5(!0),a=!0,pe(this,qn,"f").showVersion("log"),this.exit(0))),!a&&pe(this,zr,"f").skipValidation.length>0&&(a=Object.keys(f).some(b=>pe(this,zr,"f").skipValidation.indexOf(b)>=0&&f[b]===!0)),!a){if(u.error)throw new hs(u.error.message);if(!v){let b=this[dee](h,{},u.error);n||(m=B4(f,this,pe(this,Id,"f").getMiddleware(),!0)),m=this[Oxe](b,m??f),ps(m)&&!n&&(m=m.then(()=>B4(f,this,pe(this,Id,"f").getMiddleware(),!1)))}}}catch(x){if(x instanceof hs)pe(this,qn,"f").fail(x.message,x);else throw x}return this[q4](m??f,l,!!n,!0)}[dee](t,r,n,i){let s={...this.getDemandedOptions()};return a=>{if(n)throw new hs(n.message);pe(this,ea,"f").nonOptionCount(a),pe(this,ea,"f").requiredArguments(a,s);let l=!1;pe(this,M4,"f")&&(l=pe(this,ea,"f").unknownCommands(a)),pe(this,Q4,"f")&&!l?pe(this,ea,"f").unknownArguments(a,t,r,!!i):pe(this,O4,"f")&&pe(this,ea,"f").unknownArguments(a,t,{},!1,!1),pe(this,ea,"f").limitedChoices(a),pe(this,ea,"f").implications(a),pe(this,ea,"f").conflicting(a)}}[Yxe](){Nr(this,rf,!0,"f")}[W4](t){if(typeof t=="string")pe(this,zr,"f").key[t]=!0;else for(let r of t)pe(this,zr,"f").key[r]=!0}};function vxe(e){return!!e&&typeof e.getInternalMethods=="function"}o(vxe,"isYargsInstance");var yct=Kxe(pxe),Jxe=yct;d();d();var e_="apps",hee="hosts",t_=class{constructor(t,r){this.ctx=t;this.persistenceManager=r}static{o(this,"AuthPersistence")}async getAuthRecord(t){let r=await this.persistenceManager.read(e_,this.authRecordKey(this.ctx,t));return!t&&!r&&(r=await this.persistenceManager.read(e_,this.authRecordKey(this.ctx,this.ctx.get(Xs).fallbackAppId()))),r||await this.legacyAuthRecordMaybe()}async legacyAuthRecordMaybe(){let t=await this.persistenceManager.read(hee,this.legacyAuthRecordKey(this.ctx));if(t){let r=this.ctx.get(Xs).fallbackAppId();return{...t,githubAppId:r}}}async saveAuthRecord(t){let r=this.ctx.get(Xs).findAppIdToAuthenticate();await this.persistenceManager.update(e_,this.authRecordKey(this.ctx,t.githubAppId),t);let n=this.ctx.get(Xs).fallbackAppId();r===n&&await this.persistenceManager.delete(hee,this.legacyAuthRecordKey(this.ctx))}async deleteAuthRecord(){let t=await this.getAuthRecord();if(t){let r=this.ctx.get(Xs).fallbackAppId();t.githubAppId===r&&await this.persistenceManager.delete(hee,this.legacyAuthRecordKey(this.ctx)),await this.persistenceManager.delete(e_,this.authRecordKey(this.ctx)),await this.persistenceManager.delete(e_,this.authRecordKey(this.ctx,r))}}authRecordKey(t,r){let n=t.get(On).getAuthAuthority(),i=r??t.get(Xs).findAppIdToAuthenticate();return`${n}:${i}`}legacyAuthRecordKey(t){return t.get(On).getAuthAuthority()}};d();d();var mQ={AuthNotifyShown:"auth.auth_notify_shown",AuthNotifyDismissed:"auth.auth_notify_dismissed",NewGitHubLogin:"auth.new_github_login",GitHubLoginSuccess:"auth.github_login_success"};function Zxe(e,t){let r=ln.createAndMarkAsIssued({authSource:t});return jt(e,mQ.AuthNotifyShown,r)}o(Zxe,"telemetryAuthNotifyShown");function Xxe(e){return jt(e,mQ.AuthNotifyDismissed)}o(Xxe,"telemetryAuthNotifyDismissed");function hQ(e,t,r){let n=ln.createAndMarkAsIssued({authSource:t,authType:r});return jt(e,mQ.NewGitHubLogin,n)}o(hQ,"telemetryNewGitHubLogin");function pQ(e,t){let r=ln.createAndMarkAsIssued({authType:t});return jt(e,mQ.GitHubLoginSuccess,r)}o(pQ,"telemetryGitHubLoginSuccess");async function Cct(e,t){hQ(e,"unknown","deviceFlow");let r={method:"POST",headers:{Accept:"application/json",...Ec(e)},json:{client_id:t},timeout:30*1e3},n;try{n=await e.get(Or).fetch(e.get(On).getDeviceFlowStartUrl(),r)}catch(i){throw i instanceof Error&&NT(i)?new Ys(`Could not log in with device flow on ${e.get(On).getAuthAuthority()}: ${i.message}`):i}if(!n.ok)throw new Ys(`Could not log in with device flow on ${e.get(On).getAuthAuthority()}: HTTP ${n.status}`);return await n.json()}o(Cct,"requestDeviceFlowStage1");async function xct(e,t,r){let n={method:"POST",headers:{Accept:"application/json",...Ec(e)},json:{client_id:r,device_code:t,grant_type:"urn:ietf:params:oauth:grant-type:device_code"},timeout:3e4};return await(await e.get(Or).fetch(e.get(On).getDeviceFlowCompletionUrl(),n)).json()}o(xct,"requestDeviceFlowStage2");async function vct(e,t){return pQ(e,"deviceFlow"),await(await e.get(Or).fetch(e.get(On).getUserInfoUrl(),{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}})).json()}o(vct,"requestUserInfo");var G4=class{static{o(this,"GitHubDeviceFlow")}async getToken(t,r){try{return await this.getTokenUnguarded(t,r)}catch(n){throw t.get($0).notifyUser(t,n),n}}async getTokenUnguarded(t,r){let n=await Cct(t,r),i=(async()=>{let s=n.expires_in,a;for(;s>0;){let l=await xct(t,n.device_code,r);if(s-=n.interval,await new Promise(c=>setTimeout(c,1e3*n.interval)),a=l.access_token,a)return{user:(await vct(t,a)).login,oauth_token:a}}throw new Ys("Timed out waiting for login to complete")})();return{...n,waitForAuth:i}}};d();var of=class{static{o(this,"CitationManager")}},gQ=class extends of{static{o(this,"NoOpCitationManager")}async handleIPCodeCitation(t,r){}};d();d();var bct={didChangeFeatureFlags:!1,fetch:!1,ipCodeCitation:!1,redirectedTelemetry:!1,related:!1,token:!1,watchedFiles:!1},Ho=class{constructor(){this.capabilities={...bct}}static{o(this,"CopilotCapabilitiesProvider")}setCapabilities(t){let r;for(r in t){let n=t[r];n!==void 0&&(this.capabilities[r]=n)}}getCapabilities(){return this.capabilities}};d();var pee=class extends Error{constructor(r){super(`No instance of ${r.name} has been registered`);this.ctor=r;this.name="UnregisteredContextError",this.code=r.name}static{o(this,"UnregisteredContextError")}},MI=class{constructor(){this.instances=new Map}static{o(this,"Context")}get(t){let r=this.tryGet(t);if(r)return r;throw new pee(t)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};d();d();var AQ=class extends Error{static{o(this,"FetchSpeculationCanceledException")}constructor(t){super(t),this.name="FetchSpeculationCanceledException"}};d();var OI=class extends Error{static{o(this,"FetchSpeculationFailedException")}constructor(t){super(t),this.name="FetchSpeculationFailedException"}};d();d();async function*V1(e,t){for await(let r of e)yield t(r)}o(V1,"asyncIterableMap");async function*eve(e,t){for await(let r of e)await t(r)&&(yield r)}o(eve,"asyncIterableFilter");async function*r_(e,t){for await(let r of e){let n=await t(r);n!==void 0&&(yield n)}}o(r_,"asyncIterableMapFilter");async function*tve(...e){for(let t of e)yield*t}o(tve,"asyncIterableConcat");d();async function n_(e,t,r,n){let i=ln.createAndMarkAsIssued({messageId:t,conversationId:r});return await e.get(xr).updateExPValuesAndAssignments(n,i)}o(n_,"createTelemetryWithExpWithId");function a0(e,{turn:t,conversation:r}={},n){return n_(e,t?.telemetryId??"",r?.telemetryId??"",n)}o(a0,"createTelemetryWithExpWithTurn");function i_(e,t,r,n,i,s,a,l){let c=e.turns[e.turns.length-1].skills.map(m=>m.skillId).sort(),u={source:"user",turnIndex:(e.turns.length-1).toString(),uiKind:t,skillIds:c.join(",")},f={promptTokenLen:n,messageCharLen:r};return i&&(u.suggestion=i),s&&(u.suggestionId=s),l.length>0&&(u.skillResolutionsJson=JSON.stringify(Ect(l))),a=a.extendedBy(u,f),a}o(i_,"extendUserMessageTelemetryData");function Ect(e){return e.map(t=>({skillId:t.skillId,resolution:t.resolution,fileStatus:t.files?.map(r=>r.status),tokensPreEliding:t.tokensPreEliding??0,resolutionTimeMs:t.resolutionTimeMs??0,processingTimeMs:t.processingTimeMs??0}))}o(Ect,"mapSkillResolutionsForTelemetry");function rve(e,t,r,n,i,s,a){return n!=null&&(a=a.extendedBy({offTopic:n.toString()})),yQ(e,s,t,r,{uiKind:t,headerRequestId:i},{},a).properties.messageId}o(rve,"createUserMessageTelemetryData");function nve(e,t,r,n,i,s,a,l){let c=Tct(n);return yQ(e,a,r,n,{source:"model",turnIndex:(t.turns.length-1).toString(),headerRequestId:s,uiKind:r,codeBlockLanguages:JSON.stringify({...c})},{messageCharLen:n.length,numCodeBlocks:c.length,numTokens:i},l).properties.messageId}o(nve,"createModelMessageTelemetryData");function ive(e,t,r,n,i,s,a){yQ(e,s,r,n,{source:"offTopic",turnIndex:t.turns.length.toString(),userMessageId:i,uiKind:r},{messageCharLen:n.length},a)}o(ive,"createOffTopicMessageTelemetryData");function ove(e,t,r,n,i,s,a,l,c){let u=yQ(e,l,r,n,{source:"suggestion",suggestion:s,turnIndex:(t.turns.length-1).toString(),uiKind:r,suggestionId:a},{promptTokenLen:i,messageCharLen:n.length},c);return Ict(e,r,s,u.properties.messageId,u.properties.conversationId,a,c,l),u.properties.messageId}o(ove,"createSuggestionMessageTelemetryData");var sve={synonymTimeMs:0,rankingTimeMs:0,chunkCount:0,localSnippetCount:0,embeddingsTimeMs:0,rerankingTimeMs:0};async function ave(e,t,r){let n=await a0(e.ctx,e),i=e.conversation.source==="inline"?"conversationInline":"conversationPanel";sf(e.ctx,void 0,{conversationId:e.conversation.telemetryId,turnIndex:(e.conversation.turns.length-1).toString(),userMessageId:e.turn.telemetryId,provider:t,uiKind:i},r,"index.codesearch",n)}o(ave,"telemetryIndexCodesearch");function yQ(e,t,r,n,i,s,a){let l=a??ln.createAndMarkAsIssued(),c={messageText:n,...i};if(!("messageId"in i)&&!("messageId"in l.properties)){let h=Ir();i.messageId=h,c.messageId=h}t&&(i.languageId=t.detectedLanguageId,s.documentLength=t.getText().length,s.documentLineCount=t.lineCount);let u=l.extendedBy(i,s),f=l.extendedBy(c),m=Z0(r);return jt(e,`${m}.message`,u),jt(e,`${m}.messageText`,f,1),u}o(yQ,"telemetryMessage");function lve(e,t,r,n){sf(e,n,{uiKind:t},{},"conversation.suggestionShown",r)}o(lve,"createSuggestionShownTelemetryData");function Ict(e,t,r,n,i,s,a,l){sf(e,l,{suggestion:r,messageId:n,conversationId:i,suggestionId:s,uiKind:t},{},"conversation.suggestionSelected",a)}o(Ict,"createSuggestionSelectedTelemetryData");function sf(e,t,r,n,i,s){let a=s??ln.createAndMarkAsIssued();t&&(r.languageId=t.detectedLanguageId,n.documentLength=t.getText().length,n.documentLineCount=t.lineCount);let l=a.extendedBy(r,n);return jt(e,i,l),l}o(sf,"telemetryUserAction");function qI(e,t,r){let n=r.extendedBy({messagesJson:JSON.stringify(t)});return jt(e,"engine.messages",n,1)}o(qI,"logEngineMessages");function Z0(e){switch(e){case"editsPanel":return"copilotEditsPanel";case"conversationInline":return"inlineConversation";case"conversationPanel":default:return"conversation"}}o(Z0,"telemetryPrefixForUiKind");function Tct(e){let t=e.split(`
`),r=[],n=[];for(let i=0;i<t.length;i++){let s=t[i];s.startsWith("```")&&(n.length>0&&s==="```"?r.push(n.pop()):n.length===0&&n.push(s.substring(3)))}return r}o(Tct,"getCodeBlocks");function cve(e){return e=="conversationInline"?"conversation-inline":"conversation-panel"}o(cve,"uiKindToIntent");function u5(e){return e==="inline"?"conversationInline":"conversationPanel"}o(u5,"conversationSourceToUiKind");d();function CQ(e,t,r,n,i,s,a){return p5e(e,t,r,i,n),{completionText:t,meanLogProb:wct(e,r),meanAlternativeLogProb:_ct(e,r),choiceIndex:n,requestId:i,blockFinished:s,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a,copilotAnnotations:r.copilot_annotations,clientCompletionId:Ir(),finishReason:r.finish_reason}}o(CQ,"convertToAPIChoice");function wct(e,t){if(t?.logprobs?.token_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--)r+=t.logprobs.token_logprobs[s],n+=1;return n>0?r/n:void 0}catch(r){li.exception(e,r,"Error calculating mean prob")}}o(wct,"calculateMeanLogProb");function _ct(e,t){if(t?.logprobs?.top_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--){let a={...t.logprobs.top_logprobs[s]};delete a[t.logprobs.tokens[s]],r+=Math.max(...Object.values(a)),n+=1}return n>0?r/n:void 0}catch(r){li.exception(e,r,"Error calculating mean prob")}}o(_ct,"calculateMeanAlternativeLogProb");function WI(e,t){return qm(e)||t<=1?0:t<10?.2:t<20?.4:.8}o(WI,"getTemperatureForSamples");var Sct={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function uve(e,t){return Sct[t??""]??[`


`,"\n```"]}o(uve,"getStops");function xQ(e){return 1}o(xQ,"getTopP");function vQ(e){return _w}o(vQ,"getMaxSolutionTokens");d();var tu=new Yt("streamChoices"),gee=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new Cee;this.tool_calls=[];this.function_call=new yee;this.copilot_references=[];this.yielded=!1}static{o(this,"APIJsonDataStreaming")}append(t){if(t.text&&this.text.push(t.text),t.delta?.content&&t.delta.role!=="function"&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push(t.logprobs.tokens??[]),this.text_offset.push(t.logprobs.text_offset??[]),this.logprobs.push(t.logprobs.token_logprobs??[]),this.top_logprobs.push(t.logprobs.top_logprobs??[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),t.delta?.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),t.delta?.tool_calls&&t.delta.tool_calls.length>0)for(let r of t.delta.tool_calls){let n=r.index;this.tool_calls[n]||(this.tool_calls[n]=new Aee),this.tool_calls[n].update(r)}t.delta?.function_call&&this.function_call.update(t.delta.function_call),t?.finish_reason&&(this.finish_reason=t.finish_reason)}};function kct(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}o(kct,"splitChunk");var Aee=class{constructor(){this.arguments=[]}static{o(this,"StreamingToolCall")}update(t){t.function.name&&(this.name=t.function.name),this.arguments.push(t.function.arguments)}},yee=class{constructor(){this.arguments=[]}static{o(this,"StreamingFunctionCall")}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}},Cee=class{constructor(){this.current={}}static{o(this,"StreamCopilotAnnotations")}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(i=>this.update_namespace(r,i))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],i=n.findIndex(s=>s.id===r.id);i>=0?n[i]=r:n.push(r)}for(t){return this.current[t]??[]}},d5=class e{constructor(t,r,n,i,s,a,l){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=i;this.telemetryData=s;this.dropCompletionReasons=a;this.cancellationToken=l;this.requestId=f5(this.response);this.stats=new xee;this.solutions={}}static{o(this,"SSEProcessor")}static create(t,r,n,i,s,a){let l=n.body();return l.setEncoding("utf8"),new e(t,r,n,l,i,s??[],a)}async*processSSE(t=()=>{}){try{yield*this.processSSEInner(t)}finally{this.cancel(),tu.info(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),tu.debug(this.ctx,"request stats:",this.stats)}}async*processSSEInner(t){let r="",n=null,i,s;e:for await(let a of this.body){if(this.maybeCancel("after awaiting body chunk"))return;tu.debug(this.ctx,"chunk",a.toString());let[l,c]=kct(r+a.toString());r=c;for(let u of l){let f=u.slice(5).trim();if(f=="[DONE]"){yield*this.finishSolutions(n,i,s,t);return}n=null;let m;try{m=JSON.parse(f)}catch{tu.error(this.ctx,"Error parsing JSON stream data",u);continue}if(m.copilot_confirmation&&Rct(m.copilot_confirmation)&&await t("",{text:"",requestId:this.requestId,copilotConfirmation:m.copilot_confirmation}),m.copilot_references&&await t("",{text:"",requestId:this.requestId,copilotReferences:m.copilot_references}),m.choices===void 0){!m.copilot_references&&!m.copilot_confirmation&&(m.error!==void 0?tu.error(this.ctx,"Error in response:",m.error.message):tu.error(this.ctx,"Unexpected response with no choices or error: "+f)),m.copilot_errors&&await t("",{text:"",requestId:this.requestId,copilotErrors:m.copilot_errors});continue}if(this.requestId.created==0&&(this.requestId=f5(this.response,m),this.requestId.created===0&&m.choices?.length&&tu.error(this.ctx,'Request id invalid, should have "completionId" and "created":',this.requestId)),i===void 0&&m.model&&(i=m.model),s===void 0&&m.usage&&(s=m.usage),this.allSolutionsDone()){r="";break e}for(let h=0;h<m.choices?.length;h++){let p=m.choices[h];tu.debug(this.ctx,"choice",p),this.stats.add(p.index),p.index in this.solutions||(this.solutions[p.index]=new gee);let A=this.solutions[p.index];if(A==null)continue;A.append(p);let x=this.asSolutionDecision(),v=p.text?.indexOf(`
`)>-1||p.delta?.content?.indexOf(`
`)>-1;if(p.finish_reason||v){let b=A.text.join("");if(x=this.asSolutionDecision(await t(b,{text:b,index:p.index,requestId:this.requestId,annotations:A.copilot_annotations,copilotReferences:A.copilot_references,getAPIJsonData:o(()=>s_(A),"getAPIJsonData"),finished:!!p.finish_reason,telemetryData:this.telemetryData})),this.maybeCancel("after awaiting finishedCb"))return}if(p.finish_reason&&A.function_call.name!==void 0){n=p.finish_reason;continue}if(p.finish_reason&&(x.yieldSolution=!0,x.continueStreaming=!1),!x.yieldSolution)continue;let E=p.finish_reason??"client-trimmed";if(jt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:E,engineName:i??"",engineChoiceSource:Jy(this.ctx,this.telemetryData).engineChoiceSource})),this.dropCompletionReasons.includes(p.finish_reason)?this.solutions[p.index]=null:A.yielded||(this.stats.markYielded(p.index),yield{solution:A,finishOffset:x.finishOffset,reason:p.finish_reason,requestId:this.requestId,index:p.index,model:i,usage:s},A.yielded=!0),this.maybeCancel("after yielding finished choice"))return;x.continueStreaming||(this.solutions[p.index]=null)}}}for(let[a,l]of Object.entries(this.solutions)){let c=Number(a);if(l!=null&&(jt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:i??""})),this.stats.markYielded(c),yield{solution:l,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:c,model:i,usage:s},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let a=JSON.parse(r);a.error!==void 0&&tu.error(this.ctx,`Error in response: ${a.error.message}`,a.error)}catch{tu.error(this.ctx,`Error parsing extraData: ${r}`)}}asSolutionDecision(t){return t===void 0?{yieldSolution:!1,continueStreaming:!0}:typeof t=="number"?{yieldSolution:!0,continueStreaming:!1,finishOffset:t}:t}async*finishSolutions(t,r,n,i){for(let[s,a]of Object.entries(this.solutions)){let l=Number(s);if(a==null)continue;let c=a.text.join("");if(await i(c,{text:c,index:l,requestId:this.requestId,annotations:a.copilot_annotations,copilotReferences:a.copilot_references,getAPIJsonData:o(()=>s_(a),"getAPIJsonData"),finished:!0,telemetryData:this.telemetryData}),!a.yielded&&(this.stats.markYielded(l),jt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:t??"DONE",engineName:r??""})),yield{solution:a,finishOffset:void 0,reason:t??"DONE",requestId:this.requestId,index:l,model:r,usage:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){return this.cancellationToken?.isCancellationRequested?(tu.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body.destroy()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};function bQ(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(tu.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),tu.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),tu.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let s=s_(t.solution);return CQ(e,n,s,t.index,t.requestId,i,r)}o(bQ,"prepareSolutionForReturn");function s_(e){let t=e.text.join(""),r=Bct(e),n=Dct(e),i=e.copilot_annotations.current,s={text:t,tokens:e.text,tool_calls:r,function_call:n,copilot_annotations:i,finish_reason:e.finish_reason??"stop"};if(e.logprobs.length===0)return s;let a=e.logprobs.reduce((f,m)=>f.concat(m),[]),l=e.top_logprobs.reduce((f,m)=>f.concat(m),[]),c=e.text_offset.reduce((f,m)=>f.concat(m),[]),u=e.tokens.reduce((f,m)=>f.concat(m),[]);return{...s,logprobs:{token_logprobs:a,top_logprobs:l,text_offset:c,tokens:u}}}o(s_,"convertToAPIJsonData");function Rct(e){return typeof e.title=="string"&&typeof e.message=="string"&&!!e.confirmation}o(Rct,"isCopilotConfirmation");function Bct(e){let t=[];for(let r of e.tool_calls)if(r.name){let n=r.arguments.length>0?JSON.parse(r.arguments.join("")):{};t.push({type:"function",function:{name:r.name,arguments:n},approxNumTokens:r.arguments.length+1})}return t}o(Bct,"extractToolCalls");function Dct(e){if(e.function_call.name){let t=e.function_call.arguments.length>0?JSON.parse(e.function_call.arguments.join("")):{};return{name:e.function_call.name,arguments:t}}}o(Dct,"extractFunctionCall");var xee=class{constructor(){this.choices=new Map}static{o(this,"ChunkStats")}getChoiceStats(t){let r=this.choices.get(t);return r||(r=new vee,this.choices.set(t,r)),r}add(t){this.getChoiceStats(t).increment()}markYielded(t){this.getChoiceStats(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},vee=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}static{o(this,"ChoiceStats")}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};d();var GI=class{constructor(){this.resolve=o(()=>{},"resolve");this.reject=o(()=>{},"reject");this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}static{o(this,"Deferred")}};function H4(e,t=void 0){return new Promise(r=>setTimeout(()=>r(t),e))}o(H4,"delay");d();function EQ(e,t){return e!==null&&typeof e=="object"&&t in e}o(EQ,"hasKey");function l0(e,t){return EQ(e,t)?e[t]:void 0}o(l0,"getKey");var dve=et(ei());var Hs=new Yt("fetchCompletions");function f5(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}o(f5,"getRequestId");function HI(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}o(HI,"getProcessingTime");function mve(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}o(mve,"uiKindToIntent");var eu=class{static{o(this,"OpenAIFetcher")}};function Pct(e,t,r,n){return uI(e,t,"proxy","v1/engines",r,n)}o(Pct,"getProxyEngineUrl");async function fve(e,t,r,n,i,s,a,l,c,u,f){let m=e.get(zi),h=Pct(e,a,r,n),p=c.extendedBy({endpoint:n,engineName:r,uiKind:l},lI(t));for(let[v,E]of Object.entries(s))v=="prompt"||v=="suffix"||v=="context"||(p.properties[`request.option.${v}`]=JSON.stringify(E)??"undefined");p.properties.headerRequestId=i,jt(e,"request.sent",p);let A=Zs(),x=mve(l);return z3(e,h,a.token,x,i,s,u,f).then(v=>{let E=f5(v,void 0);p.extendWithRequestId(E);let b=Zs()-A;return p.measurements.totalTimeMs=b,Hs.info(e,`request.response: [${h}] took ${b} ms`),Hs.debug(e,"request.response properties",p.properties),Hs.debug(e,"request.response measurements",p.measurements),Hs.debug(e,"prompt:",t),jt(e,"request.response",p),v}).catch(v=>{if(bc(v))throw jt(e,"request.cancel",p),v;m.setWarning(l0(v,"message")??"");let E=p.extendedBy({error:"Network exception"});jt(e,"request.shownWarning",E),p.properties.message=String(l0(v,"name")??""),p.properties.code=String(l0(v,"code")??""),p.properties.errno=String(l0(v,"errno")??""),p.properties.type=String(l0(v,"type")??"");let b=Zs()-A;throw p.measurements.totalTimeMs=b,Hs.debug(e,`request.response: [${h}] took ${b} ms`),Hs.debug(e,"request.error properties",p.properties),Hs.debug(e,"request.error measurements",p.measurements),jt(e,"request.error",p),v}).finally(()=>{g5e(e,t,p)})}o(fve,"fetchWithInstrumentation");async function Fct(e,t,r,n,i,s,a,l,c,u){let f=c.extendedBy({endpoint:"chat/completions",engineModelId:r,uiKind:l});for(let[A,x]of Object.entries(s))A!=="messages"&&(f.properties[`request.option.${A}`]=JSON.stringify(x)??"undefined");f.properties.headerRequestId=i,jt(e,"request.sent",f);let m=Zs(),h=mve(l),p={...zy(e)};try{let A=await z3(e,n,a.token,h,i,s,u,p),x=f5(A,void 0);f.extendWithRequestId(x);let v=Zs()-m;return f.measurements.totalTimeMs=v,Hs.info(e,`request.response: [${n}] took ${v} ms`),Hs.debug(e,"request.response properties",f.properties),Hs.debug(e,"request.response measurements",f.measurements),Hs.debug(e,"messages:",JSON.stringify(t)),jt(e,"request.response",f),A}catch(A){if(bc(A))throw jt(e,"request.cancel",f),A;let x=f.extendedBy({error:"Network exception"});jt(e,"request.shownWarning",x),f.properties.message=String(l0(A,"name")??""),f.properties.code=String(l0(A,"code")??""),f.properties.errno=String(l0(A,"errno")??""),f.properties.type=String(l0(A,"type")??"");let v=Zs()-m;throw f.measurements.totalTimeMs=v,Hs.debug(e,`request.response: [${n}] took ${v} ms`),Hs.debug(e,"request.error properties",f.properties),Hs.debug(e,"request.error measurements",f.measurements),jt(e,"request.error",f),A}finally{qI(e,t,f)}}o(Fct,"fetchChatWithInstrumentation");function bee(e){return eve(e,t=>t.completionText.trim().length>0)}o(bee,"postProcessChoices");var Nct="github.copilot.completions.quotaExceeded",o_=class extends eu{static{o(this,"LiveOpenAIFetcher")}#e;async fetchAndStreamCompletions(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(zi),l="completions",c=await t.get($r).getToken(),u=await this.fetchWithParameters(t,l,r,c,n,s);if(u==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let p=u.body();try{p.destroy()}catch(A){Hs.exception(t,A,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(u.status!==200){let p=this.createTelemetryData(l,t,r);return this.handleError(t,a,p,u,c)}let m=d5.create(t,r.count,u,n,[],s).processSSE(i),h=V1(m,p=>bQ(t,p,n));return{type:"success",choices:bee(h),getProcessingTime:o(()=>HI(u),"getProcessingTime")}}async fetchAndStreamChat(t,r,n,i,s,a,l){if(this.#e)return{type:"canceled",reason:this.#e};let c="https://copilot-proxy.githubusercontent.com/chat/completions",u={id:"copilot-nes-v",name:"proxy-4o-mini"},f={messages:r,model:u.id,stream:!0},m=n.extendedBy({endpoint:c,model:u.name}),h=t.get(zi),p=await t.get($r).getToken(),A=await Fct(t,r,u.id,c,s,f,p,i,m,l);if(l?.isCancellationRequested){let b=A.body();try{b.destroy()}catch(_){Hs.exception(t,_,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(A.status!==200){let b=ln.createAndMarkAsIssued({endpoint:c,engineName:u.name,uiKind:i,headerRequestId:s});return this.handleError(t,h,b,A,p)}let v=d5.create(t,1,A,m,[],dve.CancellationToken.None).processSSE(),E=V1(v,b=>bQ(t,b,n));return{type:"success",choices:bee(E),getProcessingTime:o(()=>HI(A),"getProcessingTime")}}async fetchAndStreamSpeculation(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(zi),l="speculation",c=await t.get($r).getToken(),u={prompt:{prefix:r.prompt,suffix:"",isFimEnabled:!1},postOptions:{speculation:r.speculation,temperature:r.temperature,stream:r.stream,stop:r.stops??[]},languageId:"",count:0,repoInfo:void 0,ourRequestId:Ir(),engineModelId:r.engineModelId,uiKind:r.uiKind,headers:r.headers},f=await this.fetchSpeculationWithParameters(t,l,u,c,n,s);if(f==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let A=f.body();try{A.destroy()}catch(x){Hs.exception(t,x,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(f.status!==200){let A=this.createTelemetryData(l,t,u);return this.handleError(t,a,A,f,c)}let h=d5.create(t,1,f,n,[],s).processSSE(i),p=V1(h,A=>bQ(t,A,n));return{type:"success",choices:bee(p),getProcessingTime:o(()=>HI(f),"getProcessingTime")}}createTelemetryData(t,r,n){return ln.createAndMarkAsIssued({endpoint:t,engineName:n.engineModelId,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchSpeculationWithParameters(t,r,n,i,s,a){let l={prompt:n.prompt.prefix};return n.postOptions&&Object.assign(l,n.postOptions),await H4(0),a?.isCancellationRequested?"not-sent":await fve(t,n.prompt,n.engineModelId,r,n.ourRequestId,l,i,n.uiKind,s,a,n.headers)}async fetchWithParameters(t,r,n,i,s,a){let l=t.get(xr).disableLogProb(s),c=t.get(xr).enablePromptContextProxyField(s),u={prompt:c?n.prompt.prefixWithoutContext??"":n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:vQ(t),temperature:WI(t,n.count),top_p:xQ(t),n:n.count,stop:uve(t,n.languageId)};(n.requestLogProbs||!l)&&(u.logprobs=2);let f=U1(n.repoInfo);return f!==void 0&&(u.nwo=f),n.postOptions&&Object.assign(u,n.postOptions),c&&n.prompt.context&&(u.extra?u.extra.context=n.prompt.context:u.extra={language:n.languageId,prompt_tokens:n.prompt.prefixTokens??0,suffix_tokens:n.prompt.suffixTokens??0,context:n.prompt.context}),await H4(0),a?.isCancellationRequested?"not-sent":await fve(t,n.prompt,n.engineModelId,r,n.ourRequestId,u,i,n.uiKind,s,a,n.headers)}async handleError(t,r,n,i,s){let a=await i.text();if(i.status===402){this.#e="monthly free code completions exhausted",r.setError("Completions limit reached",{command:Nct,title:"Learn More"});let c=Ca(t,u=>{this.#e=void 0,(u.envelope.limited_user_quotas?.completions??1)>0&&(r.forceNormal(),c.dispose())});return{type:"failed",reason:this.#e}}if(i.status===466)return r.setError(a),Hs.info(t,a),{type:"failed",reason:`client not supported: ${a}`};if(i.clientError&&!i.headers.get("x-github-request-id")){let l=`Last response was a ${i.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;Hs.error(t,l),r.setWarning(l),n.properties.error=`Response status was ${i.status} with no x-github-request-id header`}else i.clientError?(Hs.warn(t,`Response status was ${i.status}:`,a),r.setWarning(`Last response was a ${i.status} error: ${a}`),n.properties.error=`Response status was ${i.status}: ${a}`):(r.setWarning(`Last response was a ${i.status} error`),n.properties.error=`Response status was ${i.status}`);return n.properties.status=String(i.status),jt(t,"request.shownWarning",n),i.status===401||i.status===403?(t.get($r).resetToken(i.status),{type:"failed",reason:`token expired or invalid: ${i.status}`}):i.status===429?(setTimeout(()=>{this.#e=void 0},10*1e3),this.#e="rate limited",Hs.warn(t,"Rate limited by server. Denying completions for the next 10 seconds."),{type:"failed",reason:this.#e}):i.status===499?(Hs.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"}):(Hs.error(t,"Unhandled status from server:",i.status,a),{type:"failed",reason:`unhandled status from server: ${i.status} ${a}`})}};var Jbr=I.Object({prompt:I.String(),speculation:I.String(),languageId:I.String(),stops:I.Array(I.String())}),j4=class{static{o(this,"SpeculationFetcher")}constructor(t){this.ctx=t}async fetchSpeculation(t,r){let i={prompt:t.prompt,speculation:t.speculation,engineModelId:"copilot-centralus-h100",uiKind:"editsPanel",temperature:0,stream:!0,stops:t.stops},s=await this.ctx.get(xr).updateExPValuesAndAssignments(),a=await this.ctx.get(eu).fetchAndStreamSpeculation(this.ctx,i,s,async(l,c)=>{},r);switch(a.type){case"success":return a;case"canceled":throw new AQ(a.reason);case"failed":throw new OI(a.reason)}}};d();d();d();var IQ=class e{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(e.isIncremental(n)){let i=gve(n.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+n.text+this._content.substring(a,this._content.length);let l=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,f=hve(n.text,!1,s);if(c-l===f.length)for(let h=0,p=f.length;h<p;h++)u[h+l+1]=f[h];else f.length<1e4?u.splice(l+1,c-l,...f):this._lineOffsets=u=u.slice(0,l+1).concat(f,u.slice(c+1));let m=n.text.length-(a-s);if(m!==0)for(let h=l+1+f.length,p=u.length;h<p;h++)u[h]=u[h]+m}else if(e.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=hve(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return t=this.ensureBeforeEOL(t,r[s]),{line:s,character:t-r[s]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line];if(t.character<=0)return n;let i=t.line+1<r.length?r[t.line+1]:this._content.length,s=Math.min(n+t.character,i);return this.ensureBeforeEOL(s,n)}ensureBeforeEOL(t,r){for(;t>r&&pve(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},m5;(function(e){function t(i,s,a,l){return new IQ(i,s,a,l)}o(t,"create"),e.create=t;function r(i,s,a){if(i instanceof IQ)return i.update(s,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),e.update=r;function n(i,s){let a=i.getText(),l=Eee(s.map(Lct),(f,m)=>{let h=f.range.start.line-m.range.start.line;return h===0?f.range.start.character-m.range.start.character:h}),c=0,u=[];for(let f of l){let m=i.offsetAt(f.range.start);if(m<c)throw new Error("Overlapping edit");m>c&&u.push(a.substring(c,m)),f.newText.length&&u.push(f.newText),c=i.offsetAt(f.range.end)}return u.push(a.substr(c)),u.join("")}o(n,"applyEdits"),e.applyEdits=n})(m5||(m5={}));function Eee(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);Eee(n,t),Eee(i,t);let s=0,a=0,l=0;for(;s<n.length&&a<i.length;)t(n[s],i[a])<=0?e[l++]=n[s++]:e[l++]=i[a++];for(;s<n.length;)e[l++]=n[s++];for(;a<i.length;)e[l++]=i[a++];return e}o(Eee,"mergeSort");function hve(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);pve(s)&&(s===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}o(hve,"computeLineOffsets");function pve(e){return e===13||e===10}o(pve,"isEOL");function gve(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}o(gve,"getWellformedRange");function Lct(e){let t=gve(e.range);return t!==e.range?{newText:e.newText,range:t}:e}o(Lct,"getWellformedEdit");d();var Ave;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(Ave||(Ave={}));var Iee;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(Iee||(Iee={}));var yve;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(yve||(yve={}));var TQ;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(TQ||(TQ={}));var Nc;(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=TQ.MAX_VALUE),i===Number.MAX_VALUE&&(i=TQ.MAX_VALUE),{line:n,character:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Ke.uinteger(i.line)&&Ke.uinteger(i.character)}o(r,"is"),e.is=r})(Nc||(Nc={}));var Zo;(function(e){function t(n,i,s,a){if(Ke.uinteger(n)&&Ke.uinteger(i)&&Ke.uinteger(s)&&Ke.uinteger(a))return{start:Nc.create(n,i),end:Nc.create(s,a)};if(Nc.is(n)&&Nc.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${s}, ${a}]`)}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Nc.is(i.start)&&Nc.is(i.end)}o(r,"is"),e.is=r})(Zo||(Zo={}));var wQ;(function(e){function t(n,i){return{uri:n,range:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Zo.is(i.range)&&(Ke.string(i.uri)||Ke.undefined(i.uri))}o(r,"is"),e.is=r})(wQ||(wQ={}));var Cve;(function(e){function t(n,i,s,a){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Zo.is(i.targetRange)&&Ke.string(i.targetUri)&&Zo.is(i.targetSelectionRange)&&(Zo.is(i.originSelectionRange)||Ke.undefined(i.originSelectionRange))}o(r,"is"),e.is=r})(Cve||(Cve={}));var Tee;(function(e){function t(n,i,s,a){return{red:n,green:i,blue:s,alpha:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Ke.numberRange(i.red,0,1)&&Ke.numberRange(i.green,0,1)&&Ke.numberRange(i.blue,0,1)&&Ke.numberRange(i.alpha,0,1)}o(r,"is"),e.is=r})(Tee||(Tee={}));var xve;(function(e){function t(n,i){return{range:n,color:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Zo.is(i.range)&&Tee.is(i.color)}o(r,"is"),e.is=r})(xve||(xve={}));var vve;(function(e){function t(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Ke.string(i.label)&&(Ke.undefined(i.textEdit)||VI.is(i))&&(Ke.undefined(i.additionalTextEdits)||Ke.typedArray(i.additionalTextEdits,VI.is))}o(r,"is"),e.is=r})(vve||(vve={}));var bve;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(bve||(bve={}));var Eve;(function(e){function t(n,i,s,a,l,c){let u={startLine:n,endLine:i};return Ke.defined(s)&&(u.startCharacter=s),Ke.defined(a)&&(u.endCharacter=a),Ke.defined(l)&&(u.kind=l),Ke.defined(c)&&(u.collapsedText=c),u}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Ke.uinteger(i.startLine)&&Ke.uinteger(i.startLine)&&(Ke.undefined(i.startCharacter)||Ke.uinteger(i.startCharacter))&&(Ke.undefined(i.endCharacter)||Ke.uinteger(i.endCharacter))&&(Ke.undefined(i.kind)||Ke.string(i.kind))}o(r,"is"),e.is=r})(Eve||(Eve={}));var wee;(function(e){function t(n,i){return{location:n,message:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&wQ.is(i.location)&&Ke.string(i.message)}o(r,"is"),e.is=r})(wee||(wee={}));var Ive;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Ive||(Ive={}));var Tve;(function(e){e.Unnecessary=1,e.Deprecated=2})(Tve||(Tve={}));var wve;(function(e){function t(r){let n=r;return Ke.objectLiteral(n)&&Ke.string(n.href)}o(t,"is"),e.is=t})(wve||(wve={}));var _Q;(function(e){function t(n,i,s,a,l,c){let u={range:n,message:i};return Ke.defined(s)&&(u.severity=s),Ke.defined(a)&&(u.code=a),Ke.defined(l)&&(u.source=l),Ke.defined(c)&&(u.relatedInformation=c),u}o(t,"create"),e.create=t;function r(n){var i;let s=n;return Ke.defined(s)&&Zo.is(s.range)&&Ke.string(s.message)&&(Ke.number(s.severity)||Ke.undefined(s.severity))&&(Ke.integer(s.code)||Ke.string(s.code)||Ke.undefined(s.code))&&(Ke.undefined(s.codeDescription)||Ke.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(Ke.string(s.source)||Ke.undefined(s.source))&&(Ke.undefined(s.relatedInformation)||Ke.typedArray(s.relatedInformation,wee.is))}o(r,"is"),e.is=r})(_Q||(_Q={}));var jI;(function(e){function t(n,i,...s){let a={title:n,command:i};return Ke.defined(s)&&s.length>0&&(a.arguments=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.title)&&Ke.string(i.command)}o(r,"is"),e.is=r})(jI||(jI={}));var VI;(function(e){function t(s,a){return{range:s,newText:a}}o(t,"replace"),e.replace=t;function r(s,a){return{range:{start:s,end:s},newText:a}}o(r,"insert"),e.insert=r;function n(s){return{range:s,newText:""}}o(n,"del"),e.del=n;function i(s){let a=s;return Ke.objectLiteral(a)&&Ke.string(a.newText)&&Zo.is(a.range)}o(i,"is"),e.is=i})(VI||(VI={}));var _ee;(function(e){function t(n,i,s){let a={label:n};return i!==void 0&&(a.needsConfirmation=i),s!==void 0&&(a.description=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Ke.string(i.label)&&(Ke.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(Ke.string(i.description)||i.description===void 0)}o(r,"is"),e.is=r})(_ee||(_ee={}));var $I;(function(e){function t(r){let n=r;return Ke.string(n)}o(t,"is"),e.is=t})($I||($I={}));var _ve;(function(e){function t(s,a,l){return{range:s,newText:a,annotationId:l}}o(t,"replace"),e.replace=t;function r(s,a,l){return{range:{start:s,end:s},newText:a,annotationId:l}}o(r,"insert"),e.insert=r;function n(s,a){return{range:s,newText:"",annotationId:a}}o(n,"del"),e.del=n;function i(s){let a=s;return VI.is(a)&&(_ee.is(a.annotationId)||$I.is(a.annotationId))}o(i,"is"),e.is=i})(_ve||(_ve={}));var See;(function(e){function t(n,i){return{textDocument:n,edits:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Pee.is(i.textDocument)&&Array.isArray(i.edits)}o(r,"is"),e.is=r})(See||(See={}));var kee;(function(e){function t(n,i,s){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&Ke.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||Ke.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ke.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||$I.is(i.annotationId))}o(r,"is"),e.is=r})(kee||(kee={}));var Ree;(function(e){function t(n,i,s,a){let l={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(l.options=s),a!==void 0&&(l.annotationId=a),l}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&Ke.string(i.oldUri)&&Ke.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||Ke.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ke.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||$I.is(i.annotationId))}o(r,"is"),e.is=r})(Ree||(Ree={}));var Bee;(function(e){function t(n,i,s){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&Ke.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||Ke.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||Ke.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||$I.is(i.annotationId))}o(r,"is"),e.is=r})(Bee||(Bee={}));var Dee;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>Ke.string(i.kind)?kee.is(i)||Ree.is(i)||Bee.is(i):See.is(i)))}o(t,"is"),e.is=t})(Dee||(Dee={}));var Sve;(function(e){function t(n){return{uri:n}}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.uri)}o(r,"is"),e.is=r})(Sve||(Sve={}));var kve;(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.uri)&&Ke.integer(i.version)}o(r,"is"),e.is=r})(kve||(kve={}));var Pee;(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.uri)&&(i.version===null||Ke.integer(i.version))}o(r,"is"),e.is=r})(Pee||(Pee={}));var Rve;(function(e){function t(n,i,s,a){return{uri:n,languageId:i,version:s,text:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.uri)&&Ke.string(i.languageId)&&Ke.integer(i.version)&&Ke.string(i.text)}o(r,"is"),e.is=r})(Rve||(Rve={}));var Fee;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}o(t,"is"),e.is=t})(Fee||(Fee={}));var a_;(function(e){function t(r){let n=r;return Ke.objectLiteral(r)&&Fee.is(n.kind)&&Ke.string(n.value)}o(t,"is"),e.is=t})(a_||(a_={}));var Bve;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Bve||(Bve={}));var Dve;(function(e){e.PlainText=1,e.Snippet=2})(Dve||(Dve={}));var Pve;(function(e){e.Deprecated=1})(Pve||(Pve={}));var Fve;(function(e){function t(n,i,s){return{newText:n,insert:i,replace:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Ke.string(i.newText)&&Zo.is(i.insert)&&Zo.is(i.replace)}o(r,"is"),e.is=r})(Fve||(Fve={}));var Nve;(function(e){e.asIs=1,e.adjustIndentation=2})(Nve||(Nve={}));var Lve;(function(e){function t(r){let n=r;return n&&(Ke.string(n.detail)||n.detail===void 0)&&(Ke.string(n.description)||n.description===void 0)}o(t,"is"),e.is=t})(Lve||(Lve={}));var Qve;(function(e){function t(r){return{label:r}}o(t,"create"),e.create=t})(Qve||(Qve={}));var Mve;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}o(t,"create"),e.create=t})(Mve||(Mve={}));var SQ;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(t,"fromPlainText"),e.fromPlainText=t;function r(n){let i=n;return Ke.string(i)||Ke.objectLiteral(i)&&Ke.string(i.language)&&Ke.string(i.value)}o(r,"is"),e.is=r})(SQ||(SQ={}));var Ove;(function(e){function t(r){let n=r;return!!n&&Ke.objectLiteral(n)&&(a_.is(n.contents)||SQ.is(n.contents)||Ke.typedArray(n.contents,SQ.is))&&(r.range===void 0||Zo.is(r.range))}o(t,"is"),e.is=t})(Ove||(Ove={}));var Uve;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}o(t,"create"),e.create=t})(Uve||(Uve={}));var qve;(function(e){function t(r,n,...i){let s={label:r};return Ke.defined(n)&&(s.documentation=n),Ke.defined(i)?s.parameters=i:s.parameters=[],s}o(t,"create"),e.create=t})(qve||(qve={}));var Wve;(function(e){e.Text=1,e.Read=2,e.Write=3})(Wve||(Wve={}));var Gve;(function(e){function t(r,n){let i={range:r};return Ke.number(n)&&(i.kind=n),i}o(t,"create"),e.create=t})(Gve||(Gve={}));var Hve;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Hve||(Hve={}));var jve;(function(e){e.Deprecated=1})(jve||(jve={}));var Vve;(function(e){function t(r,n,i,s,a){let l={name:r,kind:n,location:{uri:s,range:i}};return a&&(l.containerName=a),l}o(t,"create"),e.create=t})(Vve||(Vve={}));var $ve;(function(e){function t(r,n,i,s){return s!==void 0?{name:r,kind:n,location:{uri:i,range:s}}:{name:r,kind:n,location:{uri:i}}}o(t,"create"),e.create=t})($ve||($ve={}));var zve;(function(e){function t(n,i,s,a,l,c){let u={name:n,detail:i,kind:s,range:a,selectionRange:l};return c!==void 0&&(u.children=c),u}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Ke.string(i.name)&&Ke.number(i.kind)&&Zo.is(i.range)&&Zo.is(i.selectionRange)&&(i.detail===void 0||Ke.string(i.detail))&&(i.deprecated===void 0||Ke.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}o(r,"is"),e.is=r})(zve||(zve={}));var Yve;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(Yve||(Yve={}));var kQ;(function(e){e.Invoked=1,e.Automatic=2})(kQ||(kQ={}));var Kve;(function(e){function t(n,i,s){let a={diagnostics:n};return i!=null&&(a.only=i),s!=null&&(a.triggerKind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.typedArray(i.diagnostics,_Q.is)&&(i.only===void 0||Ke.typedArray(i.only,Ke.string))&&(i.triggerKind===void 0||i.triggerKind===kQ.Invoked||i.triggerKind===kQ.Automatic)}o(r,"is"),e.is=r})(Kve||(Kve={}));var Jve;(function(e){function t(n,i,s){let a={title:n},l=!0;return typeof i=="string"?(l=!1,a.kind=i):jI.is(i)?a.command=i:a.edit=i,l&&s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Ke.string(i.title)&&(i.diagnostics===void 0||Ke.typedArray(i.diagnostics,_Q.is))&&(i.kind===void 0||Ke.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||jI.is(i.command))&&(i.isPreferred===void 0||Ke.boolean(i.isPreferred))&&(i.edit===void 0||Dee.is(i.edit))}o(r,"is"),e.is=r})(Jve||(Jve={}));var Zve;(function(e){function t(n,i){let s={range:n};return Ke.defined(i)&&(s.data=i),s}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Zo.is(i.range)&&(Ke.undefined(i.command)||jI.is(i.command))}o(r,"is"),e.is=r})(Zve||(Zve={}));var Xve;(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.uinteger(i.tabSize)&&Ke.boolean(i.insertSpaces)}o(r,"is"),e.is=r})(Xve||(Xve={}));var ebe;(function(e){function t(n,i,s){return{range:n,target:i,data:s}}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Zo.is(i.range)&&(Ke.undefined(i.target)||Ke.string(i.target))}o(r,"is"),e.is=r})(ebe||(ebe={}));var tbe;(function(e){function t(n,i){return{range:n,parent:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Zo.is(i.range)&&(i.parent===void 0||e.is(i.parent))}o(r,"is"),e.is=r})(tbe||(tbe={}));var rbe;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(rbe||(rbe={}));var nbe;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(nbe||(nbe={}));var ibe;(function(e){function t(r){let n=r;return Ke.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(t,"is"),e.is=t})(ibe||(ibe={}));var obe;(function(e){function t(n,i){return{range:n,text:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Zo.is(i.range)&&Ke.string(i.text)}o(r,"is"),e.is=r})(obe||(obe={}));var sbe;(function(e){function t(n,i,s){return{range:n,variableName:i,caseSensitiveLookup:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Zo.is(i.range)&&Ke.boolean(i.caseSensitiveLookup)&&(Ke.string(i.variableName)||i.variableName===void 0)}o(r,"is"),e.is=r})(sbe||(sbe={}));var abe;(function(e){function t(n,i){return{range:n,expression:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Zo.is(i.range)&&(Ke.string(i.expression)||i.expression===void 0)}o(r,"is"),e.is=r})(abe||(abe={}));var lbe;(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Zo.is(n.stoppedLocation)}o(r,"is"),e.is=r})(lbe||(lbe={}));var Nee;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(Nee||(Nee={}));var Lee;(function(e){function t(n){return{value:n}}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&(i.tooltip===void 0||Ke.string(i.tooltip)||a_.is(i.tooltip))&&(i.location===void 0||wQ.is(i.location))&&(i.command===void 0||jI.is(i.command))}o(r,"is"),e.is=r})(Lee||(Lee={}));var cbe;(function(e){function t(n,i,s){let a={position:n,label:i};return s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Nc.is(i.position)&&(Ke.string(i.label)||Ke.typedArray(i.label,Lee.is))&&(i.kind===void 0||Nee.is(i.kind))&&i.textEdits===void 0||Ke.typedArray(i.textEdits,VI.is)&&(i.tooltip===void 0||Ke.string(i.tooltip)||a_.is(i.tooltip))&&(i.paddingLeft===void 0||Ke.boolean(i.paddingLeft))&&(i.paddingRight===void 0||Ke.boolean(i.paddingRight))}o(r,"is"),e.is=r})(cbe||(cbe={}));var ube;(function(e){function t(r){return{kind:"snippet",value:r}}o(t,"createSnippet"),e.createSnippet=t})(ube||(ube={}));var fbe;(function(e){function t(r,n,i,s){return{insertText:r,filterText:n,range:i,command:s}}o(t,"create"),e.create=t})(fbe||(fbe={}));var dbe;(function(e){function t(r){return{items:r}}o(t,"create"),e.create=t})(dbe||(dbe={}));var mbe;(function(e){e.Invoked=0,e.Automatic=1})(mbe||(mbe={}));var hbe;(function(e){function t(r,n){return{range:r,text:n}}o(t,"create"),e.create=t})(hbe||(hbe={}));var pbe;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(t,"create"),e.create=t})(pbe||(pbe={}));var gbe;(function(e){function t(r){let n=r;return Ke.objectLiteral(n)&&Iee.is(n.uri)&&Ke.string(n.name)}o(t,"is"),e.is=t})(gbe||(gbe={}));var Abe;(function(e){function t(s,a,l,c){return new Qee(s,a,l,c)}o(t,"create"),e.create=t;function r(s){let a=s;return!!(Ke.defined(a)&&Ke.string(a.uri)&&(Ke.undefined(a.languageId)||Ke.string(a.languageId))&&Ke.uinteger(a.lineCount)&&Ke.func(a.getText)&&Ke.func(a.positionAt)&&Ke.func(a.offsetAt))}o(r,"is"),e.is=r;function n(s,a){let l=s.getText(),c=i(a,(f,m)=>{let h=f.range.start.line-m.range.start.line;return h===0?f.range.start.character-m.range.start.character:h}),u=l.length;for(let f=c.length-1;f>=0;f--){let m=c[f],h=s.offsetAt(m.range.start),p=s.offsetAt(m.range.end);if(p<=u)l=l.substring(0,h)+m.newText+l.substring(p,l.length);else throw new Error("Overlapping edit");u=h}return l}o(n,"applyEdits"),e.applyEdits=n;function i(s,a){if(s.length<=1)return s;let l=s.length/2|0,c=s.slice(0,l),u=s.slice(l);i(c,a),i(u,a);let f=0,m=0,h=0;for(;f<c.length&&m<u.length;)a(c[f],u[m])<=0?s[h++]=c[f++]:s[h++]=u[m++];for(;f<c.length;)s[h++]=c[f++];for(;m<u.length;)s[h++]=u[m++];return s}o(i,"mergeSort")})(Abe||(Abe={}));var Qee=class{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return Nc.create(0,t);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return Nc.create(s,t-r[s])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}},Ke;(function(e){let t=Object.prototype.toString;function r(p){return typeof p<"u"}o(r,"defined"),e.defined=r;function n(p){return typeof p>"u"}o(n,"undefined"),e.undefined=n;function i(p){return p===!0||p===!1}o(i,"boolean"),e.boolean=i;function s(p){return t.call(p)==="[object String]"}o(s,"string"),e.string=s;function a(p){return t.call(p)==="[object Number]"}o(a,"number"),e.number=a;function l(p,A,x){return t.call(p)==="[object Number]"&&A<=p&&p<=x}o(l,"numberRange"),e.numberRange=l;function c(p){return t.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}o(c,"integer"),e.integer=c;function u(p){return t.call(p)==="[object Number]"&&0<=p&&p<=2147483647}o(u,"uinteger"),e.uinteger=u;function f(p){return t.call(p)==="[object Function]"}o(f,"func"),e.func=f;function m(p){return p!==null&&typeof p=="object"}o(m,"objectLiteral"),e.objectLiteral=m;function h(p,A){return Array.isArray(p)&&p.every(A)}o(h,"typedArray"),e.typedArray=h})(Ke||(Ke={}));var No=class{static{o(this,"LocationFactory")}static{this.range=Zo.create.bind(Zo)}static{this.position=Nc.create.bind(Nc)}};function zI({textDocument:e,position:t},r){let n=e.offsetAt(t);for(let{range:i,newText:s}of r){let a=e.getText(i),l=e.offsetAt(i.end);e=e.applyEdits([{range:i,newText:s}]),!(n<e.offsetAt(i.start))&&(n<l&&(n=l),n+=s.length-a.length)}return{textDocument:e,position:e.positionAt(n)}}o(zI,"applyEdits");function RQ(e,t,r){return zI({textDocument:e,position:t},r)}o(RQ,"applyEditsWithPosition");var $1=class e{constructor(t,r,n,i=[]){this.uri=t;this._textDocument=r;this.detectedLanguageId=n;this.appliedEdits=i}static{o(this,"CopilotTextDocument")}static withChanges(t,r,n){let i=m5.create(t.clientUri,t.clientLanguageId,n,t.getText());return m5.update(i,r,n),new e(t.uri,i,t.detectedLanguageId)}applyEdits(t){let r=m5.create(this.clientUri,this.clientLanguageId,this.version,this.getText());return m5.update(r,t.map(n=>({text:n.newText,range:n.range})),this.version),new e(this.uri,r,this.detectedLanguageId,[...this.appliedEdits,...t])}static create(t,r,n,i,s=EI({uri:t,languageId:r})){return new e(ec(t),m5.create(t,r,n,i),s)}get clientUri(){return this._textDocument.uri}get clientLanguageId(){return this._textDocument.languageId}get languageId(){return this._textDocument.languageId}get version(){return this._textDocument.version}get lineCount(){return this._textDocument.lineCount}getText(t){return this._textDocument.getText(t)}positionAt(t){return this._textDocument.positionAt(t)}offsetAt(t){return this._textDocument.offsetAt(t)}lineAt(t){let r=typeof t=="number"?t:t.line;if(r<0||r>=this.lineCount)throw new RangeError("Illegal value for lineNumber");let n=Zo.create(r,0,r+1,0),i=this.getText(n).replace(/\r\n$|\r$|\n$/g,""),s=Zo.create(Nc.create(r,0),Nc.create(r,i.length)),a=i.trim().length===0;return{text:i,range:s,isEmptyOrWhitespace:a}}};d();d();d();d();var l_={isBlocked:!1,reason:"VALID_FILE"},BQ={isBlocked:!1,reason:"NO_MATCHING_POLICY"},ybe={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"},V4={all:"all",repo:"repo"},z1=new Yt("contentExclusion");d();d();var DQ=class{static{o(this,"PolicyEvaluator")}};d();d();d();var Cbe=new Yt("repository"),$4=class e{constructor(){this.data={}}static{o(this,"GitConfigData")}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),i=`.${r}`.toLowerCase();return Object.keys(this.data).filter(s=>s.startsWith(n)&&s.endsWith(i)).map(s=>s.slice(n.length,-i.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,i])=>(i.forEach(s=>r.add(n,s)),r),new e)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}},rh=class{static{o(this,"GitConfigLoader")}},PQ=class extends rh{constructor(r){super();this.loaders=r}static{o(this,"GitFallbackConfigLoader")}async getConfig(r,n){for(let i of this.loaders){let s=await i.getConfig(r,n);if(s)return s}}};d();var xbe=require("os");var FQ=class{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}static{o(this,"GitRemoteUrl")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test(this.hostname??"")}isADO(){return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test(this.hostname??"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return Vy.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=Vy.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,xbe.platform)()!=="win32"||(t.groups?.host?.length??0)>1)){let r=t.groups?.host??"";return this._scheme="ssh",this.setAuthority(r),this.setPath(this.url.substring(r.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};var NQ=class{static{o(this,"GitRemoteResolver")}async resolveRemote(t,r){let n=await t.get(rh).getConfig(t,r);if(!n)return;let i=this.getRemotes(n),s=i.filter(a=>a.url.isGitHub());if(s.length)return s.find(a=>a.name==="origin")?.url??s[0].url;if(i.length)return i.find(a=>a.name==="origin")?.url??i[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>({name:n,url:new FQ(this.applyInsteadOfRules(r,t.get(`remote.${n}.url`)??""))})).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};var Qct=100,Mee=class{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}static{o(this,"GitRepository")}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){return this.remote?.isGitHub()??!1}isADO(){return this.remote?.isADO()??!1}setNWO(){let t=this.remote?.path?.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t?.[0],this._name=t?.[1]?.replace(/\.git$/,"");let r=/^(?<tenant>[^.]+)\.ghe\.com$/.exec(this.remote?.hostname??"");r&&(this._tenant=r.groups?.tenant)}else if(this.isADO()&&t?.length===4){if(this.remote?.scheme==="ssh"){this._adoOrganization=t?.[1],this._owner=t?.[2],this._name=t?.[3];return}let r=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec(this.remote?.hostname??"");r?(this._adoOrganization=r.groups?.org,this._owner=t?.[1],this._name=t?.[3]):(this._adoOrganization=t?.[0],this._owner=t?.[1],this._name=t?.[3])}}},Y1=class e{constructor(t){this.ctx=t;this.remoteResolver=new NQ;this.cache=new In(Qct)}static{o(this,"RepositoryManager")}async getRepo({uri:t}){let r,n=[];do{if(this.cache.has(t.toString())){let s=this.cache.get(t);return this.updateCache(n,s),s}n.push(t.toString());let i=await this.tryGetRepoForFolder(t);if(i)return this.updateCache(n,i),i;r=t,t=ju(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new Mee(typeof t=="string"?{uri:t}:t,await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await e.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(Io),i=Fo(r,".git");if((await n.stat(i)).type&1)return await this.getConfigLocationForGitfile(n,r,i);let a=Fo(i,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let s=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!s)return;let a=m4(r,s[1]),l=Fo(a,"config");if(await this.tryStat(t,l)!==void 0)return l;let c=Fo(a,"config.worktree");if(await this.tryStat(t,c)!==void 0)return c;let u=Fo(a,"commondir");a=m4(a,(await t.readFileString(u)).trimEnd());let f=Fo(a,"config");return await t.stat(f),f}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};d();var vbe=o((e,t)=>{if(Yy.Check(e,t))return t;let r=`Typebox schema validation failed:
${[...Yy.Errors(e,t)].map(n=>`${n.path} ${n.message}`).join(`
`)}`;throw new Error(r)},"assertShape");d();d();d();var QQ=new WeakMap;function MQ(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",i=0,s=Object.prototype.toString.call(e);if(s!=="[object RegExp]"&&s!=="[object Date]"&&QQ.has(e))return QQ.get(e);switch(QQ.set(e,"~"+ ++t),s){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";i<r.length;n+=MQ(r[i++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();i<r.length;n+=r[i]+MQ(e[r[i++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();i<r.length;n+=r[i]+MQ(e.get(r[i++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return QQ.set(e,n),n}o(MQ,"t");function OQ(e){return MQ(e,0)}o(OQ,"r");var Oee=new WeakMap;function bbe(e,t,r=OQ(t)){let n,i,s=Oee.get(e);s||(Oee.set(e,s=[[],i=[],n=[]]),queueMicrotask(function(){let u,f=0;function m(h){for(;u=n[f++];u.r(h));}o(m,"o"),Oee.delete(e),e(i).then(function(h){if(h.length!==n.length)return m(new Error("loader value length mismatch"));for(;u=h[f++],f<=h.length;u instanceof Error?n[f-1].r(u):n[f-1].s(u));},m)}));let a=s[0].indexOf(r);if(~a)return s[2][a].p;let l=s[0].push(r)-1,c=s[2][l]={};return s[1][l]=t,c.p=new Promise(function(u,f){c.s=u,c.r=f})}o(bbe,"n");var Ebe=new WeakMap;function Mct(e,t,r,n=OQ(r)){if(t||(t=Ebe.get(e)),t||Ebe.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let i=bbe(e,r,n);return t.set(n,i),i.catch(()=>t.delete(n)),i}o(Mct,"n");function Ibe(e,t){return function(r,n){return Mct(e,t,r,n)}}o(Ibe,"o");d();var jbe=et(Qbe(),1);d();var u_=o(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");d();d();var Vct={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},f_=o(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),$ct=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),Mbe=o(e=>e.join(""),"rangesToString"),Obe=o((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,a=!1,l=!1,c=!1,u=!1,f=r,m="";e:for(;s<e.length;){let x=e.charAt(s);if((x==="!"||x==="^")&&s===r+1){u=!0,s++;continue}if(x==="]"&&a&&!c){f=s+1;break}if(a=!0,x==="\\"&&!c){c=!0,s++;continue}if(x==="["&&!c){for(let[v,[E,b,_]]of Object.entries(Vct))if(e.startsWith(v,s)){if(m)return["$.",!1,e.length-r,!0];s+=v.length,_?i.push(E):n.push(E),l=l||b;continue e}}if(c=!1,m){x>m?n.push(f_(m)+"-"+f_(x)):x===m&&n.push(f_(x)),m="",s++;continue}if(e.startsWith("-]",s+1)){n.push(f_(x+"-")),s+=2;continue}if(e.startsWith("-",s+1)){m=x,s+=2;continue}n.push(f_(x)),s++}if(f<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,e.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let x=n[0].length===2?n[0].slice(-1):n[0];return[$ct(x),!1,f-r,!1]}let h="["+(u?"^":"")+Mbe(n)+"]",p="["+(u?"":"^")+Mbe(i)+"]";return[n.length&&i.length?"("+h+"|"+p+")":n.length?h:p,l,f-r,!0]},"parseClass");d();var h5=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var zct=new Set(["!","?","+","*","@"]),Ube=o(e=>zct.has(e),"isExtglobType"),Yct="(?!(?:^|/)\\.\\.?(?:$|/))",UQ="(?!\\.)",Kct=new Set(["[","."]),Jct=new Set(["..","."]),Zct=new Set("().*{}+?[]^$\\!"),Xct=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),Wee="[^/]",qbe=Wee+"*?",Wbe=Wee+"+?",YI=class e{static{o(this,"AST")}type;#e;#t;#i=!1;#n=[];#r;#o;#s;#a=!1;#l;#c;#f=!1;constructor(t,r,n={}){this.type=t,t&&(this.#t=!0),this.#r=r,this.#e=this.#r?this.#r.#e:this,this.#l=this.#e===this?n:this.#e.#l,this.#s=this.#e===this?[]:this.#e.#s,t==="!"&&!this.#e.#a&&this.#s.push(this),this.#o=this.#r?this.#r.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let t of this.#n)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#n.map(t=>String(t)).join("|")+")":this.#c=this.#n.map(t=>String(t)).join("")}#m(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#s.pop();){if(t.type!=="!")continue;let r=t,n=r.#r;for(;n;){for(let i=r.#o+1;!n.type&&i<n.#n.length;i++)for(let s of t.#n){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#n[i])}r=n,n=r.#r}}return this}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof e&&r.#r===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let t=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&this.#r?.type==="!")&&t.push({}),t}isStart(){if(this.#e===this)return!0;if(!this.#r?.isStart())return!1;if(this.#o===0)return!0;let t=this.#r;for(let r=0;r<this.#o;r++){let n=t.#n[r];if(!(n instanceof e&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let t=this.#r?this.#r.#n.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new e(this.type,t);for(let n of this.#n)r.copyIn(n);return r}static#u(t,r,n,i){let s=!1,a=!1,l=-1,c=!1;if(r.type===null){let p=n,A="";for(;p<t.length;){let x=t.charAt(p++);if(s||x==="\\"){s=!s,A+=x;continue}if(a){p===l+1?(x==="^"||x==="!")&&(c=!0):x==="]"&&!(p===l+2&&c)&&(a=!1),A+=x;continue}else if(x==="["){a=!0,l=p,c=!1,A+=x;continue}if(!i.noext&&Ube(x)&&t.charAt(p)==="("){r.push(A),A="";let v=new e(x,r);p=e.#u(t,v,p,i),r.push(v);continue}A+=x}return r.push(A),p}let u=n+1,f=new e(null,r),m=[],h="";for(;u<t.length;){let p=t.charAt(u++);if(s||p==="\\"){s=!s,h+=p;continue}if(a){u===l+1?(p==="^"||p==="!")&&(c=!0):p==="]"&&!(u===l+2&&c)&&(a=!1),h+=p;continue}else if(p==="["){a=!0,l=u,c=!1,h+=p;continue}if(Ube(p)&&t.charAt(u)==="("){f.push(h),h="";let A=new e(p,f);f.push(A),u=e.#u(t,A,u,i);continue}if(p==="|"){f.push(h),h="",m.push(f),f=new e(null,r);continue}if(p===")")return h===""&&r.#n.length===0&&(r.#f=!0),f.push(h),h="",r.push(...m,f),u;h+=p}return r.type=null,r.#t=void 0,r.#n=[t.substring(n-1)],u}static fromGlob(t,r={}){let n=new e(null,void 0,r);return e.#u(t,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let t=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#l.nocase&&!this.#l.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let l=(this.#l.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:t})}get options(){return this.#l}toRegExpSource(t){let r=t??!!this.#l.dot;if(this.#e===this&&this.#m(),!this.type){let c=this.isStart()&&this.isEnd(),u=this.#n.map(p=>{let[A,x,v,E]=typeof p=="string"?e.#h(p,this.#t,c):p.toRegExpSource(t);return this.#t=this.#t||v,this.#i=this.#i||E,A}).join(""),f="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&Jct.has(this.#n[0]))){let A=Kct,x=r&&A.has(u.charAt(0))||u.startsWith("\\.")&&A.has(u.charAt(2))||u.startsWith("\\.\\.")&&A.has(u.charAt(4)),v=!r&&!t&&A.has(u.charAt(0));f=x?Yct:v?UQ:""}let m="";return this.isEnd()&&this.#e.#a&&this.#r?.type==="!"&&(m="(?:$|\\/)"),[f+u+m,h5(u),this.#t=!!this.#t,this.#i]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#d(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let c=this.toString();return this.#n=[c],this.type=null,this.#t=void 0,[c,h5(this.toString()),!1,!1]}let a=!n||t||r||!UQ?"":this.#d(!0);a===s&&(a=""),a&&(s=`(?:${s})(?:${a})*?`);let l="";if(this.type==="!"&&this.#f)l=(this.isStart()&&!r?UQ:"")+Wbe;else{let c=this.type==="!"?"))"+(this.isStart()&&!r&&!t?UQ:"")+qbe+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;l=i+s+c}return[l,h5(s),this.#t=!!this.#t,this.#i]}#d(t){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,a]=r.toRegExpSource(t);return this.#i=this.#i||a,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#h(t,r,n=!1){let i=!1,s="",a=!1;for(let l=0;l<t.length;l++){let c=t.charAt(l);if(i){i=!1,s+=(Zct.has(c)?"\\":"")+c;continue}if(c==="\\"){l===t.length-1?s+="\\\\":i=!0;continue}if(c==="["){let[u,f,m,h]=Obe(t,l);if(m){s+=u,a=a||f,l+=m-1,r=r||h;continue}}if(c==="*"){n&&t==="*"?s+=Wbe:s+=qbe,r=!0;continue}if(c==="?"){s+=Wee,r=!0;continue}s+=Xct(c)}return[s,h5(t),!!r,a]}};d();var Gee=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var Ea=o((e,t,r={})=>(u_(t),!r.nocomment&&t.charAt(0)==="#"?!1:new KI(t,r).match(e)),"minimatch"),e0t=/^\*+([^+@!?\*\[\(]*)$/,t0t=o(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),r0t=o(e=>t=>t.endsWith(e),"starDotExtTestDot"),n0t=o(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),i0t=o(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),o0t=/^\*+\.\*+$/,s0t=o(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),a0t=o(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),l0t=/^\.\*+$/,c0t=o(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),u0t=/^\*+$/,f0t=o(e=>e.length!==0&&!e.startsWith("."),"starTest"),d0t=o(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),m0t=/^\?+([^+@!?\*\[\(]*)?$/,h0t=o(([e,t=""])=>{let r=Vbe([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),p0t=o(([e,t=""])=>{let r=$be([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),g0t=o(([e,t=""])=>{let r=$be([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),A0t=o(([e,t=""])=>{let r=Vbe([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),Vbe=o(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),$be=o(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),zbe=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",Gbe={win32:{sep:"\\"},posix:{sep:"/"}},y0t=zbe==="win32"?Gbe.win32.sep:Gbe.posix.sep;Ea.sep=y0t;var _d=Symbol("globstar **");Ea.GLOBSTAR=_d;var C0t="[^/]",x0t=C0t+"*?",v0t="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",b0t="(?:(?!(?:\\/|^)\\.).)*?",E0t=o((e,t={})=>r=>Ea(r,e,t),"filter");Ea.filter=E0t;var wd=o((e,t={})=>Object.assign({},e,t),"ext"),I0t=o(e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return Ea;let t=Ea;return Object.assign(o((n,i,s={})=>t(n,i,wd(e,s)),"m"),{Minimatch:class extends t.Minimatch{static{o(this,"Minimatch")}constructor(i,s={}){super(i,wd(e,s))}static defaults(i){return t.defaults(wd(e,i)).Minimatch}},AST:class extends t.AST{static{o(this,"AST")}constructor(i,s,a={}){super(i,s,wd(e,a))}static fromGlob(i,s={}){return t.AST.fromGlob(i,wd(e,s))}},unescape:o((n,i={})=>t.unescape(n,wd(e,i)),"unescape"),escape:o((n,i={})=>t.escape(n,wd(e,i)),"escape"),filter:o((n,i={})=>t.filter(n,wd(e,i)),"filter"),defaults:o(n=>t.defaults(wd(e,n)),"defaults"),makeRe:o((n,i={})=>t.makeRe(n,wd(e,i)),"makeRe"),braceExpand:o((n,i={})=>t.braceExpand(n,wd(e,i)),"braceExpand"),match:o((n,i,s={})=>t.match(n,i,wd(e,s)),"match"),sep:t.sep,GLOBSTAR:_d})},"defaults");Ea.defaults=I0t;var Ybe=o((e,t={})=>(u_(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,jbe.default)(e)),"braceExpand");Ea.braceExpand=Ybe;var T0t=o((e,t={})=>new KI(e,t).makeRe(),"makeRe");Ea.makeRe=T0t;var w0t=o((e,t,r={})=>{let n=new KI(t,r);return e=e.filter(i=>n.match(i)),n.options.nonull&&!e.length&&e.push(t),e},"match");Ea.match=w0t;var Hbe=/[?*]|[+@!]\(.*?\)|\[|\]/,_0t=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),KI=class{static{o(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,r={}){u_(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||zbe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,a,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=s[0]===""&&s[1]===""&&(s[2]==="?"||!Hbe.test(s[2]))&&!Hbe.test(s[3]),u=/^[a-z]:/i.test(s[0]);if(c)return[...s.slice(0,4),...s.slice(4).map(f=>this.parse(f))];if(u)return[s[0],...s.slice(1).map(f=>this.parse(f))]}return s.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let a=this.set[s];a[0]===""&&a[1]===""&&this.globParts[s][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]==="**"&&(t[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){let s=t[i];i===1&&s===""&&t[0]===""||(s==="."||s==="")&&(r=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let i=t[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let a=i;for(;n[a+1]==="**";)a++;a>i&&n.splice(i+1,a-i);let l=n[i+1],c=n[i+2],u=n[i+3];if(l!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;r=!0,n.splice(i,1);let f=n.slice(0);f[i]="**",t.push(f),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let l=n[a];a===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let a=n[s-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let c=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...c),n.length===0&&n.push(""),s-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let i=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);if(i){t[r]=[],t[n]=i;break}}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let i=0,s=0,a=[],l="";for(;i<t.length&&s<r.length;)if(t[i]===r[s])a.push(l==="b"?r[s]:t[i]),i++,s++;else if(n&&t[i]==="**"&&r[s]===t[i+1])a.push(t[i]),i++;else if(n&&r[s]==="**"&&t[i]===r[s+1])a.push(r[s]),s++;else if(t[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(l==="b")return!1;l="a",a.push(t[i]),i++,s++}else if(r[s]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(l==="a")return!1;l="b",a.push(r[s]),i++,s++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let i=this.options;if(this.isWindows){let x=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),v=!x&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),E=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),b=!E&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),_=v?3:x?0:void 0,R=b?3:E?0:void 0;if(typeof _=="number"&&typeof R=="number"){let[P,F]=[t[_],r[R]];P.toLowerCase()===F.toLowerCase()&&(r[R]=P,R>_?r=r.slice(R):_>R&&(t=t.slice(_)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,l=0,c=t.length,u=r.length;a<c&&l<u;a++,l++){this.debug("matchOne loop");var f=r[l],m=t[a];if(this.debug(r,f,m),f===!1)return!1;if(f===_d){this.debug("GLOBSTAR",[r,f,m]);var h=a,p=l+1;if(p===u){for(this.debug("** at the end");a<c;a++)if(t[a]==="."||t[a]===".."||!i.dot&&t[a].charAt(0)===".")return!1;return!0}for(;h<c;){var A=t[h];if(this.debug(`
globstar while`,t,h,r,p,A),this.matchOne(t.slice(h),r.slice(p),n))return this.debug("globstar found match!",h,c,A),!0;if(A==="."||A===".."||!i.dot&&A.charAt(0)==="."){this.debug("dot detected!",t,h,r,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,h,r,p),h===c))}let x;if(typeof f=="string"?(x=m===f,this.debug("string match",f,m,x)):(x=f.test(m),this.debug("pattern match",f,m,x)),!x)return!1}if(a===c&&l===u)return!0;if(a===c)return n;if(l===u)return a===c-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return Ybe(this.pattern,this.options)}parse(t){u_(t);let r=this.options;if(t==="**")return _d;if(t==="")return"";let n,i=null;(n=t.match(u0t))?i=r.dot?d0t:f0t:(n=t.match(e0t))?i=(r.nocase?r.dot?i0t:n0t:r.dot?r0t:t0t)(n[1]):(n=t.match(m0t))?i=(r.nocase?r.dot?p0t:h0t:r.dot?g0t:A0t)(n):(n=t.match(o0t))?i=r.dot?a0t:s0t:(n=t.match(l0t))&&(i=c0t);let s=YI.fromGlob(t,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?x0t:r.dot?v0t:b0t,i=new Set(r.nocase?["i"]:[]),s=t.map(c=>{let u=c.map(f=>{if(f instanceof RegExp)for(let m of f.flags.split(""))i.add(m);return typeof f=="string"?_0t(f):f===_d?_d:f._src});return u.forEach((f,m)=>{let h=u[m+1],p=u[m-1];f!==_d||p===_d||(p===void 0?h!==void 0&&h!==_d?u[m+1]="(?:\\/|"+n+"\\/)?"+h:u[m]=n:h===void 0?u[m-1]=p+"(?:\\/|"+n+")?":h!==_d&&(u[m-1]=p+"(?:\\/|\\/"+n+"\\/)"+h,u[m+1]=_d))}),u.filter(f=>f!==_d).join("/")}).join("|"),[a,l]=t.length>1?["(?:",")"]:["",""];s="^"+a+s+l+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let i=this.slashSplit(t);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let a=i[i.length-1];if(!a)for(let l=i.length-2;!a&&l>=0;l--)a=i[l];for(let l=0;l<s.length;l++){let c=s[l],u=i;if(n.matchBase&&c.length===1&&(u=[a]),this.matchOne(u,c,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return Ea.defaults(t).Minimatch}};Ea.AST=YI;Ea.Minimatch=KI;Ea.escape=Gee;Ea.unescape=h5;var Hee="contentExclusion",qQ=class extends DQ{static{o(this,"CopilotContentExclusion")}#e;#t=new In(1e4);#i=new In(200);constructor(t){super(),this.#e=t}async evaluate(t,r){try{t=m4(t).toString();let n=await this.getGitRepo({uri:t}),i=await this.#n(n?.url??V4.all);if(!i)return BQ;let s=n?.baseFolder?.uri??"file://",a=this.evaluateFilePathRules(t,s,i);if(a.isBlocked)return a;let l=this.evaluateTextBasedRules(t,i,r);if(l.isBlocked)return l}catch(n){return z1.exception(this.#e,n,`${Hee}.evaluate`),ybe}return l_}evaluateFilePathRules(t,r,n){let i=t;if(this.#t.has(i))return this.#t.get(i);let s=l_,a,l=nZ(t.replace(r,""));e:for(let c of n)for(let u of c.paths)if(Ea(l,u,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){s=jee(c,"FILE_BLOCKED_PATH"),a=u;break e}return z1.debug(this.#e,`Evaluated path-based exclusion rules for <${t}>`,{result:s,baseUri:r,fileName:l,matchingPattern:a}),this.#t.set(i,s),s}evaluateTextBasedRules(t,r,n){let i=r.filter(l=>l.ifAnyMatch),s=r.filter(l=>l.ifNoneMatch);if(!n||i.length===0&&s.length===0)return l_;let a=this.evaluateFileContent(i,s,n);return z1.debug(this.#e,`Evaluated text-based exclusion rules for <${t}>`,{result:a}),a}evaluateFileContent(t,r,n){for(let i of t)if(i.ifAnyMatch&&i.ifAnyMatch.length>0&&i.ifAnyMatch.map(a=>Kbe(a)).some(a=>a.test(n)))return jee(i,"FILE_BLOCKED_TEXT_BASED");for(let i of r)if(i.ifNoneMatch&&i.ifNoneMatch.length>0&&!i.ifNoneMatch.map(a=>Kbe(a)).some(a=>a.test(n)))return jee(i,"FILE_BLOCKED_TEXT_BASED");return l_}async refresh(){try{let t=[...this.#i.keys()];this.reset(),await Promise.all(t.map(r=>this.#o(r)))}catch(t){xa(this.#e,t,`${Hee}.refresh`)}}reset(){this.#i.clear(),this.#t.clear()}async#n(t){if(this.#r?.length)return this.#r;let r=await this.#o(t.toLowerCase());if(r.length!==0)return r}#r;setTestingRules(t){this.#r=t}#o=Ibe(async t=>{let r=await this.#e.get($r).getGitHubSession();if(!r)throw new Ys("No token found");let n=this.#e.get(On).getContentRestrictionsUrl(r),i=new URL(n),s=t.includes(V4.all);t.filter(u=>u!==V4.all).length>0&&i.searchParams.set("repos",t.filter(u=>u!==V4.all).join(",")),i.searchParams.set("scope",s?V4.all:V4.repo);let l=await this.#e.get(Or).fetch(i.href,{method:"GET",headers:{Authorization:`token ${r.token}`}}),c=await l.json();if(!l.ok){if(l.status===404)return Array.from(t,()=>[]);throw this.#s("fetch.error",{message:c.message}),new $3(l)}return this.#s("fetch.success"),vbe(B0t,c).map(u=>u.rules)},this.#i);async getGitRepo(t){let n=await this.#e.get(Y1).getRepo(ju(t));if(!n||!n?.remote)return;let i=n.remote.getUrlForApi();if(i)return{baseFolder:n.baseFolder,url:i}}#s(t,r,n){jt(this.#e,`${Hee}.${t}`,ln.createAndMarkAsIssued(r,n))}};function Kbe(e){if(!e.startsWith("/")&&!e.endsWith("/"))return new RegExp(e);let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}o(Kbe,"stringToRegex");function jee(e,t){return{isBlocked:!0,message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`,reason:t}}o(jee,"fileBlockedEvaluationResult");var S0t=I.Object({name:I.String(),type:I.String()}),k0t=I.Object({paths:I.Array(I.String()),ifNoneMatch:I.Optional(I.Array(I.String())),ifAnyMatch:I.Optional(I.Array(I.String())),source:S0t}),Vee=I.Array(k0t),R0t=I.Object({rules:Vee,last_updated_at:I.String(),scope:I.String()}),B0t=I.Array(R0t);var Lc=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new qQ(this.ctx);this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=o(async t=>{if(!this.#e)return;if(!t){this.updateStatusIcon(!1);return}let r=await this.ctx.get(Jr).getTextDocumentValidation(t.document),n=r.status==="invalid",i=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,i)},"onDidChangeActiveTextEditor");this.ctx.get(Jr).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),Ca(this.ctx,r=>{this.#e=r.envelope.copilotignore_enabled??!1,this.evaluateResultCache.clear(),this.#t.refresh()})}static{o(this,"CopilotContentExclusionManager")}#e;#t;get enabled(){return this.#e}async evaluate(t,r,n){let i=Mo(t)!==void 0;if(i||z1.debug(this.ctx,`Unsupported file URI <${t}>`),!this.#e||!i)return{isBlocked:!1};let s=[],a=o(async(u,f)=>{let m=Date.now(),h=await f.evaluate(t,r),p=Date.now();return s.push({key:u,result:h,elapsedMs:p-m}),h},"track"),c=(await Promise.all([a("contentExclusion.evaluate",this.#t)])).find(u=>u?.isBlocked)??{isBlocked:!1};try{for(let u of s)this.#i(u.key,t,u.result,u.elapsedMs)}catch(u){z1.error(this.ctx,"Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(c.isBlocked,c.message),c}updateStatusIcon(t,r){this.#e&&(t?this.ctx.get(zi).setInactive(r??"Copilot is disabled"):this.ctx.get(zi).clearInactive())}#i(t,r,n,i){let s=r+t;if(this.evaluateResultCache.get(s)===n.reason)return!1;if(this.evaluateResultCache.set(s,n.reason??"UNKNOWN"),n.reason===BQ.reason)return z1.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:n.reason??"UNKNOWN"},c={elapsedMs:i};return jt(this.ctx,t,ln.createAndMarkAsIssued(l,c)),jt(this.ctx,t,ln.createAndMarkAsIssued({...l,path:r},c),1),z1.debug(this.ctx,`[${t}] ${r}`,n),!0}setTestingRules(t){this.#t.setTestingRules(t)}set __contentExclusions(t){this.#t=t}get __contentExclusions(){return this.#t}};async function z4(e,t,r){let n=await e.get(Lc).evaluate(t.uri,r);return n.isBlocked?{status:"invalid",reason:n.message??"Document is blocked by repository policy"}:{status:"valid"}}o(z4,"isDocumentValid");var Jr=class{constructor(t){this.ctx=t}static{o(this,"TextDocumentManager")}async textDocuments(){let t=this.getTextDocumentsUnsafe(),r=[];for(let n of t)(await z4(this.ctx,n,n.getText())).status==="valid"&&r.push(n);return r}getTextDocumentUnsafe(t){let r=ec(t.uri);return this.getTextDocumentsUnsafe().find(n=>n.uri===r)}async getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(t,r){return z4(this.ctx,t,r)}async getTextDocumentValidation(t){try{let r=this.getTextDocumentUnsafe(t)?.getText()??await this.readTextDocumentFromDisk(t.uri);return r===void 0?this.notFoundResult(t):this.validateTextDocument(t,r)}catch{return this.notFoundResult(t)}}async getTextDocumentWithValidation(t){let r=this.getTextDocumentUnsafe(t);if(!r)return this.notFoundResult(t);let n=await this.validateTextDocument(t,r.getText());return n.status==="valid"?{status:"valid",document:r}:n}notFoundResult({uri:t}){return{status:"notfound",message:`Document for URI could not be found: ${t}`}}async readTextDocumentFromDisk(t){try{if((await this.ctx.get(Io).stat(t)).size>5*1024*1024)return}catch{return}return await this.ctx.get(Io).readFileString(t)}getWorkspaceFolder(t){let r=ec(t.uri);return this.getWorkspaceFolders().find(n=>r.startsWith(ec(n.uri)))}getRelativePath(t){if(t.uri.startsWith("untitled:"))return;let r=ec(t.uri);for(let n of this.getWorkspaceFolders()){let i=ec(n.uri).replace(/[#?].*/,"").replace(/\/?$/,"/");if(r.startsWith(i))return r.slice(i.length)}return Di(r)}};function gs(e){switch(e.status){case"valid":return e.document.getText().trim().length===0?"empty":"included";case"invalid":return"blocked";case"notfound":return"notfound"}}o(gs,"statusFromTextDocumentResult");var Pn=class{constructor(t){this.ctx=t}static{o(this,"FileReader")}getRelativePath(t){return this.ctx.get(Jr).getRelativePath(t)??Di(t.uri)}getOrReadTextDocument(t){return this.readFile(t.uri)}getOrReadTextDocumentWithFakeClientProperties(t){return this.readFile(t.uri)}async readFile(t){let n=await this.ctx.get(Jr).getTextDocumentWithValidation({uri:t});if(n.status!=="notfound")return n;try{if(await this.getFileSizeMB(t)>1)return{status:"notfound",message:"File too large"};let s=await this.doReadFile(t),a=await z4(this.ctx,{uri:t},s);return a.status==="valid"?{status:"valid",document:$1.create(t,"UNKNOWN",-1,s)}:a}catch{return{status:"notfound",message:"File not found"}}}async doReadFile(t){return await this.ctx.get(Io).readFileString(t)}async getFileSizeMB(t){return(await this.ctx.get(Io).stat(t)).size/1024/1024}};d();d();var $ee=class{constructor(){this.observers=new Set}static{o(this,"Subject")}subscribe(t){return this.observers.add(t),()=>this.observers.delete(t)}next(t){for(let r of this.observers)r.next(t)}error(t){for(let r of this.observers)r.error?.(t)}complete(){for(let t of this.observers)t.complete?.()}},WQ=class extends $ee{static{o(this,"ReplaySubject")}subscribe(t){let r=super.subscribe(t);return this._value!==void 0&&t.next(this._value),r}next(t){this._value=t,super.next(t)}};var nh=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new Yt("AsyncCompletionManager");this.requests=new In(100);this.mostRecentRequestId="";Ca(t,r=>{this.#e=r.hasKnownOrg})}static{o(this,"AsyncCompletionManager")}#e;#t;clear(){this.requests.clear()}isEnabled(t){let r=jn(this.ctx,Rt.UseAsyncCompletions);return this.#e&&typeof r=="boolean"?r:this.ctx.get(xr).enableAsyncCompletions(t)}shouldWaitForAsyncCompletions(t,r){for(let[n,i]of this.requests)if(zee(t,r,i))return!0;return!1}updateCompletion(t,r){let n=this.requests.get(t);n!==void 0&&(n.partialCompletionText=r,n.subject.next(n))}queueCompletionRequest(t,r,n,i,s){this.#t.debug(this.ctx,`[${t}] Queueing async completion request:`,r.substring(r.lastIndexOf(`
`)+1));let a=new WQ;return this.requests.set(t,{state:2,cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a}),s.then(l=>{if(this.requests.delete(t),l.type!=="success"){this.#t.debug(this.ctx,`[${t}] Request failed with`,l.reason),a.error(l.reason);return}let c={cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a,choice:l.value[0],result:l,state:0,allChoicesPromise:l.value[1]};this.requests.set(t,c),a.next(c),a.complete()}).catch(l=>{this.#t.error(this.ctx,`[${t}] Request errored with`,l),this.requests.delete(t),a.error(l)})}getFirstMatchingRequestWithTimeout(t,r,n,i,s){let a=this.ctx.get(xr).asyncCompletionsTimeout(s);return a<0?(this.#t.debug(this.ctx,`[${t}] Waiting for completions without timeout`),this.getFirstMatchingRequest(t,r,n,i)):(this.#t.debug(this.ctx,`[${t}] Waiting for completions with timeout of ${a}ms`),Promise.race([this.getFirstMatchingRequest(t,r,n,i),new Promise(l=>setTimeout(()=>l(null),a))]).then(l=>{if(l===null){this.#t.debug(this.ctx,`[${t}] Timed out waiting for completion`);return}return l}))}async getFirstMatchingRequest(t,r,n,i){i||(this.mostRecentRequestId=t);let s=!1,a=new GI,l=new Map,c=o(f=>()=>{let m=l.get(f);m!==void 0&&(m(),l.delete(f),!s&&l.size===0&&(s=!0,this.#t.debug(this.ctx,`[${t}] No matching completions found`),a.resolve(void 0)))},"finishRequest"),u=o(f=>{if(zee(r,n,f)){if(f.state===0){let m=r.substring(f.prefix.length),{completionText:h}=f.choice;if(!h.startsWith(m)||h.length<=m.length){c(f.headerRequestId)();return}h=h.substring(m.length),f.choice.telemetryData.measurements.foundOffset=m.length,this.#t.debug(this.ctx,`[${t}] Found completion at offset ${m.length}: ${JSON.stringify(h)}`),a.resolve([{...f.choice,completionText:h},f.allChoicesPromise]),s=!0}}else this.cancelRequest(t,f),c(f.headerRequestId)()},"next");for(let[f,m]of this.requests)zee(r,n,m)?l.set(f,m.subject.subscribe({next:u,error:c(f),complete:c(f)})):this.cancelRequest(t,m);return a.promise.finally(()=>{for(let f of l.values())f()})}cancelRequest(t,r){t===this.mostRecentRequestId&&r.state!==0&&(this.#t.debug(this.ctx,`[${t}] Cancelling request: ${r.headerRequestId}`),r.cancellationTokenSource.cancel(),this.requests.delete(r.headerRequestId))}};function zee(e,t,r){if(r.prompt.suffix!==t.suffix||!e.startsWith(r.prefix))return!1;let n=e.substring(r.prefix.length);return r.state===0?r.choice.completionText.startsWith(n)&&r.choice.completionText.trimEnd().length>n.length:r.partialCompletionText===void 0?!0:r.partialCompletionText.startsWith(n)}o(zee,"isCandidate");d();d();var m_=class{constructor(t){this.maxSize=t;this.root=new d_;this.leafNodes=new Set}static{o(this,"LRURadixTrie")}set(t,r){let{node:n,remainingKey:i}=this.findClosestNode(t);if(i.length>0){for(let[a,l]of n.children)if(i.startsWith(a)){let c=a.slice(0,i.length),u=new d_;n.removeChild(a),n.addChild(c,u),u.addChild(a.slice(c.length),l),n=u,i=i.slice(c.length);break}let s=new d_;n.addChild(i,s),n=s}n.value=r,this.leafNodes.add(n),this.leafNodes.size>this.maxSize&&this.evictLeastRecentlyUsed()}findAll(t){return this.findClosestNode(t).stack.map(({node:r,remainingKey:n})=>r.value!==void 0?{remainingKey:n,value:r.value}:void 0).filter(r=>r!==void 0)}delete(t){let{node:r,remainingKey:n}=this.findClosestNode(t);n.length>0||this.deleteNode(r)}findClosestNode(t){let r=!0,n=this.root,i=[{node:n,remainingKey:t}];for(;t.length>0&&r;){r=!1;for(let[s,a]of n.children)if(t.startsWith(s)){t=t.slice(s.length),i.unshift({node:a,remainingKey:t}),n=a,r=!0;break}}return{node:n,remainingKey:t,stack:i}}deleteNode(t){if(t.value=void 0,this.leafNodes.delete(t),t.parent===void 0||t.childCount>1)return;let{node:r,edge:n}=t.parent;if(t.childCount===1){let[s,a]=Array.from(t.children)[0];t.removeChild(s),r.removeChild(n),r.addChild(n+s,a);return}if(r.removeChild(n),r.parent===void 0)return;let i=r.parent;if(r.value===void 0&&r.childCount===1){let[s,a]=Array.from(r.children)[0],l=i.edge+s;r.removeChild(s),i.node.removeChild(i.edge),i.node.addChild(l,a)}}evictLeastRecentlyUsed(){let t=this.findLeastRecentlyUsed();t&&this.deleteNode(t)}findLeastRecentlyUsed(){let t;for(let r of this.leafNodes)(t===void 0||r.touched<t.touched)&&(t=r);return t}},d_=class{constructor(){this._children=new Map;this._touched=performance.now()}static{o(this,"LRURadixNode")}get children(){return this._children.entries()}get childCount(){return this._children.size}addChild(t,r){this._children.set(t,r),r.parent={node:this,edge:t}}removeChild(t){let r=this._children.get(t);r&&(r.parent=void 0),this._children.delete(t)}get value(){return this.touch(),this._value}set value(t){this.touch(),this._value=t}get touched(){return this._touched}touch(){this._touched=performance.now()}};var af=class{static{o(this,"CompletionsCache")}constructor(){this._cache=new In(100)}get(t){return this._cache.get(t)}set(t,r){this._cache.set(t,r)}clear(){this._cache.clear()}},Sd=class{constructor(){this.cache=new m_(100)}static{o(this,"PrefixCompletionsCache")}findAll(t){return this.cache.findAll(t).flatMap(({remainingKey:r,value:n})=>n.choices.filter(i=>i.completionText.startsWith(r)&&i.completionText.length>r.length).map(i=>({...i,completionText:i.completionText.slice(r.length),telemetryData:i.telemetryData.extendedBy({},{foundOffset:r.length})})))}append(t,r){let n=this.cache.findAll(t);if(n.length>0&&n[0].remainingKey===""){let i=n[0].value.choices;this.cache.set(t,{choices:[...i,...r]})}else this.cache.set(t,{choices:r})}clear(){this.cache=new m_(100)}};d();d();var Yee={javascript:1,typescript:2,typescriptreact:3,python:4,vue:5,php:6,dart:7,javascriptreact:8,go:9,css:10,cpp:11,html:12,scss:13,markdown:14,csharp:15,java:16,json:17,rust:18,ruby:19,c:20},ru={" ":1,"!":2,'"':3,"#":4,$:5,"%":6,"&":7,"'":8,"(":9,")":10,"*":11,"+":12,",":13,"-":14,".":15,"/":16,0:17,1:18,2:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,":":27,";":28,"<":29,"=":30,">":31,"?":32,"@":33,A:34,B:35,C:36,D:37,E:38,F:39,G:40,H:41,I:42,J:43,K:44,L:45,M:46,N:47,O:48,P:49,Q:50,R:51,S:52,T:53,U:54,V:55,W:56,X:57,Y:58,Z:59,"[":60,"\\":61,"]":62,"^":63,_:64,"`":65,a:66,b:67,c:68,d:69,e:70,f:71,g:72,h:73,i:74,j:75,k:76,l:77,m:78,n:79,o:80,p:81,q:82,r:83,s:84,t:85,u:86,v:87,w:88,x:89,y:90,z:91,"{":92,"|":93,"}":94,"~":95};d();function Jbe(e){let t;e[0]>1e-35?e[29]>1e-35?e[138]>1e-35?t=.49496579646815353:t=.47546580490346646:e[30]>1e-35?t=.4456371992737078:e[4]>3.238486181444842?e[135]>1e-35?t=.2645576817782658:e[46]>1e-35?t=.20251922126765812:t=.37359143313367105:e[7]>.9662372103242399?t=.44975631109230374:t=.4067133376207218:e[7]>.960816451500545?e[29]>1e-35?e[4]>1.7005986908310777?t=.4240336839258693:t=.35414085998710754:e[4]>3.238486181444842?t=.353882328354817:e[100]>1e-35?t=.48783079865293355:e[30]>1e-35?t=.419904106522537:t=.38599249795612806:e[4]>3.6242520361853052?e[29]>1e-35?e[7]>.5086748127709895?t=.37522628419389664:t=.3359393805000766:e[30]>1e-35?t=.3685210833144829:e[135]>1e-35?t=.22140958666091123:e[134]>1e-35?t=.38379851487275685:e[46]>1e-35?t=.1926283522107934:t=.3098162447812857:e[46]>1e-35?t=.22698331991181095:e[4]>1.4978661367769956?e[30]>1e-35?e[4]>2.138333059508028?t=.39709448374768985:t=.34711865383837703:e[134]>1e-35?t=.40608455346469957:e[135]>1e-35?t=.3084120164848763:e[48]>1e-35?t=.24193590696691425:e[51]>1e-35?t=.2087938690163009:e[4]>3.1984648276080736?t=.3529508564858481:t=.3698795818909763:t=.30210240039979064;let r;e[0]>1e-35?e[2]>2.4414009612931857?e[2]>3.676220550121792?e[7]>.9246495578512688?r=.0570428673081833:r=.019779482100154476:e[7]>.9705672697050661?r=.1023948532887641:r=.06265430080550045:e[29]>1e-35?e[5]>4.658699722134796?e[2]>1.2424533248940002?r=.12784241430585772:r=.15126156743993927:e[8]>1e-35?e[2]>.8958797346140276?r=.10624230855386699:r=-.1699142543394302:r=.10290106276456985:e[5]>3.5694334999727624?r=.09368877801612557:r=.1552615744687782:e[2]>3.3842466058243152?e[4]>3.5694334999727624?e[29]>1e-35?e[7]>.7022798213723723?r=.02282408308012389:r=-.032610792718175546:r=-.04405498437523181:e[46]>1e-35?r=-.14475563528583885:e[7]>.9159108669154322?r=.02539215399728953:e[134]>1e-35?r=.04720629593220485:e[4]>1.8688348091416842?r=-.00150052748656963:r=-.04528409340753242:e[5]>3.5694334999727624?e[4]>3.6505739029280164?e[29]>1e-35?r=.050909089229765704:e[39]>1e-35?r=-.08747827386821926:e[46]>1e-35?r=-.11300671054986217:r=-.002669293928522137:e[46]>1e-35?r=-.07873653229849684:e[39]>1e-35?r=-.06389470798465265:e[2]>.8958797346140276?e[47]>1e-35?r=-.07102696386827136:e[4]>1.8688348091416842?r=.04567768852273886:r=.016429189359442275:r=.024223384872688037:e[7]>.9569480028661056?r=.12458720561596202:r=-.006224718391409129;let n;e[29]>1e-35?e[2]>2.602003343538398?e[2]>4.166635176627655?e[7]>.8375851232899904?n=.027219239366992384:n=-.023288925509443156:e[7]>.5866799179067689?n=.05780689652787357:n=.019914206435185725:e[2]>1.2424533248940002?e[7]>.9246495578512688?n=.1091540005913688:n=.08430043254349175:e[6]>4.832297822126891?e[125]>1e-35?n=.029350728374412424:n=.1327178977041336:e[8]>1e-35?e[7]>.9793410316570949?n=-.10742256752042179:n=.10128035205992136:n=.08719230025231978:e[5]>3.772694874805912?e[39]>1e-35?n=-.07712063687837625:e[46]>1e-35?n=-.09987046122905541:e[2]>3.6242520361853052?e[134]>1e-35?n=.0549278412468898:e[155]>1e-35?n=.0628934857241284:e[47]>1e-35?n=-.14605662411148382:e[48]>1e-35?n=-.1460221669882455:n=.002073957868392086:e[2]>1e-35?e[47]>1e-35?n=-.0769198367034467:e[155]>1e-35?n=.0769122902449957:e[134]>1e-35?n=.06856131328753592:e[152]>1e-35?n=.07081107422282688:e[51]>1e-35?n=-.11095669360187602:e[91]>1e-35?n=-.08136006552659215:e[48]>1e-35?n=-.07180356044417698:e[18]>1e-35?n=-.029572927306223313:e[50]>1e-35?n=-.11419309779400831:n=.03331652781327257:n=.0015747823792064454:e[7]>.9662372103242399?n=.1203598683210537:n=.011240838199712565;let i;e[0]>1e-35?e[2]>2.4414009612931857?e[1]>1e-35?e[2]>4.03420147928485?i=.03823654007072966:e[7]>.9033253454895247?i=.09329944316059466:i=.06705865009439997:e[134]>1e-35?i=.06865805795066232:e[30]>1e-35?i=.05189058132179502:e[217]>1e-35?i=.044913757044379055:i=-.05078929160105722:e[1]>1e-35?e[6]>5.161920636569023?e[2]>1.4978661367769956?i=.10652732380394028:i=.13307829460294332:e[7]>.985694415330804?i=.06936133858882627:i=.11090193559908544:e[30]>1e-35?i=.10406540623634791:i=.03985408831881549:e[1]>1e-35?e[2]>3.772694874805912?e[29]>1e-35?e[7]>.7316379010844482?i=.012897973304512032:i=-.028068579877067623:i=.024577017676752924:e[5]>3.417592293073651?e[22]>1e-35?i=-.023871063947594612:e[7]>.8255520169851381?i=.0513970804870914:e[153]>1e-35?i=.0032035784177419503:i=.038713568639820416:e[7]>.9527510849235538?i=.10975706910869304:i=-.009433959232316078:e[38]>1e-35?i=.05195298239886214:e[30]>1e-35?i=.02476336300816124:e[2]>2.524928003624769?e[217]>1e-35?i=.0135414448190362:e[135]>1e-35?i=-.14660288310803915:i=-.07298980826531443:e[135]>1e-35?i=-.11136111748165503:e[123]>1e-35?i=-.1489448617480049:e[46]>1e-35?i=-.0922792773195811:i=-.024587716086845016;let s;e[0]>1e-35?e[2]>2.249904835165133?e[1]>1e-35?e[2]>3.540854293052788?e[3]>2.249904835165133?s=.0590142410559562:e[7]>.6376007852429183?s=.043799948513989724:s=-4018626768373957e-20:s=.0790082705503403:e[38]>1e-35?s=.06581244939148062:e[30]>1e-35?s=.04874874335011108:s=-.03908081910821116:e[3]>2.602003343538398?e[1]>1e-35?s=.0902076086329385:e[30]>1e-35?s=.10143876154366023:s=.021304615514737626:e[2]>1.4978661367769956?s=.10248710197602005:e[8]>1e-35?e[125]>1e-35?s=-.1652240484643952:s=.09695355914385996:s=.12574960258243387:e[1]>1e-35?e[2]>3.8815106545092593?e[3]>2.249904835165133?s=.030411053020370282:e[7]>.8375851232899904?s=.01347947217941036:s=-.02329004077119854:e[7]>.9480659774309611?e[22]>1e-35?s=-.021734552060979462:e[100]>1e-35?s=.12154672718218543:e[3]>1e-35?s=.0467045097539336:s=.07133232987671506:e[4]>2.012675845367575?e[4]>3.9219243190762363?s=.018631928508103857:s=.04026129961424531:s=-.0060403819170799225:e[38]>1e-35?s=.04740678443866351:e[30]>1e-35?s=.022411595432555845:e[2]>2.970085626360216?e[121]>1e-35?s=.016385457091892035:s=-.07115043890873148:e[4]>3.417592293073651?s=-.04057726754591634:e[29]>1e-35?s=-.10601923621749415:s=-.013474385705240824;let a;e[3]>1e-35?e[3]>3.481121732133104?e[30]>1e-35?a=.03419190074885174:e[39]>1e-35?a=-.07596248521514803:e[142]>1e-35?a=-.09906305142951233:e[143]>1e-35?a=-.11544208927241095:e[134]>1e-35?a=.03231677158309109:e[217]>1e-35?a=.04584520241402839:a=-.014587374070287719:e[30]>1e-35?e[141]>1e-35?a=-.05022127515891476:e[6]>3.540854293052788?a=.046006786519929344:e[3]>2.3502401828962087?a=.03746852485580482:a=.11887634683908754:e[142]>1e-35?a=-.0715680845257123:e[134]>1e-35?a=.05310603374316432:e[39]>1e-35?a=-.05301061369502469:e[143]>1e-35?a=-.06806923450459589:e[21]>1e-35?a=-.054617004299251364:e[113]>1e-35?e[6]>3.795426061844291?a=.03901365322581413:a=.11833310693969545:e[141]>1e-35?a=-.039041289505442084:e[3]>3.0677824455408698?a=.010823236602311471:e[29]>1e-35?a=-.062100944449970996:e[58]>1e-35?a=-.04585181543113668:e[99]>1e-35?a=.053796582993543764:e[100]>1e-35?e[6]>3.676220550121792?a=.02800134029424525:a=.12622387863644666:e[98]>1e-35?a=.06289940430905602:a=.023655750883710656:e[138]>1e-35?a=.09902929683374195:e[6]>5.161920636569023?a=.07160940969782595:e[141]>1e-35?a=.11975693334861698:a=.03480602671098732;let l;e[0]>1e-35?e[2]>2.4414009612931857?e[1]>1e-35?e[2]>4.600145018061341?l=.02024868069387139:e[2]>3.1984648276080736?l=.048682024362267456:l=.07158946327961134:e[134]>1e-35?l=.05360858064017479:e[30]>1e-35?l=.03969788038954029:e[39]>1e-35?l=-.1339275468398512:l=-.03340699462411555:e[1]>1e-35?e[2]>1.2424533248940002?l=.09338368602561321:e[5]>4.5379471377116305?l=.11818377094705468:l=.02406138301472482:e[30]>1e-35?l=.08786833398626331:l=.031294938606502315:e[1]>1e-35?e[2]>2.970085626360216?e[29]>1e-35?e[2]>4.923617305492666?l=-.0247806554659429:l=.00415615978158072:e[4]>2.138333059508028?e[4]>3.6505739029280164?l=-.0025888569756007704:l=.033556460788819964:l=-.011238496891848667:e[5]>3.5694334999727624?e[4]>2.012675845367575?e[2]>.8958797346140276?l=.03964701920383755:l=.024902380380505313:e[141]>1e-35?l=-.07221122170573789:l=.009221806859728395:e[2]>.8958797346140276?l=.09633850035166669:l=.007323280248710229:e[134]>1e-35?l=.038330704525669945:e[30]>1e-35?l=.01660549386778516:e[2]>2.524928003624769?e[217]>1e-35?l=.008967266036665084:e[29]>1e-35?l=-.12693911437262784:l=-.05779560753585583:e[29]>1e-35?l=-.0908743155940788:e[4]>3.314020688089767?l=-.030882471980034343:l=-.010429019903489632;let c;e[0]>1e-35?e[2]>2.138333059508028?e[1]>1e-35?e[2]>3.4498615536424366?e[3]>2.249904835165133?c=.04956831432894648:e[2]>5.223051249395764?c=-.010305811579773205:c=.027491320728082233:c=.06656735137915168:e[38]>1e-35?c=.05309749470598965:e[30]>1e-35?c=.03843762763805799:c=-.030980078724697425:e[3]>1e-35?e[1]>1e-35?c=.08089335516186445:c=.04120452858949669:e[6]>4.832297822126891?e[2]>.8958797346140276?c=.10006865536846919:c=.11917243570572485:e[8]>1e-35?e[2]>.8958797346140276?c=.06704577104028654:c=-.1454046740476985:e[219]>1e-35?c=-.13678871665753098:c=.07859247859374968:e[1]>1e-35?e[2]>3.314020688089767?e[3]>2.249904835165133?c=.024623237775190106:e[2]>4.73179313355342?c=-.02080435685185878:c=.0026175118278487855:e[6]>3.417592293073651?e[22]>1e-35?c=-.025465692791530083:e[45]>1e-35?c=-.044807460105408044:e[8]>1e-35?c=.008766235663186964:c=.032712521408248645:e[3]>2.602003343538398?c=-.0056332432294706036:e[6]>2.524928003624769?c=.09592889105245415:c=-.013339150198983546:e[38]>1e-35?c=.03563564253379704:e[30]>1e-35?c=.014870517098142924:e[2]>2.970085626360216?c=-.054537994223319376:e[219]>1e-35?c=-.13242819761683536:e[39]>1e-35?c=-.0910629106840573:c=-.01970485337755703;let u;e[0]>1e-35?e[2]>2.012675845367575?e[1]>1e-35?e[2]>3.4498615536424366?e[7]>.9246495578512688?u=.04812308497880073:e[29]>1e-35?u=.0005380021336956461:u=.03361690381564229:e[5]>3.5694334999727624?u=.05947219194425965:u=.11024468105183681:e[134]>1e-35?u=.04905351957215242:e[138]>1e-35?u=.05554447267811877:u=-.021863233324542066:e[29]>1e-35?e[5]>4.855921334140645?e[2]>.8958797346140276?u=.09590438270550732:u=.11498869480105023:u=.04093609484315685:u=.06588820186431316:e[1]>1e-35?e[2]>2.970085626360216?e[29]>1e-35?e[7]>.41763374498947375?u=.0043146758499583255:u=-.03443798345003191:e[58]>1e-35?u=-.08355523706358281:u=.017928058505534663:e[5]>3.5694334999727624?e[22]>1e-35?u=-.02209335592785362:e[2]>.8958797346140276?u=.03223396066919647:u=.0170789547385017:e[7]>.9546729796082215?e[2]>.8958797346140276?u=.09545837551902411:u=.008923660539643153:u=-.012322532316048181:e[134]>1e-35?u=.03182502017906531:e[138]>1e-35?e[29]>1e-35?u=-.06617589040350445:u=.040440282181288686:e[2]>2.802901033147999?u=-.043412758816960974:e[219]>1e-35?u=-.11700143817568372:e[48]>1e-35?u=-.11379636451926181:e[49]>1e-35?u=-.14202838670262277:e[39]>1e-35?u=-.08160450909782378:u=-.013448620144296253;let f;e[1]>1e-35?e[2]>2.602003343538398?e[3]>2.249904835165133?e[4]>3.6505739029280164?f=.004170792297448336:f=.0368033867902024:e[7]>.8333442551332461?e[2]>4.677480030793064?f=.009136341105716223:f=.03568813371096505:e[7]>.22301866079069904?e[2]>5.1209788959100075?f=-.02365589472388456:f=.00919157417627931:f=-.0379399276194825:e[3]>1e-35?e[5]>3.5694334999727624?e[2]>.8958797346140276?e[22]>1e-35?f=-.019258819649469603:f=.03709105125649261:f=.016860660630369267:e[3]>2.602003343538398?f=-.00991261350028801:e[7]>.9626084674797213?f=.11517814309711256:f=-.009719045525281071:e[2]>1.2424533248940002?e[7]>.7316379010844482?f=.07097600019370685:f=.04586465946843457:e[6]>4.783307617946789?f=.09722756919612678:e[8]>1e-35?e[7]>.9793410316570949?f=-.11805054859481241:f=.07110946491407406:f=.05402719662002902:e[134]>1e-35?f=.03393227005537922:e[30]>1e-35?f=.023661319650909306:e[2]>2.970085626360216?e[121]>1e-35?f=.031049210793405797:e[135]>1e-35?f=-.10837216222444626:e[219]>1e-35?f=-.14640457784236915:f=-.03965818070110935:e[121]>1e-35?f=.039992710146502054:e[143]>1e-35?f=-.09311937611688731:e[46]>1e-35?f=-.07559392834101462:e[219]>1e-35?f=-.09895720087616466:e[135]>1e-35?f=-.07586062007425573:f=-.011775153504486295;let m;e[1]>1e-35?e[3]>1e-35?e[141]>1e-35?m=-.03681630636575175:e[22]>1e-35?m=-.024594313135047084:e[7]>.9626084674797213?e[6]>3.676220550121792?m=.03355559026428929:e[3]>2.602003343538398?m=.012516956280523336:m=.1113827943542528:e[3]>2.3502401828962087?e[39]>1e-35?m=-.03483153469277968:e[29]>1e-35?m=-.06012725416594425:m=.03180949281577552:e[3]>1.2424533248940002?m=.007572391854701212:m=-.04833059473573461:e[7]>.5866799179067689?e[138]>1e-35?m=.084956566507563:e[7]>.9407436463973539?e[6]>5.161920636569023?m=.07174368742657447:e[7]>.9793410316570949?m=.024186357466630726:m=.07739671408330714:m=.048429456456843774:e[6]>5.078289090109146?e[138]>1e-35?m=.07555203090037793:m=.033181836695182196:m=-.02197298038836975:e[38]>1e-35?m=.031334580210504996:e[30]>1e-35?m=.021270582199851534:e[121]>1e-35?m=.0329970846397004:e[42]>1e-35?m=.04064092183581017:e[135]>1e-35?m=-.08440485061890712:e[219]>1e-35?m=-.10638369254266776:e[143]>1e-35?m=-.09755269717731242:e[144]>1e-35?m=-.1173397395002877:e[51]>1e-35?m=-.1288517354356988:e[49]>1e-35?m=-.13923283846721088:e[91]>1e-35?m=-.1224188861275682:e[3]>3.156774023138548?m=-.02477169567121223:m=-.006917307470148426;let h;e[2]>2.802901033147999?e[7]>.9159108669154322?e[3]>3.314020688089767?h=-.0010700017432373199:e[2]>4.832297822126891?h=.009582861728698568:h=.029780100164495754:e[30]>1e-35?e[210]>1e-35?h=-.028942339056712313:h=.020599853201598167:e[3]>3.540854293052788?h=-.030156164189210577:e[2]>4.620046665062766?e[3]>1.8688348091416842?h=-.00103151911027294:e[217]>1e-35?h=.005930672148987754:h=-.03586108945255643:h=.004417350848115493:e[3]>1e-35?e[2]>.8958797346140276?e[5]>3.5694334999727624?e[3]>3.6242520361853052?e[30]>1e-35?h=.02388317653477103:h=-.0034021644637823034:e[125]>1e-35?h=-.059034648546006076:e[18]>1e-35?h=-.02514305472376584:e[46]>1e-35?h=-.05290744310611087:e[21]>1e-35?h=-.03750702516022783:e[39]>1e-35?h=-.031092446888446753:h=.028272541588979773:e[7]>.9676186228082213?e[3]>2.602003343538398?h=-.009169247394016047:h=.11347856526033356:h=-.00310251177264949:e[2]>1e-35?h=.00844340216096322:h=-.00894414829369423:e[2]>1.4978661367769956?e[7]>.6223082132708274?e[6]>3.0677824455408698?h=.04885293193722139:h=.10736598620828455:h=.026545392586289893:e[6]>4.938058177869999?e[2]>.8958797346140276?h=.07355143458077283:h=.09420954595651049:e[8]>1e-35?e[2]>.8958797346140276?h=.07966619891180966:h=-.10471235843714122:h=.04867207725748343;let p;e[1]>1e-35?e[3]>1e-35?e[5]>3.5694334999727624?e[3]>2.249904835165133?e[22]>1e-35?p=-.0262424908256809:e[8]>1e-35?p=.001637419319408071:e[155]>1e-35?p=.053444838794586114:e[99]>1e-35?p=.05039717103923269:p=.02448689278350471:e[141]>1e-35?p=-.05723199469388615:p=.005411562031545046:e[7]>.9626084674797213?e[3]>2.602003343538398?p=.00980665121101267:p=.10420505846679201:p=-.001639851950872336:e[7]>.26911173821332884?e[138]>1e-35?p=.07591724033622518:e[7]>.9275861021112151?e[5]>5.173316863805991?p=.06276466446882598:e[194]>1e-35?p=-.1330802382498368:e[5]>3.156774023138548?e[8]>1e-35?p=-.027034262965141144:p=.03949417085855365:p=.08851962788853085:e[9]>1e-35?p=.05379608621573637:p=.032253635727649325:e[138]>1e-35?p=.058048925881989615:p=.005620237500451222:e[134]>1e-35?p=.02734220426041116:e[30]>1e-35?p=.017746745665275825:e[142]>1e-35?p=-.07814745820732061:e[143]>1e-35?p=-.08860968498533135:e[14]>1e-35?p=.01954819512523945:e[42]>1e-35?p=.03333354798081121:e[147]>1e-35?p=-.11642554317575503:e[49]>1e-35?p=-.12425086420883341:e[146]>1e-35?p=-.12996952774815626:e[3]>3.817651943129708?p=-.03275661606585881:p=-.014860694091417102;let A;e[1]>1e-35?e[2]>2.524928003624769?e[3]>2.249904835165133?e[3]>3.725620842493839?A=-.000906155627647317:e[24]>1e-35?A=.0785324151067157:e[154]>1e-35?A=-.058309500036909157:A=.026762512119806844:e[7]>.26911173821332884?e[2]>4.505334588423558?A=-.010584135839537876:A=.013982545022862853:A=-.03208712711019827:e[3]>1e-35?e[2]>.8958797346140276?e[5]>3.5694334999727624?A=.026401003398891884:e[3]>2.602003343538398?A=-.008168418058515686:e[7]>.9662372103242399?A=.10626422692131453:A=-.01031637351522216:A=.010358942714602982:e[2]>1.2424533248940002?e[2]>2.012675845367575?A=.0312811686023135:A=.05423507965224627:e[6]>4.832297822126891?A=.08479742987484738:e[8]>1e-35?e[7]>.9793410316570949?A=-.09338070882722671:A=.058145805002919916:A=.04227449937397909:e[38]>1e-35?A=.025289091019879376:e[2]>3.1132683346437333?e[3]>.8958797346140276?e[46]>1e-35?A=-.09114331684757576:e[135]>1e-35?A=-.07948190608487016:e[48]>1e-35?A=-.12911151777601662:e[143]>1e-35?A=-.09735205976374478:A=-.017192402584465798:A=-.08661537827420282:e[217]>1e-35?A=.033425023239885124:e[14]>1e-35?A=.02729990952110066:e[48]>1e-35?A=-.09098188061865646:e[46]>1e-35?A=-.05848458618550134:e[91]>1e-35?A=-.10969774095556883:A=-.0068971807474334365;let x;e[1]>1e-35?e[3]>1e-35?e[3]>1.2424533248940002?e[125]>1e-35?x=-.06150017523108556:e[39]>1e-35?x=-.03350257370473994:e[22]>1e-35?x=-.02193617429266551:e[8]>1e-35?x=7274245146620154e-20:e[6]>3.676220550121792?e[4]>2.3502401828962087?x=.026702786904914785:x=.00851181280021978:e[4]>2.673553765358735?x=.010358811529123666:e[6]>2.802901033147999?x=.08891517935366504:x=.023114323891227237:x=-.02875694375159779:e[4]>1.7005986908310777?e[138]>1e-35?x=.06720372648635974:e[6]>5.427147823217923?e[9]>1e-35?x=.0544777682515472:x=.037060547607205986:e[6]>1e-35?x=.022016394753027843:x=-.1559604133821172:e[6]>3.540854293052788?x=-.009372509268454739:x=-.24388295956457617:e[38]>1e-35?x=.023012278764368795:e[138]>1e-35?x=.03564423186175008:e[30]>1e-35?x=.008093643695090883:e[217]>1e-35?x=.028810461962454004:e[135]>1e-35?x=-.07120877224354143:e[46]>1e-35?x=-.06546454537408128:e[144]>1e-35?x=-.09534262423492412:e[143]>1e-35?x=-.0770344566882831:e[29]>1e-35?x=-.06285371287531509:e[14]>1e-35?x=.02073120300153793:e[123]>1e-35?x=-.09016320513643451:e[51]>1e-35?x=-.10496442920973255:e[3]>3.1132683346437333?x=-.019949599427836494:x=-.0019060085544902166;let v;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>3.1984648276080736?e[1]>1e-35?e[3]>2.249904835165133?v=.03174009468268253:e[2]>5.363634090365639?v=-.019608371322822362:v=.012560836552403976:v=-.006925466014569184:e[1]>1e-35?v=.047796055675515446:v=.014363935217773802:e[6]>5.391349638084432?e[2]>.8958797346140276?e[3]>1e-35?v=.05193425865217324:v=.07891754708034264:v=.09859506024630252:e[8]>1e-35?e[5]>4.424828703319957?v=.0288226384042998:v=-.09397342098461306:e[4]>.8958797346140276?v=.06181532763949055:e[3]>1e-35?v=.0661728888522049:v=-.18938681666136592:e[2]>3.6242520361853052?e[30]>1e-35?v=.005754128097002715:e[4]>1.7005986908310777?e[1]>1e-35?e[3]>1.8688348091416842?v=.003940381852503271:v=-.01767544594631589:e[134]>1e-35?v=.005683243725945637:v=-.033167818200618454:v=-.049739953036904844:e[1]>1e-35?e[5]>3.417592293073651?e[3]>2.249904835165133?e[3]>4.051747139190486?v=-.013281167238314323:v=.016971087295600894:v=-.0032296953806057044:e[8]>1e-35?e[3]>1e-35?v=-.09772932329003692:v=.10215199291158968:e[3]>1e-35?v=.04042124133857408:e[4]>1.7005986908310777?v=-.03780917296974188:v=-.29617407728303585:e[3]>1.2424533248940002?e[134]>1e-35?v=.019695468056761475:v=-.008073287117671947:v=-.07196945037292647;let E;e[0]>1e-35?e[3]>1e-35?e[30]>1e-35?E=.04565870990720628:e[4]>3.481121732133104?E=-.0010242035152053465:e[46]>1e-35?E=-.06735757101078846:E=.028047085557873476:e[4]>.8958797346140276?E=.061451212522936484:E=-.008994471708946133:e[4]>3.8815106545092593?E=-.015862290359637304:e[4]>1.2424533248940002?e[156]>1e-35?E=-.0353203284829365:e[135]>1e-35?E=-.029955239188290975:e[153]>1e-35?E=-.024262881593313065:e[21]>1e-35?E=-.04039396048201336:e[155]>1e-35?E=.031605649750965394:e[46]>1e-35?E=-.0412690351363074:e[18]>1e-35?E=-.02516534034859168:e[51]>1e-35?E=-.09383050740007202:e[219]>1e-35?e[30]>1e-35?E=.05781620337941066:E=-.031029108058883783:e[54]>1e-35?E=-.1312103962175427:e[14]>1e-35?E=.029309503966067275:e[52]>1e-35?E=-.12376041877584809:e[49]>1e-35?E=-.08405476403385437:e[129]>1e-35?E=-.07017699310303659:e[3]>3.238486181444842?E=.0005864979938663785:e[90]>1e-35?E=-.19027994988708324:e[4]>2.4414009612931857?E=.013036973814688194:e[141]>1e-35?E=-.05866284827055356:e[196]>1e-35?e[3]>1.2424533248940002?e[3]>1.4978661367769956?E=.021738540839636195:E=.10410506831002041:E=-.25590968590756463:E=.0023982515170817725:E=-.04143304307857132;let b;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>3.417592293073651?e[2]>5.335128436483344?b=-.011443269019739626:e[1]>1e-35?b=.015228192424880932:b=-.005492858431736962:e[1]>1e-35?e[5]>3.5694334999727624?b=.03605247912942737:b=.08439131345296227:b=.009650676995478455:e[5]>5.096808314315481?e[2]>.8958797346140276?e[29]>1e-35?b=.07077360688836766:b=.044754385330663386:b=.09313294724999382:e[8]>1e-35?e[2]>.8958797346140276?b=.04214845406094496:b=-.10283747682230321:e[4]>.8958797346140276?b=.05232959789940822:e[2]>.8958797346140276?b=.00730829946441921:b=-.23825070451282065:e[7]>.9358314658959646?e[5]>3.417592293073651?e[8]>1e-35?b=-.013117301012430346:b=.010418379595902224:e[19]>1e-35?b=-.07514668047310291:b=.05032486941219513:e[29]>1e-35?e[1]>1e-35?e[7]>.14547530463198097?e[4]>2.138333059508028?b=-.009576060406554683:b=-.04582944318062007:b=-.04685159067258116:b=-.07022291581850879:e[1]>1e-35?e[4]>2.3502401828962087?e[4]>3.8815106545092593?b=-.008313873320272646:e[140]>1e-35?b=-.029352675967497712:e[37]>1e-35?b=-.09937923794037767:b=.015967772276156707:b=-.009857373135428817:e[38]>1e-35?b=.011345159604794278:e[2]>2.4414009612931857?e[30]>1e-35?b=.001522017389940959:b=-.026992183902105407:b=-.006358778971076675;let _;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>2.970085626360216?e[7]>.8649016459419877?_=.018617011644318126:e[29]>1e-35?e[2]>4.832297822126891?_=-.03407648259949232:_=-.0036502511604675977:e[4]>3.540854293052788?_=-.00934040898683245:_=.010922739771398862:e[7]>.9676186228082213?_=.05137169375874399:_=.02682190004807807:e[29]>1e-35?e[2]>.8958797346140276?_=.065076078729683:e[8]>1e-35?e[7]>.9750059495478345?e[7]>.996914501566243?_=.08915557171019604:_=-.06286636147644172:_=.0902247220475161:e[4]>.8958797346140276?_=.09051085461905525:e[9]>1e-35?_=-.19701197524821418:_=.005536577088671752:e[30]>1e-35?_=.0682573098268795:_=.031380692115494484:e[2]>4.151008904875603?e[155]>1e-35?_=.026867659395235544:e[7]>.5866799179067689?_=-.008345671861059714:_=-.02185200164340811:e[7]>.9626084674797213?e[22]>1e-35?_=-.024341883095402903:e[141]>1e-35?e[29]>1e-35?_=.08888912525147288:_=-.040584195806350004:_=.014817521849450843:e[4]>1.7005986908310777?e[4]>3.9219243190762363?_=-.01259238316205765:e[156]>1e-35?_=-.03305969547622109:e[50]>1e-35?_=-.10133912689920138:e[155]>1e-35?_=.025358210175047153:e[55]>1e-35?_=-.14645261489281414:e[9]>1e-35?_=.012035823488806215:_=.0010743871783232305:_=-.030440082321355873;let R;e[0]>1e-35?e[1]>1e-35?e[7]>.30853255358841714?e[4]>.8958797346140276?e[138]>1e-35?R=.0708169212387357:e[7]>.9974623466432676?R=.06323909894881967:R=.04463133906529934:R=-.006876640569960593:e[4]>2.138333059508028?R=.02983313061920756:R=-.012849740499321841:e[138]>1e-35?R=.05170725384597862:e[134]>1e-35?R=.03407970940934425:e[32]>1e-35?R=.04641257566344885:e[217]>1e-35?R=.04726549849359106:e[152]>1e-35?R=.04284855498215312:R=-.018635981778740818:e[7]>.9358314658959646?e[1]>1e-35?R=.013495195381145214:R=-.0017562536904350947:e[153]>1e-35?R=-.035450683955968364:e[135]>1e-35?R=-.033677490938511655:e[1]>1e-35?e[156]>1e-35?R=-.03492338371344172:e[4]>2.012675845367575?e[8]>1e-35?R=-.012478407554855247:e[58]>1e-35?R=-.06588308463544146:R=.01024668455910621:R=-.017964352445712636:e[138]>1e-35?R=.023509519134334668:e[134]>1e-35?R=.009985116251562821:e[219]>1e-35?R=-.08089904073615993:e[144]>1e-35?R=-.08668450969211726:e[146]>1e-35?R=-.11193950701534479:e[91]>1e-35?R=-.09510832561737878:e[47]>1e-35?R=-.06671901650698997:e[145]>1e-35?R=-.10185972302071798:e[142]>1e-35?R=-.050979038763275586:R=-.008318124414257324;let P;e[2]>2.4414009612931857?e[7]>.5866799179067689?e[1]>1e-35?e[2]>5.059420419187638?P=-.004966114458456121:e[3]>1.4978661367769956?e[6]>3.9219243190762363?P=.016160825033090097:e[4]>2.673553765358735?P=-.008119911797705546:e[7]>.9676186228082213?P=.10191214482603793:P=.010406721157764452:e[4]>2.602003343538398?P=.011963972867583182:e[209]>1e-35?e[24]>1e-35?P=-.4633165603515741:P=-.027241411195905924:P=-.01021341522779383:e[3]>.8958797346140276?e[39]>1e-35?P=-.07106669495723826:P=-.003949154414882924:P=-.06434150131915288:e[3]>1.7005986908310777?e[1]>1e-35?P=.005050893558647285:P=-.01649483548684653:e[217]>1e-35?P=.0027009145619870485:e[7]>.16413460456379095?P=-.021492035902356262:P=-.04956173856083012:e[3]>1e-35?e[2]>.8958797346140276?e[4]>3.314020688089767?P=.004614615289098078:e[125]>1e-35?P=-.053838919278819175:e[141]>1e-35?P=-.031232660335016666:e[7]>.9676186228082213?P=.031522536832188655:P=.016369948821613637:P=-.001970208279177045:e[2]>1.2424533248940002?e[7]>.8045995506441456?e[6]>3.0677824455408698?P=.035653122678366796:P=.09668798382116887:P=.017192957672541906:e[6]>5.427147823217923?e[2]>.8958797346140276?P=.05167603828162103:P=.07201242912898732:e[4]>.8958797346140276?e[6]>4.3882378946731615?P=.04079789432551034:P=-.00477197753110532:P=-.1330224689055222;let F;e[0]>1e-35?e[1]>1e-35?e[6]>5.519456907163478?e[3]>1e-35?F=.025938224253040522:e[7]>.9480659774309611?F=.06369970668749851:F=.04567224211157202:e[8]>1e-35?F=-.03272937728465352:e[7]>.8002228006195066?e[219]>1e-35?F=-.06304921759586735:F=.04293432033794005:F=.0034607309539607385:e[30]>1e-35?F=.03333728636724803:e[134]>1e-35?F=.03171739664928598:e[32]>1e-35?F=.04247521237473512:e[217]>1e-35?F=.04515237436183519:e[138]>1e-35?F=.043674672816657406:F=-.021495642896979555:e[153]>1e-35?e[7]>.7405695827634472?F=-.005353425538700483:F=-.03818743916821677:e[1]>1e-35?e[156]>1e-35?F=-.026937004040991603:e[9]>1e-35?F=.01687211330975012:e[129]>1e-35?F=-.06344334253531962:e[5]>3.276966702012906?e[3]>2.4414009612931857?e[3]>4.3882378946731615?F=-.029787052855333836:e[140]>1e-35?F=-.0315337765152156:F=.01010125865272709:F=-.003643087951301554:e[3]>1.8688348091416842?F=-.009293469974765106:e[7]>.9407436463973539?e[19]>1e-35?F=-.10837629052758145:F=.08012552652666853:F=-.03240188731353479:e[3]>.8958797346140276?e[138]>1e-35?F=.028089541906112948:e[134]>1e-35?F=.011775653029555359:e[54]>1e-35?F=-.1329256322319015:F=-.010520589644656487:F=-.058476715353390545;let W;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>2.970085626360216?e[3]>1.4978661367769956?e[1]>1e-35?W=.015966021866473425:W=-.004942501766182043:e[7]>.7646034107159144?W=.0008922354520049755:W=-.02377096637770522:e[1]>1e-35?W=.03185471115279236:W=.009030463601278762:e[6]>5.033695261903033?e[2]>.8958797346140276?e[3]>1e-35?W=.03583918176912262:W=.05978765203310842:e[3]>1.4978661367769956?W=.04363706154403441:W=.08596238935719265:e[8]>1e-35?e[4]>3.676220550121792?W=-.14139420543234502:e[6]>4.135134555718313?W=.06641653507737781:W=-.08482961471233386:e[219]>1e-35?W=-.08432601495298837:W=.036383288293587494:e[2]>4.212100162283537?e[4]>4.06899022722607?W=-.027653216441781994:e[4]>1.2424533248940002?W=-.0074990353344818825:W=-.047274115298751654:e[3]>4.350257124271638?W=-.021535524001034215:e[7]>.9626084674797213?e[6]>3.314020688089767?W=.008343192891130257:e[3]>2.602003343538398?W=-.029175290449111352:e[19]>1e-35?W=-.0982821612709299:W=.07967468666491928:e[3]>2.012675845367575?e[1]>1e-35?e[141]>1e-35?W=-.050000478457880464:e[99]>1e-35?W=.03066844761711629:W=.00757148708610041:e[14]>1e-35?W=.030325269400598688:e[138]>1e-35?W=.029925649226634522:W=-.005865781126590595:e[7]>.14547530463198097?W=-.006746433384005582:W=-.03419211369300411;let se;e[7]>.8453853180651066?e[9]>1e-35?e[204]>1e-35?e[5]>3.979637980058199?se=.03492440471960614:se=.10640952227810228:se=.024674544399570984:e[21]>1e-35?se=-.03056548710005192:e[24]>1e-35?se=.04417102228084844:e[18]>1e-35?e[5]>3.417592293073651?se=-.01915628728670732:se=.08218968786016527:e[22]>1e-35?se=-.015022557207326592:e[7]>.9941118339384912?se=.024199625103362956:e[135]>1e-35?se=-.01204089678887213:e[5]>3.156774023138548?e[14]>1e-35?se=.03343354440638259:e[144]>1e-35?se=-.06832894943893354:se=.0114980261254499:e[12]>1e-35?e[100]>1e-35?se=.09915326976032354:se=-.011405707270850872:se=.05400113313957842:e[138]>1e-35?se=.029070115198082648:e[7]>.11348809759407426?e[9]>1e-35?se=.0124381999772114:e[14]>1e-35?se=.021548670539672424:e[152]>1e-35?se=.02386756199239544:e[155]>1e-35?se=.024879667358339554:e[217]>1e-35?se=.014495299809094343:e[17]>1e-35?se=.023665548251738264:e[21]>1e-35?se=-.04352613176288253:e[142]>1e-35?se=-.041479100066479035:e[47]>1e-35?se=-.054730987834988636:e[135]>1e-35?se=-.02041552814087628:e[12]>1e-35?se=.00599257601351913:e[19]>1e-35?se=.017289098956116435:se=-.005346146967029123:se=-.015035114021856248;let de;e[2]>2.524928003624769?e[39]>1e-35?de=-.054727205204329936:e[2]>5.1209788959100075?e[3]>1.7005986908310777?de=-.006846267565269392:e[5]>6.826002629905951?de=-.031164989612379426:de=-.002741497453668024:e[91]>1e-35?de=-.09671408062751485:e[4]>1.4978661367769956?e[1]>1e-35?e[3]>2.249904835165133?de=.01457038163563883:e[7]>.1998775237752378?de=.0022386178156093236:de=-.023878153904868322:e[138]>1e-35?de=.02577301491883366:e[134]>1e-35?de=.012196636151923639:de=-.011620066788940737:de=-.02547345266933859:e[3]>1e-35?e[2]>1e-35?e[1]>1e-35?e[125]>1e-35?de=-.054140900037670386:e[5]>3.5694334999727624?de=.011956526123643832:e[3]>2.602003343538398?de=-.02114925328017154:e[7]>.9662372103242399?de=.08782010508103752:de=-.017223208918198857:e[138]>1e-35?de=.03552967765214556:e[134]>1e-35?de=.02029988465200251:de=-.0027071098830831453:de=-.010563423003945922:e[2]>1.2424533248940002?e[1]>1e-35?e[5]>3.156774023138548?de=.020789754957971127:e[8]>1e-35?de=.09676607622337308:de=-.13431522143386382:de=-.04328684841078818:e[6]>5.427147823217923?e[2]>.8958797346140276?de=.04286558286931383:de=.0632450248289209:e[4]>.8958797346140276?e[8]>1e-35?e[4]>3.676220550121792?de=-.12134536828900527:de=-.0021406313647826976:de=.02703554321037796:de=-.10987991092748431;let re;e[3]>3.238486181444842?e[30]>1e-35?re=.009506310623811853:e[39]>1e-35?re=-.0390989997202559:e[187]>1e-35?re=-.07249802958837052:e[46]>1e-35?re=-.05080833699879983:e[143]>1e-35?re=-.06014247774751084:e[219]>1e-35?re=-.05179602905357869:e[6]>6.1537953943602615?e[15]>1e-35?re=-.025022238573512268:re=.0011147676050071987:re=-.013840284878987585:e[7]>.9626084674797213?e[5]>3.417592293073651?e[3]>1e-35?e[6]>3.9219243190762363?re=.008593726678003006:re=.05272960047875293:e[5]>4.424828703319957?re=.03164186747443643:re=-.019512539098210834:e[3]>2.602003343538398?re=-.0016290671598964486:e[3]>1.2424533248940002?e[8]>1e-35?re=-.1920669264002081:re=.09024848315677546:e[8]>1e-35?re=.06434775905745808:e[44]>1e-35?re=.11389595321585716:re=-.036695137521575945:e[6]>4.987019604243537?e[141]>1e-35?re=-.03813401544172915:e[138]>1e-35?re=.029859363038130183:e[58]>1e-35?re=-.06135288076045784:e[39]>1e-35?re=-.04609789446034826:e[7]>.14547530463198097?e[11]>1e-35?re=.0007666746170242386:e[129]>1e-35?re=-.04984156530077896:e[18]>1e-35?re=-.01554744241744757:e[10]>1e-35?e[219]>1e-35?re=-.043774129950223145:re=.0062051346459236715:re=.014331149613197688:re=-.004868728135790881:re=-.009310258638274059;let G;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>3.817651943129708?e[3]>1.8688348091416842?G=.0015603015891380355:G=-.018128739944024166:e[5]>3.5694334999727624?e[6]>5.427147823217923?G=.017445711714402918:G=-.006013735620008879:e[3]>1.2424533248940002?G=.08568755276415789:e[4]>2.602003343538398?G=.03195371214541369:e[6]>2.970085626360216?G=-.3506562612672139:G=-.038898555979475155:e[6]>5.391349638084432?e[2]>.8958797346140276?G=.04755052122467952:e[3]>1.4978661367769956?G=.03861414711908666:G=.08185303441168128:e[8]>1e-35?e[5]>4.424828703319957?G=.016473058697350277:G=-.08025494910794358:e[219]>1e-35?G=-.06606152909975703:G=.033955083083682974:e[153]>1e-35?G=-.022769519242142378:e[155]>1e-35?G=.021917770434351808:e[3]>4.051747139190486?G=-.016298405734735375:e[4]>1.2424533248940002?e[156]>1e-35?G=-.023334559703496013:e[91]>1e-35?G=-.07354920004445119:e[21]>1e-35?G=-.03472005783841508:e[9]>1e-35?G=.0088614848397155:e[152]>1e-35?G=.01650058356046536:e[50]>1e-35?G=-.08689386936995537:e[219]>1e-35?G=-.025293957964644554:e[22]>1e-35?G=-.02911571993589908:e[52]>1e-35?G=-.10060771324188006:e[151]>1e-35?G=-.11187645020980451:e[49]>1e-35?G=-.07269389735370566:G=.00010096962399904588:G=-.0308050484468705;let U;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>3.1132683346437333?e[2]>5.589117819455554?U=-.01634394676179118:e[135]>1e-35?U=-.025978770194490092:U=.003478202132522329:e[5]>3.772694874805912?e[6]>5.55101783490842?U=.0201238113260563:U=-.003889163967162744:U=.0619995705843029:e[6]>5.391349638084432?e[2]>.8958797346140276?U=.04441301244720888:U=.07580163057048642:e[5]>4.424828703319957?U=.030400021609279876:e[135]>1e-35?e[6]>4.03420147928485?U=-.1614949959350695:U=.011868201115510678:e[144]>1e-35?U=-.24480189212017833:U=.00743113235503554:e[135]>1e-35?U=-.02500550080046047:e[155]>1e-35?U=.019914668189284807:e[14]>1e-35?U=.016272311078771865:e[2]>4.436734027666816?U=-.010942143677155697:e[152]>1e-35?U=.01655515192923104:e[5]>3.276966702012906?e[208]>1e-35?U=.01544696196221499:e[209]>1e-35?U=.011686634595667988:e[204]>1e-35?U=.012948259428096241:e[54]>1e-35?U=-.0987840586310838:e[17]>1e-35?U=.019642065140602974:e[9]>1e-35?U=.002408217148588979:e[129]>1e-35?U=-.051760999013377655:e[53]>1e-35?U=-.12326801905337725:e[156]>1e-35?U=-.027148214121600067:U=-.00591946140033722:e[141]>1e-35?U=.08076229481403298:e[100]>1e-35?U=.09029873540689846:U=.004633440115146894;let ne;e[1]>1e-35?e[4]>2.138333059508028?e[9]>1e-35?e[7]>.9738681190948303?e[4]>2.249904835165133?ne=.0335386338744903:ne=.08871810783567416:ne=.019225035967642936:e[7]>.5866799179067689?e[44]>1e-35?ne=-.028577747938027556:e[22]>1e-35?ne=-.017080349342057245:e[123]>1e-35?ne=-.06459630434555787:ne=.01496396100048332:e[7]>.04507521918085865?ne=.0037545927605624665:ne=-.024364818555823085:e[7]>.3301972011875425?e[4]>.8958797346140276?ne=.003955118988355861:ne=-.024852972286710795:e[210]>1e-35?ne=-.06918033561606161:ne=-.016436360434421187:e[219]>1e-35?ne=-.07074619361594191:e[14]>1e-35?ne=.02288621182895308:e[30]>1e-35?ne=.009951065285890723:e[4]>3.0677824455408698?e[48]>1e-35?ne=-.08645289278185848:e[18]>1e-35?ne=-.07128859518483391:e[46]>1e-35?ne=-.059012415377229614:e[51]>1e-35?ne=-.09897820075751956:e[143]>1e-35?ne=-.0658809793369211:e[39]>1e-35?ne=-.05072244120975425:e[145]>1e-35?ne=-.1041573357946847:e[21]>1e-35?ne=-.07265724033978356:e[121]>1e-35?ne=.032340406020414894:e[150]>1e-35?ne=-.12780465144045577:e[50]>1e-35?ne=-.10084067045905792:ne=-.008282579596590931:e[31]>1e-35?ne=.09475423612489574:e[134]>1e-35?ne=.016436600209473996:ne=-.0032052350949025154;let J;e[0]>1e-35?e[1]>1e-35?e[6]>5.980149988077803?e[3]>1e-35?J=.016868562767356994:e[7]>.9480659774309611?J=.0490126593301439:J=.03183712887814021:e[4]>.8958797346140276?e[8]>1e-35?J=-.018344689935240077:e[7]>.5762123732244849?J=.027823839417468396:J=.0022237549483396734:J=-.049221463486990365:e[30]>1e-35?J=.024881540664409785:e[4]>3.0677824455408698?J=-.012956173562801246:J=.010844244442972509:e[153]>1e-35?J=-.021011529883710918:e[135]>1e-35?J=-.022862755771243214:e[91]>1e-35?J=-.06523564179230792:e[3]>4.3372693810700085?J=-.01836396186345982:e[4]>1.2424533248940002?e[14]>1e-35?J=.018063557788938384:e[1]>1e-35?e[58]>1e-35?J=-.05666864992513037:e[37]>1e-35?J=-.09859173931566362:e[140]>1e-35?J=-.026368697925604742:e[139]>1e-35?J=-.06458698835998881:e[3]>2.4414009612931857?e[8]>1e-35?J=-.012750470980894203:e[128]>1e-35?J=-.06062526587440112:J=.011637315217958607:e[7]>.9569480028661056?e[6]>3.314020688089767?e[6]>8.256477558772088?J=-.01867324944649552:J=.013333709765106694:e[19]>1e-35?J=-.0862336521704207:J=.06263843669460754:J=-.005209374987876728:e[29]>1e-35?J=-.05314556259108334:e[144]>1e-35?J=-.06747511467043471:J=-.0032459743896180644:J=-.025647852465095045;let j;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.802901033147999?e[153]>1e-35?j=-.028446025186518367:e[135]>1e-35?j=-.030498458478750823:e[4]>1.4978661367769956?j=.0028332406263713176:j=-.029966327008991617:j=.018714561890725637:e[6]>5.033695261903033?e[2]>.8958797346140276?j=.041738631496127304:j=.0701395739744944:e[7]>.9811887196001154?e[28]>1e-35?e[194]>1e-35?j=-.6270617037879163:j=-.14198370205598315:j=-.008029082191082339:j=.03966126215239892:e[153]>1e-35?j=-.018792731305353614:e[135]>1e-35?j=-.020500053366640306:e[156]>1e-35?e[11]>1e-35?j=-.05063175110475535:j=-.0120172710473678:e[147]>1e-35?j=-.06181360325166399:e[7]>.06275229375044648?e[52]>1e-35?j=-.09381845963236321:e[4]>4.424828703319957?j=-.015836182358134197:e[4]>1.2424533248940002?e[48]>1e-35?j=-.047387335727107405:e[50]>1e-35?j=-.07061356901704502:e[151]>1e-35?j=-.09680213548388712:e[46]>1e-35?j=-.028970851669790916:e[123]>1e-35?j=-.035197840867969954:e[49]>1e-35?j=-.06299268464836878:e[149]>1e-35?j=-.10197175263174806:e[58]>1e-35?j=-.03908263666673043:e[22]>1e-35?j=-.021903737116021876:e[2]>.8958797346140276?j=.005307704388235018:j=-.0020984759645931708:j=-.021935509998616008:j=-.01887705116018838;let O;e[2]>2.4414009612931857?e[2]>4.749261159734808?e[219]>1e-35?O=-.0427111578574511:e[153]>1e-35?O=-.030189831687705213:e[135]>1e-35?O=-.03512251542671204:O=-.005813108237155817:e[39]>1e-35?O=-.03612853474204475:e[91]>1e-35?O=-.07347487395456895:e[142]>1e-35?O=-.04314124434818331:e[21]>1e-35?O=-.03933135423264962:e[29]>1e-35?e[6]>4.3882378946731615?e[1]>1e-35?O=-.0015250307417007892:O=-.0490054084929899:e[209]>1e-35?O=-.19107169934362123:O=-.032434842765588306:e[18]>1e-35?O=-.04413318629193353:e[5]>3.772694874805912?O=.004026864766696988:e[7]>.9705672697050661?e[4]>2.602003343538398?O=-.0184663870129198:O=.08888448773905216:O=-.0040785146358560806:e[29]>1e-35?e[2]>1.2424533248940002?e[1]>1e-35?e[5]>3.156774023138548?O=.012676257607559291:e[4]>2.012675845367575?O=.07794141958502514:O=-.23905004122480836:O=-.03904279404529968:e[6]>5.818597045157784?e[1]>1e-35?O=.04439337662833094:O=-.009601154125838422:e[28]>1e-35?e[7]>.9926276364955392?e[156]>1e-35?O=.08495906118788314:e[153]>1e-35?O=.09808912606252018:O=-.41470362752984724:O=.024659633328041372:e[6]>4.3882378946731615?O=.02348696158531392:O=-.011219631635525798:e[2]>.8958797346140276?O=.00764827947682953:O=-.002636723662133651;let V;e[0]>1e-35?e[138]>1e-35?V=.04040206743401164:e[7]>.47159631571429605?e[39]>1e-35?V=-.04204265697956852:e[18]>1e-35?V=-.02345608311313191:e[46]>1e-35?V=-.07250113205332377:e[47]>1e-35?V=-.06901706560471924:e[123]>1e-35?V=-.02471508138476658:e[91]>1e-35?V=-.08527667683257537:e[6]>5.519456907163478?e[7]>.9811887196001154?V=.033642311398086024:V=.019968221974742344:e[6]>3.540854293052788?e[28]>1e-35?e[7]>.9914949911911836?V=-.17171139407761582:V=.033182911468765224:V=.0060896749985828915:e[7]>.9626084674797213?V=.050178751374534494:V=-.008697473314227091:e[6]>5.957131031247307?V=.008840008772752947:V=-.00839587224544437:e[57]>1e-35?V=-.11000065936717814:e[187]>1e-35?V=-.039919217528968265:e[135]>1e-35?V=-.01777859479698383:e[7]>.841541958453746?e[6]>8.681774988134558?V=-.006645633391127337:V=.005363553180866138:e[7]>.06275229375044648?e[141]>1e-35?V=-.028575934798358252:e[147]>1e-35?V=-.06523418671938815:e[53]>1e-35?V=-.12439699935111644:e[47]>1e-35?V=-.04201034294282216:e[21]>1e-35?V=-.029998534764449716:e[11]>1e-35?V=-.008349262144218515:e[10]>1e-35?e[152]>1e-35?V=.03211843381827455:V=-.009616753935387912:V=.001507728277179471:V=-.018453367252451447;let Z;e[2]>2.4414009612931857?e[155]>1e-35?Z=.02097415247337288:e[2]>5.1209788959100075?e[219]>1e-35?Z=-.04107586321461544:e[153]>1e-35?Z=-.030708779452328257:Z=-.008547089256234949:e[24]>1e-35?e[113]>1e-35?Z=.10372474211849725:Z=.010871474495452506:e[46]>1e-35?Z=-.048875079231930615:e[152]>1e-35?Z=.0169028183837229:e[91]>1e-35?Z=-.06545106192484919:e[7]>.5395500104437768?e[21]>1e-35?Z=-.03634133884877529:e[123]>1e-35?Z=-.04524486315275367:Z=.0007726000210664368:e[153]>1e-35?Z=-.026631444280113794:Z=-.005897540198114922:e[29]>1e-35?e[2]>1.2424533248940002?e[141]>1e-35?Z=.06938494238244022:e[1]>1e-35?e[4]>2.602003343538398?e[7]>.21160651352969054?Z=.016731168841731828:Z=-.009280453313693341:Z=-.006549806005743951:Z=-.035447929694275064:e[8]>1e-35?Z=-.0032912467465369953:e[4]>1.2424533248940002?e[1]>1e-35?e[2]>.8958797346140276?Z=.024369266212637037:e[138]>1e-35?Z=.06205121318768558:Z=.03811769435016647:Z=-.009452348851889555:Z=-.025248141993897872:e[2]>1e-35?e[57]>1e-35?Z=-.12191990737301042:e[4]>3.3842466058243152?Z=.00020591213976092076:e[141]>1e-35?Z=-.03252260939244301:e[186]>1e-35?Z=-.13818838492678748:Z=.009368844137034227:Z=-.007973426105216213;let ae;e[2]>2.3502401828962087?e[14]>1e-35?ae=.015015656987761437:e[30]>1e-35?e[210]>1e-35?e[7]>.6876768869498817?ae=.00543900892248828:ae=-.04253496769494065:e[141]>1e-35?ae=-.052958350924390156:e[140]>1e-35?ae=-.10364099832282586:ae=.010452960405207413:e[24]>1e-35?e[113]>1e-35?ae=.09898709072741292:e[209]>1e-35?e[7]>.9821472231924556?ae=-.26615665549082984:ae=.09636256138859388:ae=.01708542025496261:e[217]>1e-35?ae=.008049408683788317:e[21]>1e-35?ae=-.04590265539954756:e[90]>1e-35?ae=-.13784770816769107:e[142]>1e-35?ae=-.04628126597884301:e[47]>1e-35?ae=-.05827975565933709:e[135]>1e-35?ae=-.0223224900840969:e[18]>1e-35?ae=-.03220713396184497:e[91]>1e-35?ae=-.06447405488640102:e[58]>1e-35?ae=-.05284544446869763:e[48]>1e-35?ae=-.06649148594881385:e[123]>1e-35?ae=-.04383701454842744:e[7]>.07815070294696584?e[52]>1e-35?ae=-.11846610284210293:e[50]>1e-35?ae=-.08907531725085399:e[156]>1e-35?ae=-.018270336483319834:e[150]>1e-35?ae=-.1090721461891663:e[151]>1e-35?ae=-.12157322199183473:ae=-.001565820654257863:ae=-.02380240397829804:e[7]>.7957410883753849?ae=.01267070049428537:e[9]>1e-35?ae=.012970301396505988:ae=.0031136826722851885;let te;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>3.817651943129708?e[29]>1e-35?te=-.01811927921170173:te=-.0007182192063435364:e[30]>1e-35?te=.024303187146750442:e[1]>1e-35?te=.011106265465270054:e[134]>1e-35?te=.029835980521591587:te=-.011058553872914158:e[29]>1e-35?e[4]>.8958797346140276?e[2]>.8958797346140276?te=.038081831260496:e[7]>.9761943980359399?e[7]>.9974623466432676?te=.0678338591810893:te=.02371719224774027:te=.0682898584583309:te=-.023148464063014726:e[30]>1e-35?te=.04610988679672867:te=.003060113702583105:e[29]>1e-35?e[2]>.8958797346140276?e[4]>2.4414009612931857?e[7]>.9587163092581167?te=.01081564552001606:te=-.006807357600587744:te=-.02409609521595022:te=-.033329165496176885:e[4]>4.051747139190486?te=-.01130115168237245:e[129]>1e-35?te=-.04589370141507604:e[21]>1e-35?te=-.029442074982620643:e[14]>1e-35?te=.016895124578179443:e[186]>1e-35?te=-.11907557430036886:e[1]>1e-35?e[139]>1e-35?te=-.06194447560538838:e[133]>1e-35?te=-.0758465323292204:e[58]>1e-35?te=-.04330766372695393:e[138]>1e-35?te=-.04155491116231014:e[156]>1e-35?te=-.04841608169206507:e[44]>1e-35?te=-.01948221703985556:te=.006580878599054945:e[217]>1e-35?te=.022433802380447482:te=-.00412091757515532;let le;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.970085626360216?e[153]>1e-35?le=-.024502725801264887:e[2]>5.589117819455554?le=-.01230190569981064:le=.0013078979950003464:e[1]>1e-35?le=.016172143068823742:le=.0006345060509537773:e[2]>.8958797346140276?le=.030005982109869073:e[7]>.9811887196001154?e[7]>.9983480540068196?le=.0671951915420627:e[4]>.8958797346140276?e[204]>1e-35?e[4]>2.4414009612931857?le=.044068636573383585:le=-.6634026033584294:e[28]>1e-35?e[194]>1e-35?le=-.3139210817530322:le=-.030502668897116853:le=.02841326513237545:le=-.12080826254458728:le=.05983169094937563:e[25]>1e-35?le=-.03468266531519899:e[17]>1e-35?le=.018557285805987474:e[91]>1e-35?le=-.051420462987159146:e[153]>1e-35?e[24]>1e-35?le=.04301006671297924:e[57]>1e-35?le=-.09748386515224282:e[7]>.43956365248689394?le=-.00756781004151352:le=-.03008603678955382:e[40]>1e-35?le=-.06712212199178254:e[9]>1e-35?e[99]>1e-35?le=.02709638137622776:le=.00311232737924217:e[219]>1e-35?le=-.021650545703290135:e[129]>1e-35?le=-.04139534817677377:e[4]>4.482986592105174?le=-.01666373169408667:e[7]>.14547530463198097?e[28]>1e-35?le=.0203181446326991:e[24]>1e-35?le=.019321702534414745:le=-.0013149142637674523:le=-.010572437649803333;let fe;e[1]>1e-35?e[99]>1e-35?fe=.024922390516579074:e[7]>.6223082132708274?e[5]>8.674624195715621?fe=-.0013697481432616754:e[8]>1e-35?e[5]>3.0201273556387074?e[5]>4.855921334140645?fe=-.0034268395365245545:fe=-.034186463672076346:e[29]>1e-35?fe=.07759914281958613:fe=-.07773573805144608:e[22]>1e-35?fe=-.0175879419801366:e[7]>.9626084674797213?fe=.016773359142537643:fe=.008028381804196754:e[133]>1e-35?fe=-.0535216100744091:fe=-.0005000628423357899:e[38]>1e-35?e[14]>1e-35?fe=.05090247458630403:fe=.007750826606170666:e[30]>1e-35?fe=.007698939719746262:e[121]>1e-35?fe=.02303487268261317:e[56]>1e-35?fe=.04301822779572479:e[219]>1e-35?fe=-.061056125991793546:e[49]>1e-35?fe=-.08519783826666813:e[54]>1e-35?fe=-.11098408863832084:e[51]>1e-35?fe=-.07495147940928196:e[52]>1e-35?fe=-.10268521021357209:e[143]>1e-35?fe=-.050337621945760906:e[50]>1e-35?fe=-.08215637358309871:e[135]>1e-35?fe=-.037923453156281546:e[29]>1e-35?fe=-.03275476659364492:e[118]>1e-35?fe=-.05655325181162936:e[46]>1e-35?fe=-.03579874818682071:e[55]>1e-35?fe=-.10858775815345066:e[98]>1e-35?fe=-.02949179817285505:e[91]>1e-35?fe=-.06114394873657414:fe=-.0024381269826722327;let De;e[0]>1e-35?e[138]>1e-35?De=.03188433658945665:e[6]>5.957131031247307?e[29]>1e-35?De=.02161439640262312:e[46]>1e-35?De=-.05856082884648366:De=.00579188508436574:e[5]>3.417592293073651?De=-.0023781291067078423:e[6]>2.524928003624769?e[29]>1e-35?De=-.009165058612451055:De=.06060298049441096:De=-.024654633200924148:e[29]>1e-35?e[141]>1e-35?De=.047057536167451744:e[5]>7.751690325550034?De=-.014630738159823437:e[6]>1e-35?De=-.0022830386545257364:De=-.1244934159203967:e[141]>1e-35?De=-.03108265181870111:e[151]>1e-35?De=-.0899976208431091:e[53]>1e-35?De=-.10125439914522794:e[57]>1e-35?De=-.08285049636367613:e[48]>1e-35?De=-.04071723813859757:e[147]>1e-35?De=-.05043191744833317:e[49]>1e-35?De=-.05480244282058292:e[52]>1e-35?De=-.07341553831872409:e[91]>1e-35?De=-.04164336745260387:e[50]>1e-35?De=-.05943962674275153:e[40]>1e-35?De=-.054773037913883875:e[129]>1e-35?De=-.03640370706396673:e[54]>1e-35?De=-.07483146938849299:e[22]>1e-35?De=-.02027834075472462:e[186]>1e-35?De=-.08116240011202293:e[143]>1e-35?De=-.028437692949603324:e[21]>1e-35?De=-.02421670339700474:e[46]>1e-35?De=-.02303808594532841:De=.0030552215125396933;let ve;e[0]>1e-35?e[1]>1e-35?e[4]>2.138333059508028?e[9]>1e-35?ve=.02933727780739186:e[6]>4.722943345003718?e[7]>.9246495578512688?ve=.024680404379144982:ve=.012015730636539185:e[113]>1e-35?ve=.09112392780348796:e[135]>1e-35?e[7]>.990877425524446?ve=-.11617284449593282:ve=-.005246041787488675:ve=-.011069319481086321:e[90]>1e-35?ve=-.2763006993902732:e[7]>.9546729796082215?e[6]>3.0677824455408698?ve=.009233858920042097:ve=.08920751503262825:ve=-.008824102277148265:e[138]>1e-35?ve=.02736126919460762:e[4]>2.917405368531303?e[30]>1e-35?ve=.013112272135200274:e[217]>1e-35?ve=.035799930603658235:ve=-.015618218537266096:ve=.010656981322113845:e[14]>1e-35?ve=.01147191978691208:e[17]>1e-35?ve=.016681596753170068:e[135]>1e-35?ve=-.017396147137824756:e[4]>1.8688348091416842?e[4]>4.03420147928485?ve=-.008863534867945834:e[31]>1e-35?ve=.05416038384474034:e[113]>1e-35?ve=.012656827040897288:e[204]>1e-35?ve=.011410879858785482:e[208]>1e-35?e[1]>1e-35?ve=.02085606775425661:ve=-.008618410086291444:e[53]>1e-35?ve=-.09674487817291225:e[155]>1e-35?ve=.010841012663281826:ve=-.0027234799964982103:e[100]>1e-35?e[6]>4.226807104886684?ve=-.02684998739505702:ve=.09196076999373319:ve=-.014557367931257406;let Ue;e[1]>1e-35?e[4]>2.4414009612931857?e[140]>1e-35?Ue=-.020508725755139606:e[9]>1e-35?Ue=.014160204295049248:e[37]>1e-35?Ue=-.06190233326923697:e[6]>1e-35?Ue=.005164496028342236:Ue=-.11389189550910446:e[141]>1e-35?Ue=-.04125881484049697:e[186]>1e-35?Ue=-.17160163910476212:e[29]>1e-35?e[6]>3.676220550121792?Ue=-.010283419868136159:e[7]>.9626084674797213?Ue=-.1716178372310524:Ue=-.008856137283327148:e[28]>1e-35?Ue=.05315666786902214:e[129]>1e-35?Ue=-.04136913767615559:e[7]>.9705672697050661?e[6]>3.540854293052788?Ue=.00751812285476753:e[8]>1e-35?Ue=-.11960098941111366:Ue=.06631760098044483:e[210]>1e-35?e[30]>1e-35?Ue=-.05338190010412709:Ue=.017275201286894953:e[30]>1e-35?Ue=.014424216946760394:e[99]>1e-35?Ue=.027062693955934525:Ue=-.006762492910108134:e[219]>1e-35?Ue=-.0534489198792768:e[138]>1e-35?Ue=.017328465617667224:e[4]>2.970085626360216?e[144]>1e-35?Ue=-.0662951231725991:e[143]>1e-35?Ue=-.04739088646917139:e[145]>1e-35?Ue=-.07635546796992515:e[14]>1e-35?Ue=.012433708195861912:e[217]>1e-35?Ue=.021046036228368578:e[51]>1e-35?Ue=-.07024391932712475:Ue=-.007585229386863768:e[127]>1e-35?Ue=.0788172427657374:Ue=.0036475442240054556;let ke;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.802901033147999?e[153]>1e-35?ke=-.02488671343402725:e[135]>1e-35?ke=-.026342401137212534:e[4]>1.4978661367769956?ke=-.0002120610158998857:ke=-.02619014803287452:e[5]>3.772694874805912?ke=.00791871819482647:ke=.05245006986819034:e[5]>5.431533816254341?e[2]>.8958797346140276?ke=.026755493155023333:ke=.05657996196424821:e[5]>4.424828703319957?e[28]>1e-35?ke=-.12833948112036647:ke=.02009706276124955:e[135]>1e-35?ke=-.1062651205805238:ke=-.014392542658357654:e[156]>1e-35?e[11]>1e-35?ke=-.0426876288098691:ke=-.009210886749467585:e[25]>1e-35?ke=-.029685120249418873:e[153]>1e-35?e[24]>1e-35?ke=.039675921298659045:ke=-.01470247025894634:e[135]>1e-35?ke=-.013162475027411236:e[2]>1e-35?e[22]>1e-35?ke=-.01924589513592333:e[21]>1e-35?ke=-.02301719200164619:e[5]>8.75754777636908?e[4]>2.602003343538398?ke=-.0007468484638490539:ke=-.0158247553028744:e[1]>1e-35?e[99]>1e-35?ke=.024493682002973784:e[42]>1e-35?ke=-.07469088345156226:e[45]>1e-35?ke=-.03838380763638677:e[114]>1e-35?ke=.02409327545276692:e[154]>1e-35?ke=-.038977286951036944:e[208]>1e-35?ke=.021915882358345885:ke=.003839964304606302:ke=-.0014382346596150915:ke=-.008713493537728363;let Ze;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>4.119004124609202?e[3]>1.2424533248940002?Ze=-.0017308950709495397:Ze=-.020269742816377157:e[5]>3.5694334999727624?e[6]>6.468474521450064?Ze=.007854184286630537:Ze=-.005163758444496073:e[3]>1.2424533248940002?e[12]>1e-35?Ze=-.009039854020477722:Ze=.08762320620103459:e[194]>1e-35?Ze=-.3433922378591172:e[24]>1e-35?Ze=-.2523113760729937:Ze=-.000461371156912453:e[5]>5.692045796563381?e[3]>1.4978661367769956?Ze=.007177758561499448:e[2]>.8958797346140276?Ze=.03195343200682438:Ze=.059909349900388334:e[5]>4.424828703319957?e[28]>1e-35?Ze=-.10695282804536732:Ze=.019125081292682575:e[135]>1e-35?Ze=-.09257011968677195:Ze=-.012855523323410875:e[14]>1e-35?Ze=.010052176448775013:e[152]>1e-35?Ze=.011482760058014926:e[156]>1e-35?Ze=-.017677609761538152:e[24]>1e-35?Ze=.01670301885059328:e[39]>1e-35?Ze=-.02425844450882272:e[12]>1e-35?e[3]>1.2424533248940002?e[6]>5.980149988077803?Ze=.01117036123239103:e[3]>1.4978661367769956?Ze=-.005154239762347923:Ze=.06349844063391799:Ze=-.011876368966362884:e[4]>3.772694874805912?Ze=-.010120762110714197:e[5]>3.276966702012906?e[4]>2.4414009612931857?e[4]>3.1132683346437333?Ze=-.0035902728428789336:Ze=.003411450739155564:e[5]>8.17933999189099?Ze=-.018866709049095685:Ze=-.0038747233097564068:Ze=.024379138339081993;let ft;e[7]>.5866799179067689?e[11]>1e-35?e[217]>1e-35?ft=.01816196279626246:ft=-.008720340174685528:e[14]>1e-35?ft=.017422275374961747:e[3]>2.802901033147999?e[6]>6.0026509725338455?e[18]>1e-35?ft=-.035421013136394335:e[219]>1e-35?ft=-.03997357699142973:e[3]>4.993822430271426?ft=-.03250278247092862:ft=.004080430247607075:ft=-.010055330454519094:e[5]>9.345963324807864?ft=-.008136951493137817:e[90]>1e-35?ft=-.16414188828180187:e[45]>1e-35?ft=-.0395103723535772:e[17]>1e-35?e[6]>3.314020688089767?ft=.03144428117941763:ft=-.12305809642153893:e[5]>3.417592293073651?ft=.006863569747629234:e[7]>.9626084674797213?e[204]>1e-35?ft=.08986402088848823:e[100]>1e-35?ft=.09658177526577977:e[141]>1e-35?ft=.06795495668113817:e[28]>1e-35?e[3]>1e-35?ft=.10311172778826272:ft=-.12367638872784459:e[209]>1e-35?ft=.06796205879581844:e[6]>3.0677824455408698?e[3]>2.012675845367575?ft=-.1815028770626217:ft=-.027600842388305583:ft=.013979123567456554:ft=-.003475039039176338:e[6]>4.3882378946731615?e[3]>3.6242520361853052?ft=-.008151073332139989:e[3]>2.4414009612931857?e[48]>1e-35?ft=-.05732062477153205:ft=.0038104987226822806:e[7]>.14547530463198097?ft=-.0015360108147469411:ft=-.014797616303672155:e[3]>.8958797346140276?ft=-.010446976011382926:ft=-.039018423658353285;let at;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>4.620046665062766?e[3]>1.8688348091416842?at=-.0031733808376565214:at=-.019463570735432378:at=.0032566959999593536:e[5]>5.692045796563381?e[3]>1.4978661367769956?at=.006472511895453073:e[2]>.8958797346140276?at=.029439910335277677:at=.05703290277034656:e[219]>1e-35?at=-.06489530937321614:e[5]>4.424828703319957?at=.017756995160153607:e[125]>1e-35?at=-.13863131633711023:at=-.011337464460106939:e[29]>1e-35?e[2]>.8958797346140276?e[3]>1e-35?at=-.04822012795561216:e[125]>1e-35?at=.06083023155995546:e[141]>1e-35?at=.04503531231698771:e[5]>7.751690325550034?at=-.008826435995092507:at=.0004769856196102064:e[5]>5.895778350950796?at=-.03439788269853701:at=.0012862199645308793:e[141]>1e-35?e[3]>3.0677824455408698?at=.0046610227653059695:at=-.04504560149384845:e[3]>4.3372693810700085?at=-.011924612526365003:e[151]>1e-35?at=-.07909878419302184:e[40]>1e-35?at=-.04837106565429512:e[52]>1e-35?at=-.06478730352567258:e[18]>1e-35?e[46]>1e-35?at=.060888920864590634:e[5]>3.5694334999727624?at=-.02601024872439008:at=.07960150564774994:e[46]>1e-35?at=-.027213119561154103:e[51]>1e-35?at=-.054081846676903716:e[54]>1e-35?at=-.07375359621246233:e[50]>1e-35?at=-.0570341640965886:at=.0021129818482267812;let lt;e[2]>2.861792550976191?e[11]>1e-35?e[58]>1e-35?lt=-.09222476830824185:e[156]>1e-35?lt=-.044357001480428:lt=-.009033627105152873:e[8]>1e-35?e[5]>7.429817490674132?lt=-.007435399919321396:lt=-.025630334739367253:e[155]>1e-35?lt=.02064199664419035:e[5]>8.75754777636908?e[2]>4.119004124609202?lt=-.012759040985224594:lt=-.0009375109950390992:e[21]>1e-35?lt=-.028664595543047417:e[187]>1e-35?lt=-.03837361994986333:e[22]>1e-35?lt=-.027274995074267547:e[14]>1e-35?lt=.016392245342055616:e[17]>1e-35?lt=.022509678093313362:e[28]>1e-35?lt=.025145343126000193:e[39]>1e-35?lt=-.02939647868188604:lt=.00042395552644239256:e[29]>1e-35?e[2]>2.012675845367575?lt=-.0030925701821976686:e[5]>6.0390628155997765?e[2]>.8958797346140276?lt=.010736817315927911:lt=.02426980448005241:e[28]>1e-35?e[194]>1e-35?lt=-.3070569158934055:e[196]>1e-35?lt=-.5506885961570867:lt=-.033353293982668515:lt=.006553036790621832:e[2]>1.2424533248940002?e[5]>3.5694334999727624?e[155]>1e-35?lt=.02102370525016274:lt=.003409533559556135:e[204]>1e-35?lt=.08873962123163927:e[24]>1e-35?lt=.10555359938821945:e[28]>1e-35?lt=.09719645392539251:e[196]>1e-35?lt=.08224623369607056:lt=-.020134405544960793:lt=-.0015937623030202052;let ie;e[0]>1e-35?e[2]>1.8688348091416842?e[3]>1.4978661367769956?e[3]>3.540854293052788?ie=-.0076758153562413375:e[18]>1e-35?ie=-.04295196457825341:e[51]>1e-35?ie=-.13248011320062422:ie=.008952360414023641:e[7]>.987306237235768?ie=.006439776900137331:ie=-.012660562195035134:e[3]>2.861792550976191?e[30]>1e-35?ie=.026757175255811883:ie=-.01062556784320532:e[2]>.8958797346140276?ie=.02114926571950188:e[8]>1e-35?e[7]>.9738681190948303?e[7]>.996914501566243?ie=.039844832378913425:ie=-.06690456482695102:ie=.05010759067838343:e[7]>.9901971344332651?e[204]>1e-35?e[7]>.9945060383544003?ie=.03772632631184001:ie=-.28522617893050056:e[28]>1e-35?ie=-.060992612788434375:ie=.03341245674945403:ie=.051288950777861456:e[8]>1e-35?ie=-.010769283931178146:e[29]>1e-35?e[2]>.8958797346140276?e[1]>1e-35?e[7]>.98482287934795?ie=.009069204772381522:ie=-.004081394384581673:ie=-.03594060084257492:e[7]>.9216401592048815?ie=-.00442206228805168:ie=-.03576891499137606:e[55]>1e-35?ie=-.08223884312902127:e[57]>1e-35?ie=-.0742535346669798:e[149]>1e-35?ie=-.07940704728071792:e[39]>1e-35?ie=-.017161105634171125:e[49]>1e-35?ie=-.04763279499691125:e[139]>1e-35?ie=-.027192821855546695:e[10]>1e-35?ie=-.0036316338579956914:ie=.0026484338648234077;let Fe;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>5.527441013321604?Fe=-.012306712525171806:e[7]>.26911173821332884?e[18]>1e-35?Fe=-.027850707388722303:e[91]>1e-35?Fe=-.07216882827488169:e[2]>2.740319461670996?e[3]>1.4978661367769956?Fe=.005596837686865309:Fe=-.0059429747278747225:Fe=.009524033665726878:Fe=-.0077898166249992535:e[6]>5.912149824839399?e[3]>1.4978661367769956?e[30]>1e-35?Fe=.032201880996274065:Fe=-.009587971174292791:e[2]>.8958797346140276?Fe=.02761965407835318:Fe=.05238312639482409:e[7]>.990877425524446?e[28]>1e-35?e[156]>1e-35?Fe=.08220352701195494:Fe=-.16200772313735304:e[135]>1e-35?e[6]>4.310776603370241?Fe=-.03126230621131264:Fe=-.15437767199900418:e[219]>1e-35?e[2]>.8958797346140276?Fe=.018944713961164792:e[3]>1e-35?Fe=.06629929139668997:Fe=-.16790799717043633:e[192]>1e-35?Fe=-.3320398525405097:Fe=.009790162291004705:e[125]>1e-35?Fe=-.0996239956884951:Fe=.017982806591038288:e[25]>1e-35?Fe=-.02642518530716432:e[6]>9.286096980078398?e[3]>2.740319461670996?Fe=-.0027582177390145703:Fe=-.02047492290459601:e[17]>1e-35?Fe=.01622159988588393:e[7]>.5866799179067689?Fe=.0012556670436606133:e[3]>2.3502401828962087?e[3]>3.314020688089767?Fe=-.00567335909535631:Fe=.0036605424249172938:e[7]>.085616240166877?Fe=-.00662352094724046:Fe=-.024196995936398374;let Ae;e[0]>1e-35?e[2]>1.2424533248940002?e[2]>2.802901033147999?e[3]>1.8688348091416842?e[4]>3.6242520361853052?Ae=-.008283589876968955:Ae=.005263882290960596:e[7]>.9662372103242399?Ae=.0028703212438091555:Ae=-.014488335095453487:e[5]>3.5694334999727624?Ae=.006182444666070272:Ae=.04834325475124454:e[5]>5.821564412917691?e[3]>1.4978661367769956?Ae=.006862035478899274:e[2]>1e-35?Ae=.03694434517261685:Ae=.06818308291563471:e[8]>1e-35?e[4]>3.979637980058199?Ae=-.14792403668068005:e[5]>4.297262267176281?Ae=.04085199387960594:Ae=-.08112459203056922:e[7]>.990877425524446?e[204]>1e-35?e[4]>2.4414009612931857?Ae=.040094872099644886:Ae=-.37432021591644105:e[128]>1e-35?e[17]>1e-35?Ae=.11216772098992614:Ae=-.39517539261887863:Ae=-.006202508512715542:Ae=.031730389306944315:e[8]>1e-35?e[5]>3.156774023138548?Ae=-.011787620507206525:e[3]>1.2424533248940002?Ae=-.0681989521208321:Ae=.06597717957453096:e[2]>1e-35?e[25]>1e-35?Ae=-.024543929344106336:e[5]>8.193814844759492?e[4]>2.602003343538398?e[2]>5.167634984480833?Ae=-.00996811570890536:Ae=.001134417943860963:Ae=-.013004815776467261:e[1]>1e-35?e[22]>1e-35?Ae=-.019057324908699217:e[141]>1e-35?Ae=-.026707851278989517:Ae=.005608056403567553:Ae=-.0017699070677530831:e[3]>1.4978661367769956?Ae=-.005457163739006659:Ae=-.02994467745413277;let Ge;e[11]>1e-35?e[154]>1e-35?Ge=-.07640004589975245:e[153]>1e-35?Ge=-.027921183286970398:e[156]>1e-35?Ge=-.02508900369371103:e[47]>1e-35?Ge=-.09621039139423637:e[46]>1e-35?Ge=-.05890206826599292:Ge=-.0018521707885188695:e[7]>.1998775237752378?e[39]>1e-35?Ge=-.02026563108381904:e[91]>1e-35?Ge=-.03979999802398471:e[14]>1e-35?e[134]>1e-35?Ge=.044705853812635206:Ge=.01112016315736189:e[24]>1e-35?e[6]>3.417592293073651?Ge=.01585670681557334:Ge=.0820229237073549:e[9]>1e-35?e[204]>1e-35?e[6]>3.9219243190762363?Ge=.01475544028693712:e[30]>1e-35?Ge=.10219265831102325:Ge=-.0567832116465987:e[154]>1e-35?Ge=-.04682869193620295:Ge=.0058147572533605784:e[123]>1e-35?Ge=-.04011640490395746:e[17]>1e-35?e[6]>3.314020688089767?Ge=.016472642951500794:Ge=-.10372235311156908:e[19]>1e-35?Ge=.013619887374131652:e[28]>1e-35?e[6]>3.1984648276080736?e[6]>5.5816130673839615?Ge=.021404525777064917:Ge=-.022090537029637168:Ge=.07927547222505857:e[129]>1e-35?Ge=-.0315112950229846:e[90]>1e-35?Ge=-.08016175793969123:e[60]>1e-35?Ge=-.044255594885932:e[150]>1e-35?Ge=-.0643645650066138:Ge=18071436579202054e-21:e[6]>6.132312266239896?Ge=.00017227075512669227:Ge=-.010904669702571911;let z;e[0]>1e-35?e[1]>1e-35?e[7]>.30853255358841714?e[154]>1e-35?z=-.053460642910797676:z=.009652079082741289:z=-.0017676195976280011:e[134]>1e-35?z=.01746182064829904:e[32]>1e-35?z=.033149881191962445:e[138]>1e-35?z=.02149173543949675:e[37]>1e-35?z=.028519159270523897:e[152]>1e-35?z=.023352031441951773:e[217]>1e-35?z=.02290558132732214:z=-.01850975101703459:e[152]>1e-35?z=.010488854074509982:e[155]>1e-35?e[12]>1e-35?z=.027490522294963154:z=.002575743497494008:e[131]>1e-35?z=-.07138027268500055:e[57]>1e-35?z=-.06658662137088783:e[28]>1e-35?z=.015141080652315508:e[55]>1e-35?z=-.07156337757427284:e[204]>1e-35?z=.008085415901726045:e[99]>1e-35?e[1]>1e-35?z=.01803019280250009:z=-.012275416064615064:e[113]>1e-35?z=.007680714218522011:e[102]>1e-35?z=.01923593781092882:e[38]>1e-35?z=.00598208846998872:e[112]>1e-35?z=.00895148693111358:e[217]>1e-35?z=.004322676779141819:e[114]>1e-35?e[1]>1e-35?z=.019173900241286065:e[18]>1e-35?z=-.1302545616586715:z=-.012219608237225175:e[89]>1e-35?z=.019080595932083305:e[95]>1e-35?z=.009182530113836561:z=-.006531048204768366;let ee;e[2]>4.135134555718313?e[47]>1e-35?ee=-.06057129526622943:e[5]>6.805168536739806?e[3]>2.4414009612931857?e[1]>1e-35?e[32]>1e-35?ee=-.09672976728291365:e[217]>1e-35?ee=-.09138286775903748:e[114]>1e-35?ee=.034435801312936894:ee=.003550781249532139:e[56]>1e-35?ee=.06582022232543998:e[144]>1e-35?ee=-.08601101006110747:ee=-.006766914059699758:e[217]>1e-35?ee=.001822103802069182:ee=-.013646878234832634:e[8]>1e-35?ee=-.02495807137678248:e[1]>1e-35?ee=.009517017217557915:ee=-.007488737506950444:e[6]>6.1537953943602615?e[140]>1e-35?ee=-.013180308369805589:e[51]>1e-35?ee=-.0496089337787575:e[15]>1e-35?e[30]>1e-35?ee=.017032153502995334:ee=-.01330098154550191:e[10]>1e-35?e[56]>1e-35?ee=.04713518460375107:ee=-.0016223104582873055:e[131]>1e-35?ee=-.07291331059881433:e[27]>1e-35?ee=-.015619378359486803:ee=.006051005570772542:e[3]>3.1132683346437333?e[8]>1e-35?ee=-.02945681137428643:ee=-.00725026522062693:e[6]>1e-35?e[3]>1.2424533248940002?ee=.0035081297381004684:e[194]>1e-35?e[5]>3.772694874805912?ee=-.03142097937872678:ee=-.17253564001853064:e[5]>3.156774023138548?ee=-.004860170522962415:e[12]>1e-35?ee=-.04169370739781986:ee=.05886396855048806:ee=-.10415236736977414;let Le;e[2]>2.3502401828962087?e[11]>1e-35?e[58]>1e-35?Le=-.07548370555339029:Le=-.009060327134219393:e[21]>1e-35?Le=-.02536204329245056:e[155]>1e-35?Le=.01626198918750622:e[142]>1e-35?Le=-.029262265693304763:e[4]>1.8688348091416842?e[48]>1e-35?Le=-.0522966414357639:e[47]>1e-35?Le=-.03867213359133592:e[149]>1e-35?Le=-.10392339919606915:e[135]>1e-35?Le=-.010541433982611018:e[51]>1e-35?Le=-.06273170107556418:e[54]>1e-35?Le=-.08769404750229767:e[18]>1e-35?e[1]>1e-35?Le=.0022966362330231133:e[31]>1e-35?Le=.19571528454816625:Le=-.04919246049942885:e[50]>1e-35?Le=-.06766114512966344:e[7]>.9793410316570949?Le=.00837983401462093:Le=.0007986280224776339:e[186]>1e-35?Le=-.16446174535054356:e[62]>1e-35?Le=.06508947502037822:Le=-.010260699234562241:e[6]>5.486867329823672?e[140]>1e-35?Le=-.01589822136096899:e[125]>1e-35?Le=-.025465846683560996:e[190]>1e-35?Le=-.03671457167643481:e[91]>1e-35?Le=-.03821691103237143:e[57]>1e-35?Le=-.07502589184745939:e[50]>1e-35?Le=-.05395522531288487:Le=.005241788285288346:e[4]>3.1132683346437333?Le=-.008741587825172916:e[12]>1e-35?e[100]>1e-35?Le=.06608964318040904:Le=-.012827641806975033:Le=.004744161815471635;let Se;e[4]>.8958797346140276?e[2]>5.4049245766661995?e[5]>6.0051201133541365?Se=-.008352440702113342:Se=.00818161196788124:e[123]>1e-35?Se=-.02387242845183433:e[190]>1e-35?Se=-.03574127589374163:e[152]>1e-35?Se=.01262147105943106:e[11]>1e-35?e[58]>1e-35?Se=-.05955906348417553:Se=-.003717083835106387:e[6]>6.0026509725338455?e[15]>1e-35?e[30]>1e-35?Se=.023589988800048537:Se=-.01290090410411923:e[38]>1e-35?Se=.015295369946508892:e[1]>1e-35?e[4]>2.740319461670996?e[22]>1e-35?Se=-.01614208413608714:e[42]>1e-35?Se=-.05454658382875832:Se=.008894057269932708:e[141]>1e-35?Se=-.029660896741885025:Se=.0007918628584206305:e[12]>1e-35?Se=.010735865892076339:e[218]>1e-35?Se=.06499398466334683:e[29]>1e-35?Se=-.02987220407530282:e[118]>1e-35?Se=-.05994319680494358:Se=-.0022119035344297464:e[113]>1e-35?e[24]>1e-35?Se=.09992180359591052:Se=.003953091072683087:e[204]>1e-35?e[4]>2.249904835165133?Se=.0012737346185997833:e[5]>3.979637980058199?Se=.012350990163327259:e[29]>1e-35?Se=-.4173182186315585:Se=.09483857671510697:Se=-.0034771114722081282:e[19]>1e-35?Se=.04818172610227253:e[158]>1e-35?Se=.09085872490042819:e[123]>1e-35?Se=.046170414156546824:Se=-.030833991141721785;let Ce;e[0]>1e-35?e[2]>1.2424533248940002?e[2]>2.138333059508028?e[3]>1.4978661367769956?e[3]>4.197173680708697?Ce=-.015067858446918237:e[5]>3.979637980058199?Ce=.0025493966284458503:e[24]>1e-35?Ce=.10170949517680355:e[3]>2.3502401828962087?Ce=-.010182198776560389:e[7]>.9662372103242399?Ce=.0855616171705204:Ce=-.0044290837387121786:e[7]>.992067132663463?Ce=.006950766900495411:Ce=-.011703657118613042:e[3]>3.314020688089767?Ce=-.007590151825214328:Ce=.011931088318037653:e[5]>4.424828703319957?e[3]>1.4978661367769956?Ce=.003895993078605918:e[2]>1e-35?e[5]>5.859359688974663?Ce=.03311360926528595:e[7]>.9936484368123463?e[28]>1e-35?Ce=-.1296383065201116:e[18]>1e-35?Ce=-.2304238024287801:Ce=-.0007035160942990814:Ce=.03872938637191365:Ce=.05931958562003542:e[204]>1e-35?e[7]>.9926276364955392?Ce=-.2503820824196552:Ce=.01514980593659256:e[135]>1e-35?e[7]>.990877425524446?Ce=-.12146435764173391:Ce=.03579230653026111:e[125]>1e-35?Ce=-.11990587076136816:Ce=-.0017264106529335022:e[2]>.8958797346140276?e[3]>4.878999622893762?Ce=-.028006872909888104:e[17]>1e-35?Ce=.015327119563713427:e[14]>1e-35?Ce=.008966123864441086:e[24]>1e-35?Ce=.014884319812071584:Ce=-.0008180929266082377:e[29]>1e-35?e[5]>5.895778350950796?Ce=-.02927173520516398:Ce=.004256706136162408:Ce=-.0030692852485265805;let qe;e[39]>1e-35?qe=-.019116728566000912:e[152]>1e-35?qe=.011159312353677259:e[52]>1e-35?qe=-.06556505864685434:e[7]>.14547530463198097?e[187]>1e-35?qe=-.02203060071288757:e[48]>1e-35?qe=-.03406851575382452:e[10]>1e-35?e[219]>1e-35?qe=-.026242020752538932:qe=-.0026163734864036088:e[21]>1e-35?qe=-.016803181860075653:e[8]>1e-35?e[5]>3.0201273556387074?e[6]>4.722943345003718?e[125]>1e-35?qe=-.07907862980413462:qe=-.0024968534057976956:e[141]>1e-35?qe=.01751368963010255:qe=-.035334686232177996:e[3]>1e-35?qe=-.049727650261844114:qe=.06649006602788514:e[51]>1e-35?qe=-.047051279496267896:e[58]>1e-35?e[19]>1e-35?qe=.06794814379814933:qe=-.033933057704283995:e[6]>8.681774988134558?qe=-.001906867260604815:e[3]>3.3842466058243152?e[23]>1e-35?qe=.029126145919054786:e[12]>1e-35?e[59]>1e-35?qe=.06547842372312768:qe=.005706402727440608:e[89]>1e-35?qe=.05238448470974841:qe=-.003970577798047124:e[141]>1e-35?e[3]>1e-35?qe=-.02994666941636212:qe=.029175297065511276:e[139]>1e-35?qe=-.03926804943552878:e[7]>.9626084674797213?qe=.010270060885238803:e[6]>4.5379471377116305?qe=.0051640733904868355:qe=-.006326617548806485:e[3]>2.3502401828962087?qe=-.001064039369711557:qe=-.015232776877478657;let Ve;e[4]>.8958797346140276?e[0]>1e-35?e[3]>3.540854293052788?e[138]>1e-35?Ve=.020620751195117866:Ve=-.007657642824282572:e[9]>1e-35?Ve=.013255738783000171:e[123]>1e-35?Ve=-.04553588467808997:e[14]>1e-35?Ve=.020257942633657516:e[17]>1e-35?Ve=.02379466680602821:e[7]>.26911173821332884?Ve=.004563013176326579:Ve=-.006044878247080096:e[208]>1e-35?e[1]>1e-35?Ve=.016583051243963785:Ve=-.005473696128326885:e[53]>1e-35?Ve=-.07392011100318682:e[3]>4.840234496705036?Ve=-.022277334024938686:e[49]>1e-35?Ve=-.04140311782670083:e[40]>1e-35?Ve=-.041278341040658334:e[156]>1e-35?Ve=-.01087788432462589:e[8]>1e-35?e[141]>1e-35?Ve=.032404890147508435:Ve=-.008762958389316138:e[153]>1e-35?e[18]>1e-35?Ve=.03064796696780178:e[19]>1e-35?Ve=.025912082684934896:e[7]>.9033253454895247?Ve=.00010665286308939541:Ve=-.019390651252802232:e[133]>1e-35?Ve=-.013215417920201165:e[35]>1e-35?Ve=-.07409193965805899:e[16]>1e-35?Ve=.010595288788401727:Ve=.0004445963442680354:e[19]>1e-35?Ve=.043800560164078434:e[62]>1e-35?Ve=.08440762960688118:e[123]>1e-35?Ve=.04196062757398021:e[44]>1e-35?e[7]>.9880960409521241?Ve=-.14025705728324367:Ve=.07605327900446729:Ve=-.030453882536033008;let tt;e[14]>1e-35?e[134]>1e-35?tt=.03807815059641535:tt=.007895137847547357:e[39]>1e-35?tt=-.019172673927560828:e[138]>1e-35?tt=.009207480510332959:e[152]>1e-35?e[10]>1e-35?tt=.029310247627617716:tt=.006422126177312616:e[3]>3.5114340430413216?e[155]>1e-35?tt=.02869511059037871:e[137]>1e-35?tt=.048763707543632046:e[218]>1e-35?tt=.0393143924208134:tt=-.0065205942363783:e[4]>2.4414009612931857?e[113]>1e-35?tt=.016047178137914484:e[35]>1e-35?tt=-.09486179869071369:e[118]>1e-35?tt=-.032706818831570415:e[0]>1e-35?tt=.004733859562945298:tt=-4345884264792552e-20:e[29]>1e-35?e[204]>1e-35?e[4]>2.3502401828962087?tt=-.23804773582311067:tt=.0015066742334155967:e[194]>1e-35?e[4]>1.7005986908310777?tt=-.013296404682101122:tt=-.14340192620927933:e[196]>1e-35?tt=-.17446678790111786:tt=-.01140535620661492:e[141]>1e-35?tt=-.03362328403627273:e[99]>1e-35?tt=.02082592497315901:e[196]>1e-35?tt=.02125156827172031:e[204]>1e-35?tt=.018738441981476887:e[194]>1e-35?tt=.022230335367621302:e[114]>1e-35?tt=.017460982004618885:e[210]>1e-35?e[11]>1e-35?tt=-.07421933796695453:tt=-.02600449772874995:e[62]>1e-35?tt=.0435295764572802:tt=-.0036358741919687645;let Ct;e[2]>4.749261159734808?e[5]>6.826002629905951?e[29]>1e-35?Ct=-.012866931871530748:e[47]>1e-35?Ct=-.06511122680099479:Ct=-.0033152297369715466:e[1]>1e-35?Ct=.00634942519508748:Ct=-.008516826211528918:e[6]>6.1537953943602615?e[11]>1e-35?e[121]>1e-35?e[1]>1e-35?Ct=-.06214080664476329:Ct=.037029947625630194:e[47]>1e-35?Ct=-.08203414630098728:Ct=-.0044122376347199765:e[15]>1e-35?e[30]>1e-35?Ct=.012452689013210465:Ct=-.011970977023212193:e[10]>1e-35?e[152]>1e-35?Ct=.02888624440861723:Ct=-.0026872248277927456:e[27]>1e-35?Ct=-.01471521834054285:e[21]>1e-35?Ct=-.014970363019863132:e[13]>1e-35?Ct=-.0057151868439017945:e[38]>1e-35?Ct=.01633003881478886:Ct=.005850603591179588:e[113]>1e-35?e[5]>3.979637980058199?Ct=.006600693642185256:e[6]>3.1984648276080736?Ct=.07576534772024612:Ct=-.013028252220942527:e[204]>1e-35?e[9]>1e-35?e[6]>3.9219243190762363?Ct=.01266221511189265:e[29]>1e-35?Ct=-.20167612409830682:Ct=.09361829582187109:Ct=.0016303497789744046:e[6]>4.310776603370241?Ct=-.0015960016142716584:e[141]>1e-35?e[2]>2.249904835165133?e[6]>2.970085626360216?Ct=-.05054316446311788:Ct=.06528096075929847:e[29]>1e-35?Ct=.07763431964140277:Ct=-.017239135292908336:Ct=-.011068823413100247;let Pt;e[91]>1e-35?Pt=-.03524202222673902:e[55]>1e-35?Pt=-.07505808762820981:e[47]>1e-35?Pt=-.026314216162986376:e[49]>1e-35?Pt=-.045488810456426665:e[54]>1e-35?Pt=-.06424779605129435:e[0]>1e-35?e[39]>1e-35?Pt=-.03267263134559766:e[46]>1e-35?Pt=-.049285436356671077:e[51]>1e-35?Pt=-.09277060040547602:e[4]>.8958797346140276?e[123]>1e-35?Pt=-.027164727231258436:e[7]>.4232249052377311?e[14]>1e-35?Pt=.021561483416797714:e[9]>1e-35?e[58]>1e-35?Pt=-.08387877475105178:Pt=.014404401501386124:Pt=.004694473365260974:Pt=-.0001897538693116325:Pt=-.017140588284242805:e[5]>9.119594757170685?e[3]>2.740319461670996?Pt=-.0007153953072197825:Pt=-.010378474356201449:e[8]>1e-35?e[5]>3.276966702012906?e[125]>1e-35?Pt=-.06966241558514917:e[4]>4.82429765145367?Pt=-.05703428861212874:Pt=-.007549683006633188:e[3]>1.2424533248940002?Pt=-.05340556429257431:Pt=.0524214727387076:e[22]>1e-35?Pt=-.012756524179901607:e[186]>1e-35?Pt=-.06578146880564559:e[208]>1e-35?Pt=.011189277267677045:e[11]>1e-35?e[58]>1e-35?Pt=-.05051984734793551:e[3]>1.2424533248940002?Pt=-.0002576217567062796:e[134]>1e-35?Pt=-.07452351335236179:Pt=-.010366062496356129:e[94]>1e-35?Pt=-.04206673603732986:Pt=.0017654268359667174;let yt;e[2]>2.3502401828962087?e[28]>1e-35?yt=.018743416209068924:e[142]>1e-35?yt=-.027628078748284907:e[4]>1.7005986908310777?e[123]>1e-35?yt=-.039485087567133176:e[48]>1e-35?yt=-.04707407726639779:e[49]>1e-35?yt=-.0644727439161007:e[47]>1e-35?yt=-.03586301268310228:e[52]>1e-35?yt=-.08213761833929575:e[60]>1e-35?yt=-.036939376764301805:e[22]>1e-35?yt=-.02264827779335228:e[153]>1e-35?e[24]>1e-35?yt=.03651632275248908:yt=-.010403215174169965:e[18]>1e-35?e[31]>1e-35?yt=.17011943799802248:yt=-.024083374989820074:e[147]>1e-35?yt=-.05792387046048145:e[39]>1e-35?yt=-.019000152117179:e[54]>1e-35?yt=-.09256681585621543:e[50]>1e-35?yt=-.06535283940797192:e[187]>1e-35?yt=-.023020538580498528:e[149]>1e-35?yt=-.09670391878996044:e[8]>1e-35?e[6]>5.865049616265698?yt=.0007122257672540384:yt=-.024203929126070334:e[55]>1e-35?yt=-.10687519344783902:e[21]>1e-35?yt=-.019836359134795922:yt=.0028141634686288143:e[153]>1e-35?yt=-.044827592367532504:yt=-.009894012855110334:e[140]>1e-35?e[18]>1e-35?yt=.060584003745668275:yt=-.015006980258423744:e[6]>5.161920636569023?e[125]>1e-35?yt=-.021624709427283298:yt=.0035264081894521636:yt=-.0030260520850755417;let $t;e[57]>1e-35?$t=-.06665941268716478:e[2]>5.4049245766661995?$t=-.0048763725607228565:e[17]>1e-35?$t=.012937023835595996:e[91]>1e-35?$t=-.032642493399923284:e[40]>1e-35?$t=-.04355571234278559:e[14]>1e-35?e[217]>1e-35?$t=-.030555708374197955:$t=.010895997063478696:e[1]>1e-35?e[99]>1e-35?$t=.016029829045206837:e[114]>1e-35?$t=.017475123428921584:e[139]>1e-35?$t=-.042037981483985604:e[210]>1e-35?e[29]>1e-35?$t=.015395913258454092:$t=-.024779051599098958:e[90]>1e-35?$t=-.09436512907953146:e[25]>1e-35?$t=-.0385103760507401:e[113]>1e-35?$t=.014955995782471:e[208]>1e-35?$t=.01363101947809469:$t=.0004708078358576994:e[29]>1e-35?$t=-.02567148566035587:e[217]>1e-35?$t=.017896286118860596:e[118]>1e-35?$t=-.04366196842115269:e[144]>1e-35?$t=-.04332564222613586:e[54]>1e-35?$t=-.08095356842154083:e[31]>1e-35?e[15]>1e-35?$t=-.12797365603832508:$t=.05407709367007049:e[56]>1e-35?$t=.030874690971051524:e[148]>1e-35?$t=-.06664437092250396:e[50]>1e-35?$t=-.05710031053092695:e[114]>1e-35?e[18]>1e-35?$t=-.12348764088627251:$t=-.014081947133593207:e[147]>1e-35?$t=-.044629298717173554:$t=-.000742893245658901;let Kt;e[138]>1e-35?Kt=.008266725465725232:e[1]>1e-35?e[37]>1e-35?Kt=-.06288072801700428:e[114]>1e-35?Kt=.01701875404216428:e[128]>1e-35?Kt=-.022207708344996902:e[113]>1e-35?e[24]>1e-35?Kt=.08078133512323216:Kt=.010126216487392538:e[11]>1e-35?e[58]>1e-35?Kt=-.0542116306120395:Kt=-.004962440421854299:e[155]>1e-35?e[30]>1e-35?Kt=.02107443326718807:Kt=-.01069225359959257:Kt=.0009105709984003484:e[218]>1e-35?Kt=.05160355321154702:e[134]>1e-35?Kt=.006114948378400552:e[121]>1e-35?Kt=.016106484014031797:e[89]>1e-35?Kt=.01912348851711998:e[56]>1e-35?Kt=.029777849606436514:e[157]>1e-35?Kt=.04060172642469715:e[31]>1e-35?Kt=.040190765597096945:e[115]>1e-35?Kt=.038285461163007885:e[144]>1e-35?Kt=-.04397941351839926:e[53]>1e-35?Kt=-.09153555712989248:e[34]>1e-35?Kt=.05063635650139542:e[145]>1e-35?Kt=-.05531793235403996:e[18]>1e-35?e[142]>1e-35?Kt=.050915836711889595:Kt=-.038668153033606156:e[142]>1e-35?Kt=-.03161888799270195:e[21]>1e-35?Kt=-.039152400008548416:e[147]>1e-35?Kt=-.06369054146375448:e[146]>1e-35?Kt=-.06687062048733548:e[143]>1e-35?Kt=-.0374398909044375:Kt=-.004075281311375503;let sr;e[19]>1e-35?sr=.011138060439416179:e[7]>.054053454943712505?e[17]>1e-35?e[30]>1e-35?sr=.031458353209402545:sr=.006712963530887799:e[135]>1e-35?sr=-.008268741342836259:e[60]>1e-35?sr=-.026373116795568554:e[7]>.8375851232899904?e[3]>2.602003343538398?e[6]>4.832297822126891?sr=.001164103411669833:e[8]>1e-35?sr=-.04419920795209664:sr=-.007580602414427876:e[6]>3.417592293073651?e[6]>8.80963889693121?sr=-.00653283113371423:e[8]>1e-35?e[125]>1e-35?sr=-.10156793652811894:sr=-.004200534838133274:e[18]>1e-35?sr=-.01192673279840267:sr=.007421951916920296:e[7]>.9626084674797213?e[29]>1e-35?e[6]>2.970085626360216?sr=-.0032059430383565256:sr=.05159315082197918:e[8]>1e-35?sr=-.0890031715943104:e[22]>1e-35?sr=-.16814104441488775:e[12]>1e-35?e[100]>1e-35?sr=.1021284677424052:sr=-.13655977142603173:sr=.09393254504800182:sr=-.0008030674521708154:e[153]>1e-35?e[18]>1e-35?sr=.028570793527563892:sr=-.01146507406243734:e[125]>1e-35?e[3]>1e-35?sr=-.04344386283066575:sr=.049543778722220704:e[47]>1e-35?sr=-.025602694767462936:sr=41633336342102227e-21:e[3]>2.3502401828962087?e[3]>3.3497501700808394?sr=-.018924000087166926:sr=.005374758944061522:e[14]>1e-35?sr=.02825013192303339:sr=-.028367959366723622;let ge;e[190]>1e-35?ge=-.033259392758942484:e[4]>2.4414009612931857?e[123]>1e-35?ge=-.030965448877928344:e[150]>1e-35?ge=-.05353588365501967:e[53]>1e-35?ge=-.07322459471644706:e[0]>1e-35?e[6]>6.9012339353508745?ge=.007566110700214329:e[4]>3.0677824455408698?e[7]>.5242163672259389?e[8]>1e-35?e[6]>4.722943345003718?ge=-.00508197369229565:e[4]>3.5694334999727624?ge=-.09566908841488272:ge=-.009799018561370653:e[29]>1e-35?ge=.01134634874419129:ge=-.008480456528154491:ge=-.010775036248093376:ge=.006611525544742429:e[23]>1e-35?ge=.01761735039511882:e[19]>1e-35?ge=.01278442042249664:ge=-.0002242132003162585:e[186]>1e-35?ge=-.1282956565830828:e[99]>1e-35?ge=.018493666625505303:e[141]>1e-35?ge=-.026024552608676074:e[29]>1e-35?e[5]>3.5694334999727624?e[217]>1e-35?ge=.010089877008871859:e[7]>.9569480028661056?ge=-.0021891593882122327:ge=-.019455050281455402:e[7]>.960816451500545?ge=-.13777176433158442:ge=.02722608122697913:e[28]>1e-35?e[194]>1e-35?ge=.09549833737461155:ge=.012447932823540411:e[129]>1e-35?e[26]>1e-35?ge=.147381625399948:ge=-.03418523266130075:e[7]>.26911173821332884?ge=.0014660191124088442:e[217]>1e-35?ge=-.08282397562490618:e[210]>1e-35?ge=-.0386848317545183:ge=-.001892646396528824;let Qe;e[57]>1e-35?Qe=-.059790543460520464:e[55]>1e-35?Qe=-.06524069243313577:e[3]>4.283562780082224?e[37]>1e-35?Qe=-.054605342954169904:Qe=-.006343751747681404:e[17]>1e-35?Qe=.011961708215735271:e[40]>1e-35?Qe=-.04296088601962452:e[6]>1e-35?e[24]>1e-35?e[113]>1e-35?e[6]>4.460127707454046?Qe=-.026498922218692673:Qe=.10501477027016158:e[6]>4.03420147928485?Qe=.012792216148037112:e[7]>.9830997303909479?Qe=-.2271005546552327:Qe=-.008348690537914538:e[9]>1e-35?e[153]>1e-35?e[7]>.20588252599634785?Qe=-.004842123367456505:Qe=-.03575275485660392:e[99]>1e-35?e[1]>1e-35?Qe=.032397176999597294:Qe=-.0033271937210452387:e[204]>1e-35?Qe=.02154799118278769:Qe=.0034498877728340095:e[28]>1e-35?e[6]>3.0677824455408698?e[6]>5.5816130673839615?Qe=.01602715871650751:e[7]>.9901971344332651?e[194]>1e-35?Qe=-.21161676626091178:e[127]>1e-35?Qe=-.4024450297968636:Qe=-.030976570087232314:Qe=.0031980605341801454:Qe=.07943810970798848:e[135]>1e-35?Qe=-.00869354055420051:e[123]>1e-35?Qe=-.022241787113206086:e[62]>1e-35?Qe=.037165483434744594:e[7]>.04507521918085865?e[21]>1e-35?Qe=-.013433718654288605:e[155]>1e-35?Qe=.00919342834132915:Qe=-.0002729025327531227:Qe=-.012537468897218136:Qe=-.07894994665155514;let Je;e[4]>.8958797346140276?e[14]>1e-35?Je=.007800140351631253:e[138]>1e-35?Je=.007294945388686309:e[1]>1e-35?e[32]>1e-35?e[28]>1e-35?Je=.09462192942805535:Je=-.06376046128949985:e[37]>1e-35?Je=-.06442220885770956:e[140]>1e-35?e[30]>1e-35?Je=-.09261012186873348:Je=-.015294712278584928:e[98]>1e-35?Je=.019329173498247088:e[58]>1e-35?Je=-.026405515460271967:e[5]>8.608586615680721?e[4]>2.602003343538398?Je=6125118307170923e-20:Je=-.009497787119169794:e[40]>1e-35?Je=-.05491317248554455:e[7]>.30853255358841714?Je=.003951848833690266:Je=-.0021827028977256715:e[219]>1e-35?Je=-.03918852409108207:e[98]>1e-35?Je=-.025490621458423603:e[218]>1e-35?Je=.04685239586600909:e[4]>2.970085626360216?e[152]>1e-35?Je=.019288400231624092:e[132]>1e-35?Je=.04845025214421127:e[157]>1e-35?Je=.03681235344369351:e[18]>1e-35?Je=-.034132162265456074:e[48]>1e-35?Je=-.04861483835690636:e[142]>1e-35?Je=-.031057400959951156:e[148]>1e-35?Je=-.06903688486009983:Je=-.004426858558248682:e[31]>1e-35?Je=.06983425899920179:Je=.002335587968443938:e[19]>1e-35?Je=.04178364096434334:e[123]>1e-35?Je=.03954255208630935:e[62]>1e-35?Je=.07169067239737285:Je=-.022094630155173406;let rt;e[190]>1e-35?rt=-.029705030481716018:e[2]>2.4414009612931857?e[125]>1e-35?e[3]>1e-35?rt=-.052080713549693486:rt=.015237248725743169:e[49]>1e-35?rt=-.05738028956460733:e[28]>1e-35?rt=.015629889576502864:e[14]>1e-35?rt=.007178838639724632:e[217]>1e-35?rt=.006873744757442591:e[3]>.8958797346140276?rt=-.0009297977761919447:e[4]>2.740319461670996?rt=-.0032588616048005344:e[209]>1e-35?rt=-.09352716353634213:rt=-.015820890219545396:e[0]>1e-35?e[2]>.8958797346140276?e[30]>1e-35?rt=.019248760742983276:e[3]>2.861792550976191?e[6]>8.372051799062541?rt=.011687619771455333:rt=-.014380012538782239:rt=.007119108038702808:e[5]>4.424828703319957?e[3]>2.249904835165133?rt=-.004571416888569663:e[4]>.8958797346140276?e[2]>1e-35?rt=.03291298609827498:rt=.056149641245301286:e[6]>5.66469358412419?rt=.03259771207074825:rt=-.09357704176112766:e[135]>1e-35?e[4]>3.1132683346437333?e[4]>3.276966702012906?rt=-.061655392996083594:rt=-.32745698278768204:rt=.05791789791717941:rt=-.018505458368810124:e[2]>1.2424533248940002?rt=.0026761409362875913:e[3]>1e-35?e[30]>1e-35?e[210]>1e-35?rt=-.039544237504098204:rt=-.00840469876565937:e[138]>1e-35?rt=-.03964217397514852:rt=-4311139741723525e-22:e[5]>6.136645972583987?rt=-.022772355719852342:rt=.00817231129409795;let St;e[91]>1e-35?St=-.028069212077752072:e[2]>5.1209788959100075?e[25]>1e-35?e[4]>3.314020688089767?St=-.07374751231467579:St=-.012603466600012023:St=-.003323309316995181:e[0]>1e-35?e[2]>1.2424533248940002?e[11]>1e-35?St=-.008138434386494645:e[2]>1.8688348091416842?e[18]>1e-35?St=-.021752576521312197:e[142]>1e-35?St=-.03703704004008216:e[21]>1e-35?St=-.031901873695323615:St=.0007949433315561949:e[156]>1e-35?St=.04622194605125366:St=.007164185384903575:e[156]>1e-35?St=.05649230717257425:e[192]>1e-35?St=-.14560972428612223:e[144]>1e-35?St=-.0847860756426489:e[4]>.8958797346140276?e[2]>.8958797346140276?St=.009443385055723438:e[9]>1e-35?St=.0384706300742172:e[7]>.9738681190948303?e[7]>.9983480540068196?St=.03566002120217884:e[125]>1e-35?St=-.08601531943220733:e[28]>1e-35?St=-.07136595081940608:St=.005430826378707227:St=.026279964393698674:e[2]>.8958797346140276?St=.025916235406054845:St=-.05093685243097706:e[2]>.8958797346140276?e[4]>2.4414009612931857?e[22]>1e-35?St=-.018458649485324576:e[123]>1e-35?St=-.027048533130577097:e[9]>1e-35?St=.005768627348361876:St=.0011976274380886302:e[196]>1e-35?St=.024074476840894424:St=-.0040891042038809855:e[156]>1e-35?St=-.03722816735059365:St=-.004021663177778795;let bt;e[57]>1e-35?bt=-.054174378986311306:e[55]>1e-35?bt=-.05937408126377534:e[35]>1e-35?bt=-.06355743050048665:e[52]>1e-35?bt=-.049028563645544726:e[10]>1e-35?e[152]>1e-35?bt=.023779508772836917:e[217]>1e-35?bt=.00760039749111183:bt=-.005758267779536595:e[6]>1e-35?e[50]>1e-35?bt=-.03899686693288482:e[53]>1e-35?bt=-.06158372699069763:e[19]>1e-35?bt=.009506113370718208:e[154]>1e-35?bt=-.021220440237800273:e[129]>1e-35?e[26]>1e-35?bt=.12643307498280917:bt=-.02322694568396696:e[49]>1e-35?bt=-.03489161935560748:e[173]>1e-35?bt=-.041310484369004336:e[116]>1e-35?bt=-.026931019221510855:e[150]>1e-35?bt=-.04336081700276943:e[46]>1e-35?bt=-.01503021840754708:e[21]>1e-35?bt=-.011723313966476847:e[187]>1e-35?e[30]>1e-35?bt=.029035482597327224:bt=-.020238143126606493:e[22]>1e-35?bt=-.0092659038594408:e[6]>8.954867306462836?bt=-.002270298325316596:e[25]>1e-35?e[1]>1e-35?e[152]>1e-35?bt=.025059955137215612:bt=-.058962720741665454:bt=4061285457160542e-20:e[7]>.787025207541384?bt=.0045073893285534905:e[156]>1e-35?bt=-.00956127321029558:e[153]>1e-35?bt=-.006428735642845697:bt=.0020065887307204903:bt=-.07142994726664682;let Qt;e[190]>1e-35?Qt=-.026482483927372538:e[11]>1e-35?e[153]>1e-35?Qt=-.019448665116575673:e[46]>1e-35?Qt=-.046207503035123526:e[143]>1e-35?Qt=-.060693025841649276:e[125]>1e-35?Qt=-.0635615784828548:Qt=-.0020226769939179086:e[10]>1e-35?e[152]>1e-35?Qt=.021657999498329004:e[217]>1e-35?Qt=.006867901248533881:e[186]>1e-35?Qt=-.17526174685635476:e[7]>.3736576099860928?e[125]>1e-35?Qt=-.06860813037660739:Qt=-.0030373931794416857:e[153]>1e-35?Qt=-.036659407900460406:Qt=-.009138716679401575:e[8]>1e-35?e[141]>1e-35?Qt=.022488528656368925:Qt=-.004824813956579289:e[155]>1e-35?e[29]>1e-35?Qt=-.0923825728762917:Qt=.013279779321478072:e[13]>1e-35?e[29]>1e-35?Qt=-.02015430689927317:Qt=-.0014075476679032272:e[21]>1e-35?Qt=-.010052866682366596:e[15]>1e-35?e[127]>1e-35?Qt=-.11613127921904604:Qt=-.004425492436566155:e[61]>1e-35?Qt=-.04761391619756717:e[38]>1e-35?Qt=.010790742168686546:e[138]>1e-35?e[25]>1e-35?Qt=-.03936956646884221:Qt=.012187893435100131:e[18]>1e-35?e[46]>1e-35?Qt=.052404637972043124:e[29]>1e-35?e[219]>1e-35?Qt=-.026128288926960785:Qt=.01402455905339408:Qt=-.018095204676971146:Qt=.002238241111198228;let Ot;e[3]>4.993822430271426?Ot=-.021704560089024494:e[39]>1e-35?Ot=-.012978601337522922:e[57]>1e-35?Ot=-.04850734344953324:e[190]>1e-35?Ot=-.02323817835232452:e[55]>1e-35?Ot=-.054265924680079236:e[144]>1e-35?Ot=-.020797331827991154:e[52]>1e-35?Ot=-.04407078296749134:e[50]>1e-35?Ot=-.03531075513550682:e[14]>1e-35?e[217]>1e-35?Ot=-.02603818360896512:Ot=.00845420085528292:e[90]>1e-35?e[3]>3.5114340430413216?Ot=.010289606334961197:Ot=-.10259966877314837:e[139]>1e-35?Ot=-.01903913128660918:e[17]>1e-35?e[30]>1e-35?Ot=.027295226228104732:e[38]>1e-35?Ot=.036847447575421244:e[3]>2.861792550976191?Ot=-.016454620470329126:Ot=.010475083165212631:e[19]>1e-35?Ot=.008675111927467:e[40]>1e-35?Ot=-.036362054443170776:e[9]>1e-35?Ot=.0031294075955568394:e[123]>1e-35?Ot=-.02131953072683769:e[24]>1e-35?e[113]>1e-35?e[3]>2.602003343538398?Ot=-.005045224468848018:e[3]>2.3502401828962087?Ot=.1006727710215487:Ot=-.21606952724358763:e[209]>1e-35?Ot=-.07903381656359819:Ot=.0099843967860757:e[28]>1e-35?Ot=.009909672751437115:e[155]>1e-35?e[3]>3.941534675652877?Ot=.04961274235179155:Ot=.005113567009198253:e[158]>1e-35?Ot=.031566828492110836:Ot=-.0012534895812835874;let wt;e[4]>2.4414009612931857?e[123]>1e-35?wt=-.022743199998420272:e[47]>1e-35?wt=-.02199867034393067:e[3]>3.238486181444842?e[155]>1e-35?wt=.015256601991879549:e[23]>1e-35?wt=.01997791344831838:e[97]>1e-35?wt=.024977281654938052:e[218]>1e-35?wt=.031730655567930977:e[32]>1e-35?e[1]>1e-35?wt=-.05855958691798028:wt=-.009630189044251312:e[195]>1e-35?wt=-.009842090802252708:e[125]>1e-35?wt=-.030084333742373532:wt=-.0009935375527704107:e[135]>1e-35?wt=-.006040875366017567:e[43]>1e-35?wt=-.03616920022546756:e[44]>1e-35?wt=-.014787601622259254:e[0]>1e-35?wt=.005949240867095038:wt=.0018435357767462809:e[141]>1e-35?e[3]>1e-35?wt=-.030610116678182732:wt=.01960307197844505:e[3]>1.2424533248940002?e[101]>1e-35?wt=-.04366907994393087:e[28]>1e-35?e[194]>1e-35?wt=.0927536258129216:wt=.00806369969474508:e[198]>1e-35?wt=.03402296877725087:wt=-.00033907517363096143:e[194]>1e-35?e[19]>1e-35?wt=-.16957712930341856:e[28]>1e-35?wt=-.2078243840685859:wt=-.01982072284112783:e[134]>1e-35?wt=-.059093837808976674:e[155]>1e-35?wt=-.11429749518431415:e[1]>1e-35?e[123]>1e-35?wt=.04159085402090426:wt=-.0053579302271092874:wt=-.038428527597709254;let kt;e[2]>2.249904835165133?e[53]>1e-35?kt=-.09149569302330776:e[142]>1e-35?kt=-.020143603866796752:e[29]>1e-35?e[1]>1e-35?e[4]>2.740319461670996?e[0]>1e-35?kt=-.005838073295705989:kt=.0025448179376697196:e[217]>1e-35?kt=.010391363152324442:e[6]>3.9219243190762363?e[7]>.9546729796082215?kt=.00016709708501075782:kt=-.019274537854809464:e[7]>.9717523368299734?e[2]>4.848108675189105?kt=.0038332904395533517:e[141]>1e-35?e[6]>3.0677824455408698?kt=-.12592300140122323:kt=-1.2073741246841418:kt=-.17682453022795175:kt=-.004373737265888883:kt=-.032810714691009164:e[18]>1e-35?kt=-.024280045660709612:e[156]>1e-35?kt=-.023509654115095334:e[1]>1e-35?e[141]>1e-35?kt=-.032438707623116556:e[32]>1e-35?kt=-.061272201063817755:kt=.004415514992097752:kt=-.0017176659108089432:e[0]>1e-35?e[6]>6.288787065535392?e[2]>.8958797346140276?kt=.008680085548304642:e[29]>1e-35?kt=.03767506445697859:kt=-.0007537359215762705:e[4]>.8958797346140276?kt=.0002799056937607271:kt=-.039667032027283916:e[2]>1.2424533248940002?kt=.002506908961838236:e[29]>1e-35?e[7]>.950335336459789?kt=.0027367426972748597:kt=-.021265206402010337:e[30]>1e-35?e[210]>1e-35?kt=-.03496264625173957:kt=-.007705718616493613:e[138]>1e-35?kt=-.035840689909527164:kt=.0006855012949462712;let _t;e[2]>5.418317700738354?e[5]>6.0051201133541365?e[156]>1e-35?_t=-.024776046248283234:_t=-.004761578172448051:e[8]>1e-35?_t=-.025343070913887773:_t=.012224469039913016:e[150]>1e-35?_t=-.04079051452350429:e[10]>1e-35?e[152]>1e-35?_t=.019743419118584654:e[186]>1e-35?_t=-.15575093795294756:e[217]>1e-35?_t=.0056968023991711995:_t=-.004356449942923164:e[5]>6.0051201133541365?e[125]>1e-35?_t=-.01597803134795572:e[151]>1e-35?_t=-.05058454115923059:e[50]>1e-35?_t=-.03619853041443809:e[49]>1e-35?_t=-.03261722685392842:e[24]>1e-35?_t=.011909155984778505:e[2]>2.012675845367575?_t=.0004933624031973823:e[219]>1e-35?_t=.015579421213152617:_t=.002812703494519415:e[113]>1e-35?e[24]>1e-35?_t=.09675188599473092:_t=.0008025077587732017:e[204]>1e-35?e[9]>1e-35?e[5]>3.772694874805912?_t=.02609533140492082:e[29]>1e-35?_t=-.21256031284758028:_t=.09442590919716193:_t=-.004086903422513798:e[24]>1e-35?e[5]>3.979637980058199?_t=-.011071875945121415:e[209]>1e-35?_t=-.19367443751378252:_t=-.04414838576908475:e[178]>1e-35?_t=-.06538606241685795:e[100]>1e-35?e[5]>3.772694874805912?_t=-.01294941588968201:e[5]>2.673553765358735?_t=.08150000027300734:_t=-.08989919051554107:_t=-.0032151101072856354;let qt;e[35]>1e-35?qt=-.05704221149718709:e[91]>1e-35?qt=-.023832002943165256:e[102]>1e-35?qt=.015441451551750014:e[3]>4.993822430271426?qt=-.020159490027748073:e[4]>2.3502401828962087?e[144]>1e-35?qt=-.022873219553742163:e[22]>1e-35?qt=-.01287591196884623:e[47]>1e-35?e[18]>1e-35?qt=.07657102696661595:qt=-.0243921910773003:e[150]>1e-35?qt=-.043982850497096056:e[138]>1e-35?e[25]>1e-35?qt=-.03740348349716821:qt=.008237493112057112:e[49]>1e-35?qt=-.03254806921800082:e[53]>1e-35?qt=-.057370285686186163:e[3]>4.085941003063911?e[37]>1e-35?qt=-.04084726667137505:e[155]>1e-35?qt=.0323666619020495:qt=-.0038866525930422893:e[118]>1e-35?e[18]>1e-35?qt=-.0975422096275863:qt=-.014038224866250074:e[136]>1e-35?qt=-.03199938604211209:qt=.0014268928516615767:e[99]>1e-35?qt=.018668567929263327:e[5]>7.334002872979111?e[156]>1e-35?qt=-.05380541629812827:e[210]>1e-35?e[30]>1e-35?qt=-.047112416583853595:qt=.00900546030963941:e[208]>1e-35?qt=.02334424121914086:e[158]>1e-35?qt=.04595592178250823:qt=-.006709820970668842:e[204]>1e-35?e[5]>3.772694874805912?qt=.009489783712825852:e[3]>2.249904835165133?qt=.09999429949553015:qt=-.03961464289941561:qt=-.001190853283470586;let Ht;e[39]>1e-35?Ht=-.011391872842603505:e[190]>1e-35?Ht=-.021093147889461955:e[51]>1e-35?e[18]>1e-35?Ht=.08723256651643213:Ht=-.04233732133209843:e[19]>1e-35?Ht=.008078856044745801:e[4]>.8958797346140276?e[60]>1e-35?Ht=-.022165860715145688:e[129]>1e-35?e[3]>3.314020688089767?Ht=.019990677612126993:Ht=-.035520772730423776:e[153]>1e-35?e[2]>.8958797346140276?Ht=-.006946377120973384:e[0]>1e-35?e[8]>1e-35?e[5]>5.692045796563381?Ht=.04230611914121616:Ht=-.1152833284663223:Ht=.03987788751961305:Ht=-.02748865099804465:e[46]>1e-35?e[18]>1e-35?Ht=.047655531405650486:Ht=-.022707509947190632:e[18]>1e-35?e[3]>.8958797346140276?e[31]>1e-35?Ht=.1425984397283696:e[143]>1e-35?Ht=.05597721538261218:Ht=-.02117927246804007:Ht=.011077153043550766:e[143]>1e-35?Ht=-.0158979963012007:e[187]>1e-35?e[30]>1e-35?Ht=.02515771028113912:Ht=-.019084229614362958:e[49]>1e-35?e[1]>1e-35?Ht=.014623537050735559:Ht=-.05320125987679328:e[58]>1e-35?e[3]>3.1132683346437333?Ht=.021421346835282216:Ht=-.03287702034784505:e[16]>1e-35?Ht=.008645735809593434:e[3]>4.993822430271426?Ht=-.01889537207927676:Ht=.00131546333396141:e[153]>1e-35?Ht=-.09822789507794744:Ht=-.010292962989428067;let Jt;e[11]>1e-35?e[156]>1e-35?e[4]>3.1132683346437333?Jt=-.009153166060719259:Jt=-.035386636811765286:e[58]>1e-35?Jt=-.03881024236774208:e[153]>1e-35?e[7]>.12645023619128054?Jt=-.01286680669029116:Jt=-.0573874491021103:e[3]>3.276966702012906?e[38]>1e-35?Jt=-.03084033316462023:Jt=-.00517175216868761:e[195]>1e-35?Jt=.01773824295809578:e[131]>1e-35?Jt=-.17828043850421407:Jt=.0005554487984838318:e[7]>.14547530463198097?e[105]>1e-35?Jt=-.018589129226123456:e[116]>1e-35?Jt=-.0227108777687536:e[24]>1e-35?Jt=.009520152980411787:e[135]>1e-35?Jt=-.004364970908897872:e[0]>1e-35?e[18]>1e-35?Jt=-.015737703364129243:Jt=.003711277180349787:e[12]>1e-35?e[4]>3.540854293052788?e[155]>1e-35?Jt=.04655165952772795:Jt=.009321761971665682:e[210]>1e-35?Jt=.018839890489201528:e[129]>1e-35?Jt=-.03111680952187252:Jt=.0002649813454447912:e[23]>1e-35?Jt=.014110539528977999:e[109]>1e-35?Jt=.014168740682742625:Jt=-.0008607565404007093:e[3]>2.3502401828962087?e[9]>1e-35?e[4]>3.3842466058243152?Jt=-.004252607769147212:Jt=.02017003996344357:e[16]>1e-35?Jt=.01594899805169211:Jt=-.006372071796745688:e[12]>1e-35?Jt=-.0251011457777017:e[121]>1e-35?Jt=-.07822588279288774:Jt=-.005026529762858;let ur;e[7]>.8375851232899904?e[155]>1e-35?e[3]>1.2424533248940002?ur=.014982109981371684:ur=-.08302064203662592:e[3]>2.602003343538398?e[125]>1e-35?ur=-.02862612402789537:ur=-.0004831913476108919:e[42]>1e-35?ur=-.08030278175390543:e[90]>1e-35?ur=-.11931838045625616:ur=.003328726909052652:e[125]>1e-35?e[3]>1e-35?ur=-.03347653784336098:ur=.0381767649776156:e[3]>2.4414009612931857?e[3]>3.1132683346437333?e[137]>1e-35?ur=.04078434374172937:e[130]>1e-35?ur=.04811471469938318:e[152]>1e-35?ur=.012079515899716571:e[23]>1e-35?ur=.017817807971301534:e[122]>1e-35?ur=.049338146544587284:e[115]>1e-35?ur=.026905923036994708:e[10]>1e-35?ur=-.008135082370740723:e[89]>1e-35?ur=.023584069012120446:e[95]>1e-35?ur=.013988944683250695:ur=-.002584756192745314:e[139]>1e-35?ur=-.04454469703180858:e[99]>1e-35?e[3]>2.524928003624769?ur=.010620580427538877:ur=.047779724434429495:e[131]>1e-35?ur=-.08155143867377633:ur=.0031488702256745843:e[7]>.06275229375044648?e[99]>1e-35?ur=.016956254821045937:e[90]>1e-35?ur=-.11685880917620971:e[210]>1e-35?e[11]>1e-35?ur=-.040607887814632475:ur=-.006287900824728332:ur=-.0018997472673294537:e[14]>1e-35?ur=.02358706984105576:ur=-.01737075534918072;let gr;e[6]>1e-35?e[2]>5.4049245766661995?e[5]>6.441743353550561?e[29]>1e-35?e[4]>2.673553765358735?gr=-.007517267159018327:gr=-.02379463821120899:gr=-.0026543290628044274:e[8]>1e-35?gr=-.022865480180725452:gr=.009005117181880752:e[6]>5.161920636569023?e[0]>1e-35?e[2]>.8958797346140276?e[2]>2.012675845367575?e[3]>2.3502401828962087?gr=.0021573820428423146:gr=-.0046125093600082965:e[3]>3.314020688089767?gr=-.005566488595229649:e[6]>6.288787065535392?gr=.012796965207082116:gr=-.0023971957228440767:e[3]>2.249904835165133?e[2]>1e-35?gr=-.0003832411399288501:e[1]>1e-35?gr=-.03148874544425103:gr=-.3158553329522586:e[2]>1e-35?gr=.025981575700247922:gr=.052944809618023905:e[6]>8.681774988134558?e[3]>2.970085626360216?gr=-.0005280655103032829:gr=-.009402467452152188:e[2]>.8958797346140276?gr=.0018798828715775142:e[3]>1.7005986908310777?gr=-.0002583719758369029:gr=-.014467497542301198:e[128]>1e-35?gr=-.03075061856353219:e[3]>3.0201273556387074?e[8]>1e-35?gr=-.03107874404542307:gr=-.0063178690978266385:e[113]>1e-35?e[24]>1e-35?gr=.10168122236339333:gr=.0027676566086997536:e[100]>1e-35?e[3]>1.4978661367769956?gr=-.019182725682091863:e[3]>1.2424533248940002?gr=.10007959215270637:gr=-.049901874168813753:e[12]>1e-35?gr=-.008354674563617942:gr=.000556773623388255:gr=-.06338083699889271;let lr;e[14]>1e-35?e[5]>7.841296344941067?e[217]>1e-35?lr=-.03452197748259044:e[141]>1e-35?lr=-.05526745933972476:lr=.003096257901065188:lr=.013468654879205778:e[90]>1e-35?lr=-.04633994478668718:e[7]>.04507521918085865?e[39]>1e-35?lr=-.011427282692256308:e[188]>1e-35?lr=-.11824461537515621:e[17]>1e-35?e[5]>3.276966702012906?lr=.009014346731620665:lr=-.10784986305366669:e[102]>1e-35?lr=.014356846380168074:e[109]>1e-35?lr=.0100955463134877:e[31]>1e-35?lr=.025672511171270042:e[127]>1e-35?lr=-.10904631172619624:e[19]>1e-35?lr=.007015456473363717:e[60]>1e-35?lr=-.02409044800892067:e[217]>1e-35?e[7]>.9914949911911836?lr=.02334115299069277:e[1]>1e-35?lr=-29013080593250377e-21:lr=.014307421165143329:e[1]>1e-35?e[42]>1e-35?lr=-.06673983904970003:e[37]>1e-35?lr=-.05636396687178933:e[32]>1e-35?lr=-.042854874962508754:e[140]>1e-35?lr=-.014546243613252019:e[119]>1e-35?lr=.02592806792359847:lr=.0008331579108247542:e[12]>1e-35?lr=.004348565717870661:e[195]>1e-35?lr=-.016064193157584304:e[210]>1e-35?lr=-.01896835246692864:e[122]>1e-35?lr=.06415669138405272:e[219]>1e-35?lr=-.03191239858069586:lr=-.0022170295258555585:lr=-.00965022020696389;let fr;e[55]>1e-35?fr=-.04649484416236924:e[6]>1e-35?e[35]>1e-35?fr=-.04814595674860986:e[173]>1e-35?fr=-.030965289355370126:e[190]>1e-35?fr=-.01892908615035444:e[50]>1e-35?fr=-.03023310323845746:e[14]>1e-35?e[134]>1e-35?fr=.029102388421738776:e[217]>1e-35?fr=-.021829759931582565:fr=.005209049556942947:e[90]>1e-35?e[3]>3.276966702012906?fr=.007482519637019732:e[28]>1e-35?fr=.08823476156200263:fr=-.1134870648564767:e[17]>1e-35?e[5]>3.156774023138548?e[3]>2.861792550976191?e[134]>1e-35?fr=.037573808092493166:fr=-.008120569804875069:fr=.015185866424900767:fr=-.10150107137017012:e[39]>1e-35?fr=-.011108691883331833:e[4]>2.4414009612931857?e[123]>1e-35?fr=-.019406534412652932:e[22]>1e-35?fr=-.011646225036274034:e[118]>1e-35?e[1]>1e-35?fr=.007977856608752276:fr=-.038946271309380914:fr=.0009257226566265858:e[101]>1e-35?e[6]>5.769881059461895?fr=-.06484570063989317:fr=.016294764421436982:e[29]>1e-35?e[204]>1e-35?e[5]>5.859359688974663?fr=.036329398743295674:fr=-.20474934656494398:e[4]>1.7005986908310777?fr=-.0005630875641286038:e[5]>3.5694334999727624?e[19]>1e-35?fr=.03322386202318951:fr=-.01687696637036405:fr=-.10533305728771972:fr=-.0004901077590279651:fr=-.05758869249681345;let rr;e[57]>1e-35?rr=-.043478488738181505:e[53]>1e-35?rr=-.05188532777589009:e[11]>1e-35?e[156]>1e-35?rr=-.01733439245316815:e[58]>1e-35?rr=-.03508850349398082:e[134]>1e-35?e[38]>1e-35?e[3]>3.156774023138548?rr=-.02641618586067251:rr=.0053883499998111746:rr=-.04111067521339709:e[46]>1e-35?rr=-.03960880739147387:e[56]>1e-35?rr=.02833430038101972:e[3]>4.548585836935273?rr=-.028156779064728323:rr=-.0006287807275955149:e[105]>1e-35?rr=-.018589321466431944:e[187]>1e-35?e[30]>1e-35?rr=.021938681282791916:rr=-.016917430307970042:e[7]>.015258684697466883?e[132]>1e-35?rr=.026815659384164206:e[204]>1e-35?e[7]>.992067132663463?rr=-.010565408217521758:e[7]>.9738681190948303?e[9]>1e-35?e[30]>1e-35?rr=.09345774314045512:rr=-.003460687191126055:rr=.009778848673591349:rr=.006207652194161698:e[134]>1e-35?e[14]>1e-35?rr=.026940863472122597:rr=.004032635910042969:e[16]>1e-35?e[156]>1e-35?rr=-.014571620220052964:e[219]>1e-35?rr=.03394257525872151:e[189]>1e-35?rr=-.16441255476933125:rr=.006890416623408193:e[7]>.5866799179067689?e[156]>1e-35?e[9]>1e-35?rr=-.002374233797129139:rr=.015343494638416642:rr=.0007085956801478842:rr=-.0014226167854637043:rr=-.014931890774210171;let dr;e[52]>1e-35?dr=-.040552145534119004:e[88]>1e-35?dr=-.11616238297789526:e[147]>1e-35?e[21]>1e-35?dr=.08405882357263977:dr=-.028120036866471673:e[89]>1e-35?dr=.013417411709807947:e[138]>1e-35?e[25]>1e-35?dr=-.03104795267483152:e[8]>1e-35?dr=-.013793892541819341:dr=.007067793368543704:e[3]>4.212100162283537?e[37]>1e-35?dr=-.04169781427571004:e[59]>1e-35?dr=.039366779099462186:e[190]>1e-35?dr=-.0746572875957972:dr=-.0046665287028623895:e[31]>1e-35?e[3]>3.3497501700808394?dr=-.015043885860062665:dr=.04427790295514171:e[127]>1e-35?dr=-.09222397003880911:e[188]>1e-35?dr=-.11791399942046604:e[116]>1e-35?dr=-.022670774074606673:e[21]>1e-35?e[118]>1e-35?dr=-.08590814127371893:dr=-.009079159755287763:e[10]>1e-35?e[153]>1e-35?e[7]>.12025037553499339?dr=-.010834658570263708:dr=-.06942979142484561:e[59]>1e-35?dr=-.0368654965105411:e[186]>1e-35?dr=-.13585047638050318:dr=-.001475385731000911:e[11]>1e-35?e[47]>1e-35?dr=-.07021793045868131:e[58]>1e-35?dr=-.03264322466138671:e[153]>1e-35?e[7]>.4982752029697964?dr=-.000719771928860618:dr=-.02550581685370434:dr=-.001300530189452872:e[216]>1e-35?dr=-.04553949138490546:dr=.0013445292966782988;let Ie;e[152]>1e-35?Ie=.005642349825665321:e[108]>1e-35?e[1]>1e-35?Ie=.012759171568581189:Ie=-.0015650437871311187:e[102]>1e-35?Ie=.012533880283367552:e[10]>1e-35?e[4]>1.4978661367769956?e[7]>.9888588760569341?Ie=.007453521083396632:Ie=-.0036225862281260785:e[3]>.8958797346140276?Ie=-.0027177080775155366:e[5]>5.782284349061034?Ie=-.04454373321655838:Ie=.021964247026786614:e[11]>1e-35?e[47]>1e-35?Ie=-.06196070580382676:e[121]>1e-35?e[1]>1e-35?Ie=-.06122312462911518:e[7]>.3847172300624272?Ie=.03518239795956787:e[3]>2.4414009612931857?Ie=.006811972713764457:Ie=-.0933556055347465:e[5]>4.938058177869999?Ie=-.004012086267764631:Ie=.01930669434547199:e[5]>6.0051201133541365?e[27]>1e-35?Ie=-.012304580143719986:Ie=.0013650712455989071:e[3]>2.802901033147999?Ie=-.0083470520183599:e[7]>.5811983411966435?e[7]>.990877425524446?e[219]>1e-35?e[3]>1e-35?Ie=.06211865200552023:e[17]>1e-35?Ie=.06775644666502018:Ie=-.06866304616688222:e[217]>1e-35?Ie=.059656960273077646:Ie=-.004328630560280456:e[204]>1e-35?e[4]>2.249904835165133?Ie=.006371564018556469:e[3]>2.138333059508028?Ie=.09486061534469152:Ie=-.09409330595635478:e[4]>2.602003343538398?Ie=.011308844028341723:e[100]>1e-35?Ie=.0439316487073224:Ie=-.003403233436702135:Ie=-.00960652384005499;let M;e[144]>1e-35?e[18]>1e-35?M=.07197995497453837:e[1]>1e-35?M=-.001274320993832369:M=-.040032546534329444:e[52]>1e-35?e[18]>1e-35?M=.09098124993319018:M=-.04537404774072243:e[40]>1e-35?M=-.02515534903180516:e[53]>1e-35?M=-.04736675675905027:e[178]>1e-35?M=-.021374380471858013:e[55]>1e-35?M=-.04240162360893064:e[51]>1e-35?e[18]>1e-35?M=.07999652271774131:M=-.036649228565504045:e[109]>1e-35?M=.009067075019741765:e[54]>1e-35?e[1]>1e-35?M=.019160818735605257:M=-.05967997790089002:e[35]>1e-35?M=-.043420689526233285:e[173]>1e-35?M=-.027561163630755333:e[190]>1e-35?M=-.016370101115869642:e[14]>1e-35?e[217]>1e-35?M=-.019735056448517897:e[141]>1e-35?M=-.028090004807030017:M=.006865378253320941:e[139]>1e-35?e[1]>1e-35?M=-.032389864623829076:M=.005458607214221278:e[60]>1e-35?M=-.019089857559617188:e[153]>1e-35?e[18]>1e-35?M=.015189336996079859:e[19]>1e-35?M=.013745154147527805:e[1]>1e-35?M=-.005284271350108698:M=-.0374184512092477:e[18]>1e-35?e[99]>1e-35?M=-.0595395395199616:e[100]>1e-35?M=-.09991342902311327:M=-.0042488091801234805:M=.0006682804828197052;let me;e[46]>1e-35?me=-.012191380765172536:e[88]>1e-35?me=-.10266216005056819:e[91]>1e-35?me=-.018445844031974568:e[50]>1e-35?me=-.027431707051961525:e[144]>1e-35?e[7]>.9945060383544003?me=.03614842925379388:me=-.02095650990295711:e[4]>2.4414009612931857?e[123]>1e-35?e[3]>3.0201273556387074?me=-.01053451990903616:me=-.05114195197878968:e[16]>1e-35?me=.007316468830803533:e[9]>1e-35?me=.003316750172048933:me=860911526134492e-20:e[141]>1e-35?e[3]>1e-35?me=-.02547358042212171:me=.019472890771357998:e[186]>1e-35?me=-.09288424685816356:e[41]>1e-35?me=-.1310231930206974:e[42]>1e-35?me=-.056216247465863484:e[29]>1e-35?e[5]>3.5694334999727624?e[134]>1e-35?me=-.054747915129536466:e[1]>1e-35?e[131]>1e-35?me=-.16815706432319097:me=-.002818043413853223:me=-.041951940639575136:e[7]>.960816451500545?e[219]>1e-35?me=.10052885656939581:me=-.11599835225683999:me=.029922858316313545:e[101]>1e-35?e[5]>7.429817490674132?me=-.06576516230122952:me=-.0008540865426696243:e[210]>1e-35?e[114]>1e-35?me=.013062456952379193:e[7]>.7267616382562012?me=.0022613700798703854:me=-.03938763940013096:e[59]>1e-35?e[12]>1e-35?me=.008501036224046256:me=-.06542467236134167:me=.002585754319607976;let ye;e[28]>1e-35?ye=.008779900390406317:e[7]>.9880960409521241?e[8]>1e-35?ye=-.008991654120695218:e[3]>1e-35?e[140]>1e-35?ye=-.02731072195122447:ye=.002008744895602654:e[217]>1e-35?ye=.02359361264236281:ye=.007024522001417586:e[2]>2.138333059508028?e[3]>2.4414009612931857?e[125]>1e-35?ye=-.04199133736767654:e[47]>1e-35?ye=-.027561033349225085:e[3]>4.085941003063911?e[12]>1e-35?ye=.007807873722550442:e[152]>1e-35?ye=.030689318204494505:e[137]>1e-35?ye=.06699720359975746:ye=-.010441301216813357:e[118]>1e-35?ye=-.03153852460438172:e[48]>1e-35?ye=-.03440026517387997:ye=.0015296602873888215:e[0]>1e-35?e[2]>6.607325405747152?ye=-.027110120892630915:e[153]>1e-35?ye=-.017016088064422574:ye=-.005723165911539293:e[187]>1e-35?ye=-.031718114891806884:ye=-.0005272212291525389:e[0]>1e-35?e[2]>.8958797346140276?e[46]>1e-35?ye=-.09171631422683799:ye=.003327268948098216:e[3]>2.3502401828962087?e[125]>1e-35?ye=-.5887915327321841:e[2]>1e-35?ye=-.006637502258168407:ye=-.08424468641004934:e[125]>1e-35?ye=-.06617256968162606:ye=.028846174454930092:e[2]>1.2424533248940002?e[15]>1e-35?ye=-.016616715415331784:ye=.002680237807803091:e[3]>1e-35?ye=-.0012589163812412535:ye=-.015154395987664649;let Y;e[6]>9.286096980078398?e[4]>2.970085626360216?Y=-.001155963563974424:Y=-.011949331884445141:e[6]>6.3071868642287745?e[2]>5.150393035655617?Y=-.0033183579364470086:e[11]>1e-35?Y=-.0018887492076874403:e[169]>1e-35?Y=-.09486398911649394:Y=.0025252552927441433:e[4]>3.0677824455408698?e[7]>.09963982551990838?e[141]>1e-35?e[6]>3.314020688089767?Y=.012137569190879735:Y=.09584425242224671:e[8]>1e-35?e[7]>.987306237235768?e[2]>.8958797346140276?Y=-.020817404206469048:Y=-.06464699261956137:Y=-.008121005894366425:Y=-.002273798477153842:e[4]>3.5114340430413216?Y=-.024199637055494112:Y=-.0044500308011184275:e[12]>1e-35?Y=-.00483411782477681:e[5]>3.156774023138548?e[8]>1e-35?e[5]>3.772694874805912?e[6]>3.795426061844291?Y=.0013628724281773107:Y=-.04205266437322089:e[141]>1e-35?e[4]>2.861792550976191?e[5]>3.417592293073651?Y=-.15445392240959782:e[2]>2.970085626360216?Y=-.5683130345409004:Y=-1.2639522532467855:Y=-.12861577169349267:Y=-.08527127841498366:e[4]>2.4414009612931857?e[7]>.29163353806150266?Y=.003881870206848933:Y=.01474849027472377:e[18]>1e-35?e[219]>1e-35?Y=-.07387984252991263:Y=-.013089382916580447:Y=-.0008129634296833813:e[3]>2.3502401828962087?e[2]>3.1132683346437333?Y=.019943967048858428:Y=-.04278248600927625:e[17]>1e-35?Y=-.11809979934412335:Y=.03777084692378827;let L;e[57]>1e-35?L=-.03805766278012468:e[6]>9.286096980078398?e[2]>3.725620842493839?L=-.010152097691926694:L=-.000726856757223527:e[25]>1e-35?e[4]>2.917405368531303?e[6]>4.226807104886684?e[5]>8.866229029069968?L=.016965184252348844:L=-.027524673351863413:L=-.09999982742666325:e[219]>1e-35?L=-.11642840619184194:e[6]>3.1984648276080736?L=.02202934385365115:L=-.0758508504188626:e[17]>1e-35?e[5]>3.276966702012906?e[3]>2.861792550976191?e[38]>1e-35?L=.03529859841404316:L=-.005442656204983076:L=.013832633319757828:L=-.07099090377505678:e[40]>1e-35?e[12]>1e-35?L=.020780509349314687:L=-.0412229778697227:e[178]>1e-35?e[6]>4.832297822126891?L=-.012751356404573045:L=-.07365946414911166:e[6]>1e-35?e[91]>1e-35?L=-.018973855754862178:e[31]>1e-35?e[3]>3.3497501700808394?L=-.019342018507399077:L=.04336755184633714:e[52]>1e-35?L=-.034601279556920723:e[53]>1e-35?L=-.04570921257037347:e[4]>2.4414009612931857?e[22]>1e-35?L=-.009909029766665835:e[88]>1e-35?L=-.13759996623650647:L=.0010774168904012999:e[90]>1e-35?L=-.09942790916464699:e[5]>8.17933999189099?L=-.006237804261380787:e[154]>1e-35?L=-.02869365685254793:e[41]>1e-35?L=-.11951308633255478:L=.0005720279396045617:L=-.05091927304878396;let Te;e[2]>8.18910569469239?Te=-.011281718118735835:e[2]>8.136957041085973?Te=.007639929297282146:e[2]>6.178980383851587?Te=-.006867711027875817:e[6]>4.5379471377116305?e[125]>1e-35?e[3]>1e-35?Te=-.026657037414316055:Te=.03822052894720058:e[89]>1e-35?Te=.01442240494610187:Te=.0005482931472826037:e[3]>2.970085626360216?e[8]>1e-35?Te=-.04157937378268839:e[25]>1e-35?Te=-.07438346384769444:Te=-.007688780027797844:e[113]>1e-35?e[24]>1e-35?Te=.10208422768618285:Te=-.0025376848550412623:e[24]>1e-35?e[209]>1e-35?e[7]>.9738681190948303?Te=-.18081467351794253:Te=.06403272706376394:Te=-.006045919721112658:e[100]>1e-35?e[3]>1.4978661367769956?Te=-.034372452343283254:e[3]>1.2424533248940002?Te=.10087241747333926:Te=-.06270133551905664:e[12]>1e-35?e[209]>1e-35?Te=.02872327658284419:Te=-.012940407270969699:e[5]>3.276966702012906?e[8]>1e-35?Te=-.02165149142042258:e[3]>2.249904835165133?Te=.011522668417532612:Te=-.005129494488342788:e[3]>2.3502401828962087?e[2]>3.1132683346437333?Te=.018894357520732635:Te=-.03443967069634786:e[19]>1e-35?e[0]>1e-35?Te=.0868126244943877:e[2]>1.4978661367769956?e[194]>1e-35?Te=-.16834554324370338:Te=.08799302490518951:Te=.007907573815540844:e[17]>1e-35?Te=-.07843101628051594:Te=.04322926522720053;let Oe;e[7]>.987306237235768?e[8]>1e-35?e[5]>6.285066127789834?Oe=6536595256810364e-20:e[153]>1e-35?Oe=-.07687008855803332:Oe=-.015088524832702519:e[18]>1e-35?Oe=-.012556097563484098:e[217]>1e-35?e[5]>8.28387302567733?Oe=-.004574660978375117:Oe=.02566519458840368:Oe=.003837771337656032:e[28]>1e-35?e[194]>1e-35?e[29]>1e-35?e[5]>3.979637980058199?Oe=.04675774128546983:Oe=-.16922871147253024:e[5]>5.821564412917691?Oe=.017788548280824237:Oe=.101599048954043:e[5]>4.424828703319957?Oe=.009470487487627452:Oe=-.046977132290520585:e[95]>1e-35?Oe=.008579165333164537:e[204]>1e-35?e[7]>.9782662069407232?e[9]>1e-35?Oe=.0717824359443052:Oe=.01776258010455891:Oe=.003970948558978321:e[208]>1e-35?e[1]>1e-35?Oe=.012428835257375037:e[18]>1e-35?Oe=-.08152843296689005:Oe=-.0059907248803252305:e[109]>1e-35?Oe=.008117980905290326:e[89]>1e-35?e[1]>1e-35?Oe=-.08097766993639294:Oe=.014258345453663996:e[62]>1e-35?Oe=.025185598552042956:e[213]>1e-35?Oe=.01261362855232781:e[138]>1e-35?e[1]>1e-35?e[29]>1e-35?Oe=.004355449069502461:Oe=-.03327693117307522:e[29]>1e-35?Oe=-.024228224306581475:e[5]>5.244385543610066?Oe=.01690188327986934:Oe=-.02426164440751183:Oe=-.0016932467092565535;let xt;e[116]>1e-35?xt=-.018106356667092538:e[24]>1e-35?e[113]>1e-35?e[5]>4.658699722134796?xt=-.0289267666661116:xt=.10225466717059267:e[5]>3.979637980058199?xt=.007715497036238576:e[209]>1e-35?xt=-.1596622066794057:xt=-.02153459011172981:e[46]>1e-35?e[18]>1e-35?xt=.044010040060630896:xt=-.018791912393741998:e[39]>1e-35?xt=-.008648992983623099:e[3]>4.993822430271426?xt=-.01442291433054286:e[158]>1e-35?xt=.023944934429097977:e[21]>1e-35?xt=-.008731676115726167:e[51]>1e-35?e[18]>1e-35?xt=.07015276907667169:xt=-.03981801316250594:e[152]>1e-35?e[12]>1e-35?e[7]>.9811887196001154?xt=.025342984951627335:e[56]>1e-35?xt=-.039652717595259894:xt=-.003499774006708361:e[4]>3.676220550121792?xt=.026612369959601385:e[0]>1e-35?e[2]>2.012675845367575?xt=.012259156005894655:xt=.04466570041636591:xt=.002369030228609974:e[50]>1e-35?xt=-.02625338435100237:e[198]>1e-35?e[5]>3.156774023138548?e[4]>2.602003343538398?xt=.004706524615587467:xt=.03172381727140614:xt=-.08877100979833137:e[19]>1e-35?e[156]>1e-35?xt=.047690620764284854:xt=.004980692597287184:e[188]>1e-35?xt=-.10330323519600788:e[108]>1e-35?xt=.006389080836282864:e[217]>1e-35?xt=.0034861135133741716:xt=-.0005184951270632008;let Wt;e[150]>1e-35?Wt=-.03083355660591381:e[6]>8.681774988134558?e[0]>1e-35?Wt=.0032708551521722813:e[3]>2.970085626360216?Wt=-.0008773771112515323:Wt=-.008194765714031488:e[1]>1e-35?e[42]>1e-35?Wt=-.0544661644610188:e[114]>1e-35?Wt=.014743200719322279:e[25]>1e-35?Wt=-.03415156332118204:e[121]>1e-35?e[0]>1e-35?Wt=-.012241568524042012:Wt=-.08332027167107449:e[119]>1e-35?Wt=.02487058944439717:e[210]>1e-35?e[4]>2.602003343538398?Wt=.003409540133128587:e[7]>.985694415330804?Wt=.014360134818665793:Wt=-.029939754177999198:e[140]>1e-35?e[30]>1e-35?Wt=-.07017324311241228:Wt=-.00954038893956995:e[32]>1e-35?Wt=-.0321895511220355:Wt=.0018389054792352236:e[3]>.8958797346140276?e[138]>1e-35?Wt=.014210083256713822:e[3]>2.970085626360216?e[56]>1e-35?Wt=.03179391063657913:e[132]>1e-35?Wt=.044860161753142676:e[122]>1e-35?Wt=.056053352587009365:e[44]>1e-35?Wt=.011126140459263092:e[217]>1e-35?Wt=.015177735064648389:e[30]>1e-35?Wt=.00292550151642784:e[0]>1e-35?Wt=-.01370614277688821:Wt=-.00467240699644943:e[30]>1e-35?e[17]>1e-35?Wt=.06455607454604466:Wt=-.018525791968354337:e[127]>1e-35?Wt=.058525937257934674:Wt=.004550050432870272:Wt=-.024273015893662056;let Nt;e[57]>1e-35?Nt=-.03433295479723807:e[35]>1e-35?Nt=-.039185287251387806:e[2]>8.18910569469239?Nt=-.01005594457537474:e[2]>8.136957041085973?Nt=.006899889609485921:e[2]>5.6542404955442525?e[156]>1e-35?Nt=-.021428903659715646:Nt=-.003794036359277691:e[6]>4.3882378946731615?e[125]>1e-35?Nt=-.012625422706971806:e[0]>1e-35?e[2]>.8958797346140276?e[32]>1e-35?Nt=.024078606665492636:e[6]>6.9309832857755405?e[2]>2.012675845367575?Nt=.00015676395930232578:Nt=.008324926956588046:Nt=-.0031526636810443134:e[156]>1e-35?Nt=.053603289446623514:e[6]>5.912149824839399?Nt=.022861200347258755:e[128]>1e-35?e[9]>1e-35?Nt=-.44322676747225076:Nt=-.07989645752877887:Nt=.005736631305989689:e[6]>9.286096980078398?Nt=-.005302861539231229:e[133]>1e-35?Nt=-.011410750972764748:e[2]>1e-35?e[139]>1e-35?Nt=-.01695599188677891:e[12]>1e-35?e[129]>1e-35?Nt=-.029257180272820173:e[106]>1e-35?Nt=.03593102425808264:e[59]>1e-35?Nt=.03336711951593411:e[114]>1e-35?Nt=.021293721644930708:Nt=.0031644417228525465:e[140]>1e-35?e[2]>2.802901033147999?Nt=.005338088459754211:Nt=-.018863893195455395:e[59]>1e-35?e[20]>1e-35?Nt=-.2145461556048109:Nt=-.013833058686928565:Nt=.0010745795613665528:Nt=-.003974960846380726:Nt=-.004018386137909663;let ir;e[55]>1e-35?ir=-.038436881673730244:e[49]>1e-35?e[1]>1e-35?ir=.013340924551504776:ir=-.04038081752369706:e[135]>1e-35?e[17]>1e-35?ir=.02160784630817418:e[6]>4.722943345003718?e[2]>3.9981586158983733?ir=-.012347824466576033:ir=-.000545766507983511:e[4]>3.0201273556387074?e[2]>1e-35?ir=-.0252070573488502:ir=-.13173630032620282:ir=.009893647988200364:e[6]>1e-35?e[73]>1e-35?ir=-.05384174968342247:e[52]>1e-35?e[1]>1e-35?ir=.02326718288961822:ir=-.04799167043714381:e[7]>.8453853180651066?e[4]>3.481121732133104?e[12]>1e-35?e[59]>1e-35?ir=.061286381265316374:e[3]>3.481121732133104?ir=.005424469650470853:e[6]>4.310776603370241?ir=.014609485744972962:ir=.06126754321077295:e[156]>1e-35?e[2]>8.898092196194755?ir=-.2427431056579565:ir=.018014774163852717:ir=.0018695162213364096:e[61]>1e-35?ir=-.07802947082997094:e[45]>1e-35?ir=-.024426413301391545:e[140]>1e-35?e[4]>.8958797346140276?ir=-.021126260874271455:e[6]>4.03420147928485?ir=-.08415757514826445:e[3]>1e-35?ir=.10708927158160722:ir=-.24178647896179492:ir=.0008522369825914582:e[218]>1e-35?ir=.02373187641553724:e[57]>1e-35?ir=-.04729470896114382:e[6]>4.135134555718313?ir=-.00014270136560779048:ir=-.007024429214918294:ir=-.08338039048086893;let ar;e[72]>1e-35?ar=.056415744834310104:e[102]>1e-35?ar=.010312560108512227:e[109]>1e-35?ar=.007457767681676636:e[208]>1e-35?e[4]>3.0677824455408698?e[18]>1e-35?ar=-.06595581480202953:ar=.0010087955639505731:ar=.010976237400105874:e[4]>2.4414009612931857?e[123]>1e-35?e[2]>4.5900436644025815?ar=-.05474288807524913:ar=-.010369052951168002:e[47]>1e-35?e[18]>1e-35?ar=.06670108938458437:e[20]>1e-35?ar=.08555144132474565:ar=-.021968528557862133:e[48]>1e-35?e[18]>1e-35?ar=.06392608504748652:ar=-.02321056177872842:e[54]>1e-35?ar=-.03592967725793262:e[6]>5.519456907163478?ar=.0008682946366782881:e[133]>1e-35?ar=-.029370515479889298:e[4]>3.0201273556387074?ar=-.004567764283497172:e[12]>1e-35?ar=-.008355751724201374:e[113]>1e-35?ar=.04158028065835193:ar=.005544170962219649:e[141]>1e-35?ar=-.01706283616408152:e[186]>1e-35?ar=-.08075713781164345:e[196]>1e-35?e[4]>2.012675845367575?ar=-.004591551989937031:e[4]>.8958797346140276?e[18]>1e-35?ar=-.1239344826496822:ar=.026355647530608275:ar=-.07955511774996737:e[41]>1e-35?ar=-.10181506412232362:e[42]>1e-35?ar=-.0453542732395041:e[116]>1e-35?ar=-.040407946567398226:e[158]>1e-35?ar=.027239009428531448:ar=-.002118967070037752;let Ut;e[174]>1e-35?Ut=-.02339144841300339:e[173]>1e-35?Ut=-.02466576607302462:e[60]>1e-35?Ut=-.014400177078045:e[187]>1e-35?Ut=-.009580909976967153:e[6]>8.681774988134558?Ut=-.0018832004566674773:e[1]>1e-35?e[42]>1e-35?e[10]>1e-35?Ut=-.13287881120130746:Ut=-.03759084751116859:e[25]>1e-35?Ut=-.029737667621816583:e[119]>1e-35?Ut=.022639692376110337:e[98]>1e-35?Ut=.014991063146855506:e[195]>1e-35?e[6]>3.417592293073651?Ut=.008961268500787772:Ut=-.023240187732927162:e[61]>1e-35?e[7]>.428769371249852?Ut=-.08413653233956772:Ut=.0010489731231787087:e[140]>1e-35?e[3]>.8958797346140276?e[5]>4.855921334140645?e[44]>1e-35?Ut=-.009299863216357543:Ut=-.0613782065666655:Ut=-.06705655672927394:e[5]>3.772694874805912?Ut=.0008635593500817348:Ut=.08361268069705163:Ut=.001087642897550713:e[98]>1e-35?Ut=-.021712258264119783:e[3]>.8958797346140276?e[105]>1e-35?Ut=-.039681509263849626:e[195]>1e-35?e[18]>1e-35?Ut=-.07079074829049314:Ut=-.008109353986158243:e[210]>1e-35?e[18]>1e-35?Ut=-.10610285355896108:Ut=-.009292320249100847:e[157]>1e-35?Ut=.03507595269407085:e[97]>1e-35?Ut=.0249669535461336:e[48]>1e-35?Ut=-.027595291123779366:Ut=.0011643902717306173:Ut=-.0211420439263067;let It;e[138]>1e-35?e[1]>1e-35?e[42]>1e-35?e[3]>3.5114340430413216?It=-.022448598781455772:It=-.07031164685918086:e[2]>1e-35?e[2]>2.740319461670996?It=.00894455632762117:It=-.003454709734759444:e[0]>1e-35?It=.060858110677215166:It=-.03435493609374257:e[3]>2.602003343538398?e[2]>.8958797346140276?It=.0168978378983998:It=-.009237748165804088:It=-.016931758267026403:e[3]>4.424828703319957?It=-.005659352703826067:e[24]>1e-35?e[113]>1e-35?e[6]>4.460127707454046?It=-.023722482692479133:It=.10064484300766507:e[6]>4.03420147928485?It=.007526717802235146:e[209]>1e-35?e[4]>2.970085626360216?It=.11711852031495243:It=-.15067622815741855:It=-.011085192149895408:e[108]>1e-35?It=.0059255171206349135:e[19]>1e-35?e[156]>1e-35?It=.04454460743043898:e[37]>1e-35?It=-.14161163738926447:e[4]>1.4978661367769956?e[4]>1.7005986908310777?e[217]>1e-35?It=-.020705364221039385:It=.006460529078997639:e[0]>1e-35?e[98]>1e-35?It=.10347448218504114:It=-.04090123141769794:e[6]>5.636572136251498?It=-.001212671493834005:e[2]>1.8688348091416842?It=-.15821279618670178:It=-.03563734739460456:It=.027924859655082585:e[57]>1e-35?It=-.03743904649648422:e[35]>1e-35?It=-.0414066369468363:e[46]>1e-35?It=-.011240341460759123:It=-.0003091959047563666;let cr;e[14]>1e-35?e[5]>7.841296344941067?e[141]>1e-35?cr=-.04382809259971909:e[217]>1e-35?e[4]>3.417592293073651?cr=-.05008164665262682:cr=.0007032387608254502:e[190]>1e-35?cr=-.19371592847895003:cr=.0017489801221668277:e[129]>1e-35?cr=-.24591656603456258:cr=.011026730387591234:e[72]>1e-35?cr=.05658163433406649:e[90]>1e-35?e[4]>3.5114340430413216?cr=.017141361021852975:e[28]>1e-35?cr=.07243997319099477:cr=-.08677988948169385:e[138]>1e-35?cr=.0038201430289573884:e[23]>1e-35?e[4]>2.917405368531303?cr=.014990462643385919:cr=-.013592080985068531:e[217]>1e-35?e[4]>1.8688348091416842?cr=.0022421195021632245:e[4]>1.2424533248940002?cr=.03891295508085918:e[4]>.8958797346140276?cr=-.08902318396862074:cr=.02476911275463073:e[2]>3.1132683346437333?e[29]>1e-35?e[19]>1e-35?cr=.023731839695418987:e[5]>7.366761104104307?e[4]>3.417592293073651?e[6]>6.633975895571033?e[8]>1e-35?cr=.016171629088047517:e[134]>1e-35?cr=.03196373735768742:cr=-.006820341969572339:cr=-.02712238491085242:cr=-.016309188486296804:cr=-.0019386576944297078:e[156]>1e-35?cr=-.03079416196682616:e[123]>1e-35?cr=-.020888866054988395:e[4]>3.238486181444842?cr=-.0027078359220281674:e[141]>1e-35?cr=-.029581214969996845:cr=.002299670778244013:cr=.0001804027795430786;let zo=D0t(t+r+n+i+s+a+l+c+u+f+m+h+p+A+x+v+E+b+_+R+P+F+W+se+de+re+G+U+ne+J+j+O+V+Z+ae+te+le+fe+De+ve+Ue+ke+Ze+ft+at+lt+ie+Fe+Ae+Ge+z+ee+Le+Se+Ce+qe+Ve+tt+Ct+Pt+yt+$t+Kt+sr+ge+Qe+Je+rt+St+bt+Qt+Ot+wt+kt+_t+qt+Ht+Jt+ur+gr+lr+fr+rr+dr+Ie+M+me+ye+Y+L+Te+Oe+xt+Wt+Nt+ir+ar+Ut+It+cr);return[1-zo,zo]}o(Jbe,"treeScore");function D0t(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}o(D0t,"sigmoid");var lf=class{static{o(this,"ContextualFilterManager")}constructor(){this.previousLabel=0,this.previousLabelTimestamp=Date.now()-3600,this.probabilityAccept=0}};function Zbe(e){let t=e.split(`
`);return t[t.length-1].length}o(Zbe,"getLastLineLength");function Xbe(e,t,r){let n=e.get(lf),i=n.previousLabel,s=0;"afterCursorWhitespace"in t.properties&&t.properties.afterCursorWhitespace==="true"&&(s=1);let a=(Date.now()-n.previousLabelTimestamp)/1e3,l=Math.log(1+a),c=0,u=0,f=r.prefix;if(f){c=Math.log(1+Zbe(f));let R=f.slice(-1);ru[R]!==void 0&&(u=ru[R])}let m=0,h=0,p=f.trimEnd();if(p){m=Math.log(1+Zbe(p));let R=p.slice(-1);ru[R]!==void 0&&(h=ru[R])}let A=0;if("documentLength"in t.measurements){let R=t.measurements.documentLength;A=Math.log(1+R)}let x=0;if("promptEndPos"in t.measurements){let R=t.measurements.promptEndPos;x=Math.log(1+R)}let v=0;if("promptEndPos"in t.measurements&&"documentLength"in t.measurements){let R=t.measurements.documentLength;v=(t.measurements.promptEndPos+.5)/(1+R)}let E=0;Yee[t.properties.languageId]!==void 0&&(E=Yee[t.properties.languageId]);let b=0,_=new Array(221).fill(0);return _[0]=i,_[1]=s,_[2]=l,_[3]=c,_[4]=m,_[5]=A,_[6]=x,_[7]=v,_[8+E]=1,_[29+u]=1,_[125+h]=1,b=Jbe(_)[1],e.get(lf).probabilityAccept=b,b}o(Xbe,"contextualFilterScore");d();d();d();d();var A_=class{constructor(t){this.node=t;this.children=[];this.collapsed=!1}static{o(this,"StatementNode")}addChild(t){t.parent=this,t.nextSibling=void 0,this.children.length>0&&(this.children[this.children.length-1].nextSibling=t),this.children.push(t)}childrenFinished(){}containsStatement(t){return this.node.startIndex<=t.node.startIndex&&this.node.endIndex>=t.node.endIndex}statementAt(t){if(this.node.startIndex>t||this.node.endIndex<t)return;let r;return this.children.find(n=>(r=n.statementAt(t),r!==void 0)),r??this}collapse(){this.children.length=0,this.collapsed=!0}get description(){return`${this.node.type} ([${this.node.startPosition.row},${this.node.startPosition.column}]..[${this.node.endPosition.row},${this.node.endPosition.column}]): ${JSON.stringify(this.node.text.length>33?this.node.text.substring(0,15)+"..."+this.node.text.slice(-15):this.node.text)}`}dump(t="",r=""){let n=[`${t}${this.description}`];return this.children.forEach(i=>{n.push(i.dump(`${r}+- `,i.nextSibling===void 0?`${r}   `:`${r}|  `))}),n.join(`
`)}dumpPath(t="",r="",n=!1){if(this.parent){let i=this.parent.dumpPath(t,r,!0),s=i.length-i.lastIndexOf(`
`)-1-r.length,a=" ".repeat(s),l=n?`
${r}${a}+- `:"";return i+this.description+l}else{let i=n?`
${r}+- `:"";return t+this.description+i}}},K1=class{constructor(t,r,n,i){this.languageId=t;this.text=r;this.startOffset=n;this.endOffset=i;this.statements=[]}static{o(this,"StatementTree")}static isSupported(t){return h_.languageIds.has(t)||p_.languageIds.has(t)||g_.languageIds.has(t)}static create(t,r,n,i){if(h_.languageIds.has(t))return new h_(t,r,n,i);if(p_.languageIds.has(t))return new p_(t,r,n,i);if(g_.languageIds.has(t))return new g_(t,r,n,i);throw new Error(`Unsupported languageId: ${t}`)}[Symbol.dispose](){this.tree&&(this.tree.delete(),this.tree=void 0)}clear(){this.statements.length=0}statementAt(t){let r;return this.statements.find(n=>(r=n.statementAt(t),r!==void 0)),r}async build(){let t=[];this.clear();let r=await this.parse();this.getStatementQuery(r).captures(r.rootNode,this.offsetToPosition(this.startOffset),this.offsetToPosition(this.endOffset)).forEach(i=>{let s=this.createNode(i.node);for(;t.length>0&&!t[0].containsStatement(s);)t.shift()?.childrenFinished();t.length>0?t[0].addChild(s):this.addStatement(s),t.unshift(s)}),t.forEach(i=>i.childrenFinished())}addStatement(t){t.parent=void 0,t.nextSibling=void 0,this.statements.length>0&&(this.statements[this.statements.length-1].nextSibling=t),this.statements.push(t)}async parse(){return this.tree||(this.tree=await q1(this.languageId,this.text)),this.tree}getStatementQuery(t){return this.getQuery(t.getLanguage(),this.getStatementQueryText())}getQuery(t,r){return t.query(r)}offsetToPosition(t){let r=this.text.slice(0,t).split(`
`),n=r.length-1,i=r[r.length-1].length;return{row:n,column:i}}dump(t=""){let r=[];return this.statements.forEach((n,i)=>{let s=`[${i}]`,a=" ".repeat(s.length);r.push(n.dump(`${t} ${s} `,`${t} ${a} `))}),r.join(`
`)}},Kee=class e extends A_{static{o(this,"JSStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","generator_function_declaration","class_declaration","statement_block","if_statement","switch_statement","for_statement","for_in_statement","while_statement","do_statement","try_statement","with_statement","labeled_statement","method_definition","interface_declaration"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="statement_block"||this.children.length===2&&this.node.childForFieldName("else")!==null&&this.children[0].node.type!=="statement_block"&&this.children[1].node.type!=="statement_block"}},h_=class extends K1{static{o(this,"JSStatementTree")}static{this.languageIds=new Set(["javascript","javascriptreact","jsx","typescript","typescriptreact"])}createNode(t){return new Kee(t)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (public_field_definition)
        ] @statement`}},Jee=class e extends A_{static{o(this,"PyStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","for_statement","while_statement","try_statement","with_statement","function_definition","class_definition","decorated_definition","match_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"?!1:this.node.startPosition.row===this.node.endPosition.row}},p_=class extends K1{static{o(this,"PyStatementTree")}static{this.languageIds=new Set(["python"])}createNode(t){return new Jee(t)}getStatementQueryText(){return`[
            (future_import_statement)
            (import_statement)
            (import_from_statement)
            (print_statement)
            (assert_statement)
            (expression_statement)
            (return_statement)
            (delete_statement)
            (raise_statement)
            (pass_statement)
            (break_statement)
            (continue_statement)
            (global_statement)
            (nonlocal_statement)
            (exec_statement)
            (if_statement)
            (for_statement)
            (while_statement)
            (try_statement)
            (with_statement)
            (function_definition)
            (class_definition)
            (decorated_definition)
            (match_statement)
            (block)
        ] @statement`}},Zee=class e extends A_{static{o(this,"GoStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","method_declaration","if_statement","for_statement","expression_switch_statement","type_switch_statement","select_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},g_=class extends K1{static{o(this,"GoStatementTree")}static{this.languageIds=new Set(["go"])}createNode(t){return new Zee(t)}getStatementQueryText(){return`[
            (package_clause)
            (function_declaration)
            (method_declaration)
            (import_declaration)
            (_statement)
            (block)
        ] @statement`}};var p5=class{constructor(t,r,n){this.languageId=t;this.prefix=r;this.completion=n}static{o(this,"BlockTrimmer")}static isSupported(t){return K1.isSupported(t)}async withParsedStatementTree(t){var n=[];try{let r=Wz(n,K1.create(this.languageId,this.prefix+this.completion,this.prefix.length,this.prefix.length+this.completion.length));await r.build();return await t(r)}catch(i){var s=i,a=!0}finally{Gz(n,s,a)}}trimmedCompletion(t){return t===void 0?this.completion:this.completion.substring(0,t)}getStatementAtCursor(t){return t.statementAt(Math.max(this.prefix.length-1,0))??t.statements[0]}getContainingBlockOffset(t){let r;if(t&&this.isCompoundStatement(t))r=t;else if(t){let n=t.parent;for(;n&&!this.isCompoundStatement(n);)n=n.parent;r=n}if(r){let n=this.asCompletionOffset(r.node.endIndex);if(n&&this.completion.substring(n).trim()!=="")return n}}hasNonStatementContentAfter(t){if(!t||!t.nextSibling)return!1;let r=this.asCompletionOffset(t.node.endIndex),n=this.asCompletionOffset(t.nextSibling.node.startIndex);return this.completion.substring(Math.max(0,r??0),Math.max(0,n??0)).trim()!==""}asCompletionOffset(t){return t===void 0?void 0:t-this.prefix.length}isCompoundStatement(t){return t.isCompoundStatementType||t.children.length>0}};var GQ=class extends p5{constructor(r,n,i,s=3,a=7){super(r,n,i);this.lineLimit=s;this.lookAhead=a;let l=[...this.completion.matchAll(/\n/g)],c=this.lineLimit+this.lookAhead;l.length>=this.lineLimit&&this.lineLimit>0&&(this.limitOffset=l[this.lineLimit-1].index),l.length>=c&&c>0&&(this.lookAheadOffset=l[c-1].index)}static{o(this,"TerseBlockTrimmer")}async getCompletionTrimOffset(){return await this.withParsedStatementTree(async r=>{let n=r.statementAt(this.stmtStartPos()),i=this.getContainingBlockOffset(n);return i=this.trimAtFirstBlankLine(i),n&&(i=this.trimAtStatementChange(n,i)),this.limitOffset&&this.lookAheadOffset&&(i===void 0||i>this.lookAheadOffset)?this.limitOffset:i})}stmtStartPos(){let r=this.completion.match(/\S/);return r&&r.index!==void 0?this.prefix.length+r.index:Math.max(this.prefix.length-1,0)}trimAtFirstBlankLine(r){let n=[...this.trimmedCompletion(r).matchAll(/\r?\n\s*\r?\n/g)];for(;n.length>0&&(r===void 0||r>n[0].index);){let i=n.shift();if(this.completion.substring(0,i.index).trim()!=="")return i.index}return r}trimAtStatementChange(r,n){let i=this.prefix.length,s=this.prefix.length+(n??this.completion.length);if(r.node.endIndex>i&&this.isCompoundStatement(r))return r.nextSibling&&r.node.endIndex<s?this.asCompletionOffset(r.node.endIndex):n;let a=r,l=r.nextSibling;for(;l&&l.node.endIndex<=s&&!this.hasNonStatementContentAfter(a)&&!this.isCompoundStatement(l);)a=l,l=l.nextSibling;return l&&a.node.endIndex>i&&a.node.endIndex<s?this.asCompletionOffset(a.node.endIndex):n}};async function eEe(e,t){var l=[];try{let r=e.getText();let n=e.offsetAt(t);let i=Wz(l,K1.create(e.detectedLanguageId,r,0,r.length));await i.build();let s=i.statementAt(n);if(!s)return"non-block";if(!s.isCompoundStatementType&&s.children.length===0)return s.parent&&!s.nextSibling&&s.node.endPosition.row<=t.line?"block-end":s.parent?"mid-block":"non-block";if(s.children.length===0)return"empty-block";let a=s.children[s.children.length-1];if(n<a.node.startIndex)return"mid-block";return"block-end"}catch(c){var u=c,f=!0}finally{Gz(l,u,f)}}o(eEe,"getBlockPositionType");d();d();function tEe(e){let t;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>427.50000000000006?e[9]>13.500000000000002?e[121]>1e-35?t=-.3793786744885956:e[149]>1e-35?t=-.34717430705356905:t=-.26126834451035963:t=-.2431318366096852:e[5]>888.5000000000001?t=-.20600463586387135:t=-.2568037008471491:e[308]>1e-35?t=-.2363064824497454:e[8]>370.50000000000006?t=-.37470755210284723:t=-.321978453730494:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?t=-.26259136509758885:t=-.3096719634039438:e[4]>30.500000000000004?e[9]>18.500000000000004?t=-.34254903852890883:e[2]>98.50000000000001?t=-.41585250791146294:t=-.3673574858887241:e[9]>6.500000000000001?t=-.31688079287876225:e[31]>1e-35?t=-.29110977864003823:e[308]>1e-35?t=-.3201411739040839:t=-.36874023066055506:e[8]>691.5000000000001?e[82]>1e-35?t=-.41318393149040566:e[133]>1e-35?t=-.3741272613525161:e[32]>1e-35?t=-.4112378041027121:e[227]>1e-35?t=-.37726615155719356:e[10]>3.5000000000000004?t=-.3164502293560397:t=-.2930071546509045:e[9]>13.500000000000002?t=-.277366858539218:e[308]>1e-35?e[4]>10.500000000000002?t=-.30975610686807187:e[4]>1.5000000000000002?t=-.2549142136728043:t=-.3271325650785176:e[127]>1e-35?e[0]>1937.5000000000002?t=-.2533046188098832:t=-.325520883579:t=-.331628896481776;let r;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?e[9]>13.500000000000002?r=.031231253521808708:r=.05380836288014532:e[5]>423.00000000000006?e[8]>114.50000000000001?r=.06751619128429062:r=.09625089153176467:r=.027268163053989804:e[308]>1e-35?r=.060174483556283756:r=-.049062854038919135:e[3]>24.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?r=-.03969241799174589:r=.01086816842550381:e[31]>1e-35?r=-.003284694817583201:e[9]>6.500000000000001?e[4]>30.500000000000004?r=-.04224490699947552:r=-.011834162944360616:e[308]>1e-35?e[32]>1e-35?r=-.13448447971850278:r=-.019569456707046823:e[19]>1e-35?e[9]>1.5000000000000002?r=-.07256260662659254:e[4]>60.50000000000001?r=-.08227503453609311:r=-.020596416747563847:r=-.07396549241564149:e[8]>691.5000000000001?e[82]>1e-35?r=-.10046536995362734:e[133]>1e-35?r=-.06407649822752297:e[225]>1e-35?r=.08035785003303324:e[92]>1e-35?r=.018901360933204676:e[20]>1e-35?r=.05252546973665552:e[8]>2592.5000000000005?r=-.040543705016462955:r=-.011236043818320725:e[9]>17.500000000000004?r=.025560632674895334:e[308]>1e-35?e[0]>1847.5000000000002?r=.03527165701669741:r=-.0071847350825815035:e[127]>1e-35?r=.024373016379595405:e[9]>2.5000000000000004?r=-.0035090719709448288:r=-.03514829488063766;let n;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?n=.03848674861536988:e[5]>423.00000000000006?e[8]>114.50000000000001?e[9]>56.50000000000001?n=-.003764520033319488:n=.06570817919969299:e[4]>61.50000000000001?n=.028346156293069538:n=.0908154644362606:n=.02445594243234816:e[308]>1e-35?e[8]>65.50000000000001?n=.0019305229020073053:n=.09279357295883772:n=-.04458984161917124:e[3]>24.500000000000004?e[23]>1e-35?n=.0027405390271277013:e[4]>29.500000000000004?e[52]>1e-35?n=.044727478132905285:e[115]>1e-35?n=.10245804828855934:e[9]>17.500000000000004?n=-.03353173647469207:e[2]>98.50000000000001?n=-.10048106638102179:n=-.05484231104348874:e[31]>1e-35?n=.016807537467116516:e[9]>6.500000000000001?n=-.012113620535295137:e[4]>8.500000000000002?e[308]>1e-35?n=-.01882594250504289:n=-.05585658862796076:n=.04279591277938338:e[8]>691.5000000000001?e[82]>1e-35?n=-.09262278043707878:e[133]>1e-35?n=-.058454257768893625:e[32]>1e-35?n=-.09769348447126434:e[25]>1e-35?n=-.0725430043727677:e[122]>1e-35?n=-.10047841601578077:n=-.00580671054458958:e[9]>13.500000000000002?n=.021399199032818294:e[308]>1e-35?e[4]>10.500000000000002?n=-.0076376731757173515:n=.03394923033036848:e[127]>1e-35?n=.02070489091204209:n=-.02290162726126496;let i;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?i=.010230295672324606:i=.038540509248742805:e[8]>125.50000000000001?e[1]>49.50000000000001?i=.03086356292895467:i=.057128750867458604:e[5]>888.5000000000001?i=.07861602941396924:i=.030523262699070908:e[308]>1e-35?i=.048236117667577356:e[8]>370.50000000000006?i=-.05642125069212264:i=-.007232836777168195:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?i=.03640661467213915:i=-.005889820723907028:e[31]>1e-35?i=-.0009007166998276938:e[9]>6.500000000000001?i=-.022590340093882378:e[308]>1e-35?e[32]>1e-35?i=-.1215445089091064:i=-.01435612266219722:e[19]>1e-35?e[9]>1.5000000000000002?i=-.061555513040777825:e[4]>60.50000000000001?i=-.07053475504569347:i=-.013733369453963092:i=-.06302097189114152:e[227]>1e-35?i=-.05820440333190048:e[8]>683.5000000000001?e[82]>1e-35?i=-.08466979526809346:e[10]>24.500000000000004?i=-.017092159721119944:e[92]>1e-35?i=.03592901452463749:i=-.00359310519524756:e[5]>1809.5000000000002?e[243]>1e-35?i=-.03963116207386097:e[118]>1e-35?i=-.09483996283536394:e[217]>1e-35?i=-.03394542089519989:e[242]>1e-35?i=-.07985899422287938:i=.019706602160656964:e[9]>12.500000000000002?i=.014072998937735146:i=-.021156294523894684;let s;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?s=.009197756540516563:s=.03458896869535166:e[5]>5082.500000000001?s=.08265545468131008:e[131]>1e-35?s=.0740738432473315:s=.045159136632942756:e[8]>319.50000000000006?s=-.04653401534465376:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?s=-.011400839766681709:s=.11149800187510031:s=-.08683250977599462:s=.08355310136724753:e[4]>23.500000000000004?e[23]>1e-35?e[131]>1e-35?s=.040389083779932555:s=-.009887614274108602:e[52]>1e-35?s=.03705353499757327:e[9]>6.500000000000001?s=-.025401260429257562:e[2]>98.50000000000001?s=-.09237673187534504:s=-.04298556869281803:e[222]>1e-35?s=-.045221965895986184:e[8]>691.5000000000001?e[133]>1e-35?s=-.05435318330148897:e[128]>1e-35?s=-.08672907303184191:e[227]>1e-35?s=-.05568304584186561:e[122]>1e-35?s=-.09623059693538563:e[225]>1e-35?s=.07558331642202279:e[82]>1e-35?s=-.07360566227233566:s=-.005646164647395919:e[242]>1e-35?s=-.08203758341228108:e[9]>13.500000000000002?s=.018726123829696042:e[308]>1e-35?e[4]>10.500000000000002?s=-.011153942154062704:s=.03132858912391067:e[127]>1e-35?s=.021455228822345174:e[23]>1e-35?s=.01959966745346997:s=-.021764790177579325;let a;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>284.50000000000006?e[121]>1e-35?e[18]>1e-35?a=.07547602514276922:a=-.08529678832140396:a=.030314822344598043:e[5]>888.5000000000001?e[4]>61.50000000000001?a=.011143589009415464:a=.0654700456802118:a=.021794712646632755:e[308]>1e-35?a=.04231872551095028:a=-.034381999950549455:e[4]>23.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?a=-.03678981254332261:a=.010518160384496255:e[8]>825.5000000000001?a=-.04506534842082387:e[9]>38.50000000000001?a=.01004983052203438:a=-.030580958620701027:e[39]>1e-35?a=-.12802435021505382:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>6.500000000000001?a=.030426957004611704:a=-.0726407693060581:a=.017395521646964375:e[4]>7.500000000000001?e[0]>93.50000000000001?e[9]>7.500000000000001?a=-.008024349629981291:e[31]>1e-35?a=.01296539930850471:e[308]>1e-35?a=-.012855016509024084:a=-.04564527976851505:a=-.15681420504058596:e[10]>4.500000000000001?e[243]>1e-35?a=-.1012064426380198:a=-.0062808850924854194:a=.030706323726162416:e[9]>13.500000000000002?a=.017081636133736405:e[308]>1e-35?e[4]>10.500000000000002?a=-.009306613091760644:e[4]>1.5000000000000002?a=.03655523200850989:a=-.02671654212893341:e[127]>1e-35?a=.019261510468604387:a=-.017627818570628936;let l;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[308]>1e-35?l=.036100405995889276:l=.011709313297015793:e[0]>119.50000000000001?e[8]>125.50000000000001?l=.03622542297472574:l=.05595579157301536:l=-.02234751038146796:e[8]>319.50000000000006?l=-.040132029478400735:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?l=-.009306153573847916:l=.10058509567064988:l=-.0785668890966017:e[9]>28.500000000000004?l=-.04781977604130416:l=.09753292614937459:e[4]>23.500000000000004?e[131]>1e-35?l=.02372493254975127:e[148]>1e-35?l=.028103095989516644:e[4]>58.50000000000001?e[10]>1e-35?l=-.05000852203469597:l=.02922366846119705:e[23]>1e-35?l=-.0026335076988151292:l=-.03073993752935585:e[222]>1e-35?l=-.03867374428185713:e[32]>1e-35?l=-.07220729365053084:e[39]>1e-35?l=-.11624524614351733:e[8]>691.5000000000001?e[133]>1e-35?l=-.04836360271198036:e[8]>4968.500000000001?l=-.10873681915578029:e[149]>1e-35?l=-.11847484033769298:e[122]>1e-35?l=-.08916172460307559:e[82]>1e-35?l=-.06774726602152634:l=-.0033469147714351327:e[126]>1e-35?l=-.09474445392080015:e[8]>131.50000000000003?e[118]>1e-35?l=-.09002547031023511:l=.015475385187009489:e[25]>1e-35?l=-.08175501232759151:l=-.000429679055394914;let c;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?c=.021942996005324917:c=.042349138084484074:e[308]>1e-35?c=.036507270845732874:c=-.028981850556764995:e[3]>24.500000000000004?e[23]>1e-35?c=.00210930790963475:e[31]>1e-35?c=.006825358293027163:e[9]>6.500000000000001?c=-.013772084269062394:e[308]>1e-35?c=-.008307929099892574:e[19]>1e-35?c=-.027706313312904487:c=-.04891108984170914:e[134]>1e-35?c=-.0605730733844732:e[25]>1e-35?c=-.05347926493253117:e[227]>1e-35?c=-.049415829249003666:e[32]>1e-35?c=-.06807799662179595:e[308]>1e-35?e[4]>10.500000000000002?e[2]>13.500000000000002?c=-.00016302718260794637:c=-.10247095758122947:e[210]>1e-35?c=-.022149002072787024:e[95]>1e-35?c=.15222631630626304:c=.027393884520465712:e[9]>7.500000000000001?e[225]>1e-35?c=.13483346577752245:e[3]>9.500000000000002?e[243]>1e-35?c=-.045352728133789516:e[8]>683.5000000000001?c=.00474372227519902:c=.02635476098707525:e[92]>1e-35?c=.05659380819933452:e[105]>1e-35?c=.07431443210341222:e[186]>1e-35?c=.0915821133384904:c=-.016414750130401053:e[127]>1e-35?c=.011824693641866162:e[23]>1e-35?c=.0228468674288774:e[284]>1e-35?c=.06606936863302432:c=-.02872463273902358;let u;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>125.50000000000001?e[288]>1e-35?u=-.019844363904157558:e[1]>50.50000000000001?e[131]>1e-35?u=.044961338592245194:u=.003659599513761676:e[121]>1e-35?u=-.04057103630479994:u=.03158560697078578:e[0]>421.50000000000006?e[4]>61.50000000000001?u=-.0003708603406529278:u=.05331312264472391:u=.0006575958601218936:e[8]>319.50000000000006?u=-.034654694051901545:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?u=-.0076053515916517005:u=.09116695486305336:u=-.07137458699162028:u=.06633130654035282:e[4]>29.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?u=-.0308520802187302:u=.013156423968295541:e[115]>1e-35?u=.11581171687488252:e[52]>1e-35?e[10]>22.500000000000004?u=.12264179915175587:u=-.021905727233873535:e[8]>799.5000000000001?u=-.04181869575935412:u=-.023695901673350575:e[222]>1e-35?u=-.034612899265371776:e[8]>691.5000000000001?e[9]>98.50000000000001?u=-.06892116536821917:e[149]>1e-35?u=-.11194586444154514:e[133]>1e-35?u=-.04269583234000504:e[128]>1e-35?u=-.0644631966969502:e[8]>4968.500000000001?u=-.09650726096330133:u=-.004219129180139438:e[126]>1e-35?u=-.08038306745347751:e[5]>1809.5000000000002?u=.009265335288169993:e[9]>2.5000000000000004?u=.006447645462117438:u=-.021047132609551503;let f;e[13]>1e-35?e[3]>1.5000000000000002?e[9]>21.500000000000004?e[121]>1e-35?f=-.08436540015142402:e[8]>1861.5000000000002?f=-.01621425699342421:f=.01878613821895428:f=.031052879158242532:e[8]>319.50000000000006?f=-.031536619360997865:e[7]>3.5000000000000004?f=-.004510586962343298:f=.0596524941011746:e[4]>18.500000000000004?e[23]>1e-35?f=.004757490541310808:e[9]>6.500000000000001?f=-.008842393772207996:e[31]>1e-35?f=.0010536183837006993:e[308]>1e-35?f=-.008145882815435419:e[2]>98.50000000000001?f=-.08404937622173021:e[276]>1e-35?f=.0020072791321856663:e[19]>1e-35?f=-.023031820639490178:f=-.04553314326377875:e[8]>2134.5000000000005?f=-.02244583113572251:e[134]>1e-35?f=-.05592137394753121:e[308]>1e-35?e[49]>1e-35?f=.09989109704064947:e[4]>10.500000000000002?e[2]>13.500000000000002?f=-.00447733056482096:f=-.10191061664873849:f=.021765308380331864:e[9]>7.500000000000001?e[118]>1e-35?f=-.07570059131536411:e[243]>1e-35?f=-.040983393346598646:e[3]>9.500000000000002?f=.014763759061483812:e[92]>1e-35?f=.05136368898963024:f=-.008162398981149495:e[127]>1e-35?f=.013999119696708346:e[23]>1e-35?e[20]>1e-35?f=.14138985500120907:f=.008668274102844162:e[284]>1e-35?f=.06356484011042893:f=-.024781304572706303;let m;e[13]>1e-35?e[3]>8.500000000000002?e[8]>892.5000000000001?e[0]>384.50000000000006?m=.014387526569215037:e[8]>2266.5000000000005?m=-.1397298649743087:m=.007953931014097788:e[0]>119.50000000000001?e[4]>61.50000000000001?m=.0029819092211896296:e[218]>1e-35?m=.08450459375645737:m=.031646488019280654:m=-.03544960151460596:e[9]>9.500000000000002?m=-.026002317735915183:e[7]>1.5000000000000002?m=.005074258810794793:m=.0745247650477651:e[4]>29.500000000000004?e[131]>1e-35?m=.023269218675640847:e[148]>1e-35?m=.03812942399144545:e[115]>1e-35?m=.10512283476967227:m=-.02607307479736138:e[227]>1e-35?m=-.036576708299046294:e[101]>1e-35?m=.027948683650881864:e[149]>1e-35?m=-.08195628451594297:e[50]>1e-35?m=-.16997544922278504:e[8]>691.5000000000001?e[9]>101.50000000000001?m=-.06860333850762075:e[225]>1e-35?m=.06066641950951723:e[10]>22.500000000000004?e[1]>29.500000000000004?e[127]>1e-35?m=.028599705845427533:m=-.010746719511640914:e[0]>4877.500000000001?m=-.07251187886096228:m=-.021299712241446785:e[118]>1e-35?m=-.11902023760964736:m=15874469526809387e-21:e[8]>267.50000000000006?m=.01317292185402293:e[148]>1e-35?e[9]>20.500000000000004?m=.09614842415142123:m=.006049073167176467:e[189]>1e-35?m=.05562696451900713:m=-.006257541923837303;let h;e[13]>1e-35?e[9]>14.500000000000002?e[2]>11.500000000000002?e[1]>71.50000000000001?e[8]>1252.5000000000002?h=-.10069846585436666:h=-.010577995535809317:e[146]>1e-35?h=-.008877238274428668:e[280]>1e-35?h=.10076055897012692:e[6]>70.50000000000001?h=-.020603523042565547:e[7]>1.5000000000000002?h=.02819095420813202:h=-.1223354167911277:h=-.025073583348334844:e[8]>416.50000000000006?h=.01718560189149466:e[230]>1e-35?h=.12281803224342265:h=.03281276971308565:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?h=-.13070568109867683:e[4]>63.50000000000001?h=-.027221825262496814:h=.01530862490082352:e[9]>6.500000000000001?e[5]>4320.500000000001?e[2]>31.500000000000004?h=-.00605574271293711:h=.04739407327741249:h=-.012537528620315956:e[31]>1e-35?e[20]>1e-35?h=.1252215087035768:h=.003905888677601057:e[52]>1e-35?h=.045466299731038815:e[2]>100.50000000000001?h=-.07815624550168065:e[308]>1e-35?h=-.007715815250508057:e[276]>1e-35?e[9]>1.5000000000000002?h=-.03538265083203445:e[18]>1e-35?h=.1591211669800727:h=.015151475408241136:e[8]>557.5000000000001?h=-.04225569725456342:h=-.022455546324243267:e[308]>1e-35?h=.01325441736085826:e[197]>1e-35?h=.03752194600682512:e[225]>1e-35?h=.06583712394533976:h=-.005205289866839043;let p;e[13]>1e-35?e[9]>21.500000000000004?e[2]>12.500000000000002?p=.010264022580774884:p=-.02335958814489217:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?p=-.0936747137352166:e[0]>384.50000000000006?p=.019846244507320695:p=-.0751102554077272:p=-.026885329334203723:e[0]>966.5000000000001?e[10]>48.50000000000001?p=.11654906890054273:p=.0346250587613322:e[4]>39.50000000000001?p=-.08568002378645614:e[9]>16.500000000000004?p=-.12010535752923689:p=.021321923389033808:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?p=-.12056431231412057:e[131]>1e-35?p=.03652965550568472:p=.002563006128791669:e[9]>6.500000000000001?e[30]>1e-35?p=-.10141481732178981:p=-.003936457893178248:e[31]>1e-35?p=.008215898756249477:e[52]>1e-35?e[0]>4188.500000000001?p=.12972828769588213:p=-.003137412232297087:e[2]>100.50000000000001?p=-.0730872929087944:e[308]>1e-35?p=-.006958622747243333:e[35]>1e-35?e[0]>3707.5000000000005?p=.07934620723812878:p=-.018598568353702116:p=-.030635505446410763:e[128]>1e-35?p=-.06962290453843294:e[84]>1e-35?p=-.15290337844960322:e[308]>1e-35?e[8]>2543.5000000000005?p=-.034938657503885584:p=.016339322898966915:e[197]>1e-35?p=.03358907965870046:e[18]>1e-35?p=-.01754013791515288:p=-.0004944586067698557;let A;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?A=.005888790687820524:A=.0429676533834978:e[2]>7.500000000000001?e[0]>119.50000000000001?e[6]>79.50000000000001?A=-.0224319889201976:e[212]>1e-35?A=.06249587051783863:e[8]>963.5000000000001?e[8]>1156.5000000000002?A=.010357273289123324:A=-.029749145161304082:e[218]>1e-35?A=.06449336340743606:A=.018047654539345502:A=-.07350502390293116:A=-.019594829995832414:e[4]>39.50000000000001?A=-.019338083179859314:e[39]>1e-35?A=-.10427066919173111:e[222]>1e-35?e[0]>612.5000000000001?A=-.019197415255018464:A=-.0836562507048181:e[149]>1e-35?A=-.07679624472577429:e[32]>1e-35?A=-.05097506748590604:e[191]>1e-35?A=.04670476485250936:e[30]>1e-35?A=-.05313073892148652:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>8.500000000000002?A=.03930363008271334:A=-.06029171685615689:A=.016203086182431294:e[4]>7.500000000000001?A=-.013824248237085224:e[10]>4.500000000000001?e[94]>1e-35?A=-.09817668643367765:e[10]>40.50000000000001?A=-.023558078753593125:A=.0065113494780482326:e[8]>809.5000000000001?e[297]>1e-35?A=-.1352063548573715:A=.058203900441270634:A=-.035243959159285736:e[10]>59.50000000000001?e[1]>43.50000000000001?A=-.012552876807800442:A=.05991247777734298:A=.0035893102109330177;let x;e[13]>1e-35?e[9]>21.500000000000004?e[145]>1e-35?x=.03507251990078782:e[2]>14.500000000000002?x=.004905698363309292:e[8]>2421.5000000000005?x=-.10306119951984316:x=-.018951037816654928:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?x=-.08503171085833393:x=.015130974593044409:x=-.024425267075198206:x=.02624054905103126:e[4]>19.500000000000004?e[131]>1e-35?x=.02100191580704534:e[32]>1e-35?e[8]>2302.5000000000005?x=.09908783187786288:x=-.06920877329925636:e[8]>241.50000000000003?x=-.016756131804203496:e[9]>33.50000000000001?x=.04903179955263626:e[217]>1e-35?x=-.047416847619291644:x=-.0017200891991431119:e[39]>1e-35?x=-.10389927604977028:e[134]>1e-35?x=-.050480365434872866:e[178]>1e-35?x=-.05167855791556937:e[8]>2134.5000000000005?x=-.01663197335585307:e[242]>1e-35?x=-.05361323756615453:e[118]>1e-35?x=-.05299780866211368:e[10]>24.500000000000004?e[10]>55.50000000000001?e[8]>764.5000000000001?x=-.0016544848369620534:x=.04494144460483587:x=-.009283616456736156:e[121]>1e-35?e[0]>4463.500000000001?x=.051166688553608355:x=-.06623908820705383:e[84]>1e-35?x=-.12990936092409747:e[306]>1e-35?x=-.07020596855118943:e[49]>1e-35?x=.06272964802556856:e[192]>1e-35?x=.06540204627162581:x=.008277910531592885;let v;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?v=.003325460510319164:v=.037153108286272905:e[2]>12.500000000000002?e[1]>124.50000000000001?v=-.09880713344892134:e[7]>60.50000000000001?e[10]>71.50000000000001?v=.0697359767152808:e[230]>1e-35?v=.06513506845651572:v=-.02826625276613455:e[5]>246.50000000000003?e[8]>95.50000000000001?v=.013616385013146277:v=.04171540100223404:v=-.04360396575094823:e[212]>1e-35?v=.025945477945627522:v=-.019793208261535442:e[4]>39.50000000000001?e[25]>1e-35?v=-.07856453318384411:v=-.014803893522351739:e[39]>1e-35?v=-.09185452630751932:e[149]>1e-35?v=-.07122426086157027:e[134]>1e-35?v=-.04231052091434186:e[227]>1e-35?v=-.029815824273994197:e[50]>1e-35?v=-.15736496271211153:e[222]>1e-35?v=-.02360285356956629:e[128]>1e-35?v=-.03922080193836443:e[136]>1e-35?v=-.07219685327698587:e[10]>24.500000000000004?e[1]>8.500000000000002?v=-.0029736170756835783:v=-.06482902102259112:e[84]>1e-35?v=-.11340924635708383:e[94]>1e-35?v=-.03635703457792193:e[118]>1e-35?v=-.058181913914186034:e[126]>1e-35?v=-.062030576241517366:e[116]>1e-35?v=-.045086301850604006:e[25]>1e-35?v=-.031665223656767286:e[203]>1e-35?v=-.009444685731407691:v=.0112265153772187;let E;e[13]>1e-35?e[1]>64.50000000000001?e[9]>14.500000000000002?e[9]>54.50000000000001?E=.022717227245241684:E=-.049700413274686266:E=.007175776918589741:e[5]>50.50000000000001?e[8]>61.50000000000001?e[21]>1e-35?E=-.07927556792063156:e[3]>8.500000000000002?e[4]>23.500000000000004?e[281]>1e-35?E=-.12263724050601095:E=.0070743478891288035:e[288]>1e-35?E=-.050439138582109:E=.0255701593657891:E=-.005812703740580558:e[6]>49.50000000000001?E=-.008542694147899113:E=.035147383686665:E=-.0960461939274094:e[32]>1e-35?E=-.04555453745517765:e[222]>1e-35?e[0]>612.5000000000001?E=-.01800870272656664:E=-.07817304234604389:e[30]>1e-35?E=-.05227061750368981:e[25]>1e-35?e[0]>4449.500000000001?e[217]>1e-35?E=.08778416018479411:E=-.026563982720830256:E=-.05296139548112329:e[50]>1e-35?E=-.14926464875852247:e[8]>779.5000000000001?e[133]>1e-35?E=-.036572140520852024:e[183]>1e-35?E=-.10766853736801459:E=-.003966794968701808:e[217]>1e-35?e[5]>5237.500000000001?E=.09513215942486053:E=-.03641865277445567:e[10]>59.50000000000001?E=.03177172388687933:e[39]>1e-35?E=-.10234241303898953:e[243]>1e-35?E=-.02966738115984321:e[190]>1e-35?E=-.04312785336449181:e[118]>1e-35?E=-.05808521194081524:E=.006720381600740378;let b;e[308]>1e-35?e[5]>423.00000000000006?e[133]>1e-35?b=-.046284053681928526:e[210]>1e-35?b=49778070699847876e-21:e[13]>1e-35?b=.03328070054739309:e[128]>1e-35?b=-.054790214922938896:e[126]>1e-35?b=-.08524792218532945:b=.014414055975542446:e[1]>38.50000000000001?b=-.07287851335872973:b=.005263371501687163:e[9]>7.500000000000001?e[21]>1e-35?e[10]>4.500000000000001?b=-.12459748864088374:b=-.004626323021331593:e[298]>1e-35?e[4]>64.50000000000001?b=.13044981041138526:e[9]>71.50000000000001?b=-.056068402282406865:e[9]>12.500000000000002?b=.038957722962512764:b=-.04598815982492169:e[8]>691.5000000000001?e[126]>1e-35?b=-.0852126122372075:e[225]>1e-35?b=.10082066771689505:e[1]>161.50000000000003?b=-.11609832500613824:e[3]>8.500000000000002?e[8]>1685.5000000000002?b=-.010835400874777133:b=.004607419973807752:b=-.016989075258564062:b=.009205417251698097:e[23]>1e-35?e[20]>1e-35?b=.10184317139657878:e[0]>5724.500000000001?b=-.1163666496650542:e[1]>106.50000000000001?b=.1303850608190687:e[129]>1e-35?b=.10745031509534769:b=.006166901738036226:e[31]>1e-35?b=.010177092833155127:e[13]>1e-35?e[0]>213.50000000000003?b=.005004582564506611:b=-.10481581731668346:e[19]>1e-35?b=-.009850706427306281:b=-.02608226348051303;let _;e[13]>1e-35?e[1]>64.50000000000001?e[2]>4.500000000000001?_=-.0024117174588695603:_=-.058339700513831916:e[212]>1e-35?e[0]>2215.5000000000005?e[8]>847.5000000000001?e[10]>21.500000000000004?e[1]>39.50000000000001?_=.04575380761203418:_=-.10025595041353463:e[15]>1e-35?_=.17705790384964004:_=.0073813837628615014:_=.07676373681392407:_=-.027167992693885996:e[3]>11.500000000000002?e[280]>1e-35?_=.07078572910026419:e[4]>23.500000000000004?_=.005513918674164821:_=.0206586476926392:e[0]>5269.500000000001?_=.07706773525822633:_=-.010233826953776122:e[148]>1e-35?e[8]>1622.5000000000002?_=-.03204783603215824:_=.027405418223981973:e[4]>14.500000000000002?e[131]>1e-35?e[9]>1.5000000000000002?e[0]>5026.500000000001?_=-.0930246911392012:_=.011173087289703683:e[3]>24.500000000000004?_=.03281421918878597:_=.12449335091369843:e[204]>1e-35?_=.06634531187326123:_=-.011522999669353388:e[92]>1e-35?e[10]>42.50000000000001?_=-.041196758517013515:e[4]>7.500000000000001?_=-2942718111029724e-20:e[4]>6.500000000000001?_=.11953909558532852:_=.03188615019450534:e[122]>1e-35?_=-.0616037324662157:e[101]>1e-35?_=.027230889593349412:e[8]>4968.500000000001?_=-.1113986516540856:e[3]>2.5000000000000004?_=-.002045140426885727:e[129]>1e-35?_=.12641163374304432:_=.014909826232873194;let R;e[308]>1e-35?e[0]>7277.500000000001?R=-.09337446795435:e[5]>423.00000000000006?e[133]>1e-35?R=-.040884836258675006:e[210]>1e-35?R=-.0003719413278428804:e[13]>1e-35?R=.030287610160818174:R=.011174130013595384:e[1]>38.50000000000001?R=-.0662442170185784:R=.004332185707008564:e[9]>7.500000000000001?e[145]>1e-35?e[285]>1e-35?R=-.08092286307197555:R=.029866363328584986:e[21]>1e-35?e[10]>4.500000000000001?R=-.1155211149523894:R=-.0032903546638958538:e[149]>1e-35?R=-.03632198993199768:e[3]>9.500000000000002?e[8]>999.5000000000001?R=-.003507023626534306:e[128]>1e-35?e[4]>13.500000000000002?e[0]>3459.5000000000005?R=-.025416927789760076:R=.02777568919793122:R=-.10310351509769732:R=.013549608903688785:e[186]>1e-35?R=.08513865847420551:R=-.009306721292510369:e[31]>1e-35?R=.009780833952582307:e[23]>1e-35?R=.011143773934157629:e[210]>1e-35?R=.025354797285173356:e[17]>1e-35?e[10]>3.5000000000000004?R=-.04846287537743046:R=-.014647271080376757:e[2]>5.500000000000001?e[7]>57.50000000000001?R=-.034224938681445764:e[8]>1641.5000000000002?R=-.027298372075800673:e[191]>1e-35?e[10]>18.500000000000004?R=-.027950103994861836:R=.14575930827829034:R=-.007124740389354946:e[10]>22.500000000000004?R=.013173304107866726:R=-.11119620042551365;let P;e[131]>1e-35?P=.01892225243240137:e[308]>1e-35?e[5]>691.5000000000001?e[133]>1e-35?P=-.037118314390013646:e[1]>51.50000000000001?e[5]>3749.5000000000005?e[8]>58.50000000000001?P=-.022305242912035072:P=.024792895826340516:P=.013666137278072166:e[88]>1e-35?e[10]>27.500000000000004?P=.2080083584805785:P=.04247197078083379:e[10]>40.50000000000001?e[18]>1e-35?e[1]>27.500000000000004?P=.060783227455868206:P=-.056904865557409035:P=-.03278952553107572:e[192]>1e-35?P=.13117402617043625:P=.01647119888257836:P=-.01825870445636398:e[9]>6.500000000000001?e[298]>1e-35?P=.026536210945939682:e[8]>691.5000000000001?e[126]>1e-35?P=-.07927319604548912:e[10]>3.5000000000000004?e[21]>1e-35?P=-.11083976837572328:e[146]>1e-35?P=-.03359294484446772:P=-.0042815953591236475:e[190]>1e-35?P=-.09264239592903775:e[10]>1e-35?P=.022282638485105657:P=-.0205994057928458:e[5]>4918.500000000001?P=.03430715695199153:e[243]>1e-35?e[2]>57.50000000000001?P=.08935072241972036:P=-.03781647876237494:P=.0062655753179671515:e[31]>1e-35?P=.008603500300349887:e[230]>1e-35?P=.03350056932774173:e[23]>1e-35?e[241]>1e-35?P=.10277555508503314:P=.0017901817172993888:e[2]>98.50000000000001?P=-.05920081229672715:P=-.015722173275739208;let F;e[13]>1e-35?e[118]>1e-35?F=.07957905150112207:e[1]>125.50000000000001?F=-.0662620579858685:e[145]>1e-35?F=.029682040828779843:e[19]>1e-35?e[6]>15.500000000000002?F=-.0009597832580977798:F=-.081474760755753:e[212]>1e-35?F=.03637001492325179:F=.006912305498963309:e[32]>1e-35?F=-.03919900630910754:e[134]>1e-35?F=-.036225295529777886:e[4]>4.500000000000001?e[5]>384.50000000000006?e[204]>1e-35?F=.06671440854602108:e[136]>1e-35?F=-.07577364230133474:e[148]>1e-35?e[4]>7.500000000000001?F=.026430947016830915:F=-.04075501264495112:e[9]>93.50000000000001?F=-.04353169430417609:e[50]>1e-35?F=-.1411224537622882:e[17]>1e-35?e[49]>1e-35?F=.068392679163672:e[10]>1.5000000000000002?F=-.0209659792007492:F=-.0004393235559249831:e[133]>1e-35?e[9]>64.50000000000001?F=.07254524592323175:F=-.0319087835282534:F=.00037444813327793425:F=-.025138768151370408:e[243]>1e-35?F=-.050010891710502096:e[94]>1e-35?F=-.0817513550778599:e[122]>1e-35?F=-.061038875809822285:e[19]>1e-35?e[8]>1085.5000000000002?F=-.008408408775061623:e[2]>5.500000000000001?e[218]>1e-35?F=.1454877641381946:F=.053787998331240316:e[9]>33.50000000000001?F=.08602629796680285:F=-.03895127455803038:F=.008830878042315722;let W;e[131]>1e-35?W=.01687979707990516:e[8]>2915.5000000000005?e[297]>1e-35?W=.07473600489975568:e[0]>93.50000000000001?W=-.021596848506011502:W=-.13840802327735696:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?W=.10264284346448256:W=.031042487183181262:W=-.016653982936827776:e[4]>60.50000000000001?e[10]>75.50000000000001?W=.04226403420647408:e[10]>1e-35?e[0]>4733.500000000001?W=.006271403149804702:W=-.030013637555715046:e[0]>4449.500000000001?W=-.06556876058654929:W=.06437994816903034:e[32]>1e-35?W=-.043814577251655815:e[308]>1e-35?e[0]>7277.500000000001?W=-.09349726304052086:e[210]>1e-35?W=-.0035960132209098003:e[5]>691.5000000000001?e[133]>1e-35?W=-.029188394315052574:W=.017219308333820193:W=-.017378928852189585:e[9]>6.500000000000001?e[0]>2653.5000000000005?e[149]>1e-35?W=-.04428555753857688:W=.0001456106867817353:e[5]>213.50000000000003?W=.01740292726636365:W=-.011361718115556464:e[7]>4.500000000000001?e[0]>316.50000000000006?e[19]>1e-35?e[10]>54.50000000000001?W=.03410288911259329:e[121]>1e-35?W=-.06056527462120627:e[8]>2592.5000000000005?W=.12166808844363577:e[191]>1e-35?W=.11669879218998758:W=-.001664858391716235:W=-.01262927450503166:W=-.04506589951879664:e[227]>1e-35?W=-.08548904959752329:W=.02156080776537726;let se;e[306]>1e-35?e[149]>1e-35?se=-.1389218965136736:se=-.032218642644416894:e[13]>1e-35?se=.006465035217331847:e[50]>1e-35?se=-.1381687930130022:e[179]>1e-35?se=-.13112784985951215:e[148]>1e-35?e[8]>1726.5000000000002?se=-.03262719498763048:se=.023342916702125613:e[191]>1e-35?se=.030005484947580197:e[4]>4.500000000000001?e[204]>1e-35?se=.047767773119269434:e[136]>1e-35?e[0]>1937.5000000000002?se=-.09989343595668776:se=.06533942033334243:e[15]>1e-35?e[9]>86.50000000000001?se=-.10577989354150097:e[8]>668.5000000000001?e[126]>1e-35?se=-.09165257825246746:e[9]>32.50000000000001?se=.02484870392366004:se=-.008499493096971395:e[8]>24.500000000000004?se=.02459679192828244:se=-.010527978013140512:e[25]>1e-35?e[217]>1e-35?se=.0015644546318714849:se=-.06579524865022705:se=-.0060233890975120614:e[122]>1e-35?e[1]>36.50000000000001?se=.03331853632960164:se=-.09482264761126993:e[19]>1e-35?e[8]>1430.5000000000002?se=-.019091477207111116:se=.037878468575478504:e[94]>1e-35?se=-.08013082284576584:e[4]>2.5000000000000004?e[186]>1e-35?se=.16919658785098224:e[243]>1e-35?se=-.06580584936754524:se=.01567555159935563:e[129]>1e-35?se=.06721746994993226:e[10]>32.50000000000001?se=-.046394462507797975:se=-.006436180519584767;let de;e[131]>1e-35?de=.015039096856208693:e[8]>779.5000000000001?e[145]>1e-35?de=.019122095523977856:e[298]>1e-35?de=.023828936462317443:e[1]>23.500000000000004?e[5]>384.50000000000006?e[7]>59.50000000000001?de=-.026094309429557913:e[204]>1e-35?de=.09163404305658318:e[1]>27.500000000000004?e[149]>1e-35?e[6]>34.50000000000001?de=.012643810980689466:de=-.07884161741497837:de=-.0025267379810891104:e[2]>43.50000000000001?e[0]>2860.5000000000005?de=.04493082949897325:de=.18046359750455776:e[7]>18.500000000000004?de=-.018667348656891496:de=.02584325784698236:de=-.045696524897545915:e[0]>3321.5000000000005?e[201]>1e-35?de=.04749240016989375:de=-.0333334578246718:e[5]>3276.5000000000005?de=.11330554740098908:e[7]>94.50000000000001?de=.1296600395033268:de=-.003576436308940934:e[15]>1e-35?e[183]>1e-35?de=-.13787130789142835:e[0]>1847.5000000000002?de=.017915229729920556:e[10]>23.500000000000004?e[10]>31.500000000000004?e[6]>7.500000000000001?de=.028856848462727104:de=-.11197632885851168:de=.08169801342016791:e[1]>22.500000000000004?de=-.021052888644970163:de=.019048604298876753:e[7]>4.500000000000001?de=-.002603328695276418:e[7]>1.5000000000000002?e[2]>5.500000000000001?de=.03432638833359197:de=-.0036767863082454973:e[1]>48.50000000000001?de=.03087375270128195:e[2]>3.5000000000000004?de=-.04219917149740248:de=.018818493993207935;let re;e[306]>1e-35?re=-.04076858123502297:e[13]>1e-35?e[1]>67.50000000000001?e[9]>14.500000000000002?e[9]>53.50000000000001?e[8]>1971.5000000000002?re=-.09091897542577475:re=.04042943082645558:e[218]>1e-35?re=.056254985867151:re=-.053848117950183044:re=.003881630017086845:e[5]>5152.500000000001?e[8]>857.5000000000001?e[6]>28.500000000000004?re=.021581808008986944:re=-.05639286496176611:re=.052838875036198954:e[5]>50.50000000000001?e[5]>4082.5000000000005?e[17]>1e-35?re=.023061479860228728:e[145]>1e-35?e[9]>10.500000000000002?re=.023885302967553288:re=.1617794086125622:e[212]>1e-35?re=.04504545345658806:e[3]>17.500000000000004?e[4]>45.50000000000001?re=-.03948072448245435:e[1]>47.50000000000001?e[9]>18.500000000000004?re=.01894935813286188:re=-.06449356357429188:re=.012297239104320094:e[1]>26.500000000000004?e[8]>33.50000000000001?re=-.034718828212885515:re=.0898976288814321:e[1]>17.500000000000004?re=-.15440137451988326:re=-.03864183216821465:re=.009988507307006308:re=-.08540311947043305:e[50]>1e-35?re=-.13323659732101975:e[134]>1e-35?re=-.031820386486894385:e[32]>1e-35?e[8]>2302.5000000000005?re=.08082476177379844:re=-.041665761903645876:e[179]>1e-35?re=-.12405023987936657:e[39]>1e-35?re=-.06247416524997478:e[138]>1e-35?re=-.10724031753676487:re=-.0005423122305122404;let G;e[308]>1e-35?G=.006160742906729798:e[190]>1e-35?e[0]>2461.5000000000005?e[10]>22.500000000000004?G=.023223358334607133:G=-.04383410185346742:G=-.08542395045055405:e[297]>1e-35?e[8]>51.50000000000001?e[1]>13.500000000000002?G=.023406489302867494:G=-.085521220804058:G=-.02921899554854833:e[298]>1e-35?e[9]>12.500000000000002?G=.028120059780969632:G=-.04211009474298743:e[294]>1e-35?G=-.05040415676618239:e[86]>1e-35?e[1]>36.50000000000001?G=-.0993035220737934:G=-.0005384930611060366:e[230]>1e-35?e[4]>6.500000000000001?G=.029770210551187937:G=-.016272917551655715:e[4]>60.50000000000001?e[280]>1e-35?G=.06421359317599738:G=-.01963732469244167:e[218]>1e-35?e[3]>3.5000000000000004?G=.024368404612215164:G=-.04045232374803373:e[131]>1e-35?G=.017372701982485795:e[120]>1e-35?G=.08812710275150198:e[18]>1e-35?e[90]>1e-35?G=.18451364351180236:e[7]>33.50000000000001?G=-.03850813130183531:e[195]>1e-35?G=.06966114053446336:e[3]>16.500000000000004?G=-.0012869181693341211:e[0]>4242.500000000001?G=-.054625548611291035:G=-.014431095117473881:e[5]>4558.500000000001?e[8]>1.5000000000000002?G=.006302103427145562:G=.13967622319898698:e[121]>1e-35?G=-.038798585213145644:e[5]>4544.500000000001?G=-.08050498033009466:G=-.002986974112681435;let U;e[0]>384.50000000000006?e[2]>101.50000000000001?e[1]>16.500000000000004?U=-.03461119351456781:U=.05659026566680352:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?U=-.12404435523286539:U=-.0034376913880382956:U=-.09821622245095822:e[131]>1e-35?e[9]>1.5000000000000002?U=.0037507103585310234:U=.03610387965829944:e[8]>999.5000000000001?e[9]>137.50000000000003?U=-.11985021663179699:e[0]>1847.5000000000002?e[126]>1e-35?U=-.04832024079663151:e[37]>1e-35?U=-.037103393468366934:U=-.004248086592531705:e[8]>3084.0000000000005?e[9]>43.50000000000001?U=.032539071163832034:e[5]>1643.5000000000002?U=.036408625378035665:e[0]>1500.5000000000002?U=-.1346358322854993:U=-.027586559522081014:e[3]>1e-35?e[190]>1e-35?U=-.1133991164577881:e[9]>52.50000000000001?U=-.024478640359723122:U=.03673777861098756:U=-.1037451237591819:e[230]>1e-35?e[9]>48.50000000000001?e[10]>20.500000000000004?U=.002583438691776944:U=.10773520810108106:e[9]>12.500000000000002?e[1]>16.500000000000004?U=-.02141222346712401:U=.06392462314316179:e[4]>12.500000000000002?U=.08700122294434816:e[8]>267.50000000000006?U=.056923170082743224:U=-.07716309825583327:e[32]>1e-35?U=-.03961343943752142:U=.002674914122888783:e[1]>42.50000000000001?U=-.05217539654421676:e[145]>1e-35?U=.09553630282946368:U=-.009424791262477729;let ne;e[183]>1e-35?ne=-.05753337139158443:e[308]>1e-35?ne=.00562436671450989:e[9]>7.500000000000001?e[21]>1e-35?e[10]>8.500000000000002?ne=-.10477869875380448:ne=-.0070301869937306055:e[3]>9.500000000000002?e[8]>1765.5000000000002?e[0]>4571.500000000001?ne=-.12526505173232894:e[10]>1e-35?e[9]>71.50000000000001?ne=-.04442302951713574:ne=.00012409888451734224:ne=-.092199119633697:e[225]>1e-35?ne=.13773072450201831:e[0]>2882.5000000000005?ne=.0028540012229920533:e[298]>1e-35?ne=.07134486044361629:ne=.014297412329837425:e[145]>1e-35?ne=.05608385321902638:e[92]>1e-35?ne=.038298413603926135:e[107]>1e-35?e[2]>6.500000000000001?ne=-.0039957800609801315:ne=.0776927564241081:e[203]>1e-35?ne=-.05502900859432093:e[105]>1e-35?ne=.06062892720841595:ne=-.009574839629252128:e[31]>1e-35?ne=.009488858841144216:e[23]>1e-35?e[20]>1e-35?ne=.08818126313644752:e[8]>161.50000000000003?ne=.014353968957885408:ne=-.022240738532827903:e[210]>1e-35?ne=.024648862719806694:e[2]>5.500000000000001?e[4]>4.500000000000001?e[17]>1e-35?e[10]>16.500000000000004?ne=-.043902062079383485:ne=-.014741559220396223:ne=-.00934935734853194:e[6]>32.50000000000001?ne=.1514593126307404:ne=.010771222510801532:e[10]>22.500000000000004?ne=.01412495209334078:ne=-.08576940379502533;let J;e[0]>384.50000000000006?e[84]>1e-35?J=-.06647690967306838:e[2]>101.50000000000001?J=-.024451334501552457:e[306]>1e-35?J=-.034517188927733505:e[131]>1e-35?e[9]>1.5000000000000002?J=.0031858381443673127:J=.032574927024450646:e[204]>1e-35?e[1]>62.50000000000001?J=-.08601340441214533:e[1]>29.500000000000004?J=.10487598629539963:e[8]>597.5000000000001?J=-.0786529133673238:J=.08689436600511559:e[8]>779.5000000000001?e[10]>2.5000000000000004?e[9]>100.50000000000001?J=-.04883600353740688:e[126]>1e-35?J=-.03794042763348827:J=-.003358871967539988:e[210]>1e-35?J=.054991356498447566:e[6]>19.500000000000004?J=-.007418396981635549:J=.018032606049498613:e[18]>1e-35?e[7]>35.50000000000001?e[2]>44.50000000000001?J=-.02143003429501711:J=-.09016000554055564:e[1]>19.500000000000004?e[1]>42.50000000000001?e[8]>17.500000000000004?J=-.006636355416244082:J=-.06483095743431454:e[4]>21.500000000000004?J=-.028975965946833545:J=.022012264796522657:J=-.06653648243193663:e[5]>4593.500000000001?J=.01753551428088607:e[217]>1e-35?J=-.028864824937700297:e[94]>1e-35?J=-.04885192273020658:e[279]>1e-35?J=.08105715462329498:e[121]>1e-35?J=-.04576676034750651:J=.004795141324949362:e[1]>42.50000000000001?J=-.047446619702809195:e[145]>1e-35?J=.08400495571952321:J=-.00854528836489364;let j;e[294]>1e-35?j=-.042529778074638265:e[266]>1e-35?j=-.1180276669679798:e[134]>1e-35?j=-.026818144353279623:e[183]>1e-35?j=-.05120747503479363:e[227]>1e-35?e[8]>1641.5000000000002?j=-.07265906898294434:e[4]>12.500000000000002?e[17]>1e-35?j=-.027516137530797014:e[0]>4331.500000000001?e[1]>64.50000000000001?j=-.03049646619610203:e[1]>50.50000000000001?j=.20634590755061122:j=.06956378103625731:e[0]>3770.5000000000005?j=-.07946414366134913:e[19]>1e-35?j=.17083312065604694:e[2]>21.500000000000004?j=-.02327981978127724:j=.129717297518715:e[145]>1e-35?j=.006891245076133524:j=-.0789123467863741:e[3]>99.50000000000001?j=-.02022281202803071:e[302]>1e-35?e[10]>47.50000000000001?j=.06447639919732716:j=-.05457561977645972:e[306]>1e-35?j=-.029995903305383882:e[191]>1e-35?j=.030596508110850414:e[242]>1e-35?j=-.024085578702020216:e[8]>3198.5000000000005?e[297]>1e-35?j=.09518584795377832:j=-.018197744600833596:e[13]>1e-35?j=.006751790086127549:e[148]>1e-35?j=.01904174573618417:e[99]>1e-35?j=.025287735102561926:e[4]>14.500000000000002?j=-.004364337681643273:e[1]>15.500000000000002?e[35]>1e-35?j=-.09467943982430241:e[243]>1e-35?j=-.02521824751996268:j=.005437570718352172:j=-.022476214821960674;let O;e[0]>384.50000000000006?e[84]>1e-35?O=-.06088131453064195:e[147]>1e-35?O=-.05332792965930566:e[135]>1e-35?e[9]>32.50000000000001?O=.04219361472548491:O=-.07227529211725771:e[10]>4.500000000000001?e[21]>1e-35?O=-.0787279848043689:e[17]>1e-35?e[3]>18.500000000000004?e[188]>1e-35?O=-.054347604504400286:e[0]>3544.5000000000005?e[0]>5850.500000000001?O=-.11431764534511478:O=.013549717238356157:O=-.020987333767091276:e[6]>2.5000000000000004?O=-.02914877855133127:O=.08483464900160231:e[8]>58.50000000000001?e[183]>1e-35?O=-.10087072787978416:e[37]>1e-35?O=-.030467397753331196:e[229]>1e-35?O=-.1017559811057469:e[4]>20.500000000000004?O=-.00413177742240167:e[20]>1e-35?O=.05213315982685969:O=.0037921635866823133:e[8]>51.50000000000001?O=.07327913092421544:e[6]>49.50000000000001?O=-.03457694284156811:e[6]>18.500000000000004?e[7]>17.500000000000004?O=.02744420891894289:O=.11288946357194463:O=.003482908820966248:e[18]>1e-35?e[1]>20.500000000000004?e[7]>4.500000000000001?O=-.012329314369909049:O=.026816658655600168:O=-.0872405354618811:O=.007872673500247845:e[1]>42.50000000000001?O=-.04309044198258254:e[145]>1e-35?O=.07572529147860785:e[7]>5.500000000000001?O=-.013837187093264945:e[1]>17.500000000000004?O=.04208698439539668:O=-.06284346769019863;let V;e[294]>1e-35?V=-.0384794324818203:e[266]>1e-35?V=-.1087205883821061:e[32]>1e-35?e[8]>2302.5000000000005?V=.07432960094940501:V=-.035248735855751855:e[134]>1e-35?V=-.02456191365284949:e[121]>1e-35?e[0]>4720.500000000001?e[1]>39.50000000000001?V=-.01706896375068821:V=.08212247914968074:e[2]>59.50000000000001?V=-.09546478958824225:e[6]>53.50000000000001?V=.12317082897575611:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?V=.02816463285971267:V=.15449139016588445:V=-.10199787406123524:V=-.038068684323297096:e[223]>1e-35?e[8]>668.5000000000001?V=-.13924786681478077:V=-.0072772442570213335:e[39]>1e-35?V=-.05392786531177836:e[0]>93.50000000000001?e[40]>1e-35?V=-.054059371343144036:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?V=-.11174465335620831:V=.00013144040097180107:V=-.08493919336681105:e[42]>1e-35?V=-.11078582572836196:e[84]>1e-35?e[4]>17.500000000000004?V=-.015540659878839153:V=-.14442609417300142:e[21]>1e-35?V=-.025251979447574083:V=.0023698372645272847:e[18]>1e-35?V=.07269739695712212:e[8]>2592.5000000000005?V=-.1460388776448558:e[9]>30.500000000000004?e[1]>23.500000000000004?V=-.01835130329646532:e[9]>45.50000000000001?V=.02023047454629885:V=.16469378262221102:V=-.042975030085836426;let Z;e[8]>2915.5000000000005?e[297]>1e-35?Z=.06257393915394144:e[0]>93.50000000000001?e[4]>1.5000000000000002?Z=-.01034964686484714:Z=-.07357437440667927:Z=-.11987794734779106:e[298]>1e-35?e[8]>81.50000000000001?e[0]>3370.5000000000005?e[8]>155.50000000000003?e[8]>660.5000000000001?e[8]>2134.5000000000005?Z=-.09476398869062203:e[9]>72.50000000000001?Z=-.0757383854264379:Z=.02806542779508718:Z=-.05147742568418084:Z=.10212721564444344:Z=.0518263760642861:Z=-.08743405377022222:e[189]>1e-35?e[0]>5269.500000000001?Z=-.10669213185972036:Z=.027050434286384796:e[302]>1e-35?Z=-.0407832394672723:e[116]>1e-35?e[10]>38.50000000000001?Z=.06354599160071946:e[1]>67.50000000000001?Z=.05317447949011187:Z=-.059138165935307165:e[212]>1e-35?e[19]>1e-35?Z=-.09369289448773599:e[0]>2215.5000000000005?Z=.04077965380363924:e[0]>807.5000000000001?Z=-.0591771776458298:Z=.057315736906679376:e[308]>1e-35?e[1]>52.50000000000001?e[5]>3749.5000000000005?Z=-.016323380219241672:Z=.007291062979527741:e[210]>1e-35?e[8]>1641.5000000000002?Z=.03720704290087811:Z=-.008730548158766654:e[4]>80.50000000000001?Z=-.05346644687473197:Z=.014596824736762107:e[218]>1e-35?e[3]>3.5000000000000004?Z=.019984510398089086:Z=-.03917825025861855:e[9]>170.50000000000003?Z=-.09759719821334525:Z=-.0023586682752856298;let ae;e[183]>1e-35?e[17]>1e-35?ae=.030100940443356424:e[10]>1.5000000000000002?ae=-.10861112216742408:ae=.017680668976453255:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?ae=-.032062878390325456:ae=-.10808232631806887:e[8]>1641.5000000000002?ae=-.06147013392655731:e[4]>12.500000000000002?ae=.03324767551088266:e[145]>1e-35?ae=.028851633810612017:ae=-.054871239091792784:e[134]>1e-35?ae=-.023813968121342108:e[266]>1e-35?ae=-.10037039667146351:e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>1939.5000000000002?ae=-.055566877553100726:e[2]>24.500000000000004?e[8]>182.50000000000003?e[10]>43.50000000000001?e[10]>55.50000000000001?ae=-.025350325484720576:ae=.1579024598549572:e[9]>2.5000000000000004?e[0]>3746.5000000000005?ae=.056817276537534815:ae=-.07674158463557636:ae=-.06335553143454145:e[1]>56.50000000000001?ae=.16390494217299284:ae=-.0027330160430847177:e[10]>36.50000000000001?e[8]>1067.5000000000002?ae=.041717597065890205:ae=-.10357913492269129:e[10]>29.500000000000004?ae=.1365512866715726:ae=.020600048310575665:ae=.09708785634773187:ae=-.060427658852305666:e[126]>1e-35?e[10]>32.50000000000001?e[6]>24.500000000000004?e[8]>1146.5000000000002?ae=-.03146213719547347:ae=.11784024316238083:ae=-.050940520532045355:ae=-.047988344143075616:e[191]>1e-35?ae=.028764654731460032:ae=.0011911575567860023;let te;e[294]>1e-35?e[10]>50.50000000000001?te=-.11630092297244568:e[0]>2432.5000000000005?e[0]>4199.500000000001?te=-.05103908560370243:te=.05002066201169583:te=-.09976646725732496:e[32]>1e-35?e[0]>4242.500000000001?te=-.0648838712201258:e[5]>3721.5000000000005?e[9]>4.500000000000001?te=.127983140816313:te=-.05436534163636867:te=-.024514536544596455:e[121]>1e-35?e[0]>4449.500000000001?e[4]>9.500000000000002?te=-.009504203657088933:e[8]>819.5000000000001?te=.18689664822602375:te=.03635576744011826:te=-.029862411809998525:e[223]>1e-35?te=-.06474496692999487:e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?te=-.09405026597863717:e[0]>4153.500000000001?te=.053577663326799765:te=-.05062127873995668:te=.06512222894425874:e[39]>1e-35?te=-.04985311717827547:e[51]>1e-35?te=-.04541229517934797:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?te=-.02860634573675884:te=.08863753005590103:te=.11158892111063744:e[0]>655.5000000000001?te=-.031005736641654926:te=-.1439827004505974:e[222]>1e-35?e[1]>11.500000000000002?e[0]>612.5000000000001?te=-.00843386136334982:te=-.05273594615999777:te=.1060183822015004:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?te=-.015774115523598486:te=.10147367091236065:te=-.048307000563071016:te=.002118376117677254;let le;e[8]>1014.5000000000001?e[9]>137.50000000000003?le=-.10279096288817871:e[0]>93.50000000000001?e[8]>1067.5000000000002?e[227]>1e-35?le=-.03544332389470493:e[285]>1e-35?e[9]>64.50000000000001?le=.07211107542565391:le=-.041556776020476104:e[145]>1e-35?e[1]>66.50000000000001?le=-.0751486415451188:e[1]>59.50000000000001?le=.13459005084554104:le=.024184371850147466:e[0]>3072.5000000000005?e[95]>1e-35?le=.06715575425741895:le=-.005895690393702183:e[8]>2915.5000000000005?le=-.010205039411753762:e[9]>33.50000000000001?e[9]>47.50000000000001?le=-.00029068886245881074:le=.0613467393188786:e[148]>1e-35?le=-.06074463294936236:e[3]>1.5000000000000002?e[5]>1849.5000000000002?e[1]>15.500000000000002?le=.003887223773199377:le=-.08553893131979015:le=.025654192706396767:le=-.05651733979610658:le=-.02039913645229667:e[2]>7.500000000000001?le=-.1058450646728524:le=.02267192191610376:e[1]>120.50000000000001?e[2]>60.50000000000001?le=-.12304707569000428:e[1]>132.50000000000003?e[6]>41.50000000000001?le=.1283258201586378:le=-.01718135372229775:le=-.07702452408491414:e[125]>1e-35?le=-.0804612900572707:e[178]>1e-35?e[0]>4533.500000000001?le=.04273051857848212:le=-.04533122948101463:e[2]>196.50000000000003?le=-.10543331044088727:e[94]>1e-35?e[5]>4532.500000000001?le=.0231032972703664:le=-.04807386814498683:le=.002729435991332102;let fe;e[179]>1e-35?fe=-.08065315471211375:e[183]>1e-35?e[17]>1e-35?fe=.026484626664041125:e[10]>1.5000000000000002?fe=-.10187000872941615:fe=.015274190652133752:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?fe=.09574540795390041:fe=-.06454986703691233:fe=-.11411849349353141:e[266]>1e-35?fe=-.09281838517322076:e[32]>1e-35?e[8]>2302.5000000000005?fe=.06685250330182936:e[4]>67.50000000000001?e[2]>97.50000000000001?fe=-.04403391373512386:fe=.1132928075412222:e[2]>47.50000000000001?fe=-.09700191391838056:fe=-.02147184357182825:e[10]>4.500000000000001?e[21]>1e-35?fe=-.0735617817957859:e[17]>1e-35?e[3]>18.500000000000004?fe=-.001668912999010927:fe=-.02363511102970245:e[8]>58.50000000000001?fe=-.00035213368294640616:e[3]>17.500000000000004?e[2]>28.500000000000004?e[10]>23.500000000000004?e[1]>38.50000000000001?fe=.0911011436534449:e[1]>28.500000000000004?fe=-.07192390493729035:fe=.06913818091291246:fe=-.012312625373699222:fe=.06784496312307986:fe=-167756936027735e-19:e[18]>1e-35?e[8]>302.50000000000006?fe=.0026564453057705273:fe=-.025425772389361445:e[122]>1e-35?fe=-.12046786388602149:e[0]>3183.5000000000005?fe=.01162092842804907:e[91]>1e-35?fe=.07000265526928563:e[1]>22.500000000000004?e[0]>576.5000000000001?fe=-.0001647792543020228:fe=-.023664538532907665:fe=.01609078206180752;let De;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4141.500000000001?De=-.051473645433684705:e[0]>3030.5000000000005?e[1]>51.50000000000001?De=-.017696526862422682:De=.1450050954613223:De=-.05406930069823832:De=-.08308700260259043:e[120]>1e-35?De=.058316269489189415:e[297]>1e-35?e[94]>1e-35?De=-.07425512495167255:e[8]>51.50000000000001?e[1]>13.500000000000002?e[1]>33.50000000000001?e[19]>1e-35?e[0]>4498.500000000001?De=.038431826961746934:De=-.05937462906539856:e[9]>65.50000000000001?De=.10814845712507865:e[4]>9.500000000000002?e[2]>22.500000000000004?e[1]>39.50000000000001?e[1]>44.50000000000001?e[10]>44.50000000000001?De=.12297945639231944:e[0]>3796.5000000000005?e[4]>26.500000000000004?De=-.09579030954062734:De=.025064711572811746:De=.02579440518821548:De=.1044440128091862:De=-.058348633139536844:De=.07766788227934436:De=-.01021229539092708:e[2]>2.5000000000000004?e[10]>29.500000000000004?e[0]>3770.5000000000005?e[0]>4438.500000000001?De=.07463684068207214:De=.18244269035484484:e[6]>39.50000000000001?De=-.06050050067471004:De=.05787759066913493:De=.010783225857972171:De=.1674891243602606:e[4]>9.500000000000002?De=-.004814132027475892:De=-.14543299413454813:De=-.02935093398687923:e[116]>1e-35?e[9]>2.5000000000000004?e[8]>1218.5000000000002?De=-.07634466313617769:De=.0287825335169114:De=-.06894721943300268:De=-.00023988459059521937;let ve;e[131]>1e-35?e[1]>93.50000000000001?ve=-.05706887458825395:e[2]>1.5000000000000002?ve=.011446637886629108:ve=-.10616119878749211:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?ve=.08424281276381033:e[3]>17.500000000000004?e[20]>1e-35?ve=.11146885439601915:e[8]>61.50000000000001?e[0]>3530.5000000000005?e[9]>48.50000000000001?e[9]>61.50000000000001?ve=.026278724448495064:ve=.17053138400480508:e[0]>4463.500000000001?ve=-.06482289890096041:ve=.03026516489536295:ve=-.031785170717683144:ve=.1312690622980455:e[13]>1e-35?ve=.14336922540461444:ve=.03523850945454039:ve=-.015407465968975714:e[39]>1e-35?ve=-.054809635385158186:e[32]>1e-35?e[0]>4242.500000000001?ve=-.0659975068798723:ve=-.008386582621403979:e[4]>60.50000000000001?e[10]>75.50000000000001?e[3]>107.50000000000001?ve=-.04225314193574262:e[3]>70.50000000000001?e[1]>29.500000000000004?ve=.057409156184759516:ve=.2024322059866388:ve=-.030670938454461245:e[10]>1e-35?e[0]>4733.500000000001?ve=.010648654146284154:e[308]>1e-35?ve=.008728141696325391:e[4]>64.50000000000001?e[298]>1e-35?ve=.12364025998551711:ve=-.02247495081065243:e[1]>22.500000000000004?ve=-.0726295464624251:ve=.03481895086048152:e[0]>4331.500000000001?ve=-.04775443357020673:ve=.07172377425057568:e[2]>89.50000000000001?ve=-.11782645274716962:ve=.00010092665257989378;let Ue;e[147]>1e-35?Ue=-.041560228567115574:e[302]>1e-35?e[10]>47.50000000000001?Ue=.062292114082780084:e[10]>5.500000000000001?e[7]>22.500000000000004?Ue=-.016101990375700172:e[0]>2579.5000000000005?Ue=-.13045089661551845:Ue=-.02874367814784938:Ue=.025835149631944995:e[167]>1e-35?e[0]>3928.5000000000005?Ue=.17084176915326055:Ue=-.019195947948312853:e[222]>1e-35?e[30]>1e-35?e[1]>36.50000000000001?e[8]>45.50000000000001?e[8]>578.5000000000001?e[1]>67.50000000000001?Ue=.10591712319944074:Ue=-.024082167264285:Ue=.16497698867036126:Ue=-.04985066326861431:e[0]>1937.5000000000002?e[2]>16.500000000000004?Ue=-.021012910475524206:Ue=-.13058422554298485:e[0]>1102.5000000000002?Ue=.10955864175201457:Ue=-.03566689354348996:e[1]>11.500000000000002?Ue=-.02093884208606101:Ue=.09107244766183857:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?Ue=-.013861861436128482:Ue=.09756849802202777:e[224]>1e-35?e[1]>51.50000000000001?Ue=.10163873449625677:Ue=-.02779270277623805:e[1]>26.500000000000004?Ue=-.08035058228527389:Ue=.0005719695099064484:e[191]>1e-35?e[9]>9.500000000000002?Ue=-.007028075523033826:Ue=.0489470913925288:e[1]>61.50000000000001?e[132]>1e-35?Ue=.11230846723576784:e[0]>350.50000000000006?e[2]>1.5000000000000002?Ue=-.0032075580718124892:Ue=-.04442829143298883:Ue=-.06597073245775804:Ue=.0015594090939337751;let ke;e[223]>1e-35?e[8]>668.5000000000001?ke=-.12803889879260094:ke=.002171373740016862:e[121]>1e-35?e[0]>4720.500000000001?e[217]>1e-35?ke=.08967966612917375:e[1]>39.50000000000001?ke=-.059791671514498074:ke=.05648934961902822:e[2]>59.50000000000001?ke=-.08633234097449628:e[6]>53.50000000000001?ke=.11140345067444689:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?ke=.025606129643140924:ke=.13835395886271978:ke=-.09361630641448024:e[4]>7.500000000000001?e[1]>26.500000000000004?e[1]>49.50000000000001?ke=-.09975506556937946:e[10]>36.50000000000001?ke=-.09427724661655643:e[10]>24.500000000000004?ke=.07329330653410447:ke=-.02271182965807972:ke=-.09767874967639482:e[6]>13.500000000000002?e[10]>23.500000000000004?ke=-.05082091374050816:ke=.1687114435254966:e[0]>2314.5000000000005?ke=-.06422664016383926:ke=.0636688376664789:e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?ke=-.06857762517406195:e[9]>71.50000000000001?e[0]>4188.500000000001?ke=-.1274167728754332:ke=.01308079126447365:e[4]>73.50000000000001?ke=.13854015371106546:e[4]>48.50000000000001?ke=-.03684255740123261:e[6]>45.50000000000001?ke=.10329912215813097:e[10]>77.50000000000001?ke=-.08630788656925215:ke=.031022006843800853:e[1]>25.500000000000004?ke=-.08278381528048026:ke=.06664374548141594:e[84]>1e-35?ke=-.05624227409079396:ke=.00012184182357340415;let Ze;e[179]>1e-35?Ze=-.07443348719246982:e[40]>1e-35?e[0]>1937.5000000000002?Ze=-.07595415373151816:Ze=.054065040429292326:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[0]>1187.5000000000002?Ze=.022822510448266862:Ze=.17491569312933697:Ze=-.058362287133533565:e[2]>2.5000000000000004?Ze=-.03633895806364428:Ze=.06397808186120692:e[8]>4968.500000000001?e[1]>31.500000000000004?Ze=-.07294848747514579:Ze=.025053613105805606:e[230]>1e-35?e[4]>6.500000000000001?e[107]>1e-35?Ze=-.07009535282685533:e[8]>2640.0000000000005?Ze=-.051761240111316276:e[131]>1e-35?Ze=-.06245774419231631:Ze=.03495606662854905:Ze=-.013863522184803188:e[131]>1e-35?e[1]>93.50000000000001?e[1]>105.50000000000001?Ze=.0015036626973581122:Ze=-.12505706794835883:e[1]>48.50000000000001?e[276]>1e-35?Ze=.10435171369790015:e[0]>5026.500000000001?e[0]>5308.500000000001?Ze=.022343994371919224:Ze=-.14087991797693533:e[8]>1323.5000000000002?e[10]>49.50000000000001?Ze=.07724450228328664:e[0]>3853.5000000000005?Ze=-.15671707454435677:e[10]>28.500000000000004?Ze=-.10179090671841723:Ze=.014878216919760927:Ze=.03967665658164865:e[8]>2696.5000000000005?e[15]>1e-35?Ze=.14054154485273487:Ze=.01821247272493051:e[2]>5.500000000000001?e[2]>100.50000000000001?Ze=-.08632985141410315:Ze=.005524157938954954:Ze=-.08802502622523681:Ze=-.0004649168897260341;let ft;e[86]>1e-35?e[8]>65.50000000000001?e[1]>32.50000000000001?e[4]>16.500000000000004?ft=-.007458687464321174:ft=-.09444966249102484:e[1]>23.500000000000004?ft=.08564129697360716:ft=-.07105002902845851:ft=.05688756955238231:e[294]>1e-35?e[10]>50.50000000000001?ft=-.10326216566705966:e[1]>26.500000000000004?ft=.0050539832484585365:ft=-.07080395606126953:e[306]>1e-35?e[149]>1e-35?ft=-.10399433201474328:e[2]>14.500000000000002?e[9]>6.500000000000001?ft=.05783632021087773:e[10]>17.500000000000004?ft=-.06720598671764105:e[1]>47.50000000000001?ft=.097495825172558:ft=-.013372242800584872:ft=-.06463226787713715:e[42]>1e-35?ft=-.0885725817597767:e[204]>1e-35?e[1]>62.50000000000001?ft=-.07496598696848249:e[1]>29.500000000000004?e[8]>446.50000000000006?ft=.11051270080118503:ft=.027719462817590454:e[8]>597.5000000000001?ft=-.08441503592016869:ft=.05534229430302502:e[223]>1e-35?e[8]>668.5000000000001?ft=-.12190088985091102:ft=-.0067442838156576345:e[148]>1e-35?e[9]>79.50000000000001?ft=.09225972475904022:e[2]>10.500000000000002?e[1]>102.50000000000001?ft=.11805676536334647:e[8]>1726.5000000000002?e[9]>10.500000000000002?ft=.016585157185448045:ft=-.11032043771149425:ft=.01586986028570486:e[8]>388.50000000000006?ft=-.10592413013261853:ft=.04930703248769364:e[13]>1e-35?ft=.003621937787920821:ft=-.0013786331198611841;let at;e[145]>1e-35?e[1]>32.50000000000001?e[1]>38.50000000000001?e[10]>55.50000000000001?e[1]>54.50000000000001?at=.009769895322846493:at=-.10620052926943656:e[9]>19.500000000000004?at=.03781202525403449:e[9]>14.500000000000002?at=-.11485785321365344:e[9]>6.500000000000001?at=.07677177833073881:e[0]>4342.500000000001?at=-.07079285609687631:e[49]>1e-35?at=.06156814809246001:at=-.014788509042554625:at=-.032659201618470655:e[5]>5207.500000000001?at=-.09013500825185713:e[3]>10.500000000000002?e[8]>1787.5000000000002?at=-.03094160322187924:e[1]>29.500000000000004?at=.09474646043921069:at=.023445783928231618:at=.09342846694174194:e[0]>533.5000000000001?e[204]>1e-35?e[1]>62.50000000000001?at=-.07164443768784848:e[1]>29.500000000000004?at=.089473622509272:e[8]>597.5000000000001?at=-.08155349903101317:at=.07098423265024251:e[8]>691.5000000000001?e[5]>2252.5000000000005?at=-.004003900679358653:e[190]>1e-35?at=-.09236113461485262:e[8]>3198.5000000000005?at=-.0124130160451179:at=.018453070064009328:e[15]>1e-35?at=.012013209112857824:e[7]>4.500000000000001?e[7]>5.500000000000001?at=-.0009580759587680961:at=-.03227283036698222:at=.01369287669536875:e[1]>50.50000000000001?at=-.04213060332500437:e[35]>1e-35?at=-.11508095777767471:e[190]>1e-35?at=-.08611884672400155:e[297]>1e-35?at=.05723551879433584:at=-.004829340082311461;let lt;e[183]>1e-35?lt=-.037994150023203555:e[227]>1e-35?e[17]>1e-35?e[3]>20.500000000000004?e[10]>36.50000000000001?lt=-.11753465135886734:lt=-.007515490299047085:lt=-.08576941990777916:e[8]>1641.5000000000002?e[10]>37.50000000000001?lt=-.12371142493530439:e[1]>36.50000000000001?lt=.032189417575190435:lt=-.10339125953022954:e[3]>32.50000000000001?e[4]>27.500000000000004?e[1]>59.50000000000001?lt=-.0784518658439288:e[2]>54.50000000000001?lt=.12477882322370665:lt=.000313468482399738:lt=.12261955132611434:e[8]>81.50000000000001?e[23]>1e-35?lt=.04969252946760318:e[8]>511.50000000000006?e[8]>1146.5000000000002?lt=.0353146070135579:lt=-.06327619611098285:lt=.02813577701641991:lt=-.12354390728506215:e[34]>1e-35?lt=-.07664408516055397:e[3]>99.50000000000001?e[1]>16.500000000000004?e[1]>26.500000000000004?lt=-.01245803535276381:lt=-.07169472553475001:e[1]>11.500000000000002?lt=.12989984824561698:lt=-.01201544398886606:e[6]>91.50000000000001?e[1]>22.500000000000004?lt=.010390226893521422:e[10]>14.500000000000002?lt=.16790888126487719:lt=.010614982228955577:e[4]>79.50000000000001?e[9]>44.50000000000001?e[0]>3853.5000000000005?lt=-.043398307129729134:lt=.09963544907820426:e[9]>30.500000000000004?lt=-.13540713124984502:e[9]>17.500000000000004?lt=.0509435850590757:lt=-.04761897852404613:e[4]>78.50000000000001?lt=.09197086656470652:lt=.0006771050176682337;let ie;e[122]>1e-35?e[6]>36.50000000000001?ie=.05686884451670743:ie=-.05334759543084309:e[266]>1e-35?ie=-.08603579519816038:e[157]>1e-35?ie=-.06736746113382097:e[302]>1e-35?e[0]>2579.5000000000005?ie=-.0499592651503952:e[0]>725.5000000000001?ie=.11780353905132664:ie=-.05232097173108943:e[147]>1e-35?e[1]>53.50000000000001?ie=-.11398297342629615:e[0]>2604.5000000000005?e[0]>3629.5000000000005?ie=-.03190157229022304:ie=.07985197845805492:ie=-.0763078988943886:e[4]>41.50000000000001?e[280]>1e-35?ie=.05162933940904835:e[11]>1e-35?e[0]>460.50000000000006?ie=-.027174047777029083:ie=.057117284879796476:e[3]>43.50000000000001?ie=-.0016147040913107311:ie=-.05856597304613519:e[2]>45.50000000000001?e[0]>4663.500000000001?e[18]>1e-35?ie=-.04779247091640426:e[10]>25.500000000000004?e[9]>22.500000000000004?e[22]>1e-35?ie=-.01466076988151239:ie=.13375695925484857:ie=-.04885873081899647:e[0]>5566.500000000001?ie=.11086813028591343:e[8]>992.5000000000001?ie=-.07622304217072383:ie=.04316019272026325:e[10]>12.500000000000002?e[9]>36.50000000000001?e[9]>45.50000000000001?ie=.03285858361708423:ie=-.12354858211764992:ie=.0672788301823281:e[15]>1e-35?ie=.08658836986585006:ie=-.02741484278509758:e[290]>1e-35?ie=-.08161310335133287:e[135]>1e-35?ie=-.04824156054814152:ie=.0009156904299554183;let Fe;e[3]>7.500000000000001?Fe=.0006791852818377787:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Fe=.03642374718166293:Fe=.16379973756366603:Fe=-.03946685266127979:e[186]>1e-35?Fe=.07618896623420895:e[96]>1e-35?Fe=.0680272261319657:e[107]>1e-35?e[1]>48.50000000000001?Fe=-.022822371600847505:Fe=.0501405836324949:e[203]>1e-35?e[1]>77.50000000000001?Fe=.044416424920571296:Fe=-.0648450593196238:e[5]>3921.5000000000005?e[1]>110.50000000000001?Fe=-.11110466767595227:e[9]>5.500000000000001?e[9]>52.50000000000001?e[1]>50.50000000000001?Fe=.1061937286809567:e[7]>54.50000000000001?Fe=.11487507743121311:e[8]>819.5000000000001?Fe=-.07181278009001418:e[10]>25.500000000000004?Fe=.13499019430369633:e[1]>31.500000000000004?Fe=.09032979489780704:Fe=-.12754166393372374:e[9]>37.50000000000001?Fe=-.05093963635361407:Fe=-.005026651151683848:e[9]>2.5000000000000004?Fe=.07619735785573735:Fe=.012363301341532136:e[26]>1e-35?Fe=-.10685800454968203:e[8]>125.50000000000001?e[8]>446.50000000000006?e[0]>3842.5000000000005?Fe=-.08783796894105043:e[282]>1e-35?e[1]>47.50000000000001?e[9]>40.50000000000001?Fe=-.10764172927882483:Fe=.01890760098464703:Fe=.06573095405846417:e[8]>634.5000000000001?Fe=-.00783575973273707:Fe=-.050612689680229306:e[1]>22.500000000000004?Fe=-.0016842490401359626:Fe=.0738227088444087:Fe=-.02663970950432175;let Ae;e[31]>1e-35?e[8]>17.500000000000004?Ae=.013678038624884814:e[1]>35.50000000000001?e[1]>51.50000000000001?Ae=.007191286124908192:Ae=-.09347881647636902:e[10]>1.5000000000000002?Ae=.07938758708008091:Ae=-.008702935600305113:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?Ae=.12321804057595996:Ae=-.018281109320672437:e[23]>1e-35?e[4]>62.50000000000001?Ae=-.04644244754790671:Ae=.024546310702263208:e[8]>862.5000000000001?e[0]>3429.5000000000005?e[4]>9.500000000000002?e[52]>1e-35?Ae=.0706108609273337:e[2]>40.50000000000001?Ae=-.028046629962303716:Ae=-.06497613993109329:Ae=.01076489668586676:e[1]>33.50000000000001?e[0]>966.5000000000001?e[2]>14.500000000000002?e[1]>38.50000000000001?Ae=-.03056331974267756:Ae=-.11886389712497057:Ae=.053364962175658184:e[8]>2233.5000000000005?Ae=-.0448152521157682:Ae=.1508651602190868:e[2]>33.50000000000001?e[0]>2882.5000000000005?e[0]>3183.5000000000005?Ae=.03818796510453344:Ae=.23673992112982362:Ae=.02858814226507374:e[10]>44.50000000000001?Ae=-.1125863771551199:Ae=.009129996952394916:e[1]>7.500000000000001?Ae=-.004374525302461639:Ae=-.07858519434925451:e[149]>1e-35?e[6]>23.500000000000004?Ae=.0005231594491642136:e[0]>4053.5000000000005?e[8]>660.5000000000001?Ae=-.13677189943034931:e[10]>2.5000000000000004?Ae=.039591891437078086:Ae=-.09312596849507347:Ae=-.02423172142089822:Ae=.0009836986075266283;let Ge;e[189]>1e-35?e[0]>5269.500000000001?Ge=-.103183298350443:e[2]>51.50000000000001?Ge=.09784373530929913:e[10]>26.500000000000004?e[8]>764.5000000000001?Ge=-.05186168947388339:Ge=.0496996365539082:e[10]>23.500000000000004?Ge=.1404445738719:e[93]>1e-35?Ge=.0027146310074558505:e[5]>3821.5000000000005?Ge=.002153033152069652:e[4]>2.5000000000000004?Ge=.007663539551317215:Ge=.13902616832015402:e[298]>1e-35?e[8]>81.50000000000001?e[4]>64.50000000000001?Ge=.11498405722487515:e[2]>23.500000000000004?e[0]>2815.5000000000005?e[2]>44.50000000000001?e[4]>42.50000000000001?Ge=-.021479467709980358:Ge=.09336868994327292:e[1]>22.500000000000004?e[15]>1e-35?Ge=.021660293256233334:Ge=-.0927396152303864:Ge=.0665074081601698:e[0]>1550.5000000000002?Ge=.08972407105958534:Ge=-.0380796411182682:e[6]>13.500000000000002?e[10]>2.5000000000000004?Ge=.06761927942466854:Ge=-.015762168112653286:e[17]>1e-35?Ge=.10311304131145381:Ge=-.017672785252336027:Ge=-.08629805732772755:e[1]>24.500000000000004?e[138]>1e-35?Ge=-.10638321435298535:Ge=.0007073011744385905:e[18]>1e-35?Ge=-.027056185501334325:e[145]>1e-35?Ge=.023191199677450886:e[9]>33.50000000000001?e[201]>1e-35?Ge=.09762140519655171:e[9]>110.50000000000001?Ge=-.06581942957595835:e[6]>54.50000000000001?Ge=.04959634035251596:Ge=.0022616298654554207:Ge=-.007437620924990854;let z;e[179]>1e-35?z=-.06961998209988884:e[167]>1e-35?e[0]>3928.5000000000005?z=.1470294450403005:z=-.01671476793947083:e[187]>1e-35?e[6]>13.500000000000002?e[4]>30.500000000000004?e[13]>1e-35?z=.07448480853603114:e[0]>1012.5000000000001?e[5]>2883.5000000000005?e[0]>3682.5000000000005?e[5]>4031.5000000000005?e[23]>1e-35?z=.07965955447707423:e[10]>10.500000000000002?z=-.09236156404262426:z=.03396273196231458:z=-.13246465021467432:z=.07092822261735353:z=-.08753829085942:z=.09409024840640956:e[1]>40.50000000000001?e[8]>984.5000000000001?e[8]>1514.5000000000002?e[8]>2134.5000000000005?z=.004705878789890202:z=.13775378964952867:z=-.04770928980587811:e[10]>29.500000000000004?z=.011221519891071544:e[0]>3853.5000000000005?z=.06365381191628273:z=.15506252245336827:e[1]>37.50000000000001?z=-.07254777021042061:z=.026514587757252385:e[308]>1e-35?z=.04115804816617256:e[10]>26.500000000000004?z=.02077721353011946:e[5]>3548.5000000000005?z=-.1280907116663952:z=-.021974774274438:e[306]>1e-35?z=-.02700446558079895:e[297]>1e-35?e[212]>1e-35?z=.07794139136748461:e[7]>5.500000000000001?e[19]>1e-35?z=-.005710865560475598:e[94]>1e-35?z=-.06751507982853555:z=.027250040757588703:e[9]>52.50000000000001?z=.07060357924595577:z=-.030297760713011795:z=-.0006005400085266517;let ee;e[113]>1e-35?ee=-.07311041707507712:e[40]>1e-35?e[0]>1937.5000000000002?ee=-.06996356565314456:ee=.04780211300352931:e[10]>52.50000000000001?e[49]>1e-35?ee=-.08317707559926495:e[21]>1e-35?ee=-.0817284654645976:e[15]>1e-35?e[2]>3.5000000000000004?ee=-.010538203005984922:ee=.08454819465349446:e[9]>124.50000000000001?ee=.09015659250299132:e[7]>15.500000000000002?e[5]>5732.500000000001?ee=-.08542251249346582:e[9]>50.50000000000001?ee=-.023428882537657472:ee=.010042500833979073:ee=.020697210754240154:e[10]>28.500000000000004?e[5]>423.00000000000006?e[148]>1e-35?ee=.03006025206979096:e[9]>108.50000000000001?ee=-.09153851322499747:e[145]>1e-35?e[5]>4814.500000000001?e[2]>38.50000000000001?ee=.04222035773042132:ee=-.09078149053947535:e[8]>568.5000000000001?e[1]>64.50000000000001?ee=-.07209095448054853:ee=.028065954981903313:ee=.08714651929917122:ee=-.006678820669279169:e[10]>40.50000000000001?ee=.006982396294941626:ee=-.07889649792011418:e[94]>1e-35?e[4]>30.500000000000004?ee=-.09351114982645548:e[4]>3.5000000000000004?ee=-.004837550129223451:ee=-.08324141237464677:e[303]>1e-35?ee=.10703037493990825:e[9]>156.50000000000003?ee=-.10803018621648303:e[116]>1e-35?ee=-.03208302566598311:e[212]>1e-35?e[243]>1e-35?ee=.10261721665006701:ee=.018994509090668264:ee=.0011244262442038839;let Le;e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?Le=-.08404263465005328:e[0]>3682.5000000000005?Le=.041259223920298876:e[1]>29.500000000000004?Le=-.09541257493441671:Le=.001482192721625409:Le=.051541427372951004:e[3]>7.500000000000001?e[157]>1e-35?Le=-.08268996098437432:e[230]>1e-35?Le=.015749498159959817:e[4]>7.500000000000001?e[3]>11.500000000000002?Le=-913218977737457e-19:e[4]>10.500000000000002?Le=-.056334165674005156:e[127]>1e-35?Le=-.0784634021824036:e[2]>9.500000000000002?e[1]>62.50000000000001?Le=-.04231200150318989:e[10]>42.50000000000001?Le=.10182973257894812:Le=.015934763950068445:Le=-.03130938805859397:e[92]>1e-35?e[4]>6.500000000000001?e[1]>51.50000000000001?e[9]>19.500000000000004?Le=-.041117068322885315:Le=.1167767830037126:Le=.13611206992387337:e[10]>41.50000000000001?Le=-.07120286010564107:Le=.022032788063345417:e[8]>1.5000000000000002?e[1]>51.50000000000001?e[9]>72.50000000000001?Le=-.07702290997669524:e[198]>1e-35?Le=.08776558554437136:Le=-.008290740324975692:e[2]>32.50000000000001?Le=.07198457624219955:Le=.005463113714361629:Le=.09414099512900526:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Le=.03295785445437507:Le=.15140250150674536:Le=-.035613213948910254:e[186]>1e-35?Le=.06849425535860769:e[96]>1e-35?Le=.06028225812727254:Le=-.007582543288662308;let Se;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Se=.08396556264106572:Se=-.0562516995099192:Se=-.10593011018789432:e[183]>1e-35?e[15]>1e-35?Se=-.09705176473553752:e[7]>18.500000000000004?e[2]>37.50000000000001?Se=.0052017514017035915:Se=-.11194119432743639:Se=.03724337696163019:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?Se=-.025692451287403446:Se=-.09511862672123193:e[8]>1661.5000000000002?e[10]>37.50000000000001?Se=-.11892250746801664:e[10]>22.500000000000004?Se=.07548493166973796:Se=-.05973048107712209:e[4]>12.500000000000002?e[0]>4319.500000000001?e[10]>4.500000000000001?e[10]>37.50000000000001?Se=.13750699058082427:e[18]>1e-35?Se=.06535408879552801:Se=-.054118179035040674:Se=.1344282838979622:e[0]>3982.5000000000005?Se=-.10409582202467015:e[19]>1e-35?Se=.12672850705810795:e[8]>587.5000000000001?e[1]>35.50000000000001?Se=.012705935670766466:Se=.14149359442527545:Se=-.047977876173706004:e[20]>1e-35?Se=.057945228080337946:e[0]>3642.5000000000005?Se=-.008726535792122467:Se=-.08424769891378858:e[34]>1e-35?Se=-.0699329538228602:e[134]>1e-35?e[11]>1e-35?e[4]>15.500000000000002?e[0]>1187.5000000000002?Se=.01196849566739346:Se=.1614642278429876:Se=-.043022338150701625:e[3]>5.500000000000001?Se=-.03907848255033881:Se=.018280601026175593:Se=.0006654540402589085;let Ce;e[31]>1e-35?e[2]>58.50000000000001?e[9]>1.5000000000000002?Ce=-.01386103677247845:Ce=.11386694333005128:e[4]>27.500000000000004?Ce=-.021862617610091336:e[2]>31.500000000000004?Ce=.0828858469030438:Ce=.006483353475830127:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?Ce=.11303635767048735:Ce=-.01645525128352694:e[23]>1e-35?e[4]>62.50000000000001?Ce=-.04238798044549342:Ce=.022091190130494303:e[5]>5082.500000000001?Ce=-.04287166152163786:e[8]>862.5000000000001?e[19]>1e-35?Ce=.000660344696244351:e[4]>9.500000000000002?e[0]>1277.5000000000002?Ce=-.04291104140431434:e[17]>1e-35?Ce=.11256797532342613:Ce=-.017206916368289193:Ce=.026482035265709743:e[1]>8.500000000000002?e[11]>1e-35?Ce=.04060606971664621:e[0]>4733.500000000001?e[8]>214.50000000000003?e[5]>4814.500000000001?Ce=.03581712466863222:Ce=.14770264307668884:e[8]>73.50000000000001?Ce=-.13093289429740068:Ce=.042461737442702936:e[52]>1e-35?Ce=.0501831919044939:Ce=-.010450249720465756:Ce=-.0753365425372656:e[149]>1e-35?e[6]>23.500000000000004?Ce=.0005381332165438493:Ce=-.04549431717503909:e[133]>1e-35?e[2]>5.500000000000001?e[8]>698.5000000000001?e[282]>1e-35?Ce=.04849637311285226:Ce=-.036671377119808564:e[0]>421.50000000000006?Ce=.00020968499911058945:Ce=.11636422423182405:Ce=-.12687837788222575:Ce=.0012774367867215346;let qe;e[120]>1e-35?qe=.04776057572434719:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?qe=-.042799574885345304:qe=.07412430171193245:qe=-.11248270469336048:e[193]>1e-35?qe=-.060694220820603384:e[121]>1e-35?e[217]>1e-35?e[0]>4449.500000000001?e[4]>8.500000000000002?qe=.028911612178122104:qe=.12326369727728437:e[0]>4091.5000000000005?qe=-.09370267064141052:e[0]>3519.5000000000005?e[8]>668.5000000000001?qe=.1159839898100149:qe=-.01924880886585737:e[8]>501.50000000000006?e[10]>16.500000000000004?qe=-.0216343737351583:qe=-.1220272260878369:e[2]>18.500000000000004?qe=.09152924475072398:e[8]>55.50000000000001?qe=.039508716651005665:qe=-.11714436880423203:e[18]>1e-35?e[9]>2.5000000000000004?qe=.06793009902674053:qe=-.024060578029812988:e[4]>2.5000000000000004?e[2]>16.500000000000004?e[4]>11.500000000000002?qe=-.04391068849624096:qe=.04009967593394672:e[8]>1085.5000000000002?qe=-.024773826356034825:qe=-.13919707884246582:qe=.06659278075192335:e[223]>1e-35?e[8]>668.5000000000001?qe=-.11567917501901476:qe=-.006813640337684114:e[3]>7.500000000000001?qe=.0010671269682548076:e[7]>3.5000000000000004?e[1]>33.50000000000001?e[0]>1597.5000000000002?e[10]>1.5000000000000002?qe=-.001754586408351048:qe=-.055422422450722056:qe=-.06090032532532226:e[0]>5269.500000000001?qe=.11787981735983527:qe=-.00198119768540783:qe=.00210412924303036;let Ve;e[294]>1e-35?e[10]>50.50000000000001?Ve=-.09738558653332406:e[0]>2432.5000000000005?e[0]>4533.500000000001?Ve=-.06063239096209816:Ve=.03317022411417386:Ve=-.08607562321324262:e[120]>1e-35?e[4]>18.500000000000004?Ve=-.013608609329298802:Ve=.09078000157330264:e[99]>1e-35?Ve=.014828708581964632:e[10]>52.50000000000001?e[49]>1e-35?Ve=-.07536137260189814:Ve=.006253266595455118:e[10]>28.500000000000004?Ve=-.006106041147592768:e[9]>156.50000000000003?Ve=-.11828932797811101:e[94]>1e-35?Ve=-.02566078479505714:e[303]>1e-35?Ve=.09544850289775349:e[15]>1e-35?e[224]>1e-35?e[4]>56.50000000000001?Ve=-.08401252789168523:e[5]>4244.500000000001?Ve=.026372887658499107:e[1]>16.500000000000004?Ve=-.027836756345634026:Ve=.09205362097909099:Ve=.00934612788718244:e[203]>1e-35?Ve=-.016371658366767253:e[7]>26.500000000000004?e[0]>966.5000000000001?e[1]>38.50000000000001?e[146]>1e-35?e[9]>21.500000000000004?Ve=-.09580979052540028:e[1]>50.50000000000001?Ve=-.06402211827281554:Ve=.08342858760095972:e[2]>36.50000000000001?Ve=.008114897658204584:e[92]>1e-35?Ve=.09541587072672864:Ve=-.022342147210555434:Ve=-.01660492519175128:Ve=.014721622240945446:e[4]>25.500000000000004?e[11]>1e-35?Ve=.15846731118501817:Ve=.039498507912023195:e[245]>1e-35?Ve=.07008718676813333:Ve=.0019806389728814727;let tt;e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[0]>4188.500000000001?tt=-.01192072916082109:tt=.13888590840802637:e[1]>16.500000000000004?e[8]>2302.5000000000005?tt=.06874032717466054:e[4]>40.50000000000001?tt=-.07752510020707537:e[1]>76.50000000000001?tt=-.09944032260703917:e[8]>1381.5000000000002?tt=-.054466635810800745:e[1]>32.50000000000001?tt=.05974084520839573:tt=-.0384718740755954:tt=-.11374190719134032:e[0]>2151.5000000000005?tt=-.13703645155803298:tt=.004833344758654556:e[297]>1e-35?e[212]>1e-35?tt=.06954747264544993:e[7]>9.500000000000002?e[19]>1e-35?e[1]>30.500000000000004?e[0]>4242.500000000001?tt=.013539805885738608:tt=-.0692740641801559:e[0]>2653.5000000000005?e[10]>57.50000000000001?tt=.09941880179344399:tt=-.01608127391210995:tt=.08025226531247417:e[9]>67.50000000000001?tt=.13525448212444113:e[6]>61.50000000000001?tt=-.05511099182158894:e[94]>1e-35?tt=-.06821509831783572:e[128]>1e-35?tt=.11361314817714643:tt=.030160785008575566:e[1]>13.500000000000002?e[8]>17.500000000000004?e[16]>1e-35?tt=-.09954181329804547:e[197]>1e-35?tt=.10102833149755386:e[188]>1e-35?tt=.05584490988313965:e[9]>49.50000000000001?e[4]>5.500000000000001?tt=-.03781554214742005:tt=.09927933385592314:tt=-.020006000056720083:tt=-.10520473615957895:tt=-.12006990846253787:tt=-.00026111570975317574;let Ct;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[0]>1725.5000000000002?e[7]>14.500000000000002?e[2]>38.50000000000001?Ct=-.019188245509744628:Ct=-.13354864350075848:e[0]>2461.5000000000005?Ct=.051885477468354396:Ct=-.0833581968852119:Ct=.08233441701532287:Ct=-.10865584951212362:e[8]>2992.5000000000005?e[10]>49.50000000000001?e[10]>56.50000000000001?e[1]>45.50000000000001?e[0]>2041.5000000000002?Ct=.09926337893072812:Ct=-.027753610497327715:e[0]>1972.5000000000002?Ct=-.09780045823152517:Ct=.032380915168504935:Ct=.11502632261226381:e[17]>1e-35?Ct=-.06094965899579662:e[10]>40.50000000000001?Ct=-.07500475582440802:Ct=.006499832113084677:e[10]>4.500000000000001?e[4]>10.500000000000002?Ct=-.09584538995220808:Ct=-.00908705814304442:Ct=.03203281520813893:e[10]>49.50000000000001?Ct=-.03146271513986384:e[2]>63.50000000000001?Ct=.13172001315536286:e[224]>1e-35?Ct=.08945777550527927:e[0]>2282.5000000000005?e[4]>4.500000000000001?Ct=.09521549382082259:Ct=-.04414925613522197:e[0]>1847.5000000000002?Ct=-.09118580379557353:Ct=.009206744918282364:e[178]>1e-35?e[2]>25.500000000000004?e[1]>31.500000000000004?Ct=.03525144509943896:Ct=-.053340750721609057:e[0]>1057.5000000000002?e[10]>2.5000000000000004?Ct=-.04766112322938157:e[2]>10.500000000000002?Ct=.0728516504357201:Ct=-.05049625965272536:Ct=-.10868663055825774:Ct=.0005382613419948969;let Pt;e[147]>1e-35?e[1]>53.50000000000001?Pt=-.10615739288764095:e[0]>2604.5000000000005?e[0]>3629.5000000000005?Pt=-.030504020655417463:Pt=.07102458639110094:Pt=-.07058131985243714:e[302]>1e-35?e[10]>47.50000000000001?Pt=.055304563442710876:e[1]>53.50000000000001?Pt=.033723409577443623:e[8]>175.50000000000003?e[0]>2628.5000000000005?e[9]>40.50000000000001?Pt=-.1568835288372895:Pt=-.0279829124400056:Pt=.04493843959601833:Pt=-.11637042729644327:e[191]>1e-35?e[282]>1e-35?Pt=-.054133834303687026:e[9]>48.50000000000001?Pt=.11263810289007213:e[9]>9.500000000000002?Pt=-.02202034562838259:e[4]>45.50000000000001?Pt=-.03410927569045158:Pt=.04381615166534081:e[242]>1e-35?e[0]>3615.5000000000005?e[3]>19.500000000000004?e[1]>56.50000000000001?e[4]>28.500000000000004?Pt=-.029687297407295893:Pt=.10673602850001934:e[4]>42.50000000000001?Pt=.0036275562945108117:Pt=-.0760789221330622:Pt=-.10385623431741903:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?Pt=.08274426793676076:Pt=-.07076234425516396:Pt=.13890177606150175:Pt=-.019863286503635686:e[53]>1e-35?e[18]>1e-35?Pt=-.09250637750836187:Pt=-.0031531727902009026:e[2]>107.50000000000001?e[4]>91.50000000000001?e[1]>16.500000000000004?Pt=-.01897867921812603:Pt=.04890781705365262:Pt=-.11569892307597907:e[2]>106.50000000000001?Pt=.09032697440623969:Pt=.00047935919155035045;let yt;e[115]>1e-35?yt=.05338335681275557:e[242]>1e-35?e[0]>3615.5000000000005?e[4]>42.50000000000001?e[4]>75.50000000000001?yt=-.10131179514695865:e[8]>938.5000000000001?yt=.10203729808015481:yt=-.015357944186835289:e[1]>56.50000000000001?e[2]>22.500000000000004?yt=.03574015165562999:yt=-.07763042506449493:yt=-.0813323116215548:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?yt=.0665706259130275:yt=-.06586817559309924:yt=.11925564412287476:yt=-.014170019267143326:e[1]>124.50000000000001?e[2]>30.500000000000004?e[8]>533.5000000000001?e[4]>41.50000000000001?e[8]>977.5000000000001?yt=.046017146627455346:yt=-.08623321630086885:e[8]>1765.5000000000002?yt=-.017990564319859934:e[10]>25.500000000000004?e[10]>48.50000000000001?yt=.11143827902215087:yt=-.01817808730473413:yt=.16980985030210127:yt=-.09357806298740017:e[10]>7.500000000000001?e[10]>54.50000000000001?yt=.010168994879727824:yt=-.09099594488792513:e[9]>1.5000000000000002?yt=.0533459678147928:yt=-.06886854808370108:e[99]>1e-35?e[17]>1e-35?e[9]>22.500000000000004?yt=-.062346959148773695:e[1]>47.50000000000001?yt=-.0021578343835599316:e[2]>27.500000000000004?yt=.19567373210166172:yt=.07851555379116423:e[18]>1e-35?yt=.03711549097804649:e[8]>359.50000000000006?yt=.012492346746905587:e[4]>20.500000000000004?yt=.047511695735697544:yt=-.07999269063948773:yt=6802045404471004e-20;let $t;e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>2167.5000000000005?e[4]>25.500000000000004?$t=.0011484728213539738:$t=-.0936582904650763:e[2]>25.500000000000004?e[8]>182.50000000000003?e[10]>22.500000000000004?e[0]>5026.500000000001?$t=-.09828874964938798:e[8]>1586.5000000000002?$t=.13726397438080162:e[4]>48.50000000000001?e[2]>63.50000000000001?$t=.011938269926919522:$t=.17541983715953954:e[19]>1e-35?$t=.023002786011088672:$t=-.06221461272461431:e[9]>2.5000000000000004?e[0]>3818.5000000000005?$t=.06508934844183291:$t=-.10168553534835639:$t=-.07755626499024171:e[2]>51.50000000000001?e[4]>65.50000000000001?$t=.021140806225203937:$t=-.1167833342453639:e[2]>33.50000000000001?$t=.13163585734056618:$t=-.00203273890889717:e[10]>36.50000000000001?e[8]>1067.5000000000002?$t=.06314479201263888:$t=-.09639088327091713:e[10]>29.500000000000004?$t=.09225469303582386:e[0]>3129.5000000000005?e[0]>4091.5000000000005?e[0]>4354.500000000001?$t=40577156464836036e-21:$t=.12322387121810757:$t=-.03697224045046014:e[1]>22.500000000000004?$t=.016474835887320276:$t=.16919298733903063:$t=.07633203630214054:$t=-.047438037934250644:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?$t=.14150493354700563:$t=-.01831155354975749:e[1]>28.500000000000004?$t=-.07952557178685365:e[10]>28.500000000000004?$t=.0665695554984927:$t=-.053640139319277094:$t=.0004754840665898665;let Kt;e[76]>1e-35?Kt=-.06814884255939921:e[179]>1e-35?Kt=-.06325743795510681:e[122]>1e-35?e[6]>36.50000000000001?Kt=.05052338063261613:e[8]>626.5000000000001?e[1]>38.50000000000001?Kt=.004193658608848433:Kt=-.1066968975983452:e[8]>302.50000000000006?Kt=.05476730110440451:Kt=-.06382970920394895:e[218]>1e-35?e[2]>3.5000000000000004?e[6]>13.500000000000002?e[2]>19.500000000000004?e[0]>3200.5000000000005?e[4]>91.50000000000001?Kt=-.12156071809840739:e[9]>21.500000000000004?e[5]>3883.5000000000005?e[8]>919.5000000000001?e[8]>1085.5000000000002?Kt=.013555772109446666:Kt=-.09856116699770784:Kt=.0284329611813383:e[2]>52.50000000000001?Kt=.04008708444763762:e[9]>29.500000000000004?Kt=-.1289599546008197:Kt=-.018566534248335896:e[8]>747.5000000000001?Kt=.02236484980076122:Kt=.1148871655157582:e[8]>3084.0000000000005?Kt=-.05573875952902531:e[10]>17.500000000000004?e[2]>51.50000000000001?Kt=.03164751204281298:Kt=.11752140436184891:e[9]>42.50000000000001?Kt=-.07180559595410106:e[22]>1e-35?Kt=.09325040416256854:Kt=-.016041122807939914:Kt=-.02765708954618808:e[1]>30.500000000000004?e[1]>66.50000000000001?Kt=-.010718250133458515:Kt=.09818827994853763:Kt=.010180038981174032:Kt=-.039472162599295535:e[9]>170.50000000000003?Kt=-.08536729235976731:e[189]>1e-35?e[0]>5269.500000000001?Kt=-.08674788057474031:Kt=.02077653508548371:Kt=-.0003536561382007414;let sr;e[86]>1e-35?e[10]>6.500000000000001?e[0]>4376.500000000001?sr=.018337297491457794:sr=-.05926206443180149:sr=.024026520855881126:e[288]>1e-35?e[184]>1e-35?sr=.10747078482128616:e[126]>1e-35?sr=-.10550625192391357:e[7]>71.50000000000001?sr=-.07698346027863572:e[8]>302.50000000000006?e[6]>49.50000000000001?e[4]>47.50000000000001?e[1]>38.50000000000001?e[15]>1e-35?sr=.1317396472229434:sr=-.025035791351328947:sr=-.0728334305864372:e[8]>963.5000000000001?sr=.023642201723096064:sr=.183010326734258:e[128]>1e-35?sr=.04228920135648387:e[2]>34.50000000000001?e[15]>1e-35?sr=.002801782941492993:e[3]>40.50000000000001?e[4]>39.50000000000001?sr=-.1088876900335281:sr=.02758317023002635:sr=-.11886771300807207:e[9]>59.50000000000001?e[1]>33.50000000000001?sr=-.01928020117446408:sr=.10193718474139135:e[1]>48.50000000000001?e[4]>9.500000000000002?e[8]>932.5000000000001?sr=.07893723375925096:sr=-.009878929627026153:e[10]>2.5000000000000004?e[9]>20.500000000000004?sr=-.10301657587280551:sr=.005787463140224318:sr=.07421364314695046:e[0]>2840.5000000000005?e[10]>29.500000000000004?sr=-.019296977889522397:sr=-.07274529751752634:e[1]>30.500000000000004?sr=-.050368901143148286:sr=.029630869489466655:e[2]>6.500000000000001?e[4]>9.500000000000002?sr=.0015332402792773946:sr=.09930153676749967:sr=-.06370844564357069:sr=.00042272155209927616;let ge;e[71]>1e-35?e[4]>17.500000000000004?ge=.12586844370423247:ge=-.006791999603126354:e[222]>1e-35?e[1]>10.500000000000002?e[30]>1e-35?e[1]>36.50000000000001?e[9]>1.5000000000000002?e[10]>25.500000000000004?ge=-.08474891624263797:e[8]>125.50000000000001?ge=.08125086980439704:ge=-.04082085238068532:e[0]>3863.5000000000005?ge=.020481535807469208:ge=.14810819386202126:e[0]>1937.5000000000002?e[2]>16.500000000000004?ge=-.019110200161573936:ge=-.12387719685855114:e[0]>1102.5000000000002?ge=.08376595701957407:ge=-.031821919580524834:e[9]>4.500000000000001?ge=-.08116383486497568:e[7]>8.500000000000002?e[2]>24.500000000000004?ge=-.02154820850475448:e[0]>3863.5000000000005?e[8]>902.5000000000001?ge=.1349841206807871:ge=.011864053595560297:e[1]>41.50000000000001?ge=-.08203662486612544:e[2]>18.500000000000004?ge=-.009541865642346947:ge=.08345043168501759:e[2]>10.500000000000002?ge=-.09585031818030947:ge=.019432330487099865:ge=.08399259524715129:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?ge=.11951517733981365:ge=-.016651014735738538:e[1]>28.500000000000004?ge=-.07410922545030711:e[10]>28.500000000000004?ge=.05886430683844788:ge=-.04929626605117184:e[191]>1e-35?e[9]>9.500000000000002?e[9]>48.50000000000001?ge=.04802269879144705:ge=-.026208212831796737:e[4]>45.50000000000001?ge=-.03227476944664786:ge=.05124575625622705:ge=.00020506696916003137;let Qe;e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?Qe=-.03042091758483443:e[10]>14.500000000000002?Qe=.09816619204768777:Qe=.01332124067720947:e[8]>8.500000000000002?e[4]>15.500000000000002?Qe=-.02381165060401718:Qe=-.10950361804974783:Qe=.03538211665111128:e[212]>1e-35?e[19]>1e-35?Qe=-.09940014650006174:e[0]>2215.5000000000005?e[5]>5056.500000000001?e[3]>5.500000000000001?e[10]>25.500000000000004?Qe=-.06371052144380579:Qe=.0835500621252692:Qe=-.10408255929333915:e[1]>74.50000000000001?Qe=.13208968122712403:e[1]>64.50000000000001?Qe=-.04778844603644965:e[8]>51.50000000000001?e[8]>201.50000000000003?e[8]>660.5000000000001?e[6]>4.500000000000001?e[9]>5.500000000000001?e[1]>29.500000000000004?e[0]>3830.5000000000005?Qe=.09922816902423433:Qe=.016366955328796718:Qe=.1592412560903584:e[1]>39.50000000000001?Qe=.05409467990258923:Qe=-.08260633210459611:Qe=-.06307205775247567:e[9]>36.50000000000001?Qe=.040253940015648144:Qe=.14202568969471283:Qe=-.028761848341594044:Qe=.08994073058773508:e[0]>807.5000000000001?Qe=-.043427848826323195:Qe=.04573516446846493:e[20]>1e-35?e[188]>1e-35?Qe=-.0758877731600639:e[23]>1e-35?Qe=.05913923322043199:e[8]>155.50000000000003?e[128]>1e-35?Qe=.08124700978741987:Qe=.013296063087086852:e[7]>5.500000000000001?Qe=-.01640196088612987:Qe=-.12685498840146067:Qe=-.0004940792382459551;let Je;e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Je=-.05584993681929434:e[9]>27.500000000000004?e[0]>3916.5000000000005?Je=.08513773825688947:Je=-.1184664832315282:Je=.05676963535893477:Je=.14263843210340613:Je=.0005795003292924202:e[18]>1e-35?e[0]>5453.500000000001?e[1]>11.500000000000002?Je=-.10669720555606924:Je=.029016613003137307:e[2]>46.50000000000001?e[10]>9.500000000000002?Je=.0664744575868955:Je=-.08469256188890871:Je=-.026746678040592144:e[281]>1e-35?Je=-.07408427239006925:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Je=.012131807587207655:Je=-.12776015795398743:Je=.04320472481083551:Je=.08390980661550446:e[10]>227.50000000000003?Je=-.09771783809101153:e[10]>130.50000000000003?Je=.11175201938704937:e[8]>779.5000000000001?e[5]>3325.5000000000005?e[128]>1e-35?Je=-.07610698254064358:e[8]>902.5000000000001?Je=-.03136381213599649:e[131]>1e-35?Je=.0704821739127936:e[224]>1e-35?Je=-.056961477774953785:e[10]>30.500000000000004?e[9]>43.50000000000001?Je=.10431473040024908:e[8]>841.5000000000001?Je=.07304745320500514:Je=-.038011541882439825:Je=-.01679746695007364:e[0]>3129.5000000000005?Je=.05589952587431965:e[210]>1e-35?Je=.06227198085800842:Je=-.0011341890997947812:e[8]>740.5000000000001?Je=.04817300084412584:Je=-.000577001010789238;let rt;e[187]>1e-35?e[6]>12.500000000000002?e[10]>8.500000000000002?e[10]>16.500000000000004?e[8]>234.50000000000003?e[4]>43.50000000000001?e[0]>4476.500000000001?rt=-.10504730480402079:e[5]>3341.5000000000005?rt=.11087894671081754:rt=-.0406668834674614:rt=.03308382165616109:e[8]>104.50000000000001?rt=-.10431436764549162:rt=.0073928337244891455:e[4]>34.50000000000001?rt=-.10571751512748416:rt=-.006081128814142983:e[13]>1e-35?rt=.1299673566095023:e[4]>60.50000000000001?rt=-.06587492443829139:e[0]>2604.5000000000005?e[3]>19.500000000000004?rt=.04857126072645073:rt=-.03431365358104773:e[4]>16.500000000000004?rt=.04101865986596709:rt=.16480274980378218:e[10]>26.500000000000004?rt=.03673978504199255:e[10]>9.500000000000002?rt=-.10996402743800027:e[308]>1e-35?rt=.0553693735082498:rt=-.041600136235644125:e[306]>1e-35?e[8]>1156.5000000000002?e[4]>14.500000000000002?e[10]>21.500000000000004?rt=.010902983761213922:rt=.1325118659895645:rt=-.064362945508595:e[1]>66.50000000000001?rt=.033416767779331176:rt=-.054080316225040496:e[42]>1e-35?rt=-.07762364337810815:e[10]>1089.5000000000002?rt=-.08465599849125216:e[31]>1e-35?e[8]>30.500000000000004?rt=.012788520036013586:e[1]>32.50000000000001?e[1]>51.50000000000001?rt=.0220102041325908:rt=-.06516708740003069:rt=.012833498905748267:e[224]>1e-35?rt=-.007038418272997865:rt=.00037666304316290967;let St;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?St=.07554189644995735:St=-.052089349455904946:St=-.10148206848169845:e[113]>1e-35?St=-.06666678653225779:e[39]>1e-35?e[9]>3.5000000000000004?e[0]>3670.5000000000005?St=.07172653627995676:St=-.07602959317610998:St=-.08790686271287523:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?St=-.0399322883690891:St=.06523495517476098:St=-.10358715295743802:e[193]>1e-35?St=-.05551414334329124:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[10]>1.5000000000000002?St=.015928764772252406:St=.1341513061552287:St=-.04975001987586173:e[10]>2.5000000000000004?e[3]>5.500000000000001?e[9]>2.5000000000000004?e[8]>310.50000000000006?St=-.033592997607280156:St=-.12432458028446665:e[1]>32.50000000000001?e[217]>1e-35?St=-.08402551858097379:St=.017401984506038796:e[1]>25.500000000000004?St=.13337205393591278:St=-.01160208350090984:St=.06708317942315471:e[8]>227.50000000000003?St=-.08486943882418681:St=-.013970104864235007:e[8]>4968.500000000001?e[1]>31.500000000000004?e[9]>4.500000000000001?St=-.10496268177586783:St=-.020921489532370493:St=.02629915927247642:e[7]>20.500000000000004?e[8]>251.50000000000003?e[115]>1e-35?St=.11639296062157028:St=-.004275784356569115:e[32]>1e-35?St=-.07297384970166025:St=.006026841626381599:St=.002034611134960428;let bt;e[248]>1e-35?bt=.06091438745093315:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?bt=-.06455513326540585:e[1]>29.500000000000004?bt=.07718474591552532:e[4]>7.500000000000001?bt=.040139336931404826:bt=-.09685734690563386:bt=.00015327283570347363:e[9]>88.50000000000001?bt=.10079017954199324:e[1]>47.50000000000001?e[2]>20.500000000000004?e[2]>27.500000000000004?bt=-.04077257804338707:bt=.0739963982640615:e[9]>1.5000000000000002?e[17]>1e-35?bt=.03778141591008941:bt=-.06459919920634845:bt=-.11193190957880604:e[7]>6.500000000000001?e[11]>1e-35?e[18]>1e-35?bt=.14063930759326346:e[0]>179.50000000000003?bt=.07287482250668585:e[8]>1180.5000000000002?bt=-.14419393112726253:e[10]>28.500000000000004?bt=-.07993142770099469:e[17]>1e-35?bt=-.04702595410391655:e[7]>21.500000000000004?e[2]>26.500000000000004?bt=.05527969663610186:bt=-.10824385941441346:e[3]>11.500000000000002?bt=.12358502961047915:bt=-.017509147119622873:e[0]>74.50000000000001?bt=-.014907705458730486:e[8]>95.50000000000001?bt=-.02225118168342062:bt=-.1222374623708485:e[8]>1.5000000000000002?e[8]>950.5000000000001?bt=.06946188930925638:e[3]>6.500000000000001?e[10]>2.5000000000000004?e[19]>1e-35?bt=.04962819555610421:bt=-.07213577821855309:bt=.09139529824708481:e[19]>1e-35?bt=.013439401088345224:bt=-.049274647207292056:bt=.10531673719686951;let Qt;e[40]>1e-35?e[0]>1937.5000000000002?Qt=-.06421671152073961:Qt=.04235421241226177:e[294]>1e-35?e[10]>50.50000000000001?Qt=-.09100102290316286:e[0]>3030.5000000000005?e[0]>4177.500000000001?Qt=-.03520420769287065:e[8]>1085.5000000000002?Qt=-.019817352506127633:Qt=.11444439424520964:Qt=-.06854631664538167:e[120]>1e-35?e[4]>18.500000000000004?Qt=-.010490117519863269:Qt=.08104430117757461:e[121]>1e-35?e[243]>1e-35?Qt=.16408304891242204:e[217]>1e-35?e[0]>4449.500000000001?Qt=.06619344145920268:e[0]>4091.5000000000005?Qt=-.08813353450871053:e[0]>3519.5000000000005?e[8]>668.5000000000001?Qt=.10016091391222309:Qt=-.017407607199427293:e[8]>501.50000000000006?e[10]>16.500000000000004?Qt=-.019511460451434884:Qt=-.11643672465055221:e[2]>18.500000000000004?Qt=.07848228087333317:e[8]>55.50000000000001?Qt=.032583027899956235:Qt=-.11209832692153521:e[11]>1e-35?Qt=.027482174104412567:e[10]>1.5000000000000002?e[6]>26.500000000000004?e[4]>19.500000000000004?e[9]>31.500000000000004?Qt=-.09996887746328006:e[9]>2.5000000000000004?Qt=.02157682011863397:Qt=-.05247727848991843:Qt=.07409150201483244:e[1]>38.50000000000001?Qt=-.11378466075449625:e[224]>1e-35?Qt=-.10741749127732923:e[1]>26.500000000000004?Qt=.07343136534146562:Qt=-.07013573628594773:e[25]>1e-35?Qt=-.04626669734164317:Qt=.05518333197956482:Qt=.00032434010867555516;let Ot;e[183]>1e-35?e[10]>1.5000000000000002?e[17]>1e-35?Ot=.026313251010808853:Ot=-.08997339150292381:Ot=.025062509535227952:e[227]>1e-35?e[1]>6.500000000000001?e[2]>9.500000000000002?e[210]>1e-35?Ot=.08071107515789745:e[23]>1e-35?e[1]>75.50000000000001?Ot=.0905155504503746:e[8]>1049.5000000000002?Ot=-.062312558183394054:e[8]>719.5000000000001?Ot=.09583836191410239:e[0]>3719.5000000000005?Ot=-.0778097309430818:Ot=.04012012419054895:e[4]>12.500000000000002?e[8]>1496.5000000000002?e[10]>42.50000000000001?Ot=-.12920865648544927:e[0]>2699.5000000000005?Ot=-.07086587879041864:Ot=.022614182502461846:e[4]>15.500000000000002?e[8]>55.50000000000001?e[1]>60.50000000000001?e[8]>652.5000000000001?Ot=-.11377786322600797:Ot=-.009486325820117998:e[1]>55.50000000000001?Ot=.12430248795958142:e[0]>2952.5000000000005?e[0]>4331.500000000001?e[1]>38.50000000000001?Ot=-.07938291201004219:e[2]>36.50000000000001?Ot=.01520046732530246:Ot=.13649854049662832:Ot=-.07145015938528873:e[8]>407.50000000000006?Ot=-.00350257360822279:Ot=.11332047082193297:Ot=-.10060624458629897:Ot=.05429496612497562:e[8]>1446.5000000000002?Ot=.006073419197482838:Ot=-.08718676350883998:Ot=-.11532497988252638:Ot=.10766270463068293:e[34]>1e-35?Ot=-.06345912440611544:e[131]>1e-35?e[9]>1.5000000000000002?Ot=-.0004109812623829506:Ot=.021601073497455662:Ot=-7343540098965853e-20;let wt;e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?wt=-.06107663265515864:e[9]>70.50000000000001?e[10]>37.50000000000001?wt=.05995640200798119:e[0]>3443.5000000000005?wt=-.14698883458733583:wt=-.030039164579240187:e[189]>1e-35?wt=-.06086763220538141:e[1]>86.50000000000001?wt=-.05096727866142538:e[4]>64.50000000000001?wt=.11240554253834577:e[4]>45.50000000000001?wt=-.030279760168394117:e[6]>45.50000000000001?wt=.10161088917815142:e[10]>77.50000000000001?wt=-.0792333078055653:e[7]>23.500000000000004?e[0]>2882.5000000000005?wt=-.06672020005240323:wt=.08831457502630258:e[8]>2592.5000000000005?wt=-.052617701047376654:e[10]>29.500000000000004?wt=.08499327690298047:e[2]>12.500000000000002?e[9]>41.50000000000001?wt=.12880460816709416:e[9]>25.500000000000004?e[4]>11.500000000000002?wt=-.064099222705728:wt=.044332487521538365:e[0]>2882.5000000000005?wt=.031099546885005065:wt=.12938467051623853:e[0]>4221.500000000001?wt=-.0928676413498701:e[9]>30.500000000000004?wt=-.05781824812803708:wt=.07561268901778094:e[8]>711.5000000000001?e[2]>22.500000000000004?wt=-.06648105454098469:wt=.05985487552383097:wt=-.13070190291919334:e[116]>1e-35?e[10]>38.50000000000001?wt=.05282385499619401:e[1]>66.50000000000001?wt=.048802929108006314:e[2]>4.500000000000001?e[0]>4593.500000000001?wt=.027885690791379255:wt=-.08407126408362446:wt=.014432924125571093:wt=-9903435845205118e-20;let kt;e[76]>1e-35?kt=-.06307875292162934:e[21]>1e-35?e[7]>10.500000000000002?e[10]>4.500000000000001?e[8]>944.5000000000001?e[0]>3655.5000000000005?kt=.013633653464240465:kt=-.10164319411983509:kt=-.1228424374328996:e[1]>26.500000000000004?e[2]>28.500000000000004?kt=.00632864847804078:kt=-.08393000368134668:kt=.07870508617440916:e[284]>1e-35?kt=.1092302727710421:kt=-.0025505047582483234:e[248]>1e-35?kt=.07101822393621864:e[274]>1e-35?kt=-.06621099406425579:e[1]>26.500000000000004?e[1]>28.500000000000004?kt=.0003077044909372931:e[10]>2.5000000000000004?e[0]>3770.5000000000005?kt=.025081789181021243:kt=-.014813325803582618:e[9]>33.50000000000001?kt=-.033466921233840194:e[3]>12.500000000000002?e[23]>1e-35?kt=.11926990418060353:kt=.01852125513565268:kt=.0975367595927343:e[5]>3325.5000000000005?e[8]>892.5000000000001?e[133]>1e-35?kt=-.1178464984373743:e[283]>1e-35?kt=.043370859226927405:e[5]>4320.500000000001?kt=-.01103141226366587:e[8]>1104.5000000000002?kt=-.023053423988095886:kt=-.0734238953804657:e[6]>18.500000000000004?e[8]>85.50000000000001?kt=.000579145585864887:kt=.03389152834202143:e[128]>1e-35?kt=-.14527722052568462:e[210]>1e-35?kt=-.08915971541902741:e[7]>9.500000000000002?kt=-.03307314577076116:e[18]>1e-35?kt=-.05521712302023565:kt=.009315605032770029:kt=.0036332551852289933;let _t;e[0]>689.5000000000001?e[5]>768.5000000000001?e[20]>1e-35?e[5]>4368.500000000001?_t=-.07583539600416284:e[188]>1e-35?_t=-.07042659515500142:e[23]>1e-35?e[0]>3807.5000000000005?_t=-.011038193049597113:_t=.08154028164397753:e[1]>85.50000000000001?_t=.10259361975201933:_t=.011640408330521594:_t=-.00023319159023748508:e[92]>1e-35?_t=.13771692859530546:_t=.022860029819654806:e[1]>22.500000000000004?e[1]>24.500000000000004?e[2]>96.50000000000001?_t=.09967230141007705:e[30]>1e-35?_t=-.08888529037551285:_t=-.008615931385397808:e[10]>5.500000000000001?e[4]>36.50000000000001?_t=.08284665960761373:_t=-.029292565021289504:e[7]>7.500000000000001?_t=-.09945093355204493:_t=-.008381393701708593:e[20]>1e-35?_t=-.04218678460370465:e[10]>6.500000000000001?e[9]>2.5000000000000004?e[1]>13.500000000000002?e[8]>143.50000000000003?e[4]>7.500000000000001?e[2]>36.50000000000001?_t=.07585582641438211:e[8]>284.50000000000006?_t=-.029387993239886723:_t=.07716738177321587:e[1]>18.500000000000004?_t=.026745348497993746:_t=.1427429617069753:e[9]>16.500000000000004?e[9]>33.50000000000001?_t=.02337306890530338:_t=-.10390355904767366:_t=.07390521199638532:_t=-.06788247515155237:_t=-.04201446383470994:e[2]>25.500000000000004?e[2]>29.500000000000004?e[8]>227.50000000000003?_t=-.06360325615644084:_t=.04342192339836601:_t=-.10598779152030145:_t=.05253384605768211;let qt;e[3]>7.500000000000001?e[157]>1e-35?qt=-.07514182877923786:qt=.000636205502279271:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?qt=.028692053800951845:qt=.14081686716133598:qt=-.03316566526940354:e[186]>1e-35?e[0]>2653.5000000000005?qt=.0037139292567243084:qt=.12662311031652707:e[107]>1e-35?e[0]>612.5000000000001?qt=.01202688580305612:qt=.0993509141454483:e[203]>1e-35?e[1]>77.50000000000001?qt=.043935495082738626:qt=-.05639305759669704:e[247]>1e-35?qt=-.06770766046891649:e[105]>1e-35?e[19]>1e-35?qt=.10331836202616368:qt=.0006926658459781341:e[96]>1e-35?qt=.05361846065599475:e[127]>1e-35?e[0]>2723.5000000000005?e[1]>54.50000000000001?qt=-.0741403257305367:qt=.022900127535540854:e[7]>3.5000000000000004?qt=.038110741403836294:qt=.14618649985842758:e[5]>3921.5000000000005?e[1]>110.50000000000001?qt=-.09552842289807008:e[1]>27.500000000000004?qt=.012505935885798007:qt=-.020509603428689526:e[282]>1e-35?e[9]>45.50000000000001?e[6]>5.500000000000001?qt=-.1046104767723845:qt=.031388606992301074:e[8]>114.50000000000001?e[9]>17.500000000000004?e[9]>22.500000000000004?e[1]>32.50000000000001?qt=.023466328488582572:qt=.11730925774586994:qt=-.04771965631104874:qt=.17059689880751394:qt=-.08181850955999449:e[26]>1e-35?qt=-.12727482696678769:qt=-.014343123272734182;let Ht;e[147]>1e-35?e[1]>53.50000000000001?Ht=-.0993064321015924:e[0]>2604.5000000000005?e[0]>3629.5000000000005?Ht=-.02763546051134888:Ht=.06423344777499343:Ht=-.064606430904295:e[302]>1e-35?e[10]>2.5000000000000004?e[10]>47.50000000000001?Ht=.049825139823021586:e[7]>22.500000000000004?Ht=-.01131680751379858:e[0]>2579.5000000000005?Ht=-.10673674485369694:Ht=-.015387212937189957:Ht=.04347325151148724:e[179]>1e-35?Ht=-.05788885608624092:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Ht=.0650355590939066:Ht=-.0473332870892226:Ht=-.09699315983340703:e[288]>1e-35?e[88]>1e-35?Ht=.11139543329789044:e[126]>1e-35?Ht=-.09726928633696198:e[8]>149.50000000000003?e[9]>46.50000000000001?e[4]>1.5000000000000002?e[8]>1861.5000000000002?Ht=.06370903833231022:e[10]>29.500000000000004?Ht=.03415223859607161:e[10]>3.5000000000000004?Ht=-.07415518117873297:Ht=-.0014119203473324082:Ht=.12617652343819508:e[9]>41.50000000000001?Ht=-.10311145857176976:e[8]>2757.5000000000005?Ht=-.08106484219011428:e[7]>71.50000000000001?Ht=-.09783384432091176:e[1]>88.50000000000001?Ht=.06249739709782831:e[3]>9.500000000000002?e[5]>1601.5000000000002?Ht=-.008884084501608536:Ht=.061339437777743616:Ht=-.042490992675121846:e[2]>6.500000000000001?e[3]>10.500000000000002?Ht=.01526664064166223:Ht=.13534828515415498:Ht=-.06985484465894776:Ht=.0005758961943178744;let Jt;e[86]>1e-35?e[1]>23.500000000000004?e[1]>29.500000000000004?e[4]>16.500000000000004?e[2]>31.500000000000004?Jt=-.029152732370514342:Jt=.07173628916139178:e[1]>36.50000000000001?Jt=-.08859111297255318:Jt=.0018030071815630785:Jt=.13652461563759322:Jt=-.07550137680349367:e[10]>52.50000000000001?e[49]>1e-35?Jt=-.07145140450454163:e[21]>1e-35?Jt=-.07422841663493233:Jt=.006289319702780104:e[10]>40.50000000000001?e[9]>59.50000000000001?e[19]>1e-35?e[13]>1e-35?Jt=.11864240653986852:e[3]>33.50000000000001?Jt=-.08821209591953476:Jt=.05706392280054726:Jt=-.03600088051578915:e[18]>1e-35?e[1]>24.500000000000004?Jt=.01953613016837112:Jt=-.059781039130025006:e[148]>1e-35?Jt=.052668447861325476:e[3]>30.500000000000004?e[9]>49.50000000000001?Jt=.07207826841738371:e[202]>1e-35?Jt=.08163917539410503:Jt=-.01319846363832958:e[9]>35.50000000000001?e[5]>4134.500000000001?e[10]>44.50000000000001?Jt=-.06858280496900336:Jt=-.1781828899516648:Jt=-.04024620133969553:e[9]>10.500000000000002?e[1]>22.500000000000004?e[1]>37.50000000000001?Jt=.018232649414147116:Jt=-.04419781124222661:Jt=.05145485182416554:e[1]>23.500000000000004?e[0]>655.5000000000001?e[5]>4901.500000000001?e[10]>45.50000000000001?Jt=.11452368095776105:Jt=-.036496437259924026:Jt=-.040445338739465486:Jt=.0816572651001145:Jt=-.08968914517368663:Jt=.0002826343082585516;let ur;e[189]>1e-35?e[0]>5269.500000000001?ur=-.08839493050459957:e[10]>85.50000000000001?ur=.10046908365702462:e[8]>2592.5000000000005?ur=-.09632233975926387:e[8]>2000.5000000000002?ur=.10282992953871627:e[8]>1266.5000000000002?e[9]>34.50000000000001?ur=.035504970430426296:e[1]>31.500000000000004?ur=-.1133764813142531:ur=-.01138280942244812:e[8]>1125.5000000000002?ur=.09800530246229806:ur=.016170419267589393:e[218]>1e-35?e[9]>99.50000000000001?e[9]>101.50000000000001?e[9]>124.50000000000001?ur=.07316772160107896:ur=-.059095014819051765:ur=.17859437315769733:e[2]>1.5000000000000002?e[9]>86.50000000000001?ur=-.09150209066166894:e[8]>3084.0000000000005?ur=-.05443972593168094:e[1]>65.50000000000001?e[10]>11.500000000000002?e[9]>33.50000000000001?ur=-.04449234460408263:ur=.05568837973347338:ur=-.12362324875024472:e[1]>41.50000000000001?e[10]>12.500000000000002?e[8]>1336.5000000000002?ur=.12741077850267066:ur=.007372371864985329:e[2]>39.50000000000001?ur=.02295917234617787:ur=.14966532083907075:e[1]>39.50000000000001?ur=-.06685557815340279:e[10]>22.500000000000004?e[2]>52.50000000000001?ur=-.02511861881285652:e[1]>27.500000000000004?ur=.08683660011672288:ur=.02956214835267301:e[9]>15.500000000000002?ur=-.016538805462996232:ur=.04352738094981517:ur=-.05561856645643868:e[9]>170.50000000000003?ur=-.07996752635874248:e[179]>1e-35?ur=-.09065975936933919:ur=-.00042817975060427177;let gr;e[39]>1e-35?e[4]>25.500000000000004?gr=.03443173196222934:gr=-.06554248341270724:e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[4]>86.50000000000001?gr=-.0013415395759330318:gr=.12950978489563347:e[1]>22.500000000000004?e[10]>19.500000000000004?e[4]>30.500000000000004?e[9]>41.50000000000001?gr=.002297618040307216:gr=-.12522800128774994:e[4]>8.500000000000002?e[8]>1075.5000000000002?gr=-.015297257305397608:gr=.09651828834062742:gr=-.06636003334371929:e[10]>11.500000000000002?gr=.17631616138309397:e[0]>1639.5000000000002?gr=3804386478092585e-20:gr=-.09099296398683193:gr=-.06874415876172972:e[0]>2151.5000000000005?gr=-.1311264883406766:gr=.00809052010141122:e[253]>1e-35?gr=-.06338558211939296:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?e[10]>10.500000000000002?e[0]>3615.5000000000005?gr=.045038497754638605:gr=-.07770167665661752:gr=-.08596294280650517:gr=.08538655727027213:gr=.09829076418590559:e[1]>39.50000000000001?e[9]>1.5000000000000002?gr=.054627956617973275:e[1]>61.50000000000001?gr=-.11994465088415499:e[4]>8.500000000000002?gr=.06676200239406452:gr=-.027503148069376867:e[8]>676.5000000000001?gr=-.10363964928357075:e[4]>8.500000000000002?gr=-.07589816227175682:gr=.034664436544646814:e[1]>159.50000000000003?e[6]>25.500000000000004?gr=.009093153189012338:gr=-.06119765876605404:gr=.0004668642103528348;let lr;e[223]>1e-35?e[1]>31.500000000000004?e[8]>711.5000000000001?lr=-.10100794502567233:lr=.08000205636470442:lr=-.11945419826856896:e[113]>1e-35?lr=-.06105445938688056:e[167]>1e-35?e[0]>3928.5000000000005?lr=.1224302423880318:lr=-.01875566982911468:e[222]>1e-35?e[1]>8.500000000000002?e[1]>24.500000000000004?e[4]>3.5000000000000004?e[0]>725.5000000000001?e[0]>1682.5000000000002?e[0]>2860.5000000000005?lr=.0019277012166729114:e[1]>28.500000000000004?lr=-.054445821715687494:lr=.045645722976713245:e[30]>1e-35?lr=.13402660155331655:lr=.008921176001777645:lr=-.058547426505451076:lr=.08841202222426625:e[1]>22.500000000000004?e[10]>9.500000000000002?lr=-.13526418192218206:lr=-.03266013432583145:e[1]>20.500000000000004?e[4]>27.500000000000004?lr=.0007263224246135398:lr=.12450043268647056:e[1]>17.500000000000004?e[9]>1.5000000000000002?lr=-.11575657261278308:lr=-.01530376565862095:e[4]>13.500000000000002?e[4]>22.500000000000004?lr=-.01995960178292952:lr=.11216586049153021:lr=-.10050961087149474:lr=.08848063368485726:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?lr=.10303451081526649:lr=-.01375730267020699:e[1]>28.500000000000004?e[2]>20.500000000000004?lr=-.043799548968209395:lr=-.12451444314954115:e[4]>12.500000000000002?lr=-.03838117361958468:lr=.06504990789767144:e[57]>1e-35?lr=.06890006938293915:lr=.0003914274695562949;let fr;e[53]>1e-35?e[4]>11.500000000000002?e[8]>617.5000000000001?e[2]>41.50000000000001?fr=.004271749009686975:fr=-.10523878297127605:fr=.04633982158107851:fr=-.10349713975483057:e[183]>1e-35?e[15]>1e-35?fr=-.08655730561951676:e[8]>919.5000000000001?fr=-.0676453705610183:e[7]>18.500000000000004?fr=-.027787974193650575:fr=.08012784576991301:e[227]>1e-35?e[1]>6.500000000000001?e[3]>8.500000000000002?e[210]>1e-35?fr=.07185850683316512:e[8]>201.50000000000003?e[8]>348.50000000000006?e[23]>1e-35?e[8]>1049.5000000000002?fr=-.03473877164537313:e[8]>719.5000000000001?fr=.10471053866934404:fr=.008236107678382981:e[4]>57.50000000000001?fr=.09412219478825269:e[10]>66.50000000000001?fr=-.13884338641811986:e[10]>19.500000000000004?e[10]>22.500000000000004?e[0]>2490.5000000000005?fr=-.040681323751002293:fr=.06374650297561021:fr=.12884615227401788:e[10]>5.500000000000001?fr=-.0887517295786972:e[8]>597.5000000000001?e[18]>1e-35?fr=-.05474068967150784:fr=.03744700650806603:fr=-.07846396348680855:e[1]>42.50000000000001?fr=.018972315810821302:fr=.10953621007604744:e[5]>4439.500000000001?fr=.010999776705494586:e[1]>40.50000000000001?fr=-.12394200059775967:e[10]>2.5000000000000004?fr=.013528093962849453:fr=-.09222088417048682:fr=-.12662967149701485:fr=.09327296405849603:e[3]>99.50000000000001?fr=-.013581954439986752:fr=.0005526498251862075;let rr;e[187]>1e-35?e[243]>1e-35?rr=-.08392792551692502:e[10]>68.50000000000001?rr=.07871769409454053:e[10]>8.500000000000002?e[10]>16.500000000000004?e[2]>17.500000000000004?e[3]>31.500000000000004?e[91]>1e-35?e[10]>21.500000000000004?e[10]>33.50000000000001?e[10]>48.50000000000001?rr=-.0825306209711224:rr=.049559996084532945:rr=-.1064938580886302:rr=.03353240732240275:rr=.045985370399163464:e[1]>42.50000000000001?e[4]>20.500000000000004?rr=.16966001471529374:e[1]>57.50000000000001?rr=-.005772777673676247:rr=.09383677041525058:e[8]>747.5000000000001?rr=.054068175469351235:rr=-.049968216310277036:e[8]>753.5000000000001?rr=-.0679383555784074:e[4]>8.500000000000002?rr=-.059757341189735386:rr=.05701083682780414:rr=-.052497281448921164:e[6]>12.500000000000002?e[8]>969.5000000000001?e[4]>23.500000000000004?rr=.05820296128730006:rr=-.1063042385102475:e[1]>49.50000000000001?e[8]>302.50000000000006?rr=.15340611616954566:rr=.04385036188666874:e[0]>4449.500000000001?rr=-.02110897605541555:e[1]>24.500000000000004?e[2]>17.500000000000004?rr=.004840354641006495:rr=.09967827580276283:rr=.11605363537391578:e[9]>19.500000000000004?rr=-.0735831692725717:rr=.019973331823355176:e[306]>1e-35?e[149]>1e-35?rr=-.08968948874343531:e[8]>1094.5000000000002?e[10]>15.500000000000002?rr=-.02442182361342386:rr=.10334853004243093:rr=-.030431948680167104:rr=-956078595250818e-19;let dr;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4078.5000000000005?dr=-.040232505718244854:e[0]>3030.5000000000005?dr=.0634109586813073:dr=-.04043617034245621:dr=-.06385323610738443:e[120]>1e-35?e[4]>18.500000000000004?dr=-.007859096946435131:dr=.07282728486115758:e[229]>1e-35?e[0]>2952.5000000000005?e[17]>1e-35?dr=.05515771679628051:dr=-.04214471312668263:dr=-.09589322222261765:e[193]>1e-35?dr=-.05056345906812831:e[121]>1e-35?e[243]>1e-35?dr=.14857706653119385:e[4]>9.500000000000002?e[1]>26.500000000000004?e[2]>59.50000000000001?dr=-.08152604001147906:e[11]>1e-35?dr=.09132936522356462:e[15]>1e-35?e[4]>23.500000000000004?dr=.13100930780107503:e[10]>25.500000000000004?dr=.05921074710011526:dr=-.07226005736695183:e[0]>3304.5000000000005?e[0]>3707.5000000000005?e[0]>4053.5000000000005?dr=.0009447118243153454:dr=-.09820565036865991:dr=.057146909749745546:e[0]>2115.5000000000005?dr=-.12331216726611678:dr=.007281983677694285:e[2]>56.50000000000001?dr=.012310154675612615:dr=-.08873665774670461:e[6]>25.500000000000004?dr=.134708740821879:e[9]>5.500000000000001?dr=-.0805901581148979:e[224]>1e-35?dr=-.063684477784257:e[7]>2.5000000000000004?e[19]>1e-35?dr=.10842593386554122:e[2]>13.500000000000002?dr=.06466798320378395:dr=-.08578130788886655:dr=-.03590892078300114:dr=.0003499894043880708;let Ie;e[134]>1e-35?e[6]>50.50000000000001?e[0]>3601.5000000000005?Ie=.10839808814624702:Ie=-.028043875308180352:e[7]>30.500000000000004?e[8]>932.5000000000001?Ie=-.007478368069393829:Ie=-.09066751344326617:e[0]>3588.5000000000005?e[5]>4748.500000000001?Ie=.04035247751736232:e[0]>4255.500000000001?Ie=-.1310865624507367:e[0]>4004.5000000000005?Ie=.06647367311982634:Ie=-.08339693352955757:e[4]>10.500000000000002?e[1]>34.50000000000001?Ie=-.011618902907510411:Ie=.1114646660406691:e[10]>2.5000000000000004?e[0]>3072.5000000000005?Ie=.09356028223727986:Ie=-.03811765057032162:Ie=-.09456215497345526:e[280]>1e-35?e[7]>70.50000000000001?Ie=.10322956436499003:e[2]>22.500000000000004?e[1]>83.50000000000001?Ie=.1146142460964847:e[1]>62.50000000000001?Ie=-.09679869865322362:e[9]>71.50000000000001?Ie=-.07377580769927583:e[4]>19.500000000000004?e[0]>4571.500000000001?Ie=-.039046426387852974:Ie=.04558778688367152:Ie=.11220830937352602:e[7]>5.500000000000001?e[9]>17.500000000000004?e[8]>1067.5000000000002?Ie=.03261697816211156:e[15]>1e-35?Ie=.02586252542264368:e[2]>14.500000000000002?Ie=-.016420452667484604:Ie=-.1011799626006976:Ie=-.13787471318963773:e[6]>4.500000000000001?e[8]>427.50000000000006?e[10]>36.50000000000001?Ie=.010193588102560583:Ie=.11748729525930773:Ie=-.04468162226743652:Ie=-.028365274393617957:e[71]>1e-35?Ie=.05115139346588793:Ie=-.0001510425316936658;let M;e[298]>1e-35?e[8]>81.50000000000001?e[8]>119.50000000000001?e[4]>64.50000000000001?M=.09072192054181037:e[9]>72.50000000000001?e[8]>1094.5000000000002?M=.020637047900190317:M=-.1017300802134141:e[1]>23.500000000000004?e[9]>12.500000000000002?e[0]>2815.5000000000005?e[0]>3183.5000000000005?e[3]>23.500000000000004?e[3]>45.50000000000001?e[4]>48.50000000000001?M=-.04632587527094407:M=.08603684785510396:M=-.05101401015448496:M=.025466432054358498:M=-.07897811963329214:e[6]>13.500000000000002?e[10]>26.500000000000004?M=.020385355430046367:M=.12032592051335252:M=-.012387370292173013:e[2]>23.500000000000004?M=-.12568545484492677:M=-.022261190943521976:e[8]>634.5000000000001?e[8]>857.5000000000001?M=.043528764484784536:M=.14352071657196003:M=-.009332833816977268:M=.11186782227735846:M=-.0737365712425554:e[136]>1e-35?e[0]>1937.5000000000002?M=-.05649104643152564:M=.03884200719305747:e[42]>1e-35?M=-.07191700385792335:e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?M=-.04103416502526736:M=.04881823954656287:e[4]>15.500000000000002?M=.009342724662897898:e[0]>3969.5000000000005?M=-.025637309961309498:M=-.12574492012987865:e[212]>1e-35?e[19]>1e-35?M=-.08185697075265091:e[0]>2215.5000000000005?M=.030063975892297354:e[0]>807.5000000000001?M=-.03924325550733229:M=.0415330999189793:M=-.00024374664461674863;let me;e[3]>7.500000000000001?me=.0005117490419655908:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?me=.025798416259686565:me=.13251610353146012:me=-.029900559552677654:e[1]>81.50000000000001?e[1]>110.50000000000001?e[0]>4242.500000000001?me=-.11098564237775424:me=25960925309712775e-21:e[0]>4177.500000000001?e[9]>35.50000000000001?me=.15347826616466054:e[3]>4.500000000000001?me=.10379320730958941:me=-.008896303020010654:e[0]>3415.5000000000005?e[0]>3830.5000000000005?me=.03159791088468647:me=-.10612873364104258:me=.05059856107348746:e[133]>1e-35?e[2]>5.500000000000001?me=-.02335760775001469:me=-.1379386577903324:e[1]>62.50000000000001?e[3]>2.5000000000000004?me=-.011164334474672973:me=-.06594044410501655:e[207]>1e-35?me=-.1014214372326535:e[8]>3.5000000000000004?e[107]>1e-35?e[2]>6.500000000000001?me=-.01725821503981916:me=.05594086838700241:e[203]>1e-35?e[1]>44.50000000000001?e[1]>51.50000000000001?me=-.04226531631656534:me=-.14409800530171432:me=-.03245576341206398:e[8]>4214.500000000001?me=.0895409165534886:e[247]>1e-35?me=-.06506383629143335:e[118]>1e-35?me=-.07214270121257443:e[8]>546.5000000000001?me=-.004385020865473831:me=.009321812545248529:e[0]>1639.5000000000002?e[13]>1e-35?me=.046278501133958524:me=-.030835570926968044:e[0]>493.50000000000006?me=-.12794504651610425:me=.009415039807550776;let ye;e[304]>1e-35?ye=-.04717777269217453:e[76]>1e-35?ye=-.05813439142128324:e[1]>59.50000000000001?e[0]>350.50000000000006?e[53]>1e-35?ye=-.09648224457374217:e[132]>1e-35?ye=.07089308107910267:e[0]>2248.5000000000005?e[5]>2525.5000000000005?e[9]>1.5000000000000002?e[114]>1e-35?ye=-.08595213071749083:e[9]>14.500000000000002?e[9]>33.50000000000001?e[285]>1e-35?ye=.10838431695638147:e[230]>1e-35?ye=.06458713915750626:e[0]>3219.5000000000005?e[3]>23.500000000000004?e[9]>69.50000000000001?ye=.050071316251979:ye=-.006356941111525215:e[6]>8.500000000000002?ye=-.0384814076434817:e[1]>73.50000000000001?e[0]>3746.5000000000005?ye=.10217402850540398:ye=-.048840949025349197:ye=-.03668313197909846:e[7]>39.50000000000001?ye=-.0562642841496003:e[10]>2.5000000000000004?ye=.09749777369987417:ye=-.04848223121417616:e[0]>5453.500000000001?ye=.08316648226133942:ye=-.0261979698267618:e[212]>1e-35?ye=.09565573198318654:e[5]>4814.500000000001?e[8]>963.5000000000001?e[8]>1514.5000000000002?ye=.04837009746506856:ye=-.09184360565631328:ye=.0032411047845613606:e[0]>4733.500000000001?ye=.0977378556864798:ye=.010776545559325588:ye=-.012483310473120218:ye=-.049284121449103935:ye=.011962641341789565:e[1]>67.50000000000001?e[1]>77.50000000000001?ye=-.08380361910948711:ye=.07375088778585813:ye=-.1084864186071348:ye=.0007819503469605476;let Y;e[7]>17.500000000000004?e[115]>1e-35?Y=.08741852531696623:e[167]>1e-35?Y=.10078975495600809:Y=-.0018324767784017562:e[290]>1e-35?Y=-.0850089851255888:e[74]>1e-35?e[10]>16.500000000000004?Y=.1379733311640402:Y=-.0038500648529631075:e[6]>29.500000000000004?e[8]>876.5000000000001?e[0]>3129.5000000000005?e[9]>5.500000000000001?e[8]>1765.5000000000002?Y=-.09360083033774169:Y=.061471353193188374:e[10]>11.500000000000002?e[10]>31.500000000000004?Y=-.015599362579530679:e[0]>4593.500000000001?Y=-.12029549262691491:Y=-.018917032256501397:Y=.04632831686576592:Y=.06892347785444271:e[4]>8.500000000000002?e[10]>33.50000000000001?Y=-.05894883236412263:Y=.05213944998315824:Y=.12621779223564986:e[243]>1e-35?e[6]>16.500000000000004?e[0]>4141.500000000001?e[0]>5850.500000000001?Y=.07577412405680808:Y=-.053144737214742235:e[1]>29.500000000000004?e[9]>16.500000000000004?Y=-.0277076900736147:e[1]>65.50000000000001?Y=-.023587471585763506:Y=.10184896592433082:Y=-.057699270527916825:Y=-.041191811945739454:e[114]>1e-35?e[2]>23.500000000000004?Y=.06566902102799584:e[10]>25.500000000000004?Y=-.07033633753181047:Y=-.01599120398351932:e[242]>1e-35?e[0]>2402.5000000000005?Y=-.08108035861059537:Y=.04184690010531078:e[35]>1e-35?e[0]>2904.5000000000005?Y=-.12431182772561139:Y=.01886235886984271:Y=.0025579594894418116;let L;e[8]>2915.5000000000005?e[101]>1e-35?L=.08648323956719083:e[0]>93.50000000000001?e[196]>1e-35?L=-.09509320772734361:e[4]>1.5000000000000002?e[5]>1106.5000000000002?e[5]>1191.5000000000002?e[283]>1e-35?L=-.11268313808648661:e[10]>12.500000000000002?e[131]>1e-35?L=.0687641681341721:e[10]>102.50000000000001?L=-.09667920080214842:e[4]>15.500000000000002?e[8]>2992.5000000000005?e[1]>24.500000000000004?e[1]>71.50000000000001?L=-.06762578396473291:e[10]>65.50000000000001?L=-.05226727783610509:e[282]>1e-35?L=.09911438410640917:e[19]>1e-35?L=.06915156336429933:L=-.006565637886508241:L=-.08344300251849307:L=-.0928863907927501:e[1]>60.50000000000001?e[2]>17.500000000000004?L=.19428463865406298:L=.016073883020956765:e[13]>1e-35?L=.06864077097923665:L=-.01388867527034731:e[0]>1847.5000000000002?L=.004655280608161356:e[1]>40.50000000000001?L=.031406054057765996:L=.12798062439212832:L=.09859670536264255:e[10]>2.5000000000000004?e[9]>68.50000000000001?L=.08821759640665892:e[9]>32.50000000000001?e[8]>3960.0000000000005?e[1]>31.500000000000004?L=-.0706095614785733:L=.04227164041372561:L=-.1056906923176064:e[2]>8.500000000000002?e[19]>1e-35?L=-.07139533369873902:L=.008952586782921625:L=.06086212582180936:L=-.0816938490403437:L=-.051224901945956025:L=-.10525399124186095:L=.000270924147208224;let Te;e[122]>1e-35?e[0]>2461.5000000000005?e[2]>36.50000000000001?Te=.029186512383291244:e[7]>1.5000000000000002?Te=-.14984127276725573:e[1]>40.50000000000001?Te=.032757060730648144:Te=-.07675575422749602:e[6]>8.500000000000002?Te=.10599766037117893:Te=-.0541423394552156:e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Te=-.051394622947855385:Te=.03237141302699347:Te=.12526173027943244:Te=.000579473126472788:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?Te=-.07383912482657777:e[0]>5147.500000000001?Te=.07008813937042091:e[10]>38.50000000000001?Te=-.06779203808365307:Te=-.013782769999524498:Te=.0880038869117715:Te=-.12846294176070952:e[281]>1e-35?Te=-.06810806903850834:e[10]>227.50000000000003?Te=-.08937977001661111:e[10]>130.50000000000003?Te=.10538920632708033:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Te=.011036530162093841:Te=-.11500797478569702:Te=.03702229366129399:Te=.07242026683784307:e[189]>1e-35?Te=.03331407112090286:e[9]>33.50000000000001?e[201]>1e-35?Te=.08979610115743614:e[7]>57.50000000000001?e[1]>20.500000000000004?Te=-.02608892716555304:Te=.09609599320761308:e[9]>105.50000000000001?Te=-.06848127135991534:Te=.0023675721254089715:e[86]>1e-35?Te=-.11049635625500497:Te=-.004847764219432233;let Oe;e[125]>1e-35?e[0]>3969.5000000000005?Oe=-.09462233499115416:Oe=.05235324508465096:e[17]>1e-35?e[49]>1e-35?e[10]>19.500000000000004?Oe=-.030700661288166148:Oe=.0870883677166864:e[10]>3.5000000000000004?e[3]>18.500000000000004?e[0]>3544.5000000000005?e[188]>1e-35?e[9]>7.500000000000001?Oe=.03149547314036763:Oe=-.08166208257451366:e[0]>5850.500000000001?Oe=-.10228136324773157:e[102]>1e-35?Oe=-.10572585290676295:e[8]>726.5000000000001?e[5]>3657.5000000000005?Oe=.01782894842128785:e[13]>1e-35?Oe=.002680190260979968:Oe=.1773965720476949:e[2]>72.50000000000001?Oe=.09090831938627947:e[1]>59.50000000000001?Oe=-.12297206702816128:e[0]>4977.500000000001?Oe=.09899015653118268:Oe=-.022207141540838887:e[4]>32.50000000000001?e[1]>34.50000000000001?Oe=-.0675900954187773:Oe=.012336403425364092:Oe=-.0017002325391924573:e[6]>7.500000000000001?e[1]>17.500000000000004?Oe=-.02671721777458802:Oe=-.09242452991958029:e[284]>1e-35?Oe=-.08585691288582491:Oe=.013332890564324447:e[4]>14.500000000000002?Oe=-.005245022074799553:e[23]>1e-35?Oe=-.020036720167235768:e[1]>29.500000000000004?e[114]>1e-35?Oe=-.09289852307936758:e[116]>1e-35?Oe=-.09686573010015055:e[8]>804.5000000000001?Oe=.03812547148215318:Oe=.005162744968176633:e[9]>43.50000000000001?Oe=-.059246106396159376:Oe=.050370113808135275:Oe=.000794041852811028;let xt;e[3]>7.500000000000001?xt=.0004981426543104341:e[9]>114.50000000000001?xt=.05666010099424601:e[129]>1e-35?e[6]>3.5000000000000004?xt=-.019061766497948867:xt=.07193491146561211:e[186]>1e-35?e[0]>2653.5000000000005?xt=-.006044199577160493:xt=.1147136801028133:e[6]>85.50000000000001?e[8]>847.5000000000001?xt=.11486607015912494:e[9]>16.500000000000004?xt=-.08686820858087294:xt=.06119632492911875:e[127]>1e-35?e[0]>2723.5000000000005?e[0]>3682.5000000000005?e[1]>38.50000000000001?xt=-.022230207980026437:xt=.1056683690528792:xt=-.05859530800943035:xt=.06970608927597141:e[7]>3.5000000000000004?e[105]>1e-35?xt=.08073568184886762:e[107]>1e-35?e[2]>6.500000000000001?xt=-.05177544573528314:xt=.05370469772149028:e[1]>35.50000000000001?e[0]>4106.500000000001?e[9]>46.50000000000001?e[0]>4633.500000000001?xt=.15159657923771555:xt=-.0060542654587671055:e[9]>5.500000000000001?xt=-.042808028205051786:e[1]>48.50000000000001?xt=-.010449538258110742:xt=.10026907521968294:xt=-.04249349329714756:e[9]>42.50000000000001?e[1]>19.500000000000004?e[8]>852.5000000000001?xt=-.02272452389409874:xt=-.11202691218244319:e[5]>1809.5000000000002?xt=-.04460413584255906:xt=.08196329474205256:e[10]>69.50000000000001?xt=.10221481166238167:xt=.0004063052701699382:e[243]>1e-35?xt=-.07563941678849846:e[18]>1e-35?xt=.02563513231103432:xt=-.004740081147303786;let Wt;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Wt=.057446442918106:Wt=-.04404018270156349:Wt=-.09282976714550464:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?Wt=-.05930486238817954:e[1]>29.500000000000004?Wt=.06955866121256543:e[8]>597.5000000000001?Wt=-.06538593556505168:Wt=.06212512595497445:Wt=.00021102929959182257:e[9]>90.50000000000001?Wt=.0958061289119631:e[102]>1e-35?Wt=.07172059675638813:e[1]>47.50000000000001?Wt=-.03879798603977766:e[297]>1e-35?Wt=.054948234271956144:e[282]>1e-35?e[2]>6.500000000000001?Wt=.003805910996312012:Wt=.09304295674749524:e[11]>1e-35?e[18]>1e-35?Wt=.11252376801858695:e[288]>1e-35?Wt=-.10293901912180432:Wt=.014669268837893872:e[1]>42.50000000000001?Wt=-.05988274123836837:e[145]>1e-35?Wt=.06142784665288495:e[3]>1.5000000000000002?e[4]>4.500000000000001?e[1]>21.500000000000004?e[1]>27.500000000000004?e[9]>24.500000000000004?Wt=.038791154988529926:e[10]>22.500000000000004?e[2]>19.500000000000004?Wt=-.03366718308159971:Wt=.11936550608549797:e[1]>31.500000000000004?Wt=-.07454716789539667:Wt=.027859650621164217:e[10]>10.500000000000002?Wt=-.11806374092321247:Wt=-.03506042229223101:Wt=-.0007080765837654515:e[10]>6.500000000000001?Wt=-.028077713664996503:e[2]>7.500000000000001?Wt=.15803724124216814:Wt=.0351381284833169:Wt=-.07877953381054767;let Nt;e[131]>1e-35?e[282]>1e-35?e[4]>23.500000000000004?Nt=.14144941521975005:Nt=.0007727806714190652:e[9]>1.5000000000000002?e[8]>2134.5000000000005?e[2]>34.50000000000001?Nt=.10514088112381886:e[7]>18.500000000000004?Nt=-.10370643555956745:Nt=.04093594315421388:e[6]>15.500000000000002?e[4]>9.500000000000002?e[10]>27.500000000000004?e[10]>71.50000000000001?Nt=-.0508129468802936:e[224]>1e-35?Nt=-.037816066368733595:e[10]>43.50000000000001?Nt=.07793408602607932:Nt=.017646166646099453:e[9]>3.5000000000000004?e[9]>29.500000000000004?e[17]>1e-35?Nt=.036972453794202324:Nt=-.08727431092411866:e[8]>427.50000000000006?e[8]>1278.5000000000002?Nt=.09475302525132188:Nt=-.03580104945898193:Nt=.08349488283861875:e[10]>3.5000000000000004?e[0]>1847.5000000000002?e[0]>4280.500000000001?e[2]>27.500000000000004?Nt=-.1282448778804823:Nt=-.014395808269207212:Nt=-.008940927190750592:Nt=-.1459118815453748:e[0]>4897.500000000001?Nt=-.09733068457286576:e[1]>57.50000000000001?Nt=.06575271409540207:Nt=-.019556422817450115:Nt=-.10623959222984136:e[18]>1e-35?Nt=.11280940901275241:e[8]>319.50000000000006?e[2]>6.500000000000001?Nt=.008125645893104896:Nt=-.11084368630465868:Nt=.0584398731508786:e[0]>350.50000000000006?e[3]>83.50000000000001?Nt=-.05854904579626861:e[4]>5.500000000000001?Nt=.02985784951394175:Nt=-.03247600140149334:Nt=-.11152899295304973:Nt=-.00035424577714215764;let ir;e[32]>1e-35?e[17]>1e-35?e[8]>359.50000000000006?e[8]>804.5000000000001?ir=-.06563670567578264:ir=.067656954313663:ir=-.10388217548685377:e[8]>2302.5000000000005?ir=.07190621943790435:e[4]>67.50000000000001?ir=.060020507643618604:e[4]>38.50000000000001?ir=-.08707253184321638:e[2]>11.500000000000002?e[2]>16.500000000000004?e[1]>31.500000000000004?e[1]>59.50000000000001?ir=-.06568134366461277:e[8]>1075.5000000000002?ir=-.004768057709758692:ir=.11785959165999467:ir=-.05080221682879267:ir=.14814206127494542:ir=-.07241946332311736:e[253]>1e-35?ir=-.058893562861261274:e[4]>61.50000000000001?e[283]>1e-35?e[10]>23.500000000000004?ir=-.02471195342450034:ir=.11866056464409412:e[10]>44.50000000000001?e[1]>16.500000000000004?e[8]>2640.0000000000005?ir=-.10741850739482771:ir=.010051635824944:ir=.12502069436017124:e[8]>1971.5000000000002?e[1]>23.500000000000004?e[308]>1e-35?ir=.10511236013756364:e[10]>10.500000000000002?e[1]>53.50000000000001?ir=-.08992396138178163:ir=.010944365997007212:ir=.06221307021813793:ir=.1286024087559141:e[127]>1e-35?ir=.06568148624531012:e[10]>40.50000000000001?ir=-.07567979134643352:e[5]>5647.500000000001?ir=.07594672895572069:ir=-.018158016446439187:e[6]>55.50000000000001?ir=.009293422430111872:e[4]>45.50000000000001?ir=-.017749818406964022:e[2]>46.50000000000001?ir=.01714136511113982:ir=-724762291423549e-19;let ar;e[1]>24.500000000000004?e[103]>1e-35?e[8]>48.50000000000001?e[17]>1e-35?ar=-.048689215588703864:e[9]>27.500000000000004?e[0]>3916.5000000000005?ar=.07084726276890757:ar=-.11232323677722932:ar=.04812773089510436:ar=.11757502216780046:e[5]>1464.5000000000002?e[5]>1505.5000000000002?e[167]>1e-35?ar=.07470606002425358:e[1]>53.50000000000001?e[132]>1e-35?ar=.0879462816013881:ar=-.002966662093626573:e[306]>1e-35?ar=-.04588085188342676:ar=.0031910005157084823:e[3]>10.500000000000002?e[10]>20.500000000000004?ar=-.006600332774461143:ar=.1272481351557754:ar=-.09030973597154808:e[284]>1e-35?e[1]>38.50000000000001?e[10]>2.5000000000000004?ar=.011884312066620044:ar=.11678751052403374:e[4]>8.500000000000002?ar=.03627129613273813:ar=-.12132783497902287:ar=-.006784372643244717:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?ar=-.06830131718398992:e[0]>5147.500000000001?ar=.062360406249609306:e[4]>4.500000000000001?ar=-.013162203864592055:ar=-.07153029184927609:ar=.07628618062271557:ar=-.12085065687320373:e[190]>1e-35?ar=-.045816889524231186:e[137]>1e-35?ar=-.07956001795911584:e[199]>1e-35?e[0]>3853.5000000000005?ar=.025895337822752502:ar=-.06503949350616421:e[10]>227.50000000000003?ar=-.09989456525790491:e[10]>130.50000000000003?ar=.08616651057030683:ar=.0001234981796706021;let Ut;e[8]>1014.5000000000001?e[9]>137.50000000000003?Ut=-.08778879924617534:e[8]>1022.5000000000001?e[285]>1e-35?e[9]>64.50000000000001?Ut=.04955806187281689:e[0]>3670.5000000000005?e[10]>32.50000000000001?Ut=-.141732381961068:Ut=-.0317152307496497:Ut=-.02074638849097191:e[0]>93.50000000000001?e[0]>3072.5000000000005?e[10]>100.50000000000001?e[4]>24.500000000000004?e[8]>1336.5000000000002?Ut=.12191801556691254:Ut=-.0003444689085397977:Ut=.005739668504631604:e[146]>1e-35?e[308]>1e-35?Ut=.015237524791728777:e[6]>61.50000000000001?e[4]>63.50000000000001?Ut=-.05676033995381961:Ut=.10933961076803381:e[4]>26.500000000000004?Ut=-.11667582544549814:e[8]>1765.5000000000002?Ut=.032174455312047705:Ut=-.0755016390126608:e[293]>1e-35?Ut=-.08234885407658332:e[9]>41.50000000000001?e[0]>3830.5000000000005?Ut=.026571311956824436:e[15]>1e-35?Ut=.06175459479851121:Ut=-.018778084411148754:e[9]>40.50000000000001?Ut=-.09420232889965811:Ut=-.004578248021263184:e[2]>1.5000000000000002?Ut=.005453714644971445:Ut=-.03907138175699279:Ut=-.055296364182154736:e[23]>1e-35?Ut=.036555134842143476:e[0]>4188.500000000001?e[6]>29.500000000000004?Ut=-.09358146510580179:Ut=.060524657996178094:Ut=-.11245101144669545:e[125]>1e-35?e[9]>1.5000000000000002?Ut=-.12698331085931538:Ut=.006059605604079918:e[2]>196.50000000000003?Ut=-.09451315810804783:Ut=.0011390147031687425;let It;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[8]>3794.5000000000005?It=.05517359070460923:It=-.04758751221404857:It=-.09482078194138792:e[8]>2992.5000000000005?e[1]>101.50000000000001?It=.1040436595565776:e[9]>21.500000000000004?It=.04032250517675179:e[107]>1e-35?It=.05978752253058374:e[210]>1e-35?e[4]>37.50000000000001?It=.1192453009230486:e[1]>51.50000000000001?It=.0443376336292195:It=-.07967674833321865:e[5]>2117.5000000000005?e[9]>10.500000000000002?It=-.10025078607591283:e[0]>2882.5000000000005?e[18]>1e-35?It=-.08999822408398037:It=.017533219253893447:e[9]>1.5000000000000002?e[4]>12.500000000000002?It=-.061850439226075:It=.08849196353361093:It=.10536348167793089:e[92]>1e-35?It=.04894947712119185:e[9]>16.500000000000004?It=.05900227903883853:e[9]>5.500000000000001?It=-.11946594348916476:It=-.03652096348071964:e[1]>41.50000000000001?It=-.07411603110840567:It=-.00021033247574340914:e[10]>22.500000000000004?e[9]>68.50000000000001?It=.08493634342741495:e[11]>1e-35?It=-.10899097825564363:It=-.006156708838964173:e[8]>3198.5000000000005?e[2]>41.50000000000001?It=.08356655906359918:e[7]>25.500000000000004?It=-.09475076526194888:e[10]>5.500000000000001?It=-.01999406228763778:It=.06696212545889428:e[6]>20.500000000000004?It=.14713592661393468:It=.0459917279002218:It=.00027445928493734093;let cr;e[223]>1e-35?e[1]>31.500000000000004?e[8]>634.5000000000001?cr=-.06904501553217077:cr=.05696231672035904:cr=-.1124703178077813:e[99]>1e-35?e[1]>89.50000000000001?cr=-.05074261170009721:e[1]>57.50000000000001?e[8]>969.5000000000001?cr=-.011419256378538392:e[0]>3830.5000000000005?cr=.140315841503076:cr=.02403434913963024:e[1]>31.500000000000004?e[8]>65.50000000000001?e[2]>10.500000000000002?cr=-.04027822909411164:cr=.03176085103667189:cr=.06779515865838849:e[4]>15.500000000000002?cr=.0762878389015175:e[8]>175.50000000000003?e[0]>3030.5000000000005?e[8]>1041.5000000000002?cr=.06124039747298539:cr=-.04312732764434027:cr=.09161522761808062:cr=-.09663512235460074:e[280]>1e-35?e[6]>45.50000000000001?e[1]>46.50000000000001?cr=.11211681010488772:e[13]>1e-35?cr=.06725735814960367:cr=-.046744031455827846:e[10]>44.50000000000001?e[0]>3400.5000000000005?e[0]>4004.5000000000005?e[2]>22.500000000000004?cr=.11743605068905603:cr=-.011309033539148687:cr=-.07896094707523052:cr=.12862714793172117:e[10]>1.5000000000000002?e[8]>455.50000000000006?e[0]>4706.500000000001?cr=-.09218756798869711:e[10]>19.500000000000004?e[0]>1894.5000000000002?e[0]>3719.5000000000005?cr=.02836295848998302:cr=.12210680366745175:cr=-.058302317470509096:e[5]>4144.500000000001?cr=.06123341960495106:cr=-.03840046906926525:cr=-.05221474543453495:cr=.03988215485860711:cr=-.00033074684693083496;let zo=P0t(t+r+n+i+s+a+l+c+u+f+m+h+p+A+x+v+E+b+_+R+P+F+W+se+de+re+G+U+ne+J+j+O+V+Z+ae+te+le+fe+De+ve+Ue+ke+Ze+ft+at+lt+ie+Fe+Ae+Ge+z+ee+Le+Se+Ce+qe+Ve+tt+Ct+Pt+yt+$t+Kt+sr+ge+Qe+Je+rt+St+bt+Qt+Ot+wt+kt+_t+qt+Ht+Jt+ur+gr+lr+fr+rr+dr+Ie+M+me+ye+Y+L+Te+Oe+xt+Wt+Nt+ir+ar+Ut+It+cr);return[1-zo,zo]}o(tEe,"multilineModelPredict");function P0t(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}o(P0t,"sigmoid");var F0t={javascript:["//"],typescript:["//"],typescriptreact:["//"],javascriptreact:["//"],vue:["//","-->"],php:["//","#"],dart:["//"],go:["//"],cpp:["//"],scss:["//"],csharp:["//"],java:["//"],c:["//"],rust:["//"],python:["#"],markdown:["#","-->"],css:["*/"]},rEe={javascript:1,javascriptreact:2,typescript:3,typescriptreact:4,python:5,go:6,ruby:7};function nEe(e,t,r,n=!0){let i=e.split(`
`);if(n&&(i=i.filter(l=>l.trim().length>0)),Math.abs(t)>i.length||t>=i.length)return!1;t<0&&(t=i.length+t);let s=i[t];return(F0t[r]??[]).some(l=>s.includes(l))}o(nEe,"hasComment");var HQ=class{static{o(this,"PromptFeatures")}constructor(t,r){let[n,i]=this.firstAndLast(t),s=this.firstAndLast(t.trimEnd());this.language=r,this.length=t.length,this.firstLineLength=n.length,this.lastLineLength=i.length,this.lastLineRstripLength=i.trimEnd().length,this.lastLineStripLength=i.trim().length,this.rstripLength=t.trimEnd().length,this.stripLength=t.trim().length,this.rstripLastLineLength=s[1].length,this.rstripLastLineStripLength=s[1].trim().length,this.secondToLastLineHasComment=nEe(t,-2,r),this.rstripSecondToLastLineHasComment=nEe(t.trimEnd(),-2,r),this.prefixEndsWithNewline=t.endsWith(`
`),this.lastChar=t.slice(-1),this.rstripLastChar=t.trimEnd().slice(-1),this.firstChar=t[0],this.lstripFirstChar=t.trimStart().slice(0,1)}firstAndLast(t){let r=t.split(`
`),n=r.length,i=r[0],s=r[n-1];return s==""&&n>1&&(s=r[n-2]),[i,s]}},Xee=class{static{o(this,"MultilineModelFeatures")}constructor(t,r,n){this.language=n,this.prefixFeatures=new HQ(t,n),this.suffixFeatures=new HQ(r,n)}constructFeatures(){let t=new Array(14).fill(0);t[0]=this.prefixFeatures.length,t[1]=this.prefixFeatures.firstLineLength,t[2]=this.prefixFeatures.lastLineLength,t[3]=this.prefixFeatures.lastLineRstripLength,t[4]=this.prefixFeatures.lastLineStripLength,t[5]=this.prefixFeatures.rstripLength,t[6]=this.prefixFeatures.rstripLastLineLength,t[7]=this.prefixFeatures.rstripLastLineStripLength,t[8]=this.suffixFeatures.length,t[9]=this.suffixFeatures.firstLineLength,t[10]=this.suffixFeatures.lastLineLength,t[11]=this.prefixFeatures.secondToLastLineHasComment?1:0,t[12]=this.prefixFeatures.rstripSecondToLastLineHasComment?1:0,t[13]=this.prefixFeatures.prefixEndsWithNewline?1:0;let r=new Array(Object.keys(rEe).length+1).fill(0);r[rEe[this.language]??0]=1;let n=new Array(Object.keys(ru).length+1).fill(0);n[ru[this.prefixFeatures.lastChar]??0]=1;let i=new Array(Object.keys(ru).length+1).fill(0);i[ru[this.prefixFeatures.rstripLastChar]??0]=1;let s=new Array(Object.keys(ru).length+1).fill(0);s[ru[this.suffixFeatures.firstChar]??0]=1;let a=new Array(Object.keys(ru).length+1).fill(0);return a[ru[this.suffixFeatures.lstripFirstChar]??0]=1,t.concat(r,n,i,s,a)}};function N0t(e,t){return new Xee(e.prefix,e.suffix,t)}o(N0t,"constructMultilineFeatures");function iEe(e,t){let r=N0t(e,t).constructFeatures();return tEe(r)[1]}o(iEe,"requestMultilineScore");d();var ete=class e{constructor(t,r){this.index=t;this.documentPrefix=r;this.startOffset=0;this.text="";this.trimCount=0}static{o(this,"StreamingCompletion")}updateText(t){this.text=t}get addedToPrefix(){return this.text.substring(0,this.startOffset)}get effectivePrefix(){return this.documentPrefix+this.addedToPrefix}get effectiveText(){return this.text.substring(this.startOffset)}get isFirstCompletion(){return this.trimCount===0}get firstNewlineOffset(){let t=[...this.text.matchAll(/\r?\n/g)];return t.length>0&&t[0].index===0&&t.shift(),t.length>0?t[0].index:-1}trimAt(t){let r=new e(this.index,this.documentPrefix);return r.startOffset=this.startOffset,r.text=this.text.substring(0,this.startOffset+t),r.trimCount=this.trimCount,this.startOffset+=t,this.trimCount++,r}},jQ=class{constructor(t,r,n,i,s,a){this.ctx=t;this.prefix=r;this.languageId=n;this.initialSingleLine=i;this.trimmerLookahead=s;this.cacheFunction=a;this.lineLimit=3;this.completions=new Map}static{o(this,"StreamedCompletionSplitter")}getFinishedCallback(){return async(t,r)=>{let n=r.index??0,i=this.getCompletion(n,t);if(i.isFirstCompletion&&this.initialSingleLine&&i.firstNewlineOffset>=0){let s={yieldSolution:!0,continueStreaming:!0,finishOffset:i.firstNewlineOffset};return i.trimAt(s.finishOffset),r.finished&&await this.trimAll(r,i),s}return r.finished?await this.trimAll(r,i):await this.trimOnce(r,i)}}getCompletion(t,r){let n=this.completions.get(t);return n||(n=new ete(t,this.prefix),this.completions.set(t,n)),n.updateText(r),n}async trimOnce(t,r){let n=await this.trim(r);return n===void 0?{yieldSolution:!1,continueStreaming:!0}:r.isFirstCompletion?(r.trimAt(n),{yieldSolution:!0,continueStreaming:!0,finishOffset:n}):(this.cacheCompletion(t,r,n),{yieldSolution:!1,continueStreaming:!0})}async trimAll(t,r){let n,i;do n=await this.trim(r),r.isFirstCompletion?(i=n,r.trimAt(n??r.effectiveText.length)):this.cacheCompletion(t,r,n);while(n!==void 0);return i!==void 0?{yieldSolution:!0,continueStreaming:!0,finishOffset:i}:{yieldSolution:!1,continueStreaming:!0}}async trim(t){return await new GQ(this.languageId,t.effectivePrefix,t.effectiveText,this.lineLimit,this.trimmerLookahead).getCompletionTrimOffset()}cacheCompletion(t,r,n){let i=r.trimAt(n??r.effectiveText.length);if(i.effectiveText.trim()==="")return;let s=CQ(this.ctx,i.effectiveText.trimEnd(),t.getAPIJsonData(),i.index,t.requestId,n!==void 0,t.telemetryData);s.copilotAnnotations=this.adjustedAnnotations(s,r,i),s.generatedChoiceIndex=i.trimCount,this.cacheFunction(i.addedToPrefix,s)}adjustedAnnotations(t,r,n){if(t.copilotAnnotations===void 0)return;let i=n.addedToPrefix.length,a=i+t.completionText.length>=r.text.length,l={};for(let[c,u]of Object.entries(t.copilotAnnotations)){let f=u.filter(m=>m.start_offset-i<t.completionText.length&&m.stop_offset-i>0).map(m=>{let h={...m};return h.start_offset-=i,h.stop_offset-=i,a||(h.stop_offset=Math.min(h.stop_offset,t.completionText.length)),h});f.length>0&&(l[c]=f)}return Object.keys(l).length>0?l:void 0}};d();var VQ=new Yt("getCompletions");function $Q(e,t,r){r.telemetry.markAsDisplayed(),r.telemetry.properties.reason=y_(r.resultType),jt(e,`${t}.shown`,r.telemetry)}o($Q,"telemetryShown");function oEe(e,t,r){let n=t+".accepted",i=e.get(lf);i.previousLabel=1,i.previousLabelTimestamp=Date.now(),jt(e,n,r)}o(oEe,"telemetryAccepted");function sEe(e,t,r){let n=t+".rejected",i=e.get(lf);i.previousLabel=0,i.previousLabelTimestamp=Date.now(),jt(e,n,r)}o(sEe,"telemetryRejected");function Wp(e,t={}){return{...t,telemetryBlob:e}}o(Wp,"mkCanceledResultTelemetry");function ta(e){let t={headerRequestId:e.properties.headerRequestId,copilot_trackingId:e.properties.copilot_trackingId};return e.properties.sku!==void 0&&(t.sku=e.properties.sku),e.properties.opportunityId!==void 0&&(t.opportunityId=e.properties.opportunityId),e.properties.organizations_list!==void 0&&(t.organizations_list=e.properties.organizations_list),e.properties.enterprise_list!==void 0&&(t.enterprise_list=e.properties.enterprise_list),e.properties.clientCompletionId!==void 0&&(t.clientCompletionId=e.properties.clientCompletionId),t["abexp.assignmentcontext"]=e.filtersAndExp.exp.assignmentContext,t}o(ta,"mkBasicResultTelemetry");function aEe(e,t){if(t.type!=="promptOnly"){if(t.type==="success"){let r=Zs()-t.telemetryBlob.issuedTime,n=y_(t.resultType),i=JSON.stringify(t.performanceMetrics),s={...t.telemetryData,reason:n,performanceMetrics:i},{foundOffset:a}=t.telemetryBlob.measurements,l=t.performanceMetrics?.map(([c,u])=>`
${u.toFixed(2)}	${c}`).join("")??"";return VQ.debug(e,`ghostText produced from ${n} in ${Math.round(r)}ms with foundOffset ${a}${l}`),rZ(e,"ghostText.produced",s,{timeToProduceMs:r,foundOffset:a}),t.value}if(VQ.debug(e,"No ghostText produced -- "+t.type+": "+t.reason),t.type==="canceled"){jt(e,"ghostText.canceled",t.telemetryData.telemetryBlob.extendedBy({reason:t.reason,cancelledNetworkRequest:t.telemetryData.cancelledNetworkRequest?"true":"false"}));return}rZ(e,`ghostText.${t.type}`,{...t.telemetryData,reason:t.reason},{})}}o(aEe,"handleGhostTextResultTelemetry");function y_(e){switch(e){case 0:return"network";case 1:return"cache";case 3:return"cycling";case 2:return"typingAsSuggested";case 4:return"async"}}o(y_,"resultTypeToString");d();d();var zQ=class{constructor(t,r,n){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}static{o(this,"BaseBlockParser")}async getNodeMatchAtPosition(t,r,n){let i=await q1(this.languageId,t);try{let a=i.rootNode.descendantForIndex(r);for(;a;){let l=this.nodeMatch[a.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(a.type);if((c==""?a.namedChildren[0]:a.childForFieldName(c))?.type==l)break}a=a.parent}return a?n(a):void 0}finally{i.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,i=>{let s=i.children.reverse().find(a=>a.type==this.nodeMatch[i.type]);if(s){if(this.languageId=="python"&&s.parent){let a=s.parent.type==":"?s.parent.parent:s.parent,l=a?.nextSibling;for(;l&&l.type=="comment";){let c=l.startPosition.row==s.endPosition.row&&l.startPosition.column>=s.endPosition.column,u=l.startPosition.row>a.endPosition.row&&l.startPosition.column>a.startPosition.column;if(c||u)s=l,l=l.nextSibling;else break}}if(!(s.endIndex>=s.tree.rootNode.endIndex-1&&(s.hasError()||s.parent.hasError())))return n(s)}})}async isBlockBodyFinished(t,r,n){let i=(t+r).trimEnd(),s=await this.getNextBlockAtPosition(i,n,a=>a.endIndex);if(s!==void 0&&s<i.length){let a=s-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,i=>i.startIndex)}},YQ=class extends zQ{constructor(r,n,i,s,a){super(r,s,a);this.blockEmptyMatch=n;this.lineMatch=i}static{o(this,"RegexBasedBlockParser")}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let i=await this.getNextBlockAtPosition(r,n,s=>{s.startIndex<n&&(n=s.startIndex);let a=r.substring(n,s.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(r,n){return n=cEe(r,n),this.isBlockStart(L0t(r,n))&&this.isBlockBodyEmpty(r,n)}};function L0t(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}o(L0t,"getLineAtOffset");function cEe(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}o(cEe,"rewindToNearestNonWs");function lEe(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,i=t.substring(n,r);if(/^\s*$/.test(i))return i}o(lEe,"indent");function Q0t(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=lEe(e,r),i=lEe(t,r);return n!==void 0&&i!==void 0&&n.startsWith(i)}o(Q0t,"outdented");var g5=class extends zQ{constructor(r,n,i,s,a,l,c){super(r,n,i);this.startKeywords=s;this.blockNodeType=a;this.emptyStatementType=l;this.curlyBraceLanguage=c}static{o(this,"TreeSitterBasedBlockParser")}isBlockEmpty(r,n){let i=r.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(r.parent?.type=="class_definition"||r.parent?.type=="function_definition")&&r.children.length==1&&m3e(r.parent))}async isEmptyBlockStart(r,n){if(n>r.length)throw new RangeError("Invalid offset");for(let s=n;s<r.length&&r.charAt(s)!=`
`;s++)if(/\S/.test(r.charAt(s)))return!1;n=cEe(r,n);let i=await q1(this.languageId,r);try{let s=i.rootNode.descendantForIndex(n-1);if(s==null||this.curlyBraceLanguage&&s.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&s.parent&&s.parent.type=="object"&&s.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let f=s;for(;f.parent;){if(f.type=="function_signature"||f.type=="method_signature"){let m=s.nextSibling;return m&&f.hasError()&&Q0t(f,m,r)?!0:!f.children.find(p=>p.type==";")&&f.endIndex<=n}f=f.parent}}let a=null,l=null,c=null,u=s;for(;u!=null;){if(u.type==this.blockNodeType){l=u;break}if(this.nodeMatch[u.type]){c=u;break}if(u.type=="ERROR"){a=u;break}u=u.parent}if(l!=null){if(!l.parent||!this.nodeMatch[l.parent.type])return!1;if(this.languageId=="python"){let f=l.previousSibling;if(f!=null&&f.hasError()&&(f.text.startsWith('"""')||f.text.startsWith("'''")))return!0}return this.isBlockEmpty(l,n)}if(a!=null){if(a.previousSibling?.type=="module"||a.previousSibling?.type=="internal_module"||a.previousSibling?.type=="def")return!0;let f=[...a.children].reverse(),m=f.find(p=>this.startKeywords.includes(p.type)),h=f.find(p=>p.type==this.blockNodeType);if(m){switch(this.languageId){case"python":{m.type=="try"&&s.type=="identifier"&&s.text.length>4&&(h=f.find(x=>x.hasError())?.children.find(x=>x.type=="block"));let p,A=0;for(let x of a.children){if(x.type==":"&&A==0){p=x;break}x.type=="("&&(A+=1),x.type==")"&&(A-=1)}if(p&&m.endIndex<=p.startIndex&&p.nextSibling){if(m.type=="def"){let x=p.nextSibling;if(x.type=='"'||x.type=="'"||x.type=="ERROR"&&(x.text=='"""'||x.text=="'''"))return!0}return!1}break}case"javascript":{let p=f.find(v=>v.type=="formal_parameters");if(m.type=="class"&&p)return!0;let A=f.find(v=>v.type=="{");if(A&&A.startIndex>m.endIndex&&A.nextSibling!=null||f.find(v=>v.type=="do")&&m.type=="while"||m.type=="=>"&&m.nextSibling&&m.nextSibling.type!="{")return!1;break}case"typescript":{let p=f.find(x=>x.type=="{");if(p&&p.startIndex>m.endIndex&&p.nextSibling!=null||f.find(x=>x.type=="do")&&m.type=="while"||m.type=="=>"&&m.nextSibling&&m.nextSibling.type!="{")return!1;break}}return h&&h.startIndex>m.endIndex?this.isBlockEmpty(h,n):!0}}if(c!=null){let f=this.nodeMatch[c.type],m=c.children.slice().reverse().find(h=>h.type==f);if(m)return this.isBlockEmpty(m,n);if(this.nodeTypesWithBlockOrStmtChild.has(c.type)){let h=this.nodeTypesWithBlockOrStmtChild.get(c.type),p=h==""?c.children[0]:c.childForFieldName(h);if(p&&p.type!=this.blockNodeType&&p.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}},M0t={python:new g5("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new g5("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new g5("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new g5("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new YQ("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new YQ("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new g5("csharp",{},new Map([]),[],"block",null,!0),java:new g5("java",{},new Map([]),[],"block",null,!0)};function tte(e){if(!Ju(e))throw new Error(`Language ${e} is not supported`);return M0t[NN(e)]}o(tte,"getBlockParser");async function uEe(e,t,r){return Ju(e)?tte(e).isEmptyBlockStart(t,r):!1}o(uEe,"isEmptyBlockStart");async function fEe(e,t,r,n){if(Ju(e))return tte(e).isBlockBodyFinished(t,r,n)}o(fEe,"isBlockBodyFinished");async function dEe(e,t,r){if(Ju(e))return tte(e).getNodeStart(t,r)}o(dEe,"getNodeStart");var o9r=new Yt("parseBlock");function x_(e,t,r,n){let i=t.getText(No.range(No.position(0,0),r))+(n?`
`:""),s=t.offsetAt(r)+(n?1:0),a=t.detectedLanguageId;return l=>fEe(a,i,l,s)}o(x_,"parsingBlockFinished");function JQ(e,t){return uEe(e.detectedLanguageId,e.getText(),e.offsetAt(t))}o(JQ,"isEmptyBlockStartUtil");async function mEe(e,t,r,n){let s=t.getText(No.range(No.position(0,0),r))+n,a=await dEe(t.detectedLanguageId,s,t.offsetAt(r));if(a)return t.positionAt(a)}o(mEe,"getNodeStartUtil");var O0t=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),U0t=new RegExp(`^(${O0t.join("|")})`);function q0t(e){return U0t.test(e.trimLeft().toLowerCase())}o(q0t,"isContinuationLine");function KQ(e){let t=/^(\s*)([^]*)$/.exec(e);if(t&&t[2]&&t[2].length>0)return t[1].length}o(KQ,"indentationOfLine");function v_(e,t){let r=e.getText(),n=e.offsetAt(t);return rte(r,n,e.detectedLanguageId)}o(v_,"contextIndentation");function rte(e,t,r){let n=e.slice(0,t).split(`
`),i=e.slice(t).split(`
`);function s(f,m,h){let p=m,A,x;for(;A===void 0&&p>=0&&p<f.length;)A=KQ(f[p]),x=p,p+=h;if(r==="python"&&h===-1){p++;let v=f[p].trim();if(v.endsWith('"""')){if(!(v.startsWith('"""')&&v!=='"""'))for(p--;p>=0&&!f[p].trim().startsWith('"""');)p--;if(p>=0)for(A=void 0,p--;A===void 0&&p>=0;)A=KQ(f[p]),x=p,p--}}return[A,x]}o(s,"seekNonBlank");let[a,l]=s(n,n.length-1,-1),c=(()=>{if(!(a===void 0||l===void 0))for(let f=l-1;f>=0;f--){let m=KQ(n[f]);if(m!==void 0&&m<a)return m}})(),[u]=s(i,1,1);return{prev:c,current:a??0,next:u}}o(rte,"contextIndentationFromText");var W0t=!1;function G0t(e,t,r){let n=e.split(`
`),i=r!==void 0,s=r?.split(`
`).pop(),a=0;if(i&&s?.trim()!=""&&n[0].trim()!==""&&a++,!i&&W0t&&n[0].trim()===""&&a++,i||a++,n.length===a)return"continue";let l=Math.max(t.current,t.next??0);for(let c=a;c<n.length;c++){let u=n[c];c==0&&s!==void 0&&(u=s+u);let f=KQ(u);if(f!==void 0&&(f<l||f===l&&!q0t(u)))return n.slice(0,c).join(`
`).length}return"continue"}o(G0t,"completionCutOrContinue");function hEe(e,t){return async r=>{let n=G0t(r,e,t);return n==="continue"?void 0:n}}o(hEe,"indentationBlockFinished");d();d();d();function pEe(e,t){return{...QN,useSubsetMatching:nte(e,t)}}o(pEe,"getCppSimilarFilesOptions");function gEe(e){return QN.maxTopSnippets}o(gEe,"getCppNumberOfSnippets");var H0t=new Map([["cpp",pEe]]);function ZQ(e,t,r){let n=H0t.get(r);return n?n(e,t):{...qZ,useSubsetMatching:nte(e,t)}}o(ZQ,"getSimilarFilesOptions");var j0t=new Map([["cpp",gEe]]);function AEe(e,t){let r=j0t.get(t);return r?r(e):p3e}o(AEe,"getNumberOfSnippets");function nte(e,t){return(t.filtersAndExp.exp.variables.copilotsubsetmatching||jn(e,Rt.UseSubsetMatching))??!1}o(nte,"useSubsetMatching");d();d();var V0t=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function $0t(e){return V0t.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o($0t,"isOomError");function XQ(e,t,r,n=li){if(!bc(t)){if(t instanceof Error){let i=t;$0t(i)?e.get(zi).setWarning("Out of memory"):i.code==="EMFILE"||i.code==="ENFILE"?e.get(zi).setWarning("Too many open files"):i.code==="CopilotPromptLoadFailure"?e.get(zi).setWarning("Corrupted Copilot installation"):`${i.code}`.startsWith("CopilotPromptWorkerExit")?e.get(zi).setWarning("Worker unexpectedly exited"):i.syscall==="uv_cwd"&&i.code==="ENOENT"&&e.get(zi).setWarning("Current working directory does not exist")}n.exception(e,t,r)}}o(XQ,"handleException");function yEe(e){process.addListener("uncaughtException",r=>{XQ(e,r,"uncaughtException")});let t=!1;process.addListener("unhandledRejection",r=>{if(!t)try{t=!0,XQ(e,r,"unhandledRejection")}finally{t=!1}})}o(yEe,"registerDefaultHandlers");d();d();d();var wl=class{constructor(){this._expectations=new Map;this._lastResolution=new Map;this._statistics=new Map}static{o(this,"ContextProviderStatistics")}addExpectations(t,r){let n=this._expectations.get(t)??[];this._expectations.set(t,[...n,...r])}clearExpectations(){this._expectations.clear()}setLastResolution(t,r){this._lastResolution.set(t,r)}get(t){return this._statistics.get(t)}pop(t){let r=this._statistics.get(t);if(r)return this._statistics.delete(t),r}computeMatch(t){try{for(let[r,n]of this._expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let s=[];for(let[u,f]of n){let m={id:u.id,type:u.type};if(u.origin&&(m.origin=u.origin),f==="content_excluded"){s.push({...m,usage:"none_content_excluded"});continue}let h=t.find(p=>p.source===u);h===void 0?s.push({...m,usage:"error"}):s.push({...m,usage:h.expectedTokens>0&&h.expectedTokens===h.actualTokens?"full":h.actualTokens>0?"partial":"none",expectedTokens:h.expectedTokens,actualTokens:h.actualTokens})}let l=s.reduce((u,f)=>f.usage==="full"?u+1:f.usage==="partial"?u+.5:u,0)/n.length,c=l===1?"full":l===0?"none":"partial";this._statistics.set(r,{resolution:i,usage:c,usageDetails:s})}}finally{this.clearExpectations(),this._lastResolution.clear()}}};function CEe(e){return e.map(t=>{if(!(t.source===void 0||t.expectedTokens===void 0||t.actualTokens===void 0))return{source:t.source,expectedTokens:t.expectedTokens,actualTokens:t.actualTokens}}).filter(t=>t!==void 0)}o(CEe,"componentStatisticsToPromptMatcher");d();var xEe=I.Object({importance:I.Optional(I.Integer({minimum:0,maximum:100})),id:I.Optional(I.String()),origin:I.Optional(I.Union([I.Literal("request"),I.Literal("update")]))}),vEe=I.Intersect([I.Object({name:I.String(),value:I.String()}),xEe]),bEe=I.Intersect([I.Object({uri:I.String(),value:I.String(),additionalUris:I.Optional(I.Array(I.String()))}),xEe]),z0t=[vEe,bEe],Y0t=I.Union(z0t),K0t=new Map([["Trait",ds.Compile(vEe)],["CodeSnippet",ds.Compile(bEe)]]),J0t=o(e=>e,"ensureTypesAreEqual");J0t(!0);var Z0t=I.Object({contextItems:I.Array(Y0t)}),X0t=I.Object({selector:I.Array(I.Union([I.String(),I.Object({language:I.Optional(I.String()),scheme:I.Optional(I.String()),pattern:I.Optional(I.String())})]))}),ite=I.Object({id:I.String()}),eut=I.Intersect([ite,X0t]),tut=I.Intersect([ite,Z0t]),EEe=I.Object({providers:I.Array(eut)}),IEe=I.Object({providers:I.Array(ite)}),ote=I.Object({providers:I.Array(tut),updating:I.Optional(I.Array(I.String()))}),eM=I.Intersect([Nye,I.Object({contextItems:I.Optional(ote)})]);function tM(e,t){return e.map(r=>{let n=r.data.filter(i=>i.type===t);return n.length>0?{...r,data:n}:void 0}).filter(r=>r!==void 0)}o(tM,"filterContextItemsByType");function TEe(e){let t=[],r=0;return e.forEach(n=>{let i=!1;for(let[s,a]of K0t.entries())if(a.Check(n)){t.push({...n,type:s}),i=!0;break}i||r++}),[t,r]}o(TEe,"filterSupportedContextItems");function rut(e){return e.length>0&&e.replaceAll(/[^a-zA-Z0-9-]/g,"").length===e.length}o(rut,"validateContextItemId");function wEe(e,t){let r=new Set,n=[];for(let i of t){let s=i.id??Ir();if(!rut(s)){let a=Ir();li.error(e,`Invalid context item ID ${s}, replacing with ${a}`),s=a}if(r.has(s)){let a=Ir();li.error(e,`Duplicate context item ID ${s}, replacing with ${a}`),s=a}r.add(s),n.push({...i,id:s})}return n}o(wEe,"addOrValidateContextItemsIDs");var nut="content_excluded";async function _Ee(e,t,r){let n=tM(t,"CodeSnippet");if(n.length===0)return[];let i=new Set,s=n.flatMap(u=>u.data.map(f=>(i.add(f.uri),f.additionalUris?.forEach(m=>i.add(m)),{providerId:u.providerId,data:f}))),a=e.get(Jr),l=new Map;await Promise.all(Array.from(i).map(async u=>{l.set(u,await a.getTextDocumentValidation({uri:u}))}));let c=e.get(wl);return s.filter(u=>{let m=[u.data.uri,...u.data.additionalUris??[]].every(h=>l.get(h)?.status==="valid");return m?c.addExpectations(u.providerId,[[u.data,"included"]]):c.addExpectations(u.providerId,[[u.data,nut]]),m}).map(u=>u.data)}o(_Ee,"getCodeSnippetsFromContextItems");function SEe(e,t){let r=e.get(Jr);return t.map(n=>({snippet:n,relativePath:r.getRelativePath(n)}))}o(SEe,"addRelativePathToCodeSnippets");d();function ra(e){if(e.children)return Array.isArray(e.children)?e.children.join(""):e.children}o(ra,"Text");function rM(e){return e.children}o(rM,"Chunk");d();function $n(e,t,r){let n=[];Array.isArray(t.children)?n=t.children:t.children&&(n=[t.children]);let i={...t,children:n};return r&&(i.key=r),{type:e,props:i}}o($n,"functionComponentFunction");function J1(e){return{type:"f",children:e}}o(J1,"fragmentFunction");J1.isFragmentFunction=!0;var kEe=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(nu,f=>{f.codeSnippets!==r&&n(f.codeSnippets),f.document.uri!==i?.uri&&s(f.document)}),!r||r.length===0||!i)return;let a=W1(i.detectedLanguageId),l=SEe(e.ctx,r),c=new Map;for(let f of l){let m=f.relativePath??f.snippet.uri,h=c.get(m);h===void 0&&(h=[],c.set(m,h)),h.push(f)}let u=[];for(let[f,m]of c.entries()){let h=m.filter(p=>p.snippet.value.length>0);h.length>0&&u.push({chunkElements:h.map(p=>p.snippet),importance:Math.max(...h.map(p=>p.snippet.importance??0)),uri:f})}if(u.length!==0)return u.sort((f,m)=>m.importance-f.importance),u.reverse(),u.map(f=>{let m=[];return m.push($n(ra,{children:i0(`Compare ${f.chunkElements.length>1?"these snippets":"this snippet"} from ${f.uri}:`,a)})),f.chunkElements.forEach((h,p)=>{m.push($n(ra,{source:h,children:i0(h.value,a)},h.id)),f.chunkElements.length>1&&p<f.chunkElements.length-1&&m.push($n(ra,{children:i0("---",a)}))}),$n(rM,{children:m})})},"CodeSnippets");d();d();d();function REe(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let i=0;i<e.length;i++)r[i][n]=Math.min((i==0?n:r[i-1][n])+1,(n==0?i:r[i][n-1])+1,(i==0||n==0?Math.max(i,n):r[i-1][n-1])+(e[i]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}o(REe,"findEditDistanceScore");var BEe=50;function iut(e){let t=e*4,r=e*.1;return Math.floor(t+r)}o(iut,"approximateMaxCharacters");function b_(e,t){let[r,n]=t.useState(),[i,s]=t.useState(),[a,l]=t.useState(0),[c,u]=t.useState();t.useData(nu,m=>{let h=m.document;(m.document.uri!==r?.uri||h.getText()!==r?.getText())&&n(h),m.position!==i&&s(m.position),m.suffixMatchThreshold!==c&&u(m.suffixMatchThreshold),m.maxPromptTokens!==a&&l(m.maxPromptTokens)});let f=iut(a);return $n(J1,{children:[$n(ste,{document:r,position:i,maxCharacters:f}),$n(ate,{document:r,position:i,suffixMatchThreshold:c,maxCharacters:f})]})}o(b_,"CurrentFile");function ste(e){if(e.document===void 0||e.position===void 0)return $n(ra,{});let t=e.document.getText({start:{line:0,character:0},end:e.position});return t.length>e.maxCharacters&&(t=t.slice(-e.maxCharacters)),$n(ra,{children:t})}o(ste,"BeforeCursor");function ate(e,t){let[r,n]=t.useState("");if(e.document===void 0||e.position===void 0)return $n(ra,{});let i=e.document.getText({start:e.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});i.length>e.maxCharacters&&(i=i.slice(0,e.maxCharacters));let s=i.replace(/^.*/,"").trimStart();if(s==="")return $n(ra,{});if(r===s)return $n(ra,{children:r});let a=s;if(r!==""){let l=go(),c=l.takeFirstTokens(s,BEe);c.tokens.length>0&&100*REe(c.tokens,l.takeFirstTokens(r,BEe).tokens)?.score<(e.suffixMatchThreshold??MN)*c.tokens.length&&(a=r)}return a!==r&&n(a),$n(ra,{children:a})}o(ate,"AfterCursor");d();var nM=class{constructor(t){this.tokenizer=t}static{o(this,"WishlistElision")}elide(t,r,n,i=0){if(r<=0)throw new Error("Prefix limit must be greater than 0");let s=n??{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"},[a,l]=this.preparePrefixBlocks(t),{elidedSuffix:c,adjustedPrefixTokenLimit:u}=this.elideSuffix(s,i,r,l),f=this.elidePrefix(a,u,l);return[c,...f]}preparePrefixBlocks(t){let r=0,n=new Set;return[t.map((s,a)=>{let l=this.tokenizer.tokenLength(s.value);r+=l;let c=s.componentPath;if(n.has(c))throw new Error(`Duplicate component path in prefix blocks: ${c}`);return n.add(c),{...s,tokens:l,markedForRemoval:!1,originalIndex:a}}),r]}elideSuffix(t,r,n,i){let s=t.value;if(s.length===0||r<=0)return{elidedSuffix:{...t,tokens:0,elidedValue:"",elidedTokens:0},adjustedPrefixTokenLimit:n+Math.max(0,r)};i<n&&(r=r+(n-i),n=i);let a=this.tokenizer.takeFirstTokens(s,r);return{elidedSuffix:{...t,value:s,tokens:this.tokenizer.tokenLength(s),elidedValue:a.text,elidedTokens:a.tokens.length},adjustedPrefixTokenLimit:n+Math.max(0,r-a.tokens.length)}}elidePrefix(t,r,n){let i=this.removeLowWeightPrefixBlocks(t,r,n),s=i.filter(u=>!u.markedForRemoval).flatMap(u=>u.value.split(/([^\n]*\n+)/).map(m=>({line:m,componentPath:u.componentPath}))).filter(u=>u.line!=="");if(s.length===0)return[];let[a,l]=this.trimPrefixLinesToFit(s,r),c=l;return i.map(u=>{if(u.markedForRemoval)return c+u.tokens<=r&&!u.chunk?(c+=u.tokens,{...u,elidedValue:u.value,elidedTokens:u.tokens}):{...u,elidedValue:"",elidedTokens:0};let f=a.filter(h=>h.componentPath===u.componentPath&&h.line!=="").map(h=>h.line).join(""),m=u.tokens;return f!==u.value&&(m=f!==""?this.tokenizer.tokenLength(f):0),{...u,elidedValue:f,elidedTokens:m}})}removeLowWeightPrefixBlocks(t,r,n){let i=n;t.sort((s,a)=>s.weight-a.weight);for(let s of t){if(i<=r)break;if(s.weight!==1&&!(s.chunk&&s.markedForRemoval))if(s.chunk)for(let a of t)a.chunk===s.chunk&&!a.markedForRemoval&&(a.markedForRemoval=!0,i-=a.tokens);else s.markedForRemoval=!0,i-=s.tokens}return t.sort((s,a)=>s.originalIndex-a.originalIndex).map(s=>{let{originalIndex:a,...l}=s;return l})}trimPrefixLinesToFit(t,r){let n=0,i=[];for(let s=t.length-1;s>=0;s--){let a=t[s],l=a.line,c=this.tokenizer.tokenLength(l);if(n+c<=r)i.unshift(a),n+=c;else break}if(i.length===0){let s=t[t.length-1];if(s&&s.line.length>0){let l=this.tokenizer.takeLastTokens(s.line,r);return i.push({line:l.text,componentPath:s.componentPath}),[i,l.tokens.length]}let a=`Cannot fit prefix within limit of ${r} tokens`;throw new Error(a)}return[i,n]}};function DEe(e){return e.map(t=>t.elidedValue).join("")}o(DEe,"makePrompt");function PEe(e){return e.filter(t=>t.type==="prefix").map(t=>t.elidedValue).join("")}o(PEe,"makePrefixPrompt");function FEe(e,t){return e.filter(r=>r.type==="context").map(r=>t3e(r.elidedValue,t)).join("").trim()}o(FEe,"makeContextPrompt");d();var iM=class{constructor(t){this.snapshot=t}static{o(this,"SnapshotWalker")}walkSnapshot(t){this.walkSnapshotNode(this.snapshot,void 0,t,1,void 0,void 0)}walkSnapshotNode(t,r,n,i,s,a){let l=t.props?.weight??1,u=(typeof l=="number"?Math.max(0,Math.min(1,l)):1)*i,m=t.name===rM.name?t:s,h=t.props?.source??a;if(n(t,r,u,m,h))for(let A of t.children??[])this.walkSnapshotNode(A,t,n,u,m,h)}};var sut=5,oM=class{constructor(){this.renderId=0}static{o(this,"CompletionsPromptRenderer")}render(t,r,n){let i=this.renderId++,s=performance.now();try{if(n?.isCancellationRequested)return{status:"cancelled"};let a=r.delimiter??"",l=r.tokenizer??go(),{prefixBlocks:c,suffixBlock:u,componentStatistics:f}=this.processSnapshot(t,a),{prefixTokenLimit:m,suffixTokenLimit:h}=this.getPromptLimits(u,r),p=performance.now(),A=new nM(l),[x,...v]=A.elide(c,m,u,h),E=performance.now(),b=DEe(v),_=PEe(v),R=FEe(v,r.languageId),P=x.elidedValue,F=v.reduce((se,de)=>se+de.elidedTokens,0),W=F+x.elidedTokens;return f.push(...aut([...v,x])),{prefix:b,prefixTokens:F,suffix:P,suffixTokens:x.elidedTokens,prefixWithoutContext:_,context:R,tokens:W,status:"ok",metadata:{actualTokens:W,renderId:i,elisionTimeMs:E-p,renderTimeMs:performance.now()-s,componentStatistics:f,updateDataTimeMs:f.reduce((se,de)=>se+(de.updateDataTimeMs??0),0),status:"ok"}}}catch(a){return{status:"error",error:a}}}getPromptLimits(t,r){let n=t?.value??"",i=r.promptTokenLimit,s=r.suffixPercent;if(n.length==0||s==0)return{prefixTokenLimit:i,suffixTokenLimit:0};i=n.length>0?i-sut:i;let a=Math.ceil(i*(s/100));return{prefixTokenLimit:i-a,suffixTokenLimit:a}}processSnapshot(t,r){let n=[],i=[],s=[],a=!1,l=!1,c=!1;if(new iM(t).walkSnapshot((m,h,p,A,x)=>{if(m===t||(m.name===b_.name?a=!0:m.name===ste.name?l=!0:m.name===ate.name&&(c=!0),m.statistics.updateDataTimeMs&&m.statistics.updateDataTimeMs>0&&s.push({componentPath:m.path,updateDataTimeMs:m.statistics.updateDataTimeMs}),m.value===void 0||m.value===""))return!0;if(c)i.push({value:m.value,type:"suffix",weight:p,componentPath:m.path,nodeStatistics:m.statistics,chunk:A?A.path:void 0,source:x});else{let v=m.value.endsWith(r)?m.value:m.value+r,E=l?m.value:v;n.push({type:l?"prefix":"context",value:E,weight:p,componentPath:m.path,nodeStatistics:m.statistics,chunk:A?A.path:void 0,source:x})}return!0}),!a)throw new Error(`Node of type ${b_.name} not found`);if(i.length>1)throw new Error("Only one suffix is allowed");let f=i[0];return{prefixBlocks:n,suffixBlock:f,componentStatistics:s}}};function aut(e){return e.map(t=>{let r={componentPath:t.componentPath};return t.tokens!==0&&(r.expectedTokens=t.tokens,r.actualTokens=t.elidedTokens),t.nodeStatistics.updateDataTimeMs!==void 0&&(r.updateDataTimeMs=t.nodeStatistics.updateDataTimeMs),t.source&&(r.source=t.source),r})}o(aut,"computeComponentStatistics");d();var NEe=o((e,t)=>{let[r,n]=t.useState();if(t.useData(nu,i=>{n(i.telemetryData)}),r&&e.by(e.ctx,r))return e.children},"Gated");d();var LEe=o((e,t)=>{let[r,n]=t.useState();if(t.useData(nu,i=>{i.document.uri!==r?.uri&&n(i.document)}),r){let i=e.ctx.get(Jr),s=i.getRelativePath(r),a={uri:r.uri,source:r.getText(),relativePath:s,languageId:r.detectedLanguageId},l=i.findNotebook(r);return a.relativePath&&!l?$n(lut,{docInfo:a}):$n(cut,{docInfo:a})}},"DocumentMarker"),lut=o(e=>$n(ra,{children:n3e(e.docInfo)}),"PathMarker"),cut=o(e=>$n(ra,{children:r3e(e.docInfo)}),"LanguageMarker");d();d();d();d();d();var lte=class{static{o(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?sM.isErrorNoTelemetry(t)?new sM(t.message+`

`+t.stack):new Error(t.message+`

`+t.stack):t},0)}}addListener(t){return this.listeners.push(t),()=>{this._removeListener(t)}}emit(t){this.listeners.forEach(r=>{r(t)})}_removeListener(t){this.listeners.splice(this.listeners.indexOf(t),1)}setUnexpectedErrorHandler(t){this.unexpectedErrorHandler=t}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}},QEe=new lte;function Y4(e){QEe.onUnexpectedError(e)}o(Y4,"onBugIndicatingError");function JI(e){uut(e)||QEe.onUnexpectedError(e)}o(JI,"onUnexpectedError");var cte="Canceled";function uut(e){return e instanceof Gp?!0:e instanceof Error&&e.name===cte&&e.message===cte}o(uut,"isCancellationError");var Gp=class extends Error{static{o(this,"CancellationError")}constructor(){super(cte),this.name=this.message}};function E_(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}o(E_,"illegalArgument");function MEe(e){return e?new Error(`Illegal state: ${e}`):new Error("Illegal state")}o(MEe,"illegalState");var sM=class e extends Error{static{o(this,"ErrorNoTelemetry")}constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof e)return t;let r=new e;return r.message=t.message,r.stack=t.stack,r}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}},Fi=class e extends Error{static{o(this,"BugIndicatingError")}constructor(t){super(t||"An unexpected bug occurred."),Object.setPrototypeOf(this,e.prototype)}};function aM(e,t="Unreachable"){throw new Error(t)}o(aM,"assertNever");function iu(e,t="unexpected state"){if(!e)throw new Fi(`Assertion Failed: ${t}`)}o(iu,"assert");function A5(e){if(!e()){debugger;e(),JI(new Fi("Assertion Failed"))}}o(A5,"assertFn");function lM(e,t){let r=0;for(;r<e.length-1;){let n=e[r],i=e[r+1];if(!t(n,i))return!1;r++}return!0}o(lM,"checkAdjacentItems");d();d();d();function ute(e,t){let r=ih(e,t);return r===-1?void 0:e[r]}o(ute,"findLastMonotonous");function ih(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?i=a+1:s=a}return i-1}o(ih,"findLastIdxMonotonous");function ZI(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?s=a:i=a+1}return i}o(ZI,"findFirstIdxMonotonousOrArrLen");var OEe=class e{constructor(t){this._array=t;this._findLastMonotonousLastIdx=0}static{o(this,"MonotonousArray")}static{this.assertInvariants=!1}findLastMonotonous(t){if(e.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!t(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=t}let r=ih(this._array,t,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};function fte(e,t,r=(n,i)=>n===i){if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(!r(e[n],t[n]))return!1;return!0}o(fte,"equals");function*uM(e,t){let r,n;for(let i of e)n!==void 0&&t(n,i)?r.push(i):(r&&(yield r),r=[i]),n=i;r&&(yield r)}o(uM,"groupAdjacentBy");function qEe(e){return e.filter(t=>!!t)}o(qEe,"coalesce");var WEe;(l=>{function e(c){return c<0}l.isLessThan=e,o(e,"isLessThan");function t(c){return c<=0}l.isLessThanOrEqual=t,o(t,"isLessThanOrEqual");function r(c){return c>0}l.isGreaterThan=r,o(r,"isGreaterThan");function n(c){return c===0}l.isNeitherLessOrGreaterThan=n,o(n,"isNeitherLessOrGreaterThan"),l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})(WEe||={});function y5(e,t){return(r,n)=>t(e(r),e(n))}o(y5,"compareBy");var C5=o((e,t)=>e-t,"numberComparator");var cM=class{constructor(t){this.items=t;this.firstIdx=0;this.lastIdx=this.items.length-1}static{o(this,"ArrayQueue")}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(t){let r=this.firstIdx;for(;r<this.items.length&&t(this.items[r]);)r++;let n=r===this.firstIdx?null:this.items.slice(this.firstIdx,r);return this.firstIdx=r,n}takeFromEndWhile(t){let r=this.lastIdx;for(;r>=0&&t(this.items[r]);)r--;let n=r===this.lastIdx?null:this.items.slice(r+1,this.lastIdx+1);return this.lastIdx=r,n}peek(){if(this.length!==0)return this.items[this.firstIdx]}peekLast(){if(this.length!==0)return this.items[this.lastIdx]}dequeue(){let t=this.items[this.firstIdx];return this.firstIdx++,t}removeLast(){let t=this.items[this.lastIdx];return this.lastIdx--,t}takeCount(t){let r=this.items.slice(this.firstIdx,this.firstIdx+t);return this.firstIdx+=t,r}},UEe=class e{constructor(t){this.iterate=t}static{o(this,"CallbackIterable")}static{this.empty=new e(t=>{})}forEach(t){this.iterate(r=>(t(r),!0))}toArray(){let t=[];return this.iterate(r=>(t.push(r),!0)),t}filter(t){return new e(r=>this.iterate(n=>t(n)?r(n):!0))}map(t){return new e(r=>this.iterate(n=>r(t(n))))}some(t){let r=!1;return this.iterate(n=>(r=t(n),!r)),r}findFirst(t){let r;return this.iterate(n=>t(n)?(r=n,!1):!0),r}findLast(t){let r;return this.iterate(n=>(t(n)&&(r=n),!0)),r}findLastMaxBy(t){let r,n=!0;return this.iterate(i=>((n||WEe.isGreaterThan(t(i,r)))&&(n=!1,r=i),!0)),r}};d();function VEe(e,t){let r=Object.create(null);for(let n of e){let i=t(n),s=r[i];s||(s=r[i]=[]),s.push(n)}return r}o(VEe,"groupBy");var HEe,jEe,GEe=class{constructor(t,r){this.toKey=r;this._map=new Map;this[HEe]="SetWithKey";for(let n of t)this.add(n)}static{o(this,"SetWithKey")}get size(){return this._map.size}add(t){let r=this.toKey(t);return this._map.set(r,t),this}delete(t){return this._map.delete(this.toKey(t))}has(t){return this._map.has(this.toKey(t))}*entries(){for(let t of this._map.values())yield[t,t]}keys(){return this.values()}*values(){for(let t of this._map.values())yield t}clear(){this._map.clear()}forEach(t,r){this._map.forEach(n=>t.call(r,n,n,this))}[(jEe=Symbol.iterator,HEe=Symbol.toStringTag,jEe)](){return this.values()}};d();function dte(e,t){let r=this,n=!1,i;return function(){if(n)return i;if(n=!0,t)try{i=e.apply(r,arguments)}finally{t()}else i=e.apply(r,arguments);return i}}o(dte,"createSingleCallFunction");d();var mte;(_=>{function e(R){return R&&typeof R=="object"&&typeof R[Symbol.iterator]=="function"}_.is=e,o(e,"is");let t=Object.freeze([]);function r(){return t}_.empty=r,o(r,"empty");function*n(R){yield R}_.single=n,o(n,"single");function i(R){return e(R)?R:n(R)}_.wrap=i,o(i,"wrap");function s(R){return R||t}_.from=s,o(s,"from");function*a(R){for(let P=R.length-1;P>=0;P--)yield R[P]}_.reverse=a,o(a,"reverse");function l(R){return!R||R[Symbol.iterator]().next().done===!0}_.isEmpty=l,o(l,"isEmpty");function c(R){return R[Symbol.iterator]().next().value}_.first=c,o(c,"first");function u(R,P){let F=0;for(let W of R)if(P(W,F++))return!0;return!1}_.some=u,o(u,"some");function f(R,P){for(let F of R)if(P(F))return F}_.find=f,o(f,"find");function*m(R,P){for(let F of R)P(F)&&(yield F)}_.filter=m,o(m,"filter");function*h(R,P){let F=0;for(let W of R)yield P(W,F++)}_.map=h,o(h,"map");function*p(R,P){let F=0;for(let W of R)yield*P(W,F++)}_.flatMap=p,o(p,"flatMap");function*A(...R){for(let P of R)yield*P}_.concat=A,o(A,"concat");function x(R,P,F){let W=F;for(let se of R)W=P(W,se);return W}_.reduce=x,o(x,"reduce");function*v(R,P,F=R.length){for(P<-R.length&&(P=0),P<0&&(P+=R.length),F<0?F+=R.length:F>R.length&&(F=R.length);P<F;P++)yield R[P]}_.slice=v,o(v,"slice");function E(R,P=Number.POSITIVE_INFINITY){let F=[];if(P===0)return[F,R];let W=R[Symbol.iterator]();for(let se=0;se<P;se++){let de=W.next();if(de.done)return[F,_.empty()];F.push(de.value)}return[F,{[Symbol.iterator](){return W}}]}_.consume=E,o(E,"consume");async function b(R){let P=[];for await(let F of R)P.push(F);return Promise.resolve(P)}_.asyncToArray=b,o(b,"asyncToArray")})(mte||={});d();var hte=class{constructor(t,r){this.uri=t;this.value=r}static{o(this,"ResourceMapEntry")}};function dut(e){return Array.isArray(e)}o(dut,"isEntries");var zEe,fM=class e{constructor(t,r){this[zEe]="ResourceMap";if(t instanceof e)this.map=new Map(t.map),this.toKey=r??e.defaultToKey;else if(dut(t)){this.map=new Map,this.toKey=r??e.defaultToKey;for(let[n,i]of t)this.set(n,i)}else this.map=new Map,this.toKey=t??e.defaultToKey}static{o(this,"ResourceMap")}static{this.defaultToKey=o(t=>t.toString(),"defaultToKey")}set(t,r){return this.map.set(this.toKey(t),new hte(t,r)),this}get(t){return this.map.get(this.toKey(t))?.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,r){typeof r<"u"&&(t=t.bind(r));for(let[n,i]of this.map)t(i.value,i.uri,this)}*values(){for(let t of this.map.values())yield t.value}*keys(){for(let t of this.map.values())yield t.uri}*entries(){for(let t of this.map.values())yield[t.uri,t.value]}*[(zEe=Symbol.toStringTag,Symbol.iterator)](){for(let[,t]of this.map)yield[t.uri,t.value]}},YEe,$Ee=class{constructor(t,r){this[YEe]="ResourceSet";!t||typeof t=="function"?this._map=new fM(t):(this._map=new fM(r),t.forEach(this.add,this))}static{o(this,"ResourceSet")}get size(){return this._map.size}add(t){return this._map.set(t,t),this}clear(){this._map.clear()}delete(t){return this._map.delete(t)}forEach(t,r){this._map.forEach((n,i)=>t.call(r,i,i,this))}has(t){return this._map.has(t)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(YEe=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var KEe,pte=class{constructor(){this[KEe]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}static{o(this,"LinkedMap")}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=0){let n=this._map.get(t);if(n)return r!==0&&this.touch(n,r),n.value}set(t,r,n=0){let i=this._map.get(t);if(i)i.value=r,n!==0&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}values(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}entries(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}[(KEe=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===2){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}},gte=class extends pte{static{o(this,"Cache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=2){return super.get(t,r)}peek(t){return super.get(t,0)}set(t,r){return super.set(t,r,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},dM=class extends gte{static{o(this,"LRUCache")}constructor(t,r=1){super(t,r)}trim(t){this.trimOld(t)}set(t,r){return super.set(t,r),this.checkTrim(),this}};var mM=class{constructor(){this.map=new Map}static{o(this,"SetMap")}add(t,r){let n=this.map.get(t);n||(n=new Set,this.map.set(t,n)),n.add(r)}delete(t,r){let n=this.map.get(t);n&&(n.delete(r),n.size===0&&this.map.delete(t))}forEach(t,r){let n=this.map.get(t);n&&n.forEach(r)}get(t){let r=this.map.get(t);return r||new Set}};var mut=!1,XI=null;var JEe=class e{constructor(){this.livingDisposables=new Map}static{o(this,"DisposableTracker")}static{this.idx=0}getDisposableData(t){let r=this.livingDisposables.get(t);return r||(r={parent:null,source:null,isSingleton:!1,value:t,idx:e.idx++},this.livingDisposables.set(t,r)),r}trackDisposable(t){let r=this.getDisposableData(t);r.source||(r.source=new Error().stack)}setParent(t,r){let n=this.getDisposableData(t);n.parent=r}markAsDisposed(t){this.livingDisposables.delete(t)}markAsSingleton(t){this.getDisposableData(t).isSingleton=!0}getRootParent(t,r){let n=r.get(t);if(n)return n;let i=t.parent?this.getRootParent(this.getDisposableData(t.parent),r):t;return r.set(t,i),i}getTrackedDisposables(){let t=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,t).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(t=10,r){let n;if(r)n=r;else{let c=new Map,u=[...this.livingDisposables.values()].filter(m=>m.source!==null&&!this.getRootParent(m,c).isSingleton);if(u.length===0)return;let f=new Set(u.map(m=>m.value));if(n=u.filter(m=>!(m.parent&&f.has(m.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function i(c){function u(m,h){for(;m.length>0&&h.some(p=>typeof p=="string"?p===m[0]:m[0].match(p));)m.shift()}o(u,"removePrefix");let f=c.source.split(`
`).map(m=>m.trim().replace("at ","")).filter(m=>m!=="");return u(f,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),f.reverse()}o(i,"getStackTracePath");let s=new mM;for(let c of n){let u=i(c);for(let f=0;f<=u.length;f++)s.add(u.slice(0,f).join(`
`),c)}n.sort(y5(c=>c.idx,C5));let a="",l=0;for(let c of n.slice(0,t)){l++;let u=i(c),f=[];for(let m=0;m<u.length;m++){let h=u[m];h=`(shared with ${s.get(u.slice(0,m+1).join(`
`)).size}/${n.length} leaks) at ${h}`;let A=s.get(u.slice(0,m).join(`
`)),x=VEe([...A].map(v=>i(v)[m]),v=>v);delete x[u[m]];for(let[v,E]of Object.entries(x))f.unshift(`    - stacktraces of ${E.length} other leaks continue with ${v}`);f.unshift(h)}a+=`


==================== Leaking disposable ${l}/${n.length}: ${c.value.constructor.name} ====================
${f.join(`
`)}
============================================================

`}return n.length>t&&(a+=`


... and ${n.length-t} more leaking disposables

`),{leaks:n,details:a}}};function hut(e){XI=e}o(hut,"setDisposableTracker");if(mut){let e="__is_disposable_tracked__";hut(new class{trackDisposable(t){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{t[e]||console.log(r)},3e3)}setParent(t,r){if(t&&t!==Ia.None)try{t[e]=!0}catch{}}markAsDisposed(t){if(t&&t!==Ia.None)try{t[e]=!0}catch{}}markAsSingleton(t){}})}function e8(e){return XI?.trackDisposable(e),e}o(e8,"trackDisposable");function t8(e){XI?.markAsDisposed(e)}o(t8,"markAsDisposed");function Ate(e,t){XI?.setParent(e,t)}o(Ate,"setParentOfDisposable");function put(e,t){if(XI)for(let r of e)XI.setParent(r,t)}o(put,"setParentOfDisposables");function ZEe(e){return typeof e=="object"&&e!==null&&typeof e.dispose=="function"&&e.dispose.length===0}o(ZEe,"isDisposable");function hM(e){if(mte.is(e)){let t=[];for(let r of e)if(r)try{r.dispose()}catch(n){t.push(n)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}o(hM,"dispose");function XEe(...e){let t=Ta(()=>hM(e));return put(e,t),t}o(XEe,"combinedDisposable");function Ta(e){let t=e8({dispose:dte(()=>{t8(t),e()})});return t}o(Ta,"toDisposable");var c0=class e{constructor(){this._toDispose=new Set;this._isDisposed=!1;e8(this)}static{o(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(t8(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{hM(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return Ate(t,this),this._isDisposed?e.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),Ate(t,null))}},Ia=class{constructor(){this._store=new c0;e8(this),Ate(this._store,this)}static{o(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}dispose(){t8(this),this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}};d();d();d();d();d();var Z1=o((e,t)=>e===t,"strictEquals");d();d();var eIe=class e{static{o(this,"Node")}static{this.Undefined=new e(void 0)}constructor(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}};d();var gut=globalThis.performance&&typeof globalThis.performance.now=="function",pM=class e{static{o(this,"StopWatch")}static create(t){return new e(t)}constructor(t){this._now=gut&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var tIe=!1,Aut=!1,K4;(J=>{J.None=o(()=>Ia.None,"None");function t(j){if(Aut){let{onDidAddListener:O}=j,V=I_.create(),Z=0;j.onDidAddListener=()=>{++Z===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),V.print()),O?.()}}}o(t,"_addLeakageTraceLogic");function r(j,O){return p(j,()=>{},0,void 0,!0,void 0,O)}J.defer=r,o(r,"defer");function n(j){return(O,V=null,Z)=>{let ae=!1,te;return te=j(le=>{if(!ae)return te?te.dispose():ae=!0,O.call(V,le)},null,Z),ae&&te.dispose(),te}}J.once=n,o(n,"once");function i(j,O){return J.once(J.filter(j,O))}J.onceIf=i,o(i,"onceIf");function s(j,O,V){return m((Z,ae=null,te)=>j(le=>Z.call(ae,O(le)),null,te),V)}J.map=s,o(s,"map");function a(j,O,V){return m((Z,ae=null,te)=>j(le=>{O(le),Z.call(ae,le)},null,te),V)}J.forEach=a,o(a,"forEach");function l(j,O,V){return m((Z,ae=null,te)=>j(le=>O(le)&&Z.call(ae,le),null,te),V)}J.filter=l,o(l,"filter");function c(j){return j}J.signal=c,o(c,"signal");function u(...j){return(O,V=null,Z)=>{let ae=XEe(...j.map(te=>te(le=>O.call(V,le))));return h(ae,Z)}}J.any=u,o(u,"any");function f(j,O,V,Z){let ae=V;return s(j,te=>(ae=O(ae,te),ae),Z)}J.reduce=f,o(f,"reduce");function m(j,O){let V,Z={onWillAddFirstListener(){V=j(ae.fire,ae)},onDidRemoveLastListener(){V?.dispose()}};O||t(Z);let ae=new cf(Z);return O?.add(ae),ae.event}o(m,"snapshot");function h(j,O){return O instanceof Array?O.push(j):O&&O.add(j),j}o(h,"addAndReturnDisposable");function p(j,O,V=100,Z=!1,ae=!1,te,le){let fe,De,ve,Ue=0,ke,Ze={leakWarningThreshold:te,onWillAddFirstListener(){fe=j(at=>{Ue++,De=O(De,at),Z&&!ve&&(ft.fire(De),De=void 0),ke=o(()=>{let lt=De;De=void 0,ve=void 0,(!Z||Ue>1)&&ft.fire(lt),Ue=0},"doFire"),typeof V=="number"?(clearTimeout(ve),ve=setTimeout(ke,V)):ve===void 0&&(ve=0,queueMicrotask(ke))})},onWillRemoveListener(){ae&&Ue>0&&ke?.()},onDidRemoveLastListener(){ke=void 0,fe.dispose()}};le||t(Ze);let ft=new cf(Ze);return le?.add(ft),ft.event}J.debounce=p,o(p,"debounce");function A(j,O=0,V){return J.debounce(j,(Z,ae)=>Z?(Z.push(ae),Z):[ae],O,void 0,!0,void 0,V)}J.accumulate=A,o(A,"accumulate");function x(j,O=(Z,ae)=>Z===ae,V){let Z=!0,ae;return l(j,te=>{let le=Z||!O(te,ae);return Z=!1,ae=te,le},V)}J.latch=x,o(x,"latch");function v(j,O,V){return[J.filter(j,O,V),J.filter(j,Z=>!O(Z),V)]}J.split=v,o(v,"split");function E(j,O=!1,V=[],Z){let ae=V.slice(),te=j(De=>{ae?ae.push(De):fe.fire(De)});Z&&Z.add(te);let le=o(()=>{ae?.forEach(De=>fe.fire(De)),ae=null},"flush"),fe=new cf({onWillAddFirstListener(){te||(te=j(De=>fe.fire(De)),Z&&Z.add(te))},onDidAddFirstListener(){ae&&(O?setTimeout(le):le())},onDidRemoveLastListener(){te&&te.dispose(),te=null}});return Z&&Z.add(fe),fe.event}J.buffer=E,o(E,"buffer");function b(j,O){return o((Z,ae,te)=>{let le=O(new R);return j(function(fe){let De=le.evaluate(fe);De!==_&&Z.call(ae,De)},void 0,te)},"fn")}J.chain=b,o(b,"chain");let _=Symbol("HaltChainable");class R{constructor(){this.steps=[]}static{o(this,"ChainableSynthesis")}map(O){return this.steps.push(O),this}forEach(O){return this.steps.push(V=>(O(V),V)),this}filter(O){return this.steps.push(V=>O(V)?V:_),this}reduce(O,V){let Z=V;return this.steps.push(ae=>(Z=O(Z,ae),Z)),this}latch(O=(V,Z)=>V===Z){let V=!0,Z;return this.steps.push(ae=>{let te=V||!O(ae,Z);return V=!1,Z=ae,te?ae:_}),this}evaluate(O){for(let V of this.steps)if(O=V(O),O===_)break;return O}}function P(j,O,V=Z=>Z){let Z=o((...fe)=>le.fire(V(...fe)),"fn"),ae=o(()=>j.on(O,Z),"onFirstListenerAdd"),te=o(()=>j.removeListener(O,Z),"onLastListenerRemove"),le=new cf({onWillAddFirstListener:ae,onDidRemoveLastListener:te});return le.event}J.fromNodeEventEmitter=P,o(P,"fromNodeEventEmitter");function F(j,O,V=Z=>Z){let Z=o((...fe)=>le.fire(V(...fe)),"fn"),ae=o(()=>j.addEventListener(O,Z),"onFirstListenerAdd"),te=o(()=>j.removeEventListener(O,Z),"onLastListenerRemove"),le=new cf({onWillAddFirstListener:ae,onDidRemoveLastListener:te});return le.event}J.fromDOMEventEmitter=F,o(F,"fromDOMEventEmitter");function W(j,O){return new Promise(V=>n(j)(V,null,O))}J.toPromise=W,o(W,"toPromise");function se(j){let O=new cf;return j.then(V=>{O.fire(V)},()=>{O.fire(void 0)}).finally(()=>{O.dispose()}),O.event}J.fromPromise=se,o(se,"fromPromise");function de(j,O){return j(V=>O.fire(V))}J.forward=de,o(de,"forward");function re(j,O,V){return O(V),j(Z=>O(Z))}J.runAndSubscribe=re,o(re,"runAndSubscribe");class G{constructor(O,V){this._observable=O;this._counter=0;this._hasChanged=!1;let Z={onWillAddFirstListener:o(()=>{O.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:o(()=>{O.removeObserver(this)},"onDidRemoveLastListener")};V||t(Z),this.emitter=new cf(Z),V&&V.add(this.emitter)}static{o(this,"EmitterObserver")}beginUpdate(O){this._counter++}handlePossibleChange(O){}handleChange(O,V){this._hasChanged=!0}endUpdate(O){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function U(j,O){return new G(j,O).emitter.event}J.fromObservable=U,o(U,"fromObservable");function ne(j){return(O,V,Z)=>{let ae=0,te=!1,le={beginUpdate(){ae++},endUpdate(){ae--,ae===0&&(j.reportChanges(),te&&(te=!1,O.call(V)))},handlePossibleChange(){},handleChange(){te=!0}};j.addObserver(le),j.reportChanges();let fe={dispose(){j.removeObserver(le)}};return Z instanceof c0?Z.add(fe):Array.isArray(Z)&&Z.push(fe),fe}}J.fromObservableLight=ne,o(ne,"fromObservableLight")})(K4||={});var yte=class e{constructor(t){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${t}_${e._idPool++}`,e.all.add(this)}static{o(this,"EventProfiling")}static{this.all=new Set}static{this._idPool=0}start(t){this._stopWatch=new pM,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}},rIe=-1;var Cte=class e{constructor(t,r,n=(e._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t;this.threshold=r;this.name=n;this._warnCountdown=0}static{o(this,"LeakageMonitor")}static{this._idPool=1}dispose(){this._stacks?.clear()}check(t,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[s,a]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${a}):`;console.warn(l),console.warn(s);let c=new xte(l,s);this._errorHandler(c)}return()=>{let s=this._stacks.get(t.value)||0;this._stacks.set(t.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,r=0;for(let[n,i]of this._stacks)(!t||r<i)&&(t=[n,i],r=i);return t}},I_=class e{constructor(t){this.value=t}static{o(this,"Stacktrace")}static create(){let t=new Error;return new e(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},xte=class extends Error{static{o(this,"ListenerLeakError")}constructor(t,r){super(t),this.name="ListenerLeakError",this.stack=r}},vte=class extends Error{static{o(this,"ListenerRefusalError")}constructor(t,r){super(t),this.name="ListenerRefusalError",this.stack=r}},yut=0,r8=class{constructor(t){this.value=t;this.id=yut++}static{o(this,"UniqueContainer")}},Cut=2,xut=o((e,t)=>{if(e instanceof r8)t(e);else for(let r=0;r<e.length;r++){let n=e[r];n&&t(n)}},"forEachListener"),cf=class{constructor(t){this._size=0;this._options=t,this._leakageMon=rIe>0||this._options?.leakWarningThreshold?new Cte(t?.onListenerError??JI,this._options?.leakWarningThreshold??rIe):void 0,this._perfMon=this._options?._profName?new yte(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}static{o(this,"Emitter")}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(tIe){let t=this._listeners;queueMicrotask(()=>{xut(t,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(t,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let c=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(c);let u=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],f=new vte(`${c}. HINT: Stack shows most frequent listener (${u[1]}-times)`,u[0]);return(this._options?.onListenerError||JI)(f),Ia.None}if(this._disposed)return Ia.None;r&&(t=t.bind(r));let i=new r8(t),s,a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=I_.create(),s=this._leakageMon.check(i.stack,this._size+1)),tIe&&(i.stack=a??I_.create()),this._listeners?this._listeners instanceof r8?(this._deliveryQueue??=new bte,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._options?.onDidAddListener?.(this),this._size++;let l=Ta(()=>{s?.(),this._removeListener(i)});return n instanceof c0?n.add(l):Array.isArray(n)&&n.push(l),l},this._event}_removeListener(t){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(t);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let i=this._deliveryQueue.current===this;if(this._size*Cut<=r.length){let s=0;for(let a=0;a<r.length;a++)r[a]?r[s++]=r[a]:i&&s<this._deliveryQueue.end&&(this._deliveryQueue.end--,s<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=s}}_deliver(t,r){if(!t)return;let n=this._options?.onListenerError||JI;if(!n){t.value(r);return}try{t.value(r)}catch(i){n(i)}}_deliverQueue(t){let r=t.current._listeners;for(;t.i<t.end;)this._deliver(r[t.i++],t.value);t.reset()}fire(t){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof r8)this._deliver(this._listeners,t);else{let r=this._deliveryQueue;r.enqueue(this,t,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var bte=class{constructor(){this.i=-1;this.end=0}static{o(this,"EventDeliveryQueuePrivate")}enqueue(t,r,n){this.i=0,this.end=n,this.current=t,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};d();var u0=class{constructor(t,r,n){this.owner=t;this.debugNameSource=r;this.referenceFn=n}static{o(this,"DebugNameData")}getDebugName(t){return sIe(t,this)}},nIe=new Map,Ete=new WeakMap;function sIe(e,t){let r=Ete.get(e);if(r)return r;let n=vut(e,t);if(n){let i=nIe.get(n)??0;i++,nIe.set(n,i);let s=i===1?n:`${n}#${i}`;return Ete.set(e,s),s}}o(sIe,"getDebugName");function vut(e,t){let r=Ete.get(e);if(r)return r;let n=t.owner?Eut(t.owner)+".":"",i,s=t.debugNameSource;if(s!==void 0)if(typeof s=="function"){if(i=s(),i!==void 0)return n+i}else return n+s;let a=t.referenceFn;if(a!==void 0&&(i=gM(a),i!==void 0))return n+i;if(t.owner!==void 0){let l=but(t.owner,e);if(l!==void 0)return n+l}}o(vut,"computeDebugName");function but(e,t){for(let r in e)if(e[r]===t)return r}o(but,"findKey");var iIe=new Map,oIe=new WeakMap;function Eut(e){let t=oIe.get(e);if(t)return t;let r=Iut(e),n=iIe.get(r)??0;n++,iIe.set(r,n);let i=n===1?r:`${r}#${n}`;return oIe.set(e,i),i}o(Eut,"formatOwner");function Iut(e){let t=e.constructor;return t?t.name:"Object"}o(Iut,"getClassName");function gM(e){let t=e.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t);return(n?n[1]:void 0)?.trim()}o(gM,"getFunctionName");d();var J4;function yM(e){J4?J4 instanceof AM?J4.loggers.push(e):J4=new AM([J4,e]):J4=e}o(yM,"addLogger");function Ds(){return J4}o(Ds,"getLogger");var Ite;function aIe(e){Ite=e}o(aIe,"setLogObservableFn");function lIe(e){Ite&&Ite(e)}o(lIe,"logObservable");var AM=class{constructor(t){this.loggers=t}static{o(this,"ComposedLogger")}handleObservableCreated(t){for(let r of this.loggers)r.handleObservableCreated(t)}handleOnListenerCountChanged(t,r){for(let n of this.loggers)n.handleOnListenerCountChanged(t,r)}handleObservableUpdated(t,r){for(let n of this.loggers)n.handleObservableUpdated(t,r)}handleAutorunCreated(t){for(let r of this.loggers)r.handleAutorunCreated(t)}handleAutorunDisposed(t){for(let r of this.loggers)r.handleAutorunDisposed(t)}handleAutorunDependencyChanged(t,r,n){for(let i of this.loggers)i.handleAutorunDependencyChanged(t,r,n)}handleAutorunStarted(t){for(let r of this.loggers)r.handleAutorunStarted(t)}handleAutorunFinished(t){for(let r of this.loggers)r.handleAutorunFinished(t)}handleDerivedDependencyChanged(t,r,n){for(let i of this.loggers)i.handleDerivedDependencyChanged(t,r,n)}handleDerivedCleared(t){for(let r of this.loggers)r.handleDerivedCleared(t)}handleBeginTransaction(t){for(let r of this.loggers)r.handleBeginTransaction(t)}handleEndTransaction(t){for(let r of this.loggers)r.handleEndTransaction(t)}};var cIe;function uIe(e){cIe=e}o(uIe,"_setRecomputeInitiallyAndOnChange");var fIe;function dIe(e){fIe=e}o(dIe,"_setKeepObserved");var Tte;function mIe(e){Tte=e}o(mIe,"_setDerivedOpts");var CM=class{static{o(this,"ConvenientObservable")}get TChange(){return null}reportChanges(){this.get()}read(t){return t?t.readObservable(this):this.get()}map(t,r){let n=r===void 0?void 0:t,i=r===void 0?t:r;return Tte({owner:n,debugName:o(()=>{let s=gM(i);if(s!==void 0)return s;let l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());if(l)return`${this.debugName}.${l[2]}`;if(!n)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:i},s=>i(this.read(s),s))}flatten(){return Tte({owner:void 0,debugName:o(()=>`${this.debugName} (flattened)`,"debugName")},t=>this.read(t).read(t))}recomputeInitiallyAndOnChange(t,r){return t.add(cIe(this,r)),this}keepObserved(t){return t.add(fIe(this)),this}get debugValue(){return this.get()}},x5=class extends CM{constructor(){super();this.observers=new Set;Ds()?.handleObservableCreated(this)}static{o(this,"BaseObservable")}addObserver(r){let n=this.observers.size;this.observers.add(r),n===0&&this.onFirstObserverAdded(),n!==this.observers.size&&Ds()?.handleOnListenerCountChanged(this,this.observers.size)}removeObserver(r){let n=this.observers.delete(r);n&&this.observers.size===0&&this.onLastObserverRemoved(),n&&Ds()?.handleOnListenerCountChanged(this,this.observers.size)}onFirstObserverAdded(){}onLastObserverRemoved(){}log(){let r=!!Ds();return lIe(this),r||Ds()?.handleObservableCreated(this),this}};function vM(e,t){let r=new n8(e,t);try{e(r)}finally{r.finish()}}o(vM,"transaction");function wte(e,t,r){e?t(e):vM(t,r)}o(wte,"subtransaction");var n8=class{constructor(t,r){this._fn=t;this._getDebugName=r;this.updatingObservers=[];Ds()?.handleBeginTransaction(this)}static{o(this,"TransactionImpl")}getDebugName(){return this._getDebugName?this._getDebugName():gM(this._fn)}updateObserver(t,r){this.updatingObservers.push({observer:t,observable:r}),t.beginUpdate(r)}finish(){let t=this.updatingObservers;for(let r=0;r<t.length;r++){let{observer:n,observable:i}=t[r];n.endUpdate(i)}this.updatingObservers=null,Ds()?.handleEndTransaction(this)}};function oh(e,t){let r;return typeof e=="string"?r=new u0(void 0,e,void 0):r=new u0(e,void 0,void 0),new xM(r,t,Z1)}o(oh,"observableValue");var xM=class extends x5{constructor(r,n,i){super();this._debugNameData=r;this._equalityComparator=i;this._value=n,Ds()?.handleObservableUpdated(this,{hadValue:!1,newValue:n,change:void 0,didChange:!0,oldValue:void 0})}static{o(this,"ObservableValue")}get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}get(){return this._value}set(r,n,i){if(i===void 0&&this._equalityComparator(this._value,r))return;let s;n||(n=s=new n8(()=>{},()=>`Setting ${this.debugName}`));try{let a=this._value;this._setValue(r),Ds()?.handleObservableUpdated(this,{oldValue:a,newValue:r,change:i,didChange:!0,hadValue:!0});for(let l of this.observers)n.updateObserver(l,this),l.handleChange(this,i)}finally{s&&s.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(r){this._value=r}};d();d();function Z4(e){return new i8(new u0(void 0,void 0,e),e,void 0,void 0)}o(Z4,"autorun");function _te(e,t){return new i8(new u0(e.owner,e.debugName,e.debugReferenceFn??t),t,void 0,void 0)}o(_te,"autorunOpts");function bM(e,t){return new i8(new u0(e.owner,e.debugName,e.debugReferenceFn??t),t,e.createEmptyChangeSummary,e.handleChange)}o(bM,"autorunHandleChanges");function Ste(e,t){let r=new c0,n=bM({owner:e.owner,debugName:e.debugName,debugReferenceFn:e.debugReferenceFn??t,createEmptyChangeSummary:e.createEmptyChangeSummary,handleChange:e.handleChange},(i,s)=>{r.clear(),t(i,s,r)});return Ta(()=>{n.dispose(),r.dispose()})}o(Ste,"autorunWithStoreHandleChanges");function kte(e){let t=new c0,r=_te({owner:void 0,debugName:void 0,debugReferenceFn:e},n=>{t.clear(),e(n,t)});return Ta(()=>{r.dispose(),t.dispose()})}o(kte,"autorunWithStore");var i8=class{constructor(t,r,n,i){this._debugNameData=t;this._runFn=r;this.createChangeSummary=n;this._handleChange=i;this.state=2;this.updateCount=0;this.disposed=!1;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this._isRunning=!1;this.changeSummary=this.createChangeSummary?.(),Ds()?.handleAutorunCreated(this),this._runIfNeeded(),e8(this)}static{o(this,"AutorunObserver")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),Ds()?.handleAutorunDisposed(this),t8(this)}_runIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t,this.state=3;try{if(!this.disposed){Ds()?.handleAutorunStarted(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._isRunning=!0,this._runFn(this,r)}catch(n){Y4(n)}finally{this._isRunning=!1}}}finally{this.disposed||Ds()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(t){this.state===3&&(this.state=1),this.updateCount++}endUpdate(t){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let r of this.dependencies)if(r.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}A5(()=>this.updateCount>=0)}handlePossibleChange(t){this.state===3&&this._isDependency(t)&&(this.state=1)}handleChange(t,r){if(this._isDependency(t)){Ds()?.handleAutorunDependencyChanged(this,t,r);try{(this._handleChange?this._handleChange({changedObservable:t,change:r,didChange:o(i=>i===t,"didChange")},this.changeSummary):!0)&&(this.state=2)}catch(n){Y4(n)}}}_isDependency(t){return this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)}readObservable(t){if(!this._isRunning)throw new Fi("The reader object cannot be used outside its compute function!");if(this.disposed)return t.get();t.addObserver(this);let r=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),r}};(t=>t.Observer=i8)(Z4||={});d();function EM(e,t){return new X4(new u0(e.owner,e.debugName,e.debugReferenceFn),t,void 0,void 0,e.onLastObserverRemoved,e.equalsFn??Z1)}o(EM,"derivedOpts");mIe(EM);var X4=class extends x5{constructor(r,n,i,s,a=void 0,l){super();this._debugNameData=r;this._computeFn=n;this.createChangeSummary=i;this._handleChange=s;this._handleLastObserverRemoved=a;this._equalityComparator=l;this.state=0;this.value=void 0;this.updateCount=0;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this.changeSummary=void 0;this._isUpdating=!1;this._isComputing=!1;this._removedObserverToCallEndUpdateOn=null;this._isReaderValid=!1;this.changeSummary=this.createChangeSummary?.()}static{o(this,"Derived")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0,Ds()?.handleDerivedCleared(this);for(let r of this.dependencies)r.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this._isComputing,this.observers.size===0){let n;try{this._isReaderValid=!0,n=this._computeFn(this,this.createChangeSummary?.())}finally{this._isReaderValid=!1}return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(let n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;let n=this.state!==0,i=this.value;this.state=3;let s=!1;this._isComputing=!0;try{let a=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this._isReaderValid=!0,this.value=this._computeFn(this,a)}finally{this._isReaderValid=!1;for(let l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}s=n&&!this._equalityComparator(i,this.value),Ds()?.handleObservableUpdated(this,{oldValue:i,newValue:this.value,change:void 0,didChange:s,hadValue:n})}catch(a){Y4(a)}if(this._isComputing=!1,s)for(let a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(r){if(this._isUpdating)throw new Fi("Cyclic deriveds are not supported yet!");this.updateCount++,this._isUpdating=!0;try{let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let i of this.observers)i.handlePossibleChange(this);if(n)for(let i of this.observers)i.beginUpdate(this)}finally{this._isUpdating=!1}}endUpdate(r){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let i of n)i.endUpdate(this);if(this._removedObserverToCallEndUpdateOn){let i=[...this._removedObserverToCallEndUpdateOn];this._removedObserverToCallEndUpdateOn=null;for(let s of i)s.endUpdate(this)}}A5(()=>this.updateCount>=0)}handlePossibleChange(r){if(this.state===3&&this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(r,n){if(this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){Ds()?.handleDerivedDependencyChanged(this,r,n);let i=!1;try{i=this._handleChange?this._handleChange({changedObservable:r,change:n,didChange:o(a=>a===r,"didChange")},this.changeSummary):!0}catch(a){Y4(a)}let s=this.state===3;if(i&&(this.state===1||s)&&(this.state=2,s))for(let a of this.observers)a.handlePossibleChange(this)}}readObservable(r){if(!this._isReaderValid)throw new Fi("The reader object cannot be used outside its compute function!");r.addObserver(this);let n=r.get();return this.dependencies.add(r),this.dependenciesToBeRemoved.delete(r),n}addObserver(r){let n=!this.observers.has(r)&&this.updateCount>0;super.addObserver(r),n&&(this._removedObserverToCallEndUpdateOn&&this._removedObserverToCallEndUpdateOn.has(r)?this._removedObserverToCallEndUpdateOn.delete(r):r.beginUpdate(this))}removeObserver(r){this.observers.has(r)&&this.updateCount>0&&(this._removedObserverToCallEndUpdateOn||(this._removedObserverToCallEndUpdateOn=new Set),this._removedObserverToCallEndUpdateOn.add(r)),super.removeObserver(r)}};d();d();function Rte(...e){let t,r,n;return e.length===3?[t,r,n]=e:[r,n]=e,new v5(new u0(t,void 0,n),r,n,()=>v5.globalTransaction,Z1)}o(Rte,"observableFromEvent");var v5=class extends x5{constructor(r,n,i,s,a){super();this._debugNameData=r;this.event=n;this._getValue=i;this._getTransaction=s;this._equalityComparator=a;this.hasValue=!1;this.handleEvent=o(r=>{let n=this._getValue(r),i=this.value,s=!this.hasValue||!this._equalityComparator(i,n),a=!1;s&&(this.value=n,this.hasValue&&(a=!0,wte(this._getTransaction(),l=>{Ds()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue});for(let c of this.observers)l.updateObserver(c,this),c.handleChange(this,void 0)},()=>{let l=this.getDebugName();return"Event fired"+(l?`: ${l}`:"")})),this.hasValue=!0),a||Ds()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue})},"handleEvent")}static{o(this,"FromEventObservable")}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let r=this.getDebugName();return"From Event"+(r?`: ${r}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(r=>{r.Observer=v5;function t(n,i){let s=!1;v5.globalTransaction===void 0&&(v5.globalTransaction=n,s=!0);try{i()}finally{s&&(v5.globalTransaction=void 0)}}r.batchEventsGlobally=t,o(t,"batchEventsGlobally")})(Rte||={});function pIe(e){let t=new IM(!1,void 0);return e.addObserver(t),Ta(()=>{e.removeObserver(t)})}o(pIe,"keepObserved");dIe(pIe);function gIe(e,t){let r=new IM(!0,t);return e.addObserver(r),t?t(e.get()):e.reportChanges(),Ta(()=>{e.removeObserver(r)})}o(gIe,"recomputeInitiallyAndOnChange");uIe(gIe);var IM=class{constructor(t,r){this._forceRecompute=t;this._handleValue=r;this._counter=0}static{o(this,"KeepAliveObserver")}beginUpdate(t){this._counter++}endUpdate(t){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(t.get()):t.reportChanges())}handlePossibleChange(t){}handleChange(t,r){}};function X1(e,t,r,n){let i=new TM(r,n);return EM({debugReferenceFn:r,owner:e,onLastObserverRemoved:o(()=>{i.dispose(),i=new TM(r)},"onLastObserverRemoved")},a=>(i.setItems(t.read(a)),i.getItems()))}o(X1,"mapObservableArrayCached");var TM=class{constructor(t,r){this._map=t;this._keySelector=r;this._cache=new Map;this._items=[]}static{o(this,"ArrayMap")}dispose(){this._cache.forEach(t=>t.store.dispose()),this._cache.clear()}setItems(t){let r=[],n=new Set(this._cache.keys());for(let i of t){let s=this._keySelector?this._keySelector(i):i,a=this._cache.get(s);if(a)n.delete(s);else{let l=new c0;a={out:this._map(i,l),store:l},this._cache.set(s,a)}r.push(a.out)}for(let i of n)this._cache.get(i).store.dispose(),this._cache.delete(i);this._items=r}getItems(){return this._items}};function Bte(e,t){let r;return Ste({createEmptyChangeSummary:o(()=>({deltas:[],didChange:!1}),"createEmptyChangeSummary"),handleChange:o((n,i)=>{if(n.didChange(e)){let s=n.change;s!==void 0&&i.deltas.push(s),i.didChange=!0}return!0},"handleChange")},(n,i)=>{let s=e.read(n),a=r;i.didChange&&(r=s,t(s,a,i.deltas))})}o(Bte,"runOnChange");d();d();d();var AIe=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),wM;(n=>{function e(i){return i===n.None||i===n.Cancelled||i instanceof o8?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}n.isCancellationToken=e,o(e,"isCancellationToken"),n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:K4.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:AIe})})(wM||={});var o8=class{constructor(){this._isCancelled=!1;this._emitter=null}static{o(this,"MutableToken")}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?AIe:(this._emitter||(this._emitter=new cf),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},eA=class{constructor(t){this._token=void 0;this._parentListener=void 0;this._parentListener=t&&t.onCancellationRequested(this.cancel,this)}static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new o8),this._token}cancel(){this._token?this._token instanceof o8&&this._token.cancel():this._token=wM.Cancelled}dispose(t=!1){t&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof o8&&this._token.dispose():this._token=wM.None}};d();var _M;function yIe(e){_M||(_M=new w_,yM(_M)),_M.addFilteredObj(e)}o(yIe,"logObservableToConsole");var w_=class{constructor(){this.indentation=0;this.changedObservablesSets=new WeakMap}static{o(this,"ConsoleObservableLogger")}addFilteredObj(t){this._filteredObjects||(this._filteredObjects=new Set),this._filteredObjects.add(t)}_isIncluded(t){return this._filteredObjects?.has(t)??!0}textToConsoleArgs(t){return Tut([s8(Sut("|  ",this.indentation)),t])}formatInfo(t){return t.hadValue?t.didChange?[s8(" "),kd(T_(t.oldValue,70),{color:"red",strikeThrough:!0}),s8(" "),kd(T_(t.newValue,60),{color:"green"})]:[s8(" (unchanged)")]:[s8(" "),kd(T_(t.newValue,60),{color:"green"}),s8(" (initial)")]}handleObservableCreated(t){if(t instanceof X4){let r=t;if(this.changedObservablesSets.set(r,new Set),!1){let i=[];r.__debugUpdating=i;let s=r.beginUpdate;r.beginUpdate=l=>(i.push(l),s.apply(r,[l]));let a=r.endUpdate;r.endUpdate=l=>{let c=i.indexOf(l);return c===-1&&console.error("endUpdate called without beginUpdate",r.debugName,l.debugName),i.splice(c,1),a.apply(r,[l])}}}}handleOnListenerCountChanged(t,r){}handleObservableUpdated(t,r){if(this._isIncluded(t)){if(t instanceof X4){this._handleDerivedRecomputed(t,r);return}console.log(...this.textToConsoleArgs([a8("observable value changed"),kd(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r)]))}}formatChanges(t){if(t.size!==0)return kd(" (changed deps: "+[...t].map(r=>r.debugName).join(", ")+")",{color:"gray"})}handleDerivedDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t)?.add(r)}_handleDerivedRecomputed(t,r){if(!this._isIncluded(t))return;let n=this.changedObservablesSets.get(t);n&&(console.log(...this.textToConsoleArgs([a8("derived recomputed"),kd(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),this.formatChanges(n),{data:[{fn:t._debugNameData.referenceFn??t._computeFn}]}])),n.clear())}handleDerivedCleared(t){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([a8("derived cleared"),kd(t.debugName,{color:"BlueViolet"})]))}handleFromEventObservableTriggered(t,r){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([a8("observable from event triggered"),kd(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),{data:[{fn:t._getValue}]}]))}handleAutorunCreated(t){this._isIncluded(t)&&this.changedObservablesSets.set(t,new Set)}handleAutorunDisposed(t){}handleAutorunDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t).add(r)}handleAutorunStarted(t){let r=this.changedObservablesSets.get(t);r&&(this._isIncluded(t)&&console.log(...this.textToConsoleArgs([a8("autorun"),kd(t.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:t._debugNameData.referenceFn??t._runFn}]}])),r.clear(),this.indentation++)}handleAutorunFinished(t){this.indentation--}handleBeginTransaction(t){let r=t.getDebugName();r===void 0&&(r=""),this._isIncluded(t)&&console.log(...this.textToConsoleArgs([a8("transaction"),kd(r,{color:"BlueViolet"}),{data:[{fn:t._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function Tut(e){let t=new Array,r=[],n="";function i(a){if("length"in a)for(let l of a)l&&i(l);else"text"in a?(n+=`%c${a.text}`,t.push(a.style),a.data&&r.push(...a.data)):"data"in a&&r.push(...a.data)}o(i,"process"),i(e);let s=[n,...t];return s.push(...r),s}o(Tut,"consoleTextToArgs");function s8(e){return kd(e,{color:"black"})}o(s8,"normalText");function a8(e){return kd(kut(`${e}: `,10),{color:"black",bold:!0})}o(a8,"formatKind");function kd(e,t={color:"black"}){function r(i){return Object.entries(i).reduce((s,[a,l])=>`${s}${a}:${l};`,"")}o(r,"objToCss");let n={color:t.color};return t.strikeThrough&&(n["text-decoration"]="line-through"),t.bold&&(n["font-weight"]="bold"),{text:e,style:r(n)}}o(kd,"styled");function T_(e,t){switch(typeof e){case"number":return""+e;case"string":return e.length+2<=t?`"${e}"`:`"${e.substr(0,t-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":return e===null?"null":Array.isArray(e)?wut(e,t):_ut(e,t);case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`;default:return""+e}}o(T_,"formatValue");function wut(e,t){let r="[ ",n=!0;for(let i of e){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${T_(i,t-r.length)}`}return r+=" ]",r}o(wut,"formatArray");function _ut(e,t){if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString){let i=e.toString();return i.length<=t?i:i.substring(0,t-3)+"..."}let r="{ ",n=!0;for(let[i,s]of Object.entries(e)){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${i}: ${T_(s,t-r.length)}`}return r+=" }",r}o(_ut,"formatObject");function Sut(e,t){let r="";for(let n=1;n<=t;n++)r+=e;return r}o(Sut,"repeat");function kut(e,t){for(;e.length<t;)e+=" ";return e}o(kut,"padStr");aIe(yIe);var Rut=!1;Rut&&yM(new w_);d();var ex;(r=>{r.PlainText="plaintext";function t(n){return n}r.create=t,o(t,"create")})(ex||={});d();d();d();function CIe(e){return e}o(CIe,"identity");var SM=class{constructor(t,r){this.lastCache=void 0;this.lastArgKey=void 0;typeof t=="function"?(this._fn=t,this._computeKey=CIe):(this._fn=r,this._computeKey=t.getCacheKey)}static{o(this,"LRUCachedFunction")}get(t){let r=this._computeKey(t);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this._fn(t)),this.lastCache}},tA=class{constructor(t,r){this._map=new Map;this._map2=new Map;typeof t=="function"?(this._fn=t,this._computeKey=CIe):(this._fn=r,this._computeKey=t.getCacheKey)}static{o(this,"CachedFunction")}get cachedValues(){return this._map}get(t){let r=this._computeKey(t);if(this._map2.has(r))return this._map2.get(r);let n=this._fn(t);return this._map.set(t,n),this._map2.set(r,n),n}};d();d();var Hp=class{constructor(t){this.executor=t;this._didRun=!1}static{o(this,"Lazy")}get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(t){this._error=t}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};d();function tx(e){return e<0?0:e>4294967295?4294967295:e|0}o(tx,"toUint32");function Pte(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}o(Pte,"escapeRegExpCharacters");function b5(e){return e.split(/\r\n|\r|\n/)}o(b5,"splitLines");function EIe(e,t){let r=Math.min(e.length,t.length),n;for(n=0;n<r;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return r}o(EIe,"commonPrefixLength");function kM(e,t){let r=Math.min(e.length,t.length),n,i=e.length-1,s=t.length-1;for(n=0;n<r;n++)if(e.charCodeAt(i-n)!==t.charCodeAt(s-n))return n;return r}o(kM,"commonSuffixLength");var Dut=/^[\t\n\r\x20-\x7E]*$/;function Fte(e){return Dut.test(e)}o(Fte,"isBasicASCII");var Mkr=String.fromCharCode(65279);var xIe=class e{static{o(this,"GraphemeBreakTree")}static{this._INSTANCE=null}static getInstance(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE}constructor(){this._data=Put()}getGraphemeBreakType(t){if(t<32)return t===10?3:t===13?2:4;if(t<127)return 0;let r=this._data,n=r.length/3,i=1;for(;i<=n;)if(t<r[3*i])i=2*i;else if(t>r[3*i+1])i=2*i+1;else return r[3*i+2];return 0}};function Put(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}o(Put,"getGraphemeBreakRawData");var vIe=class e{constructor(t){this.confusableDictionary=t}static{o(this,"AmbiguousCharacters")}static{this.ambiguousCharacterData=new Hp(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new SM({getCacheKey:JSON.stringify},t=>{function r(f){let m=new Map;for(let h=0;h<f.length;h+=2)m.set(f[h],f[h+1]);return m}o(r,"arrayToMap");function n(f,m){let h=new Map(f);for(let[p,A]of m)h.set(p,A);return h}o(n,"mergeMaps");function i(f,m){if(!f)return m;let h=new Map;for(let[p,A]of f)m.has(p)&&h.set(p,A);return h}o(i,"intersectMaps");let s=this.ambiguousCharacterData.value,a=t.filter(f=>!f.startsWith("_")&&f in s);a.length===0&&(a=["_default"]);let l;for(let f of a){let m=r(s[f]);l=i(l,m)}let c=r(s._common),u=n(c,l);return new e(u)})}static getInstance(t){return e.cache.get(Array.from(t))}static{this._locales=new Hp(()=>Object.keys(e.ambiguousCharacterData.value).filter(t=>!t.startsWith("_")))}static getLocales(){return e._locales.value}isAmbiguous(t){return this.confusableDictionary.has(t)}containsAmbiguousCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(t){return this.confusableDictionary.get(t)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},bIe=class e{static{o(this,"InvisibleCharacters")}static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(e.getRawData())),this._data}static isInvisibleCharacter(t){return e.getData().has(t)}static containsInvisibleCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&e.isInvisibleCharacter(n))return!0}return!1}static get codePoints(){return e.getData()}};d();var Wr=class e{constructor(t,r){this.start=t;this.endExclusive=r;if(t>r)throw new Fi(`Invalid range: ${this.toString()}`)}static{o(this,"OffsetRange")}static fromTo(t,r){return new e(t,r)}static addRange(t,r){let n=0;for(;n<r.length&&r[n].endExclusive<t.start;)n++;let i=n;for(;i<r.length&&r[i].start<=t.endExclusive;)i++;if(n===i)r.splice(n,0,t);else{let s=Math.min(t.start,r[n].start),a=Math.max(t.endExclusive,r[i-1].endExclusive);r.splice(n,i-n,new e(s,a))}}static tryCreate(t,r){if(!(t>r))return new e(t,r)}static ofLength(t){return new e(0,t)}static ofStartAndLength(t,r){return new e(t,t+r)}static emptyAt(t){return new e(t,t)}get isEmpty(){return this.start===this.endExclusive}delta(t){return new e(this.start+t,this.endExclusive+t)}deltaStart(t){return new e(this.start+t,this.endExclusive)}deltaEnd(t){return new e(this.start,this.endExclusive+t)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(t){return this.start===t.start&&this.endExclusive===t.endExclusive}containsRange(t){return this.start<=t.start&&t.endExclusive<=this.endExclusive}contains(t){return this.start<=t&&t<this.endExclusive}join(t){return new e(Math.min(this.start,t.start),Math.max(this.endExclusive,t.endExclusive))}intersect(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);if(r<=n)return new e(r,n)}intersectionLength(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return Math.max(0,n-r)}intersects(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<n}intersectsOrTouches(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<=n}isBefore(t){return this.endExclusive<=t.start}isAfter(t){return this.start>=t.endExclusive}slice(t){return t.slice(this.start,this.endExclusive)}substring(t){return t.substring(this.start,this.endExclusive)}clip(t){if(this.isEmpty)throw new Fi(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,t))}clipCyclic(t){if(this.isEmpty)throw new Fi(`Invalid clipping range: ${this.toString()}`);return t<this.start?this.endExclusive-(this.start-t)%this.length:t>=this.endExclusive?this.start+(t-this.start)%this.length:t}map(t){let r=[];for(let n=this.start;n<this.endExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.start;r<this.endExclusive;r++)t(r)}};d();var Ao=class e{static{o(this,"Position")}constructor(t,r){this.lineNumber=t,this.column=r}with(t=this.lineNumber,r=this.column){return t===this.lineNumber&&r===this.column?this:new e(t,r)}delta(t=0,r=0){return this.with(this.lineNumber+t,this.column+r)}equals(t){return e.equals(this,t)}static equals(t,r){return!t&&!r?!0:!!t&&!!r&&t.lineNumber===r.lineNumber&&t.column===r.column}isBefore(t){return e.isBefore(this,t)}static isBefore(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<r.column}isBeforeOrEqual(t){return e.isBeforeOrEqual(this,t)}static isBeforeOrEqual(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<=r.column}static compare(t,r){let n=t.lineNumber|0,i=r.lineNumber|0;if(n===i){let s=t.column|0,a=r.column|0;return s-a}return n-i}clone(){return new e(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(t){return new e(t.lineNumber,t.column)}static isIPosition(t){return t&&typeof t.lineNumber=="number"&&typeof t.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};d();var yi=class e{static{o(this,"Range")}constructor(t,r,n,i){t>n||t===n&&r>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=t,this.endColumn=r):(this.startLineNumber=t,this.startColumn=r,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return e.isEmpty(this)}static isEmpty(t){return t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn}containsPosition(t){return e.containsPosition(this,t)}static containsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<t.startColumn||r.lineNumber===t.endLineNumber&&r.column>t.endColumn)}static strictContainsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<=t.startColumn||r.lineNumber===t.endLineNumber&&r.column>=t.endColumn)}containsRange(t){return e.containsRange(this,t)}static containsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>t.endColumn)}strictContainsRange(t){return e.strictContainsRange(this,t)}static strictContainsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<=t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>=t.endColumn)}plusRange(t){return e.plusRange(this,t)}static plusRange(t,r){let n,i,s,a;return r.startLineNumber<t.startLineNumber?(n=r.startLineNumber,i=r.startColumn):r.startLineNumber===t.startLineNumber?(n=r.startLineNumber,i=Math.min(r.startColumn,t.startColumn)):(n=t.startLineNumber,i=t.startColumn),r.endLineNumber>t.endLineNumber?(s=r.endLineNumber,a=r.endColumn):r.endLineNumber===t.endLineNumber?(s=r.endLineNumber,a=Math.max(r.endColumn,t.endColumn)):(s=t.endLineNumber,a=t.endColumn),new e(n,i,s,a)}intersectRanges(t){return e.intersectRanges(this,t)}static intersectRanges(t,r){let n=t.startLineNumber,i=t.startColumn,s=t.endLineNumber,a=t.endColumn,l=r.startLineNumber,c=r.startColumn,u=r.endLineNumber,f=r.endColumn;return n<l?(n=l,i=c):n===l&&(i=Math.max(i,c)),s>u?(s=u,a=f):s===u&&(a=Math.min(a,f)),n>s||n===s&&i>a?null:new e(n,i,s,a)}equalsRange(t){return e.equalsRange(this,t)}static equalsRange(t,r){return!t&&!r?!0:!!t&&!!r&&t.startLineNumber===r.startLineNumber&&t.startColumn===r.startColumn&&t.endLineNumber===r.endLineNumber&&t.endColumn===r.endColumn}getEndPosition(){return e.getEndPosition(this)}static getEndPosition(t){return new Ao(t.endLineNumber,t.endColumn)}getStartPosition(){return e.getStartPosition(this)}static getStartPosition(t){return new Ao(t.startLineNumber,t.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(t,r){return new e(this.startLineNumber,this.startColumn,t,r)}setStartPosition(t,r){return new e(t,r,this.endLineNumber,this.endColumn)}collapseToStart(){return e.collapseToStart(this)}static collapseToStart(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)}collapseToEnd(){return e.collapseToEnd(this)}static collapseToEnd(t){return new e(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn)}delta(t){return new e(this.startLineNumber+t,this.startColumn,this.endLineNumber+t,this.endColumn)}isSingleLine(){return this.startLineNumber===this.endLineNumber}static fromPositions(t,r=t){return new e(t.lineNumber,t.column,r.lineNumber,r.column)}static lift(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null}static isIRange(t){return t&&typeof t.startLineNumber=="number"&&typeof t.startColumn=="number"&&typeof t.endLineNumber=="number"&&typeof t.endColumn=="number"}static areIntersectingOrTouching(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<t.startColumn)}static areIntersecting(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<=r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<=t.startColumn)}static compareRangesUsingStarts(t,r){if(t&&r){let s=t.startLineNumber|0,a=r.startLineNumber|0;if(s===a){let l=t.startColumn|0,c=r.startColumn|0;if(l===c){let u=t.endLineNumber|0,f=r.endLineNumber|0;if(u===f){let m=t.endColumn|0,h=r.endColumn|0;return m-h}return u-f}return l-c}return s-a}return(t?1:0)-(r?1:0)}static compareRangesUsingEnds(t,r){return t.endLineNumber===r.endLineNumber?t.endColumn===r.endColumn?t.startLineNumber===r.startLineNumber?t.startColumn-r.startColumn:t.startLineNumber-r.startLineNumber:t.endColumn-r.endColumn:t.endLineNumber-r.endLineNumber}static spansMultipleLines(t){return t.endLineNumber>t.startLineNumber}toJSON(){return this}};d();d();var ti=class e{static{o(this,"LineRange")}static fromRange(t){return new e(t.startLineNumber,t.endLineNumber)}static fromRangeInclusive(t){return new e(t.startLineNumber,t.endLineNumber+1)}static subtract(t,r){return r?t.startLineNumber<r.startLineNumber&&r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(t.startLineNumber,r.startLineNumber),new e(r.endLineNumberExclusive,t.endLineNumberExclusive)]:r.startLineNumber<=t.startLineNumber&&t.endLineNumberExclusive<=r.endLineNumberExclusive?[]:r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(Math.max(r.endLineNumberExclusive,t.startLineNumber),t.endLineNumberExclusive)]:[new e(t.startLineNumber,Math.min(r.startLineNumber,t.endLineNumberExclusive))]:[t]}static joinMany(t){if(t.length===0)return[];let r=new RM(t[0].slice());for(let n=1;n<t.length;n++)r=r.getUnion(new RM(t[n].slice()));return r.ranges}static join(t){if(t.length===0)throw new Fi("lineRanges cannot be empty");let r=t[0].startLineNumber,n=t[0].endLineNumberExclusive;for(let i=1;i<t.length;i++)r=Math.min(r,t[i].startLineNumber),n=Math.max(n,t[i].endLineNumberExclusive);return new e(r,n)}static ofLength(t,r){return new e(t,t+r)}static deserialize(t){return new e(t[0],t[1])}constructor(t,r){if(t>r)throw new Fi(`startLineNumber ${t} cannot be after endLineNumberExclusive ${r}`);this.startLineNumber=t,this.endLineNumberExclusive=r}contains(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(t){return new e(this.startLineNumber+t,this.endLineNumberExclusive+t)}deltaLength(t){return new e(this.startLineNumber,this.endLineNumberExclusive+t)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(t){return new e(Math.min(this.startLineNumber,t.startLineNumber),Math.max(this.endLineNumberExclusive,t.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(t){let r=Math.max(this.startLineNumber,t.startLineNumber),n=Math.min(this.endLineNumberExclusive,t.endLineNumberExclusive);if(r<=n)return new e(r,n)}intersectsStrict(t){return this.startLineNumber<t.endLineNumberExclusive&&t.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(t){return this.startLineNumber<=t.endLineNumberExclusive&&t.startLineNumber<=this.endLineNumberExclusive}equals(t){return this.startLineNumber===t.startLineNumber&&this.endLineNumberExclusive===t.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new yi(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new yi(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(t){let r=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)t(r)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}toOffsetRange(){return new Wr(this.startLineNumber-1,this.endLineNumberExclusive-1)}distanceToRange(t){return this.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-this.endLineNumberExclusive:t.endLineNumberExclusive<=this.startLineNumber?this.startLineNumber-t.endLineNumberExclusive:0}distanceToLine(t){return this.contains(t)?0:t<this.startLineNumber?this.startLineNumber-t:t-this.endLineNumberExclusive}addMargin(t,r){return new e(this.startLineNumber-t,this.endLineNumberExclusive+r)}},RM=class e{constructor(t=[]){this._normalizedRanges=t}static{o(this,"LineRangeSet")}get ranges(){return this._normalizedRanges}addRange(t){if(t.length===0)return;let r=ZI(this._normalizedRanges,i=>i.endLineNumberExclusive>=t.startLineNumber),n=ih(this._normalizedRanges,i=>i.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)this._normalizedRanges.splice(r,0,t);else if(r===n-1){let i=this._normalizedRanges[r];this._normalizedRanges[r]=i.join(t)}else{let i=this._normalizedRanges[r].join(this._normalizedRanges[n-1]).join(t);this._normalizedRanges.splice(r,n-r,i)}}contains(t){let r=ute(this._normalizedRanges,n=>n.startLineNumber<=t);return!!r&&r.endLineNumberExclusive>t}intersects(t){let r=ute(this._normalizedRanges,n=>n.startLineNumber<t.endLineNumberExclusive);return!!r&&r.endLineNumberExclusive>t.startLineNumber}getUnion(t){if(this._normalizedRanges.length===0)return t;if(t._normalizedRanges.length===0)return this;let r=[],n=0,i=0,s=null;for(;n<this._normalizedRanges.length||i<t._normalizedRanges.length;){let a=null;if(n<this._normalizedRanges.length&&i<t._normalizedRanges.length){let l=this._normalizedRanges[n],c=t._normalizedRanges[i];l.startLineNumber<c.startLineNumber?(a=l,n++):(a=c,i++)}else n<this._normalizedRanges.length?(a=this._normalizedRanges[n],n++):(a=t._normalizedRanges[i],i++);s===null?s=a:s.endLineNumberExclusive>=a.startLineNumber?s=new ti(s.startLineNumber,Math.max(s.endLineNumberExclusive,a.endLineNumberExclusive)):(r.push(s),s=a)}return s!==null&&r.push(s),new e(r)}subtractFrom(t){let r=ZI(this._normalizedRanges,a=>a.endLineNumberExclusive>=t.startLineNumber),n=ih(this._normalizedRanges,a=>a.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)return new e([t]);let i=[],s=t.startLineNumber;for(let a=r;a<n;a++){let l=this._normalizedRanges[a];l.startLineNumber>s&&i.push(new ti(s,l.startLineNumber)),s=l.endLineNumberExclusive}return s<t.endLineNumberExclusive&&i.push(new ti(s,t.endLineNumberExclusive)),new e(i)}toString(){return this._normalizedRanges.map(t=>t.toString()).join(", ")}getIntersection(t){let r=[],n=0,i=0;for(;n<this._normalizedRanges.length&&i<t._normalizedRanges.length;){let s=this._normalizedRanges[n],a=t._normalizedRanges[i],l=s.intersect(a);l&&!l.isEmpty&&r.push(l),s.endLineNumberExclusive<a.endLineNumberExclusive?n++:i++}return new e(r)}getWithDelta(t){return new e(this._normalizedRanges.map(r=>r.delta(t)))}};var uf=class e{constructor(t,r){this.lineCount=t;this.columnCount=r}static{o(this,"TextLength")}static{this.zero=new e(0,0)}static lengthDiffNonNegative(t,r){return r.isLessThan(t)?e.zero:t.lineCount===r.lineCount?new e(0,r.columnCount-t.columnCount):new e(r.lineCount-t.lineCount,r.columnCount)}static betweenPositions(t,r){return t.lineNumber===r.lineNumber?new e(0,r.column-t.column):new e(r.lineNumber-t.lineNumber,r.column-1)}static fromPosition(t){return new e(t.lineNumber-1,t.column-1)}static ofRange(t){return e.betweenPositions(t.getStartPosition(),t.getEndPosition())}static ofText(t){let r=0,n=0;for(let i of t)i===`
`?(r++,n=0):n++;return new e(r,n)}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(t){return this.lineCount!==t.lineCount?this.lineCount<t.lineCount:this.columnCount<t.columnCount}isGreaterThan(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>t.columnCount}isGreaterThanOrEqualTo(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>=t.columnCount}equals(t){return this.lineCount===t.lineCount&&this.columnCount===t.columnCount}compare(t){return this.lineCount!==t.lineCount?this.lineCount-t.lineCount:this.columnCount-t.columnCount}add(t){return t.lineCount===0?new e(this.lineCount,this.columnCount+t.columnCount):new e(this.lineCount+t.lineCount,t.columnCount)}createRange(t){return this.lineCount===0?new yi(t.lineNumber,t.column,t.lineNumber,t.column+this.columnCount):new yi(t.lineNumber,t.column,t.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new yi(1,1,this.lineCount+1,this.columnCount+1)}toLineRange(){return ti.ofLength(1,this.lineCount)}addToPosition(t){return this.lineCount===0?new Ao(t.lineNumber,t.column+this.columnCount):new Ao(t.lineNumber+this.lineCount,this.columnCount+1)}addToRange(t){return yi.fromPositions(this.addToPosition(t.getStartPosition()),this.addToPosition(t.getEndPosition()))}toString(){return`${this.lineCount},${this.columnCount}`}};var _l=class e{constructor(t){this.value=t}static{o(this,"StringValue")}apply(t){return new e(t.apply(this.value))}equals(t){return this.value===t.value}getTransformer(){return this._transformer||(this._transformer=new Nte(this.value)),this._transformer}getValueOfRange(t){return this.getTransformer().getOffsetRange(t).substring(this.value)}getLines(){return b5(this.value)}getLineAt(t){return this.getLines()[t-1]}toString(){return this.value}getTextLength(){return this.getTransformer().textLength}},Nte=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{o(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new Wr(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=ih(this.lineStartOffsetByLineIdx,s=>s<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new Ao(n,i)}getRange(t){return yi.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return uf.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new uf(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var jp=class{static{o(this,"ObservableWorkspace")}getDocument(t){return Promise.resolve(this.openDocuments.get().find(r=>r.id===t))}};var BM=class extends Ia{constructor(r,n,i,s,a,l){super();this.id=r;this.workspaceRoot=l;this.value=oh(this,n),this.selection=oh(this,i),this.languageId=oh(this,s),this._register(Ta(a))}static{o(this,"MutableObservableDocument")}applyEdit(r,n=void 0){let i=this.value.get().apply(r);this.value.set(i,n,r)}updateSelection(r,n=void 0){this.selection.set(r,n)}};var OIe=et(ei());d();d();d();d();var PM=!1,FM=!1,DM=!1,Fut=!1,Nut=!1,IIe=!1,Lut=!1,Qut=!1,Mut=!1,Out=!1;var rA,nA=globalThis,Rd;typeof nA.vscode<"u"&&typeof nA.vscode.process<"u"?Rd=nA.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(Rd=process);var TIe=typeof Rd?.versions?.electron=="string",Uut=TIe&&Rd?.type==="renderer";typeof Rd=="object"?(PM=Rd.platform==="win32",FM=Rd.platform==="darwin",DM=Rd.platform==="linux",Fut=DM&&!!Rd.env.SNAP&&!!Rd.env.SNAP_REVISION,Lut=TIe,Mut=!!Rd.env.CI||!!Rd.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Nut=!0):typeof navigator=="object"&&!Uut?(rA=navigator.userAgent,PM=rA.indexOf("Windows")>=0,FM=rA.indexOf("Macintosh")>=0,Qut=(rA.indexOf("Macintosh")>=0||rA.indexOf("iPad")>=0||rA.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,DM=rA.indexOf("Linux")>=0,Out=rA?.indexOf("Mobi")>=0,IIe=!0):console.error("Unable to resolve platform.");var Lte=0;FM?Lte=1:PM?Lte=3:DM&&(Lte=2);var rx=PM,wIe=FM;var qut=IIe&&typeof nA.importScripts=="function",FRr=qut?nA.origin:void 0;var Vp=rA;var Wut=typeof nA.postMessage=="function"&&!nA.importScripts,NRr=(()=>{if(Wut){let e=[];nA.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let s=e[n];if(s.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),s.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),nA.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();var Gut=!!(Vp&&Vp.indexOf("Chrome")>=0),LRr=!!(Vp&&Vp.indexOf("Firefox")>=0),QRr=!!(!Gut&&Vp&&Vp.indexOf("Safari")>=0),MRr=!!(Vp&&Vp.indexOf("Edg/")>=0),ORr=!!(Vp&&Vp.indexOf("Android")>=0);var nx,Qte=globalThis.vscode;if(typeof Qte<"u"&&typeof Qte.process<"u"){let e=Qte.process;nx={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?nx={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:nx={get platform(){return rx?"win32":wIe?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var __=nx.cwd,_Ie=nx.env,SIe=nx.platform,jRr=nx.arch;var jut=65,Vut=97,$ut=90,zut=122,T5=46,Sl=47,ou=92,E5=58,Yut=63,NM=class extends Error{static{o(this,"ErrorInvalidArgType")}constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let s=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${s} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function Kut(e,t){if(e===null||typeof e!="object")throw new NM(t,"Object",e)}o(Kut,"validateObject");function na(e,t){if(typeof e!="string")throw new NM(t,"string",e)}o(na,"validateString");var su=SIe==="win32";function ri(e){return e===Sl||e===ou}o(ri,"isPathSeparator");function Mte(e){return e===Sl}o(Mte,"isPosixPathSeparator");function I5(e){return e>=jut&&e<=$ut||e>=Vut&&e<=zut}o(I5,"isWindowsDeviceRoot");function LM(e,t,r,n){let i="",s=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=Sl}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==T5||i.charCodeAt(i.length-2)!==T5){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",s=0):(i=i.slice(0,f),s=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",s=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",s=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),s=u-a-1;a=u,l=0}else c===T5&&l!==-1?++l:l=-1}return i}o(LM,"normalizeString");function Jut(e){return e?`${e[0]==="."?"":"."}${e}`:""}o(Jut,"formatExt");function kIe(e,t){Kut(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${Jut(t.ext)}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}o(kIe,"_format");var ia={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let s;if(i>=0){if(s=e[i],na(s,`paths[${i}]`),s.length===0)continue}else t.length===0?s=__():(s=_Ie[`=${t}`]||__(),(s===void 0||s.slice(0,2).toLowerCase()!==t.toLowerCase()&&s.charCodeAt(2)===ou)&&(s=`${t}\\`));let a=s.length,l=0,c="",u=!1,f=s.charCodeAt(0);if(a===1)ri(f)&&(l=1,u=!0);else if(ri(f))if(u=!0,ri(s.charCodeAt(1))){let m=2,h=m;for(;m<a&&!ri(s.charCodeAt(m));)m++;if(m<a&&m!==h){let p=s.slice(h,m);for(h=m;m<a&&ri(s.charCodeAt(m));)m++;if(m<a&&m!==h){for(h=m;m<a&&!ri(s.charCodeAt(m));)m++;(m===a||m!==h)&&(c=`\\\\${p}\\${s.slice(h,m)}`,l=m)}}}else l=1;else I5(f)&&s.charCodeAt(1)===E5&&(c=s.slice(0,2),l=2,a>2&&ri(s.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${s.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=LM(r,!n,"\\",ri),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){na(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,s=e.charCodeAt(0);if(t===1)return Mte(s)?"\\":e;if(ri(s))if(i=!0,ri(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!ri(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&ri(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!ri(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else I5(s)&&e.charCodeAt(1)===E5&&(n=e.slice(0,2),r=2,t>2&&ri(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?LM(e.slice(r),!i,"\\",ri):"";return a.length===0&&!i&&(a="."),a.length>0&&ri(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){na(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return ri(r)||t>2&&I5(r)&&e.charCodeAt(1)===E5&&ri(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let s=0;s<e.length;++s){let a=e[s];na(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&ri(r.charCodeAt(0))){++i;let s=r.length;s>1&&ri(r.charCodeAt(1))&&(++i,s>2&&(ri(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&ri(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return ia.normalize(t)},relative(e,t){if(na(e,"from"),na(t,"to"),e===t)return"";let r=ia.resolve(e),n=ia.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===ou;)i++;let s=e.length;for(;s-1>i&&e.charCodeAt(s-1)===ou;)s--;let a=s-i,l=0;for(;l<t.length&&t.charCodeAt(l)===ou;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===ou;)c--;let u=c-l,f=a<u?a:u,m=-1,h=0;for(;h<f;h++){let A=e.charCodeAt(i+h);if(A!==t.charCodeAt(l+h))break;A===ou&&(m=h)}if(h!==f){if(m===-1)return n}else{if(u>f){if(t.charCodeAt(l+h)===ou)return n.slice(l+h+1);if(h===2)return n.slice(l+h)}a>f&&(e.charCodeAt(i+h)===ou?m=h:h===2&&(m=3)),m===-1&&(m=0)}let p="";for(h=i+m+1;h<=s;++h)(h===s||e.charCodeAt(h)===ou)&&(p+=p.length===0?"..":"\\..");return l+=m,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===ou&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=ia.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===ou){if(t.charCodeAt(1)===ou){let r=t.charCodeAt(2);if(r!==Yut&&r!==T5)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(I5(t.charCodeAt(0))&&t.charCodeAt(1)===E5&&t.charCodeAt(2)===ou)return`\\\\?\\${t}`;return e},dirname(e){na(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return ri(i)?e:".";if(ri(i)){if(r=n=1,ri(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!ri(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&ri(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!ri(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else I5(i)&&e.charCodeAt(1)===E5&&(r=t>2&&ri(e.charCodeAt(2))?3:2,n=r);let s=-1,a=!0;for(let l=t-1;l>=n;--l)if(ri(e.charCodeAt(l))){if(!a){s=l;break}}else a=!1;if(s===-1){if(r===-1)return".";s=r}return e.slice(0,s)},basename(e,t){t!==void 0&&na(t,"suffix"),na(e,"path");let r=0,n=-1,i=!0,s;if(e.length>=2&&I5(e.charCodeAt(0))&&e.charCodeAt(1)===E5&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=r;--s){let c=e.charCodeAt(s);if(ri(c)){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=r;--s)if(ri(e.charCodeAt(s))){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){na(e,"path");let t=0,r=-1,n=0,i=-1,s=!0,a=0;e.length>=2&&e.charCodeAt(1)===E5&&I5(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if(ri(c)){if(!s){n=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===T5?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:kIe.bind(null,"\\"),parse(e){na(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return ri(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(ri(i)){if(n=1,ri(e.charCodeAt(1))){let m=2,h=m;for(;m<r&&!ri(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&ri(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&!ri(e.charCodeAt(m));)m++;m===r?n=m:m!==h&&(n=m+1)}}}}else if(I5(i)&&e.charCodeAt(1)===E5){if(r<=2)return t.root=t.dir=e,t;if(n=2,ri(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),ri(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===T5?s===-1?s=u:f!==1&&(f=1):s!==-1&&(f=-1)}return l!==-1&&(s===-1||f===0||f===1&&s===l-1&&s===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,s),t.base=e.slice(a,l),t.ext=e.slice(s,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},Zut=(()=>{if(su){let e=/\\/g;return()=>{let t=__().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>__()})(),wa={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:Zut();na(i,`paths[${n}]`),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===Sl)}return t=LM(t,!r,"/",Mte),r?`/${t}`:t.length>0?t:"."},normalize(e){if(na(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Sl,r=e.charCodeAt(e.length-1)===Sl;return e=LM(e,!t,"/",Mte),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return na(e,"path"),e.length>0&&e.charCodeAt(0)===Sl},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];na(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":wa.normalize(t)},relative(e,t){if(na(e,"from"),na(t,"to"),e===t||(e=wa.resolve(e),t=wa.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,s=1,a=t.length-s,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let m=e.charCodeAt(r+u);if(m!==t.charCodeAt(s+u))break;m===Sl&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(s+u)===Sl)return t.slice(s+u+1);if(u===0)return t.slice(s+u)}else i>l&&(e.charCodeAt(r+u)===Sl?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===Sl)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(s+c)}`},toNamespacedPath(e){return e},dirname(e){if(na(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Sl,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===Sl){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&na(t,"ext"),na(e,"path");let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=0;--s){let c=e.charCodeAt(s);if(c===Sl){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===Sl){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){na(e,"path");let t=-1,r=0,n=-1,i=!0,s=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===Sl){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===T5?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:kIe.bind(null,"/"),parse(e){na(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===Sl,n;r?(t.root="/",n=1):n=0;let i=-1,s=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===Sl){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===T5?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=s===0&&r?1:s;i===-1||u===0||u===1&&i===a-1&&i===s+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return s>0?t.dir=e.slice(0,s-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};wa.win32=ia.win32=ia;wa.posix=ia.posix=wa;var $Rr=su?ia.normalize:wa.normalize,zRr=su?ia.isAbsolute:wa.isAbsolute,YRr=su?ia.join:wa.join,KRr=su?ia.resolve:wa.resolve,JRr=su?ia.relative:wa.relative,ZRr=su?ia.dirname:wa.dirname,RIe=su?ia.basename:wa.basename,BIe=su?ia.extname:wa.extname,XRr=su?ia.format:wa.format,eBr=su?ia.parse:wa.parse,tBr=su?ia.toNamespacedPath:wa.toNamespacedPath,rBr=su?ia.sep:wa.sep,nBr=su?ia.delimiter:wa.delimiter;d();d();var eft=/^\w[\w\d+.-]*$/,tft=/^\//,rft=/^\/\//;function nft(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!eft.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!tft.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(rft.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(nft,"_validateUri");function ift(e,t){return!e&&!t?"file":e}o(ift,"_schemeFix");function oft(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==sh&&(t=sh+t):t=sh;break}return t}o(oft,"_referenceResolution");var jo="",sh="/",sft=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,_5=class e{static{o(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}constructor(t,r,n,i,s,a=!1){typeof t=="object"?(this.scheme=t.scheme||jo,this.authority=t.authority||jo,this.path=t.path||jo,this.query=t.query||jo,this.fragment=t.fragment||jo):(this.scheme=ift(t,a),this.authority=r||jo,this.path=oft(this.scheme,n||jo),this.query=i||jo,this.fragment=s||jo,nft(this,a))}get fsPath(){return Ote(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:s,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=jo),n===void 0?n=this.authority:n===null&&(n=jo),i===void 0?i=this.path:i===null&&(i=jo),s===void 0?s=this.query:s===null&&(s=jo),a===void 0?a=this.fragment:a===null&&(a=jo),r===this.scheme&&n===this.authority&&i===this.path&&s===this.query&&a===this.fragment?this:new w5(r,n,i,s,a)}static parse(t,r=!1){let n=sft.exec(t);return n?new w5(n[2]||jo,QM(n[4]||jo),QM(n[5]||jo),QM(n[7]||jo),QM(n[9]||jo),r):new w5(jo,jo,jo,jo,jo)}static file(t){let r=jo;if(rx&&(t=t.replace(/\\/g,sh)),t[0]===sh&&t[1]===sh){let n=t.indexOf(sh,2);n===-1?(r=t.substring(2),t=sh):(r=t.substring(2,n),t=t.substring(n)||sh)}return new w5("file",r,t,jo,jo)}static from(t,r){return new w5(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return rx&&t.scheme==="file"?n=e.file(ia.join(Ote(t,!0),...r)).path:n=wa.join(t.path,...r),t.with({path:n})}toString(t=!1){return Ute(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new w5(t);return r._formatted=t.external??null,r._fsPath=t._sep===FIe?t.fsPath??null:null,r}}else return t}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var FIe=rx?1:void 0,w5=class extends _5{constructor(){super(...arguments);this._formatted=null;this._fsPath=null}static{o(this,"Uri")}get fsPath(){return this._fsPath||(this._fsPath=Ote(this,!1)),this._fsPath}toString(r=!1){return r?Ute(this,!0):(this._formatted||(this._formatted=Ute(this,!1)),this._formatted)}toJSON(){let r={$mid:1};return this._fsPath&&(r.fsPath=this._fsPath,r._sep=FIe),this._formatted&&(r.external=this._formatted),this.path&&(r.path=this.path),this.scheme&&(r.scheme=this.scheme),this.authority&&(r.authority=this.authority),this.query&&(r.query=this.query),this.fragment&&(r.fragment=this.fragment),r}},NIe={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function DIe(e,t,r){let n,i=-1;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n!==void 0&&(n+=e.charAt(s));else{n===void 0&&(n=e.substr(0,s));let l=NIe[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n+=l):i===-1&&(i=s)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}o(DIe,"encodeURIComponentFast");function aft(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=NIe[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}o(aft,"encodeURIComponentMinimal");function Ote(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,rx&&(r=r.replace(/\//g,"\\")),r}o(Ote,"uriToFsPath");function Ute(e,t){let r=t?aft:DIe,n="",{scheme:i,authority:s,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(s||i==="file")&&(n+=sh,n+=sh),s){let u=s.indexOf("@");if(u!==-1){let f=s.substr(0,u);s=s.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}s=s.toLowerCase(),u=s.lastIndexOf(":"),u===-1?n+=r(s,!1,!0):(n+=r(s.substr(0,u),!1,!0),n+=s.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:DIe(c,!1,!1)),n}o(Ute,"_asFormatted");function LIe(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+LIe(e.substr(3)):e}}o(LIe,"decodeURIComponentGraceful");var PIe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function QM(e){return e.match(PIe)?e.replace(PIe,t=>LIe(t)):e}o(QM,"percentDecode");var Bd=class e{constructor(t){this.uri=t;this._uri=_5.parse(ec(this.uri))}static{o(this,"DocumentId")}static{this._cache=new tA({getCacheKey:JSON.stringify},t=>new e(t.uri))}static create(t){return e._cache.get({uri:t})}get path(){return this._uri.path}get fragment(){return this._uri.fragment}toString(){return this.uri}get baseName(){return RIe(this.uri)}get extension(){return BIe(this.uri)}toUri(){return this._uri}};function qte(e){return Bd.create(e)}o(qte,"createDocumentId");d();d();var Dd=class e{constructor(t){this.edits=t;let r=-1;for(let n of t){if(!(n.replaceRange.start>=r))throw new Fi(`Edits must be disjoint and sorted. Found ${n} after ${r}`);r=n.replaceRange.endExclusive}}static{o(this,"OffsetEdit")}static{this.empty=new e([])}static fromJson(t){return new e(t.map(Va.fromJson))}static from(t){let r=t.map(i=>new Va(Wr.ofStartAndLength(i.rangeOffset,i.rangeLength),i.text));return r.reverse(),new e(r)}static single(t,r){return new e([new Va(t,r)])}normalize(){let t=[],r;for(let n of this.edits)n.newText.length===0&&n.replaceRange.length===0||(r&&r.replaceRange.endExclusive===n.replaceRange.start?r=new Va(r.replaceRange.join(n.replaceRange),r.newText+n.newText):(r&&t.push(r),r=n));return r&&t.push(r),new e(t)}normalizeEOL(t){return new e(this.edits.map(r=>r.normalizeEOL(t)))}isNoop(t){return this.edits.every(r=>r.isNoop(t))}toString(){return`[${this.edits.map(r=>r.toString()).join(", ")}]`}apply(t){let r=[],n=0;for(let i of this.edits)r.push(t.substring(n,i.replaceRange.start)),r.push(i.newText),n=i.replaceRange.endExclusive;return r.push(t.substring(n)),r.join("")}compose(t){return lft(this,t)}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(new Va(Wr.ofStartAndLength(i.replaceRange.start+n,i.newText.length),t.substring(i.replaceRange.start,i.replaceRange.endExclusive))),n+=i.newText.length-i.replaceRange.length;return new e(r)}getNewTextRanges(){let t=[],r=0;for(let n of this.edits)t.push(Wr.ofStartAndLength(n.replaceRange.start+r,n.newText.length)),r+=n.newText.length-n.replaceRange.length;return t}get isEmpty(){return this.edits.length===0}tryRebase(t){let r=[],n=0,i=0,s=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)a?l.replaceRange.intersects(a.replaceRange)?i++:l.replaceRange.start<a.replaceRange.start?(r.push(new Va(l.replaceRange.delta(s),l.newText)),i++):(n++,s+=a.newText.length-a.replaceRange.length):(r.push(new Va(l.replaceRange.delta(s),l.newText)),i++);else break}return new e(r)}removeCommonSuffixPrefix(t){let r=[];for(let n of this.edits){let i=n.removeCommonSuffixPrefix(t);i.isEmpty||r.push(i)}return new e(r)}applyToOffset(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return n.replaceRange.start+r;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRange(t){return new Wr(this.applyToOffset(t.start),this.applyToOffset(t.endExclusive))}applyToOffsetOrUndefined(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRangeOrUndefined(t){let r=this.applyToOffsetOrUndefined(t.start);if(r===void 0)return;let n=this.applyToOffsetOrUndefined(t.endExclusive);if(n!==void 0)return new Wr(r,n)}applyInverseToOffset(t){let r=0;for(let n of this.edits){let i=n.newText.length;if(n.replaceRange.start<=t-r){if(t-r<n.replaceRange.start+i)return n.replaceRange.start;r+=i-n.replaceRange.length}else break}return t-r}},Va=class e{constructor(t,r){this.replaceRange=t;this.newText=r}static{o(this,"SingleOffsetEdit")}static delete(t){return new e(t,"")}static fromJson(t){return new e(Wr.ofStartAndLength(t.pos,t.len),t.txt)}toString(){return`${this.replaceRange} -> "${this.newText}"`}removeCommonSuffixPrefix(t){let r=t.substring(this.replaceRange.start,this.replaceRange.endExclusive),n=EIe(r,this.newText),i=Math.min(r.length-n,this.newText.length-n,kM(r,this.newText)),s=new Wr(this.replaceRange.start+n,this.replaceRange.endExclusive-i),a=this.newText.substring(n,this.newText.length-i);return new e(s,a)}normalizeEOL(t){let r=this.newText.replace(/\r\n|\n/g,t);return new e(this.replaceRange,r)}isNoop(t){return this.newText===t.substring(this.replaceRange.start,this.replaceRange.endExclusive)}get isEmpty(){return this.newText.length===0&&this.replaceRange.length===0}};function lft(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty)return t;if(t.isEmpty)return e;let r=[...e.edits],n=[],i=0;for(let s of t.edits){for(;;){let u=r[0];if(!u||u.replaceRange.start+i+u.newText.length>=s.replaceRange.start)break;r.shift(),n.push(u),i+=u.newText.length-u.replaceRange.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.replaceRange.start+i>s.replaceRange.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.replaceRange.length}if(!l)n.push(new Va(s.replaceRange.delta(-i),s.newText));else{let u="",f=s.replaceRange.start-(l.replaceRange.start+a);f>0&&(u=l.newText.slice(0,f));let m=c.replaceRange.endExclusive+i-s.replaceRange.endExclusive;if(m>0){let A=new Va(Wr.ofStartAndLength(c.replaceRange.endExclusive,0),c.newText.slice(-m));r.unshift(A),i-=A.newText.length-A.replaceRange.length}let h=u+s.newText,p=new Wr(Math.min(l.replaceRange.start,s.replaceRange.start-a),s.replaceRange.endExclusive-i);n.push(new Va(p,h))}}for(;;){let s=r.shift();if(!s)break;n.push(s)}return new Dd(n).normalize()}o(lft,"joinEdits");d();d();var QIe=-1;function l8(){return QIe!==-1?QIe:Date.now()}o(l8,"now");function MIe(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}o(MIe,"lineRangeDistance");d();var c8=class e{constructor(t){this.edits=t}static{o(this,"TextEdit")}static fromEdit(t,r){let n=t.edits.map(i=>new iA(r.getTransformer().getRange(i.range),i.newText));return new e(n)}toEdit(t){let r=this.edits.map(n=>Ps.replace(t.getTransformer().getOffsetRange(n.range),n.newText));return As.create(r)}mapEdits(t){return new e(this.edits.map(t))}},iA=class e{constructor(t,r){this.range=t;this.newText=r}static{o(this,"SingleTextEdit")}static joinEdits(t,r){if(t.length===0)throw new Fi;if(t.length===1)return t[0];let n=t[0].range.getStartPosition(),i=t[t.length-1].range.getEndPosition(),s="";for(let a=0;a<t.length;a++){let l=t[a];if(s+=l.newText,a<t.length-1){let c=t[a+1],u=yi.fromPositions(l.range.getEndPosition(),c.range.getStartPosition()),f=r.getValueOfRange(u);s+=f}}return new e(yi.fromPositions(n,i),s)}static fromSingleEdit(t,r){return new e(r.getTransformer().getRange(t.range),t.newText)}extendToCoverRange(t,r){if(this.range.containsRange(t))return this;let n=this.range.plusRange(t),i=r.getValueOfRange(yi.fromPositions(n.getStartPosition(),this.range.getStartPosition())),s=r.getValueOfRange(yi.fromPositions(this.range.getEndPosition(),n.getEndPosition())),a=i+this.newText+s;return new e(n,a)}extendToFullLine(t){let r=new yi(this.range.startLineNumber,1,this.range.endLineNumber,t.getTransformer().getLineLength(this.range.endLineNumber)+1);return this.extendToCoverRange(r,t)}toSingleEdit(t){let n=t.getTransformer().getOffsetRange(this.range);return Ps.replace(n,this.newText)}};var Fs=class e{constructor(t){this.edits=t;iu(lM(t,(r,n)=>r.lineRange.endLineNumberExclusive<=n.lineRange.startLineNumber))}static{o(this,"LineEdit")}static{this.empty=new e([])}static deserialize(t){return new e(t.map(r=>oA.deserialize(r)))}static fromEdit(t){let r=c8.fromEdit(t.edit,t.base);return e.fromTextEdit(r,t.base)}static fromTextEdit(t,r){let n=t.edits,i=[],s=[];for(let a=0;a<n.length;a++){let l=n[a],c=a+1<n.length?n[a+1]:void 0;if(s.push(l),c&&c.range.startLineNumber===l.range.endLineNumber)continue;let u=iA.joinEdits(s,r);s.length=0;let f=oA.fromSingleTextEdit(u,r);i.push(f)}return new e(i)}static createFromUnsorted(t){let r=t.slice();return r.sort(y5(n=>n.lineRange.startLineNumber,C5)),new e(r)}isEmpty(){return this.edits.length===0}toEdit(t){let r=[];for(let n of this.edits){let i=n.toSingleEdit(t);r.push(i)}return As.create(r)}toString(){return this.edits.map(t=>t.toString()).join(",")}serialize(){return this.edits.map(t=>t.serialize())}getNewLineRanges(){let t=[],r=0;for(let n of this.edits)t.push(ti.ofLength(n.lineRange.startLineNumber+r,n.newLines.length)),r+=n.newLines.length-n.lineRange.length;return t}mapLineNumber(t){let r=0;for(let n of this.edits){if(n.lineRange.endLineNumberExclusive>t)break;r+=n.newLines.length-n.lineRange.length}return t+r}mapLineRange(t){return new ti(this.mapLineNumber(t.startLineNumber),this.mapLineNumber(t.endLineNumberExclusive))}mapBackLineRange(t,r){return this.inverse(r).mapLineRange(t)}touches(t){return this.edits.some(r=>t.edits.some(n=>r.lineRange.intersect(n.lineRange)))}rebase(t){return new e(this.edits.map(r=>new oA(t.mapLineRange(r.lineRange),r.newLines)))}humanReadablePatch(t){let r=[];function n(l,c,u,f){let m=u==="unmodified"?" ":u==="deleted"?"-":"+";f===void 0&&(f="[[[[[ WARNING: LINE DOES NOT EXIST ]]]]]");let h=l===-1?"   ":l.toString().padStart(3," "),p=c===-1?"   ":c.toString().padStart(3," ");r.push(`${m} ${h} ${p} ${f}`)}o(n,"pushLine");function i(){r.push("---")}o(i,"pushSeperator");let s=0,a=!0;for(let l of uM(this.edits,(c,u)=>MIe(c.lineRange,u.lineRange)<=5)){a?a=!1:i();let c=l[0].lineRange.startLineNumber-2;for(let u of l){for(let h=Math.max(1,c);h<u.lineRange.startLineNumber;h++)n(h,h+s,"unmodified",t[h-1]);let f=u.lineRange,m=u.newLines;for(let h of f.mapToLineArray(p=>p)){let p=t[h-1];n(h,-1,"deleted",p)}for(let h=0;h<m.length;h++){let p=m[h];n(-1,f.startLineNumber+s+h,"added",p)}c=f.endLineNumberExclusive,s+=u.newLines.length-u.lineRange.length}for(let u=c;u<=Math.min(c+2,t.length);u++)n(u,u+s,"unmodified",t[u-1])}return r.join(`
`)}apply(t){let r=[],n=0;for(let i of this.edits){for(;n<i.lineRange.startLineNumber-1;)r.push(t[n]),n++;for(let s of i.newLines)r.push(s);n=i.lineRange.endLineNumberExclusive-1}for(;n<t.length;)r.push(t[n]),n++;return r}inverse(t){let r=this.getNewLineRanges();return new e(this.edits.map((n,i)=>new oA(r[i],t.slice(n.lineRange.startLineNumber-1,n.lineRange.endLineNumberExclusive-1))))}},oA=class e{constructor(t,r){this.lineRange=t;this.newLines=r}static{o(this,"SingleLineEdit")}static deserialize(t){return new e(ti.ofLength(t[0],t[1]-t[0]),t[2])}static fromSingleTextEdit(t,r){let n=b5(t.newText),i=t.range.startLineNumber,s=r.getValueOfRange(yi.fromPositions(new Ao(t.range.startLineNumber,1),t.range.getStartPosition()));n[0]=s+n[0];let a=t.range.endLineNumber+1,l=r.getTransformer().getLineLength(t.range.endLineNumber)+1,c=r.getValueOfRange(yi.fromPositions(t.range.getEndPosition(),new Ao(t.range.endLineNumber,l)));n[n.length-1]=n[n.length-1]+c;let u=t.range.startColumn===r.getTransformer().getLineLength(t.range.startLineNumber)+1,f=t.range.endColumn===1;return u&&n[0].length===s.length&&(i++,n.shift()),n.length>0&&i<a&&f&&n[n.length-1].length===c.length&&(a--,n.pop()),new e(new ti(i,a),n)}toLineEdit(){return new Fs([this])}toSingleTextEdit(t){if(this.newLines.length===0){let r=t.getTransformer().textLength;if(this.lineRange.endLineNumberExclusive===r.lineCount+2){let n;if(this.lineRange.startLineNumber>1){let s=this.lineRange.startLineNumber-1,a=t.getTransformer().getLineLength(s)+1;n=new Ao(s,a)}else n=new Ao(1,1);let i=r.addToPosition(new Ao(1,1));return new iA(yi.fromPositions(n,i),"")}else return new iA(new yi(this.lineRange.startLineNumber,1,this.lineRange.endLineNumberExclusive,1),"")}else if(this.lineRange.isEmpty){let r,n,i,s=this.lineRange.startLineNumber;return s===t.getTransformer().textLength.lineCount+2?(r=s-1,n=t.getTransformer().getLineLength(r)+1,i=this.newLines.map(a=>`
`+a).join("")):(r=s,n=1,i=this.newLines.map(a=>a+`
`).join("")),new iA(yi.fromPositions(new Ao(r,n)),i)}else{let r=this.lineRange.endLineNumberExclusive-1,n=t.getTransformer().getLineLength(r)+1,i=new yi(this.lineRange.startLineNumber,1,r,n),s=this.newLines.join(`
`);return new iA(i,s)}}toSingleEdit(t){let r=this.toSingleTextEdit(t),n=t.getTransformer().getOffsetRange(r.range);return Ps.replace(n,r.newText)}toString(){return`${this.lineRange}->${JSON.stringify(this.newLines)}`}serialize(){return[this.lineRange.startLineNumber,this.lineRange.endLineNumberExclusive,this.newLines]}removeCommonSuffixPrefixLines(t){let r=this.lineRange.startLineNumber,n=this.lineRange.endLineNumberExclusive,i=0;for(;r<n&&i<this.newLines.length&&this.newLines[i]===t.getLineAt(r);)r++,i++;let s=0;for(;r<n&&s+i<this.newLines.length&&this.newLines[this.newLines.length-1-s]===t.getLineAt(n-1);)n--,s++;return i===0&&s===0?this:new e(new ti(r,n),this.newLines.slice(i,this.newLines.length-s))}},cft;(t=>{function e(r){return Array.isArray(r)&&r.length===3&&typeof r[0]=="number"&&typeof r[1]=="number"&&Array.isArray(r[2])&&r[2].every(n=>typeof n=="string")}t.is=e,o(e,"is")})(cft||={});var $p=class e{constructor(t,r){this.base=t;this.edit=r}static{o(this,"RootedLineEdit")}static fromEdit(t){let r=Fs.fromEdit(t);return new e(t.base,r)}toString(){return this.edit.humanReadablePatch(this.base.getLines())}toEdit(){return this.edit.toEdit(this.base)}toRootedEdit(){return new ff(this.base,this.toEdit())}getEditedState(){let t=this.base.getLines();return this.edit.apply(t)}removeCommonSuffixPrefixLines(){let t=o(n=>!n.lineRange.isEmpty||n.newLines.length>0,"isNotEmptyEdit"),r=this.edit.edits.map(n=>n.removeCommonSuffixPrefixLines(this.base)).filter(n=>t(n));return new e(this.base,new Fs(r))}};var As=class e{constructor(t){this.edits=t;iu(lM(t,(r,n)=>r.range.endExclusive<=n.range.start))}static{o(this,"Edit")}static deserialize(t){return new e(t.map(r=>Ps.deserialize(r)))}static{this.empty=new e([])}static create(t){return new e(t)}static single(t){return new e([t])}static replace(t,r){return new e([Ps.replace(t,r)])}static insert(t,r){return new e([Ps.insert(t,r)])}static fromOffsetEdit(t){return new e(t.edits.map(r=>Ps.replace(r.replaceRange,r.newText)))}static compose(t){let r;for(let n of t)r===void 0?r=n:r=r.compose(n);return r??e.empty}static trySwap(t,r){let n=t.inverse((a,l)=>" ".repeat(l-a)),i=r.tryRebase(n);if(!i)return;let s=t.tryRebase(i);if(s)return{e1:i,e2:s}}toOffsetEdit(){return new Dd(this.edits.map(t=>new Va(t.range,t.newText)))}compose(t){return uft(this,t)}getNewRanges(){return this.toOffsetEdit().getNewTextRanges()}apply(t){let r="",n=0;for(let i of this.edits)r+=t.substring(n,i.range.start),r+=i.newText,n=i.range.endExclusive;return r+=t.substring(n),r}normalize(){let t=[],r;for(let n of this.edits)if(!(n.newText.length===0&&n.range.length===0))if(r&&r.range.endExclusive===n.range.start){let i=r.data?.merge(n.data)??void 0;r=Ps.replaceWithData(r.range.join(n.range),r.newText+n.newText,i)}else r&&t.push(r),r=n;return r&&t.push(r),new e(t)}normalizeOnSource(t){let r=this.apply(t),i=Ps.replace(Wr.ofLength(t.length),r).removeCommonSuffixAndPrefix(t);return i.isNeutral()?e.empty:i.toEdit()}toString(){return this.edits.map(t=>t.toString()).join("")}decompose(t){if(t===void 0){let i=[],s=0;for(let a of this.edits)i.push(Ps.replaceWithData(Wr.ofStartAndLength(a.range.start+s,a.range.length),a.newText,a.data)),s+=a.newText.length-a.range.length;return new MM(i)}if(this.edits.length!==t.arrayLength)throw E_(`Number of edits ${this.edits.length} does not match ${t.arrayLength}`);let r=[],n=this.edits.slice();for(let i=0;i<this.edits.length;++i){let s=t.mapIndexBack(i),a=n[s];r.push(a);for(let l=s;l<n.length;++l){let c=a.newText.length-a.range.length,u=n[l];n[l]=Ps.replaceWithData(Wr.ofStartAndLength(u.range.start+c,u.range.length),u.newText,u.data)}}return new MM(r)}getRange(){if(this.edits.length!==0)return this.edits[0].range.join(this.edits[this.edits.length-1].range)}isEmpty(){return this.edits.length===0}applyInverseToOffsetRange(t){let r=this.toOffsetEdit(),n=r.applyInverseToOffset(t.start),i=r.applyInverseToOffset(t.endExclusive);return new Wr(n,i)}serialize(){return this.edits.map(t=>t.serialize())}equals(t){if(this.edits.length!==t.edits.length)return!1;for(let r=0;r<this.edits.length;++r)if(!this.edits[r].equals(t.edits[r]))return!1;return!0}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(Ps.replace(Wr.ofStartAndLength(i.range.start+n,i.newText.length),t(i.range.start,i.range.endExclusive))),n+=i.newText.length-i.range.length;return new e(r)}inverseOnString(t){return this.inverse((r,n)=>t.substring(r,n))}mapData(t){return e.create(this.edits.map(r=>r.mapData(t)))}tryRebase(t){let r=[],n=0,i=0,s=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)if(!a)r.push(Ps.replace(l.range.delta(s),l.newText)),i++;else{if(l.range.intersectsOrTouches(a.range))return;l.range.start<a.range.start?(r.push(Ps.replace(l.range.delta(s),l.newText)),i++):(n++,s+=a.newText.length-a.range.length)}else break}return new e(r)}};function uft(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty())return t;if(t.isEmpty())return e;let r=[...e.edits],n=[],i=0;for(let s of t.edits){for(;;){let u=r[0];if(!u||u.range.start+i+u.newText.length>=s.range.start)break;r.shift(),n.push(u),i+=u.newText.length-u.range.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.range.start+i>s.range.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.range.length}if(!l)n.push(Ps.replaceWithData(s.range.delta(-i),s.newText,s.data));else{let u=s.range.start-a-l.range.start;u>0&&n.push(Ps.replaceWithData(Wr.emptyAt(l.range.start),l.newText.slice(0,u),l.data));let f=c.range.endExclusive+i-s.range.endExclusive;if(f>0){let h=Ps.replaceWithData(Wr.emptyAt(c.range.endExclusive),c.newText.slice(-f),c.data);r.unshift(h),i-=h.newText.length-h.range.length}let m=new Wr(Math.min(l.range.start,s.range.start-a),s.range.endExclusive-i);n.push(Ps.replaceWithData(m,s.newText,s.data))}}for(;;){let s=r.shift();if(!s)break;n.push(s)}return As.create(n).normalize()}o(uft,"joinEdits");var Ps=class e{constructor(t,r,n){this.range=t;this.newText=r;this.data=n}static{o(this,"SingleEdit")}static deserialize(t){return new e(new Wr(t[0],t[1]),t[2],void 0)}static replace(t,r){return new e(t,r,void 0)}static insert(t,r){return new e(new Wr(t,t),r,void 0)}static delete(t){return new e(t,"",void 0)}static replaceWithData(t,r,n){return new e(t,r,n)}static insertWithData(t,r,n){return new e(new Wr(t,t),r,n)}static deleteWithData(t,r){return new e(t,"",r)}static fromSingleOffsetEdit(t){return new e(t.replaceRange,t.newText,void 0)}toString(){return`${this.range}->${JSON.stringify(this.newText)}`}serialize(){return[this.range.start,this.range.endExclusive,this.newText]}toEdit(){return As.create([this])}equals(t){return this.range.equals(t.range)&&this.newText===t.newText}removeCommonSuffixAndPrefix(t){return this.removeCommonSuffix(t).removeCommonPrefix(t)}removeCommonPrefix(t){let r=this.range.substring(t),n=fft(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaStart(n),this.newText.substring(n),this.data)}removeCommonSuffix(t){let r=this.range.substring(t),n=dft(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaEnd(-n),this.newText.substring(0,this.newText.length-n),this.data)}isNeutral(){return this.newText.length===0&&this.range.length===0}mapData(t){return new e(this.range,this.newText,t(this.data))}};function fft(e,t){let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;return r}o(fft,"commonPrefixLength");function dft(e,t){let r=0;for(;r<e.length&&r<t.length&&e[e.length-1-r]===t[t.length-1-r];)r++;return r}o(dft,"commonSuffixLength");var ff=class e{constructor(t,r){this.base=t;this.edit=r}static{o(this,"RootedEdit")}getEditedState(){return this.base.apply(this.edit)}rebase(t){return A5(()=>null.base.equals(this.base.apply(t))),A5(()=>null.base.apply(null.edit).equals(this.base.apply(t).apply(this.edit))),null}toString(){return $p.fromEdit(this).toString()}normalize(){return new e(this.base,this.edit.normalizeOnSource(this.base.value))}equals(t){return this.base.equals(t.base)&&this.edit.equals(t.edit)}},MM=class e{constructor(t){this.edits=t}static{o(this,"SingleEdits")}static{this.empty=new e([])}compose(){return As.compose(this.edits.map(t=>t.toEdit()))}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}toEdits(){return new zp(this.edits.map(t=>t.toEdit()))}},zp=class e{constructor(t){this.edits=t}static{o(this,"Edits")}static{this.empty=new e([])}static single(t){return new e([t])}compose(){return As.compose(this.edits)}add(t){return new e([...this.edits,t])}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}swap(t){let r=t,n=[];for(let i of this.edits){let s=As.trySwap(r,i);if(!s)return;n.push(s.e1),r=s.e2}return{edits:new e(n),editLast:r}}mapData(t){return new e(this.edits.map(r=>r.mapData(t)))}serialize(){return this.edits.map(t=>t.serialize())}static deserialize(t){return new e(t.map(r=>As.deserialize(r)))}toHumanReadablePatch(t){let r=t,n=[];for(let i of this.edits){let s=Fs.fromEdit(new ff(r,i));n.push(s.humanReadablePatch(r.getLines())),r=r.apply(i)}return n.join(`
---
`)}};d();var u8=class extends jp{constructor(r,n=!1){super();this._openDocuments=oh(this,[]);this.openDocuments=this._openDocuments;this._documents=new Map;this._started=!1;this.ctx=r,this._started=!1,n||this.start()}static{o(this,"ObservableLspWorkspace")}start(){if(this._started)return;this._started=!0;let r=this.ctx.get(Jr);for(let n of r.getTextDocumentsUnsafe())n&&this.addLspDocument(n.uri,n.clientLanguageId,n.getText());r.onDidOpenTextDocument(async n=>{this.addLspDocument(n.document.uri,n.document.languageId,n.document.text)}),r.onDidCloseTextDocument(async n=>{this.removeClosedLspDocument(n.document.uri)}),r.onDidChangeTextDocument(async n=>{this.onDidChangeLspDocument(n.document.uri,n.contentChanges)})}addLspDocument(r,n,i){let s=Bd.create(r);return this.addDocument({id:s,initialValue:i,languageId:ex.create(n)},void 0)}onDidChangeLspDocument(r,n){let i=Bd.create(r),s=this._documents.get(i);s&&s.applyLspContentChanges(n)}onUserPositionChange(r,n){let i=Bd.create(r),s=this._documents.get(i);s&&s.updateSelectionFromLspPosition(n)}removeClosedLspDocument(r){let n=Bd.create(r);this._documents.get(n)?.dispose()}addDocument(r,n=void 0){let i=this._documents.get(r.id);if(i)return i;let s=new Wte(r.id,new _l(r.initialValue??""),[],r.languageId??ex.PlainText,()=>{this._documents.delete(r.id);let a=this._openDocuments.get(),l=a.filter(c=>c.id!==s.id);l.length!==a.length&&this._openDocuments.set(l,n,{added:[],removed:[s]})},r.workspaceRoot);return this._documents.set(r.id,s),this._openDocuments.set([...this._openDocuments.get(),s],n,{added:[s],removed:[]}),s}async getDocument(r){if(await this.ctx.get(Jr).getTextDocument(r))return this._documents.get(r)}clear(){this._openDocuments.set([],void 0,{added:[],removed:this._openDocuments.get()});for(let r of this._documents.values())r.dispose();this._documents.clear()}getWorkspaceRoot(r){return this._documents.get(r)?.workspaceRoot}},Wte=class extends BM{static{o(this,"MutableObservableLspDocument")}constructor(t,r,n,i,s,a){super(t,r,n,i,s,a)}applyLspContentChanges(t){let r=this.editFromLspContentChanges(t);this.applyEdit(r.compose(),void 0)}updateSelectionFromLspPosition(t){let r=this.value.get().getTransformer().getOffset(new Ao(t.lineNumber+1,t.column+1));this.updateSelection([new Wr(r,r)])}editFromLspContentChanges(t){return new zp(t.map(n=>this.editFromLspContentChange(n)))}editFromLspContentChange(t){if(OIe.TextDocumentContentChangeEvent.isIncremental(t)){let r=this.value.get().getTransformer(),n=r.getOffset(new Ao(t.range.start.line+1,t.range.start.character+1)),i=r.getOffset(new Ao(t.range.end.line+1,t.range.end.character+1));return As.replace(new Wr(n,i),t.text)}throw new Error("Full replacement edits are not supported")}};d();d();function UIe(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}o(UIe,"isObject");function OM(e,t){if(!e)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}o(OM,"assertType");d();d();d();var ix=0;function UM(e){return e===0}o(UM,"lengthIsZero");var df=2**26;function f8(e,t){return e*df+t}o(f8,"toLength");function sA(e){let t=e,r=Math.floor(t/df),n=t-r*df;return new uf(r,n)}o(sA,"lengthToObj");function S_(e,t){let r=e+t;return t>=df&&(r=r-e%df),r}o(S_,"lengthAdd");function qIe(e,t){return e.reduce((r,n)=>S_(r,t(n)),ix)}o(qIe,"sumLengths");function Gte(e,t){return e===t}o(Gte,"lengthEquals");function k_(e,t){let r=e,n=t;if(n-r<=0)return ix;let s=Math.floor(r/df),a=Math.floor(n/df),l=n-a*df;if(s===a){let c=r-s*df;return f8(0,l-c)}else return f8(a-s,l)}o(k_,"lengthDiffNonNegative");function WIe(e,t){let r=e,n=Math.floor(r/df),i=r-n*df,s=t,a=Math.floor(s/df),l=s-a*df;return new yi(n+1,i+1,a+1,l+1)}o(WIe,"lengthsToRange");d();var d8=class{constructor(t,r,n){this.startOffset=t;this.endOffset=r;this.newLength=n}static{o(this,"TextEditInfo")}toString(){return`[${sA(this.startOffset)}...${sA(this.endOffset)}) -> ${sA(this.newLength)}`}};function HIe(e,t){if(e.length===0)return t;if(t.length===0)return e;let r=new cM(GIe(e)),n=GIe(t);n.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let i=r.dequeue();function s(u){if(u===void 0){let m=r.takeWhile(h=>!0)||[];return i&&m.unshift(i),m}let f=[];for(;i&&!UM(u);){let[m,h]=i.splitAt(u);f.push(m),u=k_(m.lengthAfter,u),i=h??r.dequeue()}return UM(u)||f.push(new R_(!1,u,u)),f}o(s,"nextS0ToS1MapWithS1LengthOf");let a=[];function l(u,f,m){if(a.length>0&&Gte(a[a.length-1].endOffset,u)){let h=a[a.length-1];a[a.length-1]=new d8(h.startOffset,f,S_(h.newLength,m))}else a.push({startOffset:u,endOffset:f,newLength:m})}o(l,"pushEdit");let c=ix;for(let u of n){let f=s(u.lengthBefore);if(u.modified){let m=qIe(f,p=>p.lengthBefore),h=S_(c,m);l(c,h,u.lengthAfter),c=h}else for(let m of f){let h=c;c=S_(c,m.lengthBefore),m.modified&&l(h,c,m.lengthAfter)}}return a}o(HIe,"combineTextEditInfos");var R_=class e{constructor(t,r,n){this.modified=t;this.lengthBefore=r;this.lengthAfter=n}static{o(this,"LengthMapping")}splitAt(t){let r=k_(t,this.lengthAfter);return Gte(r,ix)?[this,void 0]:this.modified?[new e(this.modified,this.lengthBefore,t),new e(this.modified,ix,r)]:[new e(this.modified,t,t),new e(this.modified,r,r)]}toString(){return`${this.modified?"M":"U"}:${sA(this.lengthBefore)} -> ${sA(this.lengthAfter)}`}};function GIe(e){let t=[],r=ix;for(let n of e){let i=k_(r,n.startOffset);UM(i)||t.push(new R_(!1,i,i));let s=k_(n.startOffset,n.endOffset);t.push(new R_(!0,s,n.newLength)),r=n.endOffset}return t}o(GIe,"toLengthMapping");var B_=class e{constructor(t){this.edits=t}static{o(this,"TextLengthEdit")}static{this.empty=new e([])}static fromTextEdit(t){let r=t.edits.map(n=>new qM(n.range,uf.ofText(n.newText)));return new e(r)}static _fromTextEditInfo(t){let r=t.map(n=>{let i=sA(n.newLength);return new qM(WIe(n.startOffset,n.endOffset),new uf(i.lineCount,i.columnCount))});return new e(r)}_toTextEditInfo(){return this.edits.map(t=>new d8(f8(t.range.startLineNumber-1,t.range.startColumn-1),f8(t.range.endLineNumber-1,t.range.endColumn-1),f8(t.newLength.lineCount,t.newLength.columnCount)))}compose(t){let r=this._toTextEditInfo(),n=t._toTextEditInfo(),i=HIe(r,n);return e._fromTextEditInfo(i)}getRange(){if(this.edits.length!==0)return yi.fromPositions(this.edits[0].range.getStartPosition(),this.edits.at(-1).range.getEndPosition())}toString(){return`[${this.edits.join(", ")}]`}},qM=class{constructor(t,r){this.range=t;this.newLength=r}static{o(this,"SingleTextEditLength")}toString(){return`{ range: ${this.range}, newLength: ${this.newLength} }`}};d();function m8(e,t,r){let n=new Map(Object.entries(t).map(([i,s])=>[s,i]));return bM({owner:e,createEmptyChangeSummary:o(()=>({}),"createEmptyChangeSummary"),handleChange:o((i,s)=>{let a=n.get(i.changedObservable);return s[a]===void 0&&(s[a]={value:void 0,changes:[]}),s[a].changes.push(i.change),!0},"handleChange")},(i,s)=>{for(let[a,l]of Object.entries(t)){let c=l.read(i);s[a]===void 0&&(s[a]={value:c,changes:[]}),s[a].value=c}r(s)})}o(m8,"autorunWithChanges");d();var WM=class{constructor(t){this.documents=t;iu(t.length>0)}static{o(this,"HistoryContext")}getMostRecentDocument(){return this.documents.at(-1)}getDocument(t){return this.documents.find(r=>r.docId===t)}getDocumentAndIdx(t){let r=this.documents.findIndex(n=>n.docId.uri===t.uri);if(r!==-1)return{doc:this.documents[r],idx:r}}},GM=class{constructor(t,r,n,i,s){this.docId=t;this.languageId=r;this.base=n;this.lastEdits=i;this.lastSelection=s;this.lastEdit=new ff(this.base,this.lastEdits.compose())}static{o(this,"DocumentHistory")}};d();var HM=class extends Ia{constructor(){super();this.branch=oh("branchName",void 0);this._register(kte((r,n)=>{this.init(n)}))}static{o(this,"ObservableGitStub")}async init(r){}};var h8=class extends Ia{constructor(r,n=!1){super();this._documentState=new Map;this._lastDocuments=new jte(50);this.workspace=r,this._lastGitCheckout=void 0,this._started=!1,n||this.start()}static{o(this,"NesHistoryContextProvider")}start(){if(this._started)return;this._started=!0;let r=new HM;this._register(Z4(n=>{n.readObservable(r.branch)!==void 0&&(this._lastGitCheckout=l8(),this._documentState.forEach(s=>s.applyAllEdits()))})),X1(this,this.workspace.openDocuments,(n,i)=>{let s=n.selection.get().at(0),a=new Hte(n.id,n.value.get().value,n.languageId.get(),s);this._documentState.set(a.docId,a),s&&this._lastDocuments.push(a),i.add(m8(this,{value:n.value,selection:n.selection,languageId:n.languageId},l=>{l.languageId.changes.length>0&&(a.languageId=l.languageId.value);let c=this._isAwaitingGitCheckoutCooldown();for(let u of l.value.changes)this._lastDocuments.push(a),a.handleEdit(u,c);l.selection.changes.length>0&&(a.handleSelection(l.selection.value.at(0)),this._lastDocuments.push(a))})),i.add(Ta(()=>{let l=this._documentState.get(n.id);l&&this._lastDocuments.remove(l),this._documentState.delete(n.id)}))},n=>n.id).recomputeInitiallyAndOnChange(this._store)}async getHistoryContext(r,n=5,i=100){let s=this._documentState.get(r);if(!s||!this._lastDocuments.has(s)||!await this.workspace.getDocument(r))return;let a=[],l=!1;for(let c of this._lastDocuments.getItemsReversed()){let u=c.getRecentEdit(n,i);if(u!==void 0){if(u.editCount===0&&l)break;if(await this.workspace.getDocument(c.docId)&&(c.docId===r&&(l=!0),a.push(u.history),n-=u.editCount,n<=0))break}}if(a.reverse(),!!a.some(c=>c.docId===r))return new WM(a)}_isAwaitingGitCheckoutCooldown(){if(!this._lastGitCheckout)return!1;let r=l8()-this._lastGitCheckout<2*1e3;return r||(this._lastGitCheckout=void 0),r}getRecentDocumentUris(){return this._lastDocuments.getItems().map(r=>r.docId.uri)}},Hte=class e{constructor(t,r,n,i){this.docId=t;this.languageId=n;this._edits=[];this._isUserDocument=!1;this._baseValue=new _l(r),this._currentValue=this._baseValue,this.handleSelection(i)}static{o(this,"DocumentState")}static{this.MAX_EDITED_LINES_PER_EDIT=10}static{this.MAX_EDITED_CHARS_PER_EDIT=5e3}getSelection(){return this._selection}handleSelection(t){t&&(this._isUserDocument=!0),this._selection=t}handleEdit(t,r){if(t.isEmpty())return;this._currentValue=this._currentValue.apply(t);let n=c8.fromEdit(t,this._currentValue),i=B_.fromTextEdit(n);if(r){this._baseValue=this._currentValue,this._edits=[];return}function s(l){return jM(l.edits,c=>c.newText.length)}o(s,"editInsertSize");let a=this._edits.at(-1);a&&s(a.edit)<200&&mft(t,a.edit)?(a.edit=a.edit.compose(t),a.textLengthEdit=a.textLengthEdit.compose(i),a.instant=l8(),a.edit.isEmpty()&&this._edits.pop()):this._edits.push({edit:t,textLengthEdit:i,instant:l8()})}getRecentEdit(t,r){if(!this._isUserDocument)return;let{editCount:n}=this._applyStaleEdits(t,r),i=new zp(this._edits.map(s=>s.edit));return{history:new GM(this.docId,this.languageId,this._baseValue,i,this._selection),editCount:n}}applyAllEdits(){this._baseValue=this._currentValue,this._edits=[]}_applyStaleEdits(t,r){let n=this._currentValue,i=As.empty,s=B_.empty,a,l=0,c=As.empty;for(a=this._edits.length-1;a>=0;a--){let u=this._edits[a];if(l8()-u.instant>10*60*1e3)break;let f=u.textLengthEdit.compose(s),m=f.getRange();OM(m,"we only compose non-empty Edits");let h=m.endLineNumber-m.startLineNumber;if(r>0&&h>r)break;let p=jM(u.textLengthEdit.edits,P=>P.range.endLineNumber-P.range.startLineNumber+P.newLength.lineCount);if(p>e.MAX_EDITED_LINES_PER_EDIT||jM(u.edit.edits,P=>P.newText.length)>e.MAX_EDITED_CHARS_PER_EDIT||jM(u.edit.edits,P=>P.range.length)>e.MAX_EDITED_CHARS_PER_EDIT)break;if(a===this._edits.length-1)c=u.edit;else{let P=As.trySwap(u.edit,c);if(P)c=P.e1;else{if(p>=2)break;c=u.edit.compose(c)}}let v=u.edit.inverseOnString(n.value);n=n.apply(v);let E=u.edit.compose(i),b=Fs.fromEdit(new ff(n,E)),R=new $p(n,b).removeCommonSuffixPrefixLines().edit.edits.length;if(R>t)break;l=R,i=E,s=f}for(let u=0;u<=a;u++){let f=this._edits[u];this._baseValue=this._baseValue.apply(f.edit)}return this._edits=this._edits.slice(a+1),{editCount:l}}toString(){return new zp(this._edits.map(t=>t.edit)).toHumanReadablePatch(this._baseValue)}};function jM(e,t){let r=0;for(let n of e)r+=t(n);return r}o(jM,"sum");function mft(e,t){let r=t.getNewRanges();return e.edits.every(n=>hft(n.range,r))}o(mft,"editExtends");function hft(e,t){return t.some(r=>e.start===r.endExclusive||e.endExclusive===r.start)}o(hft,"doesTouch");var jte=class{constructor(t){this.maxSize=t;this._arr=[]}static{o(this,"FifoSet")}push(t){let r=this._arr.indexOf(t);r!==-1?this._arr.splice(r,1):this._arr.length>=this.maxSize&&this._arr.shift(),this._arr.push(t)}remove(t){let r=this._arr.indexOf(t);r!==-1&&this._arr.splice(r,1)}getItems(){return this._arr}getItemsReversed(){let t=[...this._arr];return t.reverse(),t}has(t){return this._arr.indexOf(t)!==-1}};d();function jIe(e,t,r){return e.get(Vte).safeStartIfApplicable(t,r)}o(jIe,"startRecentEditsPromptFeatureIfApplicable");var Vte=class{static{o(this,"RecentEditsPromptFeatureLifecycle")}};function pft(e,t,r){return jn(e,Rt.RecentEditsInPrompt)??t.recentEditsInPrompt(r)}o(pft,"isRecentEditsActive");var $Ie=o((e,t)=>{let r=e.get(xr);return pft(e,r,t)},"recentEditsPredicate");function VIe(e,t){return Math.abs(e-t)}o(VIe,"lineDistance");function gft(e,t,r=0,n=!1,i=!1,s=!1,a=!1,l,c,u="diff"){let f=[];if(a&&(l===void 0||c===void 0))throw new Error("cursorLine and distanceLimitFromCursor are required when filterByCursorLine is true");for(let m of e.edits){let h=m.lineRange.startLineNumber-1,p=m.lineRange.endLineNumberExclusive-1,A=t.slice(h,p),x=m.newLines;if(a&&(VIe(h,l)<=c||VIe(p,l)<=c))continue;let v=A.filter(R=>R.trim().length>0),E=x.filter(R=>R.trim().length>0);if(v.length===0&&E.length===0||n&&E.length===0||v.join("").trim()===E.join("").trim())continue;let b=Math.max(0,h-r),_=Math.min(t.length,p+r);if(u==="aiders-diff")f.push(...yft(h,A,x,b,t,p,_));else if(u==="diff")f.push(...Aft(h,A,x,b,t,n,i,s,p,_));else if(u==="find-replace")f.push(...Cft(h,A,x,b,t,p,_));else throw new Error(`Unknown summarization format: ${u}`)}return f}o(gft,"summarizeEdits");function Aft(e,t,r,n,i,s,a,l,c,u){let f=[];f.push(`@@ -${e+1},${t.length} +${e+1},${r.length} @@`);for(let m=n;m<e;m++)f.push(` ${i[m]}`);a&&f.push(...r.map(m=>`+${m}`)),s||(l?f.push(...t.map(m=>`-${m} --- IGNORE ---`)):f.push(...t.map(m=>`-${m}`))),a||f.push(...r.map(m=>`+${m}`));for(let m=c;m<u;m++)f.push(` ${i[m]}`);return f}o(Aft,"summarizeEditAsDiff");function yft(e,t,r,n,i,s,a){let l=[];l.push(">>>>>>> SEARCH");let c=i.slice(n,e),u=i.slice(s,a);return l.push(...c),l.push(...t),l.push(...u),l.push("======="),l.push(...c),l.push(...r),l.push(...u),l.push("<<<<<<<<< REPLACE"),l}o(yft,"summarizeEditAsAidersDiff");function Cft(e,t,r,n,i,s,a){let l=[],c=i.slice(n,e),u=i.slice(s,a);t=t.map(h=>`${h} --- DO NOT REPLY WITH CODE FROM THIS LINE ---`);let f=[...c,...t,...u],m=[...c,...r,...u];return l.push("--- User edited code: ---"),l.push(...f),t.length===0?l.push(`--- and added ${r.length} line${r.length===1?"":"s"} to make: ---`):r.length===0?l.push(`--- and deleted ${t.length} line${t.length===1?"":"s"} to make: ---`):l.push("--- and replaced it with: ---"),l.push(...m),l.push("--- End of edit ---"),l}o(Cft,"summarizeEditAsFindReplace");var zIe=o((e,t)=>{let[r,n]=t.useState();return t.useData(nu,async i=>{if(!i.document)return;let s=i.telemetryData,a=e.ctx.get(xr);jIe(e.ctx,s,a);let l=jn(e.ctx,Rt.RecentEditsMaxFiles)??a.recentEditsMaxFiles(s),c=jn(e.ctx,Rt.RecentEditsEditCount)??a.recentEditsEditCount(s),u=jn(e.ctx,Rt.RecentEditsContextLines)??a.recentEditsContextLines(s),f=jn(e.ctx,Rt.RecentEditsRemoveDeletedLines)??a.recentEditsRemoveDeletedLines(s),m=jn(e.ctx,Rt.InsertionsBeforeDeletions)??a.recentEditsInsertionsBeforeDeletions(s),h=jn(e.ctx,Rt.RecentEditsAppendNoReplyMarker)??a.recentEditsAppendNoReplyMarker(s),p=jn(e.ctx,Rt.RecentEditsMaxLinesBetweenEdits)??a.recentEditsMaxLinesBetweenEdits(s),A=jn(e.ctx,Rt.RecentEditsActiveDocDistanceLimitFromCursor)??a.recentEditsActiveDocDistanceLimitFromCursor(s),x=jn(e.ctx,Rt.RecentEditsSummarizationFormat)??a.recentEditsSummarizationFormat(s),v=e.ctx.get(h8),E=e.ctx.get(u8),b=e.ctx.get(Jr),_=v.getRecentDocumentUris(),R=[],P=0;for(let de of _){if(P>=l)break;E.onUserPositionChange(de,new Ao(0,0));let G=(await v.getHistoryContext(qte(de),c,p))?.getDocument(qte(de)),U=G?.base.getLines();if(G&&U){let ne=G.lastEdit,J=Fs.fromEdit(ne),j=de===i.document?.uri?0:u,O=de===i.document?.uri,V=O?i.position.line:void 0,Z=gft(J,U,j,f,m,h,O,V,A,x);if(Z.length>0){let ae={value:Z.join(`
`),relativePathOrUri:b.getRelativePath({uri:de})??de};R.push(ae),P++}}}let F=R;if(!F||F.length===0){n(void 0);return}let W=W1(i.document.detectedLanguageId),se=Ew("These are recently edited files. Do not suggest code that has been deleted.");for(let de of F)se+=Ew(`File: ${de.relativePathOrUri}`),se+=Ew(de.value);se+=Ew("End of recent edits"),se=i0(se,W),n(se)}),r?$n(ra,{children:r}):void 0},"RecentEdits");d();d();function YIe(e,t){let r=tM(t,"Trait");for(let i of r)xft(e,i.data,i.providerId);return r.flatMap(i=>i.data).sort((i,s)=>(i.importance??0)-(s.importance??0))}o(YIe,"getTraitsFromContextItems");function xft(e,t,r){let n=e.get(wl);t.forEach(i=>{n.addExpectations(r,[[i,"included"]])})}o(xft,"setupExpectationsForTraits");function KIe(e){return e.promptTextOverride?{kind:"string",value:e.promptTextOverride}:{kind:"name-value",name:e.name,value:e.value}}o(KIe,"addKindToRelatedFileTrait");d();d();d();var $te=new In;function JIe(e){return[...e].sort((t,r)=>{let n=$te.get(t.uri)??0;return($te.get(r.uri)??0)-n})}o(JIe,"sortByAccessTimes");var ZIe=o(e=>e.get(Jr).onDidFocusTextDocument(t=>{t&&$te.set(t.document.uri.toString(),Date.now())}),"registerDocumentTracker");var VM=class{constructor(t){this.docManager=t}static{o(this,"OpenTabFiles")}async truncateDocs(t,r,n,i){let s=new Map,a=0;for(let l of t)if(!(a+l.getText().length>ox.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.uri.startsWith("file:")&&r.startsWith("file:")&&l.uri!==r&&$M(n,l.detectedLanguageId)&&(s.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:this.docManager.getRelativePath(l),source:l.getText()}),a+=l.getText().length),s.size>=i))break;return s}async getNeighborFiles(t,r,n){let i=new Map,s=new Map;return i=await this.truncateDocs(JIe(await this.docManager.textDocuments()),t,r,n),s.set("opentabs",Array.from(i.keys()).map(a=>a.toString())),{docs:i,neighborSource:s}}};d();d();function XIe(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(i=>{setTimeout(i,t,r)})])}}o(XIe,"shortCircuit");d();function bft(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}o(bft,"defaultHash");function zte(e,t={}){let{hash:r=bft,cache:n=new Map}=t;return function(...i){let s=r.apply(this,i);if(n.has(s))return n.get(s);let a=e.apply(this,i);return a instanceof Promise&&(a=a.catch(l=>{throw n.delete(s),l})),n.set(s,a),a}}o(zte,"memoize");var e8e={entries:[],traits:[]},zM={entries:new Map,traits:[]},Yte=class extends In{constructor(r,n=2*60*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}static{o(this,"LRUExpirationCacheMap")}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let i=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),i}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.deleteKey(r)}},al=new Yt("relatedFiles"),Eft=1e3,YM=class extends Error{static{o(this,"RelatedFilesProviderFailure")}constructor(){super("The provider failed providing the list of relatedFiles")}},sx=class e{constructor(t){this.context=t}static{o(this,"RelatedFilesProvider")}async getRelatedFiles(t,r,n){let i=await this.getRelatedFilesResponse(t,r,n);if(i===void 0)return;let s={entries:new Map,traits:i.traits??[]};for(let a of i.entries){let l=s.entries.get(a.type);l||(l=new Map,s.entries.set(a.type,l));for(let c of a.uris)try{al.debug(this.context,`Processing ${c}`);let u=await this.getFileContent(c);if(!u||u.length==0){al.debug(this.context,`Skip ${c} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(c,u)){al.debug(this.context,`Skip ${c} due content exclusion.`);continue}u=e.dropBOM(u),l.set(c,u)}catch(u){al.warn(this.context,u)}}return s}async getFileContent(t){try{return this.context.get(Io).readFileString(t)}catch(r){al.debug(this.context,r)}}async isContentExcluded(t,r){try{return(await this.context.get(Lc).evaluate(t,r)).isBlocked}catch(n){al.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(t){return t.charCodeAt(0)===65279?t.slice(1):t}},Ift=3,t8e=new Yte(Eft);async function r8e(e,t,r,n,i){let s=performance.now(),a;try{a=await i.getRelatedFiles(t,r,n)}catch(c){al.exception(e,c,".getRelatedFiles"),a=void 0}a===void 0&&(t8e.bumpRetryCount(t.uri)>=Ift?a=zM:a=void 0);let l=performance.now()-s;if(al.debug(e,a!==void 0?`Fetched ${[...a.entries.values()].map(c=>c.size).reduce((c,u)=>c+u,0)} related files for '${t.uri}' in ${l}ms.`:`Failing fetching files for '${t.uri}' in ${l}ms.`),a===void 0)throw new YM;return a}o(r8e,"getRelatedFiles");var Kte=zte(r8e,{cache:t8e,hash:o((e,t,r,n,i)=>`${t.uri}`,"hash")});Kte=XIe(Kte,200,zM);async function n8e(e,t,r,n,i,s=!1){let a=e.get(sx),l=zM;try{let c={uri:t.uri,clientLanguageId:t.clientLanguageId,data:i};l=s?await r8e(e,c,r,n,a):await Kte(e,c,r,n,a)}catch(c){l=zM,c instanceof YM&&jt(e,"getRelatedFilesList",r)}return wft(e,l.traits,t,r),al.debug(e,l!=null?`Fetched following traits ${l.traits.map(c=>`{${c.name} : ${c.value}}`).join("")} for '${t.uri}'`:`Failing fecthing traits for '${t.uri}'.`),l}o(n8e,"getRelatedFilesAndTraits");var Tft=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);function wft(e,t,r,n){if(t.length>0){let i={};i.detectedLanguageId=r.detectedLanguageId,i.languageId=r.clientLanguageId;for(let a of t){let l=Tft.get(a.name);l&&(i[l]=a.value)}let s=n.extendedBy(i,{});return jt(e,"related.traits",s)}}o(wft,"ReportTraitsTelemetry");function $M(e,t){return W1(e)===W1(t)}o($M,"considerNeighborFile");var ox=class e{static{o(this,"NeighborSource")}static{this.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5}static{this.MAX_NEIGHBOR_FILES=20}static{this.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"]}static defaultEmptyResult(){return{docs:new Map,neighborSource:new Map,traits:[]}}static reset(){e.instance=void 0}static async getNeighborFilesAndTraits(t,r,n,i,s,a,l){let c=t.get(Jr);e.instance===void 0&&(e.instance=new VM(c));let u=Nft(t,n,i),f=Pft(t,i),m=!u||f?{...await e.instance.getNeighborFiles(r,n,e.MAX_NEIGHBOR_FILES),traits:[]}:e.defaultEmptyResult(),h=await c.getTextDocument({uri:r});if(!h)return al.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: failed to get the document ${r}`),m;let p=c.getWorkspaceFolder(h);if(!p)return al.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: ${r} is not under the workspace folder`),m;let A=await n8e(t,h,i,s,a,l);if(A.entries.size===0)return al.debug(t,"neighborFiles.getNeighborFilesAndTraits",`0 related files found for ${r}`),m.traits.push(...A.traits),m;let x=u?e.defaultEmptyResult():m;return A.entries.forEach((v,E)=>{let b=[];v.forEach((_,R)=>{let P=e.getRelativePath(R,p.uri);if(!P||x.docs.has(R))return;let F={relativePath:P,uri:R,source:_};b.unshift(F),x.docs.set(R,F)}),b.length>0&&x.neighborSource.set(E,b.map(_=>_.uri.toString()))}),x.traits.push(...A.traits),x}static basename(t){return decodeURIComponent(t.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(t,r){let n=r.toString().replace(/[#?].*/,"").replace(/\/?$/,"/");return t.toString().startsWith(n)?t.toString().slice(n.length):e.basename(t)}},_ft=["cpp","c"],Sft=["typescript","javascript","typescriptreact","javascriptreact"],kft=["csharp"];function Rft(e,t){return e.get(xr).excludeOpenTabFilesCSharp(t)||jn(e,Rt.ExcludeOpenTabFilesCSharp)}o(Rft,"isExcludeOpenTabFilesCSharpActive");function Bft(e,t){return e.get(xr).excludeOpenTabFilesCpp(t)||jn(e,Rt.ExcludeOpenTabFilesCpp)}o(Bft,"isExcludeOpenTabFilesCppActive");function Dft(e,t){return e.get(xr).excludeOpenTabFilesTypeScript(t)||jn(e,Rt.ExcludeOpenTabFilesTypeScript)}o(Dft,"isExcludeOpenTabFilesTypeScriptActive");function Pft(e,t){return e.get(xr).fallbackToOpenTabFilesWithNoRelatedFiles(t)||jn(e,Rt.FallbackToOpenTabFilesWithNoRelatedFiles)}o(Pft,"isFallbackToOpenTabFilesActive");var Fft=new Map([..._ft.map(e=>[e,Bft]),...Sft.map(e=>[e,Dft]),...kft.map(e=>[e,Rft])]);function Nft(e,t,r){let n=Fft.get(t);return n?n(e,r):!1}o(Nft,"isExcludeOpenTabFilesActive");function i8e(e,t){return e.get(xr).includeNeighboringFiles(t)||jn(e,Rt.IncludeNeighboringFiles)}o(i8e,"isIncludeNeighborFilesActive");var o8e=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState([]),[a,l]=t.useState();t.useData(nu,async m=>{m.document.uri!==r?.uri&&s([]),n(m.document);let h=m.turnOffSimilarFiles?ox.defaultEmptyResult():await ox.getNeighborFilesAndTraits(e.ctx,m.document.uri,m.document.detectedLanguageId,m.telemetryData,m.cancellationToken,m.data),p=await c(m.telemetryData,m.document,m,h);s(p);let A=h.traits.filter(x=>x.includeInPrompt).map(KIe);l(f(A,m.document))});async function c(m,h,p,A){let x=KM(e.ctx,m,h.detectedLanguageId);return(await u(x,m,h,p,A)).filter(E=>E.snippet.length>0).sort((E,b)=>E.score-b.score).map(E=>({text:o3e(E,h.detectedLanguageId),score:E.score}))}o(c,"produceSimilarFiles");async function u(m,h,p,A,x){let v=m.similarFilesOptions||ZQ(e.ctx,h,p.detectedLanguageId),b=e.ctx.get(Jr).getRelativePath(p),_={uri:p.uri,source:p.getText(),offset:p.offsetAt(A.position),relativePath:b,languageId:p.detectedLanguageId};return await h3e(_,Array.from(x.docs.values()),v)}o(u,"findSimilarSnippets");function f(m,h){if(m.length>0&&h!==void 0)return i0(`Consider this related information:
`+m.map(p=>p.kind==="string"?p.value:`${p.name}: ${p.value}`).join(`
`),h.detectedLanguageId)}return o(f,"produceTraitsText"),$n(J1,{children:[a!==void 0?$n(ra,{children:a}):void 0,...i.map((m,h)=>$n(Lft,{text:m.text}))]})},"SimilarFiles"),Lft=o((e,t)=>$n(ra,{children:e.text}),"SimilarFile");d();var s8e=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(nu,a=>{a.traits!==r&&n(a.traits);let l=W1(a.document.detectedLanguageId);l!==i&&s(l)}),!(!r||r.length===0||!i))return $n(J1,{children:[$n(ra,{children:i0(`Consider this related information:
`,i)}),...r.map(a=>$n(ra,{source:a,children:i0(`${a.name}: ${a.value}`,i)},a.id))]})},"Traits");d();d();function JM(e,t,r){try{let n=e.get(xr).cppContextProviderParams(r);if(n){let i=JSON.parse(n);for(let[s,a]of Object.entries(i))t.set(s,a)}}catch(n){return li.debug(e,"Failed to get the active C++ experiments for the Context Provider API",n),!1}return!0}o(JM,"fillInCppActiveExperiments");var a8e=et(ei());var ll=class{static{o(this,"ContextProviderRegistry")}},Jte=class extends ll{constructor(r,n){super();this.ctx=r;this.match=n;this._providers=[]}static{o(this,"CoreContextProviderRegistry")}registerContextProvider(r){if(r.id.includes(",")||r.id.includes("*"))throw new Error(`A context provider id cannot contain a comma or an asterisk. The id ${r.id} is invalid.`);if(this._providers.find(n=>n.id===r.id))throw new Error(`A context provider with id ${r.id} has already been registered`);this._providers.push(r)}unregisterContextProvider(r){this._providers=this._providers.filter(n=>n.id!==r)}get providers(){return this._providers.slice()}async resolveAllProviders(r,n,i,s){if(i?.isCancellationRequested)return li.debug(this.ctx,"Resolving context providers cancelled"),[];let a=new Map;JM(this.ctx,a,n);let l=[];if(this._providers.length===0)return l;let c=await this.matchProviders(r,n),u=c.filter(p=>p[1]>0);if(c.filter(p=>p[1]<=0).forEach(([p,A])=>{let x={providerId:p.id,matchScore:A,resolution:"none",resolutionTimeMs:0,data:[]};l.push(x)}),u.length===0)return l;if(i?.isCancellationRequested)return li.debug(this.ctx,"Resolving context providers cancelled"),[];let m=fw(this.ctx)&&!DF(this.ctx)?0:jn(this.ctx,Rt.ContextProviderTimeBudget),h=u.length>0?m/u.length:m;for(let[p,A]of u){let x={completionId:u8e(n),documentContext:r,activeExperiments:a,timeBudget:h,data:s},v=this.ctx.get(wl).pop(p.id);v&&(x.previousUsageStatistics=v);let E=new a8e.CancellationTokenSource;i?.onCancellationRequested(G=>{E.cancel()});let b=performance.now(),_=p.resolver.resolve(x,E.token),[R,P]=await Qft(this.ctx,_,x,p,E),F=performance.now();this.ctx.get(wl).setLastResolution(p.id,P);let[W,se]=TEe(R);se&&li.error(this.ctx,`Dropped ${se} context items from ${p.id} due to invalid schema`);let de=wEe(this.ctx,W),re={providerId:p.id,matchScore:A,resolution:P,resolutionTimeMs:F-b,data:de};l.push(re)}return l.sort((p,A)=>A.matchScore-p.matchScore)}async matchProviders(r,n){let i=p8(this.ctx,n),s=i.length===1&&i[0]==="*";return await Promise.all(this._providers.map(async l=>{if(!s&&!i.includes(l.id))return[l,0];let c=await this.match(this.ctx,l.selector,r);return[l,c]}))}},Zte=class extends ll{constructor(r){super();this.delegate=r;this._cachedContextItems=new In(5)}static{o(this,"CachedContextProviderRegistry")}registerContextProvider(r){this.delegate.registerContextProvider(r)}unregisterContextProvider(r){this.delegate.unregisterContextProvider(r)}get providers(){return this.delegate.providers}async resolveAllProviders(r,n,i,s){let a=u8e(n),l=this._cachedContextItems.get(a);if(a&&l&&l.length>0)return l;let c=await this.delegate.resolveAllProviders(r,n,i,s);return c.length>0&&a&&this._cachedContextItems.set(a,c),c}};function l8e(e){return e>0?H4(e,null):new Promise(()=>{})}o(l8e,"nullTimeout");async function Qft(e,t,r,n,i){let s=[],a;return t instanceof Promise?[s,a]=await Mft(e,t,r,n,i):[s,a]=await Oft(e,t,r,n,i),[s,a]}o(Qft,"extractDataFromPendingContextItem");async function Mft(e,t,r,n,i){let s=[],a,l=l8e(r.timeBudget);try{let c=await Promise.race([t,l]);c===null?(a="none",i.cancel(),li.info(e,`Context provider ${n.id} exceeded time budget of ${r.timeBudget}ms`)):(a="full",Array.isArray(c)?s.push(...c):s.push(c))}catch(c){return Bw(c)||li.error(e,`Error resolving context from ${n.id}: `,c),i.cancel(),[[],"error"]}return[s,a]}o(Mft,"handlePromiseContextItem");async function Oft(e,t,r,n,i){let s=[],a,l=l8e(r.timeBudget),c=(async()=>{for await(let u of t)s.push(u);return s})();try{await Promise.race([c,l])===null?(a=s.length>0?"partial":"none",i.cancel(),li.info(e,`Context provider ${n.id} exceeded time budget of ${r.timeBudget}ms`)):a="full"}catch(u){return Bw(u)||li.error(e,`Error resolving context from ${n.id}: `,u),i.cancel(),[[],"error"]}return[s,a]}o(Oft,"handleAsyncIteratorContextItem");function ZM(e,t){return new Zte(new Jte(e,t))}o(ZM,"getContextProviderRegistry");function c8e(e,t){let r=e.get(wl);return t.map(i=>{let{providerId:s,resolution:a,resolutionTimeMs:l,matchScore:c,data:u}=i,f=r.get(s),m=f?.usage??"none";(c<=0||a==="none"||a==="error")&&(m="none");let h={providerId:s,resolution:a,resolutionTimeMs:l,usage:m,usageDetails:f?.usageDetails,matched:c>0,numResolvedItems:u.length},p=f?.usageDetails!==void 0?f?.usageDetails.filter(x=>x.usage==="full"||x.usage==="partial"||x.usage==="partial_content_excluded").length:void 0,A=f?.usageDetails!==void 0?f?.usageDetails.filter(x=>x.usage==="partial"||x.usage==="partial_content_excluded").length:void 0;return p!==void 0&&(h.numUsedItems=p),A!==void 0&&(h.numPartiallyUsedItems=A),h})}o(c8e,"telemetrizeContextItems");function u8e(e){return e.properties.headerRequestId}o(u8e,"extractCompletionId");function f8e(e){return e.matchScore>0&&e.resolution!=="error"}o(f8e,"matchContextItems");function p8(e,t){if(fw(e))return["*"];let r=e.get(xr).contextProviders(t),n=jn(e,Rt.ContextProviders)??[];return r.length===1&&r[0]==="*"||n.length===1&&n[0]==="*"?["*"]:Array.from(new Set([...r,...n]))}o(p8,"getExpContextProviders");function Xte(e,t){return p8(e,t).length>0}o(Xte,"useContextProviderAPI");d();d();d();var XM=class{constructor(t){this.states=t;this.currentIndex=0;this.stateChanged=!1}static{o(this,"UseState")}useState(t){let r=this.currentIndex;if(this.states[r]===void 0){let i=typeof t=="function"?t():t;this.states[r]=i}let n=o(i=>{let s=typeof i=="function"?i(this.states[r]):i;this.states[r]=s,this.stateChanged=!0},"setState");return this.currentIndex++,[this.states[r],n]}hasChanged(){return this.stateChanged}},eO=class{constructor(t){this.measureUpdateTime=t;this.consumers=[]}static{o(this,"UseData")}useData(t,r){this.consumers.push(n=>{if(t(n))return r(n)})}async updateData(t){if(this.consumers.length>0){let r=performance.now();for(let n of this.consumers)await n(t);this.measureUpdateTime(performance.now()-r)}}};var tO=class{constructor(t){this.lifecycleData=new Map;this.vTree=this.virtualizeElement(t,"$",0)}static{o(this,"VirtualPromptReconciler")}reconcile(t){if(!this.vTree)throw new Error("No tree to reconcile, make sure to pass a valid prompt");return t?.isCancellationRequested?this.vTree:(this.vTree=this.reconcileNode(this.vTree,"$",0,t),this.vTree)}reconcileNode(t,r,n,i){if(!t.children&&!t.lifecycle)return t;let s=t;if(t.lifecycle?.isRemountRequired()){let l=this.collectChildPaths(t);s=this.virtualizeElement(t.component,r,n);let c=this.collectChildPaths(s);this.cleanupState(l,c)}else if(t.children){let l=[];for(let c=0;c<t.children.length;c++){let u=t.children[c];if(u){let f=this.reconcileNode(u,t.path,c,i);f!==void 0&&l.push(f)}}s.children=l}return s}virtualizeElement(t,r,n){if(!(typeof t>"u")){if(typeof t=="string"||typeof t=="number")return{name:typeof t,path:`${r}[${n}]`,props:{value:t},component:t};if(Uft(t.type)){let i=t.type(t.props.children),s=r!=="$"?`[${n}]`:"",a=`${r}${s}.${i.type}`,l=i.children.map((c,u)=>this.virtualizeElement(c,a,u));return this.ensureUniqueKeys(l),{name:i.type,path:a,children:l.flat().filter(c=>c!==void 0),component:t}}return this.virtualizeFunctionComponent(r,n,t,t.type)}}virtualizeFunctionComponent(t,r,n,i){let s=n.props.key?`["${n.props.key}"]`:`[${r}]`,a=`${t}${s}.${i.name}`,l=new tre(this.getOrCreateLifecycleData(a)),c=i(n.props,l),m=(Array.isArray(c)?c:[c]).map((h,p)=>this.virtualizeElement(h,a,p)).flat().filter(h=>h!==void 0);return this.ensureUniqueKeys(m),{name:i.name,path:a,props:n.props,children:m,component:n,lifecycle:l}}ensureUniqueKeys(t){let r=new Map;for(let i of t){if(!i)continue;let s=i.props?.key;s&&r.set(s,(r.get(s)||0)+1)}let n=Array.from(r.entries()).filter(([i,s])=>s>1).map(([i])=>i);if(n.length>0)throw new Error(`Duplicate keys found: ${n.join(", ")}`)}collectChildPaths(t){let r=[];if(t?.children)for(let n of t.children)n&&(r.push(n.path),r.push(...this.collectChildPaths(n)));return r}cleanupState(t,r){for(let n of t)r.includes(n)||this.lifecycleData.delete(n)}getOrCreateLifecycleData(t){return this.lifecycleData.has(t)||this.lifecycleData.set(t,new ere([])),this.lifecycleData.get(t)}createPipe(){return{pump:o(async t=>{await this.pumpData(t)},"pump")}}async pumpData(t){if(!this.vTree)throw new Error("No tree to pump data into. Pumping data before initializing?");await this.recursivelyPumpData(t,this.vTree)}async recursivelyPumpData(t,r){if(!r)throw new Error("Can't pump data into undefined node.");await r.lifecycle?.dataHook.updateData(t);for(let n of r.children||[])await this.recursivelyPumpData(t,n)}},ere=class{static{o(this,"PromptElementLifecycleData")}constructor(t){this.state=t,this._updateTimeMs=0}getUpdateTimeMsAndReset(){let t=this._updateTimeMs;return this._updateTimeMs=0,t}},tre=class{constructor(t){this.lifecycleData=t;this.stateHook=new XM(t.state),this.dataHook=new eO(r=>{t._updateTimeMs=r})}static{o(this,"PromptElementLifecycle")}useState(t){return this.stateHook.useState(t)}useData(t,r){this.dataHook.useData(t,r)}isRemountRequired(){return this.stateHook.hasChanged()}};function Uft(e){return typeof e=="function"&&"isFragmentFunction"in e}o(Uft,"isFragmentFunction");var rO=class{static{o(this,"VirtualPrompt")}constructor(t){this.reconciler=new tO(t)}snapshotNode(t,r){if(!t)return;if(r?.isCancellationRequested)return"cancelled";let n=[];for(let i of t.children??[]){let s=this.snapshotNode(i,r);if(s==="cancelled")return"cancelled";s!==void 0&&n.push(s)}return{value:t.props?.value?.toString(),name:t.name,path:t.path,props:t.props,children:n,statistics:{updateDataTimeMs:t.lifecycle?.lifecycleData.getUpdateTimeMsAndReset()}}}snapshot(t){try{let r=this.reconciler.reconcile(t);if(t?.isCancellationRequested)return{snapshot:void 0,status:"cancelled"};if(!r)throw new Error("Invalid virtual prompt tree");let n=this.snapshotNode(r,t);return n==="cancelled"||t?.isCancellationRequested?{snapshot:void 0,status:"cancelled"}:{snapshot:n,status:"ok"}}catch(r){return{snapshot:void 0,status:"error",error:r}}}createPipe(){return this.reconciler.createPipe()}};var ah=class{static{o(this,"CompletionsPromptFactory")}};function nO(e,t){return new rre(new nre(new ire(e,t)))}o(nO,"createCompletionsPromptFactory");var rre=class extends ah{constructor(r){super();this.delegate=r}static{o(this,"SequentialCompletionsPromptFactory")}prompt(r,n){return this.lastPromise=this.promptAsync(r,n),this.lastPromise}async promptAsync(r,n){if(await this.lastPromise,n?.isCancellationRequested)return g8;try{return await this.delegate.prompt(r,n)}catch{return ore}}},qft=1200,nre=class extends ah{constructor(r){super();this.delegate=r}static{o(this,"TimeoutHandlingCompletionsPromptFactory")}async prompt(r,n){let i=new Hn.CancellationTokenSource,s=i.token;return n?.onCancellationRequested(()=>{i.cancel()}),await Promise.race([this.delegate.prompt(r,s),new Promise(a=>{setTimeout(()=>{i.cancel(),a(g8e)},qft)})])}};function nu(e){if(!e||typeof e!="object")return!1;let t=e;return!(!t.document||!t.position||t.position.line===void 0||t.position.character===void 0||!t.telemetryData)}o(nu,"isCompletionRequestData");var ire=class extends ah{constructor(r,n){super();this.ctx=r;this.renderer=new oM;this.virtualPrompt=n}static{o(this,"ComponentsCompletionsPromptFactory")}async prompt(r,n){try{return await this.createPromptUnsafe(r,n)}catch(i){return this.errorPrompt(i)}}async createPromptUnsafe({textDocument:r,position:n,telemetryData:i,promptOpts:s},a){let{maxPromptLength:l,suffixPercent:c,suffixMatchThreshold:u}=KM(this.ctx,i,r.detectedLanguageId),f=await this.failFastPrompt(r,n,c??0,a);if(f)return f;let{virtualPrompt:m,pipe:h}=this.getOrCreateVirtualPrompt(),p=performance.now(),{traits:A,codeSnippets:x,turnOffSimilarFiles:v,resolvedContextItems:E}=await this.resolveContext(r,n,i,a,s);if(await this.updateComponentData(h,r,n,A,x,i,v,l??Sw,a,s,u),a?.isCancellationRequested)return g8;let b=m.snapshot(a),_=b.status;if(_==="cancelled")return g8;if(_==="error")return this.errorPrompt(b.error);let R=this.renderer.render(b.snapshot,{delimiter:`
`,tokenizer:go(),promptTokenLimit:l??Sw,suffixPercent:c??ON,languageId:r.detectedLanguageId},a);if(R.status==="cancelled")return g8;if(R.status==="error")return this.errorPrompt(R.error);let[P,F]=ax(R.prefix),[W]=ax(R.prefixWithoutContext),se={...R,prefix:P,prefixWithoutContext:W},de;if(Xte(this.ctx,i)){let G=CEe(R.metadata.componentStatistics);this.ctx.get(wl).computeMatch(G),de=c8e(this.ctx,E)}let re=performance.now();return this.resetIfEmpty(R),this.successPrompt(se,re,p,F,de)}async updateComponentData(r,n,i,s,a,l,c,u,f,m={},h){let p=this.createRequestData(n,i,l,f,m,u,s,a,c,h);await r.pump(p)}async resolveContext(r,n,i,s,a={}){let l=[],c,u,f=!1;if(Xte(this.ctx,i)){l=await this.ctx.get(ll).resolveAllProviders({uri:r.uri,languageId:r.clientLanguageId,version:r.version,offset:r.offsetAt(n),position:a.positionBeforeApplyingEdits??n,proposedEdits:r.appliedEdits.length>0?r.appliedEdits:void 0},i,s,a.data);let h=l.filter(f8e);!i8e(this.ctx,i)&&h.length>0&&(f=!0),c=YIe(this.ctx,h),u=await _Ee(this.ctx,h,r.detectedLanguageId)}return{traits:c,codeSnippets:u,turnOffSimilarFiles:f,resolvedContextItems:l}}async failFastPrompt(r,n,i,s){if(s?.isCancellationRequested)return g8;if((await this.ctx.get(Lc).evaluate(r.uri,r.getText(),"UPDATE")).isBlocked)return p8e;if((i>0?r.getText().length:r.offsetAt(n))<m8e)return h8e}getOrCreateVirtualPrompt(){return this.virtualPrompt||(this.virtualPrompt=new rO(this.completionsPrompt())),this.pipe||(this.pipe=this.virtualPrompt.createPipe()),{virtualPrompt:this.virtualPrompt,pipe:this.pipe}}completionsPrompt(){return $n(J1,{children:[$n(LEe,{ctx:this.ctx,weight:.7}),$n(s8e,{weight:.6}),$n(kEe,{ctx:this.ctx,weight:.9}),$n(o8e,{ctx:this.ctx,weight:.8}),$n(NEe,{ctx:this.ctx,by:$Ie,children:$n(zIe,{ctx:this.ctx,weight:.99})}),$n(b_,{weight:1})]})}createRequestData(r,n,i,s,a,l,c,u,f,m){return{document:r,position:n,telemetryData:i,cancellationToken:s,data:a.data,traits:c,codeSnippets:u,turnOffSimilarFiles:f,suffixMatchThreshold:m,maxPromptTokens:l}}resetIfEmpty(r){r.prefix.length===0&&r.suffix.length===0&&this.reset()}successPrompt(r,n,i,s,a){return{type:"prompt",prompt:{prefix:r.prefix,prefixTokens:r.prefixTokens,suffix:r.suffix,suffixTokens:r.suffixTokens,context:r.context,prefixWithoutContext:r.prefixWithoutContext,isFimEnabled:r.suffix.length>0},computeTimeMs:n-i,trailingWs:s,neighborSource:new Map,metadata:r.metadata,contextProvidersTelemetry:a}}errorPrompt(r){return xa(this.ctx,r,"PromptComponents.CompletionsPromptFactory"),this.reset(),ore}reset(){this.virtualPrompt=void 0,this.pipe=void 0}};async function d8e(e){try{await SZ}catch(t){XQ(e,t,"initializeTokenizers")}}o(d8e,"waitForTokenizers");var m8e=10,h8e={type:"contextTooShort"},p8e={type:"copilotContentExclusion"},ore={type:"promptError"},g8={type:"promptCancelled"},g8e={type:"promptTimeout"};function ax(e){let t=e.split(`
`),r=t[t.length-1],n=r.length-r.trimEnd().length,i=e.slice(0,e.length-n),s=e.slice(i.length);return[r.length==n?i:e,s]}o(ax,"trimLastLine");function A8(e,t,r,n,i,s={}){let l=e.get(Jr).findNotebook(t),c=l?.getCellFor(t);return l&&c&&({textDocument:t,position:r}=Gft({textDocument:t,position:r},l,c)),n.extendWithConfigProperties(e),n.sanitizeKeys(),e.get(ah).prompt({textDocument:t,position:r,telemetryData:n,promptOpts:s},i)}o(A8,"extractPrompt");function Wft(e,t){let r=e.document.detectedLanguageId,n=e.document.getText();return r===t?n:i0(n,t)}o(Wft,"addNeighboringCellsToPrompt");function Gft(e,t,r){let i=t.getCells().filter(l=>l.index<r.index&&$M(r.document.detectedLanguageId,l.document.detectedLanguageId)),s=i.length>0?i.map(l=>Wft(l,r.document.detectedLanguageId)).join(`

`)+`

`:"",a={line:0,character:0};return zI(e,[{newText:s,range:{start:a,end:a}}])}o(Gft,"applyEditsForNotebook");function KM(e,t,r){let i=e.get(xr).maxPromptCompletionTokens(t)-vQ(e),s=AEe(t,r),a=ZQ(e,t,r),l=e.get(xr).promptOrderListPreset(t),c=e.get(xr).promptPriorityPreset(t),u={maxPromptLength:i,similarFilesOptions:a,numberOfSnippets:s,promptOrderListPreset:l,promptPriorityPreset:c},f=e.get(xr).suffixPercent(t),m=e.get(xr).suffixMatchThreshold(t);return f>0&&m>0&&(u={...u,suffixPercent:f,suffixMatchThreshold:m}),u}o(KM,"getPromptOptions");d();d();var A8e=2.98410452738298,y8e=-.838732736843507,C8e=1.50314646255716,x8e=-.237798634012662,iO={python:.314368072478742},v8e={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var Hft={link:o(e=>Math.exp(e)/(1+Math.exp(e)),"link"),unlink:o(e=>Math.log(e/(1-e)),"unlink")};function jft(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),i=t.get(r),s=t.get(n);return s+(i-s)*(e-n)/(r-n)}o(jft,"linearInterpolation");var y8=class{static{o(this,"Regressor")}constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(i=>i)}contribution(t){return this.coefficient*this.transformation(t)}},sre=class{constructor(t,r,n){this.link=Hft;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let i in n)this.logitsToQuantiles.set(n[i],Number(i))}static{o(this,"LogisticRegression")}predict(t,r){let n=this.intercept;for(let i of this.coefficients){let s=r[i.name];if(s===void 0)return NaN;n+=i.contribution(s)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return jft(n,this.logitsToQuantiles)}},b8e=new sre(A8e,[new y8("compCharLen",y8e,e=>Math.log(1+e)),new y8("meanLogProb",C8e),new y8("meanAlternativeLogProb",x8e)].concat(Object.entries(iO).map(e=>new y8(e[0],e[1]))),v8e);function E8e(e,t){let r={...t.measurements};return Object.keys(iO).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),b8e.predict(e,r)}o(E8e,"ghostTextScoreConfidence");function I8e(e,t){let r={...t.measurements};return Object.keys(iO).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),b8e.quantile(e,r)}o(I8e,"ghostTextScoreQuantile");d();d();var Vft=[{max_token_sequence_length:1,last_tokens_to_consider:10},{max_token_sequence_length:10,last_tokens_to_consider:30},{max_token_sequence_length:20,last_tokens_to_consider:45},{max_token_sequence_length:30,last_tokens_to_consider:60}];function oO(e){let t=e.slice();return t.reverse(),T8e(t)||T8e(t.filter(r=>r.trim().length>0))}o(oO,"isRepetitive");function T8e(e){let t=$ft(e);for(let r of Vft){if(e.length<r.last_tokens_to_consider)continue;if(r.last_tokens_to_consider-1-t[r.last_tokens_to_consider-1]<=r.max_token_sequence_length)return!0}return!1}o(T8e,"isRepeatedPattern");function $ft(e){let t=Array(e.length).fill(0);t[0]=-1;let r=-1;for(let n=1;n<e.length;n++){for(;r>=0&&e[r+1]!==e[n];)r=t[r];e[r+1]===e[n]&&r++,t[n]=r}return t}o($ft,"kmp_prefix_function");function zft(e,t,r,n){let i="}";try{i=d3e(t.detectedLanguageId)??"}"}catch{}return Yft({getLineText:o(s=>t.lineAt(s).text,"getLineText"),getLineCount:o(()=>t.lineCount,"getLineCount")},r,n,i)}o(zft,"maybeSnipCompletion");function Yft(e,t,r,n){let i=Kft(r),s=i.lines;if(s.length===1)return r;for(let a=1;a<s.length;a++){let l=!0,c=0,u=0;for(let f=0;f+a+u<s.length;f++){let m;for(;;){let x=t.line+1+f+c;if(m=x>=e.getLineCount()?void 0:e.getLineText(x),m!==void 0&&m.trim()==="")c++;else break}let h,p;for(;h=a+f+u,p=h>=s.length?void 0:s[h],p!==void 0&&p.trim()==="";)u++;let A=h===s.length-1;if(!p||!(m&&(A?m.startsWith(p)||p.startsWith(m):m===p&&p.trim()===n))){l=!1;break}}if(l)return s.slice(0,a).join(i.newLineCharacter)}return r}o(Yft,"maybeSnipCompletionImpl");function Kft(e){let t=e.includes(`\r
`)?`\r
`:`
`;return{lines:e.split(t),newLineCharacter:t}}o(Kft,"splitByNewLine");function Jft(e,t,r,n){let i="",s=t.line+1,a=n?r.trim():r;for(;i===""&&s<e.lineCount;){if(i=e.lineAt(s).text,n&&(i=i.trim()),i===a)return!0;s++}return!1}o(Jft,"matchesNextLine");function D_(e,t,r,n,i,s){if(oO(n.tokens)){let l=ln.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),jt(e,"repetition.detected",l,1),s.info(e,"Filtered out repetitive solution");return}let a={...n};if(Jft(t,r,a.completionText,!i)){let l=ln.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),jt(e,"completion.alreadyInDocument",l),jt(e,"completion.alreadyInDocument",l.extendedBy({completionTextJson:JSON.stringify(a.completionText)}),1),s.info(e,"Filtered out solution matching next line");return}return a.completionText=zft(e,t,r,a.completionText),a.completionText?a:void 0}o(D_,"postProcessChoiceInContext");function w8e(e,t,r){let i=e.lineAt(t.line).text.substring(t.character);if(i.length>0){if(r.completionText.indexOf(i)!==-1)return i.length;{let s=-1,a=0;for(let l of i){let c=r.completionText.indexOf(l,s+1);if(c>s)a++,s=c;else break}return a}}return 0}o(w8e,"checkSuffix");var S8e=et(Iy());var Wi=new Yt("ghostText");async function k8e(e,t,r,n,i,s,a){Wi.debug(e,`Getting ${s} from network`),r=r.extendedBy();let l=t.isCycling?3:1,c=WI(e,l),u={language:t.languageId,next_indent:t.indentation.next??0,trim_by_indentation:y3e(t.blockMode),prompt_tokens:t.prompt.prefixTokens??0,suffix_tokens:t.prompt.suffixTokens??0},f={stream:!0,n:l,temperature:c,extra:u},m=t.blockMode==="moremultiline"&&p5.isSupported(t.languageId);!t.multiline&&!m&&(f.stop=[`
`]);let h=Date.now(),p={endpoint:"completions",uiKind:"ghostText",temperature:JSON.stringify(c),n:JSON.stringify(l),stop:JSON.stringify(f.stop)??"unset",logit_bias:JSON.stringify(f.logit_bias??null)};Object.assign(r.properties,p);try{let A={prompt:t.prompt,languageId:t.languageId,repoInfo:t.repoInfo,ourRequestId:t.ourRequestId,engineModelId:t.engineModelId,count:l,uiKind:"ghostText",postOptions:f,headers:t.headers},x=await e.get(eu).fetchAndStreamCompletions(e,A,r,i,n);return x.type==="failed"?{type:"failed",reason:x.reason,telemetryData:ta(r)}:x.type==="canceled"?(Wi.debug(e,"Cancelled after awaiting fetchCompletions"),{type:"canceled",reason:x.reason,telemetryData:Wp(r)}):a(h,x.getProcessingTime(),x.choices)}catch(A){if(bc(A))return{type:"canceled",reason:"network request aborted",telemetryData:Wp(r,{cancelledNetworkRequest:!0})};if(Wi.exception(e,A,"Error on ghost text request"),e.get($0).notifyUser(e,A),eI(e))throw A;return{type:"failed",reason:"non-abort error on ghost text request",telemetryData:ta(r)}}}o(k8e,"genericGetCompletionsFromNetwork");function are(e,t,r){if(r||(r=[]),e.completionText=e.completionText.trimEnd(),!!e.completionText&&r.findIndex(n=>n.completionText.trim()===e.completionText.trim())===-1)return t.requestForNextLine&&(e.completionText=`
`+e.completionText),e}o(are,"postProcessChoices");async function edt(e,t,r,n,i){return k8e(e,t,r,n,i,"completions",async(s,a,l)=>{let u=await l[Symbol.asyncIterator]().next();if(u.done)return Wi.debug(e,"All choices redacted"),{type:"empty",reason:"all choices redacted",telemetryData:ta(r)};if(n?.isCancellationRequested)return Wi.debug(e,"Cancelled after awaiting redactedChoices iterator"),{type:"canceled",reason:"after awaiting redactedChoices iterator",telemetryData:Wp(r)};let f=u.value;if(f===void 0)return Wi.debug(e,"Got undefined choice from redactedChoices iterator"),{type:"empty",reason:"got undefined choice from redactedChoices iterator",telemetryData:ta(r)};B8e(e,"performance",f,s,a),Wi.debug(e,`Awaited first result, id:  ${f.choiceIndex}`);let m=are(f,t);m&&(lre(e,t,{multiline:t.multiline,choices:[m]},r),Wi.debug(e,`GhostText first completion (index ${m?.choiceIndex}): ${JSON.stringify(m?.completionText)}`));let h=(async()=>{let p=m!==void 0?[m]:[];for await(let A of l){if(A===void 0)continue;Wi.debug(e,`GhostText later completion (index ${A?.choiceIndex}): ${JSON.stringify(A.completionText)}`);let x=are(A,t,p);x&&(p.push(x),lre(e,t,{multiline:t.multiline,choices:[x]},r))}})();return qm(e)&&await h,m?{type:"success",value:[sO(m,{forceSingleLine:!1}),h],telemetryData:ta(r),telemetryBlob:r,resultType:0}:{type:"empty",reason:"got undefined processedFirstChoice",telemetryData:ta(r)}})}o(edt,"getCompletionsFromNetwork");async function tdt(e,t,r,n,i){return k8e(e,t,r,n,i,"all completions",async(s,a,l)=>{let c=[];for await(let u of l){if(n?.isCancellationRequested)return Wi.debug(e,"Cancelled after awaiting choices iterator"),{type:"canceled",reason:"after awaiting choices iterator",telemetryData:Wp(r)};let f=are(u,t,c);f&&c.push(f)}return c.length>0&&(lre(e,t,{multiline:t.multiline,choices:c},r),B8e(e,"cyclingPerformance",c[0],s,a)),{type:"success",value:[c,Promise.resolve()],telemetryData:ta(r),telemetryBlob:r,resultType:3}})}o(tdt,"getAllCompletionsFromNetwork");function sO(e,t){let r={...e};if(t.forceSingleLine){let{completionText:n}=r,i=n.match(/^\r?\n/);i?r.completionText=i[0]+n.split(`
`)[1]:r.completionText=n.split(`
`)[0]}return r}o(sO,"makeGhostAPIChoice");async function rdt(e,t,r,n,i,s,a,l,c){let u=e.get(zm).forLanguage(e,t.detectedLanguageId,c);switch(u){case"server":return{blockMode:"server",requestMultiline:!0,finishedCb:o(f=>{},"finishedCb")};case"parsing":case"parsingandserver":case"moremultiline":default:{let f;try{f=await udt(e,u,t,r,s,a,l,n)}catch(m){Wi.exception(e,m,".getGhostTextStrategy"),f={requestMultiline:!1}}if(f.requestMultiline){let m;return n.trailingWs.length>0&&!n.prompt.prefix.endsWith(n.trailingWs)?m=No.position(r.line,Math.max(r.character-n.trailingWs.length,0)):m=r,{blockMode:u,requestMultiline:!0,finishedCb:_8e(e,u,t,m,f.blockPosition,l,!0)}}return{blockMode:u,requestMultiline:!1,finishedCb:_8e(e,u,t,r,f.blockPosition,l,!1)}}}}o(rdt,"getGhostTextStrategy");function _8e(e,t,r,n,i,s,a){if(t==="moremultiline"&&p5.isSupported(r.detectedLanguageId)){let l=r.getText(No.range(No.position(0,0),n))+(s?`
`:""),c=i==="empty-block"||i==="block-end"?7:3;return new jQ(e,l,r.detectedLanguageId,!a,c,(u,f)=>{e.get(Sd).append(l+u,[f])}).getFinishedCallback()}return a?x_(e,r,n,s):l=>{}}o(_8e,"buildFinishedCallback");var ndt={isCycling:!1,promptOnly:!1,isSpeculative:!1};async function idt(e,t,r,n,i,s,a){let l=i.issuedTime,c=[];function u(R){let P=Zs();c.push([R,P-l]),l=P}o(u,"recordPerformance"),u("telemetry");let f={...ndt,...a},m=e.get(Pd),h=m.clientCompletionId,p=e.get(xr);if(s?.isCancellationRequested)return{type:"abortedBeforeIssued",reason:"cancelled before extractPrompt",telemetryData:ta(i)};let A=sdt(t,r);if(A===void 0)return Wi.debug(e,"Breaking, invalid middle of the line"),{type:"abortedBeforeIssued",reason:"Invalid middle of the line",telemetryData:ta(i)};let x=e.get(nh).isEnabled(i)?e.get(nh):void 0,v=s,E=new Hn.CancellationTokenSource;x&&(s=E.token);let b=await A8(e,t,r,i,s,f);return u("prompt"),b.type==="copilotContentExclusion"?(Wi.debug(e,"Copilot not available, due to content exclusion"),{type:"abortedBeforeIssued",reason:"Copilot not available due to content exclusion",telemetryData:ta(i)}):b.type==="contextTooShort"?(Wi.debug(e,"Breaking, not enough context"),{type:"abortedBeforeIssued",reason:"Not enough context",telemetryData:ta(i)}):b.type==="promptError"?(Wi.debug(e,"Error while building the prompt"),{type:"abortedBeforeIssued",reason:"Error while building the prompt",telemetryData:ta(i)}):f.promptOnly?{type:"promptOnly",reason:"Breaking, promptOnly set to true",prompt:b}:b.type==="promptCancelled"?(Wi.debug(e,"Cancelled during extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled during extractPrompt",telemetryData:ta(i)}):b.type==="promptTimeout"?(Wi.debug(e,"Timeout during extractPrompt"),{type:"abortedBeforeIssued",reason:"Timeout",telemetryData:ta(i)}):b.prompt.prefix.length===0&&b.prompt.suffix.length===0?(Wi.debug(e,"Error empty prompt"),{type:"abortedBeforeIssued",reason:"Empty prompt",telemetryData:ta(i)}):s?.isCancellationRequested?(Wi.debug(e,"Cancelled after extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled after extractPrompt",telemetryData:ta(i)}):e.get(zi).withProgress(async()=>{let[R]=ax(t.getText(No.range(No.position(0,0),r))),P=p.triggerCompletionAfterAccept(i),F=e.get(Pd).hasAcceptedCurrentCompletion(R,b.prompt.suffix),W=P?F:void 0,se=b.prompt;W&&(b.prompt={...b.prompt,prefix:b.prompt.prefix+`
`,prefixWithoutContext:b.prompt.prefixWithoutContext+`
`});let de=await rdt(e,t,r,b,f.isCycling,A,F,W??!1,i);if(u("strategy"),s?.isCancellationRequested)return Wi.debug(e,"Cancelled after requestMultiline"),{type:"abortedBeforeIssued",reason:"Cancelled after requestMultiline",telemetryData:ta(i)};let re=odt(e,R,se,de.requestMultiline,i);u("cache");let G=Zy(e,t.uri),U=Jy(e,i),ne={blockMode:de.blockMode,languageId:t.detectedLanguageId,repoInfo:G,engineModelId:U.modelId,ourRequestId:n,prefix:R,prompt:b.prompt,multiline:de.requestMultiline,indentation:v_(t,r),isCycling:f.isCycling,headers:U.headers,requestForNextLine:W};ne.headers={...ne.headers,"X-Copilot-Async":x?"true":"false","X-Copilot-Speculative":f.isSpeculative?"true":"false"};let J=Adt(e,t,ne,r,b,i,U,f),j=jn(e,Rt.EnableSpeculativeRequests),O=p.enableSpeculativeRequests(i),V=(j??O)&&!f.isSpeculative&&!f.isCycling,Z=Promise.resolve();if(x&&re===void 0&&!f.isCycling&&x.shouldWaitForAsyncCompletions(R,b.prompt)){let ve=await x.getFirstMatchingRequestWithTimeout(n,R,b.prompt,f.isSpeculative,J);if(u("asyncWait"),ve){let Ue=!de.requestMultiline;re=[[sO(ve[0],{forceSingleLine:Ue})],4],Z=ve[1]}if(v?.isCancellationRequested)return Wi.debug(e,"Cancelled before requesting a new completion"),{type:"abortedBeforeIssued",reason:"Cancelled after waiting for async completion",telemetryData:ta(J)}}let ae=de.blockMode==="moremultiline"&&p5.isSupported(t.detectedLanguageId);if(re!==void 0&&(re[0]=re[0].map(ve=>D_(e,t,r,ve,ae,Wi)).filter(ve=>ve!==void 0)),re!==void 0&&re[0].length>0&&(!f.isCycling||re[0].length>1))Wi.debug(e,`Found inline suggestions locally via ${y_(re[1])}`);else{if(f.isCycling){let ve=await tdt(e,ne,J,s,de.finishedCb);if(ve.type==="success"){let Ue=re?.[0]??[];ve.value[0].forEach(ke=>{Ue.findIndex(Ze=>Ze.completionText.trim()===ke.completionText.trim())===-1&&Ue.push(ke)}),re=[Ue,3]}else if(re===void 0)return ve}else{if(s?.isCancellationRequested)return Wi.debug(e,"Cancelled before contextual filter"),{type:"canceled",reason:"before contextual filter",telemetryData:Wp(J)};if(!p.disableContextualFilter(i)&&J.measurements.contextualFilterScore<35/100)return Wi.debug(e,"Cancelled by contextual filter"),{type:"canceled",reason:"contextualFilterScore below threshold",telemetryData:Wp(J)};let ve=x?(ke,Ze)=>(x.updateCompletion(n,ke),de.finishedCb(ke,Ze)):de.finishedCb,Ue=edt(e,ne,J,s,ve);if(x){x.queueCompletionRequest(n,R,b.prompt,E,Ue);let ke=await x.getFirstMatchingRequest(n,R,b.prompt,f.isSpeculative);if(ke===void 0)return{type:"empty",reason:"received no results from async completions",telemetryData:ta(J)};re=[[ke[0]],4],Z=ke[1]}else{let ke=await Ue;if(ke.type!=="success")return ke;re=[[ke.value[0]],0],Z=ke.value[1]}}u("network")}if(re===void 0)return{type:"failed",reason:"internal error: choices should be defined after network call",telemetryData:ta(J)};let[te,le]=re,fe=te.map(ve=>D_(e,t,r,ve,ae,Wi)).filter(ve=>ve!==void 0),De=[];for(let ve of fe){let Ue=gdt(e,t,ne,ve,J),ke=A?w8e(t,r,ve):0,ft={completion:ddt(ve.choiceIndex,ve.completionText,b.trailingWs),telemetry:Ue,isMiddleOfTheLine:A,suffixCoverage:ke,copilotAnnotations:ve.copilotAnnotations};De.push(ft)}if(v?.isCancellationRequested)return Wi.debug(e,"Cancelled after post processing completions"),{type:"canceled",reason:"after post processing completions",telemetryData:Wp(J)};if(J.properties.clientCompletionId=De?.[0]?.telemetry?.properties.clientCompletionId,J.measurements.foundOffset=De?.[0]?.telemetry?.measurements?.foundOffset??-1,Wi.debug(e,`Produced ${De.length} results from ${y_(le)} at ${J.measurements.foundOffset} offset`),V&&De.length>0){let ve=zI({textDocument:t,position:r},[{newText:De[0].completion.completionText,range:{start:r,end:r}}]),Ue=new Hn.CancellationTokenSource().token;Z.then(()=>{cre(e,ve.textDocument,ve.position,Ue,{positionBeforeApplyingEdits:f.positionBeforeApplyingEdits,isSpeculative:!0,opportunityId:f.opportunityId})})}if(h!==m.clientCompletionId){let ve=m.getCompletionsForUserTyping(R,b.prompt.suffix);if(ve&&ve.length>0)return Wi.debug(e,"Current completion changed before returning"),{type:"canceled",reason:"current completion changed before returning",telemetryData:Wp(J)}}return f.isSpeculative||m.setGhostText(R,b.prompt.suffix,fe,le),u("complete"),{type:"success",value:[De,le],telemetryData:ta(J),telemetryBlob:J,resultType:le,performanceMetrics:c}})}o(idt,"getGhostTextWithoutAbortHandling");async function cre(e,t,r,n,i){let s=Ir(),a=await pdt(e,t,s,i);try{return await idt(e,t,r,s,a,n,i)}catch(l){if(bc(l))return{type:"canceled",reason:"aborted at unknown location",telemetryData:Wp(a,{cancelledNetworkRequest:!0})};throw l}}o(cre,"getGhostText");function odt(e,t,r,n,i){let s=e.get(Pd).getCompletionsForUserTyping(t,r.suffix),a=hdt(e,t,r,n,i);if(s&&s.length>0){let l=(a??[]).filter(c=>!s.some(u=>u.completionText===c.completionText));return[s.concat(l),2]}if(a&&a.length>0)return[a,1]}o(odt,"getLocalInlineSuggestion");function sdt(e,t){let r=adt(t,e),n=ldt(t,e);return r&&!n?void 0:r&&n}o(sdt,"isInlineSuggestion");function adt(e,t){return t.lineAt(e).text.substr(e.character).trim().length!=0}o(adt,"isMiddleOfTheLine");function ldt(e,t){let n=t.lineAt(e).text.substr(e.character).trim();return/^\s*[)>}\]"'`]*\s*[:{;,]?\s*$/.test(n)}o(ldt,"isValidMiddleOfTheLinePosition");function cdt(e,t){return t.lineAt(e).text.trim().length===0}o(cdt,"isNewLine");var aA=class e{constructor(t=!1){this.requestMultilineOverride=t}static{o(this,"ForceMultiLine")}static{this.default=new e}};async function udt(e,t,r,n,i,s,a,l){if(e.get(aA).requestMultilineOverride)return{requestMultiline:!0};if(r.lineCount>=8e3)jt(e,"ghostText.longFileMultilineSkip",ln.createAndMarkAsIssued({languageId:r.detectedLanguageId,lineCount:String(r.lineCount),currentLine:String(n.line)}));else{if(t=="moremultiline"&&p5.isSupported(r.detectedLanguageId)){let f=await eEe(r,n);return s||f==="empty-block"?{requestMultiline:!0,blockPosition:f}:{requestMultiline:!1,blockPosition:f}}if(a){let f=v_(r,n),m=f.current>0?r.lineAt(n).text[0]:void 0,h={range:{start:n,end:n},newText:`
`+(m?m.repeat(f.current):"")};r=zI({textDocument:r,position:n},[h]).textDocument}if(["typescript","typescriptreact"].includes(r.detectedLanguageId)&&cdt(n,r))return{requestMultiline:!0};let u=!1;return!i&&Ju(r.detectedLanguageId)?u=await JQ(r,n):i&&Ju(r.detectedLanguageId)&&(u=await JQ(r,n)||await JQ(r,r.lineAt(n).range.end)),u||["javascript","javascriptreact","python"].includes(r.detectedLanguageId)&&(u=iEe(l.prompt,r.detectedLanguageId)>.5),{requestMultiline:u}}return{requestMultiline:!1}}o(udt,"shouldRequestMultiline");function lre(e,t,r,n){if(jn(e,Rt.EnablePrefixCache)??e.get(xr).enablePrefixCompletionsCache(n)){e.get(Sd).append(t.prefix,r.choices);return}let i={...t.prompt};t.requestForNextLine&&(i.prefix=i.prefix.slice(0,-1));let s=hY(i),a=e.get(af).get(s);a&&a.multiline===r.multiline?e.get(af).set(s,{multiline:a.multiline,choices:a.choices.concat(r.choices)}):e.get(af).set(s,r),Wi.debug(e,`Appended ${r.choices.length} cached ghost text for key: ${s}, multiline: ${r.multiline}, total number of suggestions: ${(a?.choices.length??0)+r.choices.length}`)}o(lre,"appendToCache");function fdt(e,t,r){let n=e.get(af).get(t);if(n&&!(r&&!n.multiline))return n.choices}o(fdt,"getCachedChoices");function ddt(e,t,r){if(r.length>0){if(t.startsWith(r))return{completionIndex:e,completionText:t,displayText:t.substring(r.length),displayNeedsWsOffset:!1};{let n=t.substring(0,t.length-t.trimStart().length);return r.startsWith(n)?{completionIndex:e,completionText:t,displayText:t.trimStart(),displayNeedsWsOffset:!0}:{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}}else return{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}o(ddt,"adjustLeadingWhitespace");var mdt=50;function hdt(e,t,r,n,i){if(jn(e,Rt.EnablePrefixCache)??e.get(xr).enablePrefixCompletionsCache(i)){let s=e.get(Sd).findAll(t);return s.length===0?(Wi.debug(e,"Found no completions in prefix cache"),[]):(Wi.debug(e,`Found ${s.length} completions in prefix cache`),s.map(a=>sO(a,{forceSingleLine:!n})))}for(let s=0;s<mdt;s++){let a=[],l=r.prefix.substring(0,r.prefix.length-s),c=hY({prefix:l,suffix:r.suffix}),u=fdt(e,c,n);if(!u)continue;Wi.debug(e,`Got completions from cache at ${s} characters back for key: ${c}, multiline: ${n}`);let f=r.prefix.substring(l.length);for(let m of u){let h=m.completionText;if(!h.startsWith(f)||h.length<=f.length)continue;h=h.substring(f.length);let p=sO({...m,completionText:h},{forceSingleLine:!n});p.telemetryData.measurements.foundOffset=s,p.completionText!==""&&a.push(p)}if(Wi.debug(e,`Found ${a.length} matching completions from cache at ${s} characters back`),a.length>0)return a}return[]}o(hdt,"getCompletionsFromCache");async function pdt(e,t,r,n){let i={headerRequestId:r};n?.opportunityId&&(i.opportunityId=n.opportunityId),n?.selectedCompletionInfo?.text&&(i.completionsActive="true"),n?.isSpeculative&&(i.reason="speculative");let s=ln.createAndMarkAsIssued(i);return await e.get(xr).updateExPValuesAndAssignments({uri:t.uri,languageId:t.detectedLanguageId},s)}o(pdt,"createTelemetryWithExp");function gdt(e,t,r,n,i){let s=n.requestId,a={choiceIndex:n.choiceIndex.toString(),clientCompletionId:n.clientCompletionId};n.generatedChoiceIndex!==void 0&&(a.originalChoiceIndex=a.choiceIndex,a.choiceIndex=(1e4*(n.generatedChoiceIndex+1)+n.choiceIndex).toString());let l=n.completionText.split(`
`).length,c={compCharLen:n.completionText.length,numLines:r.requestForNextLine?l-1:l};n.meanLogProb&&(c.meanLogProb=n.meanLogProb),n.meanAlternativeLogProb&&(c.meanAlternativeLogProb=n.meanAlternativeLogProb);let u=n.telemetryData.extendedBy(a,c);return u.issuedTime=i.issuedTime,u.measurements.timeToProduceMs=performance.now()-i.issuedTime,R8e(u,t),u.extendWithRequestId(s),u.measurements.confidence=E8e(e,u),u.measurements.quantile=I8e(e,u),Wi.debug(e,`Extended telemetry for ${n.telemetryData.properties.headerRequestId} with retention confidence ${u.measurements.confidence} (expected as good or better than about ${u.measurements.quantile} of all suggestions)`),u}o(gdt,"telemetryWithAddData");function Adt(e,t,r,n,i,s,a,l){let c={languageId:t.detectedLanguageId};r.requestForNextLine!==void 0&&(c.requestForNextLine=r.requestForNextLine.toString()),c.isSpeculative=l.isSpeculative.toString();let u=s.extendedBy(c);R8e(u,t);let f=r.repoInfo;u.properties.gitRepoInformation=f===void 0?"unavailable":f===0?"pending":"available",f!==void 0&&f!==0&&(u.properties.gitRepoUrl=f.url,u.properties.gitRepoHost=f.hostname,u.properties.gitRepoOwner=f.owner,u.properties.gitRepoName=f.repo,u.properties.gitRepoPath=f.pathname),u.properties.engineName=a.modelId,u.properties.engineChoiceSource=a.engineChoiceSource,u.properties.isMultiline=JSON.stringify(r.multiline),u.properties.isCycling=JSON.stringify(r.isCycling);let m=t.lineAt(n.line),h=t.getText(No.range(m.range.start,n)),p=t.getText(No.range(n,m.range.end)),A=Array.from(i.neighborSource.entries()).map(b=>[b[0],b[1].map(_=>(0,S8e.SHA256)(_).toString())]),x={beforeCursorWhitespace:JSON.stringify(h.trim()===""),afterCursorWhitespace:JSON.stringify(p.trim()===""),neighborSource:JSON.stringify(A),blockMode:r.blockMode},v={...lI(i.prompt),promptEndPos:t.offsetAt(n),promptComputeTimeMs:i.computeTimeMs};i.metadata&&(x.promptMetadata=JSON.stringify(i.metadata)),i.contextProvidersTelemetry&&(x.contextProviders=JSON.stringify(i.contextProvidersTelemetry));let E=u.extendedBy(x,v);return E.measurements.contextualFilterScore=Xbe(e,E,i.prompt),jt(e,"ghostText.issued",E),u}o(Adt,"telemetryIssued");function R8e(e,t){e.measurements.documentLength=t.getText().length,e.measurements.documentLineCount=t.lineCount}o(R8e,"addDocumentTelemetry");function B8e(e,t,r,n,i){let s=Date.now()-n,a=s-i,l=r.telemetryData.extendedBy({},{completionCharLen:r.completionText.length,requestTimeMs:s,processingTimeMs:i,deltaMs:a,meanLogProb:r.meanLogProb||NaN,meanAlternativeLogProb:r.meanAlternativeLogProb||NaN});l.extendWithRequestId(r.requestId),jt(e,`ghostText.${t}`,l)}o(B8e,"telemetryPerformance");var Pd=class{constructor(){this.choices=[]}static{o(this,"CurrentGhostText")}get clientCompletionId(){return this.choices[0]?.clientCompletionId}setGhostText(t,r,n,i){i!==2&&(this.prefix=t,this.suffix=r,this.choices=n)}getCompletionsForUserTyping(t,r){let n=this.getRemainingPrefix(t,r);if(n!==void 0&&D8e(this.choices[0].completionText,n))return ydt(this.choices,n)}hasAcceptedCurrentCompletion(t,r){let n=this.getRemainingPrefix(t,r);if(n===void 0)return!1;let i=n===this.choices?.[0].completionText,s=this.choices?.[0].finishReason;return i&&s==="stop"}getRemainingPrefix(t,r){if(!(this.prefix===void 0||this.suffix===void 0||this.choices.length===0)&&this.suffix===r&&t.startsWith(this.prefix))return t.substring(this.prefix.length)}};function ydt(e,t){return e.filter(r=>D8e(r.completionText,t)).map(r=>({...r,completionText:r.completionText.substring(t.length)}))}o(ydt,"adjustChoicesStart");function D8e(e,t){return e.startsWith(t)&&e.length>t.length}o(D8e,"startsWithAndExceeds");d();d();d();var lx=class{constructor(t,r,n){this._referenceCount=0;this._isDisposed=!1;this._offset=n;let i=t.get(Jr);this._tracker=i.onDidChangeTextDocument(s=>{if(s.document.uri===r){for(let a of s.contentChanges)if(a.rangeOffset+a.rangeLength<=this.offset){let l=a.text.length-a.rangeLength;this._offset=this._offset+l}}})}static{o(this,"ChangeTracker")}get offset(){return this._offset}push(t,r){if(this._isDisposed)throw new Error("Unable to push new actions to a disposed ChangeTracker");this._referenceCount++,setTimeout(()=>{t(),this._referenceCount--,this._referenceCount===0&&(this._tracker.dispose(),this._isDisposed=!0)},r)}};d();function ure(e,t,r=(n,i)=>n===i?0:1){if(t.length===0||e.length===0)return{distance:t.length,startOffset:0,endOffset:0};let n=new Array(t.length+1).fill(0),i=new Array(t.length+1).fill(0),s=new Array(e.length+1).fill(0),a=new Array(e.length+1).fill(0),l=t[0];for(let u=0;u<e.length+1;u++)u===0?n[u]=1:n[u]=r(e[u-1],l,u-1,0),i[u]=u>0?u-1:0;for(let u=1;u<t.length;u++){let f=s;s=n,n=f,f=a,a=i,i=f,l=t[u],n[0]=u+1;for(let m=1;m<e.length+1;m++){let h=1+s[m],p=1+n[m-1],A=r(e[m-1],l,m-1,u)+s[m-1];n[m]=Math.min(p,h,A),n[m]===A?i[m]=a[m-1]:n[m]===h?i[m]=a[m]:i[m]=i[m-1]}}let c=0;for(let u=0;u<e.length+1;u++)n[u]<n[c]&&(c=u);return{distance:n[c],startOffset:i[c],endOffset:c}}o(ure,"editDistance");function Cdt(){return new Map}o(Cdt,"emptyLexDictionary");function xdt(e){let t=new Array(e.size);for(let[r,n]of e)t[n]=r;return t}o(xdt,"reverseLexDictionary");function*vdt(e){let t="",r;(l=>(l[l.Word=0]="Word",l[l.Space=1]="Space",l[l.Other=2]="Other"))(r||={});let n=0;for(let i of e){let s;new RegExp("(\\p{L}|\\p{Nd}|_)","u").test(i)?s=0:i===" "?s=1:s=2,s===n&&s!==2?t+=i:(t.length>0&&(yield t),t=i,n=s)}t.length>0&&(yield t)}o(vdt,"lexGeneratorWords");function P8e(e,t,r,n){let i=[],s=0;for(let a of r(e))n(a)&&(t.has(a)||t.set(a,t.size),i.push([t.get(a),s])),s+=a.length;return[i,t]}o(P8e,"lexicalAnalyzer");function F8e(e){return e!==" "}o(F8e,"notSingleSpace");function N8e(e,t,r=vdt){let[n,i]=P8e(e,Cdt(),r,F8e),[s,a]=P8e(t,i,r,F8e);if(s.length===0||n.length===0)return{lexDistance:s.length,startOffset:0,endOffset:0,haystackLexLength:n.length,needleLexLength:s.length};let l=xdt(a),c=s.length,u=l[s[0][0]],f=l[s[c-1][0]];function m(x,v,E,b){if(b===0||b===c-1){let _=l[n[E][0]];return b==0&&_.endsWith(u)||b==c-1&&_.startsWith(f)?0:1}else return x===v?0:1}o(m,"compare");let h=ure(n.map(x=>x[0]),s.map(x=>x[0]),m),p=n[h.startOffset][1],A=h.endOffset<n.length?n[h.endOffset][1]:e.length;return A>0&&e[A-1]===" "&&--A,{lexDistance:h.distance,startOffset:p,endOffset:A,haystackLexLength:n.length,needleLexLength:s.length}}o(N8e,"lexEditDistance");d();function L8e(e,t){return e.compType==="partial"?e.acceptedLength:t.length}o(L8e,"computeCompCharLen");function Q8e(e,t){return t.compType==="partial"?e.substring(0,t.acceptedLength):e}o(Q8e,"computeCompletionText");function M8e(e,t,r){return e.displayText!==e.insertText&&e.insertText.trim()===e.displayText||r===3?t:t-e.range.end.character+e.range.start.character}o(M8e,"computePartialLength");var S5=new Yt("postInsertion"),O8e=[{seconds:15,captureCode:!1,captureRejection:!1},{seconds:30,captureCode:!0,captureRejection:!0},{seconds:120,captureCode:!1,captureRejection:!1},{seconds:300,captureCode:!1,captureRejection:!1},{seconds:600,captureCode:!1,captureRejection:!1}],U8e=50,bdt=1500,Edt=.5,Idt=500,fre={triggerPostInsertionSynchroneously:!1,captureCode:!1,captureRejection:!1};async function q8e(e,t,r,n,i){let s=await e.get(Pn).getOrReadTextDocumentWithFakeClientProperties({uri:t});if(s.status!=="valid")return S5.info(e,`Could not get document for ${t}. Maybe it was closed by the editor.`),{prompt:{prefix:"",suffix:"",isFimEnabled:!1},capturedCode:"",terminationOffset:0};let a=s.document,l=a.getText(),c=l.substring(0,n),u=a.positionAt(n),f=await A8(e,a,u,r),m=f.type==="prompt"?f.prompt:{prefix:c,suffix:"",isFimEnabled:!1};if(m.isFimEnabled&&i!==void 0){let h=l.substring(n,i);return m.suffix=l.substring(i),{prompt:m,capturedCode:h,terminationOffset:0}}else{let h=l.substring(n),p=rte(c,n,a.detectedLanguageId),x=await hEe(p,void 0)(h),v=Math.min(l.length,n+(x?x*2:Idt)),E=l.substring(n,v);return{prompt:m,capturedCode:E,terminationOffset:x??-1}}}o(q8e,"captureCode");function aO(e,t,r,n,i){i.forEach(({completionText:c,completionTelemetryData:u})=>{S5.debug(e,`${t}.rejected choiceIndex: ${u.properties.choiceIndex}`),sEe(e,t,u)});let s=new lx(e,n,r-1),a=new lx(e,n,r),l=o(async c=>{S5.debug(e,`Original offset: ${r}, Tracked offset: ${s.offset}`);let{completionTelemetryData:u}=i[0],{prompt:f,capturedCode:m,terminationOffset:h}=await q8e(e,n,u,s.offset+1,a.offset),p;f.isFimEnabled?p={hypotheticalPromptPrefixJson:JSON.stringify(f.prefix),hypotheticalPromptSuffixJson:JSON.stringify(f.suffix)}:p={hypotheticalPromptJson:JSON.stringify(f.prefix)};let A=u.extendedBy({...p,capturedCodeJson:JSON.stringify(m)},{timeout:c.seconds,insertionOffset:r,trackedOffset:s.offset,terminationOffsetInCapturedCode:h});S5.debug(e,`${t}.capturedAfterRejected choiceIndex: ${u.properties.choiceIndex}`,A),jt(e,t+".capturedAfterRejected",A,1)},"checkInCode");O8e.filter(c=>c.captureRejection).map(c=>s.push(Gu(e,()=>l(c),"postRejectionTasks"),c.seconds*1e3))}o(aO,"postRejectionTasks");function cx(e,t,r,n,i,s,a,l){let c=s.extendedBy({compType:a.compType},{compCharLen:L8e(a,r)});S5.debug(e,`${t}.accepted choiceIndex: ${c.properties.choiceIndex}`),oEe(e,t,c);let u=r;r=Q8e(r,a);let f=r.trim(),m=new lx(e,i,n),h=new lx(e,i,n+r.length),p=o(async A=>{await Sdt(e,t,f,n,i,A,c,m,h)},"stillInCodeCheck");if(fre.triggerPostInsertionSynchroneously&&qm(e)){let A=p({seconds:0,captureCode:fre.captureCode,captureRejection:fre.captureRejection});e.get(Do).register(A)}else O8e.map(A=>m.push(Gu(e,()=>p(A),"postInsertionTasks"),A.seconds*1e3));Gu(e,Tdt,"post insertion citation check")(e,i,u,r,n,l)}o(cx,"postInsertionTasks");async function Tdt(e,t,r,n,i,s){if(!s||(s.ip_code_citations?.length??0)<1)return;let a=await e.get(Jr).getTextDocument({uri:t});if(a){let l=dre(a.getText(),n,U8e,i);l.stillInCodeHeuristic&&(i=l.foundOffset)}for(let l of s.ip_code_citations){let c=wdt(r.length,n.length,l.start_offset);if(c===void 0){S5.info(e,`Full completion for ${t} contains a reference matching public code, but the partially inserted text did not include the match.`);continue}let u=i+c,f=a?.positionAt(u),m=i+_dt(r.length,n.length,l.stop_offset),h=a?.positionAt(m),p=f&&h?a?.getText({start:f,end:h}):"<unknown>";await e.get(of).handleIPCodeCitation(e,{inDocumentUri:t,offsetStart:u,offsetEnd:m,version:a?.version,location:f&&h?{start:f,end:h}:void 0,matchingText:p,details:l.details.citations})}}o(Tdt,"citationCheck");function wdt(e,t,r){if(!(t<e&&r>t))return r}o(wdt,"computeCitationStart");function _dt(e,t,r){return t<e?Math.min(r,t):r}o(_dt,"computeCitationEnd");function dre(e,t,r,n){let i=e.substring(Math.max(0,n-r),Math.min(e.length,n+t.length+r)),s=N8e(i,t),a=s.lexDistance/s.needleLexLength,{distance:l}=ure(i.substring(s.startOffset,s.endOffset),t);return{relativeLexEditDistance:a,charEditDistance:l,completionLexLength:s.needleLexLength,foundOffset:s.startOffset+Math.max(0,n-r),lexEditDistance:s.lexDistance,stillInCodeHeuristic:a<=Edt?1:0}}o(dre,"find");async function Sdt(e,t,r,n,i,s,a,l,c){let u=await e.get(Pn).getOrReadTextDocument({uri:i});if(u.status==="valid"){let m=u.document.getText(),h=dre(m,r,U8e,l.offset);h.stillInCodeHeuristic||(h=dre(m,r,bdt,l.offset)),S5.debug(e,`stillInCode: ${h.stillInCodeHeuristic?"Found":"Not found"}! Completion '${r}' in file ${i}. lexEditDistance fraction was ${h.relativeLexEditDistance}. Char edit distance was ${h.charEditDistance}. Inserted at ${n}, tracked at ${l.offset}, found at ${h.foundOffset}. choiceIndex: ${a.properties.choiceIndex}`);let p=a.extendedBy({},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset}).extendedBy({},h);if(jt(e,t+".stillInCode",p),s.captureCode){let{prompt:A,capturedCode:x,terminationOffset:v}=await q8e(e,i,p,l.offset,c.offset),E;A.isFimEnabled?E={hypotheticalPromptPrefixJson:JSON.stringify(A.prefix),hypotheticalPromptSuffixJson:JSON.stringify(A.suffix)}:E={hypotheticalPromptJson:JSON.stringify(A.prefix)};let b=a.extendedBy({...E,capturedCodeJson:JSON.stringify(x)},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset,terminationOffsetInCapturedCode:v});S5.debug(e,`${t}.capturedAfterAccepted choiceIndex: ${a.properties.choiceIndex}`,p),jt(e,t+".capturedAfterAccepted",b,1)}}}o(Sdt,"checkStillInCode");var mre=new Yt("ghostText"),f0=class{static{o(this,"LastGhostText")}#e;#t;#i=[];get position(){return this.#e}get shownCompletions(){return this.#i||[]}get uri(){return this.#t}resetState(){this.#t=void 0,this.#e=void 0,this.#i=[]}setState({uri:t},r){this.#t=t,this.#e=r,this.#i=[]}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0}};function kdt(e){let t=[];return e.shownCompletions.forEach(r=>{if(r.displayText&&r.telemetry){let n,i;e.partiallyAcceptedLength?(n=r.displayText.substring(e.partiallyAcceptedLength-1),i=r.telemetry.extendedBy({compType:"partial"},{compCharLen:n.length})):(n=r.displayText,i=r.telemetry);let s={completionText:n,completionTelemetryData:i,offset:r.offset};t.push(s)}}),t}o(kdt,"computeRejectedCompletions");function hre(e,t){let r=e.get(f0);if(!r.position||!r.uri)return;let n=kdt(r);n.length>0&&aO(e,"ghostText",t??n[0].offset,r.uri,n),r.resetState(),r.resetPartialAcceptanceState()}o(hre,"rejectLastShown");function W8e(e,t,r,n){let i=e.get(f0);return i.position&&i.uri&&!(i.position.line===r.line&&i.position.character===r.character&&i.uri.toString()===t.uri.toString())&&n!==2&&hre(e,t.offsetAt(i.position)),i.setState(t,r),i.index}o(W8e,"setLastShown");function G8e(e,t){let r=e.get(f0);if(r.index=t.index,!r.shownCompletions.find(n=>n.index===t.index)&&(t.uri===r.uri&&r.position?.line===t.position.line&&r.position?.character==t.position.character&&r.shownCompletions.push(t),t.displayText)){let n=t.resultType!==0;mre.debug(e,`[${t.telemetry.properties.headerRequestId}] shown choiceIndex: ${t.telemetry.properties.choiceIndex}, fromCache ${n}`),t.telemetry.measurements.compCharLen=t.displayText.length,$Q(e,"ghostText",t)}}o(G8e,"handleGhostTextShown");function lO(e,t){let r=e.get(f0);r.resetState(),mre.debug(e,"Ghost text post insert");let n=r.partiallyAcceptedLength?{compType:"partial",acceptedLength:t.displayText.length}:{compType:"full"};return r.resetPartialAcceptanceState(),cx(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,n,t.copilotAnnotations)}o(lO,"handleGhostTextPostInsert");function H8e(e,t,r,n=0){let i=e.get(f0);r===t.insertText.length&&i.resetState(),mre.debug(e,"Ghost text partial post insert");let s=M8e(t,r,n);if(s)return i.partiallyAcceptedLength=r,cx(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,{compType:"partial",acceptedLength:s},t.copilotAnnotations)}o(H8e,"handlePartialGhostTextPostInsert");d();d();var j8e=et(require("node:util"));function V8e(e,...t){return`[${e}] ${Rdt(t)}`}o(V8e,"formatLogMessage");function Rdt(e){return j8e.default.formatWithOptions({maxStringLength:1/0},...e)}o(Rdt,"format");function cO(e){return Yye(e)}o(cO,"verboseLogging");var uO=class extends qa{constructor(r){super();this.console=r}static{o(this,"ConsoleLog")}logIt(r,n,i,...s){n==1?this.console.error(`[${i}]`,...s):(n==2||cO(r))&&this.console.warn(`[${i}]`,...s)}};d();var $8e=require("node:util");var C8=class extends Lp{static{o(this,"TelemetryLogSenderImpl")}sendError(t,r,...n){f4(t,"log",ln.createAndMarkAsIssued({context:r,level:h4[1],message:Bdt(...n)}),1)}sendException(t,r,n){xa(t,r,n)}};function Bdt(...e){return e.map(t=>(0,$8e.inspect)(t)).join(" ")}o(Bdt,"telemetryMessage");d();var lDe=et(require("crypto")),cDe=et(require("fs")),uDe=et(sDe()),fDe=require("tls"),dDe=et(aDe());var S6=new Yt("certificates"),Ka=class{static{o(this,"RootCertificateReader")}};function qq(e,t=process.platform){return new Ose(e,[new Use,new qse,DIt(e,t)])}o(qq,"getRootCertificateReader");function DIt(e,t){switch(t){case"linux":return new Wse(e);case"darwin":return new Gse(e);case"win32":return new Hse(e);default:return new jse}}o(DIt,"createPlatformReader");var Mse=class extends Ka{constructor(r,n){super();this.ctx=r;this.delegate=n}static{o(this,"ErrorHandlingCertificateReader")}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return S6.warn(this.ctx,"Failed to read root certificates:",r),[]}}},Ose=class extends Ka{constructor(r,n){super();this.ctx=r;this.delegates=n.map(i=>new Mse(r,i))}static{o(this,"CachingRootCertificateReader")}async getAllRootCAs(){return this.certificates||(this.certificates=this.removeExpiredCertificates((await Promise.all(this.delegates.map(r=>r.getAllRootCAs()))).flat())),this.certificates}removeExpiredCertificates(r){let n=Date.now(),i=r.filter(s=>{try{let a=new lDe.X509Certificate(s),l=Date.parse(a.validTo);return isNaN(l)||l>n}catch(a){return S6.warn(this.ctx,"Failed to parse certificate",s,a),!1}});return r.length!==i.length&&S6.info(this.ctx,`Removed ${r.length-i.length} expired certificates`),i}},Use=class extends Ka{static{o(this,"NodeTlsRootCertificateReader")}getAllRootCAs(){return fDe.rootCertificates}},qse=class extends Ka{static{o(this,"EnvironmentVariableRootCertificateReader")}async getAllRootCAs(){let t=process.env.NODE_EXTRA_CA_CERTS;return t?await mDe(t):[]}},Wse=class extends Ka{constructor(r){super();this.ctx=r}static{o(this,"LinuxRootCertificateReader")}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let i=await mDe(n);S6.debug(this.ctx,`Read ${i.length} certificates from ${n}`),r=r.concat(i)}return r}},Gse=class extends Ka{constructor(r){super();this.ctx=r}static{o(this,"MacRootCertificateReader")}getAllRootCAs(){let r=uDe.get();return S6.debug(this.ctx,`Read ${r.length} certificates from Mac keychain`),r}},Hse=class extends Ka{constructor(r){super();this.ctx=r}static{o(this,"WindowsRootCertificateReader")}getAllRootCAs(){let r=dDe.all();return S6.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}},jse=class extends Ka{static{o(this,"UnsupportedPlatformRootCertificateReader")}getAllRootCAs(){return Promise.reject(new Error("No certificate reader available for unsupported platform"))}};async function mDe(e){try{let r=(await cDe.promises.readFile(e,{encoding:"utf8"})).match(/-----BEGIN CERTIFICATE-----[\s\S]*?-----END CERTIFICATE-----/g);if(!r)return[];let n=r.filter(s=>s.length>0),i=new Set(n);return Array.from(i)}catch(t){if(t instanceof Error&&"code"in t&&t.code==="ENOENT")return[];throw t}}o(mDe,"readCertsFromFile");d();var TDe=et(require("http"));var n8t=407,lc=new Yt("proxySocketFactory"),gg=class{static{o(this,"ProxySocketFactory")}},Wx=class extends Error{static{o(this,"ProxySocketError")}constructor(t,r,n){super(t),this.code=r?.code,this.syscall=r?.syscall,this.errno=r?.errno,/^Failed to establish a socket connection to proxies:/.test(r?.message??"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test(r?.message??"")?this.code="ProxyInitializeSecurityContext":r?.message==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test(r?.message??"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};function Wq(e){return new zse(e,new Yse(e))}o(Wq,"getProxySocketFactory");var zse=class extends gg{constructor(r,n,i=new ZS,s=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=i;this.platform=s;this.successfullyAuthorized=new In(20)}static{o(this,"KerberosProxySocketFactory")}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(lc.debug(this.ctx,"Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(i){if(i instanceof Wx&&i.code===`ProxyStatusCode${n8t}`){lc.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let s=await this.authorizeAndCreateSocket(r,n);if(s)return lc.debug(this.ctx,"Proxy authorization successful, caching result"),jt(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),s}throw i}}async reauthorize(r,n){let i=await this.authorize(n);i&&(lc.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+i)}async authorizeAndCreateSocket(r,n){let i=await this.authorize(n);if(lc.debug(this.ctx,"Proxy authorization successful, received token"),i)return lc.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+i,await this.delegate.createSocket(r,n)}async authorize(r){lc.debug(this.ctx,"Loading kerberos module");let n=await this.kerberosLoader.load(),i=this.computeSpn(r);lc.debug(this.ctx,"Initializing kerberos client using spn",i);let s=await n.initializeClient(i);lc.debug(this.ctx,"Perform client side kerberos step");let a=await s.step("");return lc.debug(this.ctx,"Received kerberos server response"),a}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return lc.debug(this.ctx,"Using configured kerberos spn",n),n;let i=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return lc.debug(this.ctx,"Using default kerberos spn",i),i}getProxyCacheKey(r){return r.host+":"+r.port}},Yse=class extends gg{constructor(r){super();this.ctx=r}static{o(this,"TunnelingProxySocketFactory")}async createSocket(r,n){let i=this.createConnectRequestOptions(r,n);return new Promise((s,a)=>{lc.debug(this.ctx,"Attempting to establish connection to proxy");let l=TDe.request(i);l.useChunkedEncodingByDefault=!1,l.once("connect",(c,u,f)=>{lc.debug(this.ctx,"Socket Connect returned status code",c.statusCode),l.removeAllListeners(),u.removeAllListeners(),c.statusCode!==200?(u.destroy(),a(new Wx(`tunneling socket could not be established, statusCode=${c.statusCode}`,void 0,`ProxyStatusCode${c.statusCode}`))):f.length>0?(u.destroy(),a(new Wx(`got non-empty response body from proxy, length=${f.length}`,void 0,"ProxyNonEmptyResponseBody"))):(lc.debug(this.ctx,"Successfully established tunneling connection to proxy"),s(u))}),l.once("error",c=>{lc.debug(this.ctx,"Proxy socket connection error",c.message),l.removeAllListeners(),a(new Wx(`tunneling socket could not be established, cause=${c.message}`,c))}),l.on("timeout",()=>{lc.debug(this.ctx,"Proxy socket connection timeout"),a(new Wx(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${i.host}:${i.port}`,void 0,"ProxyTimeout"))}),l.end()})}createConnectRequestOptions(r,n){let i=`${r.hostname}:${r.port}`,s={...n,method:"CONNECT",path:i,agent:!1,headers:{host:i,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(s.localAddress=r.localAddress),this.configureProxyAuthorization(s,r),s}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}},ZS=class{static{o(this,"KerberosLoader")}load(){return Promise.resolve().then(()=>et(IDe()))}};d();var kDe=require("node:os");var i8t=new Yt("repository"),Gx="\\\\",RDe="(?:[#;].*)",B6=`(?:[^"${Gx}]|${Gx}.)`,o8t="[0-9A-Za-z-]",wDe=`[A-Za-z]${o8t}*`,BDe=`\\s*${RDe}?$`,DDe=`(?:[^"${Gx};#]|${Gx}.)`,s8t=`(?:"${B6}*"|"${B6}*(?<strCont>${Gx})$)`,a8t=`(?:${DDe}|${s8t})+`,l8t=`(?:(?<cont>${Gx})$)`,PDe=`(?<value>${a8t})${l8t}?${BDe}`,_De=new RegExp(`^${PDe}`),c8t=new RegExp(`^(?<value>${B6}*(?:(?<strCont>${Gx})$|(?<quote>")))`),u8t=new RegExp(`^\\s*(?:(?<key>${wDe})\\s*=\\s*${PDe}|(?<soloKey>${wDe})${BDe})`),f8t=new RegExp(`(?<value>${DDe}+)|"(?<string>${B6}*)"`,"g"),SDe="[-.0-9A-Za-z]+",d8t=`\\s+"(?<ext>${B6}*)"`,m8t=`\\s+"(?<extOnly>${B6}*)"`,h8t=new RegExp(`^\\s*\\[(?:(?<simple>${SDe})${d8t}|${m8t}|(?<simpleOnly>${SDe}))\\]`),p8t=new RegExp(`^\\s*${RDe}$`),Kse=class{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}static{o(this,"GitConfigParser")}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){let t=this.line.match(h8t);t&&(t.groups?.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):t.groups?.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){let t=this.line.match(u8t);if(t){if(t.groups?.key){let r=this.handleContinued(t);this.configValueHandler?.(this.nameWithSection(t.groups.key.toLowerCase()),r)}else t.groups?.soloKey&&this.configValueHandler?.(this.nameWithSection(t.groups.soloKey.toLowerCase()),"");this.line=""}}handleContinued(t){let r=t,n=[this.matchedValue(r)];for(;r?.groups?.cont||r?.groups?.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(c8t),r?(n.push(this.matchedValue(r)),r.groups?.quote&&(r=this.line.slice(r[0].length).match(_De),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(_De),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(f8t)].map(i=>i.groups?.value?(r=!0,this.unescapeValue(i.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(i.groups.string))).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,i)=>r[i]||i)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){p8t.test(this.line)&&(this.line="")}},Gq=class extends rh{static{o(this,"GitParsingConfigLoader")}async getConfig(t,r){let n=await Y1.getRepoConfigLocation(t,r);if(!n)return;let i=await this.getParsedConfig(t,n);if(i)return this.mergeConfig(await this.baseConfig(t,n),i)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new $4)}async getParsedConfig(t,r,n=!0){let i=await this.tryLoadConfig(t,r,n);if(!i)return;let s=new Kse(i),a=new $4;return s.parse((l,c)=>a.add(l,c)),a}async tryLoadConfig(t,r,n){try{return await t.get(Io).readFileString(r)}catch(i){(n||!(i instanceof Error)||i.code!=="ENOENT")&&i8t.warn(t,`Failed to load git config from ${JSON.stringify(r)}:`,i);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),i=Fo(this.xdgConfigUri(),"git","config"),s=Fo(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,i,!1),await this.getParsedConfig(t,s,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(Di(r).toLowerCase()!=="config.worktree")return;let n=ju(r),i=Fo(n,"commondir");try{let s=(await t.get(Io).readFileString(i)).trimEnd();return Fo(m4(n,s),"config")}catch{return}}xdgConfigUri(){return typeof process<"u"&&process.env.XDG_CONFIG_HOME?sl(process.env.XDG_CONFIG_HOME):Fo(this.homeUri(),".config")}homeUri(){return sl((0,kDe.homedir)())}};d();var FDe=require("child_process");var Hq=class extends rh{static{o(this,"GitCLIConfigLoader")}runCommand(t,r,n){return new Promise((i,s)=>{(0,FDe.execFile)(r,n,{cwd:t},(a,l)=>{a?s(a):i(l)})})}async tryRunCommand(t,r,n,i){try{return await this.runCommand(r,n,i)}catch(s){Cbe.info(t,`Failed to run command '${n}' in ${r}:`,s);return}}async getConfig(t,r){let n=Mo(r);if(n===void 0)return;let i=await this.tryRunCommand(t,n,"git",["-c","safe.directory=*","config","--list","--null",...this.extraArgs()]);return i?this.extractConfig(i):void 0}extractConfig(t){let r=new $4;for(let n of t.split("\0").filter(i=>i)){let i=n.split(`
`,1)[0],s=n.slice(i.length+1);r.add(i,s)}return r}extraArgs(){return[]}};d();var LDe=et(require("node:events"));var NDe="onWorkspaceChanged",Ef=class{constructor(){this.emitter=new LDe.default}static{o(this,"WorkspaceNotifier")}onChange(t){this.emitter.on(NDe,t)}emit(t){this.emitter.emit(NDe,t)}};function QDe(e){let t=new MI;return t.set(Op,e),t.set(bp,new bp),t.set(Eo,new Eo),g8t(t),t.set(Sd,new Sd),t.set(af,new af),t.set(Bp,new Bp),t.set(Ka,qq(t)),t.set(gg,Wq(t)),t.set(xr,new xr(t)),t.set(Pp,new Pp),t.set(Jl,new Jl(t)),t.set(Bs,new Bs),t.set(zu,new zu),t.set($0,new $0),t.set(lf,new lf),t.set(eu,new o_),t.set(zm,new CI),t.set(Hm,new pw),t.set(Do,new Do),t.set(Pn,new Pn(t)),t.set(ah,nO(t)),t.set(f0,new f0),t.set(Pd,new Pd),t.set(aA,aA.default),t.set(Y1,new Y1(t)),t.set(rh,new PQ([new Hq,new Gq])),t.set(Ef,new Ef),t.set(md,new md(t)),t.set(Xs,new Xs),t.set(nh,new nh(t)),t.set(j4,new j4(t)),t.set(Ho,new Ho),t}o(QDe,"createProductionContext");function g8t(e){e.set(ld,ld.fromEnvironment(!1)),e.set(Lp,new C8),e.set(qa,new uO(console))}o(g8t,"setupRudimentaryLogging");var mzr=new Yt("context");d();d();var Zr=new Yt("chat");d();d();var Nl=(s=>(s.System="system",s.User="user",s.Assistant="assistant",s.Function="function",s.Tool="tool",s))(Nl||{});function sn(e){return e?typeof e=="string"?e:e.map(t=>"text"in t?t.text:"").join(""):""}o(sn,"getTextPart");var MDe=o((e,t)=>I.Unsafe({type:"string",enum:e,description:t?.description}),"StringEnum"),ODe=I.Optional(I.Object({agentSlug:I.String(),state:I.Union([I.Literal("accepted"),I.Literal("dismissed")]),confirmation:I.Any()}));function sC(e){if(typeof e.function.arguments=="string")try{return JSON.parse(e.function.arguments)}catch{return{}}return e.function.arguments}o(sC,"parseToolCallArguments");function UDe(e){return typeof e.function.arguments=="object"&&(e.function.arguments=JSON.stringify(e.function.arguments)),e}o(UDe,"toOpenAIToolCall");function qDe(e,t,r,n,i,s,a,l){let c=JSON.parse(JSON.stringify(t));return r.tool_calls&&(c.tool_calls=r.tool_calls),qI(e,[c],l),{message:t,choiceIndex:n,requestId:i,blockFinished:s,finishReason:a,tokens:r.tokens,numTokens:r.tokens.length,tool_calls:r.tool_calls,function_call:r.function_call,telemetryData:l}}o(qDe,"convertToChatCompletion");d();var Jse=new Yt("streamMessages");function WDe(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(Jse.debug(e,`message ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),Jse.info(e,`message ${t.index} returned. finish reason: [${t.reason}]`),Jse.debug(e,`message ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let s=s_(t.solution),a={role:"assistant",content:n};return qDe(e,a,s,t.index,t.requestId,i,t.reason??"",r)}o(WDe,"prepareChatCompletionForReturn");var zd=new Yt("fetchChat"),jq=class{static{o(this,"OpenAIChatMLFetcher")}async fetchAndStreamChat(t,r,n,i,s){let a=await this.fetchWithParameters(t,r.endpoint,r,n,s);if(a==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let l=a.body();try{l.destroy()}catch(c){zd.exception(t,c,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(a.status!==200){let l=this.createTelemetryData(r.endpoint,t,r);return this.handleError(t,l,a)}if(r.postOptions?.stream===!1){let l=await a.text(),c=JSON.parse(l),u=c.choices!=null?c.choices[0].message:{role:"assistant",content:""},f=a.headers.get("X-Request-ID")??Ir(),m={blockFinished:!1,choiceIndex:0,finishReason:"stop",message:u,tokens:sn(u.content).split(" "),requestId:{headerRequestId:f,completionId:c.id?c.id:"",created:c.created?Number(c.created):0,deploymentId:"",serverExperiments:""},telemetryData:n,numTokens:0},h=sn(u.content);return await i(h,{text:h,copilotReferences:c.copilot_references}),{type:"success",chatCompletions:async function*(){yield m}(),getProcessingTime:o(()=>HI(a),"getProcessingTime")}}else{let c=d5.create(t,r.count,a,n,[],s).processSSE(i);return{type:"success",chatCompletions:V1(c,f=>WDe(t,f,n)),getProcessingTime:o(()=>HI(a),"getProcessingTime")}}}createTelemetryData(t,r,n){return ln.createAndMarkAsIssued({endpoint:t,engineName:n.engineName,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchWithParameters(t,r,n,i,s){let a={messages:n.messages,tools:n.tools,tool_choice:n.tool_choice,model:n.model,temperature:WI(t,n.count),top_p:xQ(t),n:n.count,stop:[`


`],copilot_thread_id:n.copilot_thread_id},l=U1(n.repoInfo);return l!==void 0&&(a.nwo=l),n.postOptions&&Object.assign(a,n.postOptions),n.intent&&(a.intent=n.intent,n.intent_model&&(a.intent_model=n.intent_model),n.intent_tokenizer&&(a.intent_tokenizer=n.intent_tokenizer),n.intent_threshold&&(a.intent_threshold=n.intent_threshold),n.intent_content&&(a.intent_content=n.intent_content)),s?.isCancellationRequested?"not-sent":await A8t(t,n.messages,n.capiUrl,n.engineName,r,n.ourRequestId,a,n.authToken,n.uiKind,i,n.llmInteraction,s)}async handleError(t,r,n){if(n.clientError&&!n.headers.get("x-github-request-id")){let s=`Last response was a ${n.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;zd.error(t,s),r.properties.error=`Response status was ${n.status} with no x-github-request-id header`}else r.properties.error=`Response status was ${n.status}`;if(r.properties.status=String(n.status),jt(t,"request.shownWarning",r),n.status===401)try{let s=await n.text(),a=JSON.parse(s);if(a.authorize_url)return{type:"authRequired",reason:"not authorized",authUrl:a.authorize_url}}catch{}if(n.status===401||n.status===403)return t.get($r).resetToken(n.status),{type:"failed",reason:`token expired or invalid: ${n.status}`,code:n.status};if(n.status===499)return zd.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server",code:n.status};let i=await n.text();if(n.status===466)return zd.info(t,i),{type:"failed",reason:`client not supported: ${i}`,code:n.status};if(n.status===400&&i.includes("off_topic"))return{type:"failed",reason:"filtered as off_topic by intent classifier: message was not programming related",code:n.status};if(n.status===400&&i.includes("model_not_supported"))return{type:"failed",reason:"model is not supported.",code:n.status};if(n.status===424)return{type:"failedDependency",reason:i};if(n.status===402){if(i.includes("free_quota_exceeded")){let l=n.headers.get("retry-after");return{type:"failed",reason:l?`You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait until ${new Date(l).toLocaleString()} for your limit to reset.`:"You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait for your limit to reset.",code:n.status}}else if(i.includes("overage_limit_reached"))return{type:"failed",reason:"You cannot accrue additional overages at this time. Please contact [GitHub Support](https://support.github.com/contact) to continue using Copilot.",code:n.status};return{type:"failed",reason:"Quota Exceeded.",code:n.status}}return zd.error(t,"Unhandled status from server:",n.status,i),{type:"failed",reason:`unhandled status from server: ${n.status} ${i}`,code:n.status}}};async function A8t(e,t,r,n,i,s,a,l,c,u,f,m){let h=Fo(r,n,i);if(!l)throw new Error(`Failed to send request to ${h} due to missing key`);let p=u.extendedBy({endpoint:i,engineName:n,uiKind:c});for(let[E,b]of Object.entries(a))E!="messages"&&(p.properties[`request.option.${E}`]=JSON.stringify(b)??"undefined");p.properties.headerRequestId=s,jt(e,"request.sent",p);let A=Zs(),x=cve(c),v={...zy(e),...f.toCapiHeaders()};return a.messages?.some(E=>Array.isArray(E.content)?E.content.some(b=>"image_url"in b):!1)&&(v["Copilot-Vision-Request"]="true"),a.messages&&a.messages.forEach(E=>{y8t(E)&&E.tool_calls&&(E.tool_calls=E.tool_calls.map(b=>UDe(b)))}),z3(e,h,l,x,s,a,m,v).then(E=>{let b=f5(E,void 0);p.extendWithRequestId(b);let _=Zs()-A;return p.measurements.totalTimeMs=_,zd.info(e,`request.response: [${h}] took ${_} ms`),zd.debug(e,"request.response properties",p.properties),zd.debug(e,"request.response measurements",p.measurements),zd.debug(e,"messages:",JSON.stringify(t)),jt(e,"request.response",p),E}).catch(E=>{if(bc(E))throw E;let b=p.extendedBy({error:"Network exception"});jt(e,"request.shownWarning",b),p.properties.message=String(l0(E,"name")??""),p.properties.code=String(l0(E,"code")??""),p.properties.errno=String(l0(E,"errno")??""),p.properties.type=String(l0(E,"type")??"");let _=Zs()-A;throw p.measurements.totalTimeMs=_,zd.debug(e,`request.response: [${h}] took ${_} ms`),zd.debug(e,"request.error properties",p.properties),zd.debug(e,"request.error measurements",p.measurements),jt(e,"request.error",p),E}).finally(()=>{qI(e,t,p)})}o(A8t,"fetchWithInstrumentation");function y8t(e){return"tool_calls"in e}o(y8t,"isChatMessageWithToolCalls");var ka=class{constructor(t){this.ctx=t;this.fetcher=new jq}static{o(this,"ChatMLFetcher")}async fetchResponse(t,r,n,i){let s=Ir(),a={n:t.num_suggestions??1,temperature:t.temperature??0,stop:t.stop,top_p:t.topP??1,copilot_thread_id:t.copilot_thread_id},l=t.modelConfiguration;l&&(a.max_tokens=l.maxResponseTokens,a.stream=!!l.stream),t.logitBias&&(a.logit_bias=t.logitBias);let c=await this.ctx.get($r).getToken(),u=mI(this.ctx,c),f=t.endpoint??"completions",m=t.authToken??c.token,h={messages:t.messages,repoInfo:void 0,ourRequestId:s,capiUrl:u,engineName:t.engineName??"chat",endpoint:f,count:t.num_suggestions??1,uiKind:t.uiKind,postOptions:a,authToken:m,...t.intentParams,llmInteraction:t.llmInteraction};return l&&(h.model=l.modelId),t.tools&&t.tools?.length>0&&(l===void 0||l.toolCalls)&&(h.tools=t.tools,h.tool_choice=t.tool_choice??"auto"),await this.fetch(h,i,r,n)}async fetch(t,r,n,i){try{let s=await this.fetcher.fetchAndStreamChat(this.ctx,t,i.extendedBy({uiKind:t.uiKind}),r||(()=>{}),n);switch(s.type){case"success":return await this.processSuccessfulResponse(s,t.ourRequestId,i);case"canceled":return this.processCanceledResponse(s,t.ourRequestId);case"failed":case"failedDependency":return this.processFailedResponse(s,t.ourRequestId);case"authRequired":return{type:"agentAuthRequired",reason:"Agent authentication required.",authUrl:s.authUrl,requestId:t.ourRequestId}}}catch(s){return this.processError(s,t.ourRequestId)}}async processSuccessfulResponse(t,r,n){let i=[],s=r_(t.chatCompletions,a=>this.postProcess(a,n));for await(let a of s)Zr.debug(this.ctx,`Received choice: ${JSON.stringify(a,null,2)}`),i.push(a);if(i.length==1){let a=i[0];switch(a.finishReason){case"stop":return{type:"success",value:sn(a.message?.content)??"",toolCalls:a.tool_calls,requestId:r,numTokens:a.numTokens};case"tool_calls":return{type:"tool_calls",toolCalls:a.tool_calls,requestId:r};case"content_filter":return{type:"filtered",reason:"Response got filtered.",requestId:r};case"length":return{type:"length",reason:"Response too long.",requestId:r};case"DONE":return{type:"no_finish_reason",reason:"No finish reason received.",requestId:r};default:return{type:"unknown",reason:"Unknown finish reason received.",requestId:r}}}else if(i.length>1){let a=i.filter(l=>l.finishReason=="stop"||l.finishReason=="tool_calls");if(a.length>0)return{type:"successMultiple",value:a.map(l=>sn(l.message.content)),toolCalls:a.map(l=>l.tool_calls).filter(l=>l),requestId:r}}return{type:"no_choices",reason:"Response contained no choices.",requestId:r}}postProcess(t,r){return oO(t.tokens)?(r.extendWithRequestId(t.requestId),jt(this.ctx,"conversation.repetition.detected",r,0),t.finishReason!==""?t:void 0):t.message?t:void 0}processCanceledResponse(t,r){return Zr.debug(this.ctx,"Cancelled after awaiting fetchConversation"),{type:"canceled",reason:t.reason,requestId:r}}processFailedResponse(t,r){return t?.reason.includes("filtered as off_topic by intent classifier")?{type:"offTopic",reason:t.reason,requestId:r}:t?.reason.includes("model is not supported")?{type:"model_not_supported",reason:t.reason,requestId:r}:{type:"failed",reason:t.reason,requestId:r,code:t.type==="failed"?t.code:void 0}}processError(t,r){return bc(t)?{type:"canceled",reason:"network request aborted",requestId:r}:(Zr.exception(this.ctx,t,"Error on conversation request"),{type:"failed",reason:"Error on conversation request. Check the log for more details.",requestId:r})}};d();var Ag=class{constructor(t){this.ctx=t}static{o(this,"AbstractClientToolConfirmationInvoker")}};d();var aC=class{constructor(t){this.ctx=t}static{o(this,"AbstractClientToolInvoker")}};d();var cc=class{constructor(t){this.ctx=t}static{o(this,"EditProgressReporter")}},Vq=class extends cc{constructor(){super(...arguments);this.items=[]}static{o(this,"LibTestEditProgressReporter")}reset(){this.items=[]}async reportTurn(r,n){this.items.push({editConversationId:r.editConversationId,editTurnId:r.editTurnId,...n})}};d();d();d();var lC=class extends Error{static{o(this,"CopilotEditsCancelledByUserException")}constructor(){super("Operation cancelled by user"),this.name="CopilotEditsCancelledByUserException"}};d();var cC=class extends Error{static{o(this,"CopilotEditsProcessCodeBlockException")}constructor(t){super(t),this.name="CopilotEditsProcessCodeBlockException"}};d();d();var D6="filepath:",Ll="...existing code...",Hx="copilot-edited-file";d();function y0(e){let t=e.matchAll(/^\s*(```+)/gm),r=Math.max(3,...Array.from(t,n=>n[1].length+1));return"`".repeat(r)}o(y0,"getFenceForCodeBlock");var Zse=class{constructor(t){this.props=t}static{o(this,"CodeBlockChangeDescription")}render(){if(this.props.markdownBeforeBlock)return["This is the description of what the code block changes:","<changeDescription>",this.props.markdownBeforeBlock,"","</changeDescription>",""].join(`
`)}},$q=class{constructor(t){this.props=t}static{o(this,"CodeMapperPrompt")}async render(){let t=await this.props.textDocumentProvider.getByUri(this.props.uri.toString());return[{role:"system",content:this.buildSystemMessage(t)},{role:"user",content:await this.buildUserMessage(t)}]}transformToSpeculationPrompt(t,r,n){return t.reduce((s,a)=>{if(a.role==="system"){let l=sn(a.content).endsWith(`
`)?sn(a.content):`${sn(a.content)}
`;return`${s}<SYSTEM>
${l}
End your response with </${Hx}>.
</SYSTEM>


`}return s+sn(a.content)},"")+`


The resulting document:
<${Hx}>
${n}${r}
`}buildSystemMessage(t){if(t.status!=="valid")return"";let r=[];return r.push("You are an AI programming assistant that is specialized in applying code changes to an existing document.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",`The user has a code block that represents a suggestion for a code change and a ${t.document.detectedLanguageId} file opened in a code editor.`,"Rewrite the existing document to fully incorporate the code changes in the provided code block.","For the response, always follow these instructions:","1. Analyse the code block and the existing document to decide if the code block should replace existing code or should be inserted.","2. If necessary, break up the code block into multiple parts and insert each part at the appropriate location.","3. Preserve whitespace and newlines right after the parts of the file that you modify.",`4. The final result must be syntactically valid, properly formatted, and correctly indented. It should not contain any \`${Ll}\` comments.`,"5. Finally, provide the fully rewritten file. You must output the complete file."),r.join(`
`)}async buildUserMessage(t){let r=[];if(t.status!=="valid")return"";if(t.document.getText().length>0){let a=y0(t.document.getText());r.push(`I have the following code open in the editor, starting from line 1 to line ${t.document.lineCount}.`,`${a}${t.document.detectedLanguageId}`,t.document.getText(),`${a}`)}else r.push("I am in an empty editor.");let i=new Zse({markdownBeforeBlock:this.props.markdownBeforeBlock}).render();i&&r.push(i);let s=y0(this.props.codeBlock);return r.push("This is the code block that represents the suggested code change:",`${s}${t.document.detectedLanguageId}`,this.props.codeBlock,`${s}`,"<userPrompt>","Provide the fully rewritten file, incorporating the suggested code change. You must produce the complete file.","</userPrompt>"),r.join(`
`)}};d();var yg=class{constructor(t){this.ctx=t}static{o(this,"DefaultTextDocumentProvider")}async getByUri(t){return await this.ctx.get(Pn).getOrReadTextDocument({uri:t})}};var P6=class{static{o(this,"CodeMapper")}constructor(t){this.ctx=t,this.logger=new Yt("CopilotEditsCodeMapper")}async mapCode(t,r,n,i=!1){if(!t.resource)throw new cC("No uri found in code block");if(r.isCancellationRequested)throw new lC;if(!t.code.includes(Ll))if(this.logger.debug(this.ctx,`Code block for uri ${t.resource} does not contain existing code marker`),i)this.logger.debug(this.ctx,`Running in agent mode, continue to do the speculation for ${t.resource}`);else return n&&await this.reportCodeBlock(t,n),t.code;let s=await this.ctx.get(Pn).getOrReadTextDocument({uri:t.resource});if(s.status==="notfound")return n&&await this.reportCodeBlock(t,n),t.code;if(s.status==="invalid"){let x=`Failed to find file ${t.resource} with status ${s.status} and reason ${s.reason}`,v=new cC(x);throw this.logger.error(this.ctx,x,v),v}let a=new $q({documentContext:{document:s},codeBlock:t.code,uri:t.resource,markdownBeforeBlock:t.markdownBeforeBlock,textDocumentProvider:new yg(this.ctx)}),l=await a.render(),c=s.document.detectedLanguageId,u=y0(t.code),f=s.document.getText();if(f.length>0){let x=y0(f);x.length>u.length&&(u=x)}let m=a.transformToSpeculationPrompt(l,c,u);n&&await n({fileGenerationStatus:"edit-plan-generated",uri:t.resource,basename:Di(t.resource),editDescription:t.markdownBeforeBlock});let h=await this.ctx.get(j4).fetchSpeculation({prompt:m,speculation:s.document.getText(),languageId:c,stops:[`\`\`\`
</${Hx}>`,`\`\`\`\r
</${Hx}>`,`</${Hx}>`]},r),p=[];for await(let x of h.choices)p.push(x.completionText);let A=p.find(x=>x.length>0);if(A)return n&&await n({fileGenerationStatus:"updated-code-generated",uri:t.resource,basename:Di(t.resource),partialText:A,languageId:c,markdownCodeFence:y0(A)}),A;{let x=`No valid completion found for uri ${t.resource}`;throw new cC(x)}}async reportCodeBlock(t,r){await r({fileGenerationStatus:"edit-plan-generated",uri:t.resource,basename:Di(t.resource),editDescription:t.markdownBeforeBlock}),await r({fileGenerationStatus:"updated-code-generated",partialText:t.code,uri:t.resource,basename:Di(t.resource)})}};d();var C0=class extends Error{constructor(r){super(r.message);this.editConversationError=r;this.name="EditConversationException"}static{o(this,"EditConversationException")}};d();d();var F6=class{static{o(this,"CapiErrorTranslator")}static translateErrorMessage(t,r){switch(t){case 466:return"Oops, your plugin is out of date. Please update it.";case 401:return"Oops, you are not authorized. Please sign in.";case 402:return r||"Oops, you need to upgrade your plan.";case 413:return"Oops, your request is too large. Please try again with a smaller input.";case 429:return"Oops, you reached the rate limit. Please try again later.";default:return"Sorry, an error occurred while generating a response."}}};d();d();var zq=class extends Error{static{o(this,"EditTurnNotFoundException")}constructor(t){super(t),this.name="EditTurnNotFoundException"}};var uC=class{constructor(t,r){this.request=t;this.id=Ir();this.timestamp=Date.now();this.status="in-progress";this.workingSet=[];r&&r.length>0&&(this.workingSet=r)}static{o(this,"EditTurn")}},Xse=class{constructor(t=[]){this.turns=[];this.turns=t}static{o(this,"EditTurnManager")}addTurn(t){this.turns.push(t)}deleteTurn(t){this.turns=this.turns.filter(r=>r.id!==t)}getLastTurn(){if(this.turns.length!==0)return this.turns[this.turns.length-1]}hasTurn(t){return this.turns.some(r=>r.id===t)}getTurns(){return[...this.turns]}},Yq=class{constructor(t=[],r="panel",n="en"){this._id=Ir();this._timestamp=Date.now();this.source="panel";this.userLanguage="en";this.source=r,this.userLanguage=n,this.turnsManager=new Xse(t)}static{o(this,"EditConversation")}get id(){return this._id}get timestamp(){return this._timestamp}getUserLanguage(){return this.userLanguage}getTurns(){return this.turnsManager.getTurns()}getSource(){return this.source}addTurn(t){this.turnsManager.addTurn(t)}deleteTurn(t){this.turnsManager.deleteTurn(t)}getLastTurn(){let t=this.turnsManager.getLastTurn();if(t===void 0)throw new zq(`No turns in the conversation ${this._id}`);return t}hasTurn(t){return this.turnsManager.hasTurn(t)}};var Kq=class{static{o(this,"EditCodeResultProcessor")}static processResult(t,r){switch(r.type){case"success":return r.value;case"offTopic":{t.currentTurn.status="off-topic";let n="Sorry, but I can only assist with programming related questions.";throw t.currentTurn.response={message:n,type:"offtopic-detection"},new C0({message:n,responseIsFiltered:!0})}case"canceled":throw t.currentTurn.status="cancelled",t.currentTurn.response={message:Gy,type:"user"},new C0({message:Gy});case"failed":throw t.currentTurn.status="error",t.currentTurn.response={message:r.reason,type:"server"},new C0({message:F6.translateErrorMessage(r.code,r.reason),code:r.code});case"filtered":throw t.currentTurn.status="filtered",new C0({message:"Oops, your response got filtered.",responseIsFiltered:!0});case"length":throw t.currentTurn.status="error",new C0({message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0});case"agentAuthRequired":throw t.currentTurn.status="error",t.currentTurn.response={message:"Authorization required",type:"server"},new C0({message:"Authorization required",responseIsFiltered:!1});case"no_choices":throw t.currentTurn.status="error",t.currentTurn.response={message:"No choices returned",type:"server"},new C0({message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"no_finish_reason":throw t.currentTurn.status="error",t.currentTurn.response={message:"No finish reason",type:"server"},new C0({message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"model_not_supported":throw t.currentTurn.status="error",t.currentTurn.response={message:"Model not supported",type:"server"},new C0({message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1});case"successMultiple":case"tool_calls":case"unknown":throw t.currentTurn.status="error",new C0({message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1})}}};d();async function*HDe(e){yield e}o(HDe,"stringToAsyncIterable");d();d();var wA=class{static{o(this,"CopilotEditsPromptUriUtils")}static pathToUri(t,r){let n=t.mapToUriInWorkingSet(r);return n||sl(r)}static uriToPath(t){let r=Mo(t);if(r)return r;throw new Error(`Unsupported URI scheme: ${t.split(":")[0]}`)}static posixFilePathToUri(t){return process.platform==="win32"?`file:///c:${t}`:`file://${t}`}};var Jq=class{constructor(t){this.props=t;this.exampleFilePath=this.getExampleFilePath("/path/to/file"),this.tsExampleFilePath=this.getExampleFilePath("/Users/someone/proj01/example.ts")}static{o(this,"EditCodePrompt")}async render(){let t=await this.getValidFilesInWorkingSet(),r=[{role:"system",content:this.buildSystemMessage(t)}];if(this.props.history&&this.props.history.length>0)for(let n of this.props.history)r.push({role:"user",content:n.request.message}),n.response&&n.response.type==="model"&&r.push({role:"assistant",content:n.response.message});return r.push({role:"user",content:this.buildUserMessage(t)}),r}getExampleFilePath(t){return this.getFilePath(wA.posixFilePathToUri(t))}getFilePath(t){return wA.uriToPath(t)}async getValidFilesInWorkingSet(){let t=new Map;if(this.props.workingSet===void 0||this.props.workingSet===null||this.props.workingSet.length===0)return t;for(let r of this.props.workingSet){let n=await this.props.textDocumentProvider.getByUri(r.uri);n.status==="valid"&&t.set(r.uri,n.document)}return t}buildSystemMessage(t){let r=[];return r.push("You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",t.size>0?"The user has a request for modifying one or more files.":["If the user asks a question, then answer it.",`If you need to change existing files and it's not clear which files should be changed, then refuse and answer with "Please add the files to be modified to the working set"`].join(`
`),"1. Please come up with a solution that you first describe step-by-step.","2. Group your changes by file. Use the file path as the header.","3. For each file, give a short summary of what needs to be changed followed by a code block that contains the code changes.","4. Each file's code block must start with a comment containing the filepath.","5. Use a single code block per file that needs to be modified, even if there are multiple changes for a file.","6. The user is very smart and can understand how to merge your code blocks into their files, you just need to provide minimal hints.","7. Avoid repeating existing code, instead use comments to represent regions of unchanged code. The user prefers that you are as concise as possible. For example: ",["<file>","````languageId",`// ${D6} ${this.exampleFilePath}`,`// ${Ll}`,"{ changed code }",`// ${Ll}`,"{ changed code }",`// ${Ll}`,"````","</file>"].join(`
`),"8. If you generate edits for a Markdown file, use four backticks for the outer code block.",""),this.props.userLanguage&&r.push(`Respond in the following locale: ${this.props.userLanguage}`),this.props.modelName&&r.push(`You use the ${this.props.modelName} large language model.`),r.push("Here is an example of how you should format a code block belonging to the file example.ts in your response:","<example>",[`### ${this.tsExampleFilePath}`,"","Add a new property 'age' and a new method 'getAge' to the class Person.","","<file>","```typescript",`// ${D6} ${this.tsExampleFilePath}`,"class Person {",`   // ${Ll}`,"   age: number;",`   // ${Ll}`,"   getAge() {","      return this.age;","   }","}","```","</file>"].join(`
`),"</example>"),r.join(`
`)}buildUserMessage(t){let r=[];if(t.size>0){r.push("The user has provided the following files as input. Always make changes to these files unless the user asks to create a new file.","Untitled files are files that are not yet named. Make changes to them like regular files.");for(let[n,i]of t){let s=this.getFilePath(n),a=i.getText(),l=y0(a);r.push("<file>",`${l}${i.detectedLanguageId}`,`// ${D6} ${s}`,`${a}`,`${l}`,"</file>")}}return r.push("<reminder>",`Avoid repeating existing code, instead use a line comment with \`${Ll}\` to represent regions of unchanged code.`,"Each file's code block must start with a line comment containing the filepath. This includes Markdown files.","For existing files, make sure the filepath exactly matches the filepath of the original file."),this.props.workspaceFolder&&r.push(`When suggesting to create new files, pick a location inside \`${this.getFilePath(this.props.workspaceFolder)}\``),r.push("</reminder>"),r.push("<prompt>",`${this.props.userMessage}`,"</prompt>"),r.join(`
`)}};d();d();var Zq=class{constructor(t){this._source=t;this._buffer="";this._atEnd=!1}static{o(this,"PartialAsyncTextReader")}get endOfStream(){return this._buffer.length===0&&this._atEnd}async extendBuffer(){if(this._atEnd)return;let{value:t,done:r}=await this._source.next();r?this._atEnd=!0:this._buffer+=t}async waitForLength(t){for(;this._buffer.length<t&&!this._atEnd;)await this.extendBuffer()}async peek(t){return await this.waitForLength(t),this._buffer.substring(0,t)}async read(t){await this.waitForLength(t);let r=this._buffer.substring(0,t);return this._buffer=this._buffer.substring(t),r}async readUntil(t){let r="";for(;!this.endOfStream;){let n=this.readImmediateExcept(t);if(r+=n,await this.peek(1)===t)break}return r}async readLineIncludingLF(){let t=await this.readUntil(`
`);return t+=await this.read(1),t}async readLine(){let t=await this.readUntil(`
`);return await this.read(1),t}readImmediateExcept(t){let r=this._buffer.indexOf(t);return this.readImmediate(r===-1?this._buffer.length:r)}readImmediate(t){let r=this._buffer.substring(0,t);return this._buffer=this._buffer.substring(t),r}};var eae="<file>",XS="```",tk="###",x8t=/^(`+)([^ \n]*)/,ek="filepath:";async function*VDe(e,t){let r=new Zq(e[Symbol.asyncIterator]()),n=[];for(;!r.endOfStream;){for(;!r.endOfStream;){let x=await r.peek(Math.max(XS.length,eae.length,tk.length));if(x.startsWith(eae)||x.startsWith(XS))break;if(x.startsWith(tk)){let v=await r.readLineIncludingLF(),E=v.substring(tk.length).trim();await t(E)?n.length=0:n.push(v)}else await jDe(r,n)}if(r.endOfStream)break;let i=await r.readLineIncludingLF(),s=i.startsWith(eae);for(;!r.endOfStream&&!i.startsWith(XS);)i=await r.readLineIncludingLF();if(r.endOfStream)break;let a=i.match(x8t),l=a?a[2]:void 0,c=i3e(l?XCe(l):void 0),u=[`${c.lineComment.start} ${ek}`,`:: ${ek}`,`<!-- ${ek}`,`// ${ek}`,`# ${ek}`],f=Math.max(...u.map(x=>x.length)),m=c.lineComment.end??"",h="</file>",p,A=[];for(;!r.endOfStream;){let x=await r.peek(Math.max(XS.length,f));if(x.startsWith(XS)){let v=await r.readLineIncludingLF();if(!s)break;if(await r.peek(h.length)===h){await r.readLineIncludingLF();break}else{A.push(v);continue}}if(!p&&u.some(v=>x.startsWith(v))){let v=await r.readLineIncludingLF(),E=u.reduce((b,_)=>x.startsWith(_)?v.substring(_.length):b,v);E=E.split("-->")[0].trim(),E.endsWith(m)&&(E=E.substring(0,E.length-m.length)),E=E.trim(),p=await t(E);continue}await jDe(r,A)}yield{resource:p,language:l,code:A.join(""),markdownBeforeBlock:n.join("")},n.length=0}}o(VDe,"getCodeBlocksFromResponse");async function jDe(e,t){for(;!e.endOfStream;){let r=e.readImmediateExcept(`
`);if(r.length>0&&t?.push(r),await e.peek(1)===`
`){e.readImmediate(1),t?.push(`
`);break}}}o(jDe,"pipeOneLine");function $De(e){if(e.startsWith(`${tk} `))return"";let t=e.indexOf(`
${tk} `);return t===-1?"":e.substring(0,t)+`
`}o($De,"parseOverallDescription");d();d();var Xq=class extends Error{static{o(this,"EditConversationNotFoundException")}constructor(t){super(t),this.name="EditConversationNotFoundException"}};var v8t=new Yt("CopilotEditsConversations"),Ja=class{constructor(t){this.editConversations=new In(50);this.ctx=t}static{o(this,"EditConversations")}create(t="panel",r){let n=new Yq([],t,r);return this.editConversations.set(n.id,n),n}destroy(t){this.editConversations.delete(t)!==!0&&v8t.warn(this.ctx,`Edit code conversation ${t} does not exist`)}addTurn(t,r){return this.get(t).addTurn(r),r}deleteTurn(t,r){this.get(t).deleteTurn(r)}get(t){return this.getEditConversation(t)}getEditConversation(t){let r=this.editConversations.get(t);if(!r)throw new Xq(`Conversation with id ${t} does not exist`);return r}getAll(){return Array.from(this.editConversations.values())}findByTurnId(t){let r=this.getAll();for(let n of r)if(n.hasTurn(t))return n}};d();d();var ui=class{static{o(this,"ModelConfigurationProvider")}},tW=class extends ui{constructor(r){super();this.ctx=r}static{o(this,"DefaultModelConfigurationProvider")}async getBestChatModelConfig(r,n){let i=[];for(let s of r){let a=await this.getFirstMatchingChatModelConfiguration(s,n);a&&i.push(a)}if(i.length>0){let s=i.find(a=>a.isExperimental);return s||i[0]}throw Zr.error(this.ctx,`No model configuration found for families: ${r.join(", ")}. Available models: ${JSON.stringify(await this.ctx.get(Yu).getMetadata())}`),new Error("No model configuration found")}async getFirstMatchingModelMetadata(r){let n=await this.ctx.get(Yu).getMetadata(),i=b8t(n,r);if(i.length>0)return i[0]}async getFirstMatchingChatModelConfiguration(r,n){let i=await this.getFirstMatchingModelMetadata({family:r,type:"chat",supports:n});if(i!==void 0)return r===mi.Gpt35turbo||r===mi.Gpt4oMini?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:tae(6144,i),maxResponseTokens:eW(2048,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:r===mi.Gpt4||r===mi.Gpt4turbo?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:tae(10240,i),maxResponseTokens:eW(4096,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:r.includes("claude")?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:await zDe(this.ctx,i),maxResponseTokens:eW(8192,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:await zDe(this.ctx,i),maxResponseTokens:eW(4096,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}}async getFirstMatchingEmbeddingModelConfiguration(r){let n=await this.getFirstMatchingModelMetadata({family:r,type:"embeddings"});if(n!==void 0)switch(r){case iN.textEmbedding3Small:return{modelId:n.id,modelFamily:r,maxBatchSize:n.capabilities.limits?.max_inputs??16,maxTokens:8191,tokenizer:"cl100k_base"}}}};async function zDe(e,t){let r=e.get(xr),n=await r.updateExPValuesAndAssignments(),i=r.ideChatMaxRequestTokens(n);return i===-1&&(i=16384),tae(i,t)}o(zDe,"getExpRequestTokens");function tae(e,t){return t.capabilities.limits?.max_prompt_tokens?Math.min(e,t.capabilities.limits.max_prompt_tokens):e}o(tae,"getRequestTokens");function eW(e,t){return t.capabilities.limits?.max_output_tokens?Math.min(e,t.capabilities.limits.max_output_tokens):e}o(eW,"getResponseTokens");function b8t(e,t){return e.filter(r=>r.capabilities.type!==t.type||r.capabilities.family!==t.family?!1:r.capabilities.supports===void 0||t.supports===void 0?!0:Object.keys(t.supports).every(n=>t.supports?.[n]===r.capabilities.supports?.[n]))}o(b8t,"filterModelsByCapabilities");var vh=class{static{o(this,"ModelPickerUtils")}static async getModelConfiguration(t,r,n){return t.get(ui).getBestChatModelConfig(n?[n]:ms(r))}static transformMessages(t,r){return r===mi.O1Ga||r===mi.O1Mini?t.map(n=>n.role!=="user"?{role:"user",content:n.content}:n):t}};var _A=class{constructor(t,r){this.chatFetcher=r;this.ctx=t,this.chatFetcher=this.chatFetcher??new ka(t)}static{o(this,"CopilotEditsService")}async createOrContinueEditConversation(t,r){try{await this.reportBegin(t);let n=await this.getEditCodeResult(t,r),i=Kq.processResult(t,n);await this.parseAndSendProgressBack(t,i,r),t.currentTurn.response={message:i,type:"model"},t.currentTurn.status="success",await this.reportEnd(t)}catch(n){if(n instanceof lC)await this.reportEnd(t,{message:Gy});else if(n instanceof C0)await this.reportEnd(t,n.editConversationError);else{let i=n instanceof Error?n.message:String(n);t.currentTurn.status="error",t.currentTurn.response={message:i,type:"meta"},await this.reportEnd(t,{message:i})}}return[]}async getEditCodeResult(t,r){await this.abortIfCancelled(t,r);let n=await this.buildEditCodePromptMessages(t),i=await this.ctx.get(xr).updateExPValuesAndAssignments();await this.abortIfCancelled(t,r);let s=await vh.getModelConfiguration(this.ctx,"edits",t.userSelectedModel),a=vh.transformMessages(n,s.modelFamily);return await this.abortIfCancelled(t,r),await this.chatFetcher.fetchResponse({modelConfiguration:s,messages:a,uiKind:"editsPanel",intentParams:{intent:!0},temperature:.1,llmInteraction:t.toLlmInteraction()},r,i)}async buildEditCodePromptMessages(t){let r=t.currentTurn,n=await vh.getModelConfiguration(this.ctx,"edits",t.userSelectedModel),i=t.editConversation.getTurns(),s=i.length>1?i.slice(0,-1):[];return await new Jq({userMessage:r.request.message,workspaceFolder:r.workspaceFolder,workingSet:r.workingSet,userLanguage:t.editConversation.getUserLanguage(),textDocumentProvider:new yg(this.ctx),modelName:n.uiName,history:s}).render()}async abortIfCancelled(t,r){if(r.isCancellationRequested)throw t.currentTurn.status="cancelled",t.currentTurn.response={message:Gy,type:"user"},new lC;this.ctx.get(Ja).get(t.editConversationId)}async parseAndSendProgressBack(t,r,n){try{let i=HDe(r),s=new P6(this.ctx),a=o(async u=>wA.pathToUri(t,u),"createUri"),l=[],c=$De(r);c&&await this.ctx.get(cc).reportTurn(t,{fileGenerationStatus:"overall-description-generated",editDescription:c}),await this.abortIfCancelled(t,n);for await(let u of VDe(i,a))l.push(s.mapCode(u,n,async f=>{await this.ctx.get(cc).reportTurn(t,f)}));await Promise.all(l),l.length===0&&await this.reportNoCodeBlocks(t,r)}catch(i){if(i instanceof cC||i instanceof OI)t.currentTurn.status="error",t.currentTurn.response={message:i.message,type:"meta"},await this.reportEnd(t,{message:i.message});else if(i instanceof lC)t.currentTurn.status="cancelled",t.currentTurn.response={message:Gy,type:"user"},await this.reportEnd(t,{message:Gy});else throw i}}async reportNoCodeBlocks(t,r){await this.ctx.get(cc).reportTurn(t,{fileGenerationStatus:"no-code-blocks-found",rawResponse:r})}async reportBegin(t){await this.ctx.get(cc).reportTurn(t,{fileGenerationStatus:"edit-conversation-begin"})}async reportEnd(t,r){await this.ctx.get(cc).reportTurn(t,{fileGenerationStatus:"edit-conversation-end",error:r})}};d();var KDe="github.com",YDe=`https://${KDe}`,N6=class extends On{constructor(r,n=YDe,i=process.env){super();this.env=i;this.validateBaseUrl(r,n)&&this.recalculateUrlDefaults(n),Ca(r,s=>this.onCopilotToken(r,s))}static{o(this,"DefaultNetworkConfiguration")}onCopilotToken(r,n){this.updateServiceEndpoints(r,n.envelope.endpoints)}getLastKnownEndpointUrl(r,n){return this.join((this.lastEndpoints??HF)[r],n)}isGitHubEnterprise(){return this.isEnterprise}getAuthAuthority(){return this.baseUrlObject.host}getAPIUrl(r){return this.join(this.apiUrl,r)}getTokenUrl(r){return r.devOverride?.copilotTokenUrl??this.tokenUrl}getNotificationUrl(r){return r.devOverride?.notificationUrl??this.notificationUrl}getContentRestrictionsUrl(r){return r.devOverride?.contentRestrictionsUrl??this.contentRestrictionsUrl}getBlackbirdIndexingStatusUrl(){return this.blackbirdIndexingStatusUrl}getLoginReachabilityUrl(){return this.loginReachabilityUrl}getDeviceFlowStartUrl(){return this.deviceFlowStartUrl}getDeviceFlowCompletionUrl(){return this.deviceFlowCompletionUrl}getSignUpLimitedUrl(){return this.signUpLimitedUrl}getUserInfoUrl(){return this.userInfoUrl}getTelemetryUrl(r){return this.join(this.telemetryUrl,r)}setTelemetryUrlForTesting(r){this.telemetryUrl=r}getExperimentationUrl(r){return this.join(this.experimentationUrl,r)}validateBaseUrl(r,n){return this.isPermittedUrl(r,n)?!0:(r.get(va).showWarningMessage(`Ignoring invalid or unsupported authentication URL "${n}".`),!1)}updateBaseUrl(r,n){n||=YDe;let i=this.baseUrlObject;this.validateBaseUrl(r,n)&&this.withTelemetryReInitialization(r,()=>{this.recalculateUrlDefaults(n),i.href!==this.baseUrlObject.href&&r.get($r).resetToken()})}updateBaseUrlFromTokenEndpoint(r,n){try{let i=new URL(n);i.hostname.startsWith("api.")?this.updateBaseUrl(r,`https://${i.hostname.substring(4)}`):this.updateBaseUrl(r)}catch{this.updateBaseUrl(r)}}updateServiceEndpoints(r,n){this.lastEndpoints=n,n&&this.isPermittedUrl(r,n.telemetry)&&this.withTelemetryReInitialization(r,()=>{this.telemetryUrl=this.join(n.telemetry,"telemetry"),this.experimentationUrl=this.join(n.telemetry,"telemetry")})}withTelemetryReInitialization(r,n){let i=this.telemetryUrl;if(n(),i===this.telemetryUrl)return;let s=r.get(zu);s.isInitialized&&s.reInitialize(r)}recalculateUrlDefaults(r){let n=this.parseUrls(r);this.baseUrlObject=n.base;let i=n.api;this.isEnterprise=this.baseUrlObject.host!==KDe,this.apiUrl=i.href,this.tokenUrl=this.join(i.href,"/copilot_internal/v2/token"),this.notificationUrl=this.join(i.href,"/copilot_internal/notification"),this.contentRestrictionsUrl=this.join(i.href,"/copilot_internal/content_exclusion"),this.blackbirdIndexingStatusUrl=this.join(i.href,"/copilot_internal/check_indexing_status"),this.loginReachabilityUrl=this.join(this.baseUrlObject.href,"/login/device"),this.deviceFlowStartUrl=this.join(this.baseUrlObject.href,"/login/device/code"),this.deviceFlowCompletionUrl=this.join(this.baseUrlObject.href,"/login/oauth/access_token"),this.userInfoUrl=this.join(i.href,"/user"),this.signUpLimitedUrl=this.join(i.href,"/copilot_internal/subscribe_limited_user"),this.telemetryUrl=this.join(this.isEnterprise?this.prefixWith("copilot-telemetry-service.",this.baseUrlObject).href:HF.telemetry,"/telemetry"),this.experimentationUrl=this.telemetryUrl}parseUrls(r){if(this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL&&!this.env.GITHUB_COPILOT_TOKEN&&!this.env.GH_COPILOT_TOKEN)try{return{base:new URL(this.env.GITHUB_SERVER_URL),api:new URL(this.env.GITHUB_API_URL)}}catch{}let n=new URL(r),i=this.prefixWith("api.",n);return{base:n,api:i}}isPermittedUrl(r,n){return this.isValidUrl(n)&&this.hasSupportedProtocol(r,n)}isValidUrl(r){try{if(r)return new URL(r),!0}catch{}return!1}hasSupportedProtocol(r,n){let i=new URL(n).protocol;return i==="https:"||!jF(r)&&i==="http:"}join(r,n){return n?new URL(n,r).href:r}prefixWith(r,n){return new URL(`${n.protocol}//${r}${n.host}`)}};d();var DZr=new Yt("exp");function JDe(e){let t=e.get(xr);t.registerStaticFilters(T8t(e)),t.registerDynamicFilter("X-Copilot-OverrideEngine",()=>jn(e,Rt.DebugOverrideEngine)||jn(e,Rt.DebugOverrideEngineLegacy)),t.registerDynamicFilter("X-VSCode-ExtensionName",()=>e.get(dn).getEditorPluginInfo().name),t.registerDynamicFilter("X-VSCode-ExtensionVersion",()=>rae(!e.get(Eo).isProduction()&&e.get(dn).getEditorPluginInfo().name==="copilot"?"1.999.0":e.get(dn).getEditorPluginInfo().version)),t.registerDynamicFilter("X-VSCode-ExtensionRelease",()=>E8t(e)),t.registerDynamicFilter("X-VSCode-Build",()=>e.get(dn).getEditorInfo().name),t.registerDynamicFilter("X-VSCode-AppVersion",()=>rae(e.get(dn).getEditorInfo().version)),t.registerDynamicFilter("X-VSCode-TargetPopulation",()=>I8t(e)),t.registerDynamicFilterGroup(()=>{let r={};for(let n of e.get(dn).getRelatedPluginInfo()){let i=Jf+n.name.replace(/[^A-Za-z]/g,"").toLowerCase();if(!Object.values(PT).includes(i)){qF(e,{reason:`A filter could not be registered for the unrecognized related plugin "${n.name}".`});continue}r[i]=rae(n.version)}return r})}o(JDe,"setupExperimentationService");function E8t(e){let t=e.get(dn).getEditorPluginInfo();return t.name==="copilot"&&ud(e)==="nightly"||t.name==="copilot-intellij"&&t.version.endsWith("nightly")?"nightly":"stable"}o(E8t,"getPluginRelease");function I8t(e){let t=e.get(dn).getEditorInfo();return t.name==="vscode"&&t.version.endsWith("-insider")?"insider":"public"}o(I8t,"getTargetPopulation");function T8t(e){return w8t(e)}o(T8t,"createAllFilters");function w8t(e){let t=e.get(ws);return{"X-MSEdge-ClientId":t.machineId,"X-Copilot-ClientVersion":d4(e)}}o(w8t,"createDefaultFilters");function rae(e){return e.split("-")[0]}o(rae,"trimVersionSuffix");d();d();d();var Cg=new Yt("CopilotMCP");d();d();d();d();var eo;(function(e){e.assertEqual=i=>i;function t(i){}o(t,"assertIs"),e.assertIs=t;function r(i){throw new Error}o(r,"assertNever"),e.assertNever=r,e.arrayToEnum=i=>{let s={};for(let a of i)s[a]=a;return s},e.getValidEnumValues=i=>{let s=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),a={};for(let l of s)a[l]=i[l];return e.objectValues(a)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let s=[];for(let a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},e.find=(i,s)=>{for(let a of i)if(s(a))return a},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}o(n,"joinValues"),e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(eo||(eo={}));var iae;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(iae||(iae={}));var kr=eo.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),kA=o(e=>{switch(typeof e){case"undefined":return kr.undefined;case"string":return kr.string;case"number":return isNaN(e)?kr.nan:kr.number;case"boolean":return kr.boolean;case"function":return kr.function;case"bigint":return kr.bigint;case"symbol":return kr.symbol;case"object":return Array.isArray(e)?kr.array:e===null?kr.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?kr.promise:typeof Map<"u"&&e instanceof Map?kr.map:typeof Set<"u"&&e instanceof Set?kr.set:typeof Date<"u"&&e instanceof Date?kr.date:kr.object;default:return kr.unknown}},"getParsedType"),Gt=eo.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),_8t=o(e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),"quotelessJson"),If=class e extends Error{static{o(this,"ZodError")}get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(s){return s.message},n={_errors:[]},i=o(s=>{for(let a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,c=0;for(;c<a.path.length;){let u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}},"processError");return i(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,eo.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};If.create=e=>new If(e);var M6=o((e,t)=>{let r;switch(e.code){case Gt.invalid_type:e.received===kr.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Gt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,eo.jsonStringifyReplacer)}`;break;case Gt.unrecognized_keys:r=`Unrecognized key(s) in object: ${eo.joinValues(e.keys,", ")}`;break;case Gt.invalid_union:r="Invalid input";break;case Gt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${eo.joinValues(e.options)}`;break;case Gt.invalid_enum_value:r=`Invalid enum value. Expected ${eo.joinValues(e.options)}, received '${e.received}'`;break;case Gt.invalid_arguments:r="Invalid function arguments";break;case Gt.invalid_return_type:r="Invalid function return type";break;case Gt.invalid_date:r="Invalid date";break;case Gt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:eo.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Gt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Gt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Gt.custom:r="Invalid input";break;case Gt.invalid_intersection_types:r="Intersection results could not be merged";break;case Gt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Gt.not_finite:r="Number must be finite";break;default:r=t.defaultError,eo.assertNever(e)}return{message:r}},"errorMap"),tPe=M6;function S8t(e){tPe=e}o(S8t,"setErrorMap");function rW(){return tPe}o(rW,"getErrorMap");var nW=o(e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="",c=n.filter(u=>!!u).slice().reverse();for(let u of c)l=u(a,{data:t,defaultError:l}).message;return{...i,path:s,message:l}},"makeIssue"),k8t=[];function Cr(e,t){let r=rW(),n=nW({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===M6?void 0:M6].filter(i=>!!i)});e.common.issues.push(n)}o(Cr,"addIssueToContext");var Uc=class e{static{o(this,"ParseStatus")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let i of r){if(i.status==="aborted")return Fn;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let i of r){let s=await i.key,a=await i.value;n.push({key:s,value:a})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let i of r){let{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return Fn;s.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[s.value]=a.value)}return{status:t.value,value:n}}},Fn=Object.freeze({status:"aborted"}),Q6=o(e=>({status:"dirty",value:e}),"DIRTY"),x0=o(e=>({status:"valid",value:e}),"OK"),oae=o(e=>e.status==="aborted","isAborted"),sae=o(e=>e.status==="dirty","isDirty"),jx=o(e=>e.status==="valid","isValid"),ik=o(e=>typeof Promise<"u"&&e instanceof Promise,"isAsync");function iW(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}o(iW,"__classPrivateFieldGet");function rPe(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}o(rPe,"__classPrivateFieldSet");var Gr;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Gr||(Gr={}));var rk,nk,Kd=class{static{o(this,"ParseInputLazyPath")}constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},ZDe=o((e,t)=>{if(jx(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new If(e.common.issues);return this._error=r,this._error}}},"handleResult");function Jn(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:o((a,l)=>{var c,u;let{message:f}=e;return a.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??n)!==null&&c!==void 0?c:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(u=f??r)!==null&&u!==void 0?u:l.defaultError}},"customMap"),description:i}}o(Jn,"processCreateParams");var Zn=class{static{o(this,"ZodType")}get description(){return this._def.description}_getType(t){return kA(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:kA(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Uc,ctx:{common:t.parent.common,data:t.data,parsedType:kA(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(ik(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;let i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:kA(t)},s=this._parseSync({data:t,path:i.path,parent:i});return ZDe(i,s)}"~validate"(t){var r,n;let i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:kA(t)};if(!this["~standard"].async)try{let s=this._parseSync({data:t,path:[],parent:i});return jx(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((n=(r=s?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(s=>jx(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:kA(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(ik(i)?i:Promise.resolve(i));return ZDe(n,s)}refine(t,r){let n=o(i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r,"getIssueProperties");return this._refinement((i,s)=>{let a=t(i),l=o(()=>s.addIssue({code:Gt.custom,...n(i)}),"setError");return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Tf({schema:this,typeName:_n.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:o(r=>this["~validate"](r),"validate")}}optional(){return Yd.create(this,this._def)}nullable(){return vg.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return BA.create(this)}promise(){return mC.create(this,this._def)}or(t){return Zx.create([this,t],this._def)}and(t){return Xx.create(this,t,this._def)}transform(t){return new Tf({...Jn(this._def),schema:this,typeName:_n.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new iv({...Jn(this._def),innerType:this,defaultValue:r,typeName:_n.ZodDefault})}brand(){return new ok({typeName:_n.ZodBranded,type:this,...Jn(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new ov({...Jn(this._def),innerType:this,catchValue:r,typeName:_n.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return sk.create(this,t)}readonly(){return sv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},R8t=/^c[^\s-]{8,}$/i,B8t=/^[0-9a-z]+$/,D8t=/^[0-9A-HJKMNP-TV-Z]{26}$/i,P8t=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,F8t=/^[a-z0-9_-]{21}$/i,N8t=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,L8t=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Q8t=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,M8t="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",nae,O8t=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,U8t=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,q8t=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,W8t=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,G8t=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,H8t=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nPe="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",j8t=new RegExp(`^${nPe}$`);function iPe(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}o(iPe,"timeRegexSource");function V8t(e){return new RegExp(`^${iPe(e)}$`)}o(V8t,"timeRegex");function oPe(e){let t=`${nPe}T${iPe(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}o(oPe,"datetimeRegex");function $8t(e,t){return!!((t==="v4"||!t)&&O8t.test(e)||(t==="v6"||!t)&&q8t.test(e))}o($8t,"isValidIP");function z8t(e,t){if(!N8t.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}o(z8t,"isValidJWT");function Y8t(e,t){return!!((t==="v4"||!t)&&U8t.test(e)||(t==="v6"||!t)&&W8t.test(e))}o(Y8t,"isValidCidr");var fC=class e extends Zn{static{o(this,"ZodString")}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==kr.string){let s=this._getOrReturnCtx(t);return Cr(s,{code:Gt.invalid_type,expected:kr.string,received:s.parsedType}),Fn}let n=new Uc,i;for(let s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),Cr(i,{code:Gt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),Cr(i,{code:Gt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let a=t.data.length>s.value,l=t.data.length<s.value;(a||l)&&(i=this._getOrReturnCtx(t,i),a?Cr(i,{code:Gt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Cr(i,{code:Gt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")Q8t.test(t.data)||(i=this._getOrReturnCtx(t,i),Cr(i,{validation:"email",code:Gt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")nae||(nae=new RegExp(M8t,"u")),nae.test(t.data)||(i=this._getOrReturnCtx(t,i),Cr(i,{validation:"emoji",code:Gt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")P8t.test(t.data)||(i=this._getOrReturnCtx(t,i),Cr(i,{validation:"uuid",code:Gt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")F8t.test(t.data)||(i=this._getOrReturnCtx(t,i),Cr(i,{validation:"nanoid",code:Gt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")R8t.test(t.data)||(i=this._getOrReturnCtx(t,i),Cr(i,{validation:"cuid",code:Gt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")B8t.test(t.data)||(i=this._getOrReturnCtx(t,i),Cr(i,{validation:"cuid2",code:Gt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")D8t.test(t.data)||(i=this._getOrReturnCtx(t,i),Cr(i,{validation:"ulid",code:Gt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Cr(i,{validation:"url",code:Gt.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Cr(i,{validation:"regex",code:Gt.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),Cr(i,{code:Gt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),Cr(i,{code:Gt.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),Cr(i,{code:Gt.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?oPe(s).test(t.data)||(i=this._getOrReturnCtx(t,i),Cr(i,{code:Gt.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?j8t.test(t.data)||(i=this._getOrReturnCtx(t,i),Cr(i,{code:Gt.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?V8t(s).test(t.data)||(i=this._getOrReturnCtx(t,i),Cr(i,{code:Gt.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?L8t.test(t.data)||(i=this._getOrReturnCtx(t,i),Cr(i,{validation:"duration",code:Gt.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?$8t(t.data,s.version)||(i=this._getOrReturnCtx(t,i),Cr(i,{validation:"ip",code:Gt.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?z8t(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),Cr(i,{validation:"jwt",code:Gt.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?Y8t(t.data,s.version)||(i=this._getOrReturnCtx(t,i),Cr(i,{validation:"cidr",code:Gt.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?G8t.test(t.data)||(i=this._getOrReturnCtx(t,i),Cr(i,{validation:"base64",code:Gt.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?H8t.test(t.data)||(i=this._getOrReturnCtx(t,i),Cr(i,{validation:"base64url",code:Gt.invalid_string,message:s.message}),n.dirty()):eo.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:Gt.invalid_string,...Gr.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Gr.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Gr.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Gr.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Gr.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Gr.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Gr.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Gr.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Gr.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Gr.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Gr.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Gr.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Gr.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Gr.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(r=t?.offset)!==null&&r!==void 0?r:!1,local:(n=t?.local)!==null&&n!==void 0?n:!1,...Gr.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Gr.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Gr.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Gr.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Gr.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Gr.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Gr.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Gr.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Gr.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Gr.errToObj(r)})}nonempty(t){return this.min(1,Gr.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};fC.create=e=>{var t;return new fC({checks:[],typeName:_n.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Jn(e)})};function K8t(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(e.toFixed(i).replace(".","")),a=parseInt(t.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}o(K8t,"floatSafeRemainder");var Vx=class e extends Zn{static{o(this,"ZodNumber")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==kr.number){let s=this._getOrReturnCtx(t);return Cr(s,{code:Gt.invalid_type,expected:kr.number,received:s.parsedType}),Fn}let n,i=new Uc;for(let s of this._def.checks)s.kind==="int"?eo.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Cr(n,{code:Gt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),Cr(n,{code:Gt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),Cr(n,{code:Gt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?K8t(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),Cr(n,{code:Gt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Cr(n,{code:Gt.not_finite,message:s.message}),i.dirty()):eo.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Gr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Gr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Gr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Gr.toString(r))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Gr.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Gr.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Gr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Gr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Gr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Gr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Gr.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Gr.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Gr.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Gr.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&eo.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};Vx.create=e=>new Vx({checks:[],typeName:_n.ZodNumber,coerce:e?.coerce||!1,...Jn(e)});var $x=class e extends Zn{static{o(this,"ZodBigInt")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==kr.bigint)return this._getInvalidInput(t);let n,i=new Uc;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),Cr(n,{code:Gt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),Cr(n,{code:Gt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Cr(n,{code:Gt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):eo.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return Cr(r,{code:Gt.invalid_type,expected:kr.bigint,received:r.parsedType}),Fn}gte(t,r){return this.setLimit("min",t,!0,Gr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Gr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Gr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Gr.toString(r))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Gr.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Gr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Gr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Gr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Gr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Gr.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};$x.create=e=>{var t;return new $x({checks:[],typeName:_n.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Jn(e)})};var zx=class extends Zn{static{o(this,"ZodBoolean")}_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==kr.boolean){let n=this._getOrReturnCtx(t);return Cr(n,{code:Gt.invalid_type,expected:kr.boolean,received:n.parsedType}),Fn}return x0(t.data)}};zx.create=e=>new zx({typeName:_n.ZodBoolean,coerce:e?.coerce||!1,...Jn(e)});var Yx=class e extends Zn{static{o(this,"ZodDate")}_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==kr.date){let s=this._getOrReturnCtx(t);return Cr(s,{code:Gt.invalid_type,expected:kr.date,received:s.parsedType}),Fn}if(isNaN(t.data.getTime())){let s=this._getOrReturnCtx(t);return Cr(s,{code:Gt.invalid_date}),Fn}let n=new Uc,i;for(let s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),Cr(i,{code:Gt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),Cr(i,{code:Gt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):eo.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Gr.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Gr.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};Yx.create=e=>new Yx({checks:[],coerce:e?.coerce||!1,typeName:_n.ZodDate,...Jn(e)});var O6=class extends Zn{static{o(this,"ZodSymbol")}_parse(t){if(this._getType(t)!==kr.symbol){let n=this._getOrReturnCtx(t);return Cr(n,{code:Gt.invalid_type,expected:kr.symbol,received:n.parsedType}),Fn}return x0(t.data)}};O6.create=e=>new O6({typeName:_n.ZodSymbol,...Jn(e)});var Kx=class extends Zn{static{o(this,"ZodUndefined")}_parse(t){if(this._getType(t)!==kr.undefined){let n=this._getOrReturnCtx(t);return Cr(n,{code:Gt.invalid_type,expected:kr.undefined,received:n.parsedType}),Fn}return x0(t.data)}};Kx.create=e=>new Kx({typeName:_n.ZodUndefined,...Jn(e)});var Jx=class extends Zn{static{o(this,"ZodNull")}_parse(t){if(this._getType(t)!==kr.null){let n=this._getOrReturnCtx(t);return Cr(n,{code:Gt.invalid_type,expected:kr.null,received:n.parsedType}),Fn}return x0(t.data)}};Jx.create=e=>new Jx({typeName:_n.ZodNull,...Jn(e)});var dC=class extends Zn{static{o(this,"ZodAny")}constructor(){super(...arguments),this._any=!0}_parse(t){return x0(t.data)}};dC.create=e=>new dC({typeName:_n.ZodAny,...Jn(e)});var RA=class extends Zn{static{o(this,"ZodUnknown")}constructor(){super(...arguments),this._unknown=!0}_parse(t){return x0(t.data)}};RA.create=e=>new RA({typeName:_n.ZodUnknown,...Jn(e)});var bh=class extends Zn{static{o(this,"ZodNever")}_parse(t){let r=this._getOrReturnCtx(t);return Cr(r,{code:Gt.invalid_type,expected:kr.never,received:r.parsedType}),Fn}};bh.create=e=>new bh({typeName:_n.ZodNever,...Jn(e)});var U6=class extends Zn{static{o(this,"ZodVoid")}_parse(t){if(this._getType(t)!==kr.undefined){let n=this._getOrReturnCtx(t);return Cr(n,{code:Gt.invalid_type,expected:kr.void,received:n.parsedType}),Fn}return x0(t.data)}};U6.create=e=>new U6({typeName:_n.ZodVoid,...Jn(e)});var BA=class e extends Zn{static{o(this,"ZodArray")}_parse(t){let{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==kr.array)return Cr(r,{code:Gt.invalid_type,expected:kr.array,received:r.parsedType}),Fn;if(i.exactLength!==null){let a=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(a||l)&&(Cr(r,{code:a?Gt.too_big:Gt.too_small,minimum:l?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Cr(r,{code:Gt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Cr(r,{code:Gt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>i.type._parseAsync(new Kd(r,a,r.path,l)))).then(a=>Uc.mergeArray(n,a));let s=[...r.data].map((a,l)=>i.type._parseSync(new Kd(r,a,r.path,l)));return Uc.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:Gr.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:Gr.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:Gr.toString(r)}})}nonempty(t){return this.min(1,t)}};BA.create=(e,t)=>new BA({type:e,minLength:null,maxLength:null,exactLength:null,typeName:_n.ZodArray,...Jn(t)});function L6(e){if(e instanceof gu){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=Yd.create(L6(n))}return new gu({...e._def,shape:o(()=>t,"shape")})}else return e instanceof BA?new BA({...e._def,type:L6(e.element)}):e instanceof Yd?Yd.create(L6(e.unwrap())):e instanceof vg?vg.create(L6(e.unwrap())):e instanceof xg?xg.create(e.items.map(t=>L6(t))):e}o(L6,"deepPartialify");var gu=class e extends Zn{static{o(this,"ZodObject")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=eo.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==kr.object){let u=this._getOrReturnCtx(t);return Cr(u,{code:Gt.invalid_type,expected:kr.object,received:u.parsedType}),Fn}let{status:n,ctx:i}=this._processInputParams(t),{shape:s,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof bh&&this._def.unknownKeys==="strip"))for(let u in i.data)a.includes(u)||l.push(u);let c=[];for(let u of a){let f=s[u],m=i.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new Kd(i,m,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof bh){let u=this._def.unknownKeys;if(u==="passthrough")for(let f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(u==="strict")l.length>0&&(Cr(i,{code:Gt.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let f of l){let m=i.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new Kd(i,m,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let u=[];for(let f of c){let m=await f.key,h=await f.value;u.push({key:m,value:h,alwaysSet:f.alwaysSet})}return u}).then(u=>Uc.mergeObjectSync(n,u)):Uc.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Gr.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:o((r,n)=>{var i,s,a,l;let c=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=Gr.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}},"errorMap")}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:o(()=>({...this._def.shape(),...t}),"shape")})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:o(()=>({...this._def.shape(),...t._def.shape()}),"shape"),typeName:_n.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};return eo.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new e({...this._def,shape:o(()=>r,"shape")})}omit(t){let r={};return eo.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new e({...this._def,shape:o(()=>r,"shape")})}deepPartial(){return L6(this)}partial(t){let r={};return eo.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new e({...this._def,shape:o(()=>r,"shape")})}required(t){let r={};return eo.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Yd;)s=s._def.innerType;r[n]=s}}),new e({...this._def,shape:o(()=>r,"shape")})}keyof(){return sPe(eo.objectKeys(this.shape))}};gu.create=(e,t)=>new gu({shape:o(()=>e,"shape"),unknownKeys:"strip",catchall:bh.create(),typeName:_n.ZodObject,...Jn(t)});gu.strictCreate=(e,t)=>new gu({shape:o(()=>e,"shape"),unknownKeys:"strict",catchall:bh.create(),typeName:_n.ZodObject,...Jn(t)});gu.lazycreate=(e,t)=>new gu({shape:e,unknownKeys:"strip",catchall:bh.create(),typeName:_n.ZodObject,...Jn(t)});var Zx=class extends Zn{static{o(this,"ZodUnion")}_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(let l of s)if(l.result.status==="valid")return l.result;for(let l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;let a=s.map(l=>new If(l.ctx.common.issues));return Cr(r,{code:Gt.invalid_union,unionErrors:a}),Fn}if(o(i,"handleResults"),r.common.async)return Promise.all(n.map(async s=>{let a={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let s,a=[];for(let c of n){let u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let l=a.map(c=>new If(c));return Cr(r,{code:Gt.invalid_union,unionErrors:l}),Fn}}get options(){return this._def.options}};Zx.create=(e,t)=>new Zx({options:e,typeName:_n.ZodUnion,...Jn(t)});var SA=o(e=>e instanceof ev?SA(e.schema):e instanceof Tf?SA(e.innerType()):e instanceof tv?[e.value]:e instanceof rv?e.options:e instanceof nv?eo.objectValues(e.enum):e instanceof iv?SA(e._def.innerType):e instanceof Kx?[void 0]:e instanceof Jx?[null]:e instanceof Yd?[void 0,...SA(e.unwrap())]:e instanceof vg?[null,...SA(e.unwrap())]:e instanceof ok||e instanceof sv?SA(e.unwrap()):e instanceof ov?SA(e._def.innerType):[],"getDiscriminator"),oW=class e extends Zn{static{o(this,"ZodDiscriminatedUnion")}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==kr.object)return Cr(r,{code:Gt.invalid_type,expected:kr.object,received:r.parsedType}),Fn;let n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Cr(r,{code:Gt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Fn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let i=new Map;for(let s of r){let a=SA(s.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let l of a){if(i.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);i.set(l,s)}}return new e({typeName:_n.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...Jn(n)})}};function aae(e,t){let r=kA(e),n=kA(t);if(e===t)return{valid:!0,data:e};if(r===kr.object&&n===kr.object){let i=eo.objectKeys(t),s=eo.objectKeys(e).filter(l=>i.indexOf(l)!==-1),a={...e,...t};for(let l of s){let c=aae(e[l],t[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(r===kr.array&&n===kr.array){if(e.length!==t.length)return{valid:!1};let i=[];for(let s=0;s<e.length;s++){let a=e[s],l=t[s],c=aae(a,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===kr.date&&n===kr.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}o(aae,"mergeValues");var Xx=class extends Zn{static{o(this,"ZodIntersection")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=o((s,a)=>{if(oae(s)||oae(a))return Fn;let l=aae(s.value,a.value);return l.valid?((sae(s)||sae(a))&&r.dirty(),{status:r.value,value:l.data}):(Cr(n,{code:Gt.invalid_intersection_types}),Fn)},"handleParsed");return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Xx.create=(e,t,r)=>new Xx({left:e,right:t,typeName:_n.ZodIntersection,...Jn(r)});var xg=class e extends Zn{static{o(this,"ZodTuple")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==kr.array)return Cr(n,{code:Gt.invalid_type,expected:kr.array,received:n.parsedType}),Fn;if(n.data.length<this._def.items.length)return Cr(n,{code:Gt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Fn;!this._def.rest&&n.data.length>this._def.items.length&&(Cr(n,{code:Gt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...n.data].map((a,l)=>{let c=this._def.items[l]||this._def.rest;return c?c._parse(new Kd(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>Uc.mergeArray(r,a)):Uc.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};xg.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xg({items:e,typeName:_n.ZodTuple,rest:null,...Jn(t)})};var sW=class e extends Zn{static{o(this,"ZodRecord")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==kr.object)return Cr(n,{code:Gt.invalid_type,expected:kr.object,received:n.parsedType}),Fn;let i=[],s=this._def.keyType,a=this._def.valueType;for(let l in n.data)i.push({key:s._parse(new Kd(n,l,n.path,l)),value:a._parse(new Kd(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Uc.mergeObjectAsync(r,i):Uc.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Zn?new e({keyType:t,valueType:r,typeName:_n.ZodRecord,...Jn(n)}):new e({keyType:fC.create(),valueType:t,typeName:_n.ZodRecord,...Jn(r)})}},q6=class extends Zn{static{o(this,"ZodMap")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==kr.map)return Cr(n,{code:Gt.invalid_type,expected:kr.map,received:n.parsedType}),Fn;let i=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([l,c],u)=>({key:i._parse(new Kd(n,l,n.path,[u,"key"])),value:s._parse(new Kd(n,c,n.path,[u,"value"]))}));if(n.common.async){let l=new Map;return Promise.resolve().then(async()=>{for(let c of a){let u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return Fn;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}})}else{let l=new Map;for(let c of a){let u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return Fn;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}}}};q6.create=(e,t,r)=>new q6({valueType:t,keyType:e,typeName:_n.ZodMap,...Jn(r)});var W6=class e extends Zn{static{o(this,"ZodSet")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==kr.set)return Cr(n,{code:Gt.invalid_type,expected:kr.set,received:n.parsedType}),Fn;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Cr(n,{code:Gt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Cr(n,{code:Gt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let s=this._def.valueType;function a(c){let u=new Set;for(let f of c){if(f.status==="aborted")return Fn;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}o(a,"finalizeSet");let l=[...n.data.values()].map((c,u)=>s._parse(new Kd(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(t,r){return new e({...this._def,minSize:{value:t,message:Gr.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:Gr.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};W6.create=(e,t)=>new W6({valueType:e,minSize:null,maxSize:null,typeName:_n.ZodSet,...Jn(t)});var aW=class e extends Zn{static{o(this,"ZodFunction")}constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==kr.function)return Cr(r,{code:Gt.invalid_type,expected:kr.function,received:r.parsedType}),Fn;function n(l,c){return nW({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,rW(),M6].filter(u=>!!u),issueData:{code:Gt.invalid_arguments,argumentsError:c}})}o(n,"makeArgsIssue");function i(l,c){return nW({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,rW(),M6].filter(u=>!!u),issueData:{code:Gt.invalid_return_type,returnTypeError:c}})}o(i,"makeReturnsIssue");let s={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof mC){let l=this;return x0(async function(...c){let u=new If([]),f=await l._def.args.parseAsync(c,s).catch(p=>{throw u.addIssue(n(c,p)),u}),m=await Reflect.apply(a,this,f);return await l._def.returns._def.type.parseAsync(m,s).catch(p=>{throw u.addIssue(i(m,p)),u})})}else{let l=this;return x0(function(...c){let u=l._def.args.safeParse(c,s);if(!u.success)throw new If([n(c,u.error)]);let f=Reflect.apply(a,this,u.data),m=l._def.returns.safeParse(f,s);if(!m.success)throw new If([i(f,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:xg.create(t).rest(RA.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||xg.create([]).rest(RA.create()),returns:r||RA.create(),typeName:_n.ZodFunction,...Jn(n)})}},ev=class extends Zn{static{o(this,"ZodLazy")}get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};ev.create=(e,t)=>new ev({getter:e,typeName:_n.ZodLazy,...Jn(t)});var tv=class extends Zn{static{o(this,"ZodLiteral")}_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return Cr(r,{received:r.data,code:Gt.invalid_literal,expected:this._def.value}),Fn}return{status:"valid",value:t.data}}get value(){return this._def.value}};tv.create=(e,t)=>new tv({value:e,typeName:_n.ZodLiteral,...Jn(t)});function sPe(e,t){return new rv({values:e,typeName:_n.ZodEnum,...Jn(t)})}o(sPe,"createZodEnum");var rv=class e extends Zn{static{o(this,"ZodEnum")}constructor(){super(...arguments),rk.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return Cr(r,{expected:eo.joinValues(n),received:r.parsedType,code:Gt.invalid_type}),Fn}if(iW(this,rk,"f")||rPe(this,rk,new Set(this._def.values),"f"),!iW(this,rk,"f").has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return Cr(r,{received:r.data,code:Gt.invalid_enum_value,options:n}),Fn}return x0(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};rk=new WeakMap;rv.create=sPe;var nv=class extends Zn{static{o(this,"ZodNativeEnum")}constructor(){super(...arguments),nk.set(this,void 0)}_parse(t){let r=eo.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==kr.string&&n.parsedType!==kr.number){let i=eo.objectValues(r);return Cr(n,{expected:eo.joinValues(i),received:n.parsedType,code:Gt.invalid_type}),Fn}if(iW(this,nk,"f")||rPe(this,nk,new Set(eo.getValidEnumValues(this._def.values)),"f"),!iW(this,nk,"f").has(t.data)){let i=eo.objectValues(r);return Cr(n,{received:n.data,code:Gt.invalid_enum_value,options:i}),Fn}return x0(t.data)}get enum(){return this._def.values}};nk=new WeakMap;nv.create=(e,t)=>new nv({values:e,typeName:_n.ZodNativeEnum,...Jn(t)});var mC=class extends Zn{static{o(this,"ZodPromise")}unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==kr.promise&&r.common.async===!1)return Cr(r,{code:Gt.invalid_type,expected:kr.promise,received:r.parsedType}),Fn;let n=r.parsedType===kr.promise?r.data:Promise.resolve(r.data);return x0(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};mC.create=(e,t)=>new mC({type:e,typeName:_n.ZodPromise,...Jn(t)});var Tf=class extends Zn{static{o(this,"ZodEffects")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_n.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o(a=>{Cr(n,a),a.fatal?r.abort():r.dirty()},"addIssue"),get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){let a=i.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return Fn;let c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Fn:c.status==="dirty"||r.value==="dirty"?Q6(c.value):c});{if(r.value==="aborted")return Fn;let l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?Fn:l.status==="dirty"||r.value==="dirty"?Q6(l.value):l}}if(i.type==="refinement"){let a=o(l=>{let c=i.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l},"executeRefinement");if(n.common.async===!1){let l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Fn:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Fn:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!jx(a))return a;let l=i.transform(a.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>jx(a)?Promise.resolve(i.transform(a.value,s)).then(l=>({status:r.value,value:l})):a);eo.assertNever(i)}};Tf.create=(e,t,r)=>new Tf({schema:e,typeName:_n.ZodEffects,effect:t,...Jn(r)});Tf.createWithPreprocess=(e,t,r)=>new Tf({schema:t,effect:{type:"preprocess",transform:e},typeName:_n.ZodEffects,...Jn(r)});var Yd=class extends Zn{static{o(this,"ZodOptional")}_parse(t){return this._getType(t)===kr.undefined?x0(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Yd.create=(e,t)=>new Yd({innerType:e,typeName:_n.ZodOptional,...Jn(t)});var vg=class extends Zn{static{o(this,"ZodNullable")}_parse(t){return this._getType(t)===kr.null?x0(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};vg.create=(e,t)=>new vg({innerType:e,typeName:_n.ZodNullable,...Jn(t)});var iv=class extends Zn{static{o(this,"ZodDefault")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===kr.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};iv.create=(e,t)=>new iv({innerType:e,typeName:_n.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Jn(t)});var ov=class extends Zn{static{o(this,"ZodCatch")}_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ik(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new If(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new If(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};ov.create=(e,t)=>new ov({innerType:e,typeName:_n.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Jn(t)});var G6=class extends Zn{static{o(this,"ZodNaN")}_parse(t){if(this._getType(t)!==kr.nan){let n=this._getOrReturnCtx(t);return Cr(n,{code:Gt.invalid_type,expected:kr.nan,received:n.parsedType}),Fn}return{status:"valid",value:t.data}}};G6.create=e=>new G6({typeName:_n.ZodNaN,...Jn(e)});var J8t=Symbol("zod_brand"),ok=class extends Zn{static{o(this,"ZodBranded")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},sk=class e extends Zn{static{o(this,"ZodPipeline")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return o(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Fn:s.status==="dirty"?(r.dirty(),Q6(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})},"handleAsync")();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Fn:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:_n.ZodPipeline})}},sv=class extends Zn{static{o(this,"ZodReadonly")}_parse(t){let r=this._def.innerType._parse(t),n=o(i=>(jx(i)&&(i.value=Object.freeze(i.value)),i),"freeze");return ik(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};sv.create=(e,t)=>new sv({innerType:e,typeName:_n.ZodReadonly,...Jn(t)});function XDe(e,t){let r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}o(XDe,"cleanParams");function aPe(e,t={},r){return e?dC.create().superRefine((n,i)=>{var s,a;let l=e(n);if(l instanceof Promise)return l.then(c=>{var u,f;if(!c){let m=XDe(t,n),h=(f=(u=m.fatal)!==null&&u!==void 0?u:r)!==null&&f!==void 0?f:!0;i.addIssue({code:"custom",...m,fatal:h})}});if(!l){let c=XDe(t,n),u=(a=(s=c.fatal)!==null&&s!==void 0?s:r)!==null&&a!==void 0?a:!0;i.addIssue({code:"custom",...c,fatal:u})}}):dC.create()}o(aPe,"custom");var Z8t={object:gu.lazycreate},_n;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(_n||(_n={}));var X8t=o((e,t={message:`Input not instance of ${e.name}`})=>aPe(r=>r instanceof e,t),"instanceOfType"),lPe=fC.create,cPe=Vx.create,e6t=G6.create,t6t=$x.create,uPe=zx.create,r6t=Yx.create,n6t=O6.create,i6t=Kx.create,o6t=Jx.create,s6t=dC.create,a6t=RA.create,l6t=bh.create,c6t=U6.create,u6t=BA.create,f6t=gu.create,d6t=gu.strictCreate,m6t=Zx.create,h6t=oW.create,p6t=Xx.create,g6t=xg.create,A6t=sW.create,y6t=q6.create,C6t=W6.create,x6t=aW.create,v6t=ev.create,b6t=tv.create,E6t=rv.create,I6t=nv.create,T6t=mC.create,ePe=Tf.create,w6t=Yd.create,_6t=vg.create,S6t=Tf.createWithPreprocess,k6t=sk.create,R6t=o(()=>lPe().optional(),"ostring"),B6t=o(()=>cPe().optional(),"onumber"),D6t=o(()=>uPe().optional(),"oboolean"),P6t={string:o(e=>fC.create({...e,coerce:!0}),"string"),number:o(e=>Vx.create({...e,coerce:!0}),"number"),boolean:o(e=>zx.create({...e,coerce:!0}),"boolean"),bigint:o(e=>$x.create({...e,coerce:!0}),"bigint"),date:o(e=>Yx.create({...e,coerce:!0}),"date")},F6t=Fn,be=Object.freeze({__proto__:null,defaultErrorMap:M6,setErrorMap:S8t,getErrorMap:rW,makeIssue:nW,EMPTY_PATH:k8t,addIssueToContext:Cr,ParseStatus:Uc,INVALID:Fn,DIRTY:Q6,OK:x0,isAborted:oae,isDirty:sae,isValid:jx,isAsync:ik,get util(){return eo},get objectUtil(){return iae},ZodParsedType:kr,getParsedType:kA,ZodType:Zn,datetimeRegex:oPe,ZodString:fC,ZodNumber:Vx,ZodBigInt:$x,ZodBoolean:zx,ZodDate:Yx,ZodSymbol:O6,ZodUndefined:Kx,ZodNull:Jx,ZodAny:dC,ZodUnknown:RA,ZodNever:bh,ZodVoid:U6,ZodArray:BA,ZodObject:gu,ZodUnion:Zx,ZodDiscriminatedUnion:oW,ZodIntersection:Xx,ZodTuple:xg,ZodRecord:sW,ZodMap:q6,ZodSet:W6,ZodFunction:aW,ZodLazy:ev,ZodLiteral:tv,ZodEnum:rv,ZodNativeEnum:nv,ZodPromise:mC,ZodEffects:Tf,ZodTransformer:Tf,ZodOptional:Yd,ZodNullable:vg,ZodDefault:iv,ZodCatch:ov,ZodNaN:G6,BRAND:J8t,ZodBranded:ok,ZodPipeline:sk,ZodReadonly:sv,custom:aPe,Schema:Zn,ZodSchema:Zn,late:Z8t,get ZodFirstPartyTypeKind(){return _n},coerce:P6t,any:s6t,array:u6t,bigint:t6t,boolean:uPe,date:r6t,discriminatedUnion:h6t,effect:ePe,enum:E6t,function:x6t,instanceof:X8t,intersection:p6t,lazy:v6t,literal:b6t,map:y6t,nan:e6t,nativeEnum:I6t,never:l6t,null:o6t,nullable:_6t,number:cPe,object:f6t,oboolean:D6t,onumber:B6t,optional:w6t,ostring:R6t,pipeline:k6t,preprocess:S6t,promise:T6t,record:A6t,set:C6t,strictObject:d6t,string:lPe,symbol:n6t,transformer:ePe,tuple:g6t,undefined:i6t,union:m6t,unknown:a6t,void:c6t,NEVER:F6t,ZodIssueCode:Gt,quotelessJson:_8t,ZodError:If});var lae="2024-11-05",fPe=[lae,"2024-10-07"],lW="2.0",dPe=be.union([be.string(),be.number().int()]),mPe=be.string(),Eh=be.object({_meta:be.optional(be.object({progressToken:be.optional(dPe)}).passthrough())}).passthrough(),wf=be.object({method:be.string(),params:be.optional(Eh)}),ak=be.object({_meta:be.optional(be.object({}).passthrough())}).passthrough(),bg=be.object({method:be.string(),params:be.optional(ak)}),Ih=be.object({_meta:be.optional(be.object({}).passthrough())}).passthrough(),cW=be.union([be.string(),be.number().int()]),hPe=be.object({jsonrpc:be.literal(lW),id:cW}).merge(wf).strict(),pPe=o(e=>hPe.safeParse(e).success,"isJSONRPCRequest"),gPe=be.object({jsonrpc:be.literal(lW)}).merge(bg).strict(),APe=o(e=>gPe.safeParse(e).success,"isJSONRPCNotification"),yPe=be.object({jsonrpc:be.literal(lW),id:cW,result:Ih}).strict(),cae=o(e=>yPe.safeParse(e).success,"isJSONRPCResponse"),hC;(function(e){e[e.ConnectionClosed=-32e3]="ConnectionClosed",e[e.RequestTimeout=-32001]="RequestTimeout",e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError"})(hC||(hC={}));var CPe=be.object({jsonrpc:be.literal(lW),id:cW,error:be.object({code:be.number().int(),message:be.string(),data:be.optional(be.unknown())})}).strict(),xPe=o(e=>CPe.safeParse(e).success,"isJSONRPCError"),vPe=be.union([hPe,gPe,yPe,CPe]),lv=Ih.strict(),uW=bg.extend({method:be.literal("notifications/cancelled"),params:ak.extend({requestId:cW,reason:be.string().optional()})}),bPe=be.object({name:be.string(),version:be.string()}).passthrough(),N6t=be.object({experimental:be.optional(be.object({}).passthrough()),sampling:be.optional(be.object({}).passthrough()),roots:be.optional(be.object({listChanged:be.optional(be.boolean())}).passthrough())}).passthrough(),L6t=wf.extend({method:be.literal("initialize"),params:Eh.extend({protocolVersion:be.string(),capabilities:N6t,clientInfo:bPe})});var Q6t=be.object({experimental:be.optional(be.object({}).passthrough()),logging:be.optional(be.object({}).passthrough()),completions:be.optional(be.object({}).passthrough()),prompts:be.optional(be.object({listChanged:be.optional(be.boolean())}).passthrough()),resources:be.optional(be.object({subscribe:be.optional(be.boolean()),listChanged:be.optional(be.boolean())}).passthrough()),tools:be.optional(be.object({listChanged:be.optional(be.boolean())}).passthrough())}).passthrough(),uae=Ih.extend({protocolVersion:be.string(),capabilities:Q6t,serverInfo:bPe,instructions:be.optional(be.string())}),M6t=bg.extend({method:be.literal("notifications/initialized")});var fW=wf.extend({method:be.literal("ping")}),O6t=be.object({progress:be.number(),total:be.optional(be.number())}).passthrough(),dW=bg.extend({method:be.literal("notifications/progress"),params:ak.merge(O6t).extend({progressToken:dPe})}),mW=wf.extend({params:Eh.extend({cursor:be.optional(mPe)}).optional()}),hW=Ih.extend({nextCursor:be.optional(mPe)}),EPe=be.object({uri:be.string(),mimeType:be.optional(be.string())}).passthrough(),IPe=EPe.extend({text:be.string()}),TPe=EPe.extend({blob:be.string().base64()}),U6t=be.object({uri:be.string(),name:be.string(),description:be.optional(be.string()),mimeType:be.optional(be.string())}).passthrough(),q6t=be.object({uriTemplate:be.string(),name:be.string(),description:be.optional(be.string()),mimeType:be.optional(be.string())}).passthrough(),W6t=mW.extend({method:be.literal("resources/list")}),fae=hW.extend({resources:be.array(U6t)}),G6t=mW.extend({method:be.literal("resources/templates/list")}),dae=hW.extend({resourceTemplates:be.array(q6t)}),H6t=wf.extend({method:be.literal("resources/read"),params:Eh.extend({uri:be.string()})}),mae=Ih.extend({contents:be.array(be.union([IPe,TPe]))}),j6t=bg.extend({method:be.literal("notifications/resources/list_changed")}),V6t=wf.extend({method:be.literal("resources/subscribe"),params:Eh.extend({uri:be.string()})}),$6t=wf.extend({method:be.literal("resources/unsubscribe"),params:Eh.extend({uri:be.string()})}),z6t=bg.extend({method:be.literal("notifications/resources/updated"),params:ak.extend({uri:be.string()})}),Y6t=be.object({name:be.string(),description:be.optional(be.string()),required:be.optional(be.boolean())}).passthrough(),K6t=be.object({name:be.string(),description:be.optional(be.string()),arguments:be.optional(be.array(Y6t))}).passthrough(),J6t=mW.extend({method:be.literal("prompts/list")}),hae=hW.extend({prompts:be.array(K6t)}),Z6t=wf.extend({method:be.literal("prompts/get"),params:Eh.extend({name:be.string(),arguments:be.optional(be.record(be.string()))})}),pW=be.object({type:be.literal("text"),text:be.string()}).passthrough(),gW=be.object({type:be.literal("image"),data:be.string().base64(),mimeType:be.string()}).passthrough(),AW=be.object({type:be.literal("audio"),data:be.string().base64(),mimeType:be.string()}).passthrough(),wPe=be.object({type:be.literal("resource"),resource:be.union([IPe,TPe])}).passthrough(),X6t=be.object({role:be.enum(["user","assistant"]),content:be.union([pW,gW,AW,wPe])}).passthrough(),pae=Ih.extend({description:be.optional(be.string()),messages:be.array(X6t)}),e9t=bg.extend({method:be.literal("notifications/prompts/list_changed")}),t9t=be.object({name:be.string(),description:be.optional(be.string()),inputSchema:be.object({type:be.literal("object"),properties:be.optional(be.object({}).passthrough())}).passthrough()}).passthrough(),r9t=mW.extend({method:be.literal("tools/list")}),gae=hW.extend({tools:be.array(t9t)}),yW=Ih.extend({content:be.array(be.union([pW,gW,AW,wPe])),isError:be.boolean().default(!1).optional()}),GZr=yW.or(Ih.extend({toolResult:be.unknown()})),n9t=wf.extend({method:be.literal("tools/call"),params:Eh.extend({name:be.string(),arguments:be.optional(be.record(be.unknown()))})}),i9t=bg.extend({method:be.literal("notifications/tools/list_changed")}),_Pe=be.enum(["debug","info","notice","warning","error","critical","alert","emergency"]),o9t=wf.extend({method:be.literal("logging/setLevel"),params:Eh.extend({level:_Pe})}),s9t=bg.extend({method:be.literal("notifications/message"),params:ak.extend({level:_Pe,logger:be.optional(be.string()),data:be.unknown()})}),a9t=be.object({name:be.string().optional()}).passthrough(),l9t=be.object({hints:be.optional(be.array(a9t)),costPriority:be.optional(be.number().min(0).max(1)),speedPriority:be.optional(be.number().min(0).max(1)),intelligencePriority:be.optional(be.number().min(0).max(1))}).passthrough(),c9t=be.object({role:be.enum(["user","assistant"]),content:be.union([pW,gW,AW])}).passthrough(),u9t=wf.extend({method:be.literal("sampling/createMessage"),params:Eh.extend({messages:be.array(c9t),systemPrompt:be.optional(be.string()),includeContext:be.optional(be.enum(["none","thisServer","allServers"])),temperature:be.optional(be.number()),maxTokens:be.number().int(),stopSequences:be.optional(be.array(be.string())),metadata:be.optional(be.object({}).passthrough()),modelPreferences:be.optional(l9t)})}),f9t=Ih.extend({model:be.string(),stopReason:be.optional(be.enum(["endTurn","stopSequence","maxTokens"]).or(be.string())),role:be.enum(["user","assistant"]),content:be.discriminatedUnion("type",[pW,gW,AW])}),d9t=be.object({type:be.literal("ref/resource"),uri:be.string()}).passthrough(),m9t=be.object({type:be.literal("ref/prompt"),name:be.string()}).passthrough(),h9t=wf.extend({method:be.literal("completion/complete"),params:Eh.extend({ref:be.union([m9t,d9t]),argument:be.object({name:be.string(),value:be.string()}).passthrough()})}),Aae=Ih.extend({completion:be.object({values:be.array(be.string()).max(100),total:be.optional(be.number().int()),hasMore:be.optional(be.boolean())}).passthrough()}),p9t=be.object({uri:be.string().startsWith("file://"),name:be.optional(be.string())}).passthrough(),g9t=wf.extend({method:be.literal("roots/list")}),A9t=Ih.extend({roots:be.array(p9t)}),y9t=bg.extend({method:be.literal("notifications/roots/list_changed")}),HZr=be.union([fW,L6t,h9t,o9t,Z6t,J6t,W6t,G6t,H6t,V6t,$6t,n9t,r9t]),jZr=be.union([uW,dW,M6t,y9t]),VZr=be.union([lv,f9t,A9t]),$Zr=be.union([fW,u9t,g9t]),zZr=be.union([uW,dW,s9t,z6t,j6t,i9t,e9t]),YZr=be.union([lv,uae,Aae,pae,hae,fae,dae,mae,yW,gae]),av=class extends Error{static{o(this,"McpError")}constructor(t,r,n){super(`MCP error ${t}: ${r}`),this.code=t,this.data=n,this.name="McpError"}};var C9t=6e4,CW=class{static{o(this,"Protocol")}constructor(t){this._options=t,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this.setNotificationHandler(uW,r=>{let n=this._requestHandlerAbortControllers.get(r.params.requestId);n?.abort(r.params.reason)}),this.setNotificationHandler(dW,r=>{this._onprogress(r)}),this.setRequestHandler(fW,r=>({}))}_setupTimeout(t,r,n,i,s=!1){this._timeoutInfo.set(t,{timeoutId:setTimeout(i,r),startTime:Date.now(),timeout:r,maxTotalTimeout:n,resetTimeoutOnProgress:s,onTimeout:i})}_resetTimeout(t){let r=this._timeoutInfo.get(t);if(!r)return!1;let n=Date.now()-r.startTime;if(r.maxTotalTimeout&&n>=r.maxTotalTimeout)throw this._timeoutInfo.delete(t),new av(hC.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:n});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(t){let r=this._timeoutInfo.get(t);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(t))}async connect(t){this._transport=t,this._transport.onclose=()=>{this._onclose()},this._transport.onerror=r=>{this._onerror(r)},this._transport.onmessage=(r,n)=>{cae(r)||xPe(r)?this._onresponse(r):pPe(r)?this._onrequest(r,n):APe(r)?this._onnotification(r):this._onerror(new Error(`Unknown message type: ${JSON.stringify(r)}`))},await this._transport.start()}_onclose(){var t;let r=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._transport=void 0,(t=this.onclose)===null||t===void 0||t.call(this);let n=new av(hC.ConnectionClosed,"Connection closed");for(let i of r.values())i(n)}_onerror(t){var r;(r=this.onerror)===null||r===void 0||r.call(this,t)}_onnotification(t){var r;let n=(r=this._notificationHandlers.get(t.method))!==null&&r!==void 0?r:this.fallbackNotificationHandler;n!==void 0&&Promise.resolve().then(()=>n(t)).catch(i=>this._onerror(new Error(`Uncaught error in notification handler: ${i}`)))}_onrequest(t,r){var n,i,s;let a=(n=this._requestHandlers.get(t.method))!==null&&n!==void 0?n:this.fallbackRequestHandler;if(a===void 0){(i=this._transport)===null||i===void 0||i.send({jsonrpc:"2.0",id:t.id,error:{code:hC.MethodNotFound,message:"Method not found"}}).catch(u=>this._onerror(new Error(`Failed to send an error response: ${u}`)));return}let l=new AbortController;this._requestHandlerAbortControllers.set(t.id,l);let c={signal:l.signal,sessionId:(s=this._transport)===null||s===void 0?void 0:s.sessionId,sendNotification:o(u=>this.notification(u,{relatedRequestId:t.id}),"sendNotification"),sendRequest:o((u,f,m)=>this.request(u,f,{...m,relatedRequestId:t.id}),"sendRequest"),authInfo:r?.authInfo};Promise.resolve().then(()=>a(t,c)).then(u=>{var f;if(!l.signal.aborted)return(f=this._transport)===null||f===void 0?void 0:f.send({result:u,jsonrpc:"2.0",id:t.id})},u=>{var f,m;if(!l.signal.aborted)return(f=this._transport)===null||f===void 0?void 0:f.send({jsonrpc:"2.0",id:t.id,error:{code:Number.isSafeInteger(u.code)?u.code:hC.InternalError,message:(m=u.message)!==null&&m!==void 0?m:"Internal error"}})}).catch(u=>this._onerror(new Error(`Failed to send response: ${u}`))).finally(()=>{this._requestHandlerAbortControllers.delete(t.id)})}_onprogress(t){let{progressToken:r,...n}=t.params,i=Number(r),s=this._progressHandlers.get(i);if(!s){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(t)}`));return}let a=this._responseHandlers.get(i),l=this._timeoutInfo.get(i);if(l&&a&&l.resetTimeoutOnProgress)try{this._resetTimeout(i)}catch(c){a(c);return}s(n)}_onresponse(t){let r=Number(t.id),n=this._responseHandlers.get(r);if(n===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(t)}`));return}if(this._responseHandlers.delete(r),this._progressHandlers.delete(r),this._cleanupTimeout(r),cae(t))n(t);else{let i=new av(t.error.code,t.error.message,t.error.data);n(i)}}get transport(){return this._transport}async close(){var t;await((t=this._transport)===null||t===void 0?void 0:t.close())}request(t,r,n){let{relatedRequestId:i,resumptionToken:s,onresumptiontoken:a}=n??{};return new Promise((l,c)=>{var u,f,m,h,p;if(!this._transport){c(new Error("Not connected"));return}((u=this._options)===null||u===void 0?void 0:u.enforceStrictCapabilities)===!0&&this.assertCapabilityForMethod(t.method),(f=n?.signal)===null||f===void 0||f.throwIfAborted();let A=this._requestMessageId++,x={...t,jsonrpc:"2.0",id:A};n?.onprogress&&(this._progressHandlers.set(A,n.onprogress),x.params={...t.params,_meta:{progressToken:A}});let v=o(_=>{var R;this._responseHandlers.delete(A),this._progressHandlers.delete(A),this._cleanupTimeout(A),(R=this._transport)===null||R===void 0||R.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:A,reason:String(_)}},{relatedRequestId:i,resumptionToken:s,onresumptiontoken:a}).catch(P=>this._onerror(new Error(`Failed to send cancellation: ${P}`))),c(_)},"cancel");this._responseHandlers.set(A,_=>{var R;if(!(!((R=n?.signal)===null||R===void 0)&&R.aborted)){if(_ instanceof Error)return c(_);try{let P=r.parse(_.result);l(P)}catch(P){c(P)}}}),(m=n?.signal)===null||m===void 0||m.addEventListener("abort",()=>{var _;v((_=n?.signal)===null||_===void 0?void 0:_.reason)});let E=(h=n?.timeout)!==null&&h!==void 0?h:C9t,b=o(()=>v(new av(hC.RequestTimeout,"Request timed out",{timeout:E})),"timeoutHandler");this._setupTimeout(A,E,n?.maxTotalTimeout,b,(p=n?.resetTimeoutOnProgress)!==null&&p!==void 0?p:!1),this._transport.send(x,{relatedRequestId:i,resumptionToken:s,onresumptiontoken:a}).catch(_=>{this._cleanupTimeout(A),c(_)})})}async notification(t,r){if(!this._transport)throw new Error("Not connected");this.assertNotificationCapability(t.method);let n={...t,jsonrpc:"2.0"};await this._transport.send(n,r)}setRequestHandler(t,r){let n=t.shape.method.value;this.assertRequestHandlerCapability(n),this._requestHandlers.set(n,(i,s)=>Promise.resolve(r(t.parse(i),s)))}removeRequestHandler(t){this._requestHandlers.delete(t)}assertCanSetRequestHandler(t){if(this._requestHandlers.has(t))throw new Error(`A request handler for ${t} already exists, which would be overridden`)}setNotificationHandler(t,r){this._notificationHandlers.set(t.shape.method.value,n=>Promise.resolve(r(t.parse(n))))}removeNotificationHandler(t){this._notificationHandlers.delete(t)}};function SPe(e,t){return Object.entries(t).reduce((r,[n,i])=>(i&&typeof i=="object"?r[n]=r[n]?{...r[n],...i}:i:r[n]=i,r),{...e})}o(SPe,"mergeCapabilities");var xW=class extends CW{static{o(this,"Client")}constructor(t,r){var n;super(r),this._clientInfo=t,this._capabilities=(n=r?.capabilities)!==null&&n!==void 0?n:{}}registerCapabilities(t){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=SPe(this._capabilities,t)}assertCapability(t,r){var n;if(!(!((n=this._serverCapabilities)===null||n===void 0)&&n[t]))throw new Error(`Server does not support ${t} (required for ${r})`)}async connect(t,r){if(await super.connect(t),t.sessionId===void 0)try{let n=await this.request({method:"initialize",params:{protocolVersion:lae,capabilities:this._capabilities,clientInfo:this._clientInfo}},uae,r);if(n===void 0)throw new Error(`Server sent invalid initialize result: ${n}`);if(!fPe.includes(n.protocolVersion))throw new Error(`Server's protocol version is not supported: ${n.protocolVersion}`);this._serverCapabilities=n.capabilities,this._serverVersion=n.serverInfo,this._instructions=n.instructions,await this.notification({method:"notifications/initialized"})}catch(n){throw this.close(),n}}getServerCapabilities(){return this._serverCapabilities}getServerVersion(){return this._serverVersion}getInstructions(){return this._instructions}assertCapabilityForMethod(t){var r,n,i,s,a;switch(t){case"logging/setLevel":if(!(!((r=this._serverCapabilities)===null||r===void 0)&&r.logging))throw new Error(`Server does not support logging (required for ${t})`);break;case"prompts/get":case"prompts/list":if(!(!((n=this._serverCapabilities)===null||n===void 0)&&n.prompts))throw new Error(`Server does not support prompts (required for ${t})`);break;case"resources/list":case"resources/templates/list":case"resources/read":case"resources/subscribe":case"resources/unsubscribe":if(!(!((i=this._serverCapabilities)===null||i===void 0)&&i.resources))throw new Error(`Server does not support resources (required for ${t})`);if(t==="resources/subscribe"&&!this._serverCapabilities.resources.subscribe)throw new Error(`Server does not support resource subscriptions (required for ${t})`);break;case"tools/call":case"tools/list":if(!(!((s=this._serverCapabilities)===null||s===void 0)&&s.tools))throw new Error(`Server does not support tools (required for ${t})`);break;case"completion/complete":if(!(!((a=this._serverCapabilities)===null||a===void 0)&&a.completions))throw new Error(`Server does not support completions (required for ${t})`);break;case"initialize":break;case"ping":break}}assertNotificationCapability(t){var r;switch(t){case"notifications/roots/list_changed":if(!(!((r=this._capabilities.roots)===null||r===void 0)&&r.listChanged))throw new Error(`Client does not support roots list changed notifications (required for ${t})`);break;case"notifications/initialized":break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(t){switch(t){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Client does not support sampling capability (required for ${t})`);break;case"roots/list":if(!this._capabilities.roots)throw new Error(`Client does not support roots capability (required for ${t})`);break;case"ping":break}}async ping(t){return this.request({method:"ping"},lv,t)}async complete(t,r){return this.request({method:"completion/complete",params:t},Aae,r)}async setLoggingLevel(t,r){return this.request({method:"logging/setLevel",params:{level:t}},lv,r)}async getPrompt(t,r){return this.request({method:"prompts/get",params:t},pae,r)}async listPrompts(t,r){return this.request({method:"prompts/list",params:t},hae,r)}async listResources(t,r){return this.request({method:"resources/list",params:t},fae,r)}async listResourceTemplates(t,r){return this.request({method:"resources/templates/list",params:t},dae,r)}async readResource(t,r){return this.request({method:"resources/read",params:t},mae,r)}async subscribeResource(t,r){return this.request({method:"resources/subscribe",params:t},lv,r)}async unsubscribeResource(t,r){return this.request({method:"resources/unsubscribe",params:t},lv,r)}async callTool(t,r=yW,n){return this.request({method:"tools/call",params:t},r,n)}async listTools(t,r){return this.request({method:"tools/list",params:t},gae,r)}async sendRootsListChanged(){return this.notification({method:"notifications/roots/list_changed"})}};d();var yFe=et(gFe(),1),lk=et(require("node:process"),1);d();var bW=class{static{o(this,"ReadBuffer")}append(t){this._buffer=this._buffer?Buffer.concat([this._buffer,t]):t}readMessage(){if(!this._buffer)return null;let t=this._buffer.indexOf(`
`);if(t===-1)return null;let r=this._buffer.toString("utf8",0,t).replace(/\r$/,"");return this._buffer=this._buffer.subarray(t+1),V9t(r)}clear(){this._buffer=void 0}};function V9t(e){return vPe.parse(JSON.parse(e))}o(V9t,"deserializeMessage");function AFe(e){return JSON.stringify(e)+`
`}o(AFe,"serializeMessage");var $9t=lk.default.platform==="win32"?["APPDATA","HOMEDRIVE","HOMEPATH","LOCALAPPDATA","PATH","PROCESSOR_ARCHITECTURE","SYSTEMDRIVE","SYSTEMROOT","TEMP","USERNAME","USERPROFILE"]:["HOME","LOGNAME","PATH","SHELL","TERM","USER"];function z9t(){let e={};for(let t of $9t){let r=lk.default.env[t];r!==void 0&&(r.startsWith("()")||(e[t]=r))}return e}o(z9t,"getDefaultEnvironment");var EW=class{static{o(this,"StdioClientTransport")}constructor(t){this._abortController=new AbortController,this._readBuffer=new bW,this._serverParams=t}async start(){if(this._process)throw new Error("StdioClientTransport already started! If using Client class, note that connect() calls start() automatically.");return new Promise((t,r)=>{var n,i,s,a,l,c;this._process=(0,yFe.default)(this._serverParams.command,(n=this._serverParams.args)!==null&&n!==void 0?n:[],{env:(i=this._serverParams.env)!==null&&i!==void 0?i:z9t(),stdio:["pipe","pipe",(s=this._serverParams.stderr)!==null&&s!==void 0?s:"inherit"],shell:!1,signal:this._abortController.signal,windowsHide:lk.default.platform==="win32"&&Y9t(),cwd:this._serverParams.cwd}),this._process.on("error",u=>{var f,m;if(u.name==="AbortError"){(f=this.onclose)===null||f===void 0||f.call(this);return}r(u),(m=this.onerror)===null||m===void 0||m.call(this,u)}),this._process.on("spawn",()=>{t()}),this._process.on("close",u=>{var f;this._process=void 0,(f=this.onclose)===null||f===void 0||f.call(this)}),(a=this._process.stdin)===null||a===void 0||a.on("error",u=>{var f;(f=this.onerror)===null||f===void 0||f.call(this,u)}),(l=this._process.stdout)===null||l===void 0||l.on("data",u=>{this._readBuffer.append(u),this.processReadBuffer()}),(c=this._process.stdout)===null||c===void 0||c.on("error",u=>{var f;(f=this.onerror)===null||f===void 0||f.call(this,u)})})}get stderr(){var t,r;return(r=(t=this._process)===null||t===void 0?void 0:t.stderr)!==null&&r!==void 0?r:null}processReadBuffer(){for(var t,r;;)try{let n=this._readBuffer.readMessage();if(n===null)break;(t=this.onmessage)===null||t===void 0||t.call(this,n)}catch(n){(r=this.onerror)===null||r===void 0||r.call(this,n)}}async close(){this._abortController.abort(),this._process=void 0,this._readBuffer.clear()}send(t){return new Promise(r=>{var n;if(!(!((n=this._process)===null||n===void 0)&&n.stdin))throw new Error("Not connected");let i=AFe(t);this._process.stdin.write(i)?r():this._process.stdin.once("drain",r)})}};function Y9t(){return"type"in lk.default}o(Y9t,"isElectron");var IW=class{constructor(t,r,n){this.transport=null;this.ctx=t,this.mcp=new xW({name:r,version:n})}static{o(this,"MCPStdioServer")}async connect(t){this.transport=new EW(t);try{await this.mcp.connect(this.transport)}catch(r){throw Cg.error(this.ctx,"Connection failed:",r),r}}async getToolsList(){let t=[];return this.transport&&(t=(await this.mcp.listTools()).tools.map(n=>({name:n.name,description:n.description,inputSchema:{...n.inputSchema||{},properties:n.inputSchema?.properties||{},type:n.inputSchema?.type||"object"}}))),t}async callTool(t,r){try{let n=await this.mcp.callTool({name:t,arguments:r});return n&&typeof n=="object"?n.content?JSON.stringify(n.content):(Cg.error(this.ctx,`Error calling tool ${t}: `+JSON.stringify(n)),`Error calling tool ${t}: `+JSON.stringify(n)):(Cg.error(this.ctx,`Error calling tool ${t}: `+String(n)),`Error calling tool ${t}: `+String(n))}catch(n){return Cg.error(this.ctx,`Error calling tool ${t}:`,n),"Error calling tool "+t+": "+(n||{message:"Unknown error"})?.message}}async cleanup(){this.transport&&await this.mcp.close()}};d();d();var TW=class{constructor(){this._tools=new Map}static{o(this,"ToolRegistry")}registerTool(t){if(!this._tools.has(t.id))this._tools.set(t.id,t);else throw new Error(`Tool with name '${t.name}' provided by '${t.toolProvider.id}' is already registered.`)}unregisterTool(t){return this._tools.delete(t)}getTool(t){return this._tools.get(t)}listTools(){return Array.from(this._tools.values())}};d();d();d();d();var gC={id:"copilot",displayName:"Copilot Language Server",description:"Copilot Language Server tool provider",isFirstPartyTool:!0},Eg={id:"copilot-editor",displayName:"Editor",description:"Editor tool provider",isFirstPartyTool:!0},_ae=class{static{o(this,"LanguageModelTool")}constructor(t){this.type=t.type,this.toolProvider=t.toolProvider,this.name=t.name,this.displayName=t.displayName??this.name,this.description=t.description,this.displayDescription=t.displayDescription??this.description,this.inputSchema=t.inputSchema,this.id=`${this.toolProvider.id}.${this.name}`,this.nameForModel=this.toolProvider.isFirstPartyTool?this.name:`${this.toolProvider.id}_${this.name}`}},pC=class extends _ae{static{o(this,"BaseLanguageModelTool")}constructor(t){super(t)}},xo=class{static{o(this,"LanguageModelTextPart")}constructor(t){this.value=t}},V6=class{static{o(this,"LanguageModelPromptTsxPart")}constructor(t){this.value=t}};var vo=class{static{o(this,"LanguageModelToolResult")}constructor(t,r){this.status=r,this.content=t}},CFe=I.Object({content:I.Array(I.Union([I.Object({value:I.String()}),I.Object({value:I.Unknown()})])),status:I.Optional(I.Union([I.Literal("success"),I.Literal("error"),I.Literal("cancelled")]))}),wW=(r=>(r.Accept="accept",r.Dismiss="dismiss",r))(wW||{}),xFe=I.Object({result:I.Enum(wW)});var Jd=class extends pC{static{o(this,"ClsLanguageModelTool")}constructor(t){super({...t,toolProvider:gC,type:"shared"})}};d();var K9t=new Map([["copilot_semanticSearch","semantic_search"],["copilot_readFile","read_file"],["copilot_listDir","list_dir"],["copilot_getErrors","get_errors"],["copilot_runInTerminal","run_in_terminal"],["copilot_insertEdit","insert_edit_into_file"],["copilot_createFile","create_file"],["copilot_replaceString","replace_string_in_file"],["copilot_updateUserPreferences","update_user_preferences"],["copilot_fileSearch","file_search"],["copilot_findTextInFiles","grep_search"]]),J9t=new Map;for(let[e,t]of K9t)J9t.set(t,e);d();function $6(e){return`[${Di(e)}](${e})`}o($6,"formatUriForFileWidget");function Ig(e){let t=Z9t(e);if(!t)throw new Error(`Invalid input path: ${e}. Be sure to use an absolute path.`);return t}o(Ig,"resolvePathInput");function Z9t(e){if(e.startsWith("/")||bFe()&&e7t(e)||bFe()&&e.startsWith("\\\\"))return sl(e)}o(Z9t,"resolveFsUri");function bFe(){return process.platform==="win32"}o(bFe,"isWindows");function X9t(e){return e>=65&&e<=90||e>=97&&e<=122}o(X9t,"isWindowsDriveLetter");function e7t(e){return X9t(e.charCodeAt(0))&&e.charCodeAt(1)===58}o(e7t,"hasDriveLetter");function _W(e){let t="";return e.length>0&&(t=e.map(r=>r instanceof xo?r.value:(r instanceof V6,"")).join(`
`)),t===""?"(empty)":t}o(_W,"parseToolResultToString");var SW=class extends Jd{static{o(this,"EditFileTool")}constructor(){super({name:"insert_edit_into_file",displayName:"Edit File",description:`Edit a file in the workspace. Use this tool once per file that needs to be modified, even if there are multiple changes for a file. Generate the "explanation" property first.
The system is very smart and can understand how to apply your edits to the files, you just need to provide minimal hints.
Avoid repeating existing code, instead use comments to represent regions of unchanged code. Be as concise as possible. For example:
// ...existing code...
{ changed code }
// ...existing code...
{ changed code }
// ...existing code...

Here is an example of how you should use format an edit to an existing Person class:
class Person {
	// ...existing code...
	age: number;
	// ...existing code...
	getAge() {
	return this.age;
	}
}`,displayDescription:"Edit a file in the workspace.",inputSchema:I.Object({filePath:I.String({description:"The absolute path of the file to edit."}),code:I.String({description:`The code change to apply to the file.
The system is very smart and can understand how to apply your edits to the files, you just need to provide minimal hints.
Avoid repeating existing code, instead use comments to represent regions of unchanged code. Be as concise as possible. For example:
// ...existing code...
{ changed code }
// ...existing code...
{ changed code }
// ...existing code...

Here is an example of how you should use format an edit to an existing Person class:
class Person {
	// ...existing code...
	age: number;
	// ...existing code...
	getAge() {
		return this.age;
	}
}`}),explanation:I.String({description:"A short explanation of the edit being made."})})})}async invoke(t,r,n){try{let i=await this.mapCode(r.input,t,n),s=await this.invokeClientEditFileTool(t,r,i,n);return this.getFinalEditFileResult(r,s)}catch(i){let s=i instanceof Error?i.message:"An unknown error occurred";return new vo([new xo(s)],"error")}}async mapCode(t,r,n){let{filePath:i}=t,s=Ig(i);if(!s)throw new Error(`Invalid file path: ${i}`);return await new P6(r.ctx).mapCode({code:t.code,resource:s,markdownBeforeBlock:t.explanation},n,void 0,!0)}async invokeClientEditFileTool(t,r,n,i){let s=t.ctx.get(v0).getToolByNameAndProvider("insert_edit_into_file",Eg);if(!s)throw new Error("Client tool insert_edit_into_file is not registered");return t.ctx.get(v0).invokeTool(t,s.id,{toolInvocationToken:r.toolInvocationToken,input:{filePath:r.input.filePath,code:n,explanation:r.input.explanation},roundId:r.roundId,toolCallId:r.toolCallId},i)}getFinalEditFileResult(t,r){if(r.status!=="success")return r;let n=_W(r.content),i=EI({uri:Ig(t.input.filePath),languageId:"UNKNOWN"}),s=y0(n),a=[];return a.push(`<file_after_edit path="${t.input.filePath}">`),a.push("This is the new state of the file after the edit. Base future edits off of this file, no need to read it again, unless a terminal command may have changed it."),a.push(`${s}${i}`),a.push(`${n}`),a.push(`${s}`),a.push("</file_after_edit>"),new vo([new xo(a.join(`
`))],"success")}prepareInvocation(t,r){let{input:n}=t;if(!n.filePath.length)return{progressMessage:"Running insert_edit_into_file tool"};let i=Ig(n.filePath);return{progressMessage:`Editing ${$6(i)}`}}static toEditFileParams(t){if(typeof t.filePath!="string")throw new Error("filePath must be a string");if(typeof t.code!="string")throw new Error("code must be a string");if(typeof t.explanation!="string")throw new Error("explanation must be a string");return{filePath:t.filePath,code:t.code,explanation:t.explanation}}};d();d();var EFe=require("crypto"),Tg=et(require("fs/promises")),IFe=require("os"),PA=et(require("path"));var FA=class{constructor(t){this.ctx=t;this.logger=new Yt("ripgrep")}static{o(this,"RipgrepPathResolver")}async resolvePath(){if(this.rgPath)return this.rgPath;let t=process.platform,r=process.arch;return this.rgPath=await this.resolvePathByOs(t,r),this.rgPath}async resolvePathByOs(t,r){if(this.logger.debug(this.ctx,`Start resolving ripgrep path for platform: ${t} and architecture: ${r}`),r!=="arm64"&&r!=="x64")throw new Error(`Unsupported architecture: ${r}`);let n=t==="win32"?"rg.exe":"rg";this.logger.debug(this.ctx,`__filename is ${__filename}, __dirname is ${__dirname}`);let i=PA.extname(__filename)===".ts"?PA.resolve(__dirname,"../../../packages/ripgrep/bin"):PA.resolve(__dirname,"./bin"),s=PA.resolve(i,t,r,n);if("pkg"in process){this.logger.debug(this.ctx,"Running inside pkg binary, start to copy ripgrep to a temporary location");let a=await Tg.readFile(s),l=(0,EFe.createHash)("sha256").update(a).digest("hex"),c=PA.join((0,IFe.homedir)(),".cache/pkg",l);await Tg.mkdir(c,{recursive:!0});let u=Di(sl(s)),f=PA.join(c,u);try{await Tg.stat(f)}catch{await Tg.copyFile(s,f),this.logger.debug(this.ctx,`Copied ripgrep to ${f}`)}s=f,t!=="win32"&&await Tg.chmod(s,493).catch(m=>{this.logger.error(this.ctx,`Failed to set executable permission for ${s}: ${m}`)})}return s}};d();d();function TFe(){return Ir()}o(TFe,"uuidV4");var wFe=require("child_process"),Sae=require("perf_hooks");var NA=new Yt("ripgrepProcessManager"),Th=class{constructor(t,r,n){this.ctx=t;this.defaultTimeoutInMs=30*1e3;this.maxProcesses=4;this.maxPendingTasks=20;this.taskQueue=[];this.activeProcesses=new Set;this.maxProcesses=r??this.maxProcesses,this.maxPendingTasks=n??this.maxPendingTasks,NA.debug(this.ctx,`initialized with maxProcesses: ${this.maxProcesses} and maxPendingTasks: ${this.maxPendingTasks}`)}static{o(this,"RipgrepProcessManager")}dispose(){NA.debug(this.ctx,`Disposing ripgrep process manager with ${this.activeProcesses.size} active processes`),this.activeProcesses.forEach(t=>{if(!t.killed)try{t.kill()}catch(r){NA.error(this.ctx,"Failed to kill process. ",r)}}),this.activeProcesses.clear()}execute(t,r,n,i,s){return new Promise((a,l)=>{if(this.taskQueue.length>=this.maxPendingTasks){NA.error(this.ctx,`Task queue limit reached: ${this.maxPendingTasks}`),l(new Error(`Task queue limit of ${this.maxPendingTasks} reached`));return}if(s!==void 0&&s<=0){NA.error(this.ctx,`Invalid timeout value: ${s}`),l(new Error(`Invalid timeout value: ${s}`));return}NA.debug(this.ctx,`Adding task to queue: ${t} ${r.join(" ")}`),this.taskQueue.push({id:TFe(),command:t,args:r,options:i,resolve:a,reject:l,timeoutInMs:s??this.defaultTimeoutInMs,token:n});let c=this.taskQueue.map(u=>this.getTaskSimpleInfo(u)).join(`
`);NA.debug(this.ctx,`Current task queue length: ${this.taskQueue.length}, task list: ${c}`),this.runNextTask()})}runNextTask(){if(this.taskQueue.length===0||this.activeProcesses.size>=this.maxProcesses)return;let t=this.taskQueue.shift(),r=Sae.performance.now();NA.debug(this.ctx,`Starting task: ${this.getTaskSimpleInfo(t)}`);try{let n=(0,wFe.spawn)(t.command,t.args,t.options);this.activeProcesses.add(n);let i="",s="",a,l=o(()=>{a&&clearTimeout(a),this.activeProcesses.delete(n),n.stdout?.removeAllListeners(),n.stderr?.removeAllListeners(),n.removeAllListeners()},"cleanup");t.timeoutInMs&&(a=setTimeout(()=>{n.killed||(n.kill(),t.reject(new Error(`Process timed out after ${t.timeoutInMs} ms. Partial output: ${i}`))),l(),this.runNextTask()},t.timeoutInMs)),t.token&&t.token.onCancellationRequested(()=>{n.killed||(n.kill(),t.reject(new Error("Process was cancelled. Partial output: "+i))),l(),this.runNextTask()}),n.stdout?.on("data",c=>{i+=c.toString()}),n.stderr?.on("data",c=>{s+=c.toString()}),n.on("close",c=>{let f=Sae.performance.now()-r;NA.debug(this.ctx,`Task ${t.id} completed in ${f} ms`),l(),c===0?t.resolve(i):c===1?t.resolve(""):t.reject(new Error(`Process exited with code ${c}: ${s}`)),this.runNextTask()}),n.on("error",c=>{l(),t.reject(new Error(`Failed to start process: ${c.message}`)),this.runNextTask()})}catch(n){t.reject(new Error(`Error spawning process: ${n.message}`)),this.runNextTask()}}getTaskSimpleInfo(t){return`${t.id} - ${t.command} ${t.args.join(" ")}`}};var _Fe=new Yt("findFilesTool"),kW=class e extends Jd{static{o(this,"FindFilesTool")}static{this.timeOutInSeconds=15}constructor(){super({name:"file_search",displayName:"Find Files",description:`Search for files in the workspace by glob pattern. This only returns the paths of matching files. Use this tool when you know the exact filename pattern of the files you're searching for. Glob patterns match from the root of the workspace folder. Examples:
- **/*.{js,ts} to match all js/ts files in the workspace.
- src/** to match all files under the top-level src folder.
- **/foo/**/*.js to match all js files under any foo folder in the workspace.`,displayDescription:"Search for files in the workspace by glob pattern.",inputSchema:I.Object({query:I.String({description:"Search for files with names or paths matching this glob pattern."}),maxResults:I.Optional(I.Number({description:"The maximum number of results to return. Do not use this unless necessary, it can slow things down. By default, only some matches are returned. If you use this and don't see what you're looking for, you can try again with a more specific query or a larger maxResults."}))})})}async invoke(t,r,n){try{let i;try{if(n.isCancellationRequested)return new vo([new xo("Cancelled")],"cancelled");i=await t.ctx.get(FA).resolvePath()}catch(A){throw new Error(`Failed to run file_search since failed to get ripgrep path: ${String(A)}`)}let{query:s,maxResults:a=20}=r.input,l=t.turn.workspaceFolders;if(!l?.length)return new vo([new xo("Failed to invoke tool file_search since no workspace folders found")],"error");let c=t.ctx.get(Th),u={},f=l.map(async A=>{if(n.isCancellationRequested)throw new Error("Canceled");try{_Fe.debug(t.ctx,`Start searching for query ${s} in workspace folder: ${A.uri.toString()}`);let x=await c.execute(i,["--files","-g",s],n,{cwd:Il(A.uri)},e.timeOutInSeconds*1e3);_Fe.debug(t.ctx,`Finished searching for query ${s} in workspace folder: ${A.uri.toString()} with results: ${x}`),u[A.uri.toString()]=x.split(`
`).map(v=>v.trim()).filter(v=>v.length>0).map(v=>`${Il(Fo(A.uri,v))}`)}catch(x){let v=x instanceof Error?x.message:"An unknown error occurred";throw new Error(`Error processing workspace folder ${A.uri.toString()}: ${v}`)}});try{await Promise.all(f)}catch(A){let x=A instanceof Error?A.message:"An unknown error occurred";return new vo([new xo(x)],"error")}let m=[],h=a;for(;h>0;){let A=!1;for(let x in u)u[x].length>0&&h>0&&(m.push(u[x].shift()),h--,A=!0);if(!A)break}let p=m.length===0?`No files found matching query: ${s}`:m.length===1?`Found 1 file matching query: ${s}
${m[0]}`:`Found ${m.length} files matching query: ${s}
${m.join(`
`)}`;return new vo([new xo(p)],"success")}catch(i){let s=i instanceof Error?i.message:"An unknown error occurred";return new vo([new xo(s)],"error")}}prepareInvocation(t,r){let{input:n}=t;return n.query.length?{progressMessage:`Searching for files matching query: ${n.query}`}:{progressMessage:"Running file_search tool"}}static toFindFilesParams(t){if(typeof t.query!="string")throw new Error("query must be a string");if(t.maxResults!=null&&(typeof t.maxResults!="number"||t.maxResults<0))throw new Error("maxResults must be a positive number or undefined");return{query:t.query,maxResults:typeof t.maxResults=="number"?t.maxResults:void 0}}};d();var SFe=new Yt("findTextInFilesTool"),RW=class e extends Jd{static{o(this,"FindTextInFilesTool")}static{this.timeOutInSeconds=15}constructor(){super({name:"grep_search",displayName:"Find Text In Files",description:"Do a text search in the workspace. Use this tool when you know the exact string you're searching for.",displayDescription:"Do a text search in the workspace.",inputSchema:I.Object({query:I.String({description:"The pattern to search for in files in the workspace. Can be a regex or plain text pattern"}),isRegexp:I.Optional(I.Boolean({description:"Whether the pattern is a regex. False by default."})),includePattern:I.Optional(I.String({description:"Search files matching this glob pattern. Will be applied to the relative path of files within the workspace."}))})})}async invoke(t,r,n){try{let i;try{if(n.isCancellationRequested)return new vo([new xo("Cancelled")],"cancelled");i=await t.ctx.get(FA).resolvePath()}catch(v){throw new Error(`Failed to run grep_search since failed to get ripgrep path: ${String(v)}`)}let{query:s,isRegexp:a=!1,includePattern:l}=r.input,c=20,u=t.turn.workspaceFolders;if(!u?.length)return new vo([new xo("Failed to invoke tool grep_search since no workspace folders found")],"error");let f=t.ctx.get(Th),m={},h=u.map(async v=>{if(n.isCancellationRequested)throw new Error("Canceled");try{SFe.debug(t.ctx,`Start searching for query ${s} in workspace folder: ${v.uri.toString()}`);let E=[a?"--regexp":"--fixed-strings",s,...l?["-g",l]:[],"--no-heading","--line-number","--color","never",Il(v.uri)],b=await f.execute(i,E,n,{cwd:Il(v.uri)},e.timeOutInSeconds*1e3);SFe.debug(t.ctx,`Finished searching for query ${s} in workspace folder: ${v.uri.toString()} with results: ${b}`),m[v.uri.toString()]=b.split(`
`).map(_=>_.trim()).filter(_=>_.length>0)}catch(E){let b=E instanceof Error?E.message:"An unknown error occurred";throw new Error(`Error processing workspace folder ${v.uri.toString()}: ${b}`)}});try{await Promise.all(h)}catch(v){let E=v instanceof Error?v.message:"An unknown error occurred";return new vo([new xo(E)],"error")}let p=[],A=c;for(;A>0;){let v=!1;for(let E in m)m[E].length>0&&A>0&&(p.push(m[E].shift()),A--,v=!0);if(!v)break}let x=p.length===0?`Searched text for ${s}, no results`:p.length===1?`Searched text for: ${s}, 1 result
${p[0]}`:`Searched text for: ${s}, ${p.length} results
${p.join(`
`)}`;return new vo([new xo(x)],"success")}catch(i){let s=i instanceof Error?i.message:"An unknown error occurred";return new vo([new xo(s)],"error")}}prepareInvocation(t,r){let{input:n}=t;return n.query.length?{progressMessage:`Searching for text in files matching query: ${n.query}`}:{progressMessage:"Running grep_search tool"}}static toFindTextInFilesParams(t){if(typeof t.query!="string")throw new Error("query must be a string");if(t.isRegexp!==void 0&&typeof t.isRegexp!="boolean")throw new Error("isRegexp must be a boolean");if(t.includePattern!==void 0&&typeof t.includePattern!="string")throw new Error("includePattern must be a string");return{query:t.query,isRegexp:t.isRegexp??!1,includePattern:t.includePattern}}};d();var BW=class extends Jd{static{o(this,"ListDirTool")}constructor(){super({name:"list_dir",displayName:"List Directory",description:"List the contents of a directory. Result will have the name of the child. If the name ends in /, it's a folder, otherwise a file",displayDescription:"List the contents of a directory",inputSchema:I.Object({path:I.String({description:"The absolute path to the directory to list."})})})}async invoke(t,r,n){let{path:i}=r.input,s=Ig(i),l=await t.ctx.get(Io).readDirectory(s.toString());return l.length===0?new vo([new xo("Folder is empty")],"success"):new vo([new xo(l.map(([c,u])=>`${c}${u===2?"/":""}`).join(`
`))],"success")}prepareInvocation(t,r){let n=Ig(t.input.path);return{progressMessage:`Reading ${$6(n)}`}}static toListDirParams(t){if(typeof t.path!="string")throw new Error("path must be a string");return{path:t.path}}};d();var DW=class extends Jd{static{o(this,"ReadFileTool")}constructor(){super({name:"read_file",displayName:"Read File",description:`Read the contents of a file.

You must specify the line range you're interested in, and if the file is larger, you will be given an outline of the rest of the file. If the file contents returned are insufficient for your task, you may call this tool again to retrieve more content.`,displayDescription:"Read a file in the workspace.",inputSchema:I.Object({filePath:I.String({description:"The absolute path of the file to read."}),startLineNumberBaseZero:I.Number({description:"The line number to start reading from, 0-based."}),endLineNumberBaseZero:I.Number({description:"The inclusive line number to end reading at, 0-based."})})})}async invoke(t,r,n){try{let{filePath:i,startLineNumberBaseZero:s,endLineNumberBaseZero:a}=r.input,l=Ig(i);if(!l)throw new Error(`Invalid file path: ${i}`);let u=await t.ctx.get(Pn).getOrReadTextDocument({uri:l});if(u.status==="valid")return new vo([new xo(`\`\`\`\`
// filepath: ${i}
${u.document.getText({start:{line:s,character:0},end:{line:a+1,character:0}})}
\`\`\`\``)],"success");throw new Error("File is outside of the workspace and can't be read")}catch(i){let s=i instanceof Error?i.message:"An unknown error occurred";return new vo([new xo(s)],"error")}}prepareInvocation(t,r){let{input:n}=t;if(!n.filePath.length)return{progressMessage:"Running read_file tool"};let i=Ig(n.filePath);return{progressMessage:`Reading ${$6(i)}`}}static toReadFileParams(t){if(typeof t.filePath!="string")throw new Error("filePath must be a string");if(typeof t.startLineNumberBaseZero!="number")throw new Error("startLineNumberBaseZero must be a number");if(typeof t.endLineNumberBaseZero!="number")throw new Error("endLineNumberBaseZero must be a number");return{filePath:t.filePath,startLineNumberBaseZero:t.startLineNumberBaseZero,endLineNumberBaseZero:t.endLineNumberBaseZero}}};function kFe(){return[new BW,new DW,new SW,new kW,new RW]}o(kFe,"getAllClsTools");var v0=class{constructor(t){this.ctx=t;this._toolRegistry=new TW;for(let r of kFe())this._toolRegistry.registerTool(r)}static{o(this,"ToolsService")}registerTool(t){this._toolRegistry.registerTool(t)}unregisterTool(t){return typeof t=="string"?this._toolRegistry.unregisterTool(t):this._toolRegistry.unregisterTool(t.id)}prepareInvocation(t,r,n){let i=this._toolRegistry.getTool(t);if(!i)throw new Error(`Tool with id '${t}' is undefined`);return i.prepareInvocation?.(r,n)??{}}async invokeTool(t,r,n,i){let s=this._toolRegistry.getTool(r);if(!s)throw new Error(`Tool with id '${r}' is undefined`);return await s.invoke?.(t,n,i)??new vo([],"success")}async invokeToolConfirmation(t,r,n,i){let s=this._toolRegistry.getTool(r);if(!s)throw new Error(`Tool with id '${r}' is undefined`);return await s.invokeConfirmation?.(t,n,i)??{result:"dismiss"}}getToolById(t){return this._toolRegistry.getTool(t)}getToolByNameAndProvider(t,r){return this._toolRegistry.listTools().find(n=>n.name===t&&n.toolProvider.id===r.id)}getToolsForModel(){return Array.from(this.getToolMapForModel().values())}getToolMapForModel(){let t=new Map;for(let c of this._toolRegistry.listTools())t.has(c.toolProvider.id)||t.set(c.toolProvider.id,[]),t.get(c.toolProvider.id)?.push(c);let r=t.get(gC.id)?.find(c=>c.name==="insert_edit_into_file");r&&t.get(gC.id)?.splice(t.get(gC.id)?.indexOf(r)??0,1);let n=t.get(Eg.id)?.find(c=>c.name==="insert_edit_into_file");n&&t.get(Eg.id)?.splice(t.get(Eg.id)?.indexOf(n)??0,1);let i=new Map;r&&n&&i.set(r.nameForModel,r);let s=t.get(Eg.id)??[],a=t.get(gC.id)??[],l=Array.from(t.entries()).filter(([c])=>c!==gC.id&&c!==Eg.id).flatMap(([,c])=>c);return s.forEach(c=>{i.has(c.nameForModel)||i.set(c.nameForModel,c)}),a.forEach(c=>{i.has(c.nameForModel)||i.set(c.nameForModel,c)}),l.forEach(c=>{i.has(c.nameForModel)||i.set(c.nameForModel,c)}),i}};d();var PW=class extends pC{static{o(this,"McpLanguageModelTool")}constructor(t,r){super({...t,toolProvider:{id:t.serverName,displayName:t.serverName,description:t.serverName,isFirstPartyTool:!1},type:"mcp"}),this.invoker=r}prepareInvocation(t,r){let n={title:`Confirm MCP Tool: ${this.name}`,message:`Do you want to allow the external MCP tool "${this.toolProvider.displayName}/${this.displayName}" to run?`};return{progressMessage:`Running MCP tool: ${this.displayName}`,confirmationMessages:n}}async invoke(t,r,n){let i=await this.invoker(r.input);return new vo([new xo(i)],"success")}async invokeConfirmation(t,r,n){let i={name:this.name,title:r.title,message:r.message,input:r.input,conversationId:t.conversation.id,turnId:t.turn.id,roundId:r.roundId,toolCallId:r.toolCallId};try{return await t.ctx.get(Ag).invokeClientToolConfirmation(t,i)}catch(s){throw new Error(`Failed to invoke client tool confirmation ${this.name}: ${String(s)}`)}}};var wg=class{constructor(t){this.MCPServersMap=new Map;this.cachedMCPServerTools=[];this.ctx=t}static{o(this,"MCPServersManager")}async updateMCPServers(t){await this.clearAllServers();for(let r of Object.keys(t))await this.addServer({name:r,...t[r]});await this.getAndCacheAllTools(),this.registerTools()}getAllTools(){return this.cachedMCPServerTools}async getAndCacheAllTools(){let t=[];for(let r of this.MCPServersMap.keys()){let n=this.MCPServersMap.get(r);try{let i=await n.getToolsList();t.push({name:r,tools:i})}catch(i){Cg.error(this.ctx,`Error getting tools list for MCP server ${r}:`,i),this.ctx.get(va).showWarningMessageOnlyOnce(`${r}.getTools`,`Failed to get tools list for MCP server '${r}'. Please check the logs for more details.`)}}this.cachedMCPServerTools=t}async callTool(t,r,n){let i=this.MCPServersMap.get(t);if(!i)throw new Error(`MCP client ${t} not found`);return await i.callTool(r,n)}async addServer(t){try{let r=new IW(this.ctx,t.name,t.version||"1.0.0");await r.connect(t),this.MCPServersMap.set(t.name,r)}catch(r){Cg.error(this.ctx,`Error initializing MCP server ${t.name}:`,r),this.ctx.get(va).showWarningMessageOnlyOnce(`${t.name}.initialize`,`Failed to initialize MCP server '${t.name}'. Please check the logs for more details.`)}}registerTools(){for(let t of this.cachedMCPServerTools){let{name:r,tools:n}=t;for(let i of n)this.registerTool(r,i)}}registerTool(t,r){let{name:n,description:i,inputSchema:s}=r;Cg.debug(this.ctx,"register MCP Tool:",t,n,i,s),this.ctx.get(v0).registerTool(new PW({serverName:t,name:n,displayName:`${t}_${n}`,description:i||"",displayDescription:i||"",inputSchema:s},a=>(Cg.debug(this.ctx,"copilot MCP Invoker:",t,n,a),this.callTool(t,n,a))))}unregisterAllTools(){for(let t of this.cachedMCPServerTools){let{name:r,tools:n}=t;for(let i of n){let{name:s}=i;this.ctx.get(v0).unregisterTool(`${r}.${s}`)}}}async clearAllServers(){this.unregisterAllTools();for(let t of this.MCPServersMap.values())await t.cleanup();this.MCPServersMap.clear(),this.cachedMCPServerTools=[]}};d();d();var Y6=class e{static{o(this,"TextEdit")}static isTextEdit(t){return t instanceof e?!0:t?Au.isRange(t)&&typeof t.newText=="string":!1}static replace(t,r){return new e(t,r)}static insert(t,r){return e.replace(new Au(t,t),r)}static delete(t){return e.replace(t,"")}static setEndOfLine(t){let r=new e(new Au(new _o(0,0),new _o(0,0)),"");return r.newEol=t,r}get range(){return this._range}set range(t){if(t&&!Au.isRange(t))throw AC("range");this._range=t}get newText(){return this._newText||""}set newText(t){if(t&&typeof t!="string")throw AC("newText");this._newText=t}get newEol(){return this._newEol}set newEol(t){if(t&&typeof t!="number")throw AC("newEol");this._newEol=t}constructor(t,r){this._range=t,this._newText=r}toJSON(){return{range:this.range,newText:this.newText,newEol:this._newEol}}};var _o=class e{static{o(this,"Position")}static Min(...t){if(t.length===0)throw new TypeError;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];i.isBefore(r)&&(r=i)}return r}static Max(...t){if(t.length===0)throw new TypeError;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];i.isAfter(r)&&(r=i)}return r}static isPosition(t){if(!t)return!1;if(t instanceof e)return!0;let{line:r,character:n}=t;return typeof r=="number"&&typeof n=="number"}get line(){return this._line}get character(){return this._character}constructor(t,r){if(t<0)throw AC("line must be non-negative");if(r<0)throw AC("character must be non-negative");this._line=t,this._character=r}isBefore(t){return this._line<t._line?!0:t._line<this._line?!1:this._character<t._character}isBeforeOrEqual(t){return this._line<t._line?!0:t._line<this._line?!1:this._character<=t._character}isAfter(t){return!this.isBeforeOrEqual(t)}isAfterOrEqual(t){return!this.isBefore(t)}isEqual(t){return this._line===t._line&&this._character===t._character}compareTo(t){return this._line<t._line?-1:this._line>t.line?1:this._character<t._character?-1:this._character>t._character?1:0}translate(t,r=0){if(t===null||r===null)throw AC();let n;return typeof t>"u"?n=0:typeof t=="number"?n=t:(n=typeof t.lineDelta=="number"?t.lineDelta:0,r=typeof t.characterDelta=="number"?t.characterDelta:0),n===0&&r===0?this:new e(this.line+n,this.character+r)}with(t,r=this.character){if(t===null||r===null)throw AC();let n;return typeof t>"u"?n=this.line:typeof t=="number"?n=t:(n=typeof t.line=="number"?t.line:this.line,r=typeof t.character=="number"?t.character:this.character),n===this.line&&r===this.character?this:new e(n,r)}toJSON(){return{line:this.line,character:this.character}}[Symbol.for("debug.description")](){return`(${this.line}:${this.character})`}},Au=class e{static{o(this,"Range")}static isRange(t){return t instanceof e?!0:t?_o.isPosition(t.start)&&_o.isPosition(t.end):!1}get start(){return this._start}get end(){return this._end}constructor(t,r,n,i){let s,a;if(typeof t=="number"&&typeof r=="number"&&typeof n=="number"&&typeof i=="number"?(s=new _o(t,r),a=new _o(n,i)):_o.isPosition(t)&&_o.isPosition(r)&&(s=t,a=r),!s||!a)throw new Error("Invalid arguments");s.isBefore(a)?(this._start=s,this._end=a):(this._start=a,this._end=s)}contains(t){return e.isRange(t)?this.contains(t.start)&&this.contains(t.end):_o.isPosition(t)?!(t.isBefore(this._start)||this._end.isBefore(t)):!1}isEqual(t){return this._start.isEqual(t._start)&&this._end.isEqual(t._end)}intersection(t){let r=_o.Max(t.start,this._start),n=_o.Min(t.end,this._end);if(!r.isAfter(n))return new e(r,n)}union(t){if(this.contains(t))return this;if(t.contains(this))return t;let r=_o.Min(t.start,this._start),n=_o.Max(t.end,this.end);return new e(r,n)}get isEmpty(){return this._start.isEqual(this._end)}get isSingleLine(){return this._start.line===this._end.line}with(t,r=this.end){if(t===null||r===null)throw AC();let n;return t?_o.isPosition(t)?n=t:(n=t.start||this.start,r=t.end||this.end):n=this.start,n.isEqual(this._start)&&r.isEqual(this.end)?this:new e(n,r)}toJSON(){return[this.start,this.end]}[Symbol.for("debug.description")](){return t7t(this)}};function AC(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}o(AC,"illegalArgument");function t7t(e){return e.isEmpty?`[${e.start.line}:${e.start.character})`:`[${e.start.line}:${e.start.character} -> ${e.end.line}:${e.end.character})`}o(t7t,"getDebugDescriptionOfRange");d();d();var kae=et(require("crypto"));var ck=kae.randomUUID.bind(kae);d();d();d();var wh;(i=>{i.serviceIds=new Map,i.DI_TARGET="$di$target",i.DI_DEPENDENCIES="$di$dependencies";function n(s){return s[i.DI_DEPENDENCIES]||[]}i.getServiceDependencies=n,o(n,"getServiceDependencies")})(wh||={});var _g=_h("instantiationService");function r7t(e,t,r){t[wh.DI_TARGET]===t?t[wh.DI_DEPENDENCIES].push({id:e,index:r}):(t[wh.DI_DEPENDENCIES]=[{id:e,index:r}],t[wh.DI_TARGET]=t)}o(r7t,"storeServiceDependency");function _h(e){if(wh.serviceIds.has(e))return wh.serviceIds.get(e);let t=o(function(r,n,i){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");r7t(t,r,i)},"id");return t.toString=()=>e,wh.serviceIds.set(e,t),t}o(_h,"createDecorator");d();d();var _f=class{static{o(this,"SyncDescriptor")}constructor(t,r=[],n=!1){this.ctor=t,this.staticArguments=r,this.supportsDelayedInstantiation=n}};d();var Rae=class{constructor(t,r){this.key=t;this.data=r;this.incoming=new Map;this.outgoing=new Map}static{o(this,"Node")}},uk=class{constructor(t){this._hashFn=t;this._nodes=new Map}static{o(this,"Graph")}roots(){let t=[];for(let r of this._nodes.values())r.outgoing.size===0&&t.push(r);return t}insertEdge(t,r){let n=this.lookupOrInsertNode(t),i=this.lookupOrInsertNode(r);n.outgoing.set(i.key,i),i.incoming.set(n.key,n)}removeNode(t){let r=this._hashFn(t);this._nodes.delete(r);for(let n of this._nodes.values())n.outgoing.delete(r),n.incoming.delete(r)}lookupOrInsertNode(t){let r=this._hashFn(t),n=this._nodes.get(r);return n||(n=new Rae(r,t),this._nodes.set(r,n)),n}lookup(t){return this._nodes.get(this._hashFn(t))}isEmpty(){return this._nodes.size===0}toString(){let t=[];for(let[r,n]of this._nodes)t.push(`${r}
	(-> incoming)[${[...n.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...n.outgoing.keys()].join(",")}]
`);return t.join(`
`)}findCycleSlow(){for(let[t,r]of this._nodes){let n=new Set([t]),i=this._findCycle(r,n);if(i)return i}}_findCycle(t,r){for(let[n,i]of t.outgoing){if(r.has(n))return[...r,n].join(" -> ");r.add(n);let s=this._findCycle(i,r);if(s)return s;r.delete(n)}}};d();var cv=class{constructor(...t){this._entries=new Map;for(let[r,n]of t)this.set(r,n)}static{o(this,"ServiceCollection")}set(t,r){let n=this._entries.get(t);return this._entries.set(t,r),n}has(t){return this._entries.has(t)}get(t){return this._entries.get(t)}};var n7t=!1,FW=class extends Error{static{o(this,"CyclicDependencyError")}constructor(t){super("cyclic dependency between services"),this.message=t.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}},NW=class e{constructor(t=new cv,r=!1,n,i=n7t){this._services=t;this._strict=r;this._parent=n;this._enableTracing=i;this._isDisposed=!1;this._servicesToMaybeDispose=new Set;this._children=new Set;this._activeInstantiations=new Set;this._services.set(_g,this),this._globalGraph=i?n?._globalGraph??new uk(s=>s):void 0}static{o(this,"InstantiationService")}dispose(){if(!this._isDisposed){this._isDisposed=!0,hM(this._children),this._children.clear();for(let t of this._servicesToMaybeDispose)ZEe(t)&&t.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(t,r){this._throwIfDisposed();let n=this,i=new class extends e{dispose(){n._children.delete(i),super.dispose()}}(t,this._strict,this,this._enableTracing);return this._children.add(i),r?.add(i),i}invokeFunction(t,...r){this._throwIfDisposed();let n=fk.traceInvocation(this._enableTracing,t),i=!1;try{return t({get:o(a=>{if(i)throw MEe("service accessor is only valid during the invocation of its target method");let l=this._getOrCreateServiceInstance(a,n);if(!l)throw new Error(`[invokeFunction] unknown service '${a}'`);return l},"get")},...r)}finally{i=!0,n.stop()}}createInstance(t,...r){this._throwIfDisposed();let n,i;return t instanceof _f?(n=fk.traceCreation(this._enableTracing,t.ctor),i=this._createInstance(t.ctor,t.staticArguments.concat(r),n)):(n=fk.traceCreation(this._enableTracing,t),i=this._createInstance(t,r,n)),n.stop(),i}_createInstance(t,r=[],n){let i=wh.getServiceDependencies(t).sort((l,c)=>l.index-c.index),s=[];for(let l of i){let c=this._getOrCreateServiceInstance(l.id,n);c||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${l.id}.`,!1),s.push(c)}let a=i.length>0?i[0].index:r.length;if(r.length!==a){console.trace(`[createInstance] First service dependency of ${t.name} at position ${a+1} conflicts with ${r.length} static arguments`);let l=a-r.length;l>0?r=r.concat(new Array(l)):r=r.slice(0,a)}return Reflect.construct(t,r.concat(s))}_setCreatedServiceInstance(t,r){if(this._services.get(t)instanceof _f)this._services.set(t,r);else if(this._parent)this._parent._setCreatedServiceInstance(t,r);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){let r=this._services.get(t);return!r&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):r}_getOrCreateServiceInstance(t,r){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(t));let n=this._getServiceInstanceOrDescriptor(t);return n instanceof _f?this._safeCreateAndCacheServiceInstance(t,n,r.branch(t,!0)):(r.branch(t,!1),n)}_safeCreateAndCacheServiceInstance(t,r,n){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,r,n)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,r,n){let i=new uk(c=>c.id.toString()),s=0,a=[{id:t,desc:r,_trace:n}],l=new Set;for(;a.length;){let c=a.pop();if(!l.has(String(c.id))){if(l.add(String(c.id)),i.lookupOrInsertNode(c),s++>1e3)throw new FW(i);for(let u of wh.getServiceDependencies(c.desc.ctor)){let f=this._getServiceInstanceOrDescriptor(u.id);if(f||this._throwIfStrict(`[createInstance] ${t} depends on ${u.id} which is NOT registered.`,!0),this._globalGraph?.insertEdge(String(c.id),String(u.id)),f instanceof _f){let m={id:u.id,desc:f,_trace:c._trace.branch(u.id,!0)};i.insertEdge(c,m),a.push(m)}}}}for(;;){let c=i.roots();if(c.length===0){if(!i.isEmpty())throw new FW(i);break}for(let{data:u}of c){if(this._getServiceInstanceOrDescriptor(u.id)instanceof _f){let m=this._createServiceInstanceWithOwner(u.id,u.desc.ctor,u.desc.staticArguments,u.desc.supportsDelayedInstantiation,u._trace);this._setCreatedServiceInstance(u.id,m)}i.removeNode(u)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,r,n=[],i,s){if(this._services.get(t)instanceof _f)return this._createServiceInstance(t,r,n,i,s,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,r,n,i,s);throw new Error(`illegalState - creating UNKNOWN service instance ${r.name}`)}_createServiceInstance(t,r,n=[],i,s,a){if(i)throw new Error("Delayed instantiation not supported");{let l=this._createInstance(r,n,s);return a.add(l),l}}_throwIfStrict(t,r){if(r&&console.warn(t),this._strict)throw new Error(t)}};var fk=class e{constructor(t,r){this.type=t;this.name=r;this._start=Date.now();this._dep=[]}static{o(this,"Trace")}static{this.all=new Set}static{this._None=new class extends e{constructor(){super(0,null)}stop(){}branch(){return this}}}static traceInvocation(t,r){return t?new e(2,r.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):e._None}static traceCreation(t,r){return t?new e(1,r.name):e._None}static{this._totals=0}branch(t,r){let n=new e(3,t.toString());return this._dep.push([t,r,n]),n}stop(){let t=Date.now()-this._start;e._totals+=t;let r=!1;function n(s,a){let l=[],c=new Array(s+1).join("	");for(let[u,f,m]of a._dep)if(f&&m){r=!0,l.push(`${c}CREATES -> ${u}`);let h=n(s+1,m);h&&l.push(h)}else l.push(`${c}uses -> ${u}`);return l.join(`
`)}o(n,"printChild");let i=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${n(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${e._totals.toFixed(2)}ms)`];(t>2||r)&&e.all.add(i.join(`
`))}};var LW=class{constructor(t){this._isSealed=!1;this._collection=Array.isArray(t)?new cv(...t):t??new cv}static{o(this,"InstantiationServiceBuilder")}define(t,r){if(this._isSealed)throw new Error("This accessor is sealed and cannot be modified anymore.");this._collection.set(t,r)}seal(){if(this._isSealed)throw new Error("This accessor is sealed and cannot be seal again anymore.");return this._isSealed=!0,new NW(this._collection,!0)}};var LA=_h("IParserService");d();var QW=_h("ISnippyService");d();d();var dk=new RegExp("[_\\p{L}\\p{Nd}]+|====+|----+|####+|////+|\\*\\*\\*\\*+|[\\p{P}\\p{S}]","gu"),MW=65;function i7t(e){let t=0,r;dk.lastIndex=0;do if(r=dk.exec(e),r&&(t+=1),t>=MW)break;while(r);return t}o(i7t,"lexemeLength");function o7t(e,t){let r=0,n;dk.lastIndex=0;do if(n=dk.exec(e),n&&(r+=1,r>=t))return dk.lastIndex;while(n);return e.length}o(o7t,"offsetFirstLexemes");function RFe(e,t){let r=e.split("").reverse().join(""),n=o7t(r,t);return r.length-n}o(RFe,"offsetLastLexemes");function Bae(e){return i7t(e)>=MW}o(Bae,"hasMinLexemeLength");d();d();d();var Ra;(n=>{function e(i){return new Dae(i)}n.ok=e,o(e,"ok");function t(i){return new Pae(i)}n.error=t,o(t,"error");function r(i){return n.error(new Error(i))}n.fromString=r,o(r,"fromString")})(Ra||={});var Dae=class e{constructor(t){this.val=t}static{o(this,"ResultOk")}map(t){return new e(t(this.val))}flatMap(t){return t(this.val)}isOk(){return!0}isError(){return!1}},Pae=class{constructor(t){this.err=t}static{o(this,"ResultError")}map(t){return this}flatMap(t){return this}isOk(){return!1}isError(){return!0}};var BFe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.matched_source=="string"&&typeof r.occurrences=="string"&&typeof r.capped=="boolean"&&typeof r.cursor=="string"&&typeof r.github_url=="string"}t.is=e,o(e,"is")})(BFe||={});var Fae;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.kind=="string"&&typeof r.reason=="string"&&typeof r.code=="number"&&typeof r.msg=="string"}t.is=e,o(e,"is")})(Fae||={});var DFe;(t=>{function e(r){return typeof r=="object"&&r!==null&&"snippets"in r&&Array.isArray(r.snippets)&&r.snippets.every(BFe.is)}t.is=e,o(e,"is")})(DFe||={});var Nae;(t=>{function e(r){if(Fae.is(r))return Ra.error(r);if(DFe.is(r))return Ra.ok(r)}t.to=e,o(e,"to")})(Nae||={});var PFe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.commit_id=="string"&&typeof r.license=="string"&&typeof r.nwo=="string"&&typeof r.path=="string"&&typeof r.url=="string"}t.is=e,o(e,"is")})(PFe||={});var FFe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.has_next_page=="boolean"&&typeof r.cursor=="string"}t.is=e,o(e,"is")})(FFe||={});var NFe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.count=="object"&&Object.values(r.count).every(n=>typeof n=="string")}t.is=e,o(e,"is")})(NFe||={});var LFe;(t=>{function e(r){return typeof r=="object"&&r!==null&&"file_matches"in r&&Array.isArray(r.file_matches)&&r.file_matches.every(PFe.is)&&"page_info"in r&&FFe.is(r.page_info)&&"license_stats"in r&&NFe.is(r.license_stats)}t.is=e,o(e,"is")})(LFe||={});var Lae;(t=>{function e(r){if(Fae.is(r))return Ra.error(r);if(LFe.is(r))return Ra.ok(r)}t.to=e,o(e,"to")})(Lae||={});var OW=class e{static{o(this,"SnippyFetchService")}static{this.TWIRP_URL="twirp/github.snippy.v1.SnippyAPI"}constructor(t){this.ctx=t}async fetchMatch(t){let r={source:t};return this.fetch("Match",r,Nae.to)}async fetchFilesForMatch(t){let r={cursor:t};return this.fetch("FilesForMatch",r,Lae.to)}async fetch(t,r,n){let i=this.ctx.get(Or),s=await this.ctx.get($r).getToken(),a=uI(this.ctx,s,"origin-tracker",`${e.TWIRP_URL}/${t}`),l={Authorization:`Bearer ${s.token}`,...Ec(this.ctx)},c=i.makeAbortController(),u=await i.fetch(a,{method:"POST",headers:l,json:r,signal:c.signal});if(!u.ok)throw new Error(`Failed with status ${u.status} and body: ${await u.text()}`);let f=await u.json();return n(f)}};var QFe=new Yt("[CODE REFERENCING]"),K6=class{constructor(t,r){this.instantiationService=r;this.ctx=t,this.fetcher=this.instantiationService.createInstance(OW,this.ctx)}static{o(this,"SnippyService")}async handlePostInsertion(t,r,n){let i=this.computeSourceToCheck(r,n);if(!i)return;let a=await this.ctx.get(Jr).getTextDocument({uri:t.toString()});if(!a){QFe.error(this.ctx,"Unable to raise IP code citation notification: could not determine document version.");return}let l=a.version,c;try{c=await this.fetcher.fetchMatch(i.source)}catch(p){throw p}if(!c)throw new Error(`Failed to parse match response: ${c}`);if(c.isError())throw new Error(`Failed to match: ${c.err}`);if(c.val.snippets.length===0)return;let{snippets:u}=c.val,f=u.map(async p=>{let A=await this.fetcher.fetchFilesForMatch(p.cursor);if(!A||A.isError())return;let{file_matches:x,license_stats:v}=A.val;return{match:p,files:x,licenseStats:v}}),h=(await Promise.all(f)).filter(p=>!!p);if(h.length===0){QFe.error(this.ctx,"Should never happen as per https://github.com/github/copilot-client/blob/34cae5c581d662525eb3305d58f0762e952f866d/extension/src/codeReferencing/handlePostInsertion.ts#L138");return}for(let p of h){let A=new Set(Object.keys(p.licenseStats?.count??{}));A.delete("NOASSERTION")&&A.add("unknown");let x=Array.from(A).sort(),v=`${p.match.matched_source.slice(0,100).replace(/[\r\n\t]+|^[ \t]+/gm," ").trim()}...`,E={inDocumentUri:t.toString(),offsetStart:i.startOffset,offsetEnd:i.endOffset,matchingText:v,location:{start:{line:i.startPosition.lineNumber,character:i.startPosition.column},end:{line:i.endPosition.lineNumber,character:i.endPosition.column}},version:l,details:x.map(b=>({license:b,url:`${p.match.github_url}`}))};await this.ctx.get(of).handleIPCodeCitation(this.ctx,E)}}computeSourceToCheck(t,r){if(r.newText==="")return;let n=As.single(r),s=n.getNewRanges().reduce((h,p)=>h.join(p)),a=t.apply(n),l=s.start,c=a.value.substring(s.start,s.endExclusive);if(!Bae(c)){let h=a.value.slice(0,s.start),p=RFe(h,MW);l=p,c=a.value.slice(p,s.start+r.newText.length)}if(!Bae(c))return;let u=a.getTransformer(),f=u.getPosition(l),m=u.getPosition(s.endExclusive);return{source:c,startOffset:l,endOffset:s.endExclusive,startPosition:f,endPosition:m}}};K6=Du([La(1,_g)],K6);d();var mk=_h("ITokenizerProvider");d();d();d();var l7t=Symbol("MicrotaskDelay");function c7t(e){let t=new eA,r=e(t.token),n=new Promise((i,s)=>{let a=t.token.onCancellationRequested(()=>{a.dispose(),s(new Gp)});Promise.resolve(r).then(l=>{a.dispose(),t.dispose(),i(l)},l=>{a.dispose(),t.dispose(),s(l)})});return new class{cancel(){t.cancel(),t.dispose()}then(i,s){return n.then(i,s)}catch(i){return this.then(void 0,i)}finally(i){return n.finally(i)}}}o(c7t,"createCancelablePromise");function uv(e,t){return t?new Promise((r,n)=>{let i=setTimeout(()=>{s.dispose(),r()},e),s=t.onCancellationRequested(()=>{clearTimeout(i),s.dispose(),n(new Gp)})}):c7t(r=>uv(e,r))}o(uv,"timeout");var UW=class{constructor(t,r){this._isDisposed=!1;this._token=-1,typeof t=="function"&&typeof r=="number"&&this.setIfNotSet(t,r)}static{o(this,"TimeoutTimer")}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(t,r){if(this._isDisposed)throw new Fi("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,t()},r)}setIfNotSet(t,r){if(this._isDisposed)throw new Fi("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,t()},r))}};var hk=class{static{o(this,"DeferredPromise")}get isRejected(){return this.outcome?.outcome===1}get isResolved(){return this.outcome?.outcome===0}get isSettled(){return!!this.outcome}get value(){return this.outcome?.outcome===0?this.outcome?.value:void 0}constructor(){this.p=new Promise((t,r)=>{this.completeCallback=t,this.errorCallback=r})}complete(t){return new Promise(r=>{this.completeCallback(t),this.outcome={outcome:0,value:t},r()})}error(t){return new Promise(r=>{this.errorCallback(t),this.outcome={outcome:1,value:t},r()})}cancel(){return this.error(new Gp)}},u7t;(r=>{async function e(n){let i,s=await Promise.all(n.map(a=>a.then(l=>l,l=>{i||(i=l)})));if(typeof i<"u")throw i;return s}r.settled=e,o(e,"settled");function t(n){return new Promise(async(i,s)=>{try{await n(i,s)}catch(a){s(a)}})}r.withAsyncBody=t,o(t,"withAsyncBody")})(u7t||={});var pk=class e{static{o(this,"AsyncIterableObject")}static fromArray(t){return new e(r=>{r.emitMany(t)})}static fromPromise(t){return new e(async r=>{r.emitMany(await t)})}static fromPromisesResolveOrder(t){return new e(async r=>{await Promise.all(t.map(async n=>r.emitOne(await n)))})}static merge(t){return new e(async r=>{await Promise.all(t.map(async n=>{for await(let i of n)r.emitOne(i)}))})}static{this.EMPTY=e.fromArray([])}constructor(t,r){this._state=0,this._results=[],this._error=null,this._onReturn=r,this._onStateChanged=new cf,queueMicrotask(async()=>{let n={emitOne:o(i=>this.emitOne(i),"emitOne"),emitMany:o(i=>this.emitMany(i),"emitMany"),reject:o(i=>this.reject(i),"reject")};try{await Promise.resolve(t(n)),this.resolve()}catch(i){this.reject(i)}finally{n.emitOne=void 0,n.emitMany=void 0,n.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:o(async()=>{do{if(this._state===2)throw this._error;if(t<this._results.length)return{done:!1,value:this._results[t++]};if(this._state===1)return{done:!0,value:void 0};await K4.toPromise(this._onStateChanged.event)}while(!0)},"next"),return:o(async()=>(this._onReturn?.(),{done:!0,value:void 0}),"return")}}static map(t,r){return new e(async n=>{for await(let i of t)n.emitOne(r(i))})}map(t){return e.map(this,t)}static filter(t,r){return new e(async n=>{for await(let i of t)r(i)&&n.emitOne(i)})}filter(t){return e.filter(this,t)}static coalesce(t){return e.filter(t,r=>!!r)}coalesce(){return e.coalesce(this)}static async toPromise(t){let r=[];for await(let n of t)r.push(n);return r}toPromise(){return e.toPromise(this)}emitOne(t){this._state===0&&(this._results.push(t),this._onStateChanged.fire())}emitMany(t){this._state===0&&(this._results=this._results.concat(t),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(t){this._state===0&&(this._state=2,this._error=t,this._onStateChanged.fire())}};var qW=class{constructor(t){this._deferred=new hk;this._asyncIterable=new pk(i=>{if(r){i.reject(r);return}return n&&i.emitMany(n),this._errorFn=s=>i.reject(s),this._emitFn=s=>i.emitOne(s),this._deferred.p},t);let r,n;this._emitFn=i=>{n||(n=[]),n.push(i)},this._errorFn=i=>{r||(r=i)}}static{o(this,"AsyncIterableSource")}get asyncIterable(){return this._asyncIterable}resolve(){this._deferred.complete()}reject(t){this._errorFn(t),this._deferred.complete()}emitOne(t){this._emitFn(t)}};var GW=_h("ITelemetrySender"),QA=_h("IChatMLFetcher");var WW=class{constructor(){this._stream=new qW;this._seenAnnotationTypes=new Set}static{o(this,"FetchStreamSource")}get stream(){return this._stream.asyncIterable}update(t,r){r.codeVulnAnnotations&&(!((t.match(/(^|\n)```/g)?.length??0)%2===1)||t.match(/(^|\n)```\w*\s*$/))&&(r.codeVulnAnnotations=void 0),r.codeVulnAnnotations&&(r.codeVulnAnnotations=r.codeVulnAnnotations.filter(n=>!this._seenAnnotationTypes.has(n.details.type)),r.codeVulnAnnotations.forEach(n=>this._seenAnnotationTypes.add(n.details.type))),this._stream.emitOne({text:t,delta:r})}resolve(){this._stream.resolve()}};async function MFe(e){let t=new LW;return t.define(GW,new Qae(e)),t.define(LA,new _f(Mae,[!0])),t.define(QW,new _f(K6,[e])),t.define(QA,await Oae.Create(e)),t.define(mk,new _f(Uae)),t.seal()}o(MFe,"createInstantiationService");var Qae=class{constructor(t){this.ctx=t;this.ctx=t}static{o(this,"TelemetrySender")}sendTelemetryEvent(t,r,n){let i=Object.fromEntries(Object.entries(r??{}).filter(([l,c])=>c!==void 0)),s=Object.fromEntries(Object.entries(n??{}).filter(([l,c])=>c!==void 0)),a=ln.createAndMarkAsIssued(i,s);jt(this.ctx,t,a)}},Mae=class{static{o(this,"ParserServiceImpl")}getTreeSitterAST(t){}},Oae=class e{constructor(t,r){this.ctx=t;this.modelConfiguration=r}static{o(this,"CLSChatMLFetcher")}static async Create(t){let r=await t.get(ui).getBestChatModelConfig([mi.Gpt4oMini]);return new e(t,r)}get tokenBudget(){return this.modelConfiguration.maxRequestTokens}get tokenizerName(){return this.modelConfiguration.tokenizer}async fetchOne(t,r,n){let i=t.map(l=>e.chatMessageToClsChatMessage(l)),s=ck(),a=await this.ctx.get(eu).fetchAndStreamChat(this.ctx,i,Np.createEmptyConfigForTesting(),"nextEditSuggestion",s,async(l,c)=>{if(r)return await r(l,0,{text:c.text})},n);if(a.type==="success"){if(r)for await(let l of a.choices)l.finishReason!=="snippy"&&await r(l.completionText,0,{text:l.completionText});return{type:"success",value:""}}else return{type:e.clsResponseTypeToResponseType(a.type),reason:a.type}}static chatMessageToClsChatMessage(t){switch(t.role){case"system":return{role:"system",content:t.content};case"user":if(typeof t.content!="string")throw new Error("User message content must be a string");return{role:"user",content:t.content};default:throw new Error(`Unsupported chat role: ${t.role}`)}}static clsResponseTypeToResponseType(t){switch(t){case"success":return"success";case"successMultiple":return"success";case"offTopic":return"offTopic";case"canceled":return"canceled";case"filtered":return"filtered";case"length":return"length";case"failed":return"failed";case"agentAuthRequired":return"agent_unauthorized";default:return"unknown"}}},Uae=class e{constructor(){this.tokenizers=new Map;this.cl100kTokenizer=new HW("cl100k_base")}static{o(this,"CLSTokenizerProvider")}acquireTokenizer(t){let r=this.tokenizers.get(t.tokenizer);return r||(r=new HW(e.typeToName(t.tokenizer)),this.tokenizers.set(t.tokenizer,r)),r}static typeToName(t){switch(t){case"cl100k_base":return"cl100k_base";case"o200k_base":return"o200k_base";case"llama3":throw new Error("Llama3 tokenizer is not supported");default:throw new Error(`Unknown tokenizer type: ${t}`)}}},HW=class{static{o(this,"CLSTokenizer")}constructor(t){this.tokenizer=go(t)}tokenLength(t){return this.tokenizer.tokenLength(t)}countMessageTokens(t){let r=0;if(typeof t.content=="string")return this.tokenLength(t.content);if(Array.isArray(t.content))for(let n of t.content)if(n.type==="text")r+=this.tokenLength(n.text);else throw new Error(`Unsupported message content part type: ${n.type}`);else throw new Error("Unsupported message content type");return r}countMessagesTokens(t){let r=0;for(let n of t)r+=this.countMessageTokens(n);return r}countToolTokens(t){throw new Error("Method not implemented.")}};d();d();var qae=class{constructor(t,r){this.baseDebounceTime=t;this.expectedTotalTime=r;this.providerInvocationTime=Date.now()}static{o(this,"DelaySession")}getDebounceTime(){let t=this.expectedTotalTime===void 0?this.baseDebounceTime:Math.min(this.baseDebounceTime,this.expectedTotalTime),r=Date.now()-this.providerInvocationTime;return Math.max(0,t-r)}getArtificalDelay(){if(this.expectedTotalTime===void 0)return 0;let t=Date.now()-this.providerInvocationTime;return Math.max(0,this.expectedTotalTime-t)}},jW=class{constructor(){this._recentUserActions=[]}static{o(this,"Delayer")}createDelaySession(){let n=this._getExpectedTotalTime(200);return new qae(200,n)}handleAcceptance(){this._recordUserAction("accepted")}handleRejection(){this._recordUserAction("rejected")}_recordUserAction(t){this._recentUserActions.push({time:Date.now(),kind:t}),this._recentUserActions=this._recentUserActions.slice(-10)}_getExpectedTotalTime(t){let l=Date.now(),c=1;for(let f of this._recentUserActions){let m=l-f.time;if(m>6e5)continue;let h=Math.exp(-m/6e5),p=f.kind==="rejected"?1.5:.8;c*=1+(p-1)*h}let u=t*c;return u=Math.min(3e3,Math.max(50,u)),u}};d();d();d();var VW=class e{constructor(t){this._indexMap=t}static{o(this,"Permutation")}get arrayLength(){return this._indexMap.length}static createSortPermutation(t,r){let n=Array.from(t.keys()).sort((i,s)=>r(t[i],t[s]));return new e(n)}apply(t){if(t.length!==this.arrayLength)throw E_(`Permutation must be applied on an array of same length. Received length: ${t.length}. Expected length: ${this.arrayLength}`);return t.map((r,n)=>t[this._indexMap[n]])}mapIndexBack(t){let r=this._indexMap.at(t);if(r===void 0)throw E_(`Given index must be within original array length. Received: ${t}. Expected: 0 <= x < ${this.arrayLength}`);return r}inverse(){let t=this._indexMap.slice();for(let r=0;r<this._indexMap.length;r++)t[this._indexMap[r]]=r;return new e(t)}};d();var gk=class e{constructor(t,r){this.firstEditStrategy=t;this.maxLinesPerEdit=r}static{o(this,"StatelessNextEditOptions")}doesFitMaxLinesPerEdit(t){return this.maxLinesPerEdit===void 0||t.lineRange.length<=this.maxLinesPerEdit&&t.newLines.length<=this.maxLinesPerEdit}serialize(){return{firstEditStrategy:this.firstEditStrategy,maxLinesPerEdit:this.maxLinesPerEdit}}static deserialize(t){return new e(t.firstEditStrategy,t.maxLinesPerEdit)}},$W=class e{constructor(t,r,n,i){this.id=t;this.documents=r;this.activeDocumentIdx=n;this.options=i;this.seqid=String(++e.ID);this.cancellationTokenSource=new eA;this.liveDependentants=0;this.fetchIssued=!1;this._result=new hk;iu(r.length>0),iu(n>=0&&n<r.length)}static{o(this,"StatelessNextEditRequest")}static{this.ID=0}get result(){return this._result.p}setResult(t){this._result.complete(t)}setResultError(t){this._result.error(t)}hasDocument(t){return this.documents.find(r=>r.id===t)!==void 0}static deserialize(t){return new e(t.id,t.documents.map(r=>Ak.deserialize(r)),t.activeDocumentIdx,gk.deserialize(t.options))}getActiveDocument(){return this.documents[this.activeDocumentIdx]}serialize(){return{id:this.id,documents:this.documents.map(t=>t.serialize()),activeDocumentIdx:this.activeDocumentIdx,options:this.options.serialize()}}toString(){return this.toMarkdown()}toMarkdown(){return`### StatelessNextEditRequest

${this.documents.map((r,n)=>` * [${n+1}/${this.documents.length}] ${n===this.activeDocumentIdx?"(active document) ":""}`+r.toMarkdown()).join(`

`)}`}},Ak=class e{constructor(t,r,n,i,s,a,l,c,u,f,m,h,p=i.length,A=new ti(1,i.length+1),x=void 0){this.id=t;this.workspaceRoot=r;this.languageId=n;this.documentLinesBeforeEdit=i;this.recentEdit=s;this.recentlyEditedInLinesAfterEditRange=a;this.documentBeforeEdits=l;this.recentEdits=c;this.documentAfterEditsNoShortening=u;this.toEditOnDocumentAfterEditsNoShortening=f;this.toOffsetOnDocumentAfterEditsNoShortening=m;this.toProjectedOffset=h;this.lineCountBeforeClipping=p;this.clippingRange=A;this.lastSelectionInAfterEdit=x;this.recentlyEditedInLinesAfterEdit=this.recentlyEditedInLinesAfterEditRange===void 0?void 0:ti.fromRangeInclusive(this.recentlyEditedInLinesAfterEditRange);this.documentAfterEdits=new _l(this.recentEdits.apply(this.documentBeforeEdits.value));this.documentAfterEditsLines=this.documentAfterEdits.getLines()}static{o(this,"StatelessNextEditDocument")}static deserialize(t){return new e(Bd.create(t.id),t.workspaceRoot?_5.parse(t.workspaceRoot):void 0,ex.create(t.languageId),t.documentLinesBeforeEdit,Fs.deserialize(t.recentEdit),t.recentlyEditedInLinesAfterEditRange?yi.lift(t.recentlyEditedInLinesAfterEditRange):void 0,new _l(t.documentBeforeEdits),zp.deserialize(t.recentEdits),new _l(t.documentAfterEditsNoShortening),r=>{throw new Error("Deserializing serialized document does not implement translation of line edit to edit")},r=>{throw new Error("Deserializing serialized document does not implement translation of offsets")},r=>{throw new Error("Deserializing serialized document does not implement translation of offsets")},t.lineCountBeforeClipping,ti.deserialize(t.clippingRange))}serialize(){return{id:this.id.uri,workspaceRoot:this.workspaceRoot?.toString(),languageId:this.languageId,documentLinesBeforeEdit:this.documentLinesBeforeEdit,recentEdit:this.recentEdit.serialize(),recentlyEditedInLinesAfterEditRange:this.recentlyEditedInLinesAfterEditRange?.toJSON(),documentBeforeEdits:this.documentBeforeEdits.value,recentEdits:this.recentEdits.serialize(),documentAfterEditsNoShortening:this.documentAfterEditsNoShortening.value,lineCountBeforeClipping:this.lineCountBeforeClipping,clippingRange:this.clippingRange.serialize()}}getDisplayPath(){return this.id.uri}toString(){return this.toMarkdown()}toMarkdown(){let t=[];return t.push(`StatelessNextEditDocument: **${this.id.uri}**
`),t.push("```patch"),t.push(this.recentEdit.humanReadablePatch(this.documentLinesBeforeEdit)),t.push("```"),t.push(""),t.join(`
`)}};var lo=class e{constructor(t,r){this.nextEdit=t;this.telemetry=r}static{o(this,"StatelessNextEditResult")}static noEdit(t,r){let n=Ra.error(t),i=r.build(n);return new e(n,i)}static edit(t,r){let n=Ra.ok(t),i=r.build(n);return new e(n,i)}},J6=class{constructor(t){this._request=t;this.startTime=Date.now(),this.requestUuid=t.id}static{o(this,"StatelessNextEditTelemetryBuilder")}build(t){let n=Date.now()-this.startTime,i=this._prompt?.split(`
`).length,s=this._prompt?.length,a=t.isOk(),l=t.isOk()?void 0:t.err.kind,c;if(!t.isOk())switch(t.err.kind){case"activeDocumentHasNoEdits":case"noSuggestions":break;case"gotCancelled":case"filteredOut":c=t.err.message;break;case"fetchFailure":case"uncategorized":case"unexpected":c=t.err.error.stack?t.err.error.stack:t.err.error.message;break;default:aM(t.err)}return{hadStatelessNextEditProviderCall:!0,firstEditStrategy:this._request.options.firstEditStrategy,maxLinesPerEdit:this._request.options.maxLinesPerEdit,hasNextEdit:a,noNextEditReasonKind:l,noNextEditReasonMessage:c,statelessNextEditProviderDuration:n,logProbThreshold:this._logProbThreshold,promptLineCount:i,promptCharCount:s,isDefaultEndpoint:this._isDefaultEndpoint,debounceTime:this._debounceTime,fetchStartedAt:this._fetchStartedAt,fetchTime:this._fetchTime,fetchResult:this._fetchResult,fetchError:this._fetchError,hadLowLogProbSuggestion:this._hadLowLogProbSuggestion,nonTerminatingError:this._nonTerminatingError,nEditsSuggested:this._nEditsSuggested,nextEditLogprob:this._nextEditLogProb,kthEditPicked:this._kthEditPicked,lineDistanceToMostRecentEdit:this._lineDistanceToMostRecentEdit,firstPickStrategyOverride:this._firstPickStrategyOverride}}setLogProbThreshold(t){return this._logProbThreshold=t,this}setHadLowLogProbSuggestion(t){return this._hadLowLogProbSuggestion=t,this}setPrompt(t){return this._prompt=t,this}setIsDefaultEndpoint(t){return this._isDefaultEndpoint=t,this}setDebounceTime(t){return this._debounceTime=t,this}setFetchStartedAt(){return this._fetchStartedAt=Date.now(),this}get fetchStartedAt(){return this._fetchStartedAt}setFetchResultIfNotSet(t,r){return this._fetchResult===void 0&&(this._fetchResult=t,this._fetchError=r,iu(this._fetchStartedAt!==void 0,"fetchStartedAt must be set before setting fetchTime"),this._fetchTime=Date.now()-this._fetchStartedAt),this}get fetchResult(){return this._fetchResult}get fetchError(){return this._fetchError}get fetchTime(){return this._fetchTime}setNonTerminatingError(t){return this._nonTerminatingError=t,this}setNextEditLogProb(t){return this._nextEditLogProb=t,this}setNEditsSuggested(t){return this._nEditsSuggested=t,this}setKthEditPicked(t){return this._kthEditPicked=t,this}setLineDistanceToMostRecentEdit(t){return this._lineDistanceToMostRecentEdit=t,this}setFirstPickStrategyOverride(t){return this._firstPickStrategyOverride=t,this}};function d7t(e,...t){let r=e;for(let n of t)r=n(r);return r}o(d7t,"chainStatelessNextEditProviders");var zW=class{constructor(t,r){this.ID=t;this._providers=r;let n={ID:this.ID,provideNextEdit:o((i,s)=>this.provideNextEditBase(i,s),"provideNextEdit")};this._impl=d7t(n,...this._providers)}static{o(this,"ChainedStatelessNextEditProvider")}provideNextEdit(t,r){return this._impl.provideNextEdit(t,r)}},Z6=class{constructor(t){this._baseProvider=t}static{o(this,"EditFilterAspect")}get ID(){return this._baseProvider.ID}async provideNextEdit(t,r){let n=await this._baseProvider.provideNextEdit(t,r);if(n.nextEdit.isError())return n;let i=n.nextEdit.val,s=i.permutation===void 0?i.edit.edits:i.permutation.apply(i.edit.edits),a=this.filterEdit(t.getActiveDocument(),s);if(a.length===s.length)return n;if(a.length===0)return new lo(Ra.error({kind:"filteredOut",message:"uncategorized"}),n.telemetry);let l=VW.createSortPermutation(a,y5(u=>u.lineRange.startLineNumber,C5)),c=new Fs(l.apply(a));return new lo(Ra.ok({edit:c,permutation:l.inverse()}),n.telemetry)}},YW=class extends Z6{static{o(this,"IgnoreTriviaWhitespaceChangesAspect")}filterEdit(t,r){return r.filter(i=>!this._isWhitespaceOnlyChange(i,t.documentAfterEditsLines))}_isWhitespaceOnlyChange(t,r){let n=t.lineRange.toOffsetRange().slice(r),i=t.newLines;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++){let a=n[s],l=i[s];if(a.trim()!==l.trim())return!1}return!0}},KW=class extends Z6{static{o(this,"IgnoreEditsAtClippingBorderAspect")}filterEdit(t,r){return r.filter(i=>!this._isAtClippingBorder(i,t.clippingRange,t.lineCountBeforeClipping))}_isAtClippingBorder(t,r,n){return r.startLineNumber>1&&t.lineRange.startLineNumber===1||r.endLineNumberExclusive<n&&t.lineRange.endLineNumberExclusive===r.length}};d();d();var m7t=Object.freeze({abap:{lineComment:{start:"'"},markdownLanguageIds:["abap","sap-abap"]},bat:{lineComment:{start:"REM"},alternativeLineComments:[{start:"::"}],aliases:["Batch","bat"],extensions:[".bat",".cmd"]},bibtex:{lineComment:{start:"%"},aliases:["BibTeX","bibtex"],extensions:[".bib"]},blade:{lineComment:{start:"#"}},c:{lineComment:{start:"//"},aliases:["C","c"],extensions:[".c",".i"],markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";"},aliases:["Clojure","clojure"],extensions:[".clj",".cljs",".cljc",".cljx",".clojure",".edn"],markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//"},aliases:["CoffeeScript","coffeescript","coffee"],extensions:[".coffee",".cson",".iced"],markdownLanguageIds:["coffeescript","coffee","cson","iced"],blockComment:["###","###"]},cpp:{lineComment:{start:"//"},aliases:["C++","Cpp","cpp"],extensions:[".cpp",".cc",".cxx",".c++",".hpp",".hh",".hxx",".h++",".h",".ii",".ino",".inl",".ipp",".ixx",".tpp",".txx",".hpp.in",".h.in"],markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"],blockComment:["/*","*/"]},csharp:{lineComment:{start:"//"},aliases:["C#","csharp"],extensions:[".cs",".csx",".cake"],markdownLanguageIds:["csharp","cs"],blockComment:["/*","*/"]},css:{lineComment:{start:"/*",end:"*/"},aliases:["CSS","css"],extensions:[".css"],blockComment:["/*","*/"]},dart:{lineComment:{start:"//"},aliases:["Dart"],extensions:[".dart"],blockComment:["/*","*/"]},dockerfile:{lineComment:{start:"#"},aliases:["Docker","Dockerfile","Containerfile"],extensions:[".dockerfile",".containerfile"],markdownLanguageIds:["dockerfile","docker"]},elixir:{lineComment:{start:"#"}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%"},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//"},aliases:["F#","FSharp","fsharp"],extensions:[".fs",".fsi",".fsx",".fsscript"],markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"],blockComment:["(*","*)"]},go:{lineComment:{start:"//"},aliases:["Go"],extensions:[".go"],markdownLanguageIds:["go","golang"],blockComment:["/*","*/"]},groovy:{lineComment:{start:"//"},aliases:["Groovy","groovy"],extensions:[".groovy",".gvy",".gradle",".jenkinsfile",".nf"],blockComment:["/*","*/"]},haml:{lineComment:{start:"-#"}},handlebars:{lineComment:{start:"{{!",end:"}}"},extensions:[".hbs",".handlebars"],markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"],blockComment:["{{!--","--}}"]},haskell:{lineComment:{start:"--"},markdownLanguageIds:["haskell","hs"]},html:{lineComment:{start:"<!--",end:"-->"},aliases:["HTML","htm","html","xhtml"],extensions:[".html",".htm",".shtml",".xhtml",".xht",".mdoc",".jsp",".asp",".aspx",".jshtm",".volt",".ejs",".rhtml"],markdownLanguageIds:["html","xhtml"],blockComment:["<!--","-->"]},ini:{lineComment:{start:";"},blockComment:[";"," "]},java:{lineComment:{start:"//"},extensions:[".java",".class"],markdownLanguageIds:["java","jsp"],blockComment:["/*","*/"]},javascript:{lineComment:{start:"//"},aliases:["JavaScript","javascript","js"],extensions:[".js",".es6",".mjs",".cjs",".pac"],markdownLanguageIds:["javascript","js"],blockComment:["/*","*/"]},javascriptreact:{lineComment:{start:"//"},aliases:["JavaScript JSX","JavaScript React","jsx"],extensions:[".jsx"],markdownLanguageIds:["jsx"]},json:{extensions:[".json"],lineComment:{start:"//"},blockComment:["/*","*/"]},jsonc:{lineComment:{start:"//"}},jsx:{lineComment:{start:"//"},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#"},aliases:["Julia","julia"],extensions:[".jl"],markdownLanguageIds:["julia","jl"],blockComment:["#=","=#"]},kotlin:{lineComment:{start:"//"},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%"},aliases:["LaTeX","latex"],extensions:[".tex",".ltx",".ctx"],markdownLanguageIds:["tex"]},less:{lineComment:{start:"//"},aliases:["Less","less"],extensions:[".less"],blockComment:["/*","*/"]},lua:{lineComment:{start:"--"},aliases:["Lua","lua"],extensions:[".lua"],markdownLanguageIds:["lua","pluto"],blockComment:["--[[","]]"]},makefile:{lineComment:{start:"#"},aliases:["Makefile","makefile"],extensions:[".mak",".mk"],markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"//"},aliases:["Markdown","markdown"],extensions:[".md",".mkd",".mdwn",".mdown",".markdown",".markdn",".mdtxt",".mdtext",".workbook"],markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//"},aliases:["Objective-C"],extensions:[".m"],markdownLanguageIds:["objectivec","mm","objc","obj-c"],blockComment:["/*","*/"]},"objective-cpp":{lineComment:{start:"//"},aliases:["Objective-C++"],extensions:[".mm"],markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#"},aliases:["Perl","perl"],extensions:[".pl",".pm",".pod",".t",".PL",".psgi"],markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//"},aliases:["PHP","php"],extensions:[".php",".php4",".php5",".phtml",".ctp"],blockComment:["/*","*/"]},powershell:{lineComment:{start:"#"},aliases:["PowerShell","powershell","ps","ps1"],extensions:[".ps1",".psm1",".psd1",".pssc",".psrc"],markdownLanguageIds:["powershell","ps","ps1"],blockComment:["<#","#>"]},pug:{lineComment:{start:"//"}},python:{lineComment:{start:"#"},aliases:["Python","py"],extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi",".pyi",".ipy",".pyt"],markdownLanguageIds:["python","py","gyp"],blockComment:['"""','"""']},ql:{lineComment:{start:"//"}},r:{lineComment:{start:"#"},aliases:["R","r"],extensions:[".r",".rhistory",".rprofile",".rt"]},razor:{lineComment:{start:"<!--",end:"-->"},aliases:["Razor","razor"],extensions:[".cshtml",".razor"],markdownLanguageIds:["cshtml","razor","razor-cshtml"],blockComment:["<!--","-->"]},ruby:{lineComment:{start:"#"},aliases:["Ruby","rb"],extensions:[".rb",".rbx",".rjs",".gemspec",".rake",".ru",".erb",".podspec",".rbi"],markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"],blockComment:["=begin","=end"]},rust:{lineComment:{start:"//"},aliases:["Rust","rust"],extensions:[".rs"],markdownLanguageIds:["rust","rs"],blockComment:["/*","*/"]},sass:{lineComment:{start:"//"}},scala:{lineComment:{start:"//"}},scss:{lineComment:{start:"//"},aliases:["SCSS","scss"],extensions:[".scss"],blockComment:["/*","*/"]},shellscript:{lineComment:{start:"#"},aliases:["Shell Script","shellscript","bash","fish","sh","zsh","ksh","csh"],extensions:[".sh",".bash",".bashrc",".bash_aliases",".bash_profile",".bash_login",".ebuild",".profile",".bash_logout",".xprofile",".xsession",".xsessionrc",".Xsession",".zsh",".zshrc",".zprofile",".zlogin",".zlogout",".zshenv",".zsh-theme",".fish",".ksh",".csh",".cshrc",".tcshrc",".yashrc",".yash_profile"],markdownLanguageIds:["bash","sh","zsh"]},slim:{lineComment:{start:"/"}},solidity:{lineComment:{start:"//"},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--"},aliases:["SQL"],extensions:[".sql",".dsql"],blockComment:["/*","*/"]},stylus:{lineComment:{start:"//"}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//"},aliases:["Swift","swift"],extensions:[".swift"],blockComment:["/*","*/"]},terraform:{lineComment:{start:"#"}},tex:{lineComment:{start:"%"},aliases:["TeX","tex"],extensions:[".sty",".cls",".bbx",".cbx"]},typescript:{lineComment:{start:"//"},aliases:["TypeScript","ts","typescript"],extensions:[".ts",".cts",".mts"],markdownLanguageIds:["typescript","ts"],blockComment:["/*","*/"]},typescriptreact:{lineComment:{start:"//"},aliases:["TypeScript JSX","TypeScript React","tsx"],extensions:[".tsx"],markdownLanguageIds:["tsx"],blockComment:["/*","*/"]},vb:{lineComment:{start:"'"},aliases:["Visual Basic","vb"],extensions:[".vb",".brs",".vbs",".bas",".vba"],markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//"}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//"},extensions:[".vue"]},xml:{lineComment:{start:"<!--",end:"-->"},aliases:["XML","xml"],extensions:[".xml",".xsd",".ascx",".atom",".axml",".axaml",".bpmn",".cpt",".csl",".csproj",".csproj.user",".dita",".ditamap",".dtd",".ent",".mod",".dtml",".fsproj",".fxml",".iml",".isml",".jmx",".launch",".menu",".mxml",".nuspec",".opml",".owl",".proj",".props",".pt",".publishsettings",".pubxml",".pubxml.user",".rbxlx",".rbxmx",".rdf",".rng",".rss",".shproj",".storyboard",".svg",".targets",".tld",".tmx",".vbproj",".vbproj.user",".vcxproj",".vcxproj.filters",".wsdl",".wxi",".wxl",".wxs",".xaml",".xbl",".xib",".xlf",".xliff",".xpdl",".xul",".xoml"],blockComment:["<!--","-->"]},xsl:{lineComment:{start:"<!--",end:"-->"},aliases:["XSL","xsl"],extensions:[".xsl",".xslt"]},yaml:{lineComment:{start:"#"},markdownLanguageIds:["yaml","yml"]}}),h7t=new Map(Object.entries(m7t).map(([e,t])=>[e,{languageId:e,...t}]));function UFe(e){return Gae(typeof e=="string"?e:typeof e>"u"?"plaintext":e.languageId)}o(UFe,"getLanguage");function Gae(e){return h7t.get(e.toLowerCase())??{languageId:e,lineComment:{start:"//"}}}o(Gae,"_getLanguage");d();function qFe(e){let r=e.split(/\r?\n/).map(p7t),n=r.filter(s=>s===1).length,i=r.filter(s=>s===2).length;return n>i}o(qFe,"looksLikeCode");function p7t(e){if(e.length===0)return 0;let t=0,r=0;if(["==","!=","===","!==",">=","<=","&&","||",">>",">>>","<<","<<<","+=","-=","*=","/=","%=","<<=","<<<=",">>=",">>>=","++","--","=>","->","...","??","??="].some(i=>e.includes(i))||e.match(/^\s/)||e.match(/^[;{}()\[\]`~?]/))return 1;e.charAt(0).match(/[A-Z]/)&&(t+=1),e[e.length-1]==="."&&(t+=1),Fte(e)||(t+=1);{Fte(e.charAt(0))&&!e.charAt(0).match(/[A-Z]/)&&(r+=1),e.match(/^\s/)&&(r+=1);let s=[";","{","}","(",")","[","]","`","~","#","$","%","^","&","*","_","=","+","\\","|","<",">"].map(a=>e.includes(a)?1:0).filter(a=>a).length;r+=s}return t>r?2:r>t?1:0}o(p7t,"guessLineType");var X6;(r=>{function e(n){return n.length===0?[]:n.split(/\r\n|\r|\n/g)}r.fromString=e,o(e,"fromString");function t(n){if(n.lineCount===0)return[];let i=[];for(let s=0;s<n.lineCount;s++)i.push(n.lineAt(s).text);return i}r.fromDocument=t,o(t,"fromDocument")})(X6||={});function g7t(e){return e.replace(/^\s+/g,"")}o(g7t,"trimLeadingWhitespace");function Hae(e,t){switch(t){case"java":return!!e.match(/^\s*import\s/);case"typescript":case"typescriptreact":case"javascript":case"javascriptreact":return!!e.match(/^\s*import[\s{*]|^\s*[var|const|let].*=\s*require\(/);case"php":return!!e.match(/^\s*use/);case"rust":return!!e.match(/^\s*use\s+[\w:{}, ]+\s*(as\s+\w+)?;/);case"python":return!!e.match(/^\s*from\s+[\w.]+\s+import\s+[\w, *]+$/)||!!e.match(/^\s*import\s+[\w, ]+$/);default:return!1}}o(Hae,"isImportStatement");var A7t=new tA(e=>{let t=UFe(e),{start:r,end:n}=t.lineComment,i=`(?:${Pte(r)})`,s=n?`(?:${Pte(n)})?`:"";return new RegExp(`${i}(.*)${s}$`)});function jae(e,t){let r=e.match(A7t.get(t));if(!r)return;let n=r.index;if(typeof n>"u")return;let i=e.substring(0,n),s=r[0],a=g7t(r[1]||"");return{content:i,commentWithTokens:s,commentWithoutTokens:a}}o(jae,"extractEndLineComment");function JW(e,t){let r=jae(e,t);if(!(r&&r.content.trim().length>0&&qFe(r.commentWithoutTokens)))return r}o(JW,"extractExplicativeEndLineComment");var ZW=class e extends Z6{static{o(this,"IgnoreImportChangesAspect")}static isImportChange(t,r,n){return t.newLines.some(i=>Hae(i,r))||y7t(t,n).some(i=>Hae(i,r))}filterEdit(t,r){let n=t.languageId;return r.filter(s=>!e.isImportChange(s,n,t.documentLinesBeforeEdit))}};function y7t(e,t){return qEe(e.lineRange.mapToLineArray(r=>t[r-1]))}o(y7t,"getOldLines");d();var Dle=et(Rk());d();var a9=class{static{o(this,"DiffChange")}constructor(t,r,n,i){this.originalStart=t,this.originalLength=r,this.modifiedStart=n,this.modifiedLength=i}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}},Bk=class{constructor(t,r=!0){this.lines=t;this.trimWhitespace=r}static{o(this,"LineSequence")}getElements(){let t=[];for(let r=0,n=this.lines.length;r<n;r++)t[r]=this.trimWhitespace?this.lines[r].trim():this.lines[r];return t}getCharCount(){let t=0;for(let r of this.lines)t+=r.length;return t}},Dk=class{static{o(this,"CharSequence")}constructor(t){this._chars=t.split("")}getElements(){return this._chars}},IC=class{static{o(this,"Debug")}static Assert(t,r){if(!t)throw new Error(r)}},TC=class{static{o(this,"MyArray")}static Copy(t,r,n,i,s){for(let a=0;a<s;a++)n[i+a]=t[r+a]}static Copy2(t,r,n,i,s){for(let a=0;a<s;a++)n[i+a]=t[r+a]}};var xG=class{static{o(this,"DiffChangeHelper")}constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new a9(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(t,r){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_originalCount++}AddModifiedElement(t,r){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}},Pk=class e{static{o(this,"LcsDiff")}constructor(t,r){let[n,i]=e._getElements(t),[s,a]=e._getElements(r);this._originalStringElements=n,this._originalElementsOrHash=i,this._modifiedStringElements=s,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _getElements(t){let r=t.getElements(),n=new Int32Array(r.length);for(let i=0,s=r.length;i<s;i++)n[i]=this._stringHash(r[i],0);return[r,n]}static _numberHash(t,r){return(r<<5)-r+t|0}static _stringHash(t,r){r=this._numberHash(149417,r);for(let n=0,i=t.length;n<i;n++)r=this._numberHash(t.charCodeAt(n),r);return r}ElementsAreEqual(t,r){return this._originalElementsOrHash[t]!==this._modifiedElementsOrHash[r]?!1:this._originalStringElements[t]===this._modifiedStringElements[r]}ComputeDiff(){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1)}_ComputeDiff(t,r,n,i){return this.ComputeDiffRecursive(t,r,n,i)}ComputeDiffRecursive(t,r,n,i){for(;t<=r&&n<=i&&this.ElementsAreEqual(t,n);)t++,n++;for(;r>=t&&i>=n&&this.ElementsAreEqual(r,i);)r--,i--;if(t>r||n>i){let f;return n<=i?(IC.Assert(t===r+1,"originalStart should only be one more than originalEnd"),f=[new a9(t,0,n,i-n+1)]):t<=r?(IC.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[new a9(t,r-t+1,n,0)]):(IC.Assert(t===r+1,"originalStart should only be one more than originalEnd"),IC.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[]),f}let s=[0],a=[0],l=this.ComputeRecursionPoint(t,r,n,i,s,a),c=s[0],u=a[0];if(l!==null)return l;{let f=this.ComputeDiffRecursive(t,c,n,u),m=this.ComputeDiffRecursive(c+1,r,u+1,i);return this.ConcatenateChanges(f,m)}}WALKTRACE(t,r,n,i,s,a,l,c,u,f,m,h,p,A,x,v,E){let b=null,_=null,R=new xG,P=r,F=n,W=p[0]-v[0]-i,se=-1073741824,de=this.m_forwardHistory.length-1;do{let re=W+t;re===P||re<F&&u[re-1]<u[re+1]?(m=u[re+1],A=m-W-i,m<se&&R.MarkNextChange(),se=m,R.AddModifiedElement(m+1,A),W=re+1-t):(m=u[re-1]+1,A=m-W-i,m<se&&R.MarkNextChange(),se=m-1,R.AddOriginalElement(m,A+1),W=re-1-t),de>=0&&(u=this.m_forwardHistory[de],t=u[0],P=1,F=u.length-1)}while(--de>=-1);b=R.getReverseChanges(),R=new xG,P=a,F=l,W=p[0]-v[0]-c,se=1073741824,de=E?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let re=W+s;re===P||re<F&&f[re-1]>=f[re+1]?(m=f[re+1]-1,A=m-W-c,m>se&&R.MarkNextChange(),se=m+1,R.AddOriginalElement(m+1,A+1),W=re+1-s):(m=f[re-1],A=m-W-c,m>se&&R.MarkNextChange(),se=m,R.AddModifiedElement(m+1,A+1),W=re-1-s),de>=0&&(f=this.m_reverseHistory[de],s=f[0],P=1,F=f.length-1)}while(--de>=-1);return _=R.getChanges(),this.ConcatenateChanges(b,_)}ComputeRecursionPoint(t,r,n,i,s,a){let l=0,c=0,u=0,f=0,m=0,h=0;t--,n--,s[0]=0,a[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let p=r-t+(i-n),A=p+1,x=new Int32Array(A),v=new Int32Array(A),E=i-n,b=r-t,_=t-n,R=r-i,F=(b-E)%2===0;x[E]=t,v[b]=r;for(let W=1;W<=p/2+1;W++){let se=0,de=0;u=this.ClipDiagonalBound(E-W,W,E,A),f=this.ClipDiagonalBound(E+W,W,E,A);for(let re=u;re<=f;re+=2){re===u||re<f&&x[re-1]<x[re+1]?l=x[re+1]:l=x[re-1]+1,c=l-(re-E)-_;let G=l;for(;l<r&&c<i&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(x[re]=l,l+c>se+de&&(se=l,de=c),!F&&Math.abs(re-b)<=W-1&&l>=v[re])return s[0]=l,a[0]=c,G<=v[re]&&W<=1448?this.WALKTRACE(E,u,f,_,b,m,h,R,x,v,l,r,s,c,i,a,F):null}m=this.ClipDiagonalBound(b-W,W,b,A),h=this.ClipDiagonalBound(b+W,W,b,A);for(let re=m;re<=h;re+=2){re===m||re<h&&v[re-1]>=v[re+1]?l=v[re+1]-1:l=v[re-1],c=l-(re-b)-R;let G=l;for(;l>t&&c>n&&this.ElementsAreEqual(l,c);)l--,c--;if(v[re]=l,F&&Math.abs(re-E)<=W&&l<=x[re])return s[0]=l,a[0]=c,G>=x[re]&&W<=1448?this.WALKTRACE(E,u,f,_,b,m,h,R,x,v,l,r,s,c,i,a,F):null}if(W<=1447){let re=new Int32Array(f-u+2);re[0]=E-u+1,TC.Copy2(x,u,re,1,f-u+1),this.m_forwardHistory.push(re),re=new Int32Array(h-m+2),re[0]=b-m+1,TC.Copy2(v,m,re,1,h-m+1),this.m_reverseHistory.push(re)}}return this.WALKTRACE(E,u,f,_,b,m,h,R,x,v,l,r,s,c,i,a,F)}ConcatenateChanges(t,r){let n=[];if(t.length===0||r.length===0)return r.length>0?r:t;if(this.ChangesOverlap(t[t.length-1],r[0],n)){let i=new Array(t.length+r.length-1);return TC.Copy(t,0,i,0,t.length-1),i[t.length-1]=n[0],TC.Copy(r,1,i,t.length,r.length-1),i}else{let i=new Array(t.length+r.length);return TC.Copy(t,0,i,0,t.length),TC.Copy(r,0,i,t.length,r.length),i}}ChangesOverlap(t,r,n){if(IC.Assert(t.originalStart<=r.originalStart,"Left change is not less than or equal to right change"),IC.Assert(t.modifiedStart<=r.modifiedStart,"Left change is not less than or equal to right change"),t.originalStart+t.originalLength>=r.originalStart||t.modifiedStart+t.modifiedLength>=r.modifiedStart){let i=t.originalStart,s=t.originalLength,a=t.modifiedStart,l=t.modifiedLength;return t.originalStart+t.originalLength>=r.originalStart&&(s=r.originalStart+r.originalLength-t.originalStart),t.modifiedStart+t.modifiedLength>=r.modifiedStart&&(l=r.modifiedStart+r.modifiedLength-t.modifiedStart),n[0]=new a9(i,s,a,l),!0}else return n[0]=null,!1}ClipDiagonalBound(t,r,n,i){if(t>=0&&t<i)return t;let s=n,a=i-n-1,l=r%2===0;if(t<0){let c=s%2===0;return l===c?0:1}else{let c=a%2===0;return l===c?i-1:i-2}}};d();function HNe(e){let t=new Set;return JSON.stringify(e,(r,n)=>{if(UIe(n)||Array.isArray(n)){if(t.has(n))return"[Circular]";t.add(n)}return typeof n=="bigint"?`[BigInt ${n.toString()}]`:n})}o(HNe,"safeStringify");var vG=!1,Nle=!0,fTt=200,Fk=class{constructor(t,r){this.ID=t;this._parserService=r;this.dependsOnSelection=!0}static{o(this,"AbstractNearbyCursorInlineEditProvider")}async provideNextEdit(t,r){let n=new J6(t),i=t.getActiveDocument(),s=Nk(i);if(!s||!s.isEmpty())return lo.noEdit({kind:"uncategorized",error:new Error("Selection is not empty")},n);let a=i.documentLinesBeforeEdit,l=i.recentEdit.apply(a),c=[];for(let b of t.documents)b.id!==i.id&&(c.push(`RELATED DOC: ${b.getDisplayPath()}`),c.push("```patch"),c.push(...gTt(b)),c.push("```"),c.push(""));c.push(`ORIGINAL VERSION: ${i.getDisplayPath()}`),c.push("```"),c.push(...a),c.push("```"),c.push("");let u="// ...rest of the lines omitted...",f=new ti(1,Math.max(1,s.startLineNumber-1)),m=i.recentEdit.edits.length>0?i.recentEdit.edits[i.recentEdit.edits.length-1].lineRange.endLineNumberExclusive-1:0,h;if(m>0&&m>=f.endLineNumberExclusive){let b=m<l.length;c.push(`IN PROGRESS VERSION ${b?" PREFIX":""}: ${i.getDisplayPath()}`),c.push("```"),c.push(...l.slice(0,m)),b&&(c.push(u),h={editRange:new ti(f.endLineNumberExclusive,m+1),omittedMessage:u}),c.push("```"),c.push("")}c.push(`NEXT VERSION: ${i.getDisplayPath()}`),c.push("```"),c.push(...l.slice(0,f.endLineNumberExclusive-1)),c.push("");let p=l.slice(f.endLineNumberExclusive-1).join(`
`),A=await this.fetchUntilConvergence(c.join(`
`),p,r);if(r.isCancellationRequested)return lo.noEdit({kind:"gotCancelled",message:"afterFetchCall"},n);if(A.isError())return A.err.kind==="cancel"?lo.noEdit({kind:"gotCancelled",message:"afterFetchCall"},n):lo.noEdit({kind:"fetchFailure",error:new Error(HNe(A.err))},n);let{result:x}=A.val;if(x.trim().length===0)return lo.noEdit({kind:"noSuggestions"},n);let v=bG(i.languageId,l,f,void 0,x,h),E=await Mle(this._parserService,v,i,{requireEditWithinNLines:5});if(E){let b=new Fs([E]);return lo.edit({edit:b},n)}else return lo.noEdit({kind:"filteredOut",message:"uncategorized"},n)}};Fk=Du([La(1,LA)],Fk);var l9=class extends Fk{constructor(r,n){super(l9.ID,r);this._chatMLFetcher=n}static{o(this,"MiniNearbyCursorInlineEditProvider")}static{this.ID="MiniNearbyCursorInlineEditProvider"}async fetchUntilConvergence(r,n,i){if(i.isCancellationRequested)return Ra.error({kind:"cancel"});let s=await Lle(this.ID,this._chatMLFetcher,[{role:Dle.ChatRole.System,content:`
Please no talking.
You must only provide code.
Simply provide the code that follows most logically.
You don't change code if not necessary.
You see the same file multiple times, but only the last one is the final version.
`.trim()},{role:Dle.ChatRole.User,content:r}],{convergence:n},i);if(s.isError())return s;let{ignored:a,result:l,headersTime:c}=s.val;return l=l.replace(/^```[^\n]*\n/,""),Ra.ok({ignored:a,result:l,headersTime:c})}};l9=Du([La(0,LA),La(1,QA)],l9);async function Lle(e,t,r,n,i){let s=new WW,a=!1,l,c=s.stream.map(x=>({choices:[{index:0,finish_reason:null,logprobs:null,text:x.delta.text}]})),u=mTt(c,n),f=t.fetchOne(r,async(x,v,E)=>(typeof l>"u"&&(l=Date.now()),s.update(x,E),a?x.length:void 0),i);(async()=>{try{await f}finally{s.resolve()}})();let{ignored:m,result:h,shouldCancelRequest:p}=await u;typeof l>"u"&&(l=Date.now()),p&&(a=!0);let A=await f;return A.type!=="success"?Ra.error({kind:"failure",err:new Error(`Fetch failed (${A.type}, ${A.reason})`)}):Ra.ok({headersTime:l,ignored:m,result:h})}o(Lle,"fetchUntilConvergence");function Nk(e){let t=new Wr(0,0);return e.lastSelectionInAfterEdit&&!e.lastSelectionInAfterEdit.equals(t)?e.documentAfterEdits.getTransformer().getRange(e.lastSelectionInAfterEdit):e.recentEdit.edits.length===0?null:dTt(e)}o(Nk,"getOrDeduceSelectionFromLastEdit");function dTt(e){let t=e.recentEdit.edits[e.recentEdit.edits.length-1],r=t.lineRange,i=e.recentEdit.getNewLineRanges()[e.recentEdit.edits.length-1].endLineNumberExclusive-1,s=t.newLines[t.newLines.length-1]??"";if(r.length===0)return new yi(i,s.length+1,i,s.length+1);let a=e.documentLinesBeforeEdit[r.endLineNumberExclusive-2],l=kM(a,s),c=s.length-l+1;return new yi(i,c,i,c)}o(dTt,"deduceSelectionFromLastEdit");async function mTt(e,t){let r=hTt(e,t.ignoreReplyTextBefore),n=t.convergence,i=t.maxCompletionLineCount??20,s=t.convergenceNonWhitespaceCharOverlap??40,a=n.replace(/\s/g,""),l=[],c=[],u=[],f=[],m=o(h=>{let p=c[0];return{ignored:l[0]??"",result:p.substring(0,p.lastIndexOf(`
`)+1),shouldCancelRequest:!0}},"returnEarly");for await(let h of r){if(h.kind==="ignore"){l[h.index]=(l[h.index]??"")+h.text;continue}let p=h.text;if(c[h.index]=c[h.index]??"",c[h.index]+=p,f[h.index]=f[h.index]??"",f[h.index]+=p.replace(/\s/g,""),u[h.index]=u[h.index]??0,u[h.index]+=p.split(`
`).length-1,p.indexOf(`
`)===-1||h.index!==0)continue;if(u[h.index]>i)return m(`too many lines: ${u[h.index]}`);let A=c[h.index];if(n.startsWith(A))continue;let x=A.split(`
`).slice(-4,-1);if(x.length<3||n.indexOf(x.join(`
`)+`
`)<=0)continue;let E=f[h.index].substring(f[h.index].length-s);if(a.indexOf(E)>0)return m("convergence!")}return{ignored:l[0]??"",result:c[0]??"",shouldCancelRequest:!1}}o(mTt,"fetchCompletionUntilConvergence");function hTt(e,t){let r=[],n=[];return new pk(async i=>{for await(let s of e)for(let a of s.choices){let l=a.index,c=a.text??"";if(!t||r[l]){i.emitOne({kind:"completion",index:l,text:c});continue}n[l]=(n[l]??"")+c;let u=n[l].match(t);!u||typeof u.index>"u"||(r[l]=!0,i.emitOne({kind:"ignore",index:l,text:n[l].substring(0,u.index+u[0].length)}),i.emitOne({kind:"completion",index:a.index,text:n[l].substring(u.index+u[0].length)}),n[l]=void 0)}for(let s=0;s<n.length;s++)typeof n[s]<"u"&&i.emitOne({kind:"ignore",index:s,text:n[s]})})}o(hTt,"getTextAfterFirstPattern");function pTt(e,t,r){let n=t.startLineNumber,i=t.endLineNumberExclusive,s=r.slice(0);for(;n+1<i&&s.length>0;){let a=e[i-2],l=s[s.length-1];if(a!==l)break;i--,s.pop()}for(;n+1<i&&s.length>0;){let a=e[n-1],l=s[0];if(a!==l)break;n++,s.shift()}return new oA(new ti(n,i),s)}o(pTt,"createReducedLineEdit");var c9=class{constructor(t,r,n,i){this.languageId=t;this.oldLines=r;this.oldLines=r,this.edit=pTt(r,n,i);let s=new Fs([this.edit]);this.newLines=s.apply(r)}static{o(this,"PossibleEdit")}hasEditWithinFirstLines(t){let r=this.oldLines.slice(this.edit.lineRange.startLineNumber-1,this.edit.lineRange.endLineNumberExclusive-1),n=this.edit.newLines;return s(r,n)<t;function s(a,l){for(let c=0;c<Math.min(a.length,l.length);c++)if(a[c]!==l[c])return c;return Math.min(a.length,l.length)}}resolveDiff(){let t=o((m,h,p)=>m.map(A=>{let x=h.lines.slice(A.originalStart,A.originalStart+A.originalLength),v=p.lines.slice(A.modifiedStart,A.modifiedStart+A.modifiedLength),E=x.join(`
`),b=v.join(`
`),{editDistance:_}=f(E,b);return new Ple(A.originalStart,A.originalLength,A.modifiedStart,A.modifiedLength,_)}),"computeEditDistances"),r=o(m=>{let h=0;for(let p of m)h+=p.editDistance;return{editDistance:h}},"computeDiffMetrics"),n=!1,i=new Bk(this.oldLines,n),s=new Bk(this.newLines,n),a=new Pk(i,s),l=t(a.ComputeDiff(),i,s),c=r(l),u=[];{let m=0;for(let h of l)u=u.concat(this.oldLines.slice(m,h.originalStart)),u=u.concat(this.newLines.slice(h.modifiedStart,h.modifiedStart+h.modifiedLength)),m=h.originalStart+h.originalLength;u=u.concat(this.oldLines.slice(m))}if(fte(this.newLines,u))return new Fle(this.languageId,this.oldLines,this.edit,this.newLines,l,c);return jNe(this.languageId,this.oldLines,u);function f(m,h){let p=new Dk(m),A=new Dk(h),v=new Pk(p,A).ComputeDiff(),E=0,b=0;for(let F of v)E+=F.originalLength,b+=F.modifiedLength;let _=m.length,R=h.length,P=E+b;return{aChanged:E,bChanged:b,aLength:_,bLength:R,editDistance:P}}}},Ple=class{constructor(t,r,n,i,s){this.originalStart=t;this.originalLength=r;this.modifiedStart=n;this.modifiedLength=i;this.editDistance=s}static{o(this,"DiffChangeWithEditDistance")}},Fle=class{constructor(t,r,n,i,s,a){this.languageId=t;this.oldLines=r;this.edit=n;this.newLines=i;this.diff=s;this.diffMetrics=a;this.parseErrorCount="unknown"}static{o(this,"PossibleEditWithDiff")}toLineEdit(t){if(t==="single")return new Fs([this.edit]);{let r=this.groupInHunks();return new Fs(r.map(n=>{let i=n[0],s=n[n.length-1];return new oA(new ti(i.originalStart+1,s.originalStart+s.originalLength+1),this.newLines.slice(i.modifiedStart,s.modifiedStart+s.modifiedLength))}))}}eliminateLargeChangeHunks(){if(!Nle)return this;let t=this.groupInHunks(),r=[];for(let n of t)n.every(s=>s.originalLength===0)||n.reduce((a,l)=>a+l.editDistance,0)>fTt&&(r=r.concat(n));if(r.length===this.diff.length)return null;if(r.length>0){let n=this._recreateNewLinesWithoutDiffs(r);return this._createPossibleEditFromLines(n)}return this}containWithinLines(t){let r=this.groupInHunks(),n=[];for(let i of r)for(let s of i){let a=s.originalStart+1,l=s.originalStart+s.originalLength+1;if(!Qle(new ti(a,l),t)){n=n.concat(i);break}}if(n.length===this.diff.length)return null;if(n.length>0){let i=this._recreateNewLinesWithoutDiffs(n);return this._createPossibleEditFromLines(i).containWithinLines(t)}return this}groupInHunks(){let t=[];for(let r of this.diff){let n=t.length>0?t[t.length-1]:null;if(!n){t.push([r]);continue}let i=n[n.length-1],s=this.oldLines.slice(i.originalStart+i.originalLength,r.originalStart);if(s.length>1){t.push([r]);continue}if(s[0].trim().length>10){t.push([r]);continue}if(n.reduce((c,u)=>c+u.originalLength,0)>1){t.push([r]);continue}n.push(r)}return t}_recreateNewLinesWithoutDiffs(t){let r=[],n=0;for(let i of t)r=r.concat(this.newLines.slice(n,i.modifiedStart)),r=r.concat(this.oldLines.slice(i.originalStart,i.originalStart+i.originalLength)),n=i.modifiedStart+i.modifiedLength;return r=r.concat(this.newLines.slice(n)),r}async resolveParseErrorCountIfPossible(t,r){let n=new Fs([this.edit]),i=r(n);this.parseErrorCount=await Lk(t,this.languageId,i)}eliminateEmptyLineChanges(){let t=o(r=>this._createPossibleEditFromLines(r).eliminateEmptyLineChanges(),"recurseWithNewLines");for(let r of this.diff){let n=this.oldLines.slice(r.originalStart,r.originalStart+r.originalLength),i=this.newLines.slice(r.modifiedStart,r.modifiedStart+r.modifiedLength);if(r.modifiedLength===0){if(n.every(a=>a.trim().length===0)){let a=this.newLines.slice(0);return a.splice(r.modifiedStart,0,...n),t(a)}continue}if(r.originalLength===0){if(i.every(a=>a.trim().length===0)){let a=this.newLines.slice(0);return a.splice(r.modifiedStart,r.modifiedLength),t(a)}continue}for(let s=0;s<n.length&&s<i.length;s++){let a=n[s],l=i[s],c=a.trim().length===0,u=l.trim().length===0;if(!(c&&u)){if(!c&&!u)break;if(c){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+s,0,a),t(f)}if(u){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+s,1),t(f)}}}for(let s=1;s<=n.length&&s<=i.length;s++){let a=n[n.length-s],l=i[i.length-s],c=a.trim().length===0,u=l.trim().length===0;if(!(c&&u)){if(!c&&!u)break;if(c){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+r.modifiedLength-s+1,0,a),t(f)}if(u){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+r.modifiedLength-s,1),t(f)}}}}return this}eliminateInsertedOrDeletedComments(){let t=[],r=0,n=!1;for(let i of this.diff){t=t.concat(this.newLines.slice(r,i.modifiedStart));let s=this.oldLines.slice(i.originalStart,i.originalStart+i.originalLength),a=this.newLines.slice(i.modifiedStart,i.modifiedStart+i.modifiedLength),{hasChanges:l,newDiffModifiedLines:c}=this._eliminateCommentsDiff(s,a);n=n||l,t=t.concat(c),r=i.modifiedStart+i.modifiedLength}return t=t.concat(this.newLines.slice(r)),n?this._createPossibleEditFromLines(t):this}_eliminateCommentsDiff(t,r){if(r.length===0){let c=!1,u=!1;for(let f of t){if(f.trim().length===0)continue;let m=JW(f,this.languageId);m&&m.content.trim().length===0?c=!0:u=!0}if(c&&!u)return{hasChanges:!0,newDiffModifiedLines:t}}let n=t.map(c=>JW(c,this.languageId)),i=r.map(c=>JW(c,this.languageId)),s=n.filter(c=>!!c).length,a=i.filter(c=>!!c).length;if(s===0&&a===0)return{hasChanges:!1,newDiffModifiedLines:r};if(s>0)return{hasChanges:!1,newDiffModifiedLines:r};let l=!1;for(let c=0;c<r.length;c++){let u=r[c],f=i[c];if(!f)continue;let{content:m}=f;r[c]=u.substring(0,m.length).trimEnd(),l=!0}return{hasChanges:l,newDiffModifiedLines:r}}_createPossibleEditFromLines(t){return jNe(this.languageId,this.oldLines,t)}};function Qle(e,t){return t.startLineNumber<e.startLineNumber&&e.startLineNumber<t.endLineNumberExclusive&&e.endLineNumberExclusive<=t.endLineNumberExclusive}o(Qle,"editIsInsideEditWindow");function jNe(e,t,r){let i=t.length+1,s=r.slice(0);return new c9(e,t,new ti(1,i),s).resolveDiff()}o(jNe,"createPossibleEditFromLines");function bG(e,t,r,n,i,s){if(i.trim().length===0)return[];let a=X6.fromString(i.trimEnd()),l=s?a.some(v=>v.indexOf(s.omittedMessage)>=0):!1,c=[],u=o((v,E)=>{c.push(new c9(e,t,v,E))},"generateEdit");function f(){n&&u(n,a)}o(f,"generateEditCompletionRange");function m(){if(l)return;let E=new ti(r.endLineNumberExclusive,t.length+1);E.length>a.length+5||u(E,a)}o(m,"generateEditAllDoc");function h(){for(let v=1;v<a.length;v++){let b=a.slice(a.length-v).join(`
`);for(let _=r.endLineNumberExclusive-1;_<t.length;_++){let P=t.slice(_,_+v).join(`
`);b===P&&u(new ti(r.endLineNumberExclusive,_+1),a.slice(0,a.length-v))}}}o(h,"generateEditsUsingOverlappingLines");function p(){if(!s||!l)return;let v=[];for(let E of a){if(E.indexOf(s.omittedMessage)>=0){u(s.editRange,v.map(b=>b));return}v.push(E)}}if(o(p,"generateEditWhenReplyContainsOmittedMessage"),f(),p(),m(),h(),!i.endsWith(`
`)){let v=i.substring(0,i.lastIndexOf(`
`)+1);c.push(...bG(e,t,r,n,v,s))}return A(c);function A(v){return x(v,o(b=>b.edit.lineRange.startLineNumber+","+b.edit.lineRange.endLineNumberExclusive+","+b.edit.newLines.join("|"),"keyfn"))}function x(v,E){let b=new Set,_=[];for(let R of v){let P=E(R);b.has(P)||(b.add(P),_.push(R))}return _}}o(bG,"generatePossibleEdits");async function Mle(e,t,r,n){let a=t.filter(m=>m.hasEditWithinFirstLines(n.requireEditWithinNLines)).map(m=>m.resolveDiff()).map(m=>m.eliminateEmptyLineChanges()),l=vG?await Lk(e,r.languageId,r.documentAfterEditsNoShortening.value):"unknown";if(vG){let m=o(h=>{let p=r.documentAfterEditsNoShortening;return r.toEditOnDocumentAfterEditsNoShortening(h).apply(p.value)},"applyToDocumentNoShortening");await Promise.all(a.map(h=>h.resolveParseErrorCountIfPossible(e,m)))}let c=a.filter(m=>l==="unknown"?m.parseErrorCount===0:m.parseErrorCount!=="unknown"&&m.parseErrorCount<=l),u=c.length>0?c:a;u.sort((m,h)=>m.parseErrorCount===h.parseErrorCount?0:m.parseErrorCount==="unknown"?1:h.parseErrorCount==="unknown"?-1:m.parseErrorCount-h.parseErrorCount);let f=o(m=>m.diffMetrics.editDistance,"score");return u.sort((m,h)=>f(m)-f(h)),u.length>0?u[0].edit:null}o(Mle,"selectBestEdit");function gTt(e){let r=[],n=e.documentLinesBeforeEdit,i=0,s=0,a=-1,l=o((c,u)=>{c>a+1&&r.push("[...]"),u?r.push(`-${n[c]}`):r.push(`${n[c]}`),a=c},"addOldLineIndex");for(let c of e.recentEdit.edits){for(;i<c.lineRange.startLineNumber-1;)Math.min(c.lineRange.startLineNumber-i-1,s>0?i-s-2:1073741824)<=2&&l(i,!1),i++;for(;i<c.lineRange.endLineNumberExclusive-1;)l(i,!0),i++;r.push(c.newLines.map(u=>`+${u}`).join(`
`)),s=c.lineRange.endLineNumberExclusive}for(;i<n.length;)i-s+2<=2&&l(i,!1),i++;return r.push("[...]"),r}o(gTt,"summariseDocDiff");function VNe(e){let t=[];for(let r of e.recentEdit.edits){let n=e.documentLinesBeforeEdit.slice(r.lineRange.startLineNumber-1,r.lineRange.endLineNumberExclusive-1),i=r.newLines;if(n.filter(a=>a.trim().length>0).length===0&&i.filter(a=>a.trim().length>0).length===0)continue;let s=r.lineRange.startLineNumber+e.clippingRange.startLineNumber-1;t.push(`@@ -${s},${n.length} +${s},${i.length} @@`),t.push(...n.map(a=>`-${a}`)),t.push(...i.map(a=>`+${a}`))}return t}o(VNe,"summarizeEditsAsUnifiedDiff");async function Lk(e,t,r){return await e.getTreeSitterAST({languageId:t,getText:o(()=>r,"getText")})?.getParseErrorCount()??"unknown"}o(Lk,"getParseErrorCount");d();var $Ne=et(Rk());d();var wC=class extends $Ne.PromptRenderer{constructor(r,n,i={validate:!0},s,a,l){let c=s.acquireTokenizer({tokenizer:l.tokenizerName}),u={modelMaxPromptTokens:l.tokenBudget};super(u,r,n,c);this.options=i;this._instantiationService=a}static{o(this,"PromptRenderer")}static create(r,n,i,s={validate:!0}){return r.invokeFunction(a=>{let l=a.get(mk);return new wC(n,i,s,l,r,a.get(QA))})}createElement(r,...n){return this._instantiationService.createInstance(r.ctor,r.props,...n)}async render(r,n,i){let s=await super.render(r,n);i={...{trace:!0},...i};for(let c=1;c<s.messages.length;c++){let u=s.messages[c],f=s.messages[c-1];u.role==="system"&&f.role==="system"&&(f.content+=`
`+u.content,s.messages.splice(c,1),c--)}let l=s.messages[s.messages.length-1];if(this.options.validate&&l&&l.role!=="user"&&l.role!=="function")throw new Error("Sorry, this message is too long. Please try a shorter question.");return{...s,references:[]}}async countTokens(r){return(await super.render(void 0,r)).tokenCount}};wC=Du([La(3,mk),La(4,_g),La(5,QA)],wC);d();var zNe=et(Rk());var EG=class extends zNe.PromptElement{static{o(this,"SafetyRules")}render(){return vscpp(vscppf,null,"Follow Microsoft content policies.",vscpp("br",null),"Avoid content that violates copyrights.",vscpp("br",null),`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,vscpp("br",null),"Keep your answers short and impersonal.",vscpp("br",null))}};d();d();var IG=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{o(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new Wr(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=ih(this.lineStartOffsetByLineIdx,s=>s<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new Ao(n,i)}getRange(t){return yi.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return uf.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new uf(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var Ole=class{static{o(this,"AbstractDocument")}rangeToOffsetRange(t){return new Wr(this.getOffsetAtPosition(t.start),this.getOffsetAtPosition(t.end))}offsetRangeToRange(t){return new Au(this.getPositionAtOffset(t.start),this.getPositionAtOffset(t.endExclusive))}},Bh=class extends Ole{constructor(r){super();this.value=r;this._transformer=new IG(this.value)}static{o(this,"StringTextDocument")}getText(){return this.value}getLineText(r){let n=this._transformer.getOffset(new Ao(r+1,1)),i=n+this.getLineLength(r);return this.value.substring(n,i)}getLineLength(r){return this._transformer.getLineLength(r+1)}getLineCount(){return this._transformer.textLength.lineCount+1}getTextInOffsetRange(r){return r.substring(this.value)}getPositionAtOffset(r){return ATt(this._transformer.getPosition(r))}getOffsetAtPosition(r){return r=this._validatePosition(r),this._transformer.getOffset(yTt(r))}_validatePosition(r){if(r.line<0)return new _o(0,0);let n=this._transformer.textLength.lineCount+1;if(r.line>=n){let s=this._transformer.getLineLength(n);return new _o(n-1,s)}if(r.character<0)return new _o(r.line,0);let i=this._transformer.getLineLength(r.line+1);return r.character>i?new _o(r.line,i):r}};function ATt(e){return new _o(e.lineNumber-1,e.column-1)}o(ATt,"corePositionToVSCodePosition");function yTt(e){return new Ao(e.line+1,e.character+1)}o(yTt,"vsCodePositionToCorePosition");d();d();function YNe(e){if(e.length===0)return 1/0;let t=e[0];for(let r=1;r<e.length;r++)t=Math.min(t,e[r]);return t}o(YNe,"min");d();function Ule(e,t){let r=t(e);return{...r,range:[r.range.start,r.range.endExclusive],children:r.children?.map(n=>Ule(n,t))}}o(Ule,"toAstNode");function KNe(e,t){let r=ZI(t,a=>a.endExclusive>=e.start),n=ih(t,a=>a.start<=e.endExclusive)+1;if(r===n)return[e];let i=[],s=e.start;for(let a=r;a<n;a++){let l=t[a];l.start>s&&i.push(new Wr(s,l.start)),s=l.endExclusive}return s<e.endExclusive&&i.push(new Wr(s,e.endExclusive)),i}o(KNe,"subtractRange");d();d();d();var TG=class{static{o(this,"PrefixSumComputer")}constructor(t){this.values=t,this.prefixSum=new Uint32Array(t.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}getCount(){return this.values.length}insertValues(t,r){t=tx(t);let n=this.values,i=this.prefixSum,s=r.length;return s===0?!1:(this.values=new Uint32Array(n.length+s),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t),t+s),this.values.set(r,t),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(t,r){return t=tx(t),r=tx(r),this.values[t]===r?!1:(this.values[t]=r,t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),!0)}removeValues(t,r){t=tx(t),r=tx(r);let n=this.values,i=this.prefixSum;if(t>=n.length)return!1;let s=n.length-t;return r>=s&&(r=s),r===0?!1:(this.values=new Uint32Array(n.length-r),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t+r),t),this.prefixSum=new Uint32Array(this.values.length),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(t){return t<0?0:(t=tx(t),this._getPrefixSum(t))}_getPrefixSum(t){if(t<=this.prefixSumValidIndex[0])return this.prefixSum[t];let r=this.prefixSumValidIndex[0]+1;r===0&&(this.prefixSum[0]=this.values[0],r++),t>=this.values.length&&(t=this.values.length-1);for(let n=r;n<=t;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],t),this.prefixSum[t]}getIndexOf(t){t=Math.floor(t),this.getTotalSum();let r=0,n=this.values.length-1,i=0,s=0,a=0;for(;r<=n;)if(i=r+(n-r)/2|0,s=this.prefixSum[i],a=s-this.values[i],t<a)n=i-1;else if(t>=s)r=i+1;else break;return new qle(i,t-a)}};var qle=class{constructor(t,r){this.index=t;this.remainder=r;this._prefixSumIndexOfResultBrand=void 0;this.index=t,this.remainder=r}static{o(this,"PrefixSumIndexOfResult")}};var Qk=class{static{o(this,"PositionOffsetTransformer")}constructor(t){this._lines=b5(t),this._eol=t.charAt(this._lines[0].length)==="\r"?`\r
`:`
`;let r=new Uint32Array(this._lines.length);for(let n=0;n<this._lines.length;n++)r[n]=this._lines[n].length+this._eol.length;this._lineStarts=new TG(r)}_getText(){return this._lines.join(this._eol)}applyOffsetEdits(t){let{edits:r}=t;for(let n=r.length-1;n>=0;n--){let i=r[n],s=this.toRange(i.replaceRange);this._acceptDeleteRange(s),this._acceptInsertText(s.start,i.newText)}}_acceptDeleteRange(t){if(t.start.line===t.end.line){if(t.start.character===t.end.character)return;this._setLineText(t.start.line,this._lines[t.start.line].substring(0,t.start.character)+this._lines[t.start.line].substring(t.end.character));return}this._setLineText(t.start.line,this._lines[t.start.line].substring(0,t.start.character)+this._lines[t.end.line].substring(t.end.character)),this._lines.splice(t.start.line+1,t.end.line-t.start.line),this._lineStarts.removeValues(t.start.line+1,t.end.line-t.start.line)}_acceptInsertText(t,r){if(r.length===0)return;let n=b5(r);if(n.length===1){this._setLineText(t.line,this._lines[t.line].substring(0,t.character)+n[0]+this._lines[t.line].substring(t.character));return}n[n.length-1]+=this._lines[t.line].substring(t.character),this._setLineText(t.line,this._lines[t.line].substring(0,t.character)+n[0]);let i=new Uint32Array(n.length-1);for(let s=1;s<n.length;s++)this._lines.splice(t.line+1+s-1,0,n[s]),i[s-1]=n[s].length+this._eol.length;this._lineStarts.insertValues(t.line+1,i)}_setLineText(t,r){this._lines[t]=r,this._lineStarts.setValue(t,this._lines[t].length+this._eol.length)}getLineCount(){return this._lines.length}getOffset(t){return t=this.validatePosition(t),this._lineStarts.getPrefixSum(t.line-1)+t.character}getPosition(t){t=Math.floor(t),t=Math.max(0,t);let r=this._lineStarts.getIndexOf(t),n=this._lines[r.index].length;return new _o(r.index,Math.min(r.remainder,n))}toRange(t){return new Au(this.getPosition(t.start),this.getPosition(t.endExclusive))}toOffsetRange(t){return new Wr(this.getOffset(t.start),this.getOffset(t.end))}toOffsetEdit(t){let r=t.map(n=>new Y6(this.validateRange(n.range),n.newText));return new Dd(r.map(n=>new Va(this.toOffsetRange(n.range),n.newText)))}toTextEdits(t){return t.edits.map(r=>new Y6(this.toRange(r.replaceRange),r.newText))}validatePosition(t){if(!(t instanceof _o))throw new Error("Invalid argument");if(this._lines.length===0)return t.with(0,0);let{line:r,character:n}=t,i=!1;if(r<0)r=0,n=0,i=!0;else if(r>=this._lines.length)r=this._lines.length-1,n=this._lines[r].length,i=!0;else{let s=this._lines[r].length;n<0?(n=0,i=!0):n>s&&(n=s,i=!0)}return i?new _o(r,n):t}validateRange(t){return new Au(this.validatePosition(t.start),this.validatePosition(t.end))}};var wG=class{constructor(t,r){this.originalText=t;this.edits=r;this._positionOffsetTransformer=new Hp(()=>new Qk(this.text));this._originalPositionOffsetTransformer=new Hp(()=>new Qk(this.originalText));this._text=new Hp(()=>this.edits.apply(this.originalText))}static{o(this,"ProjectedText")}get positionOffsetTransformer(){return this._positionOffsetTransformer.value}get originalPositionOffsetTransformer(){return this._originalPositionOffsetTransformer.value}get text(){return this._text.value}get lineCount(){return this.positionOffsetTransformer.getLineCount()}get isOriginal(){return this.edits.isEmpty||this.edits.isNoop(this.originalText)}project(t){return this.edits.applyToOffset(t)}projectOffsetRange(t){return this.edits.applyToOffsetRange(t)}projectRange(t){let r=this.originalPositionOffsetTransformer.toOffsetRange(t),n=this.projectOffsetRange(r);return this.positionOffsetTransformer.toRange(n)}projectOffsetEdit(t){return t.tryRebase(this.edits)}projectBack(t){return this.edits.applyInverseToOffset(t)}projectBackOffsetEdit(t){return t.tryRebase(this.edits.inverse(this.originalText))}projectBackTextEdit(t){let r=this.positionOffsetTransformer.toOffsetEdit(t),n=this.projectBackOffsetEdit(r);return this.originalPositionOffsetTransformer.toTextEdits(n)}};var Wle=class{constructor(t,r,n,i,s){this.parent=t;this.overlayNode=r;this.range=n;this.children=i;this._document=s}static{o(this,"RemovableNode")}get kind(){return this.overlayNode.kind}get text(){return this._document.getTextInOffsetRange(this.range)}},Av=class extends wG{constructor(r,n){super(r.getText(),n);this.baseDocument=r}static{o(this,"ProjectedDocument")}getLanguageId(){return this.baseDocument.languageId}};function SG(e,t,r){let n=[],i=[],s=[];for(let l=0;l<r.length;l++){let{document:c,overlayNodeRoot:u,selection:f}=r[l],m=c.getText(),h=f?c.rangeToOffsetRange(f):void 0,p=JNe(u,c),A=Gle.fromRootNode(p,m),x=Hle.fromNode(A,!!t.tryPreserveTypeChecking,!!t.alwaysUseEllipsisForElisions);h&&x.visitAll(W=>W.node.range.intersectsOrTouches(h)?(W.node.children.length===0&&W.markAsSurviving(),!0):!1),n.push(x),i.push(x.getTextFragment());let v=o(W=>h?W.range.endExclusive<h.start?h.start-W.range.endExclusive:W.range.start>h.endExclusive?3*(W.range.start-h.endExclusive):0:0,"distanceScoreToSelection"),E=new tA(W=>h?W.children.length===0?W.range.intersectsOrTouches(h)?0:Number.MAX_SAFE_INTEGER:YNe(W.children.map(se=>E.get(se)))+1:0),b=new tA(W=>{let se=W.parent?b.get(W.parent):Number.MAX_SAFE_INTEGER,de=E.get(W);return Math.min(se,de)}),_=!!t.tryPreserveTypeChecking,R=o(W=>_&&W.node?.kind==="import_statement"?0:100*b.get(W)+W.depth+10*(v(W)/m.length),"costFn"),P=typeof t.costFnOverride=="object"?t.costFnOverride.createCostFn(c):t.costFnOverride;if(P!==void 0){let W=R;R=o(se=>{let de=W(se);return de===!1?!1:se.node?P(se.node,de,c):de},"costFn")}let F=x.getDescendantsAndSelf();for(let W of F){if(!W.node.node)continue;let se=R(W.node);se!==!1&&s.push({idx:l,node:W,cost:se})}}s.sort(y5(l=>l.cost,C5));for(let{node:l,idx:c}of s){if(l.markAsSurviving(),n.reduce((f,m)=>f+m.getTextFragment().length,0)>e)break;i[c]=n[c].getTextFragment()}let a=[];for(let l=0;l<i.length;l++){let c=i[l],{document:u}=r[l],f=new Av(u,c.toTextEditFromOriginal(u.getText().length)),m=f,h=n[l];m.getVisualization=()=>({$fileExtension:"ast.w",source:{value:f.originalText,decorations:KNe(Wr.ofLength(f.originalText.length),f.edits.edits.map(p=>p.replaceRange)).map(p=>({range:[p.start,p.endExclusive],color:"lime"}))},root:Ule(h,p=>({label:(p.node.node?.kind||"unknown")+` (${s.find(A=>A.node===p)?.cost})`,range:p.node.range,children:p.childNodes,isMarked:p._surviving}))}),a.push(f)}return a}o(SG,"summarizeDocumentsSyncImpl");function JNe(e,t,r=void 0){let n=new Wr(e.startIndex,e.endIndex),i=[],s=new Wle(r,e,n,i,t);for(let a of e.children)i.push(JNe(a,t,s));return s}o(JNe,"createRemovableNodeFromOverlayNode");var Gle=class e{constructor(t,r,n,i,s,a){this.node=t;this.range=r;this.children=n;this.depth=i;this.parent=s;this.document=a}static{o(this,"TextNode")}static fromRootNode(t,r){let n=new Wr(0,r.length);if(t.range.equals(n))return e.fromNode(t,r);let i=new Wr(0,t.range.start),s=new Wr(t.range.endExclusive,r.length),a=[],l=new e(void 0,n,a,0,null,r);return i.isEmpty||a.push(new e(void 0,i,[],0,l,r)),a.push(e.fromNode(t,r,1,null)),s.isEmpty||a.push(new e(void 0,s,[],0,l,r)),l}static fromNode(t,r,n=0,i=null){let s=[],a=new e(t,t.range,s,n,i,r);if(t.children.length>0){let l=t.range.start;for(let u of t.children){let f=new Wr(l,u.range.start);f.isEmpty||s.push(new e(void 0,f,[],n,a,r)),s.push(e.fromNode(u,r,n+1,a)),l=u.range.endExclusive}let c=new Wr(l,t.range.endExclusive);c.isEmpty||s.push(new e(void 0,c,[],n,a,r))}return a}getLeadingWs(){return CTt(this.document,this.range)}getTrailingWs(){return xTt(this.document,this.range)}};function CTt(e,t){let r=t.substring(e),n=r.length-r.trimStart().length;return r.substring(0,n)}o(CTt,"getLeadingWs");function xTt(e,t){let r=t.substring(e),n=r.length-r.trimEnd().length;return r.substring(r.length-n)}o(xTt,"getTrailingWs");var Hle=class e{constructor(t,r,n,i,s){this.node=t;this.parent=r;this.childNodes=n;this._tryPreserveTypeChecking=i;this._alwaysUseEllipsisForElisions=s;this._surviving=!1;this._textFragment=null}static{o(this,"SurvivingTextNode")}static fromNode(t,r,n){return e.fromNodeParent(t,null,r,n)}static fromNodeParent(t,r,n,i){let s=[],a=new e(t,r,s,n,i);for(let l of t.children){let c=e.fromNodeParent(l,a,n,i);s.push(c)}return a}visitAll(t){if(t(this))for(let r of this.childNodes)r.visitAll(t)}markAsSurviving(){this._surviving||(this._surviving=!0,this.parent&&this.parent.markAsSurviving(),this.invalidate())}invalidate(){this._textFragment&&(this._textFragment=null,this.parent&&this.parent.invalidate())}getTextFragment(){return this._textFragment||(this._textFragment=this._computeSummarization()),this._textFragment}_computeSummarization(){if(this.childNodes.length===0&&(this._surviving||!this.node.node))return new _C(this.node.range,this.node.document);if(!this._surviving)return new gv("");let t=Array.from(uM(this.childNodes.map(n=>({node:n,fragment:n.getTextFragment()})),(n,i)=>n.fragment.length===0==(i.fragment.length===0)));for(let n=0;n<t.length;n++){let i=t[n],s=i[0].fragment.length===0;if(s&&n>0&&n<t.length-1){let a=t[n-1].at(-1),l=t[n+1].at(0);if(a.fragment instanceof _C&&l.fragment instanceof _C){let c=a.fragment.trimEnd(),u=l.fragment.trimStart();if(c.endsWith("{")&&u.startsWith("}")){t[n-1][t[n-1].length-1].fragment=c,i.length=1,i[0].fragment=new gv(this._tryPreserveTypeChecking?"/ * ... * /":"\u2026"),t[n+1][0].fragment=u;continue}}}if(this._alwaysUseEllipsisForElisions&&s&&(n>0||n<t.length-1)){i.length=1;let a=i.at(0).node.node.getLeadingWs(),l=a.lastIndexOf(`
`);l!==-1&&(a=a.substring(l+1));let c=i.at(-1).node.node.getTrailingWs();i[0].fragment=new gv(a+(this._tryPreserveTypeChecking?"/ * ... * /":"\u2026")+c)}}let r=[];for(let n of t)for(let i of n)vTt(r,i.fragment);return _G.from(r)}getDescendantsAndSelf(){let t=[];return this._getDescendantsAndSelf(t),t}_getDescendantsAndSelf(t){t.push(this);for(let r of this.childNodes)r._getDescendantsAndSelf(t)}},Mk=class{static{o(this,"TextFragment")}toString(){return this.text}toTextEditFromOriginal(t){let r=[],n=0,i="";function s(l){(n!==l||i.length>0)&&(r.push(new Va(new Wr(n,l),i)),i="")}o(s,"emit");function a(l){if(l instanceof _G)for(let c of l.fragments)a(c);else l instanceof gv?i+=l.text:l instanceof _C&&(s(l.range.start),n=l.range.endExclusive)}return o(a,"process"),a(this),s(t),new Dd(r)}},gv=class extends Mk{constructor(r){super();this.text=r}static{o(this,"LiteralTextFragment")}get length(){return this.text.length}},_C=class e extends Mk{constructor(r,n){super();this.range=r;this.originalText=n}static{o(this,"OriginalTextFragment")}get length(){return this.range.length}get text(){return this.range.substring(this.originalText)}trimStart(){let r=this.text.trimStart();return r.length===this.length?this:new e(new Wr(this.range.endExclusive-r.length,this.range.endExclusive),this.originalText)}trimEnd(){let r=this.text.trimEnd();return r.length===this.length?this:new e(new Wr(this.range.start,this.range.start+r.length),this.originalText)}startsWith(r){return this.text.startsWith(r)}endsWith(r){return this.text.endsWith(r)}tryJoin(r){return this.range.endExclusive===r.range.start?new e(new Wr(this.range.start,r.range.endExclusive),this.originalText):null}},_G=class e extends Mk{constructor(r){super();this.fragments=r;this.length=this.fragments.reduce((r,n)=>r+n.length,0)}static{o(this,"ConcatenatedTextFragment")}static from(r){return r.length===0?new gv(""):r.length===1?r[0]:new e(r)}get text(){return this.fragments.map(r=>r.text).join("")}};function vTt(e,t){if(t.length===0)return;let r=e[e.length-1];if(r&&r instanceof _C&&t instanceof _C){let n=r.tryJoin(t);if(n){e[e.length-1]=n;return}}e.push(t)}o(vTt,"pushFragment");d();d();var kG=class{constructor(t,r,n,i){this.startIndex=t;this.endIndex=r;this.kind=n;this.children=i;if(t>r)throw new Fi("startIndex must be less than endIndex");let s=t;for(let a of i){if(a.startIndex<s)throw new Fi("Invalid child startIndex");if(a.endIndex>r)throw new Fi("Invalid child endIndex");s=Math.max(a.endIndex,s)}}static{o(this,"OverlayNode")}toString(){let t=[];function r(n,i=""){t.push(`${i}${n.kind} [${n.startIndex}, ${n.endIndex}]`),n.children.forEach(s=>r(s,i+"    "))}return o(r,"toString"),r(this),t.join(`
`)}};function XNe(e,t,r){let n=e.getText().split(/\r\n|\r|\n/g),i=r||{tabSize:4},s={getLineCount:o(()=>n.length,"getLineCount"),getLineContent:o(a=>n[a-1],"getLineContent"),getOptions:o(()=>i,"getOptions")};try{let a=bTt(s,t),[l]=eLe(e,a,void 0);return l.adjust(e,tLe(t)),l.toOverlayNode(e,!0)}catch{return new RG(1,e.getLineCount(),[]).toOverlayNode(e,!0)}}o(XNe,"getStructureUsingIndentation");function eLe(e,t,r){if(typeof r<"u"&&r>=t.length)throw new Error(`Invalid region index ${r}`);let n=typeof r>"u"?1:t.getStartLineNumber(r),i=typeof r>"u"?e.getLineCount():t.getEndLineNumber(r),s=[],a=null;for(r=typeof r>"u"?0:r+1;r<t.length;){let l=t.getStartLineNumber(r),c=t.getEndLineNumber(r);if(l>i||c>i)break;let u=a;if([a,r]=eLe(e,t,r),u&&a.startLineNumber<=u.endLineNumber)throw new Fi("Invalid Folding Ranges: overlapping children");if(a.startLineNumber<n)throw new Fi("Invalid Folding Ranges: child starts before parent");s.push(a)}return[new RG(n,i,s),r]}o(eLe,"createFoldingRangeTree");var RG=class{constructor(t,r,n){this.startLineNumber=t;this.endLineNumber=r;this.children=n;if(t>r)throw new Fi("Invalid Folding Ranges: startLineNumber > endLineNumber")}static{o(this,"FoldingRangeNode")}adjust(t,r){r?this._adjustOffside():this._adjustRegular(t,t.getLineCount())}_adjustOffside(){this.startLineNumber++;for(let t of this.children)t._adjustOffside()}_adjustRegular(t,r){if(this.endLineNumber<r){let n=t.getLineText(this.endLineNumber).trim(),i=/^[\}\]\)];?$/.test(n),s=/^<\/\w/.test(n);(i||s)&&this.endLineNumber++}for(let n=this.children.length-1;n>=0;n--){let i=this.children[n],s=n+1<this.children.length?this.children[n+1].startLineNumber-1:r;i._adjustRegular(t,s)}}toOverlayNode(t,r){let n=[],i=r&&this.startLineNumber===1?1:this.startLineNumber+1;for(let s of this.children){for(let a=i;a<s.startLineNumber;a++){let l=jle(t,a,a,"LINE",[]);l&&n.push(l)}n.push(s.toOverlayNode(t,!1)),i=s.endLineNumber+1}for(let s=i;s<this.endLineNumber;s++){let a=jle(t,s,s,"LINE",[]);a&&n.push(a)}return jle(t,this.startLineNumber,this.endLineNumber,"FOLD",n)}};function jle(e,t,r,n,i){let s=e.getOffsetAtPosition(new _o(t-1,0)),a=r<e.getLineCount()?new _o(r,0):new _o(r-1,e.getLineLength(r-1)),l=e.getOffsetAtPosition(a);return new kG(s,l,n,i)}o(jle,"createOverlayNode");function bTt(e,t){return ETt(e,tLe(t))}o(bTt,"generateFoldingRegions");function tLe(e){return["clojure","coffeescript","fsharp","latex","markdown","pug","python","sql","yaml"].includes(e)}o(tLe,"isOffSide");function ETt(e,t){let r=e.getOptions().tabSize,n=new Vle,i=[],s=e.getLineCount()+1;i.push({indent:-1,endAbove:s,line:s});for(let a=e.getLineCount();a>0;a--){let l=e.getLineContent(a),c=TTt(l,r),u=i[i.length-1];if(c===-1){t&&(u.endAbove=a);continue}if(u.indent>c){do i.pop(),u=i[i.length-1];while(u.indent>c);let f=u.endAbove-1;f-a>=1&&n.insertFirst(a,f,c)}u.indent===c?u.endAbove=a:i.push({indent:c,endAbove:a,line:a})}return n.toIndentRanges()}o(ETt,"_computeRanges");var ITt=65535,yv=16777215,ZNe=4278190080,Vle=class{static{o(this,"RangesCollector")}constructor(){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0}insertFirst(t,r,n){if(t>yv||r>yv)return;let i=this._length;this._startIndexes[i]=t,this._endIndexes[i]=r,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(){let t=new Uint32Array(this._length),r=new Uint32Array(this._length);for(let n=this._length-1,i=0;n>=0;n--,i++)t[i]=this._startIndexes[n],r[i]=this._endIndexes[n];return new $le(t,r)}};function TTt(e,t){let r=0,n=0,i=e.length;for(;n<i;){let s=e.charCodeAt(n);if(s===32)r++;else if(s===9)r=r-r%t+t;else break;n++}return n===i?-1:r}o(TTt,"computeIndentLevel");var $le=class{static{o(this,"FoldingRegions")}constructor(t,r){this._startIndexes=t,this._endIndexes=r,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let t=[],r=o((n,i)=>{let s=t[t.length-1];return this.getStartLineNumber(s)<=n&&this.getEndLineNumber(s)>=i},"isInsideLast");for(let n=0,i=this._startIndexes.length;n<i;n++){let s=this._startIndexes[n],a=this._endIndexes[n];if(s>yv||a>yv)throw new Error("startLineNumber or endLineNumber must not exceed "+yv);for(;t.length>0&&!r(s,a);)t.pop();let l=t.length>0?t[t.length-1]:-1;t.push(n),this._startIndexes[n]=s+((l&255)<<24),this._endIndexes[n]=a+((l&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(t){return this._startIndexes[t]&yv}getEndLineNumber(t){return this._endIndexes[t]&yv}getParentIndex(t){this.ensureParentIndices();let r=((this._startIndexes[t]&ZNe)>>>24)+((this._endIndexes[t]&ZNe)>>>16);return r===ITt?-1:r}contains(t,r){return this.getStartLineNumber(t)<=r&&this.getEndLineNumber(t)>=r}findIndex(t){let r=0,n=this._startIndexes.length;if(n===0)return-1;for(;r<n;){let i=Math.floor((r+n)/2);t<this.getStartLineNumber(i)?n=i:r=i+1}return r-1}findRange(t){let r=this.findIndex(t);if(r>=0){if(this.getEndLineNumber(r)>=t)return r;for(r=this.getParentIndex(r);r!==-1;){if(this.contains(r,t))return r;r=this.getParentIndex(r)}}return-1}};d();function zle(e){return e instanceof Error?e:typeof e=="string"?new Error(e):new Error(`An unexpected error occurred: ${e}`)}o(zle,"fromUnknown");var ul=et(Rk());var BG="current-version",kf="next-version",rLe=2,nLe=10,iLe=.7,STt=/```[^\n]*\n/,SC=class extends zW{constructor(r,n,i){super(SC.ID,[s=>new ZW(s),s=>new YW(s),s=>new KW(s)]);this.fetcher=r;this._parserService=n;this._instantiationService=i;this.dependsOnSelection=!0;this.showNextEditPreference="always";this._delayer=new jW}static{o(this,"GhNearbyNesProvider")}static{this.ID="GhNearbyNesProvider"}canReuseResult(r,n){if(r.getActiveDocument().id!==n.getActiveDocument().id||r.documents.length!==n.documents.length)return!1;let i=new Map(r.documents.map(a=>[a.id,a]));for(let a of n.documents){let l=i.get(a.id);if(!l||!s(l,a))return!1}return!0;function s(a,l){if(a.documentAfterEditsNoShortening.value!==l.documentAfterEditsNoShortening.value)return!1;let c=Nk(a),u=c?Yle(a,c):null,f=Nk(l),m=f?Yle(l,f):null;return!u||!m?!0:Math.abs(u.line-m.line)<Math.min(rLe,nLe)}}handleAcceptance(){this._delayer.handleAcceptance()}handleRejection(){this._delayer.handleRejection()}async provideNextEditBase(r,n){let i=new J6(r),s=this._delayer.createDelaySession(),a;try{a=await this.doGetNextEdit(r,i,s,n)}catch(c){return lo.noEdit({kind:"unexpected",error:zle(c)},i)}let l=s.getArtificalDelay();return l>0&&await uv(l),a}async doGetNextEdit(r,n,i,s){return r.documents.some(c=>{if(c.recentEdit.edits.length===0)return!1;for(let u of c.recentEdit.edits)if(!u.lineRange.isEmpty||u.newLines.length>0)return!0;return!1})?await this.sendRequestAndProcessResult(r,i,s,n):lo.noEdit({kind:"activeDocumentHasNoEdits"},n)}async sendRequestAndProcessResult(r,n,i,s){let a=await this.createPrompt(r,i);if(!a)return lo.noEdit({kind:"noSuggestions"},s);if(!a.editWindowIsInPrompt)return lo.noEdit({kind:"filteredOut",message:"promptTooLarge"},s);if(await this.debounce(n,s),i.isCancellationRequested){let R={kind:"gotCancelled",message:"afterDebounce"};return lo.noEdit(R,s)}let{summarizedEditWindow:l,editWindowAllowedEditLineRange:c,allowedEditLineRange:u,maxCompletionLineCount:f,messages:m,completionPrefixRange:h,completionRange:p,convergence:A,activeDocument:x,activeDocumentLines:v}=a;s.setFetchStartedAt(),r.fetchIssued=!0;let E=await Lle(this.ID,this.fetcher,m,{convergence:A,ignoreReplyTextBefore:STt,maxCompletionLineCount:f,convergenceNonWhitespaceCharOverlap:1e3},i);if(s.setFetchResultIfNotSet(E.isOk()?"success":E.err.kind==="cancel"||i.isCancellationRequested?"cancelled":"failure"),i.isCancellationRequested)return lo.noEdit({kind:"gotCancelled",message:"afterFetchCall"},s);if(E.isError())return E.err.kind==="cancel"?lo.noEdit({kind:"gotCancelled",message:"afterFetchCall"},s):lo.noEdit({kind:"fetchFailure",error:zle(E.err.err)},s);let{result:b}=E.val;if(b.length===0){let R=`<${kf}>
`,P=E.val.ignored.indexOf(R);P>=0&&(b=E.val.ignored.substring(P+R.length))}if(b=kTt(b),b.trim().length===0)return lo.noEdit({kind:"noSuggestions"},s);let _;if(l&&c&&u){let R=RTt(x,l,c,b);if(!R||R.edits.length===0)return lo.noEdit({kind:"filteredOut",message:"Content is identical or cannot get clean diff within edit window"},s);let P=BTt(l,R);if(P.edits.length===0)return lo.noEdit({kind:"filteredOut",message:"No-op edit or could not map back to original document"},s);if(vG){let se=await Lk(this._parserService,x.languageId,x.documentAfterEditsNoShortening.value),de=P.apply(x.documentAfterEditsNoShortening.value);if(await Lk(this._parserService,x.languageId,de)>se)return lo.noEdit({kind:"filteredOut",message:"More parse errors after edit"},s)}_=DTt(x,P);let F=_.edits[0].lineRange.startLineNumber,W=_.edits[_.edits.length-1].lineRange.endLineNumberExclusive;if(!Qle(new ti(F,W),u))return lo.noEdit({kind:"filteredOut",message:"Outside edit window after projection"},s)}else{let R=bG(x.languageId,v,h,p,b,void 0),P=await Mle(this._parserService,R,x,{requireEditWithinNLines:100});if(!P)return lo.noEdit({kind:"filteredOut",message:"Could not identify best edit"},s);_=new Fs([P])}return PTt(x,_)?lo.noEdit({kind:"filteredOut",message:"Undo of recent edit"},s):FTt(x,_)?lo.noEdit({kind:"filteredOut",message:"Deletion of recent insertion"},s):NTt(x,_)?lo.noEdit({kind:"filteredOut",message:"uncategorized"},s):LTt(x,_)?lo.noEdit({kind:"filteredOut",message:"uncategorized"},s):lo.edit({edit:_},s)}async debounce(r,n){let i=r.getDebounceTime();n.setDebounceTime(i),await uv(i)}async createPrompt(r,n){let i=r.getActiveDocument(),a=i.documentAfterEdits.value.includes(`\r
`)?`\r
`:`
`,l=i.documentAfterEdits.value.split(a),c=Nk(i);if(c===null)return;let u=Yle(i,c),f=new Bh(i.documentAfterEditsNoShortening.value),m=await OTt(this._parserService,{getText:o(()=>f.getText(),"getText"),languageId:i.languageId}),{firstEditableLineInShortenedDocument:h,lastEditableLineInShortenedDocument:p,editWindow:A}=function(){let de=QTt(i.documentAfterEditsLines,c.startLineNumber),re=Math.max(1,Math.min(de,c.startLineNumber-rLe)),G=c.startLineNumber-re,U=Math.min(l.length,c.endLineNumber+nLe),ne=U-c.endLineNumber,J=u.line-G,j=u.line+ne,O=new Au(J,0,j,f.getLineLength(j));return{firstEditableLineInShortenedDocument:re,lastEditableLineInShortenedDocument:U,editWindow:O}}(),x=SG(0,{alwaysUseEllipsisForElisions:!0},[{overlayNodeRoot:m,document:f,selection:A}])[0],v=new ti(1,h),E=new ti(h,p+1),b=x.text,{messages:_,prediction:R,editWindowIsInPrompt:P}=await this._renderPrompt({request:r,activeDocumentSlice:b,languageId:i.languageId},n),F=b.split(/\r\n|\r|\n/).length,W=x.projectRange(A),se=x.positionOffsetTransformer.toOffsetRange(W);return{summarizedEditWindow:x,editWindowAllowedEditLineRange:new ti(W.start.line+1,W.end.line+2),allowedEditLineRange:new ti(h,p+1),messages:_,prediction:R,editWindowIsInPrompt:P,activeDocument:i,activeDocumentLines:l,completionPrefixRange:v,completionRange:E,convergence:b,expectedConvergencePrefix:se.start,maxCompletionLineCount:F+20}}async _renderPrompt(r,n){let s=await wC.create(this._instantiationService,Jle,r).render(void 0,n,{trace:!1}),a=s.metadata.get(LG)?.prediction,l=!!s.metadata.get(PG);return{messages:s.messages,prediction:a,editWindowIsInPrompt:l}}};SC=Du([La(0,QA),La(1,LA),La(2,_g)],SC);function kTt(e){function t(r,n,i){let s=r.lastIndexOf(n);if(s===-1)return r;let a=r.slice(0,s);return a.trim().length>0?a+i:a}return o(t,"getStringBeforeLastPattern"),e=t(e,"\n```",`
`),e=t(e,`\`\`\`</${kf}>`,`
`),e=t(e,`\`\`\`
</${kf}>`,`
`),e=t(e,`</${kf}>`,`
`),e}o(kTt,"removeSuffixFromReply");function Yle(e,t){let r=e.documentAfterEdits.getTransformer().getOffset(t.getEndPosition()),n=e.toOffsetOnDocumentAfterEditsNoShortening(r);return new Bh(e.documentAfterEditsNoShortening.value).getPositionAtOffset(n)}o(Yle,"getCursorPositionInOuterDocument");function RTt(e,t,r,n){let i=X6.fromString(t.text),s=X6.fromString(n.trimEnd()),l=new c9(e.languageId,i,new ti(1,i.length+1),s).resolveDiff().eliminateEmptyLineChanges().eliminateInsertedOrDeletedComments().eliminateEmptyLineChanges(),c=t.isOriginal?l:l.containWithinLines(r);if(!c)return null;let u=Nle?c.eliminateLargeChangeHunks():c;return u?u.toLineEdit("multiple-hunks"):null}o(RTt,"generateSummarizedEditWindowEdit");function BTt(e,t){let r=t.toEdit(new _l(e.text));return e.projectBackOffsetEdit(r.toOffsetEdit())}o(BTt,"convertSummarizedEditWindowEditToOuterDocumentEdit");function DTt(e,t){let r=t.edits.map(i=>{let s=i.replaceRange.start,a=e.toProjectedOffset(s);return Ps.replace(new Wr(a,a+i.replaceRange.length),i.newText)}),n=new ff(e.documentAfterEdits,As.create(r));return Fs.fromEdit(n)}o(DTt,"convertOuterDocumentEditToProjectedEdit");function PTt(e,t){let r=t.toEdit(e.documentAfterEdits),n=oLe(e.documentAfterEdits.value,r),i=new DG,s=e.documentBeforeEdits.value;for(let a of e.recentEdits.edits)i=i.combine(oLe(s,a)),s=a.apply(s);return!!i.isUndoneBy(n)}o(PTt,"editWouldUndo");function FTt(e,t){let r=t.toEdit(e.documentAfterEdits);if(r=r.normalizeOnSource(e.documentAfterEdits.value),!cLe(r))return!1;for(let n=e.recentEdits.edits.length-1;n>=0;n--){let i=e.recentEdits.edits[n],s=r.tryRebase(i);if(!s)return!0;r=s}return!1}o(FTt,"editWouldDeleteWhatWasJustInserted");function NTt(e,t){let r=t.toEdit(e.documentAfterEdits);if(r=r.normalizeOnSource(e.documentAfterEdits.value),!cLe(r))return!1;for(let n of r.edits){let i=e.documentAfterEdits.value.substring(n.range.start,n.range.endExclusive);if(jae(i,e.languageId))return!0}return!1}o(NTt,"editWouldDeleteAComment");function LTt(e,t){if(t.edits.length!==1)return!1;let r=t.edits[0];if(!r.lineRange.isEmpty)return!1;let n=o(l=>l.trim().length>5,"isSignificantLine"),i=new Set(r.newLines.filter(n));if(i.size<=1)return!1;let s=new Set(e.documentAfterEditsLines.filter(n));return Kle(s,i)/i.size>.8}o(LTt,"editWouldDuplicateExistingLines");function cLe(e){let t=e.edits.reduce((n,i)=>n+i.range.length,0);return e.edits.reduce((n,i)=>n+i.newText.length,0)===0&&t>0}o(cLe,"editIsDeletion");function QTt(e,t){for(;t>0;){if(e[t-1].trim().length>0)return t;t--}return 1}o(QTt,"findLineNumberAboveWithContent");var DG=class e{constructor(t=new Set,r=new Set){this.inserted=t;this.deleted=r}static{o(this,"InformationDelta")}combine(t){return new e(aLe(this.inserted,t.inserted),aLe(this.deleted,t.deleted))}isUndoneBy(t){let r=lLe(t.inserted,t.deleted),n=lLe(t.deleted,t.inserted),i=Kle(n,this.inserted),s=Kle(r,this.deleted);return n.size>6&&i/n.size>iLe||r.size>6&&s/r.size>iLe}};function oLe(e,t){let r=new Set,n=new Set,i=o(a=>{if(!a)return;let l=e.substring(a.start,a.endExclusive);for(let c of l.split(/\r\n|\r|\n/)){c=c.trim();for(let u of sLe(c))n.add(u)}},"tryAddDeleted"),s=o(a=>{for(let l of a.split(/\r\n|\r|\n/)){l=l.trim();for(let c of sLe(l))r.add(c)}},"tryAddInserted");for(let a of t.edits){let l=a.removeCommonPrefix(e).removeCommonSuffix(e),c=a.removeCommonSuffix(e).removeCommonPrefix(e);l.isNeutral()||(i(l.range),i(c.range),i(l.range.intersect(c.range)),s(MTt(l.newText,c.newText)))}return new DG(r,n)}o(oLe,"getInformationDelta");function MTt(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let i=e.slice(0,e.length-n),s=t.slice(n);if(i===s)return i}return""}o(MTt,"trimOverlap");function sLe(e){let t=[];for(let r=4;r<e.length;r++){let n=e.slice(r-4,r);t.push(n)}return t}o(sLe,"to4grams");function aLe(e,t){let r=new Set;for(let n of e)r.add(n);for(let n of t)r.add(n);return r}o(aLe,"setUnion");function lLe(e,t){let r=new Set;for(let n of e)t.has(n)||r.add(n);return r}o(lLe,"setMinus");function Kle(e,t){let r=0;for(let n of e)t.has(n)&&r++;return r}o(Kle,"setIntersectionCount");async function OTt(e,t){let n=await e.getTreeSitterAST(t)?.getStructure();return n||XNe(new Bh(t.getText()),t.languageId,void 0)}o(OTt,"getStructure");var Jle=class extends ul.PromptElement{static{o(this,"GHNearbyPrompt")}async render(t,r){let{request:n,activeDocumentSlice:i,languageId:s}=this.props,a=[`<${kf}>`,`\`\`\`${s}`,`${i}`,"```",`</${kf}>`].join(`
`),l=(0,ul.useKeepWith)();return vscpp(vscppf,null,vscpp("meta",{value:new LG(a)}),vscpp(ul.SystemMessage,{priority:1e3},vscpp(EG,null),this._getInstructions()),vscpp(ul.UserMessage,{priority:900},"These are the files I'm working on, before I started making changes to them:",vscpp("br",null),"<original_code>",vscpp("br",null),n.documents.map((c,u)=>c.id===n.getActiveDocument().id?vscpp(l,{priority:300},vscpp(ul.Chunk,{priority:300},vscpp(FG,{doc:c}))):vscpp(ul.Chunk,{priority:100+u},vscpp(FG,{doc:c}))),vscpp("br",null),"</original_code>",vscpp("br",null),vscpp("br",null),"This is a sequence of edits that I made on these files, starting from the oldest to the newest:",vscpp("br",null),"<edits_to_original_code>",vscpp("br",null),n.documents.map((c,u)=>c.id===n.getActiveDocument().id?vscpp(l,{priority:300},vscpp(ul.Chunk,{priority:300},vscpp(NG,{doc:c}))):vscpp(ul.Chunk,{priority:200+u},vscpp(NG,{doc:c}))),vscpp("br",null),"</edits_to_original_code>",vscpp("br",null),vscpp("br",null),vscpp(l,{priority:300},vscpp(ul.Chunk,{priority:300},vscpp("meta",{local:!0,value:new PG}),"Here is the piece of code I am currently editing in"," ",n.getActiveDocument().getDisplayPath(),":",vscpp("br",null),vscpp("br",null),"<",BG,">",vscpp("br",null),"```",s,vscpp("br",null),i,vscpp("br",null),"```",vscpp("br",null),"</",BG,">",vscpp("br",null),vscpp("br",null),"Based on my most recent edits, what will I do next? Rewrite the code between <",BG,"> and </",BG,"> based on what I will do next. Do not skip any lines. Do not be lazy.",vscpp("br",null)))))}_getInstructions(){switch("v1"){case"v1":return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is being actively edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Make only the necessary changes as indicated by the context.",vscpp("br",null),"- Avoid unnecessary rewrites and make only the necessary changes, using ellipses to indicate partial code where appropriate.",vscpp("br",null),"- Ensure all specified additions, modifications, and new elements (e.g., methods, parameters, function calls) are included in the response.",vscpp("br",null),"- Adhere strictly to the provided pattern, structure, and content, including matching the exact structure and formatting of the expected response.",vscpp("br",null),"- Maintain the integrity of the existing code while making necessary updates.",vscpp("br",null),"- Provide complete and detailed code snippets without omissions, ensuring all necessary parts such as additional classes, methods, or specific steps are included.",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- Match the expected response exactly, even if it includes errors or corruptions, to ensure consistency.",vscpp("br",null),"- Do not alter method signatures, add or remove return values, or modify existing logic unless explicitly instructed.",vscpp("br",null),"- You must ONLY reply using the tag: <",kf,">.");case"v2":return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is being actively edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),"- Ensure that all necessary conditional logic and key-value pairs are preserved in the updated code.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- Avoid introducing unnecessary variables or methods that are not part of the original code structure.",vscpp("br",null),"- You must ONLY reply using the tag: <",kf,">.",vscpp("br",null),"- Provide a complete and functional code snippet without placeholders or incomplete sections unless explicitly required.");default:return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is currently edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on. Some examples are:",vscpp("br",null),"- Further implementing a class, method, or variable.",vscpp("br",null),"- Improving quality of the code.",vscpp("br",null),"- Making sure the programmer does not get distracted - make sure the next changes are relevant.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),"- If you think changes should be made, ask yourself if this is really what needs to happen. If you are confident about it, then continue with the edits.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- You must ONLY reply using the tag: <",kf,">.:",vscpp("br",null),"- If you see further edits to make to the programmer's code, you must provide the updated code in the <",kf,"> tag.:",vscpp("br",null),"- If the programmer's code is already correct and requires no further edits, simply answer with <",kf,">IDENTICAL</",kf,">.",vscpp("br",null),"- Make sure that the indentation level of any new code is correct and consistent with the existing code.",vscpp("br",null),vscpp("br",null),"Remember, you must ONLY respond using the tag: <",kf,">.")}}},PG=class extends ul.PromptMetadata{static{o(this,"EditWindowMarkerMetadata")}},FG=class extends ul.PromptElement{static{o(this,"OriginalDocument")}async render(t,r){let{doc:n}=this.props,i=[];for(let s=0;s<n.documentLinesBeforeEdit.length;s++){let a=n.documentLinesBeforeEdit[s];i.push(`${n.clippingRange.startLineNumber+s}\u2502${a}`)}return vscpp(vscppf,null,n.getDisplayPath(),":",vscpp("br",null),i.join(`
`))}},NG=class extends ul.PromptElement{static{o(this,"DocumentDiffs")}async render(t,r){let{doc:n}=this.props,i=[];return i.push("```"),i.push(`---${n.getDisplayPath()}:`),i.push(`+++${n.getDisplayPath()}:`),i.push(...VNe(n)),i.push("```"),vscpp(vscppf,null,i.join(`
`))}},LG=class extends ul.PromptMetadata{constructor(r){super();this.prediction=r}static{o(this,"PredictionMetadata")}};d();d();var QG=class extends Ia{constructor(r){super();this.workspace=r;this._garbageCollector=new ece(20);this._documentCaches=new Map;X1(this,r.openDocuments,(n,i)=>{let s=new Zle(n.id,n.value.get(),this._garbageCollector);this._documentCaches.set(s.docId,s),i.add(m8(this,{value:n.value,selection:n.selection,languageId:n.languageId},a=>{for(let l of a.value.changes)s.handleEdit(l)})),i.add(Ta(()=>{this._documentCaches.delete(n.id)}))}).recomputeInitiallyAndOnChange(this._store)}static{o(this,"RejectionCollector")}reject(r,n){let i=this._documentCaches.get(r);i&&i.reject(n)}isRejected(r,n){let i=this._documentCaches.get(r);return i?i.isRejected(n):!1}},Zle=class{constructor(t,r,n){this.docId=t;this._garbageCollector=n;this._rejectedEdits=new Set}static{o(this,"DocumentRejectionTracker")}handleEdit(t){for(let r of[...this._rejectedEdits])r.handleEdit(t)}reject(t){if(this.isRejected(t))return;let r=new Xle(t.toEdit(),()=>{this._rejectedEdits.delete(r)});this._rejectedEdits.add(r),this._garbageCollector.put(r)}isRejected(t){for(let r of this._rejectedEdits)if(r.isRejected(t))return!0;return!1}},Xle=class{constructor(t,r){this._edit=t;this._onDispose=r}static{o(this,"RejectedEdit")}handleEdit(t){let r=this._edit.tryRebase(t);r?this._edit=r:this.dispose()}isRejected(t){return this._edit.equals(t.toEdit())}dispose(){this._onDispose()}},ece=class{constructor(t){this._maxSize=t;this._disposables=[]}static{o(this,"LRUGarbageCollector")}put(t){this._disposables.push(t),this._disposables.length>this._maxSize&&this._disposables.shift().dispose()}dispose(){for(let t of this._disposables)t.dispose();this._disposables=[]}};d();d();d();var Ok=class{constructor(t,r){this.prev=null;this.next=null;this.key=t,this.value=r}static{o(this,"Node")}},MG=class{static{o(this,"LRUCache")}constructor(t=10){if(t<1)throw new Error("Cache size must be at least 1");this._capacity=t,this._cache=new Map,this._head=new Ok("",null),this._tail=new Ok("",null),this._head.next=this._tail,this._tail.prev=this._head}_addNode(t){t.prev=this._head,t.next=this._head.next,this._head.next.prev=t,this._head.next=t}_removeNode(t){let r=t.prev,n=t.next;r.next=n,n.prev=r}_moveToHead(t){this._removeNode(t),this._addNode(t)}_popTail(){let t=this._tail.prev;return this._removeNode(t),t}clear(){this._cache.clear(),this._head.next=this._tail,this._tail.prev=this._head}deleteKey(t){let r=this._cache.get(t);if(r)return this._removeNode(r),this._cache.delete(t),r.value}get(t){let r=this._cache.get(t);if(r)return this._moveToHead(r),r.value}keys(){let t=[],r=this._head.next;for(;r!==this._tail;)t.push(r.key),r=r.next;return t}getValues(){let t=[],r=this._head.next;for(;r!==this._tail;)t.push(r.value),r=r.next;return t}put(t,r){let n=this._cache.get(t);if(n)n.value=r,this._moveToHead(n);else if(n=new Ok(t,r),this._cache.set(t,n),this._addNode(n),this._cache.size>this._capacity){let i=this._popTail();return this._cache.delete(i.key),[i.key,i.value]}}};var OG=class extends Ia{constructor(r){super();this.workspace=r;this._documentCaches=new Map;this._sharedCache=new MG(50);X1(this,r.openDocuments,(n,i)=>{let s=new tce(n.id,n.value.get(),this._sharedCache);this._documentCaches.set(s.docId,s),i.add(m8(this,{value:n.value,selection:n.selection,languageId:n.languageId},a=>{for(let l of a.value.changes)s.handleEdit(l)})),i.add(Ta(()=>{this._documentCaches.delete(n.id)}))}).recomputeInitiallyAndOnChange(this._store)}static{o(this,"NextEditCache")}setNextEdits(r,n,i){let s=this._documentCaches.get(r);s&&s.setNextEdits(n,i)}lookupNextEdit(r){let n=this._documentCaches.get(r);if(n)return n.lookupNextEdit()}},tce=class{constructor(t,r,n){this.docId=t;this._sharedCache=n;this._value=r}static{o(this,"DocumentEditCache")}handleEdit(t){this._value=this._value.apply(t)}setNextEdits(t,r){let n=this._value;for(let i=0;i<t.edits.length;i++){let s=t.edits[i],a=this._getKey(n.value);this._sharedCache.put(a,{edit:s,subsequentN:i,source:r,documentBeforeEdit:n}),n=n.apply(s.toEdit())}}lookupNextEdit(){let t=this._getKey(this._value.value),r=this._sharedCache.get(t);if(r)return r}_getKey(t){return JSON.stringify([this.docId.uri,t])}};d();var UG=class e{constructor(t){this._providerId=t;this._isFromCache=!1;this._wasPreviouslyRejected=!1;this._isShown=!1;this._acceptance="notAccepted";this._startTime=Date.now(),this._requestN=++e.requestN}static{o(this,"NextEditProviderTelemetryBuilder")}static{this.requestN=0}build(){let t,r,n,i,s,a;if(this._request){let c=this._request.getActiveDocument();t=this._request.documents.length,r=this._request.documents.reduce((u,f)=>u+f.recentEdits.edits.length,0),n=c.recentEdits.edits.length,i=c.languageId,s=c.lineCountBeforeClipping,a=c.clippingRange.length}let l=this._statelessNextEditTelemetry?.fetchStartedAt===void 0?void 0:this._statelessNextEditTelemetry.fetchStartedAt-this._startTime;return{opportunityId:this._opportunityId||"",headerRequestId:this._headerRequestId||"",requestN:this._requestN,providerId:this._providerId,nextEditProviderDuration:this._duration||0,isFromCache:this._isFromCache,subsequentEditOrder:this._subsequentEditOrder,documentShorteningStrategy:this._documentShorteningStrategy,documentsCount:t,editsCount:r,activeDocumentEditsCount:n,activeDocumentLanguageId:i,activeDocumentOriginalLineCount:s,activeDocumentShortenedLineCount:a,fetchStartedAfterMs:l,wasPreviouslyRejected:this._wasPreviouslyRejected,isShown:this._isShown,acceptance:this._acceptance,...this._statelessNextEditTelemetry}}setOpportunityId(t){return this._opportunityId=t,this}setHeaderRequestId(t){return this._headerRequestId=t,this}setIsFromCache(){return this._isFromCache=!0,this}setSubsequentEditOrder(t){return this._subsequentEditOrder=t,this}setDocumentShorteningStrategy(t){return this._documentShorteningStrategy=t,this}setRequest(t){return this._request=t,this}setStatelessNextEditTelemetry(t){return this._statelessNextEditTelemetry=t,this}setWasPreviouslyRejected(){return this._wasPreviouslyRejected=!0,this}markEndTime(){return this._duration=Date.now()-this._startTime,this}setAsShown(){return this._isShown=!0,this}setAcceptance(t){return this._acceptance=t,this}},u9=class{constructor(t){this.telemetrySender=t;this._map=new Map}static{o(this,"TelemetrySender")}markNextEditResultAsShown(t){let r=this._map.get(t);r&&r.builder.setAsShown()}scheduleSendingTelemetry(t,r){let n=setTimeout(()=>{this._doSendTelemetry(r),this._map.delete(t)},12e4);this._map.set(t,{builder:r,timeout:n})}sendTelemetryFor(t,r){let n=this._map.get(t);if(!n)return;this._map.delete(t),clearTimeout(n.timeout);let i=n.builder;i.setAcceptance(r),this._doSendTelemetry(i)}sendTelemetry(t){this._doSendTelemetry(t)}_doSendTelemetry(t){let r=t.build(),{opportunityId:n,headerRequestId:i,requestN:s,providerId:a,hadStatelessNextEditProviderCall:l,statelessNextEditProviderDuration:c,nextEditProviderDuration:u,isFromCache:f,subsequentEditOrder:m,documentShorteningStrategy:h,activeDocumentLanguageId:p,activeDocumentOriginalLineCount:A,activeDocumentShortenedLineCount:x,wasPreviouslyRejected:v,isShown:E,acceptance:b,logProbThreshold:_,documentsCount:R,editsCount:P,activeDocumentEditsCount:F,promptLineCount:W,promptCharCount:se,isDefaultEndpoint:de,hadLowLogProbSuggestion:re,nonTerminatingError:G,nEditsSuggested:U,kthEditPicked:ne,lineDistanceToMostRecentEdit:J,debounceTime:j,hasNextEdit:O,nextEditLogprob:V,maxLinesPerEdit:Z,noNextEditReasonKind:ae,noNextEditReasonMessage:te,firstEditStrategy:le,firstPickStrategyOverride:fe,fetchTime:De,fetchResult:ve,fetchError:Ue,fetchStartedAfterMs:ke}=r;this._sendTelemetryToBoth({opportunityId:n,headerRequestId:i,providerId:a,documentShorteningStrategy:h,activeDocumentLanguageId:p,acceptance:b,nonTerminatingError:G,noNextEditReasonKind:ae,noNextEditReasonMessage:te,firstEditStrategy:le,firstPickStrategyOverride:fe,fetchResult:ve,fetchError:Ue},{requestN:s,hadStatelessNextEditProviderCall:this._boolToNum(l),statelessNextEditProviderDuration:c,nextEditProviderDuration:u,isFromCache:this._boolToNum(f),subsequentEditOrder:m,isDefaultEndpoint:this._boolToNum(de),activeDocumentOriginalLineCount:A,activeDocumentShortenedLineCount:x,wasPreviouslyRejected:this._boolToNum(v),isShown:this._boolToNum(E),logProbThreshold:_,documentsCount:R,editsCount:P,activeDocumentEditsCount:F,promptLineCount:W,promptCharCount:se,hadLowLogProbSuggestion:this._boolToNum(re),nEditsSuggested:U,kthEditPicked:ne,lineDistanceToMostRecentEdit:J,debounceTime:j,fetchStartedAfterMs:ke,fetchTime:De,hasNextEdit:this._boolToNum(O),nextEditLogprob:V,maxLinesPerEdit:Z})}_sendTelemetryToBoth(t,r){this.telemetrySender.sendTelemetryEvent("copilot-nes/provideInlineEdit",t,r)}_boolToNum(t){return t===void 0?void 0:t?1:0}};u9=Du([La(0,GW)],u9);d();var f9=class{constructor(t){this.result=t}static{o(this,"NextEditResult")}};var Cv=!1,uLe=300,d9=class extends Ia{constructor(r,n,i,s,a,l){super();this._workspace=r;this._statelessNextEditProvider=n;this._historyContextProvider=i;this._parseService=s;this._instantiationService=a;this._snippyService=l;this._rejectionCollector=new QG(this._workspace);this._nextEditCache=new OG(this._workspace);this._recentlyShownCache=new ice;this._pendingStatelessNextEditRequest=null;this._lastShownTime=0;this._lastRejectionTime=0;this._lastTriggerTime=0;X1(this,this._workspace.openDocuments,(c,u)=>{u.add(Bte(c.value,f=>{this._cancelPendingRequestDueToDocChange(c.id,f)}))}).recomputeInitiallyAndOnChange(this._store),this._telemetrySender=this._instantiationService.createInstance(u9)}static{o(this,"NextEditProvider")}get lastRejectionTime(){return this._lastRejectionTime}get lastTriggerTime(){return this._lastTriggerTime}_cancelPendingRequestDueToDocChange(r,n){if(this._pendingStatelessNextEditRequest===null)return;let i=this._pendingStatelessNextEditRequest.getActiveDocument();i.id===r&&i.documentAfterEditsNoShortening.value!==n.value&&this._pendingStatelessNextEditRequest.cancellationTokenSource.cancel()}async getNextEdit(r,n,i){this._lastTriggerTime=Date.now();let s=await this._workspace.getDocument(r);if(!s)return{result:void 0};let a=s.value.get(),l=new UG(this._statelessNextEditProvider.ID);l.setOpportunityId(n.requestUuid??ck());let c=this._recentlyShownCache.get(r,a),u=this._nextEditCache.lookupNextEdit(r),f,m,h,p;if(c)f=c[0],p=c[1],m=a,l.setHeaderRequestId(p.headerRequestId),l.setIsFromCache(),await uv(uLe);else if(u)f=u.edit,p=u.source,m=u.documentBeforeEdit,l.setHeaderRequestId(p.headerRequestId),l.setIsFromCache(),l.setSubsequentEditOrder(u.subsequentN),await uv(uLe);else{p=new nce,l.setHeaderRequestId(p.headerRequestId);let v=s.value.get();m=v;let E=await this.fetchNextEdit(p,r,l,i),b=v.value!==s.value.get().value;if(E.isError())switch(E.err.kind){case"activeDocumentHasNoEdits":case"noSuggestions":case"gotCancelled":case"filteredOut":case"uncategorized":break;case"fetchFailure":case"unexpected":h=E.err.error;break;default:aM(E.err)}else if(!b){let _=E.val;_.isEmpty()||(f=_.edits[0],(!this._statelessNextEditProvider.dependsOnSelection||_.edits.length>1)&&this._nextEditCache.setNextEdits(r,_,p))}}if(l.markEndTime(),h)throw this._telemetrySender.sendTelemetry(l),h;if(!f)return this._telemetrySender.sendTelemetry(l),new f9(void 0);if(this._rejectionCollector.isRejected(r,f))return l.setWasPreviouslyRejected(),this._telemetrySender.sendTelemetry(l),new f9(void 0);iu(m!==void 0,"should be defined if edit is defined");let A=this._statelessNextEditProvider.showNextEditPreference??"aroundEdit",x=new f9({edit:f,showRangePreference:A,documentBeforeEdits:m});return this._telemetrySender.scheduleSendingTelemetry(x,l),f.isNeutral()||this._recentlyShownCache.add(r,a,[f,p]),x}async _shortenDocument(r,n){let i=r.lastEdit.getEditedState(),{document:s,clippedRange:a}=n==="noShortening"?this.getProjectedDocumentNoShortening(r.lastEdit):n==="clipping"?this.getProjectedDocumentClipping(r.lastEdit):await this.getProjectedDocumentSummarizedDocument(r.languageId,r.lastEdit),l=As.fromOffsetEdit(s.edits).inverseOnString(s.originalText),{edits:c,editLast:u}=rce(r.lastEdits.swap(l)),f=c.compose(),m=new Av(new Bh(r.lastEdits.apply(s.originalText)),u.toOffsetEdit().inverse(c.apply(s.text))),h=new _l(s.text),A=$p.fromEdit(new ff(h,f)).removeCommonSuffixPrefixLines(),x=c.edits.at(-1)?.getNewRanges().at(0),v;x&&(v=new _l(m.text).getTransformer().getRange(x));let E=r.lastSelection?m.projectOffsetRange(r.lastSelection):void 0,b=this._workspace.getWorkspaceRoot(r.docId),_=o(W=>{let de=new $p(new _l(m.text),W).toEdit();return fLe(de,m)},"toEditOnDocumentAfterEditsNoShortening"),R=o(W=>m.projectBack(W),"toOffsetOnDocumentAfterEditsNoShortening"),P=o(W=>m.project(W),"toProjectedOffset"),F=new Ak(r.docId,b,r.languageId,A.base.getLines(),A.edit,v,h,c,i,_,R,P,r.lastEdit.base.getTextLength().lineCount,a,E);return{recentEdit:r.lastEdit,nextEditDoc:F,projectedDocument:m}}async fetchNextEdit(r,n,i,s){let a=await this._historyContextProvider.getHistoryContext(n);if(!a)return Ra.error({kind:"unexpected",error:new Error("DocumentMissingInHistoryContext")});let l=rce(a.getDocumentAndIdx(n)),c=this.getDocumentShorteningStrategy();i.setDocumentShorteningStrategy(c);let u=await Promise.all(a.documents.map(F=>this._shortenDocument(F,c))),f=u[l.idx],m=new $W(r.headerRequestId,u.map(F=>F.nextEditDoc),l.idx,this.nextEditOptions),h=this._findExistingPendingRequest(m),p,A;if(h){p=h,Cv&&console.log(`=> reusing an existing request ${p.seqid}`),i.setHeaderRequestId(h.id),i.setIsFromCache(),i.setRequest(p);let F=this._hookupCancellation(p,s);try{A=await p.result}finally{F.dispose()}}else{p=m,this._pendingStatelessNextEditRequest&&(this._pendingStatelessNextEditRequest.cancellationTokenSource.cancel(),this._pendingStatelessNextEditRequest=null),this._pendingStatelessNextEditRequest=p;let F=o(()=>{this._pendingStatelessNextEditRequest===p&&(this._pendingStatelessNextEditRequest=null)},"removeFromPending");i.setRequest(p);let W=this._hookupCancellation(p,s);try{A=await this._statelessNextEditProvider.provideNextEdit(p,p.cancellationTokenSource.token),p.setResult(A)}catch(se){throw p.setResultError(se),se}finally{W.dispose(),F()}}i.setStatelessNextEditTelemetry(A.telemetry);let x=A.nextEdit;if(x.isError())return x;let v=x.val.edit;if(v.edits.length===0)return Ra.error({kind:"noSuggestions"});let b=new $p(new _l(f.projectedDocument.text),v).toEdit(),_=fLe(b,f.projectedDocument),R=b.edits.length===_.edits.length?x.val.permutation:void 0,P=_.decompose(R);return Ra.ok(P)}_hookupCancellation(r,n){let i=new c0,s=!1,a=o(()=>{s||(s=!0,r.liveDependentants--)},"removeDependant"),l=i.add(new UW);return i.add(n.onCancellationRequested(()=>{if(a(),r.liveDependentants>0){Cv&&console.log(`=> ignoring UI cancellation signal for ${r.seqid} because others depend on this request`);return}if(!r.fetchIssued){Cv&&console.log(`=> canceling ${r.seqid} due to UI cancellation signal`),r.cancellationTokenSource.cancel();return}l.setIfNotSet(()=>{if(r.liveDependentants>0){Cv&&console.log(`=> ignoring timer cancellation signal for ${r.seqid} because others depend on this request`);return}Cv&&console.log(`=> canceling ${r.seqid} due to timer after UI cancellation signal`),r.cancellationTokenSource.cancel()},500)})),i.add(Ta(()=>{a()})),r.liveDependentants++,i}_findExistingPendingRequest(r){if(this._statelessNextEditProvider.canReuseResult&&this._pendingStatelessNextEditRequest&&!this._pendingStatelessNextEditRequest.cancellationTokenSource.token.isCancellationRequested&&this._statelessNextEditProvider.canReuseResult(this._pendingStatelessNextEditRequest,r))return this._pendingStatelessNextEditRequest}handleShown(r){this._lastShownTime=Date.now(),this._telemetrySender.markNextEditResultAsShown(r)}handleAcceptance(r,n){this._telemetrySender.sendTelemetryFor(n,"accepted"),this.runSnippy(r,n),this._statelessNextEditProvider.handleAcceptance?.()}handleRejection(r,n){OM(n.result,"@ulugbekna: undefined edit cannot be rejected?"),Date.now()-this._lastShownTime>1e3&&n.result&&(this._recentlyShownCache.remove(n.result.edit),this._rejectionCollector.reject(r,n.result.edit)),this._lastRejectionTime=Date.now(),this._telemetrySender.sendTelemetryFor(n,"rejected")}getProjectedDocumentNoShortening(r){return{document:new Av(new Bh(r.base.value),new Dd([])),clippedRange:new ti(1,r.base.getTextLength().lineCount+1)}}getProjectedDocumentClipping(r){let n=r.base.getTransformer(),i=n.getRange(r.edit.getRange()??new Wr(0,0)),s=ti.fromRange(i);function a(m,h){return new ti(m.startLineNumber-h,m.endLineNumberExclusive+h)}o(a,"extendRange");let l=new ti(1,n.textLength.lineCount+1),c=rce(l.intersect(a(s,100))),u=ti.subtract(l,c);return{document:new Av(new Bh(r.base.value),new Dd(u.map(m=>Va.delete(n.getOffsetRange(new yi(m.startLineNumber,1,m.endLineNumberExclusive,1)))))),clippedRange:c}}getDocumentShorteningStrategy(){return this._statelessNextEditProvider.documentShorteningStrategy??"clipping"}get nextEditOptions(){return new gk("firstByLineNumber",8)}async getProjectedDocumentSummarizedDocument(r,n){let i=await qTt(this._parseService,{getText:o(()=>n.base.value,"getText"),languageId:r});if(!i)return this.getProjectedDocumentClipping(n);let s=new Bh(n.base.value),a=n.edit.edits.at(0)?.range??new Wr(0,0),l;if(n.edit.edits.length!==0){let p=n.edit.edits.at(0),A=n.edit.edits.at(-1);l=s.offsetRangeToRange(new Wr(p.range.start,A.range.endExclusive))}let c=dLe(s.offsetRangeToRange(a)),u=SG(200*50,{costFnOverride:o((p,A,x)=>{let v=dLe(x.offsetRangeToRange(p.range)),E=UTt(c,v);return E>100?!1:E},"costFnOverride")},[{overlayNodeRoot:i,document:s,selection:l}])[0],f=u.projectBack(1)-1,m=n.base.getTransformer().getPosition(f).lineNumber,h=new ti(m,m+u.lineCount);return{document:u,clippedRange:h}}async runSnippy(r,n){n.result!==void 0&&this._snippyService.handlePostInsertion(r.toUri(),n.result.documentBeforeEdits,n.result.edit)}};d9=Du([La(3,LA),La(4,_g),La(5,QW)],d9);function fLe(e,t){let r=t.projectBackOffsetEdit(e.toOffsetEdit());return As.fromOffsetEdit(r)}o(fLe,"projectBackEdit");function dLe(e){return new ti(e.start.line+1,e.end.line+1)}o(dLe,"lineRangeFromVSCodeRange");function UTt(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}o(UTt,"lineRangeDist");async function qTt(e,t){return await e.getTreeSitterAST(t)?.getStructure()}o(qTt,"getStructure");function rce(e){if(!e)throw new Fi("expected value to be defined, but it was not");return e}o(rce,"assertDefined");var nce=class{constructor(){this.headerRequestId=ck()}static{o(this,"NextEditFetchRequest")}},ice=class{constructor(){this._cache=new dM(10)}static{o(this,"RecentlyShownCache")}add(t,r,n){let i=this._key(t,r);this._cache.set(i,n)}get(t,r){let n=this._key(t,r);return this._cache.get(n)}remove(t){for(let r of this._cache)if(r[1][0]===t){this._cache.delete(r[0]);break}}_key(t,r){return t.uri+";"+r.value}};var mLe=10,Dh=class{constructor(t){this.lastResultsById=new In(mLe);this.lastResultsByUri=new In(mLe);this.ctx=t}static{o(this,"NextEditSuggestionsManager")}async handleNextEditRequest(t,r,n){let i=await(this.nextEditProvider??=this.createNextEditProvider()),s=this.lastResultsByUri.get(t);s&&(this.lastResultsByUri.delete(t),this.lastResultsById.delete(s.resultId),i.handleRejection(s.documentId,s.nextEditResult));let a=Bd.create(t),l=await i.getNextEdit(a,{triggerKind:1},n);if(l.result==null)return;let c=await this.ctx.get(Jr).getTextDocument({uri:t});if(!c)return;let u=c.positionAt(l.result.edit.range.start),f=c.positionAt(l.result.edit.range.endExclusive),m=Ir(),h={resultId:m,nextEditResult:l,documentId:a};return this.lastResultsById.set(m,h),this.lastResultsByUri.set(t,h),[{edit:{text:l.result?.edit.newText??"",range:{start:u,end:f},textDocument:{uri:t,version:r}},id:m}]}async handleAcceptance(t){let r=await this.nextEditProvider,n=this.lastResultsById.get(t);!r||!n||n.resultId===t&&(this.lastResultsByUri.delete(n.resultId),this.lastResultsById.delete(n.resultId),await r.handleAcceptance(n.documentId,n.nextEditResult))}async handleShown(t){let r=await this.nextEditProvider,n=this.lastResultsById.get(t);!r||!n||n.resultId===t&&r.handleShown(n.nextEditResult)}async createNextEditProvider(){let t=await MFe(this.ctx),r=t.createInstance(SC),n=this.ctx.get(jp),i=new h8(n);return t.createInstance(d9,n,r,i)}};d();var kC=require("fs"),hLe=require("os"),pLe=et(require("path")),m9=require("process");var fc=class{static{o(this,"PersistenceManager")}},oce=class extends fc{constructor(r){super();this.directory=r}static{o(this,"FilePersistenceManager")}async read(r,n){try{return(await this.readJsonObject(r))[n]}catch{return}}async update(r,n,i){await kC.promises.mkdir(this.directory,{recursive:!0,mode:448});let s=`${this.directory}/${r}.json`,a=await this.readJsonObject(r);a[n]=i,await kC.promises.writeFile(s,JSON.stringify(a)+`
`,{encoding:"utf8"})}async delete(r,n){let i=`${this.directory}/${r}.json`;try{let s=await this.readJsonObject(r);delete s[n];let a=JSON.stringify(s)+`
`;a===`{}
`?await kC.promises.rm(i):await kC.promises.writeFile(i,a,{encoding:"utf8"})}catch{}}async deleteSetting(r){let n=`${this.directory}/${r}.json`;try{await kC.promises.rm(n)}catch{}}async listSettings(){try{return(await kC.promises.readdir(this.directory)).filter(n=>n.endsWith(".json")).map(n=>n.slice(0,-5))}catch{return[]}}async listKeys(r){return Object.keys(await this.readJsonObject(r))}async readJsonObject(r){let n=`${this.directory}/${r}.json`;try{let i=await kC.promises.readFile(n,{encoding:"utf8"});return JSON.parse(i)}catch{return{}}}};function WTt(){return m9.env.XDG_CONFIG_HOME&&pLe.isAbsolute(m9.env.XDG_CONFIG_HOME)?m9.env.XDG_CONFIG_HOME+"/github-copilot":(0,hLe.platform)()==="win32"?m9.env.USERPROFILE+"\\AppData\\Local\\github-copilot":m9.env.HOME+"/.config/github-copilot"}o(WTt,"getXdgConfigPath");function gLe(){return new oce(WTt())}o(gLe,"makeXdgPersistenceManager");d();d();d();var ALe=et(require("node:events"));var qG="onWorkspaceWatcherChanged";var WG=class{constructor(t,r){this.ctx=t;this.workspaceFolder=r;this.emitter=new ALe.default;this.status="created",this.startWatching()}static{o(this,"WorkspaceWatcher")}onFileChange(t){this.emitter.on(qG,Gu(this.ctx,t,"WorkspaceWatcher.onFileChange"))}onFilesCreated(t){this.emitter.emit(qG,{type:"create",documents:t,workspaceFolder:this.workspaceFolder})}onFilesUpdated(t){this.emitter.emit(qG,{type:"update",documents:t,workspaceFolder:this.workspaceFolder})}onFilesDeleted(t){this.emitter.emit(qG,{type:"delete",documents:t,workspaceFolder:this.workspaceFolder})}};var qc=class{constructor(t){this.ctx=t;this.watchers=new In(25)}static{o(this,"WorkspaceWatcherProvider")}getWatcher(t){let r=this.watchers.get(t.uri);if(r)return r;let n=this.getParentFolder(t.uri);return n?this.watchers.get(n):void 0}getParentFolder(t){return[...this.watchers.keys()].find(n=>{let i=n.replace(/[#?].*/,"").replace(/\/?$/,"/");return t!==n&&t.startsWith(i)})}hasWatcher(t){return this.getParentFolder(t.uri)||this.getWatcher(t)!==void 0}startWatching(t){if(Zr.debug(this.ctx,`WorkspaceWatcherProvider - Start watching workspace ${t.uri}`),this.hasWatcher(t)){this.getWatcher(t)?.startWatching();return}let r=this.createWatcher(t);this.watchers.set(t.uri,r)}stopWatching(t){this.getWatcher(t)?.stopWatching()}terminateSubfolderWatchers(t){let r=[];for(let s of this.watchers.values())r.push(s.workspaceFolder);let n=t.uri.replace(/[#?].*/,"").replace(/\/?$/,"/"),i=r.filter(s=>s.uri!==t.uri&&s.uri.startsWith(n));for(let s of i)this.terminateWatching(s);return i}terminateWatching(t){if(this.getWatcher(t)?.status!=="stopped")return this.stopWatching(t),this.watchers.delete(t.uri);this.watchers.delete(t.uri)}onFileChange(t,r){this.getWatcher(t)?.onFileChange(r)}async getWatchedFiles(t){return await this.getWatcher(t)?.getWatchedFiles()??[]}getStatus(t){return this.getWatcher(t)?.status}};var h9=class{static{o(this,"WorkspaceLifecycleListener")}start(){}onWorkspaceAdded(t){}onWorkspaceRemoved(t){}onWorkspaceSubfoldersTerminated(t,r){}onFileChange(t){}},GTt="workspaceLifecycleManager",Wc=new Yt(GTt),Zd=class e{constructor(t){this.ctx=t;this.activeListeners=[];this.watchedWorkspaces=[];this.ctx=t}static{o(this,"WorkspaceLifecycleManager")}async start(){this.ctx.get(Ef).onChange(t=>{this.onWorkspacesAdded(t.added,this.ctx),this.onWorkspacesRemoved(t.removed,this.ctx)});for(let t of this.activeListeners)await t.isEnabled()?t.isStarted()?Wc.debug(this.ctx,`listener ${t.constructor.name} is already started`):(Wc.debug(this.ctx,`starting listener ${t.constructor.name}`),await t.start()):Wc.debug(this.ctx,`listener ${t.constructor.name} is not enabled`);Wc.debug(this.ctx,"WorkspaceLifecycleManager started")}static isSubfolder(t,r){let n=t.uri,i=r.uri.replace(/[#?].*/,"").replace(/\/?$/,"/");return n!==i&&n.startsWith(i)}async onWorkspacesAdded(t,r){if(!t.length){Wc.debug(r,"No workspaces to add.");return}Wc.debug(r,`Adding workspaces: ${t.map(l=>l.uri).join(", ")}`);let n=[...this.watchedWorkspaces,...t];Wc.debug(r,`Combined workspaces: ${n.map(l=>l.uri).join(", ")}`);let i=n.filter((l,c,u)=>u.findIndex(f=>f.uri===l.uri)===c&&!u.some(f=>e.isSubfolder(l,f)));Wc.debug(r,`Filtered workspaces: ${i.map(l=>l.uri).join(", ")}`);let s=i.filter(l=>!this.watchedWorkspaces.some(c=>c.uri===l.uri));Wc.debug(r,`New workspaces: ${s.map(l=>l.uri).join(", ")}`);let a=this.watchedWorkspaces.filter(l=>!i.some(c=>c.uri===l.uri));Wc.debug(r,`Removed workspaces: ${a.map(l=>l.uri).join(", ")}`),this.watchedWorkspaces=i;for(let l of a){Wc.debug(r,`Terminating watching for removed workspace: ${l.uri}`),r.get(qc).terminateWatching(l);for(let u of this.activeListeners)Wc.debug(r,`Notifying listener of removed workspace: ${l.uri}`),await u.onWorkspaceRemoved(l)}for(let l of s){if(!l.uri)continue;Wc.debug(r,`Starting to watch new workspace: ${l.uri}`);let c=r.get(qc);if(c.shouldStartWatching(l)){c.startWatching(l);let u=c.terminateSubfolderWatchers(l);if(u.length){Wc.debug(r,`Terminated subfolder watchers for workspace: ${l.uri}, Subfolders: ${u.map(f=>f.uri).join(", ")}`);for(let f of this.activeListeners)await f.onWorkspaceSubfoldersTerminated(l,u)}for(let f of this.activeListeners)Wc.debug(r,`Adding file change listener for workspace: ${l.uri}`),c.onFileChange(l,f.onFileChange.bind(f))}}for(let l of this.activeListeners)for(let c of s)Wc.debug(r,`Notifying ${l.constructor.name} of added workspace: ${c.uri}`),await l.onWorkspaceAdded(c)}async onWorkspacesRemoved(t,r){if(t.length)for(let n of t){if(!n.uri)continue;r.get(qc).terminateWatching(n),this.watchedWorkspaces=this.watchedWorkspaces.filter(s=>s.uri!==n.uri);for(let s of this.activeListeners)await s.onWorkspaceRemoved(n)}}addListener(t){this.activeListeners.push(t)}removeListener(t){this.activeListeners=this.activeListeners.filter(r=>r!==t)}removeAllListeners(){this.activeListeners=[]}};function GG(e){e.set(Zd,new Zd(e))}o(GG,"setupWorkspaceLifecycleListener");d();d();var xv=class{static{o(this,"FallbackContextProviderFeatureLifecycle")}async dispose(){}};d();var vLe=require("crypto"),sce=require("fs"),ace=et(require("path"));var CLe="symbolDatabaseLookup",xLe="fallbackContextProviderDocumentSymbols",vv=class{constructor(t){this.persistenceManager=t}static{o(this,"WorkspaceDatabasePersistenceManager")}async getDBFilePath(t){await this.init();let r=await this.persistenceManager.read(CLe,t);return r||(r=await this.createDBFile(t)),ace.default.join(this.persistenceManager.directory,xLe,r)}async init(){let t=ace.default.join(this.persistenceManager.directory,xLe);await this.createIfNotExists(t)}async dirExists(t){try{return await sce.promises.access(t),!0}catch{return!1}}async createIfNotExists(t){try{await this.dirExists(t)||await sce.promises.mkdir(t,{recursive:!0})}catch{throw new Error(`Failed to create directory: ${t}`)}}async createDBFile(t){let r=`${(0,vLe.randomUUID)()}.db`;return await this.persistenceManager.update(CLe,t,r),r}async deleteDBFile(t){}};d();d();var bv=class{static{o(this,"FileSearch")}};d();var Uk=class{constructor(t,r){this.workspaceUris=t;this.params=r}static{o(this,"FileWatcher")}};d();d();var bLe=100,HTt=5e3,HG=class{static{o(this,"CachedContextFetcher")}constructor(){}runWithCache(t,r,n,i,s,a,l){let c=Date.now(),u=this.get(n,i,r,c);if(u)return this.incrementRefCount(u),l.onCancellationRequested(()=>this.decrementRefCount(u)),u.value;if(!a)return t(r,n,i,s,l);let f=new Hn.CancellationTokenSource,m=o(()=>f.cancel(),"cancel"),h=t(r,n,i,s,f.token);return u=this.setBasedOnLastDelimiter(n,i,r,c,h,m),this.incrementRefCount(u),l.onCancellationRequested(()=>this.decrementRefCount(u)),h}get(t,r,n,i){if(this.cachedValue&&this.cachedValue.uri===n&&!(Math.abs(this.cachedValue.cursorPosition-r)>bLe)){if(r>this.cachedValue.cursorPosition){if(t.substring(this.cachedValue.cursorPosition,r).match(/[^A-Za-z0-9]/))return}else if(r<this.cachedValue.cursorPosition)return;if(!(i-this.cachedValue.timestamp>HTt))return this.cachedValue}}setBasedOnLastDelimiter(t,r,n,i,s,a){let l=t.substring(0,r),c=/[A-Za-z0-9]+$/.exec(l),u=r;c&&(u=c.index),r-u>bLe&&(u=r);let f={cursorPosition:u,uri:n,timestamp:i,fullText:t,value:s.finally(()=>{f.complete=!0}),refCount:0,cancel:a,uuid:Ir(),complete:!1};return this.cachedValue=f}incrementRefCount(t){t&&t.refCount++}decrementRefCount(t){t&&!t.complete&&(t.refCount--,t.refCount<=0&&t.cancel())}};d();d();d();var jG=et(require("path")),ELe=require("worker_threads");function ILe(e,t){return new ELe.Worker(jG.default.resolve(jG.default.extname(__filename)!==".ts"?__dirname:jG.default.resolve(__dirname,"../../dist"),e),{workerData:t})}o(ILe,"createWorker");d();var VG=class{constructor(t){this.maxDegreeOfParalellism=t;this.outstandingPromises=[],this.runningPromises=0}static{o(this,"PriorityLimiter")}queue(t,r=!1){return new Promise((n,i)=>{r?this.outstandingPromises.unshift({factory:t,c:n,e:i}):this.outstandingPromises.push({factory:t,c:n,e:i}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){let t=this.outstandingPromises.shift();this.runningPromises++;let r=t.factory();r.then(t.c,t.e),r.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this.runningPromises--,this.outstandingPromises.length>0&&this.consume()}};var TLe=et(ei());var $G="main.js",zG=class{constructor(t,r=3){this.promiseResolvers=new Map;this.id=0;try{let n={cwd:process.cwd(),indexWorkspaceRoots:t};this.worker=ILe($G,n),this.worker.on("message",this.handleWorkerMessage.bind(this)),this.worker.on("error",i=>{this.handleUnexpectedError(i)}),this.postMessageQueue=new VG(r)}catch(n){throw console.error(`Failed to create worker: ${n.message}`),n}}static{o(this,"IndexClient")}dispose(){return this.postMessageInQueue(new hL(this.id++),TLe.CancellationToken.None,!0)}async indexFile(t,r,n){return await this.postMessageInQueue(new fL(this.id++,t,r),n)}async getAllFileNames(t,r){return this.postMessageInQueue(new dL(this.id++,t),r)}getContext(t,r,n,i,s){return this.postMessageInQueue(new mL(this.id++,t,r,n,i),s,!0)}tryCreateIndex(t,r,n){return this.postMessageInQueue(new cL(this.id++,t,r),n)}async postMessageInQueue(t,r,n=!1){return this.postMessageQueue.queue(()=>this.postMessageAndWait(t,r),n)}tryRemoveIndex(t,r){return this.postMessageAndWait(new uL(this.id++,t),r)}async postMessageAndWait(t,r){if(this.fatalError)return Promise.reject(this.fatalError);let n=new Promise((s,a)=>{this.promiseResolvers.set(t.id,{resolve:s,reject:a})});this.worker.postMessage(t);let i=r.onCancellationRequested(()=>{this.worker.postMessage(new lL(t.id))});try{return await n}finally{i.dispose()}}handleWorkerMessage(t){if(t.operation!=="response")throw new Error("Unexpected message operation");let r=this.promiseResolvers.get(t.id);if(!r)throw new Error(`Received response for message that isn't in progress: ${t.id}`);this.promiseResolvers.delete(t.id),t.error?(t.error.code=t.code,r.reject(t.error)):r.resolve(t.data)}handleUnexpectedError(t){let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&r.message?.endsWith($G+"'")&&(r=new Error(`Failed to load ${$G}`),r.code="CopilotPromptLoadFailure");let n=new Error().stack;r.stack&&n?.match(/^Error\n/)&&(r.stack+=n.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&"status"in t&&t.name==="ExitStatus"&&typeof t.status=="number"?(r=new Error(`${$G} exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let n of this.promiseResolvers.values())n.reject(r);this.promiseResolvers.clear(),this.fatalError=r}};var qk=et(ei());var p9="fallbackContextProvider",Rf=new Yt(p9),Ev=class{constructor(t,r,n,i){this.ctx=t;this.watcher=r;this.workspaceDatabasePersistenceManager=n;this.workspaceInit=new Map;this.watcher.onFileChange(async(s,a)=>{await this.indexFile(a,this.languageId(a)??"plaintext")}),this.watcher.onWorkspaceChange(async(s,a)=>{if(s===1){Rf.debug(this.ctx,`workspace removed: ${a}`),await this.indexClient.tryRemoveIndex(a,qk.CancellationToken.None);return}Rf.debug(this.ctx,`workspace added: ${a}`),await this.indexAddedWorkspace(a)}),this.indexClient=new zG(i);for(let s of i){let a=s.rootPath;this.workspaceInit.set(a,this.doWorkspaceIndex(a).then(()=>{Rf.debug(this.ctx,`workspace ${a} indexed`),this.workspaceInit.delete(a)}))}}static{o(this,"FallbackContextIndexWatcher")}isInitializing(t){for(let[r]of this.workspaceInit)if(t.startsWith(r))return!0;return!1}dispose(){return this.indexClient.dispose()}async indexAddedWorkspace(t){let r=await VTt(t,this.workspaceDatabasePersistenceManager);await this.indexClient.tryCreateIndex(r.rootPath,r.databaseFilePath,qk.CancellationToken.None),this.workspaceInit.has(t)&&await this.workspaceInit.get(t);let n=this.doWorkspaceIndex(t).then(()=>{Rf.debug(this.ctx,`workspace ${t} indexed`),this.workspaceInit.delete(t)});this.workspaceInit.set(t,n)}async doWorkspaceIndex(t){Rf.debug(this.ctx,`indexing workspace ${t}`);let r=ZZ.map(f=>`*${f}`);if(r.length===0)return;let i=`**/${ZZ.length===1?r[0]:`{${r.join(",")}}`}`,s=this.ctx.get(bv),a=await Promise.all([s.findFiles(i,{uri:t},{excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0,excludeIDESearchIgnoredFiles:!0}),this.indexClient.getAllFileNames(t,qk.CancellationToken.None)]),l=a[0],c=a[1],u=Array.from(new Set([...l,...c]));Rf.debug(this.ctx,`found ${u.length} files to index in ${t}`),await Promise.all(u.map(async f=>{let m=this.languageId(f);m&&await this.indexFile(f.replace(/\/+$/,""),m)})),Rf.debug(this.ctx,`finished indexing workspace ${t}`)}async indexFile(t,r){try{Rf.debug(this.ctx,`index triggered for ${t}`),await this.indexClient.indexFile(t,r,qk.CancellationToken.None)}catch(n){Rf.debug(this.ctx,`failed to index ${t} with ${n}`)}}languageId(t){return T3e(t)}};async function VTt(e,t){return{databaseFilePath:await t.getDBFilePath(e),rootPath:e}}o(VTt,"createIndexableWorkspaceFolder");var YG=class{constructor(t){this.id=p9;this.selector=YN.map(t=>({language:t.languageId}));try{this.documentManager=t.get(Jr),this.resolver=new lce(this.documentManager,t)}catch(r){throw Rf.error(t,"Failed to create fallback context provider",r),r}}static{o(this,"FallbackContextProvider")}},lce=class{constructor(t,r){this.ctx=r;this.documentManager=t,this.cachedContextFetcher=new HG}static{o(this,"FallbackContextResolver")}resolve(t,r){return this.resolveImpl(t,r)}async resolveImpl(t,r){let n=this.ctx.get(xv).indexWatcher;if(!n)return[];if(n.isInitializing(t.documentContext.uri))return[];let i=n.indexClient;try{let s=await this.documentManager.getTextDocument({uri:t.documentContext.uri});if(s?.version!==t.documentContext.version)return[];let a=t.documentContext.position,l=t.documentContext.proposedEdits??[];({textDocument:s,position:a}=RQ(s,a,l));let c=s.getText(),u=await this.cachedContextFetcher.runWithCache(i.getContext.bind(i),t.documentContext.uri,c,s.offsetAt(a),t.documentContext.languageId,l.length===0,r);return Rf.debug(this.ctx,`Context items found for ${t.documentContext.uri}: ${u.map(f=>JSON.stringify(f)).join(", ")}`),u}catch(s){if(Bw(s))return[];throw Rf.error(this.ctx,"Failed to get context",s),s}}};var Wk=class extends h9{constructor(r){super();this.started=!1;this.ctx=r,this.ctx.get(Zd).addListener(this)}static{o(this,"AgentFallbackContextProvider")}async start(){if(!this.started&&await this.isEnabled()&&!this.ctx.get(ll).providers.some(r=>r.id===p9)){let r=this.ctx.get(vv);this.fileWatcher=new cce([],{excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!1,excludeIDESearchIgnoredFiles:!1}),this.fallbackContextIndexWatcher=new Ev(this.ctx,this.fileWatcher,r,[]),this.fileSearch=new uce(this.ctx),this.ctx.set(Uk,this.fileWatcher),this.ctx.set(bv,this.fileSearch),this.ctx.set(Ev,this.fallbackContextIndexWatcher),this.ctx.get(ll).registerContextProvider(new YG(this.ctx)),this.started=!0}}isStarted(){return this.started}async isEnabled(){try{await this.ctx.get($r).getToken()}catch{return!1}let r=await this.ctx.get(xr).updateExPValuesAndAssignments(),n=p8(this.ctx,r);return n.includes(p9)||n.length===1&&n[0]==="*"}async onWorkspaceAdded(r){await this.isEnabled()&&await this.fileWatcher?.triggerWorkspaceChange(0,r.uri)}async onWorkspaceRemoved(r){await this.isEnabled()&&await this.fileWatcher?.triggerWorkspaceChange(1,r.uri)}async onWorkspaceSubfoldersTerminated(r,n){if(await this.isEnabled())return super.onWorkspaceSubfoldersTerminated(r,n)}async onFileChange(r){if(await this.isEnabled())for(let n of r.documents)await this.fileWatcher?.triggerFileChange(this.toFileWatcherType(r.type),n.uri)}toFileWatcherType(r){switch(r){case"create":return 2;case"delete":return 1;case"update":return 0;default:throw new Error("Unknown file watcher event type")}}},cce=class extends Uk{constructor(r,n){super(r,n);this.fileChangeListeners=[];this.workspaceChangeListeners=[]}static{o(this,"FallbackFileWatcher")}onFileChange(r){this.fileChangeListeners.push(r)}onWorkspaceChange(r){this.workspaceChangeListeners.push(r)}dispose(){}async triggerFileChange(r,n){for(let i of this.fileChangeListeners)await i(r,n)}async triggerWorkspaceChange(r,n){for(let i of this.workspaceChangeListeners)await i(r,n)}},uce=class extends bv{constructor(r){super();this.ctx=r}static{o(this,"LspFileSearch")}async findFiles(r,n,i){return(await this.ctx.get(qc).getWatchedFiles(n)).map(a=>this.ctx.get(Jr).getTextDocumentUnsafe(a)?.clientUri??a.uri)}};var fce=class extends xv{static{o(this,"AgentFallbackContextProviderFeatureLifecycle")}constructor(t){super(),this.agentFallbackContextProvider=new Wk(t),t.set(Wk,this.agentFallbackContextProvider)}get indexWatcher(){return this.agentFallbackContextProvider?.fallbackContextIndexWatcher}async tryStart(t){}async dispose(){return super.dispose()}};function wLe(e){let t=e.get(fc),r=new vv(t);e.set(vv,r),e.set(xv,new fce(e))}o(wLe,"setupFallbackContextProviderFeature");d();d();d();var Pg=new Map;Pg.set("copilot",{app:"copilot-client",catalog_service:"CopilotCompletionsVSCode"});Pg.set("copilot-intellij",{app:"copilot-intellij",catalog_service:"CopilotIntelliJ"});Pg.set("copilot-xcode",{app:"copilot-xcode",catalog_service:"CopilotXcode"});Pg.set("copilot-eclipse",{app:"copilot-eclipse",catalog_service:"CopilotEclipse"});Pg.set("copilot.vim",{app:"copilot-vim",catalog_service:"CopilotVim"});Pg.set("copilot-vs",{app:"copilot-vs",catalog_service:"CopilotVS"});var zTt=new Yt("sdk");function KG(e,t){Pg.has(e.get(dn).getEditorPluginInfo().name)||zTt.warn(e,...t)}o(KG,"deprecationWarning");var IHe=et(Rce()),Wh=et(Xm());d();d();d();var cn={ParseError:-32700,InvalidRequest:-32600,MethodNotFound:-32601,InvalidParams:-32602,InternalError:-32603,ServerNotInitialized:-32002,RequestCancelled:-32800,ContentModified:-32801,ServerCancelled:-32802,NoCopilotToken:1e3,DeviceFlowFailed:1001,CopilotNotAvailable:1002};var dc=class extends Error{static{o(this,"SchemaValidationError")}constructor(t){super(AMe(t))}};function st(e,t){let r=ds.Compile(e);return async(n,i,s)=>{if(!r.Check(s)){let a=AMe(r.Errors(s));return[null,{code:cn.InvalidParams,message:a}]}return t(n,i,s)}}o(st,"addMethodHandlerValidation");function AMe(e){return`Schema validation failed with the following errors:
${Array.from(e).map(r=>`- ${r.path}: ${r.message}`).join(`
`)}`}o(AMe,"createErrorMessage");d();var Bce=et(ei());d();var Ng=class{constructor(t){this.ctx=t}static{o(this,"AbstractCommand")}};var lH="github.copilot.finishDeviceFlow",Dce=class extends Ng{constructor(){super(...arguments);this.name=lH;this.arguments=I.Tuple([])}static{o(this,"FinishDeviceFlowCommand")}async handle(r,n){let i=this.ctx.get(Bn).pendingSignIn;if(!i)throw new Bce.ResponseError(cn.InvalidRequest,"No pending sign in");try{await this.ctx.get(tc).open(i.verificationUri)}catch(s){Vu.warn(this.ctx,"Failed to open",i.verificationUri),Vu.exception(this.ctx,s,lH)}try{return await i.status}catch(s){throw new Bce.ResponseError(cn.DeviceFlowFailed,String(s))}finally{this.ctx.get(Bn).pendingSignIn=void 0}}},yMe=[Dce];d();d();var rs=class extends In{static{o(this,"CopilotCompletionCache")}constructor(t=100){super(t)}};var Kk="github.copilot.didAcceptCompletionItem",Pce=class extends Ng{constructor(){super(...arguments);this.name=Kk;this.arguments=I.Tuple([I.String({minLength:1})])}static{o(this,"DidAcceptCommand")}handle(r,[n]){let s=this.ctx.get(rs).get(n);return s?(lO(this.ctx,s),!0):!1}},CMe=[Pce];d();var HSt="github.copilot.didAcceptNextEditSuggestionItem",Fce=class extends Ng{constructor(){super(...arguments);this.name=HSt;this.arguments=I.Tuple([I.String({minLength:1})])}static{o(this,"DidAcceptCommand")}async handle(r,[n]){return await this.ctx.get(Dh).handleAcceptance(n),!0}},xMe=[Fce];d();var Lce="github.copilot.didAcceptPanelCompletionItem",Nce=class extends Ng{constructor(){super(...arguments);this.name=Lce;this.arguments=I.Tuple([I.String({minLength:1})])}static{o(this,"DidAcceptPanelCompletionItemCommand")}handle(r,n){let[i]=n,a=this.ctx.get(rs).get(i);return a?(cx(this.ctx,a.triggerCategory,a.insertText,a.offset,a.uri,a.telemetry,{compType:"full"},a.copilotAnnotations),!0):!1}},vMe=[Nce];var jSt=[...yMe,...CMe,...xMe,...vMe];function bMe(e,t){let r=new Map;for(let n of jSt){let i=new n(e),s=ds.Compile(i.arguments);r.set(i.name,{typeCheck:s,command:i})}return t.onExecuteCommand((n,i)=>{let s=r.get(n.command);if(!s)throw new Error(`Unknown command: ${n.command}`);let a=qA(n.arguments??[]);if(a.length<s.command.arguments.minItems&&(a.length=s.command.arguments.minItems),s.typeCheck.Check(n.arguments))return s.command.handle(i,a);throw new dc(s.typeCheck.Errors(n.arguments))}),[...r.keys()]}o(bMe,"registerCommands");d();var EMe=et(require("node:events"));var Bf=class extends b4{constructor(r){super(new xI,new Map);this.emitters=new Map;this.envSettings=new Map;this.env={...r},this.setOverridesFromEnvironment()}static{o(this,"AgentConfigProvider")}setOverridesFromEnvironment(){["DebugOverrideEngine","DebugOverrideProxyUrl","DebugOverrideCapiUrl","DebugUseEditorFetcher","UseSubsetMatching","ExcludeOpenTabFilesCSharp","ExcludeOpenTabFilesCpp","FallbackToOpenTabFilesWithNoRelatedFiles"].forEach(n=>{for(let i of["AGENT_DEBUG_","GITHUB_COPILOT_","GH_COPILOT_"]){let s=`${i}${VSt(n.replace(/^Debug/,""))}`;s in this.env&&(this.envSettings.set(Rt[n],this.env[s]),this.setConfig(Rt[n],this.env[s]))}})}setConfig(r,n){super.setConfig(r,n??this.envSettings.get(r)),this.emitters.get(r)?.emit("change",n)}onConfigChange(r,n){this.emitters.has(r)||this.emitters.set(r,new EMe.default),this.emitters.get(r)?.on("change",n)}};function VSt(e){return e.replace(/([a-z])([A-Z]+)/g,"$1_$2").toUpperCase()}o(VSt,"camelCaseToSnakeCaseAllCaps");var $St="unknown-editor",IMe="unknown-editor-plugin",cH=class extends dn{static{o(this,"AgentEditorInfo")}setEditorAndPluginInfo(t,r,n=[]){this._editorInfo=r,this._editorPluginInfo=t,this._relatedPluginInfo=n}setCopilotIntegrationId(t){this._copilotIntegrationId=t}getEditorInfo(){return this._editorInfo?this._editorInfo:{name:$St,version:"0"}}getEditorPluginInfo(){return this._editorPluginInfo?this._editorPluginInfo:{name:IMe,version:"0"}}getRelatedPluginInfo(){return this._relatedPluginInfo??[]}getCopilotIntegrationId(){return this._copilotIntegrationId}};function TMe(e){return e.getEditorPluginInfo().name!==IMe}o(TMe,"hasValidInfo");d();var _Me=require("node:events");var wMe="initialize",WA=class{constructor(){this.emitter=new _Me.EventEmitter;this.initialized=!1}static{o(this,"InitializedNotifier")}once(t){this.emitter.once(wMe,t)}emit(){if(this.initialized)throw new Error("Already initialized");this.initialized=!0,this.emitter.emit(wMe)}};d();var GA=et(Xm());var zSt=new Map([[4,GA.MessageType.Log],[3,GA.MessageType.Info],[2,GA.MessageType.Warning],[1,GA.MessageType.Error]]),uH=class extends qa{static{o(this,"NotificationLogger")}logIt(t,r,n,...i){if(r==4&&!cO(t)&&n!=="console")return;let s={type:zSt.get(r),message:V8e(n,...i)},a=t.get(Hr).connection;try{a.sendNotification(new GA.NotificationType("window/logMessage"),s)}catch(l){if(l instanceof GA.ConnectionError)return;throw l}}};d();var SMe=et(nc());var fH=class{constructor(t,r=!1){this.ctx=t;this.codeSnippets=r}static{o(this,"RedirectTelemetryReporter")}get notificationName(){return this.codeSnippets?"codeSnippetTelemetry":"uedTelemetry"}sendTelemetryEvent(t,r,n){this.ctx.get(Hr).connection.sendNotification(new SMe.NotificationType(this.notificationName),{type:"event",name:t,properties:r||{},measurements:n||{}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(t,r,n)}dispose(){return Promise.resolve()}};async function kMe(e){let t=e.get(Bs),r=t.deactivate();t.setReporter(new fH(e)),t.setRestrictedReporter(new fH(e,!0)),await r}o(kMe,"setupRedirectingTelemetryReporters");d();d();var dH=class{static{o(this,"InstallationManager")}async startup(t){await this.isNewInstall(t)?(await this.markInstalled(t),this.handleInstall(t,await this.wasPreviouslyInstalled(t))):await this.isNewUpgrade(t)&&(await this.markUpgraded(t),this.handleUpgrade(t))}uninstall(t){return this.handleUninstall(t)}handleInstall(t,r){r?jt(t,"installed.reinstall"):jt(t,"installed.new")}handleUpgrade(t){jt(t,"installed.upgrade")}handleUninstall(t){jt(t,"uninstalled")}};var Jk=et(Rce());var y9=class extends dH{static{o(this,"AgentInstallationManager")}async isNewInstall(t){let r=t.get(dn).getEditorPluginInfo();return await t.get(fc).read("versions",r.name)===void 0&&!await this.hasPersistedSettings(t)}async hasPersistedSettings(t){return(await t.get(fc).listSettings()).length>0}async markInstalled(t){let r=t.get(dn).getEditorPluginInfo();await t.get(fc).update("versions",r.name,r.version)}wasPreviouslyInstalled(t){return Promise.resolve(!1)}async isNewUpgrade(t){try{let r=t.get(dn).getEditorPluginInfo(),n=await t.get(fc).read("versions",r.name);return n===void 0&&await this.hasPersistedSettings(t)?!0:(0,Jk.gt)((0,Jk.coerce)(r.version),(0,Jk.coerce)(n))}catch{return!1}}async markUpgraded(t){await this.markInstalled(t)}async uninstall(t){await super.uninstall(t);let r=t.get(dn).getEditorPluginInfo();await t.get(fc).delete("versions",r.name),(await t.get(fc).listKeys("versions")).length===0&&await t.get(fc).deleteSetting("versions")}};d();var RMe=require("events"),Mce=et(require("path")),mH=et(nc());var Qce="didChangeWatchedFiles",YSt={watchedFiles:[],contentRestrictedFiles:[],unknownFileExtensions:[]},Ph=class e{constructor(t){this.ctx=t;this.emitter=new RMe.EventEmitter}static{o(this,"LspFileWatcher")}static{this.requestType=new mH.ProtocolRequestType("copilot/watchedFiles")}get connection(){return this.ctx.get(Hr).connection}init(){this.ctx.get(Ho).getCapabilities().watchedFiles&&this.connection.onNotification(mH.DidChangeWatchedFilesNotification.type,r=>{"workspaceUri"in r&&typeof r.workspaceUri=="string"&&this.didChangeWatchedFilesHandler(r)})}async getWatchedFiles(t){if(!this.ctx.get(Ho).getCapabilities().watchedFiles)return YSt;let i=(await this.connection.sendRequest(e.requestType,t)).files,s=[],a=[],l=[];for(let c of i){typeof c=="object"&&(c=c.uri);let u=Mce.extname(c).toLowerCase();if(!kw.includes(u)){l.push({uri:c});continue}let f=await this.getValidDocument(c);if(f===void 0){a.push({uri:c});continue}s.push(f)}return{watchedFiles:s,contentRestrictedFiles:a,unknownFileExtensions:l}}onDidChangeWatchedFiles(t){this.emitter.on(Qce,t)}offDidChangeWatchedFiles(t){this.emitter.off(Qce,t)}async didChangeWatchedFilesHandler(t){let r=[],n=[],i=[];for(let s of t.changes){let a=s.uri,l={uri:a,isRestricted:!1,isUnknownFileExtension:!1},c=Mce.extname(s.uri).toLowerCase();if(!kw.includes(c))l.isUnknownFileExtension=!0;else{let u=await this.getValidDocument(a);u===void 0?l.isRestricted=!0:l.document=u}switch(s.type){case 1:n.push(l);break;case 2:r.push(l);break;case 3:i.push(l);break}}this.emitter.emit(Qce,{workspaceFolder:{uri:t.workspaceUri},created:n,changed:r,deleted:i})}async getValidDocument(t){let n=await this.ctx.get(Pn).getOrReadTextDocument({uri:t});return n.status==="valid"?n.document:void 0}};d();d();var KSt=I.Object({uri:I.String({minLength:1})});async function JSt(e,t,r){let n=await e.get(Pn).getOrReadTextDocument(r);return[{status:gs(n),...n.status==="invalid"&&{reason:n.reason},...n.status==="notfound"&&{reason:n.message}},null]}o(JSt,"handleCheckFileStatusChecked");var BMe=st(KSt,JSt);d();var ZSt=I.Object({options:I.Optional(I.Object({localChecksOnly:I.Optional(I.Boolean()),forceRefresh:I.Optional(I.Boolean())}))});async function XSt(e,t,r){return[await e.get(Bn).checkAndUpdateStatus(e,r.options),null]}o(XSt,"handleCheckStatusChecked");var DMe=st(ZSt,XSt);d();d();d();d();d();d();function PMe(e){return e?e.filter(t=>t.type==="github.web-search").map(t=>t):[]}o(PMe,"filterUnsupportedReferences");function FMe(e){return e?e.filter(t=>t.type==="github.web-search"):[]}o(FMe,"convertToCopilotReferences");var NMe=I.Object({type:I.Literal("github.web-search"),id:I.String(),data:I.Object({query:I.String(),type:I.String(),results:I.Optional(I.Array(I.Object({title:I.String(),excerpt:I.String(),url:I.String()})))}),metadata:I.Optional(I.Object({display_name:I.Optional(I.String()),display_icon:I.Optional(I.String())}))});var RC=class{constructor(t){this.deltaApplier=t;this.appliedLength=0;this.appliedText="";this.appliedAnnotations=[]}static{o(this,"ConversationFinishCallback")}isFinishedAfter(t,r){let n=t.substring(this.appliedLength,t.length),s=this.mapAnnotations(r.annotations).filter(a=>!this.appliedAnnotations.includes(a.id));this.append(n,s,PMe(r.copilotReferences),r.copilotErrors??[],r.copilotConfirmation)}append(t,r,n,i,s){this.deltaApplier(t,r,n,i,s),this.appliedLength+=t.length,this.appliedText+=t,this.appliedAnnotations.push(...r.map(a=>a.id))}mapAnnotations(t){if(!t)return[];let r=[],n=t.for("CodeVulnerability").map(s=>({...s,type:"code_vulnerability"})),i=t.for("IPCodeCitations").map(s=>({...s,type:"ip_code_citations"}));return r.push(...n),r.push(...i),r}};d();var Za=class{static{o(this,"ConversationInspector")}};d();var $s=class{constructor(t){this.ctx=t;this.progressEntries=new In(250)}static{o(this,"ConversationProgress")}async begin(t,r,n){let i={status:"open",handler:n};this.progressEntries.set(t.id,i),await i.handler.begin(this.ctx,t,r)}async report(t,r,n){let i=this.getProgressEntry(t);i.status==="open"&&await i.handler.report(this.ctx,t,r,n)}async end(t,r,n){let i=this.getProgressEntry(t);i.status==="open"&&(this.progressEntries.set(t.id,{...i,status:"done",updatedAt:Date.now()}),await i.handler.end(this.ctx,t,r,n))}async cancel(t,r,n){let i=this.getProgressEntry(t);i.status==="open"&&(this.progressEntries.set(t.id,{...i,status:"cancelled",updatedAt:Date.now()}),await i.handler.cancel(this.ctx,t,r,n))}getProgressEntry(t){let r=this.progressEntries.get(t.id);if(r===void 0)throw new Error(`No work done token for conversation ${t.id}`);return r.status!=="open"&&Zr.error(this.ctx,`Work done token for conversation ${t.id} is already ${r.status}, last updated at ${r.updatedAt}`),r}};d();d();var Lg=class{constructor(t){this.ctx=t;this.githubRepositoryInfoCache=new Map}static{o(this,"GitHubRepositoryApi")}async getRepositoryInfo(t,r){let n=this.githubRepositoryInfoCache.get(`${t}/${r}`);if(n)return n;let i=await this._doGetRepositoryInfo(t,r);if(i.ok){let s=await i.json();return this.githubRepositoryInfoCache.set(`${t}/${r}`,s),s}throw new Error(`Failed to fetch repository info for ${t}/${r}`)}async _doGetRepositoryInfo(t,r){let n=await this.ctx.get($r).getGitHubToken(),i={Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"};n&&(i.Authorization=`Bearer ${n}`);let s=this.ctx.get(On).getAPIUrl(`repos/${t}/${r}`);return this.ctx.get(Or).fetch(s,{method:"GET",headers:i})}async isAvailable(t,r){try{return(await this._doGetRepositoryInfo(t,r)).ok}catch{return!1}}};d();d();d();var QMe=et(Df());var Qg=class{constructor(t,r,n){this.doc=t;this.selection=r;this.visibleRange=n}static{o(this,"ElidableDocument")}fromSelectedCode(t){let r=this.getExpandedSelection(),n=r;if(t.trimNewLines){let s=this.doc.getText(r),a=s.match(/^\n*/)?.[0].length??0,l=s.match(/\n*$/)?.[0].length??0;n={start:this.getLineStart(r.start.line+a),end:this.expandLineToEnd(r.end.line-l)}}let i=new tr([(0,QMe.default)(this.doc.getText(n)).trim()]);return[this.wrapInTicks(i),n]}fromAllCode(t){let r=this.getDocumentRange(),n=this.getExpandedSelection(),i;!this.visibleRange||!this.rangeContainedIn(this.visibleRange,n)?i=n:i={start:this.getLineStart(this.visibleRange.start.line),end:this.expandLineToEnd(this.visibleRange.end.line)};let s={start:r.start,end:i.start.line>0?this.expandLineToEnd(i.start.line-1):r.start},a={start:i.start,end:n.start.line>0&&n.start.line>i.start.line?this.expandLineToEnd(n.start.line-1):i.start},l={start:n.end.line<this.doc.lineCount-1&&n.end.line<i.end.line?this.getLineStart(n.end.line+1):i.end,end:i.end},c={start:i.end.line<this.doc.lineCount-1?this.getLineStart(i.end.line+1):r.end,end:r.end},u=[[s,.6],[a,.8],[n,1],[l,.4],[c,.2]],f=new tr(u.filter(([m,h])=>!C9(m)||h===1).map(([m,h])=>{let p;return t.addLineNumbers?p=this.addLineNumbers(m):p=this.doc.getText(m),[h==1?p:Zu(p),h]}));return this.wrapInTicks(f)}selectionIsDocument(){return this.rangeEquals(this.getExpandedSelection(),this.getDocumentRange())}selectionIsEmpty(){return this.selection==null||C9(this.selection)}getExpandedSelection(){return this.selection!==void 0?{start:this.getLineStart(this.selection.start.line),end:this.expandLineToEnd(this.selection.end.line)}:this.getDocumentRange()}getDocumentRange(){return{start:this.getLineStart(0),end:this.expandLineToEnd(this.doc.lineCount-1)}}getLineStart(t){return{line:t,character:0}}expandLineToEnd(t){return t>this.doc.lineCount-1&&(t=this.doc.lineCount-1),{line:t,character:this.doc.lineAt({line:t,character:0}).text.length}}rangeContainedIn(t,r){return t.start.line<=r.start.line&&t.end.line>=r.end.line}rangeEquals(t,r){return t.start.line==r.start.line&&t.end.line==r.end.line}wrapInTicks(t,r){return new tr([["```"+this.doc.detectedLanguageId,1],[t,r??1],["```",1]])}addLineNumbers(t){let r=this.doc.getText(t).split(`
`),n=this.doc.lineCount.toString().length;return r.map((s,a)=>`${(t.start.line+a+1).toString().padEnd(n," ")}:${s}`).join(`
`)}};function C9(e){return e.start.line==e.end.line&&e.start.character==e.end.character}o(C9,"isEmptyRange");var MMe=et(require("path"));var OMe=I.Object({uri:I.String(),visibleRange:I.Optional(ya),selection:I.Optional(ya)}),Oce=class{constructor(t){this.turnContext=t}static{o(this,"CurrentEditorSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(Pn),n=await r.getOrReadTextDocument(t),i=gs(n);if(await this.turnContext.collectFile(Hc,t.uri,i),n.status==="valid"){let s=this.turnContext.conversation.source==="inline",a=new Qg(n.document,t.selection,t.visibleRange),l=r.getRelativePath(n.document);if(i==="empty")return new tr([`The currently open file \`${l}\` is empty.`]);let c=[[`Code excerpt from the currently open file \`${l}\`:`,1],[a.fromAllCode({addLineNumbers:s}),1]],u=[];if(a.selectionIsDocument())u=[["The user is selecting the entire file.",1]];else if(s){let[f,m]=a.fromSelectedCode({trimNewLines:!0}),h=m.start.line+1;if(C9(m))u=[[`The user is selecting line ${h}, which is empty.`,1]];else{let p=m.end.line+1;u=[["The user is selecting"+(h==p?` line ${h}:`:` lines ${h} to ${p} (inclusive):`),1],[f,1]]}}else a.selectionIsEmpty()||(u=[["The user is selecting this code:",1],[a.fromSelectedCode({trimNewLines:!1})[0],1]]);return new tr([...c,...u])}else if(n.status==="invalid")return new tr([`The currently open file \`${MMe.basename(t.uri)}\` is content excluded.`])}},Hc="current-editor",hH=class{constructor(t){this._resolver=t;this.id=Hc;this.type="explicit"}static{o(this,"CurrentEditorSkill")}description(){return"The code from the user's currently open file"}resolver(){return this._resolver}processor(t){return new Oce(t)}};d();d();var Xa=class{constructor(){this.skills=[]}static{o(this,"ConversationSkillRegistry")}registerSkill(t){if(this.getSkill(t.id))throw new Error(`Skill with id '${t.id}' already registered`);this.skills.push(t)}getSkill(t){return this.skills.find(r=>r.id===t)}getDescriptors(){return[...this.skills]}},Uce=class{constructor(t,r,n){this.delegate=t;this.stepId=r;this.stepTitle=n}static{o(this,"StepReportingSkillResolver")}async resolveSkill(t){await t.steps.start(this.stepId,this.stepTitle);try{let r=await this.delegate.resolveSkill(t);return r||await t.steps.finish(this.stepId),r}catch(r){throw await t.steps.error(this.stepId,r instanceof Error?r.message:`Error resolving ${this.stepTitle}`),r}}},qce=class{constructor(t,r){this.delegate=t;this.stepId=r}static{o(this,"StepReportingSkillProcessor")}value(){return this.delegate.value()}async processSkill(t,r){try{let n=await this.delegate.processSkill(t,r);return await r.steps.finish(this.stepId),n}catch(n){throw await r.steps.error(this.stepId,n instanceof Error?n.message:`Error processing ${this.stepId}`),n}}},Ml=class{constructor(t,r,n,i,s,a="explicit",l=[],c=()=>!0){this.id=t;this._description=r;this.stepTitle=n;this._resolver=i;this._processor=s;this.type=a;this._examples=l;this._isAvailable=c}static{o(this,"SingleStepReportingSkill")}description(){return this._description}examples(){return this._examples}isAvailable(t){return this._isAvailable(t)}resolver(t){return new Uce(this._resolver(t),this.id,this.stepTitle)}processor(t){return new qce(this._processor(t),this.id)}};var UMe=I.Object({name:I.String(),url:I.String()}),qMe=I.Object({path:I.String(),head:I.Optional(I.Object({name:I.String(),upstream:I.Optional(UMe)})),remotes:I.Optional(I.Array(UMe))}),Wce=class{constructor(t){this.turnContext=t}static{o(this,"GitMetadataSkillProcessor")}value(){return .8}processSkill(t){this.turnContext.collectLabel(Tv,"git repository information");let r=[];return r.push([new tr(["Metadata about the current git repository:"]),1]),t.head&&t.head.name?(r.push([new tr([`- Current branch name: ${t.head.name}`]),1]),t.head.upstream&&r.push([new tr([`- Upstream name and url: ${t.head.upstream.name} - ${t.head.upstream.url}`]),1])):r.push([new tr(["- Detached HEAD: yes"]),1]),t.remotes&&t.remotes.length>0&&r.push([new tr([`- Remotes: ${t.remotes.map(n=>n.name).join(", ")}`]),1]),new tr(r)}},Tv="git-metadata",pH=class extends Ml{static{o(this,"GitMetadataSkill")}constructor(t){super(Tv,"Metadata about the current git repository, useful for questions about branch management and git related commands","Reading git information",()=>t,r=>new Wce(r))}};async function WMe(e){let t=await e.skillResolver.resolve(Hc);if(t){let a=t.uri,l=Zy(e.ctx,a);if(DCe(l))return{repoInfo:l,skillUsed:Hc}}let r=await e.skillResolver.resolve(Tv);if(!r||!r.remotes||r.remotes.length===0){Zr.debug(e.ctx,"Git metadata skill is not available or no remotes available.");return}let i=r.remotes.find(a=>a.name==="origin")??r.remotes[0],s=pZ(i.url);if(s)return{repoInfo:{baseFolder:{uri:r.path},url:i.url,...s},skillUsed:Tv}}o(WMe,"extractRepoInfo");async function GMe(e){let t=[];return await ekt(e,t),await tkt(e,t),await rkt(e,t),t}o(GMe,"skillsToReference");async function ekt(e,t){let r=await nkt(e);r&&t.push(r)}o(ekt,"addRepositoryReference");async function tkt(e,t){let r=await ikt(e);r&&t.push(r)}o(tkt,"addSelectionReference");async function rkt(e,t){let r=[],n=await skt(e);n&&r.push(n),r.push(...await akt(e)),r.length>0&&t.push(...r)}o(rkt,"addFileReferences");async function nkt(e){let t=await WMe(e);if(t){let r=e.ctx.get(Lg),n=t.repoInfo.owner,i=t.repoInfo.repo;if(await r.isAvailable(n,i))return{type:"github.repository",id:`${n}/${i}`,data:{type:"repository",name:i,ownerLogin:n,id:(await r.getRepositoryInfo(n,i)).id}}}}o(nkt,"gitMetadataToReference");async function ikt(e){let t=await e.skillResolver.resolve(Hc);if(t&&t.selection){let n=await e.ctx.get(Pn).getOrReadTextDocument(t),i=gs(n);if(await e.collectFile(e.turn.agent.agentSlug,t.uri,i,t.selection),n.status==="valid")return okt(t,n.document)}}o(ikt,"currentEditorToSelectionReference");function okt(e,t){if(e.selection&&!C9(e.selection)){let r=t.getText(e.selection);return{type:"client.selection",id:e.uri,data:{start:{line:e.selection.start.line,col:e.selection.start.character},end:{line:e.selection.end.line,col:e.selection.end.character},content:r}}}}o(okt,"extractSelection");async function skt(e){let t=await e.skillResolver.resolve(Hc);if(t){let n=await e.ctx.get(Pn).getOrReadTextDocument(t),i=gs(n);if(await e.collectFile(e.turn.agent.agentSlug,t.uri,i),n.status==="valid")return{type:"client.file",id:n.document.uri,data:{content:n.document.getText(),language:n.document.detectedLanguageId}}}}o(skt,"currentEditorToFileReference");async function akt(e){let t=[],r=e.turn.request.references;if(r&&r.length>0){let n=e.ctx.get(Pn);for(let i of r)if(i.type==="file"){let s=await n.getOrReadTextDocument(i),a=gs(s);if(await e.collectFile(e.turn.agent.agentSlug,i.uri,a,i.selection),s.status==="valid"){let l=s.document.getText();t.push({type:"client.file",id:i.uri,data:{content:l,language:s.document.detectedLanguageId}})}}}return t}o(akt,"fileReferenceToPlatformFileReference");d();d();d();d();var JMe=et(yH()),Vce=et(require("path"));var ZMe=500,Akt=Math.floor(.25*ZMe),CH=class{static{o(this,"FixedSizeChunking")}async chunk(t,r){let n=[],i=Vce.default.extname(__filename)===".ts"?Vce.default.resolve(__dirname,"../../../../../../dist/main.js"):__filename;return n=await JMe.job(async({text:s,uri:a,tokenizerName:l,directory:c,chunkSize:u,overlap:f})=>{let h=await require(c).getTokenizerAsync(l),p=h.tokenize(s),A=p.length,x=[],v=0;for(;v<A;){let E=v+u>=A,b=E?A:v+u,_=p.slice(v,b),R=h.detokenize(_),P=s.indexOf(R);x.push({id:`${a.toString()}#${v}`,chunk:R,tokenCount:_.length,range:{start:P,end:P+R.length}}),v=E?b:b-f}return x},{data:{text:t.getText(),uri:t.uri.toString(),tokenizerName:r.tokenizer,directory:i,chunkSize:ZMe,overlap:Akt}}),n}};var ykt="fixedSize",Ckt=new Map([["fixedSize",CH]]);function XMe(e){let t=e==="default"?ykt:e,r=Ckt.get(t);if(!r)throw new Error(`Chunking constructor for type ${e} not found`);return r}o(XMe,"getChunkingAlgorithm");d();d();var xH=et(Iy()),HA=et(require("fs")),eOe=require("os"),Fh=et(require("path")),x9=require("process");var $ce=5e4,xkt=new Yt("workspaceChunks"),vH=class e{constructor(t,r){this.ctx=t;this.pathHashLength=8;let n=Di(r.uri),i=(0,xH.SHA256)(r.uri).toString().substring(0,this.pathHashLength);this.cacheRootPath=Fh.join(vkt(),"project-context",`${n}.${i}`)}static{o(this,"WorkspaceChunks")}static{this.CACHE_VERSION="1.0.0"}getChunksCacheFile(t){let r=(0,xH.SHA256)(t).toString().substring(0,this.pathHashLength),n=Fh.basename(t);return Fh.join(this.cacheRootPath,`${n}.${r}.json`)}async getChunksCacheFromCacheFile(t){let r=await HA.promises.readFile(t,{encoding:"utf8"}).catch(()=>{});if(r)try{return JSON.parse(r)}catch{}}async getChunksCache(t){let r=this.getChunksCacheFile(t);return await this.getChunksCacheFromCacheFile(r)}async setChunksCache(t,r){let n=this.getChunksCacheFile(t);try{await HA.promises.mkdir(Fh.dirname(n),{recursive:!0}),await HA.promises.writeFile(n,JSON.stringify(r),{encoding:"utf8"})}catch(i){xkt.debug(this.ctx,"Failed to set chunks cache:",i)}}async removeChunksCache(t){let r=this.getChunksCacheFile(t);await HA.promises.rm(r).catch(()=>{})}async enumerateChunksCacheFileNames(){return await HA.promises.readdir(this.cacheRootPath).catch(()=>[])}async getFilesCount(){return(await this.enumerateChunksCacheFileNames()).length}async getChunksCount(){let t=0;for await(let r of this.getChunks())t++;return t++}async*getChunksForFile({uri:t}){let r=await this.getChunksCache(t);r!==void 0&&(yield*r.documentChunks)}async*getChunksFromCacheFile(t){let r=await this.getChunksCacheFromCacheFile(t);yield*r?r.documentChunks:[]}async*getChunks(t){if(t!==void 0)yield*this.getChunksForFile(t);else{let r=await this.enumerateChunksCacheFileNames();for(let n of r)yield*this.getChunksFromCacheFile(Fh.join(this.cacheRootPath,n))}}async getFileHash(t){let r=Mo(t),n="";return r&&(n=await HA.promises.readFile(r,{encoding:"utf8"}).catch(()=>"")),(0,xH.SHA256)(n).toString()}async addChunks({uri:t},r){let n=await this.getFileHash(t),i=await this.getChunksCache(t);if(i!==void 0&&i.hash===n&&i.version===e.CACHE_VERSION)return;let s={version:e.CACHE_VERSION,filePath:t,hash:n,documentChunks:r};await this.setChunksCache(t,s)}async deleteChunksForSource(t){let r=sl(t),n=await this.getChunksCache(r);return n===void 0?[]:(await this.removeChunksCache(r),n.documentChunks)}async deleteChunks({uri:t}){let r=Mo(t);if(!r)return[];let n;try{n=await HA.promises.readdir(r)}catch{return await this.deleteChunksForSource(r)}let i=[];for(let s of n){let a=sl(Fh.join(r,s));i.push(...await this.deleteChunks({uri:a}))}return i}async clear(){await HA.promises.rm(this.cacheRootPath,{recursive:!0}).catch(()=>{})}};function vkt(){return x9.env.XDG_CACHE_HOME&&Fh.isAbsolute(x9.env.XDG_CACHE_HOME)?x9.env.XDG_CACHE_HOME+"/github-copilot":(0,eOe.platform)()==="win32"?x9.env.USERPROFILE+"\\AppData\\Local\\Temp\\github-copilot":x9.env.HOME+"/.cache/github-copilot"}o(vkt,"getXdgCachePath");var zce=1e4;var bH=class{constructor(t,r,n){this.workspaceFolder=r;this.implementation=n;this._chunkLimiter=new Kce;this.status="notStarted",this.workspaceChunks=new vH(t,r),this.cancellationToken=new Yce,this._chunkingTimeMs=0,this._fileCountExceeded=!1,this._chunkCountExceeded=!1,this._totalFileCount=0,this._filesUpdated=new Set}static{o(this,"ChunkingHandler")}async chunk(t,r){return r?await this.chunkFiles(t,r):await this.chunkWorkspace(t)}async chunkWorkspace(t){let r=performance.now();if(this.status="started",this.cancellationToken.isCancelled())return this.status="cancelled",this.updateChunkingTime(r,performance.now()),this.workspaceChunks.getChunks();await this.updateModelConfig(t);let n=await t.get(qc).getWatchedFiles(this.workspaceFolder);this._totalFileCount=n.length,n.length>zce&&(this._fileCountExceeded=!0,n=n.slice(0,zce));let i=n.map(async s=>{this.cancellationToken.isCancelled()||await this._chunkLimiter.queue(()=>this._chunk(t,s))});try{await Promise.all(i)}catch(s){xa(t,s,"ChunkingProvider.chunk"),this.terminateChunking()}return this.status=this.cancellationToken.isCancelled()?"cancelled":"completed",this.updateChunkingTime(r,performance.now()),await this.workspaceChunks.getChunksCount()>$ce&&(this._chunkCountExceeded=!0),this.workspaceChunks.getChunks()}async chunkFiles(t,r){await this.updateModelConfig(t);let n=r.map(async i=>{this.cancellationToken.isCancelled()||(this._filesUpdated.add(i.uri),await this._chunkLimiter.queue(()=>this._chunk(t,i)))});try{await Promise.all(n)}catch(i){xa(t,i,"ChunkingProvider.chunkFiles"),this.terminateChunking()}return await this.workspaceChunks.getChunksCount()>$ce&&(this._chunkCountExceeded=!0),await this.workspaceChunks.getFilesCount()>zce&&(this._fileCountExceeded=!0),tve(...r.map(i=>this.workspaceChunks.getChunks(i)))}async _chunk(t,r){if(this.cancellationToken.isCancelled())return;let n=await this.implementation.chunk(r,this.modelConfig);await this.workspaceChunks.addChunks(r,n)}async updateModelConfig(t){this.modelConfig||(this.modelConfig=await t.get(ui).getBestChatModelConfig(ms("user")))}terminateChunking(){this.cancellationToken.cancel()}async clearChunks(){await this.workspaceChunks.clear()}updateChunkingTime(t,r){this._chunkingTimeMs=r-t}get chunkingTimeMs(){return Math.floor(this._chunkingTimeMs)}get fileCountExceeded(){return this._fileCountExceeded}get totalFileCount(){return this._totalFileCount}get chunkCountExceeded(){return this._chunkCountExceeded}get filesUpdatedCount(){return this._filesUpdated.size}async getFilesCount(){return this.workspaceChunks.getFilesCount()}getChunks(){return this.workspaceChunks.getChunks()}async getChunksCount(){return this.workspaceChunks.getChunksCount()}deleteSubfolderChunks(t){return this.workspaceChunks.deleteChunks({uri:t})}deleteFileChunks(t){return this._filesUpdated.add(t),this.workspaceChunks.deleteChunks({uri:t})}},Yce=class{constructor(){this.cancelled=!1}static{o(this,"ChunkingCancellationToken")}cancel(){this.cancelled=!0}isCancelled(){return this.cancelled}},Kce=class{constructor(t=20){this.maxCount=t;this.tasks=[];this.runningTasks=0}static{o(this,"Limiter")}async queue(t){return new Promise((r,n)=>{this.tasks.push({factory:t,resolve:r,reject:n}),this.consume()})}consume(){for(;this.tasks.length>0&&this.runningTasks<=this.maxCount;){let{factory:t,resolve:r,reject:n}=this.tasks.shift();this.runningTasks++;let i=t();i.then(r,n),i.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this.runningTasks--,this.consume()}};var ca=class{constructor(t){this.ctx=t;this.workspaceChunkingProviders=new Map}static{o(this,"ChunkingProvider")}get workspaceCount(){return this.workspaceChunkingProviders.size}createImplementation(t,r){let n=XMe(r),i=new n;return new bH(this.ctx,t,i)}getImplementation(t,r="default"){let n=this.getParentFolder(t);if(n)return this.workspaceChunkingProviders.get(n.uri);let i=this.workspaceChunkingProviders.get(t.uri);return i||(i=this.createImplementation(t,r),this.workspaceChunkingProviders.set(t.uri,i)),i}getParentFolder(t){let r=[];for(let n of this.workspaceChunkingProviders.values())r.push(n.workspaceFolder);return r.find(n=>{let i=n.uri.replace(/[#?].*/,"").replace(/\/?$/,"/");return t.uri!==n.uri&&t.uri.startsWith(i)})}status(t){return this.getImplementation(t).status}checkLimits(t){let r=this.getImplementation(t);return{fileCountExceeded:r.fileCountExceeded,chunkCountExceeded:r.chunkCountExceeded}}fileCount(t){return this.getImplementation(t).getFilesCount()}chunkCount(t){return this.getImplementation(t).getChunksCount()}chunkingTimeMs(t){return this.getImplementation(t).chunkingTimeMs}getChunks(t){return this.getImplementation(t).getChunks()}terminateChunking(t,r){let n=this.getImplementation(r);n.terminateChunking();let s=ln.createAndMarkAsIssued().extendedBy(void 0,{fileCount:n.filesUpdatedCount});jt(t,"index.terminate",s),this.workspaceChunkingProviders.delete(r.uri)}async clearChunks(t,r){this.terminateChunking(t,r),await this.getImplementation(r).clearChunks()}async deleteSubfolderChunks(t,r){return await this.getImplementation(t).deleteSubfolderChunks(r.uri)}async deleteFileChunks(t,r){let n=this.getImplementation(t),i=[];Array.isArray(r)||(r=[r]);for(let s of r)i.push(...await n.deleteFileChunks(s));return i}async chunk(t,r,n,i){let s;return n&&(Array.isArray(n)?s=n:i=n),i||(i="default"),s?await this.chunkFiles(t,r,s,i):await this.chunkFolder(t,r,i)}async chunkFolder(t,r,n="default"){let i=this.getImplementation(r,n),s=await i.chunk(t),l=ln.createAndMarkAsIssued().extendedBy(void 0,{fileCount:i.totalFileCount,chunkCount:await i.getChunksCount(),timeTakenMs:i.chunkingTimeMs,workspaceCount:this.workspaceCount});return jt(t,"index.chunk",l),s}async chunkFiles(t,r,n,i="default"){return await this.getImplementation(r,i).chunk(t,n)}};d();d();d();d();d();function IH(e){switch(e){case"Agent":return"Agent";case"Ask":default:return"Ask"}}o(IH,"toChatModeEnum");var v9=class{constructor(t,r){this.request=t;this.telemetryId=Ir();this.timestamp=Date.now();this.status="in-progress";this.skills=[];this.ignoredSkills=[];this.annotations=[];this.id=r??this.telemetryId}static{o(this,"Turn")}},EH=class e{constructor(t=[],r="panel",n="en",i){this.turns=t;this.source=r;this.userLanguage=n;this._telemetryId=Ir();this._timestamp=Date.now();this.id=i??this.telemetryId}static{o(this,"Conversation")}copy(){let t=JSON.parse(JSON.stringify(this.turns)),r=new e(t,this.source,this.userLanguage,this.id);return r._telemetryId=this.telemetryId,r._timestamp=this.timestamp,r}get telemetryId(){return this._telemetryId}get timestamp(){return this._timestamp}addTurn(t){this.turns.push(t)}deleteTurn(t){this.turns=this.turns.filter(r=>r.id!==t)}getLastTurn(){return this.turns[this.turns.length-1]}findTurn(t){return this.turns.find(r=>r.id===t)}};d();d();d();var tOe={id:0,start_offset:0,stop_offset:0,type:"ip_code_citations",details:{},citations:{snippet:`html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Canvas Example</title>
<`,url:"https://github.com/duonghle285/gnoud9x.github.io/tree/c95127bc5b7a491d9223f21ac3b8c5100996e754/26062020-vehinhchunhat%2Findex.html",ip_type:"LICENSE",license:"NOASSERTION"}},rOe="Alright, This response contains a code citation.";d();var nOe=`
# Should render

## Links
Links should render. However, if a user clicks on the link, it should open a confirmation dialog before navigating to the link. 

markdown:

[GitHub Copilot](https://copilot.github.com)

html:

<a href="https://copilot.github.com">GitHub Copilot</a>

## Images
The following images do come from one of these sources and should render:

- \`raw.githubusercontent.com/\`
- \`private-user-images.githubusercontent.com/\`
- \`avatars.githubusercontent.com\`
- \`gist.github.com/assets/\`


markdown:

![logo](https://avatars.githubusercontent.com/u/147005046?v=4)

html:

<img src="https://avatars.githubusercontent.com/u/147005046?v=4" alt="logo"/>

## Headers

markdown:

# Header 1
## Header 2
### Header 3
#### Header 4
##### Header 5
###### Header 6

html:

<h1>Header 1</h1>
<h2>Header 2</h2>
<h3>Header 3</h3>
<h4>Header 4</h4>
<h5>Header 5</h5>
<h6>Header 6</h6>

## Paragraphs

html:

<p>This is a paragraph.</p>

## Bold

markdown:

**bold text**

html:

<strong>bold text</strong>

## Italic

markdown:

_italic text_

html:

<i>italic text</i>

## Codeblock

markdown:

\`\`\`javascript
console.log('Hello, World!');
\`\`\`

html:

<code>console.log('Hello, World!');</code>

## Unordered List

markdown:

- item 1
- item 2
- item 3

html:

<ul>
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
</ul>

## Ordered List

markdown:

1. item 1
2. item 2
3. item 3

html:

<ol>
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
</ol>

## Table

markdown:

| Header 1 | Header 2 | Header 3 |
|----------|----------|----------|
| cell 1   | cell 2   | cell 3   |
| cell 4   | cell 5   | cell 6   |

html:

<table>
    <thead>
        <tr>
            <th>Header 1</th>
            <th>Header 2</th>
            <th>Header 3</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>cell 1</td>
            <td>cell 2</td>
            <td>cell 3</td>
        </tr>
        <tr>
            <td>cell 4</td>
            <td>cell 5</td>
            <td>cell 6</td>
        </tr>
    </tbody>
</table>

## Blockquote

markdown:

> This is a blockquote.

html:

<blockquote>This is a blockquote.</blockquote>


# Should not render

## html tags
Unsupported tags like \`<div>\` should not render but should be escaped. This code:

\`\`\`html
<div><ul><li>Foo</li></ul><img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/>
\`\`\`

should be rendered as:

\`\`\`html
<div>
* Foo
<img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/>
\`\`\`

code:

<div><ul><li>Foo</li></ul><img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/></div>

## images
The following images do *not* come from one of the trusted domains and should not render.

markdown:

![productivity](https://github.com/images/modules/site/copilot/productivity-bg-head.png)

html:

<img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="100"/>

## Invisible characters

### Inline styles
Styled elements should not be rendered styled. This may trick the user to think elements are actually IDE controls

<p style="color: red;">This is an <span style="display: none;">harmfully</span> styled text!</p>

### html attributes
Only img src/alt and a href attributes should make it to the dom. 

The following paragraph should not render the \`id\` attribute in the dom.

<p id="foo">This is a paragraph with an id</p>
`;d();d();var iOe=et(require("fs")),I0=et(require("path"));var Jce=[".test",".spec","_test","Test","_spec","_test","Tests",".Tests","Spec"],Zce="test_",eR={js:{suffix:[".test",".spec"],location:"sameFolder"},ts:{suffix:[".test",".spec"],location:"sameFolder"},go:{suffix:["_test"],location:"sameFolder"},java:{suffix:["Test"],location:"testFolder"},php:{suffix:["Test"],location:"testFolder"},dart:{suffix:["_test"],location:"testFolder"},cs:{suffix:["Test"],location:"testFolder"},rb:{suffix:["_test","_spec"],location:"testFolder"},py:{prefix:"test_",location:"testFolder"},ps1:{suffix:[".Tests"],location:"testFolder"},kt:{suffix:["Test"],location:"testFolder"}},tR=class{constructor(t,r,n=void 0){this.ctx=t;this.fileExists=r;this.baseUri=n}static{o(this,"TestFileFinder")}async findTestFileForSourceFile(t){let r=Di(t),n=I0.extname(r).replace(".",""),i=eR[n]??{location:"sameFolder",prefix:Zce,suffix:Jce},s=[];if(i.prefix&&s.push(i.prefix+r),i.suffix)for(let u of i.suffix??[]){let f=r.replace(`.${n}`,u+"."+n);s.push(f)}let a=i.location??"sameFolder",l;if(a==="sameFolder"){if(l=Mo(ju(t)),l===void 0)return}else{let u=Mo(t);if(u===void 0)return;l=this.determineTestFolder(u,a)}for(let u of s){let f=I0.join(l,u),m=this.parseTestFilePath(f);if(m&&await this.fileExists(m))return m}let c=sl(l);if(await this.fileExists(c))return Fo(c,s[0])}parseTestFilePath(t){try{return sl(t)}catch(r){li.error(this.ctx,`Failed to parse test file path: ${t}`,r);return}}async findImplFileForTestFile(t){let r=Di(t),n=I0.extname(r).replace(".",""),i=eR[n]??{location:"sameFolder",prefix:Zce,suffix:Jce},s=[];if(i.prefix&&s.push(r.substring(i.prefix.length)),i.suffix)for(let c of i.suffix??[]){let f=r.substring(0,r.length-c.length-1-n.length)+"."+n;s.push(f)}let a=i.location??"sameFolder",l;a==="sameFolder"?l=ju(t):l=this.determineImplFolder(t);for(let c of s){let u=Fo(l,c);if(await this.fileExists(u))return u}}findExampleTestFile(t){let r=Mo(t);if(r===void 0)return;let n=I0.extname(Di(t)).replace(".",""),i,s=eR[n]?.location??"sameFolder";s==="sameFolder"?i=I0.dirname(r):i=this.determineTestFolder(r,s);let a=this.findFiles(i,`.${n}`,eR[n]);if(a.length>0)return sl(a[0])}findFiles(t,r,n){let i=this._readdir(t),s=[];for(let a of i){let l=`${t}${I0.sep}${a}`;n?.prefix&&a.startsWith(n.prefix)&&s.push(l),n?.suffix&&n?.suffix.some(c=>a.endsWith(c+r))&&s.push(l)}return s}_readdir(t){return iOe.readdirSync(t,{withFileTypes:!0}).filter(r=>r.isFile()).map(r=>r.name)}determineTestFolder(t,r){let n=(this.baseUri&&Mo(this.baseUri))??"",i=I0.extname(t).replace(".",""),s=this.getRelativeTestFolder(t,n,i,r);return[n,...s].filter(a=>a).join(I0.sep)}getRelativeTestFolder(t,r,n,i){let s=I0.dirname(t).replace(r,"");switch(n){case"php":case"dart":case"py":return["tests"];case"ps1":return["Tests"];case"rb":return["test",s];case"cs":return[s.replace("src","src/tests")];case"java":case"scala":case"kt":return[s.replace(/src[\\/]main/,"src/test")];default:return i==="testFolder"?[s.replace("src","test")]:[s]}}determineImplFolder(t){let r=I0.extname(Di(t)).replace(".",""),n=ju(t);switch(r){case"php":case"dart":case"py":return n.replace("tests","src");case"ps1":return n.replace("Tests","src");case"rb":return n.replace("/test","");case"cs":return n.replace("src/tests","src");case"java":case"scala":case"kt":return n.replace("src/test","src/main");default:return n.replace("test/","src/")}}};function rR(e){let t=Di(e),r=I0.extname(t),n=eR[r.replace(".","")];return n?!(n.suffix&&!n.suffix.some(s=>t.endsWith(s+r))||n.prefix&&!t.startsWith(n.prefix)):!!(Jce.some(s=>t.endsWith(s+r))||t.startsWith(Zce))}o(rR,"isTestFile");d();var oOe=["indexed","indexing","not_indexed"],BC=class{constructor(){this._cache=new In(100)}static{o(this,"BlackbirdIndexingStatus")}async queryIndexingStatus(t,r,n){let i=t.ctx,s=i.get(On).getBlackbirdIndexingStatusUrl();if(!n)return!1;let a=new URL(s);a.searchParams.set("nwo",r);let l={Authorization:`token ${n}`},c=await i.get(Or).fetch(a.href,{method:"GET",headers:l});if(!c.ok)return!1;let u=await c.json();return u.docs_status==="indexed"||u.code_status==="indexed"}isValid(t){return t!==void 0&&Date.now()-t.timestamp<30*60*1e3}async isRepoIndexed(t,r,n,i=!1){let s=U1(r);if(!s)return!1;let a=this._cache.get(s);if(!i&&this.isValid(a))return a.status;let l=await this.queryIndexingStatus(t,s,n);return this._cache.set(s,{status:l,timestamp:Date.now()}),l}get cache(){return this._cache}};d();d();d();async function sOe(e,t,r,n){let i=go(t.tokenizer),s=r.filter(m=>i.tokenLength(m.text)<t.maxTokens);if(s.length===0)return;let a=[],l=await e.get($r).getToken(),c=mI(e,l,"embeddings"),u=l.token,f=0;for(;f<s.length&&!n.isCancellationRequested;){let m=s.slice(f,f+t.maxBatchSize),h=await bkt(e,c,u,t.modelId,m,n);a.push(...h||[]),f+=t.maxBatchSize}return a.length?a:void 0}o(sOe,"fetchEmbeddings");async function bkt(e,t,r,n,i,s){let a=Ir(),l=i.map(u=>u.text),c=await z3(e,t,r,void 0,a,{input:l,model:n,dimensions:1024},s,zy(e));if(c.status!==200||s.isCancellationRequested){xa(e,new jA(`Failed to request dense embeddings, status: ${c.status}`),"LocalSnippetProvider.fetchEmbeddings");return}try{return(await c.json()).data.map(f=>({id:i[f.index].id,embedding:f.embedding}))}catch{return}}o(bkt,"sendEmbeddingsRequest");d();d();var TH=class{static{o(this,"CosineSimilarityScoring")}score(t,r){let n=Math.sqrt(t.reduce((a,l)=>a+l*l,0)),i=Math.sqrt(r.reduce((a,l)=>a+l*l,0));return t.reduce((a,l,c)=>a+l*r[c],0)/(n*i)}terminateScoring(){}};var Ekt="cosine",Ikt=new Map([["cosine",TH]]);function aOe(e){let t=e==="default"?Ekt:e,r=Ikt.get(t);if(!r)throw new Error(`Scoring constructor for type ${e} not found`);return r}o(aOe,"getScoringAlgorithm");d();var Pf=class{constructor(){this.workspaceScoringProviders=new In(25)}static{o(this,"ScoringProvider")}createImplementation(t,r){let n=aOe(r);return new n}getImplementation(t,r,n="default"){let i=this.workspaceScoringProviders.get(r.uri);return i||(i=this.createImplementation(t,n),this.workspaceScoringProviders.set(r.uri,i)),i}score(t,r,n,i,s){return this.getImplementation(t,r,s).score(n,i)}terminateScoring(t,r,n){this.getImplementation(t,r,n).terminateScoring(),this.workspaceScoringProviders.delete(r.uri)}};var lOe={modelFamily:iN.textEmbedding3Small,scoringType:"default",dimensions:null};async function cOe(e,t,r,n,i,s,a,l=lOe){let c={...lOe,...l},u=wkt(e,t,r,n);Zr.debug(e,`EmbeddingsReranker: Reranking ${u.length} snippets (includes the user query)`);let f=await e.get(ui).getFirstMatchingEmbeddingModelConfiguration(c.modelFamily);if(f===void 0)throw new Error(`EmbeddingsReranker: Model configuration not found for ${c.modelFamily}`);let m=performance.now(),h=await sOe(e,f,u,s),p=performance.now();if(a.embeddingsTimeMs=Math.floor(p-m),h===void 0||h.length===0)return[];let A=h.findIndex(P=>P.id==="userQuery");if(A===void 0)return[];let x=h.splice(A,1)[0];if(s.isCancellationRequested)return[];let v=performance.now(),E=_kt(e,t,h,x,c.scoringType),b=performance.now();a.rerankingTimeMs=Math.floor(b-v);let _=E.slice(0,i);return Zr.debug(e,`EmbeddingsReranker: Returning ${_.length} snippets`),_.map(P=>u.find(F=>F.id===P.id).id)}o(cOe,"rerankSnippets");function wkt(e,t,r,n){let i=n.map(s=>({id:s.id,text:s.chunk.toLowerCase()}));return i.push({id:"userQuery",text:r.toLowerCase()}),i}o(wkt,"formatEmbeddingsInput");function _kt(e,t,r,n,i){let s=e.get(Pf);return r.map(l=>({id:l.id,score:s.score(e,t,n.embedding,l.embedding,i)})).sort((l,c)=>c.score-l.score)}o(_kt,"scoreEmbeddings");d();d();d();var e0e=et(yH());var Skt=.75,kkt=1.2,Rkt=47,wH=class{constructor(t,r){this.ctx=t;this.workspaceFolder=r;this.chunksCount=0;this.sumTokenCount=0;this.status="notStarted"}static{o(this,"BM25Ranking")}get avgTokenCount(){return this.sumTokenCount/this.chunksCount}async initialize(t){this.sumTokenCount=0,this.chunksCount=0;for await(let r of t)this.sumTokenCount+=r.tokenCount,this.chunksCount++;this.status="completed"}async addChunks(t){for await(let r of t)this.sumTokenCount+=r.tokenCount,this.chunksCount++}async query(t){let r=await _H();try{return await this.doQuery(t)}finally{await r.stopWorkerPool()}}async doQuery(t){let r=t.map(l=>l.toLowerCase()),n=await this.calculateIDFValues(r),i=Math.min(10*t.length,Rkt),s=Math.min(i,this.chunksCount);return await this.calculateBM25Scores(r,this.avgTokenCount,n,s)}async calculateIDFValues(t){let r=this.ctx.get(ca).getChunks(this.workspaceFolder),n=V1(r,s=>({...s,chunk:s.chunk.toLowerCase()})),i=V1(n,s=>s.chunk);return await Bkt(t,i)}async calculateBM25Scores(t,r,n,i){let s=this.ctx.get(ca).getChunks(this.workspaceFolder),a=new Xce(i);for await(let l of s){let c=await Dkt({...l,chunk:l.chunk.toLowerCase()},t,r,n);a.add({...c,chunk:l.chunk})}return a.toArray(.75)}deleteEmbeddings(t){this.chunksCount-=t.length,this.sumTokenCount-=t.reduce((r,n)=>r+n.tokenCount,0)}terminateRanking(){}};async function Bkt(e,t){let r=new SharedArrayBuffer(e.length*Int32Array.BYTES_PER_ELEMENT),n=new Int32Array(r),i=[],s=0;for await(let c of t){s++;let u=e0e.job(({snippet:f,keywords:m})=>m.map(p=>f.includes(p)?1:0),{data:{snippet:c,keywords:e}}).then(f=>{for(let m=0;m<e.length;m++)Atomics.add(n,m,f[m])});i.push(u)}await Promise.all(i);let a=new Int32Array(r),l={};for(let c=0;c<e.length;c++)l[e[c]]=Math.log((s-a[c]+.5)/(a[c]+.5)+1);return l}o(Bkt,"calculateIDFValues");async function Dkt(e,t,r,n){return{score:await e0e.job(({keywords:s,document:a,docLength:l,avgTokenCount:c,idfValues:u,k1:f,b:m})=>{let h=0;for(let p of s){let A=u[p],x=(a.match(new RegExp(p,"g"))||[]).length,v=A*(x*(f+1)),E=x+f*(1-m+m*l/c);h+=v/E}return h},{data:{document:e.chunk,docLength:e.tokenCount,keywords:t,avgTokenCount:r,idfValues:n,k1:kkt,b:Skt}}),...e}}o(Dkt,"calculateBM25Score");var Xce=class{constructor(t,r=-1/0){this.maxSize=t;this.minScore=r;this.store=[]}static{o(this,"SimpleHeap")}toArray(t){if(this.store.length&&typeof t=="number"){let r=this.store.at(0).score*(1-t);return this.store.filter(n=>n.score>=r)}return this.store}add(t){if(t.score<=this.minScore)return;let r=this.store.findIndex(n=>n.score<t.score);for(this.store.splice(r>=0?r:this.store.length,0,t);this.store.length>this.maxSize;)this.store.pop();this.store.length===this.maxSize&&(this.minScore=this.store.at(-1)?.score??this.minScore)}};var Fkt="bm25",Nkt=new Map([["bm25",wH]]);function uOe(e){let t=e==="default"?Fkt:e,r=Nkt.get(t);if(!r)throw new Error(`Ranking constructor for type ${e} not found`);return r}o(uOe,"getRankingAlgorithm");var mc=class{constructor(){this.workspaceRankingProviders=new In(25)}static{o(this,"RankingProvider")}createImplementation(t,r,n){let i=uOe(n);return new i(t,r)}getImplementation(t,r,n="default"){let i=this.workspaceRankingProviders.get(r.uri);return i||(i=this.createImplementation(t,r,n),this.workspaceRankingProviders.set(r.uri,i)),i}status(t,r,n){return this.getImplementation(t,r,n).status}async initialize(t,r,n,i="default"){await this.getImplementation(t,r,i).initialize(n)}async addChunks(t,r,n,i="default"){await this.getImplementation(t,r,i).addChunks(n)}async query(t,r,n,i){return this.getImplementation(t,r,i).query(n)}async terminateRanking(t,r,n){await this.getImplementation(t,r,n).terminateRanking(),this.workspaceRankingProviders.delete(r.uri)}deleteEmbeddings(t,r,n,i){return this.getImplementation(t,r,i).deleteEmbeddings(n)}};d();async function fOe(e,t){let r=e.ctx,n=await r.get(ui).getBestChatModelConfig(ms("synonyms"),{tool_calls:!0}),i={promptType:"synonyms",modelConfiguration:n},s=await r.get(hc).toPrompt(e,i);if(!s.toolConfig)return;let a={modelConfiguration:n,uiKind:"conversationPanel",messages:s.messages,tools:s.toolConfig?.tools,tool_choice:s.toolConfig?.tool_choice,llmInteraction:e.toLlmInteraction()},l=new ka(r),c=await a0(r,e),u=await l.fetchResponse(a,t,c.extendedBy({messageSource:"chat.synonyms"}));if(u.type==="success"&&u.toolCalls&&u.toolCalls.length>0){let f=u.toolCalls[0],m=s.toolConfig?.extractArguments(f).keywords;return!m||!Array.isArray(m)?void 0:(Zr.debug(r,`UserQueryParser: Parsed ${m.length} keywords from the original user query: ${m.join(", ")}`),m.length?m:void 0)}else{let f="reason"in u?u.reason:"";xa(r,new jA(`Failed to request user query synonyms, result type: ${u.type}, reason: ${f}`),"LocalSnippetProvider.parseUserQuery")}}o(fOe,"parseUserQuery");var dOe=et(Df());var jA=class extends Error{static{o(this,"LocalSnippetProviderError")}constructor(t){super(String(t),{cause:t}),this.name="LocalSnippetProviderError"}},SH=class{constructor(){this.providerType="local"}static{o(this,"LocalSnippetProvider")}snippetProviderStatus(t,r){if(!t.turn.workspaceFolder)return Promise.resolve("not_indexed");r===void 0&&(r=!0);let n=t.ctx,i=n.get(ca),s=i.status(t.turn.workspaceFolder),a=n.get(mc),l=a.status(n,t.turn.workspaceFolder);if(s==="completed"&&l==="completed")return Promise.resolve("indexed");if(s==="started"||l==="started")return Promise.resolve("indexing");if(r){let c=t.turn.workspaceFolder;if(s==="notStarted")return Promise.race([i.chunk(n,c).then(u=>{if(i.status(c)==="completed")return a.initialize(n,c,u)}).then(()=>this.snippetProviderStatus(t,!1)),new Promise(u=>setTimeout(()=>u("not_indexed"),1e3))]);if(l==="notStarted"){let u=i.getChunks(c);return Promise.race([a.initialize(n,c,u).then(()=>this.snippetProviderStatus(t,!1)),new Promise(f=>setTimeout(()=>f("not_indexed"),1e3))])}}return Promise.resolve("not_indexed")}async collectLocalSnippets(t,r){let n=t.turn.workspaceFolder;if(!n)return[];let i=t.ctx,a=await i.get(ca).chunkCount(n);if(a===0)return[];r.chunkCount=a;let l,c=performance.now();try{l=await fOe(t,t.cancelationToken)}catch(A){let x=new jA(A);xa(i,x,"LocalSnippetProvider.parseUserQuery")}let u=performance.now();if(r.synonymTimeMs=Math.floor(u-c),l===void 0)return[];let f=i.get(mc),m=[],h=performance.now();try{let A=await f.query(i,n,l);r.localSnippetCount=A.length,m=A}catch(A){let x=new jA(A);xa(i,x,"LocalSnippetProvider.rankingQuery")}let p=performance.now();return r.rankingTimeMs=Math.floor(p-h),m}async rerankLocalSnippets(t,r,n){let i=t.turn.workspaceFolder;if(!i)return[];let s=t.ctx,a=sn(t.turn.request.message),l=[];try{l=await cOe(s,i,a,r,5,t.cancelationToken,n)}catch(f){let m=new jA(f);xa(s,m,"LocalSnippetProvider.rerankSnippets")}let c=[],u=s.get(Pn);for(let f of l){let m=f.split("#")[0],h=await u.getOrReadTextDocument({uri:m}),p=r.find(A=>A.id===f);if(h.status==="valid"){let A=h.document.positionAt(p.range.start),x=h.document.positionAt(p.range.end),v=No.range(A,x);c.push({uri:h.document.uri,range:v,snippet:p.chunk})}}return c}async provideSnippets(t){let r=this.collectInfoMessage(t);r&&await t.info(r);let n={...sve},i=await this.collectLocalSnippets(t,n);if(i.length===0)return{snippets:[],measurements:n};let s=t.ctx;return Zr.debug(s,`LocalSnippetProvider: First pass: Found ${i.length} snippets.`),{snippets:await this.rerankLocalSnippets(t,i,n),measurements:n}}collectInfoMessage(t){let r=t.turn.workspaceFolder;if(!r)return;let s=t.ctx.get(ca).checkLimits(r);if(s.fileCountExceeded||s.chunkCountExceeded)return dOe.default`
Copilot has partially indexed this project as it exceeds the file limit. As a result, responses may have incomplete context. Consider excluding large, less relevant files or folders (e.g., large CSV files) to improve accuracy.
`}};var hOe=et(mOe()),BH=et(yH()),pOe=et(require("os")),gOe=et(Df());var Mkt=Math.max(pOe.cpus().length-1,1),nR=class e{constructor(){this.isActive=!0}static{o(this,"WorkerPoolToken")}static{this.workerPoolStarted=!1}static{this.activeProcessCount=0}static{this.allTokens=[]}static{this.lock=new hOe.default}static async startWorkerPool(){await e.lock.acquireAsync();try{e.workerPoolStarted||(e.workerPoolStarted=!0,await BH.start({maxWorkers:Mkt})),e.activeProcessCount++;let t=new e;return e.allTokens.push(t),t}finally{e.lock.release()}}async stopWorkerPool(){if(this.isActive){await e.lock.acquireAsync();try{this.isActive&&(this.isActive=!1,e.activeProcessCount--,e.activeProcessCount==0&&(await BH.stop(),e.workerPoolStarted=!1),e.allTokens.includes(this)&&e.allTokens.splice(e.allTokens.indexOf(this),1))}finally{e.lock.release()}}}static async forceStopWorkerPool(){let t=e.allTokens[Symbol.iterator]();for(let r of t)await r.stopWorkerPool();e.workerPoolStarted=!1,e.activeProcessCount=0}},_H=nR.startWorkerPool.bind(nR);var P5n=I.Object({uri:I.String(),snippet:I.String(),range:I.Object({start:I.Object({line:I.Number(),character:I.Number()}),end:I.Object({line:I.Number(),character:I.Number()})})}),n0e=class{constructor(t){this.turnContext=t}static{o(this,"ProjectContextSkillProcessor")}value(){return 1}async processSkill(t){if(this.turnContext.cancelationToken.isCancellationRequested){await this.turnContext.steps.cancel(b9);return}let r=[],n=this.turnContext.ctx.get(Pn),i=this.removeDuplicateSnippets(t);for(let s of i){let{uri:a,snippet:l,range:c}=s,u=await n.getOrReadTextDocument(s);if(u.status==="valid"){let f=new Qg(u.document,c,c),m=new tr([l]),p=rR(a)?.5:.8;r.push([`Code excerpt from file \`${Mo(a)}\`:`,1],[f.wrapInTicks(m,p),1]),await this.turnContext.collectFile(E9,a,gs(u),c)}}if(r.length>0)return r.unshift([new tr(["The user wants you to consider the following snippets when computing your answer."]),1]),new tr(r)}removeDuplicateSnippets(t){let r={};return t.forEach(n=>{let i=`${n.uri}#[${n.range.start.line},${n.range.start.character}]-[${n.range.end.line},${n.range.end.character}]`;r[i]||(r[i]=n)}),Object.values(r)}},b9="collect-project-context",kH=class extends h9{constructor(r,n=[new SH]){super();this.ctx=r;this.snippetProviders=n;this.ready=!1;this.ctx.get(Zd).addListener(this)}static{o(this,"ProjectContextSkillResolver")}start(){this.ready=!0}async onWorkspaceAdded(r){if(!await this.isEnabled()||(this.workerPoolToken=await _H(),!r.uri))return;let n=this.ctx.get(ca),i=this.ctx.get(qc),s=this.ctx.get(mc),a=await n.chunk(this.ctx,r);n.status(r)!=="completed"&&i.terminateWatching(r),await s.initialize(this.ctx,r,a),await this.workerPoolToken.stopWorkerPool()}async onWorkspaceRemoved(r){if(!await this.isEnabled())return;let n=this.ctx.get(ca);if(!r)return;let i=n.getParentFolder(r);if(i){let l=await n.deleteSubfolderChunks(i,r);await this.ctx.get(mc).deleteEmbeddings(this.ctx,i,l);return}n.terminateChunking(this.ctx,r),await this.ctx.get(mc).terminateRanking(this.ctx,r),this.ctx.get(Pf).terminateScoring(this.ctx,r),n.workspaceCount===0&&await nR.forceStopWorkerPool()}async onWorkspaceSubfoldersTerminated(r,n){let i=this.ctx.get(ca),s=this.ctx.get(mc),a=this.ctx.get(Pf);for(let l of n)i.terminateChunking(this.ctx,l),await s.terminateRanking(this.ctx,l),a.terminateScoring(this.ctx,r)}async onFileChange(r){if(!await this.isEnabled())return;let n=await _H();try{let i=r.documents.map(c=>c.uri),s=r.workspaceFolder;if(!s)return;let a=this.ctx.get(ca),l=this.ctx.get(mc);if(r.type==="delete"||r.type==="update"){let c=await a.deleteFileChunks(s,i);await l.deleteEmbeddings(this.ctx,s,c)}if(r.type==="create"||r.type==="update"){let c=await a.chunk(this.ctx,s,r.documents);await l.addChunks(this.ctx,s,c)}}finally{await n.stopWorkerPool()}}isStarted(){return this.ready}async isEnabled(){return!0}async resolveSkill(r){await r.steps.start(b9,"Collecting relevant project context"),await r.info(gOe.default`Project context is applied to this response, which may lead to slightly longer load times. For faster and more general Copilot responses, remove the project context option from your prompt.`);let n=this.snippetProviders.map(async l=>l.snippetProviderStatus(r)),i=await Promise.all(n),s="not_indexed",a;for(let l of oOe){let c=i.findIndex(u=>u===l);if(c!==-1){s=l,a=this.snippetProviders[c];break}}switch(s){case"indexed":{let{snippets:l,measurements:c}=await a.provideSnippets(r);if(await ave(r,a.providerType,c),l.length===0){await r.steps.error(b9,"No project context found");return}return await r.steps.finish(b9),l}case"indexing":{await r.steps.error(b9,"Indexing repository, please try again later");return}case"not_indexed":{await r.steps.error(b9,"No project context available");return}}}},E9="project-context",RH=class extends Ml{static{o(this,"ProjectContextSkill")}constructor(t){super(E9,"Code snippets and documentation from the open project. This skill is useful when the user question is specific to the open project and its context. Do not include this skill for general programming questions.","Performing code search",()=>t,r=>new n0e(r),"implicit",["Relevant: How do I add a custom server route?","Relevant: Where is the code that processes the response from CopyableThreadElement?","Relevant: Where do I add tests for the InputValidation class?","Relevant: How to implement a shared buffer component","Not relevant: What does numpy do?"],()=>!0)}};d();var AOe=I.Object({labels:I.Array(I.String())}),i0e=class{constructor(t){this.turnContext=t}static{o(this,"ProjectLabelsSkillProcessor")}value(){return 1}processSkill(t){let r=[];return r.push([new tr(["The developer is working on a project with the following characteristics (languages, frameworks):"]),1]),t.labels.forEach(n=>{r.push([new tr([`- ${n}`]),.9]),this.turnContext.collectLabel(Nh,n)}),new tr(r)}},Nh="project-labels",DH=class{constructor(t){this._resolver=t;this.id=Nh;this.type="explicit"}static{o(this,"ProjectLabelsSkill")}description(){return"The characteristics of the project the developer is working on (languages, frameworks)"}resolver(){return this._resolver}processor(t){return new i0e(t)}};d();var PH=et(Df());var COe={id:0,start_offset:0,stop_offset:0,type:"code_vulnerability",details:{type:"server-side-unvalidated-url-redirection",description:"Allows a URL to be redirected to a different URL that is specified by an external user.",ui_type:"test",ui_description:"test"}},xOe=PH.dedent`
    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna 
    aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
`,vOe=PH.dedent`
    \`\`\`kotlin
    fun main() {
        println("Hello, World!")
    }
    \`\`\`
`,Okt=PH.dedent`
    ### Inputs
    
    \`p\` - paragraph message
    
    \`c\` - code block
    
    \`<number>\` - number of vulnerabilities, must be at the end of the string (applies to all code blocks)
    
    ### Examples
    
    \`/debug.vulnerability\` - 1 paragraph followed by 1 code block with 1 vulnerability
    
    \`/debug.vulnerability pcc2\` - 1 paragraph followed by 2 code blocks with 2 vulnerabilities each
    
    \`/debug.vulnerability cpc3\` - 1 code block followed by 1 paragraph followed by 1 code block--each code block has 3 vulnerabilities
`,o0e=`

`,yOe=xOe+o0e+vOe;function bOe(e){let t=1;if(e.length===0)return{reply:yOe,vulnerabilities:t};if(e==="0")return{reply:yOe,vulnerabilities:0};if(e==="help")return{reply:Okt,vulnerabilities:t};let r=e.slice(-1);isNaN(Number(r))||(t=Number(r),e=e.slice(0,-1));let n="";for(let i of e)i==="p"?n+=xOe+o0e:i==="c"&&(n+=vOe+o0e);return{reply:n.trimEnd(),vulnerabilities:t}}o(bOe,"parseVulnerabilitiesInstructions");var EOe=et(Df());var Ukt="Oops, your response got filtered. Vote down if you think this shouldn't have happened",qkt="You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait for your limit to reset.",s0e=class{constructor(){this.id="debug.fail";this.description="Fail for debugging purposes";this.shortDescription="Fail";this.scopes=["chat-panel"]}static{o(this,"DebugFailPromptTemplate")}response(t,r){throw new Error(r.length>0?r:"Debug Fail")}},Wkt=new s0e,a0e=class{constructor(){this.id="debug.upgrade";this.description="upgrade for debugging purposes";this.shortDescription="upgrade";this.scopes=["chat-panel"]}static{o(this,"DebugUpgradePromptTemplate")}response(t){return new Ol(qkt,{message:"",code:402,responseIsIncomplete:!0,responseIsFiltered:!1})}},Gkt=new a0e,l0e=class{constructor(){this.id="debug.notify";this.description="Notify for debugging purposes";this.shortDescription="Notify";this.scopes=["chat-panel","inline"]}static{o(this,"DebugNotificationPromptTemplate")}response(t,r){let n="warning";r.includes("info")&&(n="info");let i=r.replace("info","").replace("warning","").trim(),s=[{severity:n,message:i.length>0?i:"Debug Notification"}];return new Ol("Alright, I'm producing a notification",void 0,[],s)}},Hkt=new l0e,c0e=class{constructor(){this.id="debug.filter";this.description="Make the RAI filter kick in";this.shortDescription="RAI Filter";this.scopes=["chat-panel"]}static{o(this,"DebugFilterPromptTemplate")}response(t){return t.turn.status="filtered",new Ol(Ukt,{message:"",responseIsFiltered:!0,responseIsIncomplete:!1})}},jkt=new c0e,u0e=class{constructor(){this.id="debug.dump";this.description="Dump the conversation";this.shortDescription="Dump";this.scopes=["chat-panel"]}static{o(this,"DebugDumpPromptTemplate")}async response(t){return new Ol(await TOe(t))}},Vkt=new u0e,f0e=class{constructor(){this.id="debug.tree";this.description="Jingle bells, jingle bells, jingle all the way";this.shortDescription="Christmas Tree";this.scopes=["chat-panel"]}static{o(this,"DebugChristmasTreePromptTemplate")}requiredSkills(){return[Nh,Hc]}instructions(t,r){return"Create a function that prints a christmas tree"}},$kt=new f0e,d0e=class{constructor(){this.id="debug.echo";this.description="Echo the user message back to the user";this.shortDescription="Echo";this.scopes=["chat-panel"]}static{o(this,"DebugEchoPromptTemplate")}response(t){return new Ol(sn(t.turn.request.message))}},zkt=new d0e,m0e=class{constructor(){this.id="debug.prompt";this.description="Show the prompt for the last response or generate a new one";this.shortDescription="Prompt";this.scopes=["chat-panel"]}static{o(this,"DebugPromptPromptTemplate")}response(t,r){let n=t.ctx.get(Ul).getLastTurnPrompts();if(n!==void 0&&n.size>0){let i="Here are the prompts used in the last turn:";return n.forEach((s,a)=>{i+=EOe.default`

                        ### ${a} prompt
                        
                        \`\`\`\`
                        ${s}
                        \`\`\`\`
                    `}),new Ol(i)}return new Ol("No prompt available")}},Ykt=new m0e,h0e=class{constructor(){this.id="debug.skills";this.description="Resolves and displays all available skills or a single skill (id) if provided";this.shortDescription="Skills";this.scopes=["chat-panel"]}static{o(this,"DebugSkillsPromptTemplate")}async response(t,r,n){let i,s;if(r.length>0){let a=r.split(" ");i=a[0],s=a.slice(1).join(" ")}return t.turn.request.message=s??"",new Ol(await wOe(t,n,i))}},Kkt=new h0e,p0e=class{constructor(){this.id="debug.vulnerability";this.description="Create a message with a vulnerability annotation";this.shortDescription="Vulnerability";this.scopes=["chat-panel"]}static{o(this,"DebugVulnerabilityPromptTemplate")}response(t,r){let{reply:n,vulnerabilities:i}=bOe(r);for(let s=0;s<i;s++)t.turn.annotations.push(COe);return new Ol(n,void 0,t.turn.annotations)}},Jkt=new p0e,g0e=class{constructor(){this.id="debug.citation";this.description="Create a message with a code citation annotation";this.shortDescription="CodeCitation";this.scopes=["chat-panel"]}static{o(this,"DebugCodeCitationPromptTemplate")}response(t){return t.turn.annotations.push(tOe),new Ol(rOe,void 0,t.turn.annotations)}},Zkt=new g0e,A0e=class{constructor(){this.id="debug.markdown";this.description="Markdown rendering specification by example";this.shortDescription="Markdown";this.scopes=["chat-panel","inline"]}static{o(this,"DebugMarkdownRenderingPromptTemplate")}response(){return new Ol(nOe)}},Xkt=new A0e,y0e=class{constructor(){this.id="debug.long";this.description="Generate a long response";this.shortDescription="Long";this.scopes=["chat-panel"]}static{o(this,"DebugLongPromptTemplate")}instructions(t,r){return"Write out the OWASP top 10 with code examples in java"}},eRt=new y0e,C0e=class{constructor(){this.id="debug.project";this.description="Generate a response using the project context skill";this.shortDescription="Project";this.scopes=["chat-panel","inline"]}static{o(this,"DebugProjectContextPromptTemplate")}requiredSkills(){return[E9]}},tRt=new C0e,x0e=class{constructor(){this.id="debug.confirmation";this.description="Generate a response with a confirmation";this.shortDescription="Confirmation";this.scopes=["chat-panel","inline"]}static{o(this,"DebugConfirmationPromptTemplate")}response(){let t={type:"action",title:"Confirmation that you want to proceed",message:"Do you want to proceed?",agentSlug:"debug.confirmation",confirmation:{answer:"yes"}};return new Ol("Alright, I'm producing a notification",void 0,[],[],[],t)}},rRt=new x0e;function IOe(){return[Wkt,Gkt,Hkt,jkt,$kt,Vkt,zkt,Ykt,Kkt,Jkt,Zkt,rRt,Xkt,eRt,tRt]}o(IOe,"getDebugTemplates");d();d();function PC(e,t){if(e.length==0)return new tr([]);let r=e.map((n,i)=>{let s;switch(t){case"linear":s=1-i/e.length;break;case"inverseLinear":s=(i+1)/e.length;break;case"positional":s=1/(i+1);break;case"inversePositional":s=1/(e.length-i);break}return Array.isArray(n)&&n.length==2&&(s*=n[1],n=n[0]),[n,s]});return new tr(r)}o(PC,"weighElidableList");var _Oe=I.Object({uri:I.String(),problems:I.Array(I.Object({message:I.String(),range:ya}))}),v0e=class{constructor(t){this.turnContext=t}static{o(this,"ProblemsInActiveDocumentSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(Pn),n=await r.getOrReadTextDocument(t);if(await this.turnContext.collectFile(FC,t.uri,gs(n)),n.status==="valid"){let i=r.getRelativePath(n.document);this.turnContext.collectLabel(FC,`problems in ${i}`);let s=this.getElidableProblems(t,n,i);return await this.preElideDocuments(s)}else this.turnContext.collectLabel(FC,"problem markers")}getElidableProblems(t,r,n){let i=[];return i.push(new tr([`Problems and errors in the active document (\`${n}\`):`])),i.push(...this.createElidableProblems(t,r)),PC(i,"linear")}createElidableProblems(t,r){return t.problems.map(n=>{let i=[];i.push(new tr([`- "${n.message}" at line ${n.range.start.line}.`+(r.document?" Excerpt from the code:":"")]));let s=n.range,a;if(s&&(this.isEmpty(s)?a=r.document.lineAt(s.start).text:a=r.document.getText(s),a)){let l=r.document.detectedLanguageId;i.push(new tr([["```"+l,1],[Zu(a),.8],["```",1]]))}return new tr(i)})}isEmpty(t){return t.start.line===t.end.line&&t.start.character===t.end.character}async preElideDocuments(t){let r=(await this.turnContext.ctx.get(ui).getBestChatModelConfig(ms("user"))).maxRequestTokens,n=t.elide(Math.floor(r*.1)).getText();return new tr([n])}},FC="problems-in-active-document",FH=class extends Ml{static{o(this,"ProblemsInActiveDocumentSkill")}constructor(t){super(FC,"List of problems and errors in the active document, useful when the user question is about finding and fixing errors, non-functioning code, compilation issues, etc.","Analyzing problems and errors",()=>t,r=>new v0e(r),"explicit",["How can I fix the errors?","Why is my app not working?","Why am I getting compilation errors?","Raw error messages or stack traces"])}};d();d();var NH=class{constructor(t){this.turnContext=t}static{o(this,"PromptForTestGeneration")}async fromImplementationFile(t){let r=this.turnContext.ctx.get(Jr).getWorkspaceFolder(t),n=this.fileExistFn(),i=new tR(this.turnContext.ctx,n,r?.uri),s=await i.findTestFileForSourceFile(t.uri),a=rR(t.uri);if(s&&!a){let l=t.detectedLanguageId;if(await n(s))return await this.asTestFilePrompt(l,s);{let c=i.findExampleTestFile(t.uri);if(c)return await this.asExampleFilePrompt(l,c)}}}async fromTestFile(t){if(!rR(t))return;let n=this.turnContext.ctx.get(Jr).getWorkspaceFolder(t),i=this.fileExistFn(),a=await new tR(this.turnContext.ctx,i,n?.uri).findImplFileForTestFile(t.uri);if(a){let l=t.detectedLanguageId;if(await i(a))return await this.asImplFilePrompt(l,a)}}async asImplFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new tr([[`${nRt} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new tr([])}async asTestFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new tr([[`${iRt} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new tr([])}async asExampleFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new tr([[`${oRt} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new tr([])}async fileInfoForPrompt(t){if(!this.turnContext.isFileIncluded(t)){let r=this.turnContext.ctx.get(Pn),n=await r.getOrReadTextDocument({uri:t});if(await this.turnContext.collectFile(Lh,t,gs(n)),n.status==="valid"){let i=r.getRelativePath(n.document);return[Zu(n.document.getText()),i]}}}fileExistFn(){return async t=>{try{return await this.turnContext.ctx.get(Io).stat(t),!0}catch{return!1}}}},nRt="Code excerpt from the implementation source file",iRt="Code excerpt from the test file",oRt="Code excerpt from an example test file";var SOe=I.Object({currentFileUri:I.String(),sourceFileUri:I.Optional(I.String()),testFileUri:I.Optional(I.String())}),E0e=class{constructor(t){this.turnContext=t}static{o(this,"TestContextSkillProcessor")}value(){return .9}async processSkill(t){let r=this.turnContext.ctx.get(Pn),n=new NH(this.turnContext);if(t.sourceFileUri&&t.testFileUri){if(t.sourceFileUri!==t.currentFileUri&&t.testFileUri!==t.currentFileUri)return;if(t.testFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.testFileUri});if(await this.turnContext.collectFile(Lh,t.testFileUri,gs(i)),i.status==="valid")return await n.asImplFilePrompt(i.document.detectedLanguageId,t.sourceFileUri)}else if(t.sourceFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.sourceFileUri});if(await this.turnContext.collectFile(Lh,t.sourceFileUri,gs(i)),i.status==="valid")return await n.asTestFilePrompt(i.document.detectedLanguageId,t.testFileUri)}}else if(t.sourceFileUri&&t.sourceFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.sourceFileUri});if(await this.turnContext.collectFile(Lh,t.sourceFileUri,gs(i)),i.status==="valid")return await n.fromImplementationFile(i.document)}else if(t.testFileUri&&t.testFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.testFileUri});if(await this.turnContext.collectFile(Lh,t.testFileUri,gs(i)),i.status==="valid")return await n.fromTestFile(i.document)}}},Lh="test-context",LH=class extends Ml{static{o(this,"TestContextSkill")}constructor(t){super(Lh,"Example tests useful for creating, adding and fixing tests, to detect available test frameworks as well as finding the corresponding implementation to existing tests","Searching test examples",()=>t,r=>new E0e(r))}};d();var kOe=et(Df());var ROe=I.Object({failures:I.Array(I.Object({testName:I.String(),testSuite:I.Optional(I.String()),testFileUri:I.String(),failureReason:I.Optional(I.String()),testLocation:ya}))}),I0e=class{constructor(t){this.turnContext=t}static{o(this,"TestFailuresSkillProcessor")}value(){return .9}async processSkill(t){if(t.failures.length>0){this.turnContext.collectLabel(Sv,"test failures");let r=await this.createElidableFailures(t.failures);if(r){let n=new tr(["The latest test run produced the following failures and errors:"]);return new tr([[n,1],[r,1]])}}}async createElidableFailures(t){let r=this.turnContext.ctx.get(Pn),n=[],i=this.groupFailuresByFile(t);for(let[s,a]of i.entries()){let l=await r.getOrReadTextDocument({uri:s});if(await this.turnContext.collectFile(Sv,s,gs(l)),l.status==="valid"){let c=r.getRelativePath(l.document),u=this.createElidableFailuresOfDoc(a,c),f=this.appendCode(u,c,l.document);n.push([f,1])}}if(n.length>0)return new tr(n)}groupFailuresByFile(t){let r=new Map;for(let n of t){let i=r.get(n.testFileUri)||[];i.push(n),r.set(n.testFileUri,i)}return r}createElidableFailuresOfDoc(t,r){let n=t.map(i=>{let s=`\`${i.testName}\``,a=`${i.testSuite?` in suite \`${i.testSuite}\``:""}`,l=` in file \`${r}\` `,c=". ";i.failureReason&&(c=" with the following error:",i.failureReason.includes(`
`)?c+="\n```\n"+i.failureReason+"\n```\n":c+=` \`${i.failureReason}\`. `);let u=`${i.testLocation.start.line==i.testLocation.end.line?"on line "+i.testLocation.start.line:"between lines "+i.testLocation.start.line+" and "+i.testLocation.end.line}`;return[new tr([kOe.default`\n\n- Test ${s}${a}${l}failed${c}The failed test is ${u}.\n`]),1]});return new tr(n)}appendCode(t,r,n){let i=[new tr([`
The code of file \`${r}\` is:
`]),.6],s=[new tr([["```"+n.detectedLanguageId,1],[Zu(n.getText()),.9],["```",1]]),.7];return new tr([[t,1],i,s])}},Sv="test-failures",QH=class extends Ml{static{o(this,"TestFailuresSkill")}constructor(t){super(Sv,"Test failures and errors of the latest test run","Collecting test failures",()=>t,r=>new I0e(r))}};var tm=et(Df());var Ol=class{constructor(t,r,n=[],i=[],s=[],a){this.message=t;this.error=r;this.annotations=n;this.notifications=i;this.references=s;this.confirmationRequest=a}static{o(this,"PromptTemplateResponse")}},kv=class{constructor(t,r,n,i,s=[],a=[],l,c=!1){this.id=t;this.description=r;this.shortDescription=n;this.prompt=i;this.skills=s;this.scopes=a;this.inlinePrompt=l;this.producesCodeEdits=c}static{o(this,"StaticPromptTemplate")}instructions(t,r,n="panel"){let i;return n==="inline"?i=this.inlinePrompt??this.prompt:i=this.prompt,i+`
`+r}requiredSkills(){return this.skills}},sRt=new kv("tests","Generate unit tests","Generate Tests",tm.default`
        Write a set of unit tests for the code above, or for the selected code if provided.
        Provide tests for the functionality of the code and not the implementation details.
        The tests should test the happy path as well as the edge cases.
        Choose self explanatory names for the tests that describe the tested behavior. Do not start the test names with "test".
        Think about the different scenarios that could happen and test them.
        Do reply with the tests only and do not explain them further.
        Do reply with new or modified tests only and not with the complete test class or suite.
        Follow the same test style as in existing tests if they exist.
        You must not create inline comments like "Arrange, Act, Assert", unless existing tests use inline comments as well.
        If existing tests use any mocking or stubbing libraries, use the same libraries before writing your own test doubles.
        `,[Lh,Sv],["chat-panel","editor"]),aRt=new kv("simplify","Simplify the code","Simplify This",tm.default`
        Provide a simplified version of the selected code above.
        Do not change the behavior of the code. 
        The code should still be readable and easy to understand. 
        Do not reply with the original code but only a simplified version. 
        Do only reply with one code snippet that contains the complete simplified code and explain what you have simplified after.`,[],["editor","chat-panel","inline"],tm.default`
        Provide a simplified version of the selected code.
        Modify the selected code to make it simpler and easier to understand.
        Do not change the behavior of the code. 
        Removing empty lines is not a simplification.
        You must not omit any code that is necessary for the code to compile and run, for example by replacing lines with ... or similar.
        Do not reply with the original code but only a simplified version.`,!0),lRt=new kv("fix","Fix problems and compile errors","Fix This",tm.default`
        Fix the provided errors and problems. 
        Do not invent new problems.
        The fixed code should still be readable and easy to understand.
        If there are no problems provided do reply that you can't detect any problems and the user should describe more precisely what they want to be fixed. 
        Group problems if they are related and can be fixed by the same change. 
        Present a group as a single problem with a simple description that does not repeat the single problems but explains the whole group of problems in a few words.
        Explain each group of problems without repeating the detailed error message. 
        Show how the error can be fixed by providing a code snippet that displays the code before and after it has been fixed after each group. 
        Shorten fully qualified class names to the simple class name and full file paths to the file names only.
        When enumerating the groups, start with the word "Problem" followed by the number and a quick summary of the problem. Format this headline bold.
        At last provide a completely fixed version of the code if the fixes required multiple code changes.`,[FC],["editor","chat-panel","inline"],tm.default`
        Fix the provided errors and problems. 
        Do not invent new problems.
        The fixed code should still be readable and easy to understand.
        If there are no problems provided do reply that you can't detect any problems and the user should describe more precisely what they want to be fixed.
        Do not attempt to fix problems that are not provided, like unbalanced brackets or parentheses that are not causing errors.
        Briefly explain the problems without repeating the detailed error message.`,!0),cRt=new kv("explain","Explain how the code works","Explain This",tm.default`
        Write an explanation for the selected code above as paragraphs of text. 
        Include excerpts of code snippets to underline your explanation. 
        Do not repeat the complete code.
        The explanation should be easy to understand for a developer who is familiar with the programming language used but not familiar with the code.`,[],["editor","chat-panel","inline"],tm.default`
        Write an explanation for the code the user is selecting.
        Include excerpts of code snippets to underline your explanation. 
        Do not repeat the complete code.
        Keep the explanation brief and easy to understand for a developer who is familiar with the programming language used but not familiar with the code.`,!1),uRt=new kv("doc","Document the current selection of code","Generate Docs",tm.default`
        Write documentation for the selected code.
        The reply should be a codeblock containing the original selection with the documentation added as comments.
        Use the most appropriate documentation style for the programming language used (e.g. JSDoc for JavaScript, docstrings for Python etc.)`,[],["editor","chat-panel","inline"],tm.default`
        Add documentation to the selected code.
        Modify the selected code by adding documentation as comments.
        You must only modify the selected code and nothing else.
        Use the most appropriate documentation style for the programming language used (e.g. JSDoc for JavaScript, docstrings for Python etc.).
        Place the comments before functions and methods, unless the language has a different convention (for example Python's docstring).`,!0),T0e=class{constructor(){this.id="feedback";this.description="Steps to provide feedback";this.shortDescription="Feedback";this.scopes=["chat-panel"]}static{o(this,"FeedbackPromptTemplate")}response(t){let r=S0e(t.conversation),n=tm.default`
            You can provide direct feedback by pressing the thumbs up/down buttons on a single message. 
            In case you want to share more details, please click [here](https://gh.io/copilot-chat-jb-feedback) to share your feedback.
            `;return r?new Ol(n+`

In order to help us understand your feedback better, you can include the following identifier in your feedback: by doing so, you are granting us permission to access the telemetry data associated with your feedback.
\`\`\`yaml
${t.conversation.id}/${r}
\`\`\``):new Ol(n)}},fRt=new T0e,w0e=class{constructor(){this.id="help";this.description="Get help on how to use Copilot chat";this.shortDescription="Help";this.scopes=["chat-panel"]}static{o(this,"HelpPromptTemplate")}response(t){let r=_0e(t.ctx).filter(i=>i!=this),n=tm.default`
            You can ask me general programming questions, or use one of the following commands to get help with a specific task:

            ${r.map(i=>`- \`/${i.id}\` - ${i.description}`).join(`
`)}

            To have a great conversation, ask me questions as if I was a real programmer:
            
            - **Show me the code** you want to talk about by having the files open and selecting the most important lines.
            - On top of files, **I take different parts of your IDE into consideration** when answering questions. This includes, but is not limited to, test results and failures, build and runtime logs, active Git repository as well as details of the open project.
            - **Make refinements** by asking me follow-up questions, adding clarifications, providing errors, etc.
            - **Review my suggested code** and tell me about issues or improvements, so I can iterate on it.
        `;return new Ol(n)}},dRt=new w0e;function iR(){return[sRt,aRt,lRt,cRt,uRt,fRt,dRt,...IOe()]}o(iR,"getPromptTemplates");function _0e(e){let t=iR();return!fw(e)&&!qm(e)&&(t=t.filter(r=>!r.id.startsWith("debug."))),t}o(_0e,"getUserFacingPromptTemplates");var k0e=class{constructor(t,r){this.conversation=t;this.capabilities=r}static{o(this,"ConversationHolder")}},co=class{constructor(t){this.ctx=t;this.conversations=new In(100)}static{o(this,"Conversations")}create(t,{source:r,userLanguage:n,conversationId:i}={}){let s=new EH([],r??"panel",n,i);return this.conversations.set(s.id,new k0e(s,t)),s}destroy(t){this.conversations.delete(t)}async addTurn(t,r,n,i,s,a,l,c){let u=this.get(t);return r.request.references=n&&n.length>0?n:[],i&&(r.request.activeEditor=i),s&&(r.workspaceFolder=s),a&&a.length>0&&(r.workspaceFolders=a),l&&l.length>0&&(r.ignoredSkills=l.map(f=>({skillId:f}))),c&&(r.agent={agentSlug:c.agentSlug},r.confirmationResponse=c),await this.determineAndApplyAgent(u,r),await this.determineAndApplyTemplate(u,r),u.addTurn(r),r}async determineAndApplyAgent(t,r){if(t.source==="panel"&&sn(r.request.message).trim().startsWith("@")){let[n,i]=this.extractKeywordAndQuestionFromRequest(sn(r.request.message),"@");(await Og(this.ctx)).find(l=>l.slug===n)&&(r.request.message=i,r.request.type="user",r.agent={agentSlug:n})}}async determineAndApplyTemplate(t,r){if(sn(r.request.message).trim().startsWith("/")){let[n,i]=this.extractKeywordAndQuestionFromRequest(sn(r.request.message),"/"),s=iR().find(a=>a.id===n);if(s){r.request.message=i,r.request.type="user",await this.determineAndApplyAgent(t,r);let a=s.instructions?s.instructions(this.ctx,r.request.message,t.source):i;r.template={templateId:n,userQuestion:r.request.message},r.request.message=a,r.request.type="template"}}}extractKeywordAndQuestionFromRequest(t,r){let[n,...i]=t.trim().split(" "),s=i.join(" ");return[n.replace(r,""),s]}deleteTurn(t,r){this.get(t).deleteTurn(r)}get(t){return this.getHolder(t).conversation}getCapabilities(t){return this.getHolder(t).capabilities}getSupportedSkills(t){let r=this.ctx.get(Xa).getDescriptors().filter(i=>i.type==="implicit").map(i=>i.id),n=this.getCapabilities(t).skills;return[...r,...n]}filterSupportedSkills(t,r){let n=this.getSupportedSkills(t);return r.filter(i=>n.includes(i))}getHolder(t){let r=this.conversations.get(t);if(!r)throw new Error(`Conversation with id ${t} does not exist`);return r}getAll(){let t=this.conversations.values();return Array.from(t).map(r=>r.conversation)}findByTurnId(t){for(let r of this.getAll()){let n=r.findTurn(t);if(n)return{conversation:r,turn:n}}}};d();function VOe(e){return typeof e>"u"||e===null}o(VOe,"isNothing");function mRt(e){return typeof e=="object"&&e!==null}o(mRt,"isObject");function hRt(e){return Array.isArray(e)?e:VOe(e)?[]:[e]}o(hRt,"toArray");function pRt(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}o(pRt,"extend");function gRt(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}o(gRt,"repeat");function ARt(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}o(ARt,"isNegativeZero");var yRt=VOe,CRt=mRt,xRt=hRt,vRt=gRt,bRt=ARt,ERt=pRt,fl={isNothing:yRt,isObject:CRt,toArray:xRt,repeat:vRt,isNegativeZero:bRt,extend:ERt};function $Oe(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}o($Oe,"formatError");function sR(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=$Oe(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}o(sR,"YAMLException$1");sR.prototype=Object.create(Error.prototype);sR.prototype.constructor=sR;sR.prototype.toString=o(function(t){return this.name+": "+$Oe(this,t)},"toString");var vu=sR;function R0e(e,t,r,n,i){var s="",a="",l=Math.floor(i/2)-1;return n-t>l&&(s=" ... ",t=n-l+s.length),r-n>l&&(a=" ...",r=n+l-a.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+a,pos:n-t+s.length}}o(R0e,"getLine");function B0e(e,t){return fl.repeat(" ",t-e.length)+e}o(B0e,"padStart");function IRt(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,a=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var l="",c,u,f=Math.min(e.line+t.linesAfter,i.length).toString().length,m=t.maxLength-(t.indent+f+3);for(c=1;c<=t.linesBefore&&!(a-c<0);c++)u=R0e(e.buffer,n[a-c],i[a-c],e.position-(n[a]-n[a-c]),m),l=fl.repeat(" ",t.indent)+B0e((e.line-c+1).toString(),f)+" | "+u.str+`
`+l;for(u=R0e(e.buffer,n[a],i[a],e.position,m),l+=fl.repeat(" ",t.indent)+B0e((e.line+1).toString(),f)+" | "+u.str+`
`,l+=fl.repeat("-",t.indent+f+3+u.pos)+`^
`,c=1;c<=t.linesAfter&&!(a+c>=i.length);c++)u=R0e(e.buffer,n[a+c],i[a+c],e.position-(n[a]-n[a+c]),m),l+=fl.repeat(" ",t.indent)+B0e((e.line+c+1).toString(),f)+" | "+u.str+`
`;return l.replace(/\n$/,"")}o(IRt,"makeSnippet");var TRt=IRt,wRt=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],_Rt=["scalar","sequence","mapping"];function SRt(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}o(SRt,"compileStyleAliases");function kRt(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(wRt.indexOf(r)===-1)throw new vu('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=SRt(t.styleAliases||null),_Rt.indexOf(this.kind)===-1)throw new vu('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}o(kRt,"Type$1");var jc=kRt;function BOe(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,a){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=a)}),r[i]=n}),r}o(BOe,"compileList");function RRt(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(o(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}o(RRt,"compileMap");function P0e(e){return this.extend(e)}o(P0e,"Schema$1");P0e.prototype.extend=o(function(t){var r=[],n=[];if(t instanceof jc)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new vu("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof jc))throw new vu("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new vu("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new vu("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof jc))throw new vu("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(P0e.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=BOe(i,"implicit"),i.compiledExplicit=BOe(i,"explicit"),i.compiledTypeMap=RRt(i.compiledImplicit,i.compiledExplicit),i},"extend");var BRt=P0e,DRt=new jc("tag:yaml.org,2002:str",{kind:"scalar",construct:o(function(e){return e!==null?e:""},"construct")}),PRt=new jc("tag:yaml.org,2002:seq",{kind:"sequence",construct:o(function(e){return e!==null?e:[]},"construct")}),FRt=new jc("tag:yaml.org,2002:map",{kind:"mapping",construct:o(function(e){return e!==null?e:{}},"construct")}),NRt=new BRt({explicit:[DRt,PRt,FRt]});function LRt(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}o(LRt,"resolveYamlNull");function QRt(){return null}o(QRt,"constructYamlNull");function MRt(e){return e===null}o(MRt,"isNull");var ORt=new jc("tag:yaml.org,2002:null",{kind:"scalar",resolve:LRt,construct:QRt,predicate:MRt,represent:{canonical:o(function(){return"~"},"canonical"),lowercase:o(function(){return"null"},"lowercase"),uppercase:o(function(){return"NULL"},"uppercase"),camelcase:o(function(){return"Null"},"camelcase"),empty:o(function(){return""},"empty")},defaultStyle:"lowercase"});function URt(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}o(URt,"resolveYamlBoolean");function qRt(e){return e==="true"||e==="True"||e==="TRUE"}o(qRt,"constructYamlBoolean");function WRt(e){return Object.prototype.toString.call(e)==="[object Boolean]"}o(WRt,"isBoolean");var GRt=new jc("tag:yaml.org,2002:bool",{kind:"scalar",resolve:URt,construct:qRt,predicate:WRt,represent:{lowercase:o(function(e){return e?"true":"false"},"lowercase"),uppercase:o(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:o(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function HRt(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}o(HRt,"isHexCode");function jRt(e){return 48<=e&&e<=55}o(jRt,"isOctCode");function VRt(e){return 48<=e&&e<=57}o(VRt,"isDecCode");function $Rt(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!HRt(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!jRt(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!VRt(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}o($Rt,"resolveYamlInteger");function zRt(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}o(zRt,"constructYamlInteger");function YRt(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!fl.isNegativeZero(e)}o(YRt,"isInteger");var KRt=new jc("tag:yaml.org,2002:int",{kind:"scalar",resolve:$Rt,construct:zRt,predicate:YRt,represent:{binary:o(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:o(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:o(function(e){return e.toString(10)},"decimal"),hexadecimal:o(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),JRt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function ZRt(e){return!(e===null||!JRt.test(e)||e[e.length-1]==="_")}o(ZRt,"resolveYamlFloat");function XRt(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}o(XRt,"constructYamlFloat");var eBt=/^[-+]?[0-9]+e/;function tBt(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(fl.isNegativeZero(e))return"-0.0";return r=e.toString(10),eBt.test(r)?r.replace("e",".e"):r}o(tBt,"representYamlFloat");function rBt(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||fl.isNegativeZero(e))}o(rBt,"isFloat");var nBt=new jc("tag:yaml.org,2002:float",{kind:"scalar",resolve:ZRt,construct:XRt,predicate:rBt,represent:tBt,defaultStyle:"lowercase"}),iBt=NRt.extend({implicit:[ORt,GRt,KRt,nBt]}),oBt=iBt,zOe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YOe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function sBt(e){return e===null?!1:zOe.exec(e)!==null||YOe.exec(e)!==null}o(sBt,"resolveYamlTimestamp");function aBt(e){var t,r,n,i,s,a,l,c=0,u=null,f,m,h;if(t=zOe.exec(e),t===null&&(t=YOe.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],a=+t[5],l=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(f=+t[10],m=+(t[11]||0),u=(f*60+m)*6e4,t[9]==="-"&&(u=-u)),h=new Date(Date.UTC(r,n,i,s,a,l,c)),u&&h.setTime(h.getTime()-u),h}o(aBt,"constructYamlTimestamp");function lBt(e){return e.toISOString()}o(lBt,"representYamlTimestamp");var cBt=new jc("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:sBt,construct:aBt,instanceOf:Date,represent:lBt});function uBt(e){return e==="<<"||e===null}o(uBt,"resolveYamlMerge");var fBt=new jc("tag:yaml.org,2002:merge",{kind:"scalar",resolve:uBt}),M0e=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function dBt(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=M0e;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}o(dBt,"resolveYamlBinary");function mBt(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=M0e,a=0,l=[];for(t=0;t<i;t++)t%4===0&&t&&(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)),a=a<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)):r===18?(l.push(a>>10&255),l.push(a>>2&255)):r===12&&l.push(a>>4&255),new Uint8Array(l)}o(mBt,"constructYamlBinary");function hBt(e){var t="",r=0,n,i,s=e.length,a=M0e;for(n=0;n<s;n++)n%3===0&&n&&(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]):i===2?(t+=a[r>>10&63],t+=a[r>>4&63],t+=a[r<<2&63],t+=a[64]):i===1&&(t+=a[r>>2&63],t+=a[r<<4&63],t+=a[64],t+=a[64]),t}o(hBt,"representYamlBinary");function pBt(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}o(pBt,"isBinary");var gBt=new jc("tag:yaml.org,2002:binary",{kind:"scalar",resolve:dBt,construct:mBt,predicate:pBt,represent:hBt}),ABt=Object.prototype.hasOwnProperty,yBt=Object.prototype.toString;function CBt(e){if(e===null)return!0;var t=[],r,n,i,s,a,l=e;for(r=0,n=l.length;r<n;r+=1){if(i=l[r],a=!1,yBt.call(i)!=="[object Object]")return!1;for(s in i)if(ABt.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}o(CBt,"resolveYamlOmap");function xBt(e){return e!==null?e:[]}o(xBt,"constructYamlOmap");var vBt=new jc("tag:yaml.org,2002:omap",{kind:"sequence",resolve:CBt,construct:xBt}),bBt=Object.prototype.toString;function EBt(e){if(e===null)return!0;var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],bBt.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}o(EBt,"resolveYamlPairs");function IBt(e){if(e===null)return[];var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1)n=a[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}o(IBt,"constructYamlPairs");var TBt=new jc("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:EBt,construct:IBt}),wBt=Object.prototype.hasOwnProperty;function _Bt(e){if(e===null)return!0;var t,r=e;for(t in r)if(wBt.call(r,t)&&r[t]!==null)return!1;return!0}o(_Bt,"resolveYamlSet");function SBt(e){return e!==null?e:{}}o(SBt,"constructYamlSet");var kBt=new jc("tag:yaml.org,2002:set",{kind:"mapping",resolve:_Bt,construct:SBt}),KOe=oBt.extend({implicit:[cBt,fBt],explicit:[gBt,vBt,TBt,kBt]}),LC=Object.prototype.hasOwnProperty,MH=1,JOe=2,ZOe=3,OH=4,D0e=1,RBt=2,DOe=3,BBt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,DBt=/[\x85\u2028\u2029]/,PBt=/[,\[\]\{\}]/,XOe=/^(?:!|!!|![a-z\-]+!)$/i,eUe=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function POe(e){return Object.prototype.toString.call(e)}o(POe,"_class");function Ug(e){return e===10||e===13}o(Ug,"is_EOL");function Bv(e){return e===9||e===32}o(Bv,"is_WHITE_SPACE");function bu(e){return e===9||e===32||e===10||e===13}o(bu,"is_WS_OR_EOL");function T9(e){return e===44||e===91||e===93||e===123||e===125}o(T9,"is_FLOW_INDICATOR");function FBt(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}o(FBt,"fromHexCode");function NBt(e){return e===120?2:e===117?4:e===85?8:0}o(NBt,"escapedHexLen");function LBt(e){return 48<=e&&e<=57?e-48:-1}o(LBt,"fromDecimalCode");function FOe(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}o(FOe,"simpleEscapeSequence");function QBt(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}o(QBt,"charFromCodepoint");var tUe=new Array(256),rUe=new Array(256);for(Rv=0;Rv<256;Rv++)tUe[Rv]=FOe(Rv)?1:0,rUe[Rv]=FOe(Rv);var Rv;function MBt(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||KOe,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}o(MBt,"State$1");function nUe(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=TRt(r),new vu(t,r)}o(nUe,"generateError");function tn(e,t){throw nUe(e,t)}o(tn,"throwError");function UH(e,t){e.onWarning&&e.onWarning.call(null,nUe(e,t))}o(UH,"throwWarning");var NOe={YAML:o(function(t,r,n){var i,s,a;t.version!==null&&tn(t,"duplication of %YAML directive"),n.length!==1&&tn(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&tn(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&tn(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&UH(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:o(function(t,r,n){var i,s;n.length!==2&&tn(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],XOe.test(i)||tn(t,"ill-formed tag handle (first argument) of the TAG directive"),LC.call(t.tagMap,i)&&tn(t,'there is a previously declared suffix for "'+i+'" tag handle'),eUe.test(s)||tn(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{tn(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s},"handleTagDirective")};function NC(e,t,r,n){var i,s,a,l;if(t<r){if(l=e.input.slice(t,r),n)for(i=0,s=l.length;i<s;i+=1)a=l.charCodeAt(i),a===9||32<=a&&a<=1114111||tn(e,"expected valid JSON character");else BBt.test(l)&&tn(e,"the stream contains non-printable characters");e.result+=l}}o(NC,"captureSegment");function LOe(e,t,r,n){var i,s,a,l;for(fl.isObject(r)||tn(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),a=0,l=i.length;a<l;a+=1)s=i[a],LC.call(t,s)||(t[s]=r[s],n[s]=!0)}o(LOe,"mergeMappings");function w9(e,t,r,n,i,s,a,l,c){var u,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,f=i.length;u<f;u+=1)Array.isArray(i[u])&&tn(e,"nested arrays are not supported inside keys"),typeof i=="object"&&POe(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&POe(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,f=s.length;u<f;u+=1)LOe(e,t,s[u],r);else LOe(e,t,s,r);else!e.json&&!LC.call(r,i)&&LC.call(t,i)&&(e.line=a||e.line,e.lineStart=l||e.lineStart,e.position=c||e.position,tn(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}o(w9,"storeMappingPair");function O0e(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):tn(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}o(O0e,"readLineBreak");function el(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Bv(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Ug(i))for(O0e(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&UH(e,"deficient indentation"),n}o(el,"skipSeparationSpace");function GH(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||bu(r)))}o(GH,"testDocumentSeparator");function U0e(e,t){t===1?e.result+=" ":t>1&&(e.result+=fl.repeat(`
`,t-1))}o(U0e,"writeFoldedLines");function OBt(e,t,r){var n,i,s,a,l,c,u,f,m=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),bu(p)||T9(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),bu(i)||r&&T9(i)))return!1;for(e.kind="scalar",e.result="",s=a=e.position,l=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),bu(i)||r&&T9(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),bu(n))break}else{if(e.position===e.lineStart&&GH(e)||r&&T9(p))break;if(Ug(p))if(c=e.line,u=e.lineStart,f=e.lineIndent,el(e,!1,-1),e.lineIndent>=t){l=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=c,e.lineStart=u,e.lineIndent=f;break}}l&&(NC(e,s,a,!1),U0e(e,e.line-c),s=a=e.position,l=!1),Bv(p)||(a=e.position+1),p=e.input.charCodeAt(++e.position)}return NC(e,s,a,!1),e.result?!0:(e.kind=m,e.result=h,!1)}o(OBt,"readPlainScalar");function UBt(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(NC(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else Ug(r)?(NC(e,n,i,!0),U0e(e,el(e,!1,t)),n=i=e.position):e.position===e.lineStart&&GH(e)?tn(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);tn(e,"unexpected end of the stream within a single quoted scalar")}o(UBt,"readSingleQuotedScalar");function qBt(e,t){var r,n,i,s,a,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return NC(e,r,e.position,!0),e.position++,!0;if(l===92){if(NC(e,r,e.position,!0),l=e.input.charCodeAt(++e.position),Ug(l))el(e,!1,t);else if(l<256&&tUe[l])e.result+=rUe[l],e.position++;else if((a=NBt(l))>0){for(i=a,s=0;i>0;i--)l=e.input.charCodeAt(++e.position),(a=FBt(l))>=0?s=(s<<4)+a:tn(e,"expected hexadecimal character");e.result+=QBt(s),e.position++}else tn(e,"unknown escape sequence");r=n=e.position}else Ug(l)?(NC(e,r,n,!0),U0e(e,el(e,!1,t)),r=n=e.position):e.position===e.lineStart&&GH(e)?tn(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}tn(e,"unexpected end of the stream within a double quoted scalar")}o(qBt,"readDoubleQuotedScalar");function WBt(e,t){var r=!0,n,i,s,a=e.tag,l,c=e.anchor,u,f,m,h,p,A=Object.create(null),x,v,E,b;if(b=e.input.charCodeAt(e.position),b===91)f=93,p=!1,l=[];else if(b===123)f=125,p=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),b=e.input.charCodeAt(++e.position);b!==0;){if(el(e,!0,t),b=e.input.charCodeAt(e.position),b===f)return e.position++,e.tag=a,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=l,!0;r?b===44&&tn(e,"expected the node content, but found ','"):tn(e,"missed comma between flow collection entries"),v=x=E=null,m=h=!1,b===63&&(u=e.input.charCodeAt(e.position+1),bu(u)&&(m=h=!0,e.position++,el(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,_9(e,t,MH,!1,!0),v=e.tag,x=e.result,el(e,!0,t),b=e.input.charCodeAt(e.position),(h||e.line===n)&&b===58&&(m=!0,b=e.input.charCodeAt(++e.position),el(e,!0,t),_9(e,t,MH,!1,!0),E=e.result),p?w9(e,l,A,v,x,E,n,i,s):m?l.push(w9(e,null,A,v,x,E,n,i,s)):l.push(x),el(e,!0,t),b=e.input.charCodeAt(e.position),b===44?(r=!0,b=e.input.charCodeAt(++e.position)):r=!1}tn(e,"unexpected end of the stream within a flow collection")}o(WBt,"readFlowCollection");function GBt(e,t){var r,n,i=D0e,s=!1,a=!1,l=t,c=0,u=!1,f,m;if(m=e.input.charCodeAt(e.position),m===124)n=!1;else if(m===62)n=!0;else return!1;for(e.kind="scalar",e.result="";m!==0;)if(m=e.input.charCodeAt(++e.position),m===43||m===45)D0e===i?i=m===43?DOe:RBt:tn(e,"repeat of a chomping mode identifier");else if((f=LBt(m))>=0)f===0?tn(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?tn(e,"repeat of an indentation width identifier"):(l=t+f-1,a=!0);else break;if(Bv(m)){do m=e.input.charCodeAt(++e.position);while(Bv(m));if(m===35)do m=e.input.charCodeAt(++e.position);while(!Ug(m)&&m!==0)}for(;m!==0;){for(O0e(e),e.lineIndent=0,m=e.input.charCodeAt(e.position);(!a||e.lineIndent<l)&&m===32;)e.lineIndent++,m=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>l&&(l=e.lineIndent),Ug(m)){c++;continue}if(e.lineIndent<l){i===DOe?e.result+=fl.repeat(`
`,s?1+c:c):i===D0e&&s&&(e.result+=`
`);break}for(n?Bv(m)?(u=!0,e.result+=fl.repeat(`
`,s?1+c:c)):u?(u=!1,e.result+=fl.repeat(`
`,c+1)):c===0?s&&(e.result+=" "):e.result+=fl.repeat(`
`,c):e.result+=fl.repeat(`
`,s?1+c:c),s=!0,a=!0,c=0,r=e.position;!Ug(m)&&m!==0;)m=e.input.charCodeAt(++e.position);NC(e,r,e.position,!1)}return!0}o(GBt,"readBlockScalar");function QOe(e,t){var r,n=e.tag,i=e.anchor,s=[],a,l=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,tn(e,"tab characters must not be used in indentation")),!(c!==45||(a=e.input.charCodeAt(e.position+1),!bu(a))));){if(l=!0,e.position++,el(e,!0,-1)&&e.lineIndent<=t){s.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,_9(e,t,ZOe,!1,!0),s.push(e.result),el(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)tn(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}o(QOe,"readBlockSequence");function HBt(e,t,r){var n,i,s,a,l,c,u=e.tag,f=e.anchor,m={},h=Object.create(null),p=null,A=null,x=null,v=!1,E=!1,b;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=m),b=e.input.charCodeAt(e.position);b!==0;){if(!v&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,tn(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(b===63||b===58)&&bu(n))b===63?(v&&(w9(e,m,h,p,A,null,a,l,c),p=A=x=null),E=!0,v=!0,i=!0):v?(v=!1,i=!0):tn(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,b=n;else{if(a=e.line,l=e.lineStart,c=e.position,!_9(e,r,JOe,!1,!0))break;if(e.line===s){for(b=e.input.charCodeAt(e.position);Bv(b);)b=e.input.charCodeAt(++e.position);if(b===58)b=e.input.charCodeAt(++e.position),bu(b)||tn(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(w9(e,m,h,p,A,null,a,l,c),p=A=x=null),E=!0,v=!1,i=!1,p=e.tag,A=e.result;else if(E)tn(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=f,!0}else if(E)tn(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=f,!0}if((e.line===s||e.lineIndent>t)&&(v&&(a=e.line,l=e.lineStart,c=e.position),_9(e,t,OH,!0,i)&&(v?A=e.result:x=e.result),v||(w9(e,m,h,p,A,x,a,l,c),p=A=x=null),el(e,!0,-1),b=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&b!==0)tn(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&w9(e,m,h,p,A,null,a,l,c),E&&(e.tag=u,e.anchor=f,e.kind="mapping",e.result=m),E}o(HBt,"readBlockMapping");function jBt(e){var t,r=!1,n=!1,i,s,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&tn(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(r=!0,a=e.input.charCodeAt(++e.position)):a===33?(n=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(s=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):tn(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!bu(a);)a===33&&(n?tn(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),XOe.test(i)||tn(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),PBt.test(s)&&tn(e,"tag suffix cannot contain flow indicator characters")}s&&!eUe.test(s)&&tn(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{tn(e,"tag name is malformed: "+s)}return r?e.tag=s:LC.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:tn(e,'undeclared tag handle "'+i+'"'),!0}o(jBt,"readTagProperty");function VBt(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&tn(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!bu(r)&&!T9(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&tn(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}o(VBt,"readAnchorProperty");function $Bt(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!bu(n)&&!T9(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&tn(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),LC.call(e.anchorMap,r)||tn(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],el(e,!0,-1),!0}o($Bt,"readAlias");function _9(e,t,r,n,i){var s,a,l,c=1,u=!1,f=!1,m,h,p,A,x,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=a=l=OH===r||ZOe===r,n&&el(e,!0,-1)&&(u=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;jBt(e)||VBt(e);)el(e,!0,-1)?(u=!0,l=s,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):l=!1;if(l&&(l=u||i),(c===1||OH===r)&&(MH===r||JOe===r?x=t:x=t+1,v=e.position-e.lineStart,c===1?l&&(QOe(e,v)||HBt(e,v,x))||WBt(e,x)?f=!0:(a&&GBt(e,x)||UBt(e,x)||qBt(e,x)?f=!0:$Bt(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&tn(e,"alias node should not have any properties")):OBt(e,x,MH===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(f=l&&QOe(e,v))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&tn(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),m=0,h=e.implicitTypes.length;m<h;m+=1)if(A=e.implicitTypes[m],A.resolve(e.result)){e.result=A.construct(e.result),e.tag=A.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(LC.call(e.typeMap[e.kind||"fallback"],e.tag))A=e.typeMap[e.kind||"fallback"][e.tag];else for(A=null,p=e.typeMap.multi[e.kind||"fallback"],m=0,h=p.length;m<h;m+=1)if(e.tag.slice(0,p[m].tag.length)===p[m].tag){A=p[m];break}A||tn(e,"unknown tag !<"+e.tag+">"),e.result!==null&&A.kind!==e.kind&&tn(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+A.kind+'", not "'+e.kind+'"'),A.resolve(e.result,e.tag)?(e.result=A.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):tn(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}o(_9,"composeNode");function zBt(e){var t=e.position,r,n,i,s=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(el(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(s=!0,a=e.input.charCodeAt(++e.position),r=e.position;a!==0&&!bu(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&tn(e,"directive name must not be less than one character in length");a!==0;){for(;Bv(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!Ug(a));break}if(Ug(a))break;for(r=e.position;a!==0&&!bu(a);)a=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}a!==0&&O0e(e),LC.call(NOe,n)?NOe[n](e,n,i):UH(e,'unknown document directive "'+n+'"')}if(el(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,el(e,!0,-1)):s&&tn(e,"directives end mark is expected"),_9(e,e.lineIndent-1,OH,!1,!0),el(e,!0,-1),e.checkLineBreaks&&DBt.test(e.input.slice(t,e.position))&&UH(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&GH(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,el(e,!0,-1));return}if(e.position<e.length-1)tn(e,"end of the stream or a document separator is expected");else return}o(zBt,"readDocument");function iUe(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new MBt(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,tn(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)zBt(r);return r.documents}o(iUe,"loadDocuments");function YBt(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=iUe(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}o(YBt,"loadAll$1");function KBt(e,t){var r=iUe(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new vu("expected a single document in the stream, but found more")}}o(KBt,"load$1");var JBt=YBt,ZBt=KBt,oUe={loadAll:JBt,load:ZBt},sUe=Object.prototype.toString,aUe=Object.prototype.hasOwnProperty,q0e=65279,XBt=9,aR=10,eDt=13,tDt=32,rDt=33,nDt=34,F0e=35,iDt=37,oDt=38,sDt=39,aDt=42,lUe=44,lDt=45,qH=58,cDt=61,uDt=62,fDt=63,dDt=64,cUe=91,uUe=93,mDt=96,fUe=123,hDt=124,dUe=125,Vc={};Vc[0]="\\0";Vc[7]="\\a";Vc[8]="\\b";Vc[9]="\\t";Vc[10]="\\n";Vc[11]="\\v";Vc[12]="\\f";Vc[13]="\\r";Vc[27]="\\e";Vc[34]='\\"';Vc[92]="\\\\";Vc[133]="\\N";Vc[160]="\\_";Vc[8232]="\\L";Vc[8233]="\\P";var pDt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],gDt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function ADt(e,t){var r,n,i,s,a,l,c;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)a=n[i],l=String(t[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),c=e.compiledTypeMap.fallback[a],c&&aUe.call(c.styleAliases,l)&&(l=c.styleAliases[l]),r[a]=l;return r}o(ADt,"compileStyleMap");function yDt(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new vu("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+fl.repeat("0",n-t.length)+t}o(yDt,"encodeHex");var CDt=1,lR=2;function xDt(e){this.schema=e.schema||KOe,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=fl.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=ADt(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?lR:CDt,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}o(xDt,"State");function MOe(e,t){for(var r=fl.repeat(" ",t),n=0,i=-1,s="",a,l=e.length;n<l;)i=e.indexOf(`
`,n),i===-1?(a=e.slice(n),n=l):(a=e.slice(n,i+1),n=i+1),a.length&&a!==`
`&&(s+=r),s+=a;return s}o(MOe,"indentString");function N0e(e,t){return`
`+fl.repeat(" ",e.indent*t)}o(N0e,"generateNextLine");function vDt(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}o(vDt,"testImplicitResolving");function WH(e){return e===tDt||e===XBt}o(WH,"isWhitespace");function cR(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==q0e||65536<=e&&e<=1114111}o(cR,"isPrintable");function OOe(e){return cR(e)&&e!==q0e&&e!==eDt&&e!==aR}o(OOe,"isNsCharOrWhitespace");function UOe(e,t,r){var n=OOe(e),i=n&&!WH(e);return(r?n:n&&e!==lUe&&e!==cUe&&e!==uUe&&e!==fUe&&e!==dUe)&&e!==F0e&&!(t===qH&&!i)||OOe(t)&&!WH(t)&&e===F0e||t===qH&&i}o(UOe,"isPlainSafe");function bDt(e){return cR(e)&&e!==q0e&&!WH(e)&&e!==lDt&&e!==fDt&&e!==qH&&e!==lUe&&e!==cUe&&e!==uUe&&e!==fUe&&e!==dUe&&e!==F0e&&e!==oDt&&e!==aDt&&e!==rDt&&e!==hDt&&e!==cDt&&e!==uDt&&e!==sDt&&e!==nDt&&e!==iDt&&e!==dDt&&e!==mDt}o(bDt,"isPlainSafeFirst");function EDt(e){return!WH(e)&&e!==qH}o(EDt,"isPlainSafeLast");function oR(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}o(oR,"codePointAt");function mUe(e){var t=/^\n* /;return t.test(e)}o(mUe,"needIndentIndicator");var hUe=1,L0e=2,pUe=3,gUe=4,I9=5;function IDt(e,t,r,n,i,s,a,l){var c,u=0,f=null,m=!1,h=!1,p=n!==-1,A=-1,x=bDt(oR(e,0))&&EDt(oR(e,e.length-1));if(t||a)for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=oR(e,c),!cR(u))return I9;x=x&&UOe(u,f,l),f=u}else{for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=oR(e,c),u===aR)m=!0,p&&(h=h||c-A-1>n&&e[A+1]!==" ",A=c);else if(!cR(u))return I9;x=x&&UOe(u,f,l),f=u}h=h||p&&c-A-1>n&&e[A+1]!==" "}return!m&&!h?x&&!a&&!i(e)?hUe:s===lR?I9:L0e:r>9&&mUe(e)?I9:a?s===lR?I9:L0e:h?gUe:pUe}o(IDt,"chooseScalarStyle");function TDt(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===lR?'""':"''";if(!e.noCompatMode&&(pDt.indexOf(t)!==-1||gDt.test(t)))return e.quotingType===lR?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),l=n||e.flowLevel>-1&&r>=e.flowLevel;function c(u){return vDt(e,u)}switch(o(c,"testAmbiguity"),IDt(t,l,e.indent,a,c,e.quotingType,e.forceQuotes&&!n,i)){case hUe:return t;case L0e:return"'"+t.replace(/'/g,"''")+"'";case pUe:return"|"+qOe(t,e.indent)+WOe(MOe(t,s));case gUe:return">"+qOe(t,e.indent)+WOe(MOe(wDt(t,a),s));case I9:return'"'+_Dt(t)+'"';default:throw new vu("impossible error: invalid scalar style")}}()}o(TDt,"writeScalar");function qOe(e,t){var r=mUe(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}o(qOe,"blockHeader");function WOe(e){return e[e.length-1]===`
`?e.slice(0,-1):e}o(WOe,"dropEndingNewline");function wDt(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,r.lastIndex=u,GOe(e.slice(0,u),t)}(),i=e[0]===`
`||e[0]===" ",s,a;a=r.exec(e);){var l=a[1],c=a[2];s=c[0]===" ",n+=l+(!i&&!s&&c!==""?`
`:"")+GOe(c,t),i=s}return n}o(wDt,"foldString");function GOe(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,a=0,l=0,c="";n=r.exec(e);)l=n.index,l-i>t&&(s=a>i?a:l,c+=`
`+e.slice(i,s),i=s+1),a=l;return c+=`
`,e.length-i>t&&a>i?c+=e.slice(i,a)+`
`+e.slice(a+1):c+=e.slice(i),c.slice(1)}o(GOe,"foldLine");function _Dt(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=oR(e,i),n=Vc[r],!n&&cR(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||yDt(r);return t}o(_Dt,"escapeString");function SDt(e,t,r){var n="",i=e.tag,s,a,l;for(s=0,a=r.length;s<a;s+=1)l=r[s],e.replacer&&(l=e.replacer.call(r,String(s),l)),($A(e,t,l,!1,!1)||typeof l>"u"&&$A(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}o(SDt,"writeFlowSequence");function HOe(e,t,r,n){var i="",s=e.tag,a,l,c;for(a=0,l=r.length;a<l;a+=1)c=r[a],e.replacer&&(c=e.replacer.call(r,String(a),c)),($A(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&$A(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=N0e(e,t)),e.dump&&aR===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}o(HOe,"writeBlockSequence");function kDt(e,t,r){var n="",i=e.tag,s=Object.keys(r),a,l,c,u,f;for(a=0,l=s.length;a<l;a+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),c=s[a],u=r[c],e.replacer&&(u=e.replacer.call(r,c,u)),$A(e,t,c,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),$A(e,t,u,!1,!1)&&(f+=e.dump,n+=f));e.tag=i,e.dump="{"+n+"}"}o(kDt,"writeFlowMapping");function RDt(e,t,r,n){var i="",s=e.tag,a=Object.keys(r),l,c,u,f,m,h;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new vu("sortKeys must be a boolean or a function");for(l=0,c=a.length;l<c;l+=1)h="",(!n||i!=="")&&(h+=N0e(e,t)),u=a[l],f=r[u],e.replacer&&(f=e.replacer.call(r,u,f)),$A(e,t+1,u,!0,!0,!0)&&(m=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,m&&(e.dump&&aR===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,m&&(h+=N0e(e,t)),$A(e,t+1,f,!0,m)&&(e.dump&&aR===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,i+=h));e.tag=s,e.dump=i||"{}"}o(RDt,"writeBlockMapping");function jOe(e,t,r){var n,i,s,a,l,c;for(i=r?e.explicitTypes:e.implicitTypes,s=0,a=i.length;s<a;s+=1)if(l=i[s],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(r?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(c=e.styleMap[l.tag]||l.defaultStyle,sUe.call(l.represent)==="[object Function]")n=l.represent(t,c);else if(aUe.call(l.represent,c))n=l.represent[c](t,c);else throw new vu("!<"+l.tag+'> tag resolver accepts not "'+c+'" style');e.dump=n}return!0}return!1}o(jOe,"detectType");function $A(e,t,r,n,i,s,a){e.tag=null,e.dump=r,jOe(e,r,!1)||jOe(e,r,!0);var l=sUe.call(e.dump),c=n,u;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=l==="[object Object]"||l==="[object Array]",m,h;if(f&&(m=e.duplicates.indexOf(r),h=m!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(i=!1),h&&e.usedDuplicates[m])e.dump="*ref_"+m;else{if(f&&h&&!e.usedDuplicates[m]&&(e.usedDuplicates[m]=!0),l==="[object Object]")n&&Object.keys(e.dump).length!==0?(RDt(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(kDt(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!a&&t>0?HOe(e,t-1,e.dump,i):HOe(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(SDt(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object String]")e.tag!=="?"&&TDt(e,e.dump,t,s,c);else{if(l==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new vu("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}o($A,"writeNode");function BDt(e,t){var r=[],n=[],i,s;for(Q0e(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}o(BDt,"getDuplicateReferences");function Q0e(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)Q0e(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)Q0e(e[n[i]],t,r)}o(Q0e,"inspectNode");function DDt(e,t){t=t||{};var r=new xDt(t);r.noRefs||BDt(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),$A(r,0,n,!0,!0)?r.dump+`
`:""}o(DDt,"dump$1");var PDt=DDt,FDt={dump:PDt};function W0e(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}o(W0e,"renamed");var _3n=oUe.load,S3n=oUe.loadAll,G0e=FDt.dump;var k3n=W0e("safeLoad","load"),R3n=W0e("safeLoadAll","loadAll"),B3n=W0e("safeDump","dump");var Dv=et(Df());var H0e=class{constructor(){this.resolvedSkills={};this.resolutions=[]}static{o(this,"SkillDump")}},Ul=class{constructor(){this.dump=new In(25);this.promptsDump=new In(1)}static{o(this,"ConversationDumper")}addResolvedSkill(t,r,n){let i=this.getDump(t);i.resolvedSkills[r]=n}getResolvedSkill(t,r){return this.getDump(t).resolvedSkills[r]}addResolution(t,r){this.getDump(t).resolutions.push(r)}getDump(t){let r=this.dump.get(t);return r||(r=new H0e,this.dump.set(t,r)),r}addPrompt(t,r,n){let i=this.promptsDump.get(t);i===void 0&&(i=new Map,this.promptsDump.set(t,i)),i.set(n,r)}getLastTurnPrompts(){if(this.promptsDump===void 0)return;let t=this.promptsDump.values().next();if(!t.done)return t.value}};function AUe(e){let t=e.copy();return t.turns=t.turns.filter(r=>r.status!=="in-progress"&&(r.response===void 0||r.response?.type==="model")),t}o(AUe,"filterConversationTurns");function S0e(e){return AUe(e).getLastTurn()?.id}o(S0e,"getLastTurnId");async function TOe(e){let t=AUe(e.conversation),r=S0e(e.conversation);if(!r)return"Nothing to dump because no request has been sent to the model yet.";let i=e.ctx.get(Ul).getDump(r),s=QDt(i,t.turns);li.debug(e.ctx,`conversation.dump
`,`
`+s);let a=await MDt(i,e.ctx);return Dv.default`
        ${LDt(e.conversation,r)}
        ${NDt(e.ctx)}

        The following code can be copied into a chat simulation \`yml\` file. This response has not polluted the conversation history and did not cause any model roundtrip.
        \`\`\`yaml
        ${s}
        \`\`\`${a?`
${a}`:""}
        `}o(TOe,"getConversationDump");function NDt(e){let t=e.get(dn);return Dv.default`
        - IDE: \`${t.getEditorInfo().name} (${t.getEditorInfo().version})\`
        - Plugin: \`${t.getEditorPluginInfo().version}\`
    `}o(NDt,"getEditorInfoDumpMessage");function LDt(e,t){return Dv.default`
        Debug information for the last turn of the conversation.

        - ConversationId: \`${e.id}\`
        - MessageId: \`${t}\`
    `}o(LDt,"getInfoDumpMessage");async function wOe(e,t,r){let n=e.ctx.get(Xa),i="# Available skills",s=n.getDescriptors().filter(a=>e.ctx.get(co).getSupportedSkills(e.conversation.id).includes(a.id));if(r&&(s=s.filter(a=>a.id===r)),s.length===0)return`No skill with id ${r} available`;for(let a of s)i+=`
- ${a.id}`;e.turn.request.message&&sn(e.turn.request.message).trim().length>0&&(i+=`

**User message**: ${sn(e.turn.request.message)}`);for(let a of s){i+=`
## ${a.id}`,i+=Dv.default`
            \n\n
            **Description**
            
            ${a.description()}`;let l=n.getSkill(a.id),c=await l?.resolver(e).resolveSkill(e);if(c){i+=Dv.default`
                \n\n
                **Resolution**
                
                \`\`\`yaml
                ${G0e(c)}
                \`\`\``;let u=await l?.processor(e).processSkill(c,e);if(u){let f=typeof u=="string"?u:u.elide(1e3).getText();i+=Dv.default`
                    \n\n
                    **Processed value**
                    
                    ${f}`}else i+=`

**Unprocessable**`}else i+=`

**Unresolvable**`}return i}o(wOe,"getSkillsDump");function QDt(e,t){let r={state:{skills:e.resolvedSkills},turns:t.map((n,i)=>{let s={request:sn(n.request.message)};return n.response&&(s.response=sn(n.response.message)),s})};return G0e(r)}o(QDt,"toSimulationFormat");async function MDt(e,t){let r=e.resolutions.map(s=>s.files).flat(),n=r.filter((s,a)=>s&&r.indexOf(s)===a),i;for(let s of n)if(s&&s.status==="included"){i||(i=`The following files have been used:
`);let a=await t.get(Pn).getOrReadTextDocument(s),l;a.status==="valid"&&(l=a.document);let c=l?.getText();li.debug(t,`conversation.dump.file
`,c),i+=`
**${s.uri}**

\`\`\`${l?.detectedLanguageId}
${c}
\`\`\``}return i}o(MDt,"fileDump");d();function j0e(e,t){let r=go(t.tokenizer),n=0;for(let i of e)n+=t.baseTokensPerMessage,i.role&&(n+=r.tokenize(i.role).length),i.name&&(n+=r.tokenize(i.name).length+t.baseTokensPerName),i.content&&(n+=r.tokenize(sn(i.content)).length);return n+=t.baseTokensPerCompletion,n}o(j0e,"countMessagesTokens");d();function yUe(e,t,r,n,i){let s=["You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.","You can answer general programming questions and perform the following tasks:","* Ask a question about the files in your current workspace","* Explain how the code in your active editor works","* Make changes to existing code","* Review the selected code in your active editor","* Generate unit tests for the selected code","* Propose a fix for the problems in the selected code","* Scaffold code for a new file or project in a workspace","* Create a new Jupyter Notebook","* Ask questions about VS Code","* Generate query parameters for workspace search","* Ask how to do something in the terminal","* Explain what just happened in the terminal"].join(`
`),a=["The active document is the source code the user is looking at right now.","You have read access to the code in the active document, files the user has recently worked with and open tabs. You are able to retrieve, read and use this code to answer questions.","You cannot retrieve code that is outside of the current project.","You can only give one reply for each conversation turn."].join(`
`),l=t?`The user works in an IDE called ${t} which can be used to edit code, run and debug the user's application as well as executing tests.`:"",c=n?`The user is using ${n} as their operating system.`:"",u=i?`You use the ${i} large language model.`:"",f=r?`The user is logged in as ${r} on GitHub.`:"";return[s,c,u,f,l,a].filter(m=>m&&m!="").join(`
`)}o(yUe,"chatBasePrompt");d();d();d();d();d();var ODt=".github/copilot-instructions.md",UDt=".github/git-commit-instructions.md",HH=class{static{o(this,"CustomInstructionsService")}static async _collectInstructionsFromFile(t,r,n,i,s,a){try{let l=Fo(r.uri,n),c=await t.getByUri(l);if(c.status!=="valid"||!c.document)return;let u=c.document.getText().trim();u&&s.push({kind:a,content:[{instruction:u,languageId:i}],reference:l})}catch{}}static async readFromWorkspaces(t,r,n={}){let i=[];if(!r.length)return i;let s=new yg(t),a=r.flatMap(l=>{let c=[];return n.includeCodeGenerationInstructions!==!1&&c.push(this._collectInstructionsFromFile(s,l,ODt,n.languageId,i,0)),n.includeCommitMessageGenerationInstructions&&c.push(this._collectInstructionsFromFile(s,l,UDt,void 0,i,0)),c});return await Promise.all(a),i}};var S9=class{static{o(this,"CustomInstruction")}static async getInstructions(t,r,n={}){try{let i=await HH.readFromWorkspaces(t,r,n);return this.processInstructions(i,n)}catch{return}}static processInstructions(t,r={}){if(!t||t.length===0)return;let n=[];for(let s of t){let a=this.createInstructionElement(s,r);a&&n.push(a)}return n.length===0?void 0:`${r.customIntroduction||"When generating code, please follow these user provided coding instructions. You can ignore an instruction if it contradicts a system message."}

<instructions>${n.join(`
`)}</instructions>`}static createInstructionElement(t,r={}){let n=[];for(let i of t.content)i.languageId?r.languageId&&i.languageId===r.languageId&&n.push(`For ${i.languageId} code: ${i.instruction}`):n.push(i.instruction);if(n.length!==0)return n.join(`
`)}};d();d();function CUe(e){let t=e.split(`
`),r=[],n=!1,i=[];for(let s of t)s.startsWith("```")?(n?(r.push([Zu(i.join(`
`)),1]),i=[],r.push([new tr([s]),1])):r.push([new tr([s]),1]),n=!n):n?i.push(s):r.push([new tr([s]),.8]);return n&&(r.push([Zu(i.join(`
`)),1]),r.push([new tr(["```"]),1])),new tr(r)}o(CUe,"fromMessage");function k9(e){let t=V0e(e),r=[];for(let n=0;n<t.length;n++){let i=t[n],s=xUe(i.request,n+1),a=i.response&&i.response?.type!=="meta"?xUe(i.response):"",l=s;a!==""&&(l+=`
`+a+(t.length>1&&n!==t.length-1?`
`:"")),r.push(CUe(l))}return r.length>0?new tr([[new tr(["Consider the following conversation history:"]),1],[PC(r,"inverseLinear"),1]]):null}o(k9,"fromHistory");var qDt=5;function V0e(e,t){return e.filter(n=>(n.status==="success"||n.status==="in-progress")&&sn(n.request.message)!=""&&n.agent?.agentSlug===t).reverse().slice(0,qDt).reverse()}o(V0e,"filterTurns");function xUe(e,t=0){let r;switch(e.type){case"user":case"template":r="User";break;case"model":r="GitHub Copilot";break;default:r=e.type}let n=sn(e.message).startsWith("```")?`
`:" ";return`${t>0?`${t}) `:""}${r}:${n}${sn(e.message)}`}o(xUe,"formatTurnMessage");d();d();d();var WDt=4,$0e={skillIds:[]},jH=class{constructor(t,r){this.ctx=t;this.chatFetcher=r}static{o(this,"MetaPromptFetcher")}async fetchPromptContext(t,r,n,i,s){let a=t.conversation.getLastTurn().request.message;if(r.length>0){let l=await this.ctx.get(ui).getBestChatModelConfig(ms("meta"),{tool_calls:!0}),c={promptType:"meta",supportedSkillDescriptors:r,modelConfiguration:l},u=await this.ctx.get(hc).toPrompt(t,c),f=i.extendedBy({messageSource:"chat.metaprompt"},{promptTokenLen:u.tokens}),m={modelConfiguration:l,messages:u.messages,uiKind:s,llmInteraction:t.toLlmInteraction()};if(u.toolConfig===void 0)throw new Error("No tool call configuration found in meta prompt.");m.tool_choice=u.toolConfig.tool_choice,m.tools=u.toolConfig.tools;let h=await this.chatFetcher.fetchResponse(m,n,f);return h.type!=="success"&&(Zr.error(this.ctx,"Failed to fetch prompt context, trying again..."),h=await this.chatFetcher.fetchResponse(m,n,f)),await t.ctx.get(Za).inspectFetchResult(h),this.handleResult(h,f,sn(a),s,u.toolConfig)}else return $0e}handleResult(t,r,n,i,s){if(t.type!=="success")return this.telemetryError(r,t),$0e;let l;if(t.toolCalls&&t.toolCalls.length>0)l=s.extractArguments(t.toolCalls[0]).skillIds?.slice(0,WDt);else return Zr.error(this.ctx,"Missing tool call in meta prompt response"),$0e;let c=r.extendedBy({uiKind:i,skillIds:l?.join(",")??""},{numTokens:t.numTokens+t.toolCalls[0].approxNumTokens}),u=c.extendedBy({messageText:n});return jt(this.ctx,`${Z0(i)}.metaPrompt`,c,0),jt(this.ctx,`${Z0(i)}.promptContext`,u,1),{skillIds:l??[]}}telemetryError(t,r){let n=t.extendedBy({resultType:r.type,reason:r.reason??""});jt(this.ctx,"conversation.promptContextError",n,1)}};d();d();d();var VH=class{constructor(){this.languageId=["java","kotlin","scala","groovy"]}static{o(this,"JavaProjectMetadataLookup")}determineBuildTools(t){return[...t.buildTools]}determineApplicationFrameworks(t){let r=[];return he(t,r,"org.springframework.boot","Spring Boot"),he(t,r,"jakarta.jakartaee-api","Jakarta EE"),he(t,r,"javax:javaee-api","Java EE"),he(t,r,"org.apache.struts:struts2-core","Apache Struts"),he(t,r,"org.hibernate:hibernate-core","Hibernate"),he(t,r,"org.apache.wicket:wicket-core","Apache Wicket"),he(t,r,"javax.faces:jsf-api","JSF"),he(t,r,"org.grails:grails-core","Grails"),r}determineCoreLibraries(t){let r=[];return he(t,r,"com.google.guava","Google Guava"),he(t,r,"org.apache.commons:commons-lang3","Apache Commons Lang"),he(t,r,"org.apache.commons:commons-io","Apache Commons IO"),he(t,r,"joda-time:joda-time","Joda-Time"),he(t,r,"com.google.code.gson:gson","Google Gson"),he(t,r,"org.apache.commons:commons-math3","Apache Commons Math"),he(t,r,"org.apache.commons:commons-collections4","Apache Commons Collections"),he(t,r,"org.apache.commons:commons-net","Apache Commons Net"),he(t,r,"org.apache.poi:poi","Apache POI"),he(t,r,"com.fasterxml.jackson.core:jackson-databind","Jackson"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"org.junit.jupiter:junit-jupiter","JUnit"),he(t,r,"junit:junit","JUnit"),he(t,r,"org.testng:testng","TestNG"),he(t,r,"org.spockframework:spock-core","Spock"),he(t,r,"io.cucumber:cucumber-java","Cucumber"),he(t,r,"org.jboss.arquillian.junit:arquillian-junit-container","Arquillian"),r}determineTestingLibraries(t){let r=[];return he(t,r,"org.mockito","Mockito"),he(t,r,"org.assertj","AssertJ"),he(t,r,"org.hamcrest","Hamcrest"),he(t,r,"org.powermock","PowerMock"),he(t,r,"org.jmock","JMock"),he(t,r,"org.easymock","EasyMock"),he(t,r,"org.jmockit:jmockit","JMockit"),he(t,r,"com.github.tomakehurst:wiremock","WireMock"),he(t,r,"org.dbunit:dbunit","DBUnit"),he(t,r,"com.icegreen:greenmail","GreenMail"),he(t,r,"net.sourceforge.htmlunit:htmlunit","HtmlUnit"),he(t,r,"org.seleniumhq.selenium:selenium-java","Selenium"),he(t,r,"io.rest-assured:rest-assured","Rest-Assured"),he(t,r,"io.gatling.highcharts:gatling-charts-highcharts","Gatling"),he(t,r,"org.apache.jmeter:ApacheJMeter","JMeter"),r}},$H=class{constructor(){this.languageId=["javascript","javascriptreact","typescript","typescriptreact","vue"]}static{o(this,"JavaScriptProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"@types/node","Node.js"),he(t,r,"react-native","React Native"),r.find(n=>n.name==="React Native")||he(t,r,"react","React"),he(t,r,"angular","Angular"),he(t,r,"vue","Vue.js"),he(t,r,"ember","Ember.js"),he(t,r,"backbone","Backbone.js"),he(t,r,"meteor","Meteor"),he(t,r,"polymer","Polymer"),he(t,r,"aurelia","Aurelia"),he(t,r,"knockout","Knockout.js"),he(t,r,"dojo","Dojo Toolkit"),he(t,r,"mithril","Mithril.js"),he(t,r,"marionette","Marionette.js"),he(t,r,"marko","Marko.js"),he(t,r,"svelte","Svelte"),he(t,r,"hyperapp","Hyperapp"),he(t,r,"inferno","Inferno.js"),he(t,r,"preact","Preact"),he(t,r,"riot","Riot.js"),he(t,r,"moon","Moon.js"),he(t,r,"stencil","Stencil.js"),r}determineCoreLibraries(t){let r=[];return he(t,r,"lodash","Lodash"),he(t,r,"moment","Moment.js"),he(t,r,"axios","Axios"),he(t,r,"redux","Redux"),he(t,r,"recoil","Recoil"),he(t,r,"jquery","jQuery"),he(t,r,"d3","D3.js"),he(t,r,"underscore","Underscore.js"),he(t,r,"ramda","Ramda"),he(t,r,"immutable","Immutable.js"),he(t,r,"rxjs","RxJS"),he(t,r,"three","Three.js"),he(t,r,"socket.io","Socket.IO"),he(t,r,"express","Express.js"),he(t,r,"next","Next.js"),he(t,r,"puppeteer","Puppeteer"),he(t,r,"cheerio","Cheerio"),he(t,r,"nodemailer","Nodemailer"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"jest","Jest"),he(t,r,"mocha","Mocha"),he(t,r,"jasmine","Jasmine"),he(t,r,"ava","AVA"),he(t,r,"qunit","QUnit"),he(t,r,"tape","Tape"),r}determineTestingLibraries(t){let r=[];return he(t,r,"chai","Chai"),he(t,r,"sinon","Sinon"),he(t,r,"enzyme","Enzyme"),he(t,r,"protractor","Protractor"),he(t,r,"supertest","Supertest"),he(t,r,"nock","Nock"),he(t,r,"cypress","Cypress"),he(t,r,"@testing-library/react","React Testing Library"),r}},zH=class{constructor(){this.languageId="go"}static{o(this,"GoProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"github.com/gorilla/mux","Gorilla Mux"),he(t,r,"github.com/go-chi/chi","Chi"),he(t,r,"github.com/gin-gonic/gin","Gin"),he(t,r,"github.com/labstack/echo","Echo"),he(t,r,"github.com/revel/revel","Revel"),he(t,r,"github.com/astaxie/beego","Beego"),he(t,r,"github.com/go-martini/martini","Martini"),he(t,r,"github.com/gobuffalo/buffalo","Buffalo"),he(t,r,"github.com/goji/goji","Goji"),he(t,r,"github.com/hoisie/web","Web.go"),r}determineCoreLibraries(t){let r=[];return he(t,r,"net/http","net/http"),he(t,r,"fmt","fmt"),he(t,r,"io","io"),he(t,r,"time","time"),he(t,r,"math","math"),he(t,r,"strconv","strconv"),he(t,r,"strings","strings"),he(t,r,"sort","sort"),he(t,r,"encoding/json","encoding/json"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"github.com/onsi/ginkgo","ginkgo"),he(t,r,"github.com/onsi/gomega","gomega"),he(t,r,"github.com/stretchr/testify","testify"),he(t,r,"gopkg.in/check.v1","gocheck"),he(t,r,"github.com/franela/goblin","goblin"),he(t,r,"github.com/DATA-DOG/godog","godog"),he(t,r,"github.com/stesla/gospec","gospec"),he(t,r,"github.com/rjeczalik/gotest","gotest"),he(t,r,"github.com/smartystreets/goconvey","goconvey"),r}determineTestingLibraries(t){let r=[];return he(t,r,"github.com/stretchr/testify","Testify"),he(t,r,"github.com/smartystreets/goconvey","GoConvey"),he(t,r,"github.com/onsi/ginkgo","Ginkgo"),he(t,r,"github.com/golang/mock","GoMock"),he(t,r,"gopkg.in/check.v1","GoCheck"),he(t,r,"github.com/franela/goblin","Goblin"),he(t,r,"github.com/DATA-DOG/godog","GoDog"),he(t,r,"github.com/onsi/gomega","Gomega"),he(t,r,"github.com/stesla/gospec","GoSpec"),he(t,r,"github.com/rjeczalik/gotest","GoTest"),r}},YH=class{constructor(){this.languageId=["python","jupyter"]}static{o(this,"PythonProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"flask","Flask"),he(t,r,"django","Django"),he(t,r,"pyramid","Pyramid"),he(t,r,"tornado","Tornado"),he(t,r,"fastapi","FastAPI"),r}determineCoreLibraries(t){let r=[];return he(t,r,"requests","requests"),he(t,r,"numpy","numpy"),he(t,r,"pandas","pandas"),he(t,r,"scipy","scipy"),he(t,r,"matplotlib","matplotlib"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"pytest","Pytest"),he(t,r,"unittest","Unittest"),he(t,r,"doctest","Doctest"),he(t,r,"nose","Nose"),r}determineTestingLibraries(t){let r=[];return he(t,r,"mock","Mock"),he(t,r,"hypothesis","Hypothesis"),he(t,r,"behave","Behave"),he(t,r,"lettuce","Lettuce"),he(t,r,"testify","Testify"),he(t,r,"pyhamcrest","PyHamcrest"),r}},KH=class{constructor(){this.languageId=["php","blade"]}static{o(this,"PhpProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"laravel/framework","Laravel"),he(t,r,"symfony/symfony","Symfony"),he(t,r,"slim/slim","Slim"),he(t,r,"cakephp/cakephp","CakePHP"),he(t,r,"yiisoft/yii2","Yii"),he(t,r,"zendframework/zendframework","Zend Framework"),he(t,r,"phalcon/cphalcon","Phalcon"),he(t,r,"bcosca/fatfree","Fat-Free"),he(t,r,"fuel/fuel","FuelPHP"),he(t,r,"phpixie/framework","PHPixie"),r}determineCoreLibraries(t){let r=[];return he(t,r,"monolog/monolog","Monolog"),he(t,r,"vlucas/phpdotenv","PHP dotenv"),he(t,r,"symfony/console","Symfony Console"),he(t,r,"guzzlehttp/guzzle","GuzzleHttp"),he(t,r,"ramsey/uuid","Ramsey UUID"),he(t,r,"doctrine/orm","Doctrine ORM"),he(t,r,"php-di/php-di","PHP-DI"),he(t,r,"phpunit/php-timer","PHPUnit Timer"),he(t,r,"symfony/finder","Symfony Finder"),he(t,r,"symfony/yaml","Symfony Yaml"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"phpunit/phpunit","PHPUnit"),he(t,r,"behat/behat","Behat"),he(t,r,"phpspec/phpspec","PHPSpec"),he(t,r,"codeception/codeception","Codeception"),he(t,r,"atoum/atoum","Atoum"),he(t,r,"pestphp/pest","PestPHP"),he(t,r,"kahlan/kahlan","Kahlan"),he(t,r,"peridot-php/peridot","Peridot"),he(t,r,"phake/phake","Phake"),r}determineTestingLibraries(t){let r=[];return he(t,r,"mockery/mockery","Mockery"),he(t,r,"php-mock/php-mock","PHP-Mock"),he(t,r,"php-mock/php-mock-phpunit","PHP-Mock PHPUnit"),he(t,r,"padraic/mockery","Padraic Mockery"),he(t,r,"phpspec/prophecy","PHPSpec Prophecy"),he(t,r,"phpunit/php-invoker","PHPUnit Invoker"),he(t,r,"phpunit/php-token-stream","PHPUnit Token Stream"),he(t,r,"phpunit/php-code-coverage","PHPUnit Code Coverage"),he(t,r,"phpunit/php-timer","PHPUnit Timer"),he(t,r,"phpunit/php-text-template","PHPUnit Text Template"),r}},JH=class{constructor(){this.languageId="csharp"}static{o(this,"CSharpProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"Microsoft.NETCore.App",".NET Core"),he(t,r,"Microsoft.AspNetCore.App","ASP.NET Core"),r}determineCoreLibraries(t){let r=[];return he(t,r,"EntityFramework","Entity Framework"),he(t,r,"Newtonsoft.Json","Newtonsoft.Json"),he(t,r,"AutoMapper","AutoMapper"),he(t,r,"Serilog","Serilog"),he(t,r,"Dapper","Dapper"),he(t,r,"Polly","Polly"),he(t,r,"FluentValidation","FluentValidation"),he(t,r,"MediatR","MediatR"),he(t,r,"Hangfire","Hangfire"),he(t,r,"RabbitMQ.Client","RabbitMQ.Client"),he(t,r,"MassTransit","MassTransit"),he(t,r,"Microsoft.Extensions.Logging","Microsoft.Extensions.Logging"),he(t,r,"Microsoft.Extensions.DependencyInjection","Microsoft.Extensions.DependencyInjection"),he(t,r,"Microsoft.Extensions.Configuration","Microsoft.Extensions.Configuration"),he(t,r,"Microsoft.Extensions.Http","Microsoft.Extensions.Http"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"xunit","xUnit"),he(t,r,"NUnit","NUnit"),he(t,r,"SpecFlow","SpecFlow"),r}determineTestingLibraries(t){let r=[];return he(t,r,"Moq","Moq"),he(t,r,"FluentAssertions","FluentAssertions"),he(t,r,"Bogus","Bogus"),he(t,r,"RestSharp","RestSharp"),he(t,r,"Swashbuckle.AspNetCore","Swashbuckle.AspNetCore"),r}},ZH=class{constructor(){this.languageId="dart"}static{o(this,"DartProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"flutter","Flutter"),he(t,r,"angular","AngularDart"),r}determineCoreLibraries(t){let r=[];return he(t,r,"dartx","dartx"),he(t,r,"provider","Provider"),he(t,r,"rxdart","RxDart"),he(t,r,"dio","Dio"),he(t,r,"json_serializable","json_serializable"),he(t,r,"freezed","Freezed"),he(t,r,"moor","Moor"),he(t,r,"hive","Hive"),he(t,r,"http","http"),he(t,r,"path","path"),he(t,r,"intl","intl"),he(t,r,"equatable","equatable"),he(t,r,"get_it","get_it"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"test","test"),he(t,r,"flutter_test","flutter_test"),r}determineTestingLibraries(t){let r=[];return he(t,r,"mockito","mockito"),he(t,r,"bloc_test","bloc_test"),r}},XH=class{constructor(){this.languageId="ruby"}static{o(this,"RubyProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"rails","Rails"),he(t,r,"sinatra","Sinatra"),he(t,r,"hanami","Hanami"),he(t,r,"grape","Grape"),he(t,r,"roda","Roda"),he(t,r,"padrino","Padrino"),he(t,r,"cuba","Cuba"),he(t,r,"ramaze","Ramaze"),he(t,r,"nyara","Nyara"),he(t,r,"rack","Rack"),r}determineCoreLibraries(t){let r=[];return he(t,r,"active_record","ActiveRecord"),he(t,r,"sequel","Sequel"),he(t,r,"rom","ROM"),he(t,r,"datamapper","DataMapper"),he(t,r,"mongoid","Mongoid"),he(t,r,"neo4j","Neo4j"),he(t,r,"redis","Redis"),he(t,r,"cassandra","Cassandra"),he(t,r,"couchrest","CouchRest"),he(t,r,"riak","Riak"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"rspec","RSpec"),he(t,r,"minitest","Minitest"),he(t,r,"cucumber","Cucumber"),he(t,r,"spinach","Spinach"),he(t,r,"turnip","Turnip"),he(t,r,"bacon","Bacon"),he(t,r,"shoulda","Shoulda"),he(t,r,"test-unit","Test::Unit"),he(t,r,"wrong","Wrong"),he(t,r,"contest","Contest"),r}determineTestingLibraries(t){let r=[];return he(t,r,"factory_bot","FactoryBot"),he(t,r,"faker","Faker"),he(t,r,"ffaker","FFaker"),he(t,r,"fabrication","Fabrication"),he(t,r,"machinist","Machinist"),he(t,r,"mocha","Mocha"),he(t,r,"flexmock","FlexMock"),he(t,r,"rr","RR"),he(t,r,"bourne","Bourne"),he(t,r,"not_a_mock","NotAMock"),r}},ej=class{constructor(){this.languageId="rust"}static{o(this,"RustProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"tokio","tokio"),he(t,r,"async-std","async-std"),he(t,r,"hyper","hyper"),he(t,r,"actix-web","actix-web"),he(t,r,"rocket","rocket"),r}determineCoreLibraries(t){let r=[];return he(t,r,"serde","serde"),he(t,r,"regex","regex"),he(t,r,"rand","rand"),he(t,r,"log","log"),he(t,r,"lazy_static","lazy_static"),he(t,r,"libc","libc"),he(t,r,"futures","futures"),he(t,r,"rayon","rayon"),he(t,r,"reqwest","reqwest"),he(t,r,"warp","warp"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"test-case","test-case"),he(t,r,"proptest","proptest"),he(t,r,"quickcheck","quickcheck"),r}determineTestingLibraries(t){let r=[];return he(t,r,"mockall","mockall"),he(t,r,"double","double"),he(t,r,"rstest","rstest"),he(t,r,"mockiato","mockiato"),he(t,r,"mock_derive","mock_derive"),he(t,r,"mocktopus","mocktopus"),he(t,r,"mockers","mockers"),he(t,r,"mock_it","mock_it"),r}},tj=class{constructor(){this.languageId=["c","cpp"]}static{o(this,"CProjectMetadataLookup")}determineBuildTools(t){return t.buildTools.filter(r=>["gcc","clang","make","cmake","autotools","ninja","meson"].includes(r.name))}determineApplicationFrameworks(t){return t.libraries.filter(r=>["libc","libuv","openssl","zlib","libevent","libcurl"].includes(r.name))}determineCoreLibraries(t){return t.libraries.filter(r=>["libpng","libjpeg","libxml2","sqlite","postgres","mysql"].includes(r.name))}determineTestingFrameworks(t){return t.libraries.filter(r=>["unity","criterion","cmocka","check","ctest","minunit"].includes(r.name))}determineTestingLibraries(t){return t.libraries.filter(r=>["cmock","fff","trompeloeil","fakeit"].includes(r.name))}};function he(e,t,r,n){let i=e.libraries.find(s=>s.name.toLowerCase().indexOf(r.toLowerCase())>-1);i&&t.push({name:n,version:i.version})}o(he,"addFromLibraries");var rj=class{constructor(t,r){this.languageId=t;this.delegates=r}static{o(this,"CompositeProjectMetadataLookup")}determineBuildTools(t){return this.delegates.map(r=>r.determineBuildTools(t)).flat()}determineApplicationFrameworks(t){return this.delegates.map(r=>r.determineApplicationFrameworks(t)).flat()}determineCoreLibraries(t){return this.delegates.map(r=>r.determineCoreLibraries(t)).flat()}determineTestingFrameworks(t){return this.delegates.map(r=>r.determineTestingFrameworks(t)).flat()}determineTestingLibraries(t){return this.delegates.map(r=>r.determineTestingLibraries(t)).flat()}};function bUe(e){return e.language.version?e.language.name+" "+e.language.version:e.language.name}o(bUe,"determineProgrammingLanguage");var vUe=[new VH,new $H,new zH,new YH,new KH,new JH,new ZH,new XH,new ej,new tj];function EUe(e){let t=vUe.find(r=>typeof r.languageId=="string"?r.languageId===e:Array.isArray(r.languageId)?r.languageId.includes(e):!1)??new rj(e,vUe);return new z0e(t)}o(EUe,"getMetadataLookup");var z0e=class{constructor(t){this.delegate=t;this.languageId=t.languageId}static{o(this,"DistinctProjectMetadataLookup")}determineBuildTools(t){return this.deduplicateDependencies(this.delegate.determineBuildTools(t))}determineApplicationFrameworks(t){return this.deduplicateDependencies(this.delegate.determineApplicationFrameworks(t))}determineCoreLibraries(t){return this.deduplicateDependencies(this.delegate.determineCoreLibraries(t))}determineTestingFrameworks(t){return this.deduplicateDependencies(this.delegate.determineTestingFrameworks(t))}determineTestingLibraries(t){return this.deduplicateDependencies(this.delegate.determineTestingLibraries(t))}deduplicateDependencies(t){let r=[];return t.forEach(n=>{r.find(i=>i.name===n.name)||r.push(n)}),r}};var IUe=I.Object({name:I.String(),version:I.Optional(I.String())}),TUe=I.Object({language:I.Object({id:I.String(),name:I.String(),version:I.Optional(I.String())}),libraries:I.Array(IUe),buildTools:I.Array(IUe)}),Y0e=class{constructor(t){this.turnContext=t}static{o(this,"ProjectMetadataSkillProcessor")}value(){return 1}processSkill(t){let r=[];r.push([new tr([`The user is working on a project with the following characteristics:
`]),1]);let n=EUe(t.language.id);return this.addProgrammingLanguage(t,r),this.addBuildTools(t,r,n),this.addApplicationFramework(t,r,n),this.addCoreLibraries(t,r,n),this.addTestingFrameworks(t,r,n),this.addTestingLibraries(t,r,n),new tr(r)}addProgrammingLanguage(t,r){let n=bUe(t);this.turnContext.collectLabel(qg,n),r.push([new tr([`- programming language: ${n}`]),1])}addBuildTools(t,r,n){this.addToPrompt(r,"- build tools:",n.determineBuildTools(t))}addApplicationFramework(t,r,n){this.addToPrompt(r,"- application frameworks:",n.determineApplicationFrameworks(t))}addCoreLibraries(t,r,n){this.addToPrompt(r,"- core libraries:",n.determineCoreLibraries(t))}addTestingFrameworks(t,r,n){this.addToPrompt(r,"- testing frameworks:",n.determineTestingFrameworks(t))}addTestingLibraries(t,r,n){this.addToPrompt(r,"- testing libraries:",n.determineTestingLibraries(t))}addToPrompt(t,r,n){if(n.length>0){n.forEach(s=>{this.turnContext.collectLabel(qg,`${s.name}${s.version?" "+s.version:""}`)});let i=n.map(s=>`  - ${s.name}${s.version?" "+s.version:""}`).join(`
`);t.push([new tr([`${r}
${i}`]),1])}}},qg="project-metadata",nj=class{constructor(t){this._resolver=t;this.id=qg;this.type="explicit"}static{o(this,"ProjectMetadataSkill")}description(){return"The characteristics of the project the developer is working on (languages, frameworks)"}resolver(){return this._resolver}processor(t){return new Y0e(t)}};d();var wUe=et(require("path"));var K0e=class{constructor(t){this.turnContext=t}static{o(this,"ReferencesSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(Pn),n=[],i=this.filterIncludedFiles(t),s=(await this.toFileChunks(i,r)).filter(a=>a!==void 0).flat();if(s.length>0)return n.push([new tr(["The user wants you to consider the following referenced files when computing your answer."]),1]),n.push(...s),new tr(n)}filterIncludedFiles(t){return t.filter(r=>r.type==="file"&&!this.turnContext.isFileIncluded(r.uri))}async toFileChunks(t,r){return await Promise.all(t.map(async n=>{if(n.type==="file"&&n.uri)return await this.elideReferencedFiles(r,n)}))}async elideReferencedFiles(t,r){let n=await t.getOrReadTextDocument(r),i=gs(n);if(await this.turnContext.collectFile(oj,r.uri,i),n.status==="valid"){let s=t.getRelativePath(n.document);if(i==="included"){let a=new Qg(n.document,r.selection,r.visibleRange);return[[`Code excerpt from referenced file \`${s}\`:`,1],[a.fromAllCode({addLineNumbers:!1}),1]]}else if(i==="empty")return[[new tr([`The referenced file \`${s}\` is empty.`]),1]]}else if(n.status==="invalid")return[[new tr([`The referenced file \`${wUe.basename(r.uri)}\` is content excluded.`]),1]]}},J0e=class{static{o(this,"ReferencesSkillResolver")}resolveSkill(t){if(t.turn.request.references&&t.turn.request.references.length>0)return t.turn.request.references}},oj="references",ij=class{constructor(){this.id=oj;this.type="implicit"}static{o(this,"ReferencesSkill")}description(){return"The code from the user's referenced files"}resolver(){return new J0e}processor(t){return new K0e(t)}};var Pv=o(()=>[qg,Nh,oj,Hc],"mandatorySkills"),sj=class{constructor(t,r){this.chatFetcher=r;this.metaPromptFetcher=new jH(t,this.chatFetcher)}static{o(this,"ConversationContextCollector")}async collectContext(t,r,n,i,s,a){let l=[];if(s){let c=s.requiredSkills?await s.requiredSkills(t.ctx):[];l.push(...c.filter(u=>!Pv().includes(u)))}else(await this.metaPromptFetcher.fetchPromptContext(t,await this.selectableSkillDescriptors(t.ctx,t.conversation,t.turn),r,n,i)).skillIds.reverse().forEach(u=>{!l.includes(u)&&!Pv().includes(u)&&l.push(u)});if(a){let c=await a.additionalSkills(t.ctx);l.push(...c.filter(u=>!Pv().includes(u)))}return l.push(...Pv()),l=l.filter(c=>!this.isIgnoredSkill(c,t.turn)),{skillIds:t.ctx.get(co).filterSupportedSkills(t.conversation.id,l)}}async selectableSkillDescriptors(t,r,n){let i=await this.getNonSelectableSkills(t),s=t.get(co).getSupportedSkills(r.id),a=t.get(Xa).getDescriptors(),l=[];for(let c of a){if(i.includes(c.id)||!s.includes(c.id))continue;(c.isAvailable?await c.isAvailable(t):!0)&&!this.isIgnoredSkill(c.id,n)&&l.push(c)}return l}async getNonSelectableSkills(t){let r=await Og(t),n=(await Promise.all(r.map(i=>i.additionalSkills(t)))).flat();return[...Pv(),...n]}isIgnoredSkill(t,r){return r.ignoredSkills?.some(n=>n.skillId===t)}};d();d();var aj=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.progress=i;this.rounds=[]}static{o(this,"AgentToolCalls")}getRound(t){return this.rounds.find(r=>r.roundId===t)}async start(t,r,n,i){let s=this.getRound(t);if(s||(s={roundId:t,reply:""},this.rounds.push(s)),s.toolCalls?.find(l=>l.id===r))Zr.error(this.ctx,`Tool call ${r} already exists for the round ${t} in conversation ${this.conversation.id} and turn ${this.turn.id}`);else{let l={id:r,name:n,progressMessage:i,status:"running"};s.toolCalls=[l],await this.progress.report(this.conversation,this.turn,{editAgentRounds:[s]})}}async finish(t,r){await this.update(t,r,n=>{n.status="completed"})}async cancel(t,r){await this.update(t,r,n=>{n.status="cancelled"})}async finishAll(t="completed"){let r=this.rounds.filter(n=>{let i=n.toolCalls?.filter(s=>s.status==="running").map(s=>(s.status=t,s));if(i&&i.length>0)return n.toolCalls=i,!0});r.length>0&&await this.progress.report(this.conversation,this.turn,{editAgentRounds:r})}async error(t,r,n){await this.update(t,r,i=>{i.status="error",i.error=n||"Unknown error"})}async update(t,r,n){let i=this.rounds.find(a=>a.roundId===t);i||(i={roundId:t,reply:""},this.rounds.push(i));let s=i.toolCalls?.find(a=>a.id===r);s?(n(s),await this.progress.report(this.conversation,this.turn,{editAgentRounds:[i]})):Zr.error(this.ctx,`Tool call ${r} not found for the agent round ${t} in conversation ${this.conversation.id} and turn ${this.turn.id}`)}};d();var lj=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.progress=i;this.steps=[]}static{o(this,"Steps")}async start(t,r,n){let i=this.steps.find(s=>s.id===t);if(!i)i={id:t,title:r,description:n,status:"running"},this.steps.push(i),await this.progress.report(this.conversation,this.turn,{steps:[i]});else throw new Error(`Step with id "${t}" already started`)}async finish(t){await this.updateStep(t,r=>{r.status="completed"})}async cancel(t){await this.updateStep(t,r=>{r.status="cancelled"})}async finishAll(t="completed"){let r=this.steps.filter(n=>n.status==="running").map(n=>(n.status=t,n));r.length>0&&await this.progress.report(this.conversation,this.turn,{steps:r})}async error(t,r){return this.updateStep(t,n=>{n.status="failed",n.error={message:r||"Unknown error"}})}async updateStep(t,r){let n=this.steps.find(i=>i.id===t);n?(r(n),await this.progress.report(this.conversation,this.turn,{steps:[n]})):Zr.error(this.ctx,`Step ${t} not found for conversation ${this.conversation.id} and turn ${this.turn.id}`)}};d();var GDt="X-Initiator",HDt="X-Interaction-ID",jDt="X-Interaction-Type";var cj=class{static{o(this,"LlmInteractionInitiator")}static id(){throw new Error("Must be implemented by subclass")}},Z0e=class extends cj{static{o(this,"User")}static id(){return"user"}},X0e=class extends cj{static{o(this,"Agent")}static id(){return"agent"}},eue=class{static{o(this,"GenericLlmInteraction")}constructor(t,r,n){this.initiator=t.id(),this.interactionType=r,this.interactionId=n}toCapiHeaders(){return{[GDt]:this.initiator,[HDt]:this.interactionId,[jDt]:this.interactionType.toString()}}},Eu=class e extends eue{static{o(this,"LlmInteraction")}static user(t,r){return new e(Z0e,t,r)}static agent(t,r){return new e(X0e,t,r)}};var R9=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.cancelationToken=i;this.skillResolver=new tue(this),this.steps=new lj(t,r,n,t.get($s)),this.collector=new rue(r,n,t.get($s)),this.agentToolCalls=new aj(t,r,n,t.get($s))}static{o(this,"TurnContext")}toLlmInteraction(){return this.conversation.source==="inline"?Eu.user("conversation-inline",this.turn.telemetryId):this.agentToolCalls.rounds.length?Eu.agent("conversation-panel",this.turn.telemetryId):Eu.user("conversation-panel",this.turn.telemetryId)}async collectFile(t,r,n,i){let s={type:"file",collector:t,uri:r,status:n};i&&(s.range=i),await this.collector.collect(s)}collectLabel(t,r){this.collector.collect({type:"label",collector:t,label:r})}isFileIncluded(t){return this.collector.collectibles.some(r=>r.type==="file"&&r.status==="included"&&r.uri===t)}async info(t){await this.sendChatNotification(t,"info")}async warn(t){await this.sendChatNotification(t,"warning")}async sendChatNotification(t,r){await this.ctx.get($s).report(this.conversation,this.turn,{notifications:[{severity:r,message:t}]})}},uj=class extends Error{constructor(r,n){super(`Cycle detected while resolving skills: ${n.join(" -> ")} -> ${r}`);this.skillId=r;this.skillStack=n}static{o(this,"CycleError")}},uR=class extends Error{static{o(this,"ConversationAbortError")}constructor(t){super(t)}},tue=class{constructor(t){this.turnContext=t;this.resolveStack=[]}static{o(this,"SkillResolver")}async resolve(t){if(this.turnContext.ctx.get(co).getSupportedSkills(this.turnContext.conversation.id).includes(t)){this.ensureNoCycle(t);let n=this.turnContext.ctx.get(Ul).getResolvedSkill(this.turnContext.turn.id,t);if(n)return this.resolveStack.pop(),n;let i=await this.newlyResolve(t);return this.resolveStack.pop(),i}}ensureNoCycle(t){if(this.resolveStack.includes(t))throw new uj(t,this.resolveStack);this.resolveStack.push(t)}async newlyResolve(t){let n=this.turnContext.ctx.get(Xa).getSkill(t);try{let i=await n?.resolver(this.turnContext).resolveSkill(this.turnContext);if(i)return this.turnContext.ctx.get(Ul).addResolvedSkill(this.turnContext.turn.id,t,i),i}catch(i){if(i instanceof uj||i instanceof uR)throw i;Zr.exception(this.turnContext.ctx,i,`Error while resolving skill ${t}`)}}},rue=class{constructor(t,r,n){this.conversation=t;this.turn=r;this.conversationProgress=n;this.collectibles=[]}static{o(this,"Collector")}async collect(t){this.collectibles.push(t),await this.reportCollectedFile(t)}async reportCollectedFile(t){t.type==="file"&&await this.conversationProgress.report(this.conversation,this.turn,{references:[{type:"file",uri:t.uri,status:t.status,range:t.range}]})}collectiblesForCollector(t){return this.collectibles.filter(r=>r.collector===t)}};async function _Ue(e,t){let[r,n,i]=await VDt(e,t);return i.push(...YDt(e)),r.length>0||n.length>0?[new tr([[new tr(["Consider the additional context:"]),1],[PC(r,"inverseLinear"),.9],...n]),i]:[null,i]}o(_Ue,"fromSkills");async function VDt(e,t){let r=[],n=[],i=[],s=[...e.turn.skills].reverse();for(let a of s){if(!await KDt(e,a.skillId,t?.languageId??""))continue;let[l,c]=await $Dt(e,a.skillId);l&&(Pv().indexOf(a.skillId)===-1?n.push(l):i.push(l)),r.push(c)}return n.reverse(),i.reverse(),r.reverse(),[n,i,r]}o(VDt,"handleSkillsInReverse");async function $Dt(e,t){let n=e.ctx.get(Xa).getSkill(t);try{let i=Date.now(),s=await e.skillResolver.resolve(t),a=Date.now()-i;if(s){let l=n?.processor(e),c=Date.now(),u=await l?.processSkill(s,e),f=Date.now()-c;return u?await zDt(e,n,l,u,a,f):[void 0,await dj(e,n,"unprocessable",void 0,a,f)]}else return[void 0,await dj(e,n,"unresolvable",void 0,a)]}catch(i){if(Zr.exception(e.ctx,i,`Error while resolving skill ${t}`),i instanceof uR)throw i;return[void 0,await dj(e,n,"failed")]}}o($Dt,"safelyProcessSkill");async function zDt(e,t,r,n,i,s){let a;return typeof n=="string"?a=new tr([[n,1]]):a=n,[[a,r?.value()||0],await dj(e,t,"resolved",a,i,s)]}o(zDt,"handleProcessedSkill");async function dj(e,t,r,n,i,s){let l=e.collector.collectiblesForCollector(t?.id??"unknown").filter(u=>u.type==="file"),c={skillId:t?.id??"unknown",resolution:r,files:l,resolutionTimeMs:i,processingTimeMs:s};if(n){let u=await e.ctx.get(ui).getBestChatModelConfig(ms("user")),f=n.elide(u.maxRequestTokens).getText();c.tokensPreEliding=go(u.tokenizer).tokenLength(f)}return e.ctx.get(Ul).addResolution(e.turn.id,c),c}o(dj,"determineResolution");function YDt(e){return e.turn.ignoredSkills.map(t=>({skillId:t.skillId,resolution:"ignored"}))}o(YDt,"handleIgnoredSkills");async function KDt(e,t,r){if(t!==qg&&t!==Nh)return!0;let n=e.ctx.get(xr),i=await n.updateExPValuesAndAssignments({languageId:r});return n.ideChatEnableProjectMetadata(i)?t===qg:t===Nh}o(KDt,"includeSkill");var SUe=et(Df());var Fv=class{static{o(this,"AbstractUserPromptStrategy")}async elidableContent(t,r){let n=[],i=k9(t.conversation.turns.slice(0,-1));i!==null&&n.push([i,.6]);let[s,a]=await this.elidableSkills(t,r);return s!==null&&(i!==null&&n.push(["",.1]),n.push([s,.8])),[new tr(n),a]}async elidableSkills(t,r){return await _Ue(t,r)}async promptContent(t,r,n){let i;t.turn.workspaceFolder&&(i=await S9.getInstructions(t.ctx,[t.turn.workspaceFolder],{includeCodeGenerationInstructions:!0,includeCommitMessageGenerationInstructions:!1}));let s=t.conversation.getLastTurn().request.message,a;i?typeof s=="string"?a=i+`

`+s:a=[{type:"text",text:i},...s]:a=s;let[l,c]=await this.elidableContent(t,n);return[[{role:"system",content:r},{role:"user",content:l},{role:"system",content:this.suffix(t)},{role:"user",content:a}],c]}},mj=class extends Fv{static{o(this,"PanelUserPromptStrategy")}suffix(t){return SUe.default` 
            Use the above information, including the additional context and conversation history (if available) to answer the user's question below.
            Prioritize the context given in the user's question.
            When generating code, think step-by-step. Briefly explain the code and then output it in a single code block.
            When fixing problems and errors, provide a brief description first.
            When generating classes, use a separate code block for each class.
            Keep your answers short and impersonal.
            Use Markdown formatting in your answers.
            Escape special Markdown characters (like *, ~, -, _, etc.) with a backslash or backticks when using them in your answers.
            You must enclose file names and paths in single backticks. Never use single or double quotes for file names or paths.
            Make sure to include the programming language name at the start of every code block.
            Avoid wrapping the whole response in triple backticks.
            Only use triple backticks codeblocks for code.
            Do not repeat the user's code excerpt when answering.
            Do not prefix your answer with "GitHub Copilot".
            Do not start your answer with a programming language name.
            Do not include follow up questions or suggestions for next turns.
            Respond in the following locale: ${t.conversation.userLanguage}.
        `.trim()}};var kUe=et(Df());var hj=class extends Fv{static{o(this,"InlineUserPromptStrategy")}suffix(t){return kUe.default`
            Use the above information, including the additional context and conversation history (if available) to answer the user's question below.
            Prioritize the context given in the user's question.
            Keep your answers short and impersonal.
            Use Markdown formatting in your answers. 
            Escape special Markdown characters (like *, ~, -, _, etc.) with a backslash or backticks when using them in your answers.
            You must enclose file names and paths in single backticks. Never use single or double quotes for file names or paths.
            Make sure to include the programming language name at the start of every code block.
            Only use triple backticks codeblocks for code.
            Do not repeat the user's code excerpt when answering.
            Do not prefix your answer with "GitHub Copilot".
            Do not start your answer with a programming language name.
            Do not include follow up questions or suggestions for next turns.
            Respond in the following locale: ${t.conversation.userLanguage}.

            The user is editing an open file in their editor.
            The user's code is provided with line numbers prepended, for example: '1:code', starting at 1.
            The selected code line numbers are provided and are inclusive.

            If the user's question is about modifying the code in the editor, adhere to the following rules:

            To edit a range of the user's code, use the following format:
            - Generate a codeblock with the new code.
            - Prefix the codeblock with a markdown comment of the form <!-- replace lines start to end -->
            - Start and end are line numbers in the user's original code.
            - Start and end are inclusive.
            - Single line edits can be done by setting start and end to the same line number: <!-- replace lines X to X -->
            - The original code between the start and end will be replaced with the new code.
            - This format can be used to replace as well as add new code to the user's code.

            For example, to replace lines X to Y of the user's code, use the following format:
            <!-- replace lines X to Y -->
            \`\`\`language
            new code
            \`\`\`

            To delete a range of the user's code, use the following format:
            - Generate a codeblock with the original code.
            - Prefix the codeblock with a markdown comment of the form <!-- delete lines start to end -->
            - Start and end are line numbers in the user's original code.
            - Start and end are inclusive.
            - Single line deletions can be done by setting start and end to the same line number: <!-- delete lines X to X -->
            - The original code in the range will be deleted from the user's code.

            For example, to delete lines X to Y of the user's code, use the following format:
            <!-- delete lines X to Y -->
            \`\`\`language
            original code
            \`\`\`

            Remember:
            - Prefix comments must be placed directly above/after the code block respectively.
            - The first row of a codeblock must never be indented.
            - Code in codeblocks must not contain line numbers.
            - You must not return a codeblock containing the final code, but only individual codeblocks for each change.
        `.trim()}};d();var nue=et(Df());var pj=class{static{o(this,"MetaPromptStrategy")}elidableContent(t){let r=k9(t.turns.slice(0,-1)),n=[];return r!==null&&n.push([r,.6]),new tr(n)}suffix(t){if(t.promptType!=="meta")throw new Error("Invalid prompt options for strategy");if(!t.supportedSkillDescriptors)throw new Error("Supported skills must be provided for meta prompts");return this.buildMetaPrompt(t.supportedSkillDescriptors)}buildMetaPrompt(t){return nue.default`
            Your task is to provide a helpful answer to the user's question.
            To help you create that answer, you can resolve skills that give you more context.
            Each skill has a description and some example user questions to help you understand when the skill may be useful. 
            
            List of available skills:
            ${t.map(r=>`${this.skillToPrompt(r)}
`).join(`
`)}
        `.trim()}createFunctionArgumentSchema(t){let r=MDe(t.map(n=>n.id));return I.Object({skillIds:I.Array(r,{description:"The skill ids to resolve ranked from most to least useful"})})}toolConfig(t){if(t.promptType!=="meta")throw new Error("Invalid prompt options for strategy");return{tool_choice:{type:"function",function:{name:"resolveSkills"}},tools:[{type:"function",function:{name:"resolveSkills",description:"Resolves the skills by id to help answer the user question.",parameters:this.createFunctionArgumentSchema(t.supportedSkillDescriptors)}}],extractArguments(r){return{skillIds:sC(r).skillIds}}}}skillToPrompt(t){let r=t.description?t.description():t.id,n=`Skill Id: ${t.id}
Skill Description: ${r}`,i=t.examples?t.examples():[];return i.length>0&&(n+=`
Skill Examples:
${i.map(s=>`  - ${s}`).join(`
`)}`),n}promptContent(t,r,n){let i=t.conversation.getLastTurn().request.message,s=this.elidableContent(t.conversation);return[[{role:"system",content:r},{role:"user",content:s},{role:"system",content:this.suffix(n)},{role:"user",content:nue.default`
                    This is the user's question: 
                    ${sn(i).trim()} 
                `.trim()}],[]]}};d();var RUe=et(Df());var gj=class{static{o(this,"SuggestionsPromptStrategy")}toolConfig(){return{tool_choice:{type:"function",function:{name:"showSuggestions"}},tools:[{type:"function",function:{name:"showSuggestions",description:"Show the computed suggestions to the user",parameters:I.Object({suggestedTitle:I.String({description:"The suggested title for the conversation"}),followUp:I.String({description:"The suggested follow-up question for the conversation"})})}}],extractArguments(t){let r=sC(t);return{suggestedTitle:r.suggestedTitle,followUp:r.followUp}}}}suffix(t){return RUe.default`
            Your task is to come up with two suggestions:

            1) Suggest a title for the current conversation based on the history of the conversation so far.
                - The title must be a short phrase that captures the essence of the conversation.
                - The title must be relevant to the conversation context.
                - The title must not be offensive or inappropriate.
                - The title must be in the following locale: ${t.conversation.userLanguage}.

            2) Write a short one-sentence question that the user can ask as a follow up to continue the current conversation.
                - The question must be phrased as a question asked by the user, not by Copilot.
                - The question must be relevant to the conversation context.
                - The question must not be offensive or inappropriate.
                - The question must not appear in the conversation history.
                - The question must not have already been answered.
                - The question must be in the following locale: ${t.conversation.userLanguage}.
        `.trim()}elidableContent(t){let r=k9(t.turns.slice()),n=[];return r!==null&&n.push([r,.6]),new tr(n)}promptContent(t,r,n){return[[{role:"system",content:r},{role:"user",content:this.elidableContent(t.conversation)},{role:"system",content:this.suffix(t)}],[]]}};d();var JDt=[{type:"function",function:{name:"queryWithKeywords",description:"Searches the workspace for synonyms and relevant keywords related to the original user query. These keywords could be used as file names, symbol names, abbreviations, or comments in the relevant code.",parameters:I.Object({keywords:I.Array(I.Object({keyword:I.String({description:"A keyword or phrase relevant to the original user query that a user could search to answer their question. Keywords are not generic and do not repeat."}),variations:I.Array(I.String(),{description:"An array of relevant variations of the keyword. Variations include synonyms and plural forms. Variations are not generic and do not repeat."})}))})}}],Aj=class extends Fv{static{o(this,"UserQuerySynonymsPromptStrategy")}suffix(){return`
You are a coding assistant that helps developers find relevant code in their workspace by providing a list of relevant keywords they can search for.
The user will provide you with potentially relevant information from the workspace. This information may be incomplete.

# Additional Rules

Think step by step:
1. Read the user's question to understand what they are asking about their workspace.
2. If there are pronouns in the question, such as 'it', 'that', 'this', try to understand what they refer to by looking at the rest of the question and the conversation history.
3. Output a list of up to 8 relevant keywords that the user could search to answer their question. These keywords could be used as file names, symbol names, abbreviations, or comments in the relevant code. Put the keywords most relevant to the question first. Do not include overly generic keywords. Do not repeat keywords.
4. For each keyword in the list of relevant keywords, output a list of relevant variations of the keyword if applicable. Consider synonyms and plural forms. Do not include overly generic variations. Do not repeat variations.

# Example

User: Where is the code for base64 encoding?

Response:

queryWithKeywords([
    { "keyword": "base64 encoding", "variations": ["base64 encoder", "base64 encode"] },
    { "keyword": "base64", "variations": ["base 64"] },
    { "keyword": "encode", "variations": ["encoding", "encoded", "encoder", "encoders"] }
]);
`.trim()}promptContent(t,r,n){if(n.promptType!=="synonyms")throw new Error("Invalid prompt options for user query strategy");let i=t.conversation.getLastTurn().request.message,s=[{role:"system",content:r},{role:"system",content:this.suffix()},{role:"user",content:i}];return Promise.resolve([s,[]])}toolConfig(t){if(t.promptType!=="synonyms")throw new Error("Invalid prompt options for user query strategy");return{tools:JDt,tool_choice:{type:"function",function:{name:"queryWithKeywords"}},extractArguments(r){let n=sC(r).keywords;if(!n||!Array.isArray(n))return{keywords:[]};let i=new Set;for(let s of n)if(!(!EQ(s,"keyword")||!s.keyword||typeof s.keyword!="string")&&(i.add(s.keyword.toLowerCase()),!(!EQ(s,"variations")||!s.variations||!Array.isArray(s.variations))))for(let a of s.variations)typeof a=="string"&&i.add(a.toLowerCase());return{keywords:Array.from(i)??[]}}}}};var iue=class{constructor(t,r,n){this.promptType=t;this.strategy=n;this.modelFamilies=Array.isArray(r)?r:[r]}static{o(this,"PromptStrategyDescriptor")}};function fR(e,t,r){return new iue(e,t,r)}o(fR,"descriptor");var BUe=[fR("user",ms("user"),()=>new mj),fR("inline",ms("inline"),()=>new hj),fR("meta",ms("meta"),()=>new pj),fR("suggestions",ms("suggestions"),()=>new gj),fR("synonyms",ms("synonyms"),()=>new Aj)],yj=class{static{o(this,"DefaultPromptStrategyFactory")}async createPromptStrategy(t,r,n){let i=BUe.find(s=>s.promptType===r&&s.modelFamilies.includes(n));if(!i)throw new Error(`No prompt strategy found for promptType: ${r} and modelFamily: ${n}`);return i.strategy(t)}get descriptors(){return BUe}};var PUe=require("console");var hc=class{constructor(t,r=new yj){this.ctx=t;this.promptStrategyFactory=r}static{o(this,"ConversationPromptEngine")}async toPrompt(t,r){let n=await this.promptStrategyFactory.createPromptStrategy(this.ctx,r.promptType,r.modelConfiguration.modelFamily),[i,s]=await n.promptContent(t,await this.safetyPrompt(r.userSelectedModelName??r.modelConfiguration.uiName),r),[a,l]=this.elideChatMessages(i,r.modelConfiguration);return await this.ctx.get(Za).inspectPrompt({type:r.promptType,prompt:DUe(a),tokens:l}),this.ctx.get(Ul).addPrompt(t.turn.id,DUe(a),r.promptType),{messages:a,tokens:l,skillResolutions:s,toolConfig:n.toolConfig?.(r)}}elideChatMessages(t,r){let n=t.filter(l=>!(typeof l.content=="string"||Array.isArray(l.content)));(0,PUe.assert)(n.length==1,"Only one elidable message is supported right now.");let i=this.computeNonElidableTokens(t,r),s=r.maxRequestTokens-i,a=t.map(l=>typeof l.content=="string"||Array.isArray(l.content)?l:{role:l.role,content:ZDt(l.content.elide(s).getText())}).filter(l=>l.content.length>0);return[a,j0e(a,r)]}computeNonElidableTokens(t,r){let n=t.filter(i=>typeof i.content=="string");return n.push({role:"user",content:""}),j0e(n,r)}async safetyPrompt(t){let r=await this.ctx.get(Bn).getAuthRecord(),n=this.ctx.get(dn).getEditorInfo().readableName??this.ctx.get(dn).getEditorInfo().name,i=XDt(process.platform);return yUe(this.ctx,n,r?.user,i,t)}};function ZDt(e){return e.trimStart().replace(/^\[\.\.\.\]\n?/,"")}o(ZDt,"processResultOfElidableText");function DUe(e){return e.map(t=>sn(t.content)).join(`

`)}o(DUe,"debugChatMessages");function XDt(e){switch(e){case"darwin":return"macOS";case"win32":return"Windows";case"linux":return"Linux";case"freebsd":return"FreeBSD";case"openbsd":return"OpenBSD";case"sunos":return"SunOS";case"aix":return"AIX";default:return}}o(XDt,"mapPlatformToOs");var Cj=class{constructor(t,r){this.ctx=t;this.chatFetcher=r}static{o(this,"TurnSuggestions")}async fetchRawSuggestions(t,r,n,i){let s=await this.ctx.get(ui).getBestChatModelConfig(ms("suggestions"),{tool_calls:!0}),a={promptType:"suggestions",modelConfiguration:s},l=await this.ctx.get(hc).toPrompt(t,a),c=i.extendedBy({messageSource:"chat.suggestions"},{promptTokenLen:l.tokens}),u={modelConfiguration:s,messages:l.messages,uiKind:n,llmInteraction:t.toLlmInteraction()};if(l.toolConfig===void 0)throw new Error("No tool call configuration found in suggestions prompt.");u.tool_choice=l.toolConfig.tool_choice,u.tools=l.toolConfig.tools;let f=await this.chatFetcher.fetchResponse(u,r,c);if(f.type!=="success"&&(Zr.error(this.ctx,"Failed to fetch suggestions, trying again..."),f=await this.chatFetcher.fetchResponse(u,r,c)),f.type==="success"){if(!f.toolCalls||f.toolCalls.length===0){Zr.error(this.ctx,"Missing tool call in suggestions response");return}let m=f.toolCalls[0],{followUp:h,suggestedTitle:p}=l.toolConfig.extractArguments(m);if(!h||!p){Zr.error(this.ctx,"Missing follow-up or suggested title in suggestions response");return}return{followUp:h.trim(),suggestedTitle:p.trim(),promptTokenLen:l.tokens,numTokens:f.numTokens+m.approxNumTokens}}else if(f.type==="successMultiple"){Zr.error(this.ctx,"successMultiple response is unexpected for suggestions");return}else if(f.type==="tool_calls"){Zr.error(this.ctx,"tool_calls response is unexpected for suggestions");return}else{Zr.error(this.ctx,`Failed to fetch suggestions due to reason: ${f.reason}`);return}}};var B9=class{constructor(t,r,n){this.turnContext=t;this.chatFetcher=r;this.computeSuggestions=n}static{o(this,"ChatFetchResultPostProcessor")}async postProcess(t,r,n,i,s,a,l,c){switch(rve(this.turnContext.ctx,l,a,t.type=="offTopic",t.requestId,c,s.extendedBy({},{fileCount:this.turnContext.ctx.get(ca).workspaceCount})),await this.turnContext.ctx.get(Za).inspectFetchResult(t),t.type){case"success":return await this.processSuccessfulFetchResult(n,t.numTokens,t.requestId,r,l,i,s,c);case"offTopic":return this.processOffTopicFetchResult(s,l,c);case"canceled":return this.turnContext.turn.status="cancelled",this.turnContext.turn.response={message:"Cancelled",type:"user"},{error:{message:sn(this.turnContext.turn.response?.message??""),type:this.turnContext.turn.response?.type}};case"failed":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:t.reason,type:"server"},{error:{message:F6.translateErrorMessage(t.code,t.reason),code:t.code}};case"filtered":return this.turnContext.turn.status="filtered",{error:{message:"Oops, your response got filtered. Vote down if you think this shouldn't have happened.",responseIsFiltered:!0}};case"length":return this.turnContext.turn.status="error",{error:{message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0}};case"agentAuthRequired":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Authorization required",type:"server"},{error:{message:"Authorization required",responseIsFiltered:!1}};case"no_choices":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"No choices returned",type:"server"},{error:{message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0}};case"no_finish_reason":return this.turnContext.turn.status="error",n&&n.length>0?this.turnContext.turn.response={message:n,type:"model",references:this.turnContext.turn.response?.references}:this.turnContext.turn.response={message:"No finish reason",type:"server"},{error:{message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0}};case"model_not_supported":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Model not supported",type:"server"},{error:{message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1}};case"successMultiple":case"tool_calls":case"unknown":return this.turnContext.turn.status="error",{error:{message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1}}}}async processSuccessfulFetchResult(t,r,n,i,s,a,l,c){if(t&&t.length>0){a.markAsDisplayed(),l.markAsDisplayed(),this.turnContext.turn.status="success",this.turnContext.turn.response={message:t,type:"model",references:this.turnContext.turn.response?.references},nve(this.turnContext.ctx,this.turnContext.conversation,s,t,r,n,c,l);let u=this.computeSuggestions?await this.fetchSuggestions(i,s,a,c):void 0;if(u){let{followUp:f,suggestedTitle:m}=u;return{followup:f.message!==""?f:void 0,suggestedTitle:m!==""?m:void 0}}return{}}return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"The model returned successful but did not contain any response text.",type:"meta"},{error:{message:sn(this.turnContext.turn.response?.message??""),type:this.turnContext.turn.response?.type}}}async fetchSuggestions(t,r,n,i){let a=await new Cj(this.turnContext.ctx,this.chatFetcher).fetchRawSuggestions(this.turnContext,t,r,n);if(a===void 0)return;let l=this.enrichFollowup(a,r,n,i);return Zr.debug(this.turnContext.ctx,"Computed followup",l),Zr.debug(this.turnContext.ctx,"Computed suggested title",a.suggestedTitle),{followUp:l,suggestedTitle:a.suggestedTitle}}enrichFollowup(t,r,n,i){let s=n.extendedBy({messageSource:"chat.suggestions",suggestionId:Ir(),suggestion:"Follow-up from model"},{promptTokenLen:t.promptTokenLen,numTokens:t.numTokens});return lve(this.turnContext.ctx,r,s,i),{message:t.followUp,id:s.properties.suggestionId,type:s.properties.suggestion}}processOffTopicFetchResult(t,r,n){let i="Sorry, but I can only assist with programming related questions.";return this.turnContext.turn.response={message:i,type:"offtopic-detection"},this.turnContext.turn.status="off-topic",ive(this.turnContext.ctx,this.turnContext.conversation,r,i,t.properties.messageId,n,t),{error:{message:i,responseIsFiltered:!0}}}};d();var xj=I.Union([I.String(),I.Number()]),Nv=I.Union([I.String(),I.Number()]),ePt=I.Union([I.Literal("included"),I.Literal("blocked"),I.Literal("notfound"),I.Literal("empty")]),vj=I.Object({uri:I.String(),position:I.Optional(xl)}),dR=I.Object({type:I.Literal("file"),uri:I.String(),visibleRange:I.Optional(ya),selection:I.Optional(ya),status:I.Optional(ePt),range:I.Optional(ya)}),D9=I.Union([dR,NMe]),rm=I.Union([I.Literal("panel"),I.Literal("inline")]),tPt=I.Union([I.Object({type:I.Literal("text"),text:I.String()}),I.Object({type:I.Literal("image_url"),imageUrl:I.Object({url:I.String(),detail:I.Optional(I.Union([I.Literal("low"),I.Literal("high")]))})})]),oue=I.Union([I.String(),I.Array(tPt)]),FUe=I.Object({request:oue,response:I.Optional(I.String()),agentSlug:I.Optional(I.String()),turnId:I.Optional(Nv)});function bj(e){return typeof e=="string"?e:e.map(t=>t.type==="image_url"?{type:"image_url",image_url:{url:t.imageUrl.url,detail:t.imageUrl.detail}}:{type:"text",text:t.text})}o(bj,"convertToMessageContent");function P9(e,t){if(typeof e=="string")return e+t;let r=e.map(n=>n.type==="text").lastIndexOf(!0);if(r>=0){let n=[...e],i=n[r];return n[r]={type:"text",text:i.text+t},n}return[...e,{type:"text",text:t}]}o(P9,"appendToMessage");var Ej=I.Union([I.Literal("Ask"),I.Literal("Agent")]),rPt=I.Object({type:I.String(),description:I.String()}),NUe=I.Object({name:I.String(),description:I.String(),inputSchema:I.Optional(I.Object({type:I.String(),properties:I.Record(I.String(),rPt),required:I.Array(I.String())})),confirmationMessages:I.Optional(I.Object({title:I.String(),message:I.String()}))}),Ij=I.Object({uri:I.String(),name:I.String()});var sue="generate-response",Tj=class extends Error{constructor(r,n,i,s){super(r);this.authorizationUri=n;this.agentSlug=i;this.agentName=s}static{o(this,"RemoteAgentAuthorizationError")}},mR=class{constructor(t,r,n){this.agent=t;this.turnContext=r;this.chatFetcher=n;this.conversationProgress=r.ctx.get($s),this.chatFetcher=this.chatFetcher??new ka(r.ctx),this.postProcessor=new B9(r,this.chatFetcher,!1),this.conversation=r.conversation,this.turn=r.turn}static{o(this,"RemoteAgentTurnProcessor")}async process(t,r,n,i){try{await this.processWithAgent(t,r,this.turnContext,i)}catch(s){Zr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,s);let a=s instanceof Error?s.message:String(s);this.turn.status="error",this.turn.response={message:a,type:"meta"},s instanceof Tj?await this.endProgress({unauthorized:{authorizationUri:s.authorizationUri,agentSlug:s.agentSlug,agentName:s.agentName}}):await this.endProgress({error:{message:a,responseIsIncomplete:!0}})}}async processWithAgent(t,r,n,i){await this.conversationProgress.begin(this.conversation,this.turn,t);let s=await a0(this.turnContext.ctx,this.turnContext,{languageId:i?.detectedLanguageId??""});if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let a=await this.buildAgentPrompt(n);if(!a)await this.endTurnWithResponse(`No prompt created for agent ${this.agent.id}`,"error");else{let l={type:"user",prompt:JSON.stringify(a.messages,null,2),tokens:a.tokens};await n.ctx.get(Za).inspectPrompt(l),await n.steps.start(sue,"Generating response");let c=this.augmentTelemetry(a,s,this.turn.template,i);if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let u=await this.fetchConversationResponse(n,a.messages,r,s.extendedBy({messageSource:"chat.user"},{promptTokenLen:a.tokens}),c,i);this.turn.status==="cancelled"&&this.turn.response?.type==="user"?await this.cancelProgress():(await this.finishGenerateResponseStep(u,n),await this.endProgress({error:u.error,followUp:u.followup,suggestedTitle:u.suggestedTitle,skillResolutions:a.skillResolutions}))}}async buildAgentPrompt(t){let r=this.createMessagesFromHistory(t),n=await this.computeCopilotReferences(t),i=this.getOrCreateAgentSessionId(t);return this.turn.agent&&(this.turn.agent.sessionId=i),this.turn.confirmationResponse?this.addConfirmationResponse(this.turn.confirmationResponse,r):r.push({role:"user",content:t.turn.request.message,copilot_references:n.length>0?n:void 0}),{messages:r,tokens:-1,skillResolutions:[]}}getOrCreateAgentSessionId(t){let r=this.turn.agent?.agentSlug;if(r){for(let n of t.conversation.turns)if(n.agent?.agentSlug===r&&n.agent.sessionId)return n.agent.sessionId}return Ir()}addConfirmationResponse(t,r){r.push({role:"user",content:"",copilot_confirmations:[t]})}createMessagesFromHistory(t){return V0e(t.conversation.turns.slice(0,-1),this.agent.slug).flatMap(r=>{let n=[];if(r.request&&n.push({role:"user",content:r.request.message}),r.response&&r.response.type==="model"){let i=FMe(r.response.references);n.push({role:"assistant",content:r.response.message,copilot_references:i.length>0?i:void 0})}return n})}async computeCopilotReferences(t){return await GMe(t)}async endTurnWithResponse(t,r){this.turn.response={type:"meta",message:t},this.turn.status=r,await this.conversationProgress.report(this.conversation,this.turn,{reply:t}),await this.endProgress()}async fetchConversationResponse(t,r,n,i,s,a){n.onCancellationRequested(async()=>{await this.cancelProgress()});let l=new RC((m,h,p,A,x)=>{let v=x?{...x,agentSlug:this.agent.slug}:void 0;this.conversationProgress.report(this.conversation,this.turn,{reply:m,annotations:h,references:p,notifications:A.map(E=>({message:E.message,severity:"warning"})),confirmationRequest:v}),this.turn.response?(this.turn.response.message=P9(this.turn.response.message,m),this.turn.response.references.push(...p)):this.turn.response={message:m,type:"model",references:p},this.turn.annotations.push(...h??[]),v&&(this.turn.confirmationRequest=v)}),c=await this.turnContext.ctx.get($r).getGitHubToken(),u={engineName:"agents",endpoint:this.agent.endpoint??this.agent.slug,messages:r,uiKind:"conversationPanel",intentParams:{intent:!0,intent_threshold:.7,intent_content:sn(this.turn.request.message)},authToken:c,copilot_thread_id:this.turn.agent?.sessionId,llmInteraction:t.toLlmInteraction()},f=await this.chatFetcher.fetchResponse(u,n,i,(m,h)=>l.isFinishedAfter(m,h));return this.ensureAgentIsAuthorized(f),await this.postProcessor.postProcess(f,n,l.appliedText,i,s.extendedBy(this.addExtensibilityInfoTelemetry()),sn(this.turn.request.message),"conversationPanel",a)}ensureAgentIsAuthorized(t){if(t.type==="agentAuthRequired")throw this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Authorization required",type:"server"},new Tj("Authorization required",t.authUrl,this.agent.slug,this.agent.name)}augmentTelemetry(t,r,n,i){return i_(this.conversation,"conversationPanel",sn(this.turn.request.message).length,t.tokens,n?.templateId,void 0,r,t.skillResolutions)}addExtensibilityInfoTelemetry(){return{extensibilityInfoJson:JSON.stringify({agent:this.agent.slug,outgoingReferences:this.turn.request.references?.map(t=>t.type)??[],incomingReferences:this.turn.response?.references?.map(t=>t.type)??[]})}}async finishGenerateResponseStep(t,r){t.error?await r.steps.error(sue,t.error.message):await r.steps.finish(sue)}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};var hR=class{constructor(t,r,n,i,s,a){this.id=t;this.slug=r;this.name=n;this.description=i;this.avatarUrl=s;this.endpoint=a}static{o(this,"RemoteAgent")}additionalSkills(){return[]}turnProcessor(t){return new mR(this,t)}},wj=class extends hR{static{o(this,"ExtensibilityPlatformAgent")}constructor(){super(0,"github","GitHub","Get answers grounded in web search, code search, and your enterprise's knowledge bases.","https://avatars.githubusercontent.com/u/9919?s=200&v=4","chat")}turnProcessor(t){return new mR(this,t)}};d();var nPt="github",Qh=class{static{o(this,"RemoteAgentRegistry")}},_j=class extends Qh{constructor(r){super();this.ctx=r;this._agents=void 0;this._lastFetchTime=0}static{o(this,"CapiRemoteAgentRegistry")}async agents(){return this.shouldRefreshAgents()&&(this._agents=await this.fetchAgents()),this._agents!=null?this._agents.slice():[]}shouldRefreshAgents(){return!this._agents||!this._lastFetchTime?!0:this.isLastFetchOlderOneHour()}isLastFetchOlderOneHour(){return Date.now()-this._lastFetchTime>36e5}async fetchAgents(){let r=await p4(this.ctx,"/agents");return r.ok?(this._lastFetchTime=Date.now(),this.parseAgents(await r.text())):(li.error(this.ctx,"Failed to fetch agents from CAPI",{status:r.status,statusText:r.statusText}),[])}parseAgents(r){let n;try{n=JSON.parse(r).agents,Array.isArray(n)||li.error(this.ctx,"Expected 'agents' to be an array")}catch(i){return r.includes("access denied")||li.warn(this.ctx,"Invalid remote agent response:",r,i),[]}return n.filter(i=>i.slug!==nPt).map(i=>new hR(i.id,i.slug,i.name,i.description,i.avatar_url))}};var aue=class{constructor(){this.slug="project";this.name="Project";this.description="Ask about your project"}static{o(this,"ProjectAgent")}additionalSkills(){return[E9]}};async function Og(e){let t=[];return t.push(new wj),t.push(...await e.get(Qh).agents()),t.push(new aue),t}o(Og,"getAgents");d();var LUe=et(nc());async function Sj(e){let t=await e.get(Bn).checkAndUpdateStatus(e);if(t.status!=="OK")throw new LUe.ResponseError(cn.NoCopilotToken,`Not authenticated: ${t.status}`)}o(Sj,"verifyAuthenticated");function fo(e){return async(t,r,n)=>(await Sj(t),e(t,r,n))}o(fo,"ensureAuthenticated");var iPt=I.Object({});async function oPt(e,t,r){return[(await Og(e)).map(s=>({slug:s.slug,name:s.name,description:s.description,avatarUrl:s.avatarUrl})),null]}o(oPt,"handleConversationAgentsChecked");var QUe=fo(st(iPt,oPt));d();d();var pR=et(nc());function sPt(e,t,r){let n=ln.createAndMarkAsIssued({languageId:String(t.detectedLanguageId),requestedDocumentVersion:String(r),actualDocumentVersion:String(t.version)});return jt(e,"getCompletions.docVersionMismatch",n)}o(sPt,"telemetryVersionMismatch");async function Mh(e,t,r){let i=e.get(Jr).getTextDocumentUnsafe(t);if(!i)throw new pR.ResponseError(cn.InvalidParams,`Document for URI could not be found: ${t.uri}`);await Sj(e);let s=await z4(e,t,i.getText());if(s.status==="invalid")throw e.get(zi).setInactive(s.reason),new pR.ResponseError(cn.CopilotNotAvailable,s.reason);if(t.version!==void 0&&i.version!==t.version)throw r?.isCancellationRequested||(sPt(e,i,t.version),T0.debug(e,`Requested document version was ${t.version} but actual document version was ${i.version}.`)),new pR.ResponseError(cn.ContentModified,"Document Version Mismatch");return i}o(Mh,"getTextDocument");async function Wg(e,t,r){let n=t.textDocument??t.doc;if(!n){await Sj(e);return}try{return await Mh(e,n,r)}catch(i){if(i instanceof pR.ResponseError&&i.code===cn.CopilotNotAvailable)return;throw i}}o(Wg,"getTextDocumentIfAvailable");var aPt=I.Union([I.Literal("keyboard"),I.Literal("toolbar")]),lPt=I.Object({turnId:Nv,codeBlockIndex:I.Number(),source:aPt,copiedCharacters:I.Number(),totalCharacters:I.Number(),copiedText:I.String(),doc:I.Optional(vj),textDocument:I.Optional(V0),position:I.Optional(xl),conversationSource:I.Optional(rm)});async function cPt(e,t,r){let n=await Wg(e,r,t),i={totalCharacters:r.totalCharacters,copiedCharacters:r.copiedCharacters},s=r.position??r.doc?.position;n&&s&&(i={...i,currentLine:s.line});let a=u5(r.conversationSource),l=await a0(e,e.get(co).findByTurnId(r.turnId),{languageId:n?.detectedLanguageId??""});return sf(e,n,{codeBlockIndex:r.codeBlockIndex.toString(),source:r.source,uiKind:a},i,`${Z0(a)}.acceptedCopy`,l),["OK",null]}o(cPt,"handleConversationCodeCopyChecked");var MUe=st(lPt,cPt);d();var uPt=I.Union([I.Literal("keyboard"),I.Literal("toolbar"),I.Literal("diff")]),fPt=I.Object({turnId:Nv,source:uPt,codeBlockIndex:I.Number(),acceptedLength:I.Optional(I.Number()),totalCharacters:I.Number(),newFile:I.Optional(I.Boolean()),doc:I.Optional(vj),textDocument:I.Optional(V0),position:I.Optional(xl),conversationSource:I.Optional(rm)});async function dPt(e,t,r){let n=await Wg(e,r,t),i={totalCharacters:r.totalCharacters,acceptedLength:r.acceptedLength??r.totalCharacters},s=r.position??r.doc?.position;n&&s&&(i={...i,insertionOffset:n.offsetAt(s),currentLine:s.line});let a=u5(r.conversationSource),l=await a0(e,e.get(co).findByTurnId(r.turnId),{languageId:n?.detectedLanguageId??""});return sf(e,n,{codeBlockIndex:r.codeBlockIndex.toString(),source:r.source,uiKind:a,compType:r.acceptedLength&&r.acceptedLength<r.totalCharacters?"partial":"full"},i,`${Z0(a)}.acceptedInsert`,l),["OK",null]}o(dPt,"handleConversationCodeInsertChecked");var OUe=st(fPt,dPt);d();d();var kj=I.Array(ya);function Rj(e){if(e.textDocument?.uri)return{uri:e.textDocument.uri,selection:e.selection,visibleRange:e.visibleRanges?.[0]}}o(Rj,"resolveAsActiveEditor");d();var UUe=et(nc());var Bj=new UUe.ProgressType,lue=class{constructor(t){this.progressToken=t}static{o(this,"WorkDoneProgressHandler")}async begin(t,r,n){await t.get(Hr).connection.sendProgress(Bj,this.progressToken,{kind:"begin",title:`Conversation ${r.id} Turn ${n.id}`,conversationId:r.id,turnId:n.id,agentSlug:n.agent?.agentSlug})}async report(t,r,n,i){await t.get(Hr).connection.sendProgress(Bj,this.progressToken,{kind:"report",conversationId:r.id,turnId:n.id,...i})}async end(t,r,n,i){await t.get(Hr).connection.sendProgress(Bj,this.progressToken,{kind:"end",conversationId:r.id,turnId:n.id,...i})}async cancel(t,r,n,i){await t.get(Hr).connection.sendProgress(Bj,this.progressToken,{kind:"end",conversationId:r.id,turnId:n.id,cancellationReason:"CancelledByUser",error:i})}};function Dj(e){return new lue(e.workDoneToken)}o(Dj,"createProgressHandler");d();d();d();d();var qUe="```",gR=String.raw`<!-- (?<mode>[\w-]+) lines? (?<start>\d+)(?: to (?<end>\d+))? -->`,mPt=String.raw`${qUe}[\w]*?\n(?<codeblock>[\s\S]*?)\n${qUe}`,hPt=new RegExp(gR+`
`+mPt,"gs"),cue=["replace","delete"];function uue(e,t){let r=e.matchAll(hPt),n=Array.from(r),i=[];for(let s of n){let a=s.groups;if(!a||!cue.includes(a.mode))continue;let l=a.start?parseInt(a.start)-1:-1,c=a.end?parseInt(a.end)-1:l,f=a.codeblock.split(`
`),m=f[0].match(/^\s*/)?.[0]??"";f.forEach((x,v)=>{f[v]=x.slice(m.length)});let h={mode:a.mode,codeblock:f.join(`
`),start:l,end:c},p=fue([h],t);if(!p)continue;let A={text:p,uri:t.uri};i.push({...h,updatedDocument:A})}return i}o(uue,"extractEditsFromTaggedCodeblocks");function fue(e,t){if(e.length===0)return;e.sort((n,i)=>n.start!==i.start?i.start-n.start:i.end-n.end);let r=t.getText().split(`
`);for(let n of e){let i=n.start,s=n.end,a=n.mode,l=n.codeblock.split(`
`);if(!(i<0||s<0||s<i)&&!(i>=r.length||s>=r.length)){if(a==="delete")r.splice(i,s-i+1);else if(a==="replace"){let c=r[i].match(/^\s*/)?.[0]??"";l.forEach((u,f)=>{l[f]=c+u}),r.splice(i,s-i+1,...l)}}}return r.join(`
`)}o(fue,"applyEditsToDocument");d();d();d();d();d();var Pj=class{static{o(this,"CodeBlock")}constructor(t,r,n){this.code=t,this.languageId=r,this.uri=n}render(){let t=y0(this.code);return[`${t}${this.languageId}`,`// ${D6} ${Mo(this.uri)}`,this.code,`${t}`]}};var zA=class{constructor(t,r,n=[]){this.textDocumentResult=t;this.range=r;this.descriptions=n;this.descriptions=n}static{o(this,"FileAttachment")}render(){if(this.textDocumentResult.status!=="valid")return[];let t=this.textDocumentResult.document,r=new Pj(t.getText(this.range),t.detectedLanguageId,t.uri),n=["<attachment>"];return n.push(...this.descriptions),n.push(...r.render()),n.push("</attachment>"),n}};var pPt=new Yt("activeEditorPrompt");async function WUe(e){let t=[],r=e.turnContext.turn.request.activeEditor;if(r){let n=await e.textDocumentProvider.getByUri(r.uri);if(n.status==="valid")if(r.selection&&gPt(r.selection)){let i=new zA(n,r.selection,["User's active selection, this should be the main focus:",`Excerpt from ${Di(r.uri)}, lines ${r.selection.start.line+1} to ${r.selection.end.line+1}:`]);t.push(...i.render());let s=new zA(n,void 0,["User's active file for additional context:"]);t.push(...s.render())}else if(r.visibleRange){let i=new zA(n,r.visibleRange,["User's current visible code:",`Excerpt from ${Di(r.uri)}, lines ${r.visibleRange.start.line+1} to ${r.visibleRange.end.line+1}:`]);t.push(...i.render())}else{let i=new zA(n,void 0,["User's active file for additional context:"]);t.push(...i.render())}else pPt.warn(e.context,`Failed to read file in active editor ${r.uri} with status ${n.status} and reason ${n.status==="notfound"?n.message:n.reason}`)}return t}o(WUe,"processActiveEditor");function gPt(e){return e.start.line!==e.end.line||e.start.character!==e.end.character}o(gPt,"notEmptySelection");var APt=new Yt("fileReferencesPrompt");async function GUe(e){let t=e.turnContext.turn.request.references?.filter(s=>s.type==="file")||[];if(t.length===0&&!e.turnContext.turn.request.activeEditor)return[];let[r,n]=await Promise.all([Promise.all(t.map(async s=>{let a=[],l=await e.textDocumentProvider.getByUri(s.uri);if(l.status==="valid"){let c=new zA(l,void 0,[]);c&&a.push(...c.render())}else APt.warn(e.context,`Failed to read file ${s.uri} with status ${l.status} and reason ${l.status==="notfound"?l.message:l.reason}`);return a})),WUe(e)]),i=r.flat();return i.length>0||n.length>0?["<attachments>",...i,...n,"</attachments>"]:[]}o(GUe,"processFileReferences");d();d();function HUe(e){return e.reduce((r,n)=>r+n.value.length,0)+Math.max(0,e.length-1)}o(HUe,"partsLength");async function VUe(e,t=1/0,r){let n=jUe(0,e,t),i=t-HUe(n);for(;;){let s=!1,a=[];for(let l of n)if(l.type==="text")a.push(l);else if(l.type==="dir"){a.push({type:"text",uri:l.uri,value:l.value});let c=await l.getChildren();if(r?.isCancellationRequested)return yPt();let u=jUe(l.level+1,c,i-1);u.length&&(s=!0,i-=HUe(u)+1,a.push(...u))}if(n=a,!s)break}return{files:n.map(s=>s.uri).filter(s=>s!==void 0),tree:n.map(s=>s.value).join(`
`)}}o(VUe,"visualFileTree");function jUe(e,t,r){let n="	".repeat(e),i=[],s=r;for(let a=0;a<t.length;++a){let l=t[a],c=n+l.name+(l.type===2?"/":"");if(c.length>s){let u=n+"...";for(;u.length>s&&i.length>0;)s+=i.pop().value.length+1;u.length<=s&&i.push({type:"text",uri:void 0,value:u});break}l.type===2?i.push({type:"dir",uri:l.uri,level:e,value:c,getChildren:l.getChildren}):i.push({type:"text",uri:l.uri,value:c}),s-=c.length,a!==t.length-1&&(s-=1)}return i}o(jUe,"toParts");var yPt=o(()=>({tree:"",files:[]}),"emptyTree");async function $Ue(e,t,r,n){let i=await CPt(e,t,r,n);if(!i.length)return"";let s;if(i.length===1)s=i[0].tree.tree;else{s="";for(let{label:l,tree:c}of i){s+=`${l}/
`;for(let u of c.tree.split(`
`))s+=`	${u}
`}}let a=y0(s);return["I am working in a workspace that has the following structure:",a,s,a,"This view of the workspace structure may be truncated. You can use tools to collect more context if needed."].join(`
`)}o($Ue,"generateWorkspaceStructurePrompt");async function CPt(e,t,r,n){return t.length?Promise.all(t.map(async i=>{let s=i.name,a=await VUe(await zUe(e,i.uri,r,n),r.maxLength/t.length,n);return{label:s,tree:a}})):[]}o(CPt,"generateWorkspaceStructure");async function zUe(e,t,r,n){if(n.isCancellationRequested)return[];let i;try{i=await e.get(Io).readDirectory(t)}catch{return[]}return n.isCancellationRequested?[]:(i.sort((s,a)=>s[1]===a[1]?s[0].localeCompare(a[0]):s[1]===2?1:-1),Promise.all(i.map(([s,a])=>{let l=Fo(t,s);return r.excludeDotFiles&&s.startsWith(".")||bPt(l)?null:a===2?{type:2,uri:l,name:s,getChildren:o(()=>zUe(e,l,r,n),"getChildren")}:{type:1,uri:l,name:s}})).then(s=>s.filter(a=>a!=null)))}o(zUe,"buildFileList");var xPt=["node_modules","venv","out","dist",".git",".yarn",".npm",".venv","foo.asar",".vscode-test"],vPt=[".ds_store","thumbs.db","package-lock.json","yarn.lock",".cache"];function bPt(e){return!!(vPt.includes(Di(e).toLowerCase())||Mo(e)?.toLowerCase()?.split(/[/\\]/g)?.some(r=>xPt.includes(r)))}o(bPt,"shouldAlwaysIgnoreFile");var Fj=class{constructor(t,r){this._toolsService=t;this.props=r;this.toolCalls=[];this.ctx=r.turnContext.ctx}static{o(this,"EditAgentPrompt")}async render(t){let r=[{role:"system",content:this.buildSystemMessage().join(`
`)},{role:"system",content:this.buildDefaultAgentPrompt().join(`
`)},{role:"user",content:(await this.buildUserPrompt(this.props.userMessage,t)).join(`
`)},...this.toolCalls];return this.toolCalls.length&&r.push({role:"user",content:"Above is the result of calling one or more tools. The user cannot see the results, so you should explain them to the user if referencing them in your answer. Continue from where you left off without repeating yourself."}),r}addToolCallModelResponse(t,r){this.toolCalls.push({role:"assistant",content:t,tool_calls:r})}addToolCallResult(t,r){let n="";switch(t.status){case"error":n="Tool call failed with error: ";break;case"cancelled":n="Tool call is cancelled with result: ";break;default:case"success":n=""}let i=n+_W(t.content);this.toolCalls.push({role:"tool",content:i,tool_call_id:r})}buildSystemMessage(){let t=[];return t.push("You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal."),t}buildDefaultAgentPrompt(){let t=this._toolsService.getToolMapForModel().get("get_errors")!==void 0,r=this._toolsService.getToolMapForModel().get("run_in_terminal")!==void 0,n=this._toolsService.getToolMapForModel().get("replace_string_in_file")!==void 0,i=this._toolsService.getToolMapForModel().get("update_user_preferences")!==void 0,s=[];return s.push("<instructions>"),s.push("You are a highly sophisticated automated coding agent with expert-level knowledge across many different programming languages and frameworks."),s.push("The user will ask a question, or ask you to perform a task, and it may require lots of research to answer correctly. There is a selection of tools that let you perform actions or retrieve helpful context to answer the user's question."),s.push("If you can infer the project type (languages, frameworks, and libraries) from the user's query or the context that you have, make sure to keep them in mind when making changes."),s.push("If the user wants you to implement a feature and they have not specified the files to edit, first break down the user's request into smaller concepts and think about the kinds of files you need to grasp each concept."),s.push("If you aren't sure which tool is relevant, you can call multiple tools. You can call tools repeatedly to take actions or gather as much context as needed until you have completed the task fully. Don't give up unless you are sure the request cannot be fulfilled with the tools you have. It's YOUR RESPONSIBILITY to make sure that you have done all you can to collect necessary context."),s.push("Prefer using the semantic_search tool to search for context unless you know the exact string or filename pattern you're searching for."),s.push("Don't make assumptions about the situation-gather context first, then perform the task or answer the question."),s.push("Think creatively and explore the workspace in order to make a complete fix."),s.push("Don't repeat yourself after a tool call, pick up where you left off."),s.push(`NEVER print out a codeblock with file changes unless the user asked for it. Use the insert_edit_into_file ${n?"or replace_string_in_file":""} tool instead.`),r&&s.push("NEVER print out a codeblock with a terminal command to run unless the user asked for it. Use the run_in_terminal tool instead."),s.push("You don't need to read a file if it's already provided in context."),s.push("</instructions>"),s.push("<toolUseInstructions>"),s.push("When using a tool, follow the json schema very carefully and make sure to include ALL required properties."),s.push("Always output valid JSON when using a tool."),s.push("If a tool exists to do a task, use the tool instead of asking the user to manually take an action."),s.push("If you say that you will take an action, then go ahead and use the tool to do it. No need to ask permission."),s.push("Never use multi_tool_use.parallel or any tool that does not exist. Use tools using the proper procedure, DO NOT write out a json codeblock with the tool inputs."),s.push("Never say the name of a tool to a user."),s.push(`For example, instead of saying that you'll use the run_in_terminal tool, say "I'll run the command in a terminal".`),s.push("If you think running multiple tools can answer the user's question, prefer calling them in parallel whenever possible, but do not call semantic_search in parallel."),s.push("If semantic_search returns the full contents of the text files in the workspace, you have all the workspace context."),r&&s.push("Don't call the run_in_terminal tool multiple times in parallel. Instead, run one command and wait for the output before running the next command."),i&&s.push("After you have performed the user's task, if the user corrected something you did, expressed a coding preference, or communicated a fact that you need to remember, use the update_user_preferences tool to save their preferences."),s.push("</toolUseInstructions>"),s.push("<editFileInstructions>"),n?(s.push("Before you edit an existing file, make sure you either already have it in the provided context, or read it with the read_file tool, so that you can make proper changes."),s.push("Use the replace_string_in_file tool to replace a string in a file, but only if you are sure that the string is unique enough to not cause any issues. You can use this tool multiple times per file."),s.push("Use the insert_edit_into_file tool to insert code into a file."),s.push("When editing files, group your changes by file."),s.push("NEVER show the changes to the user, just call the tool, and the edits will be applied and shown to the user."),s.push("NEVER print a codeblock that represents a change to a file, use insert_edit_into_file or replace_string_in_file instead."),s.push("For each file, give a short description of what needs to be changed, then use the replace_string_in_file or insert_edit_into_file tools. You can use any tool multiple times in a response, and you can keep writing text after using a tool.")):(s.push("Don't try to edit an existing file without reading it first, so you can make changes properly."),s.push("Use the insert_edit_into_file tool to edit files. When editing files, group your changes by file."),s.push("NEVER show the changes to the user, just call the tool, and the edits will be applied and shown to the user."),s.push(`NEVER print a codeblock that represents a change to a file, use insert_edit_into_file ${n?"or replace_string_in_file":""} instead.`),s.push(`For each file, give a short description of what needs to be changed, then use the ${n?"replace_string_in_file or":""} insert_edit_into_file tool. You can use any tool multiple times in a response, and you can keep writing text after using a tool.`)),s.push(`Follow best practices when editing files. If a popular external library exists to solve a problem, use it and properly install the package e.g. ${r?'with "npm install" or ':""}creating a "requirements.txt".`),t&&s.push("After editing a file, you MUST call get_errors to validate the change. Fix the errors if they are relevant to your change or the prompt, and remember to validate that they were actually fixed."),s.push("The insert_edit_into_file tool is very smart and can understand how to apply your edits to the user's files, you just need to provide minimal hints."),s.push("When you use the insert_edit_into_file tool, avoid repeating existing code, instead use comments to represent regions of unchanged code. The tool prefers that you are as concise as possible. For example:"),s.push(`// ${Ll}`),s.push("changed code"),s.push(`// ${Ll}`),s.push("changed code"),s.push(`// ${Ll}`),s.push(""),s.push("Here is an example of how you should format an edit to an existing Person class:"),s.push("class Person {"),s.push(`	// ${Ll}`),s.push("	age: number;"),s.push(`	// ${Ll}`),s.push("	getAge() {"),s.push("		return this.age;"),s.push("	}"),s.push("}"),s.push("</editFileInstructions>"),s}async buildUserPrompt(t,r){let n=this._toolsService.getToolMapForModel().get("replace_string_in_file")!==void 0,i=[],s=await GUe({turnContext:this.props.turnContext,textDocumentProvider:this.props.textDocumentProvider,context:this.ctx});return s.length>0&&i.push(...s),i.push("<context>"),i.push(`${this.getCurrentDate()}`),i.push(`${this.getUserOS()}`),i.push(`${this.getWorkspaceFoldersHint()}`),i.push(`${await this.getWorkspaceStructureHint(r)}`),i.push("</context>"),i.push("<reminder>"),i.push(`When using the insert_edit_into_file tool, avoid repeating existing code, instead use a line comment with \`${Ll}\` to represent regions of unchanged code.`),n&&i.push("When using the replace_string_in_file tool, include 3-5 lines of unchanged code before and after the string you want to replace, to make it unambiguous which part of the file should be edited."),i.push("</reminder>"),i.push("<prompt>"),i.push(t),i.push("</prompt>"),i}getWorkspaceFoldersHint(){return this.props.workspaceFolders&&this.props.workspaceFolders.length>0?`I am working in a workspace with the following folders:
${this.props.workspaceFolders.map(r=>` - ${Mo(r.uri)}`).join(`
`)}`:"There is no workspace currently open."}async getWorkspaceStructureHint(t){return this.props.workspaceFolders?await $Ue(this.props.turnContext.ctx,this.props.workspaceFolders,{maxLength:2e3,excludeDotFiles:!0},t):""}getCurrentDate(){return`The current date is ${new Date().toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}.`}getUserOS(){let t=process.platform;return`My current OS is: ${t==="win32"?"Windows":t==="darwin"?"macOS":t==="linux"?"Linux":"Unknown"}`}};var EPt=15,Nj=class e{constructor(t,r,n){this.turnContext=t;this.chatFetcher=r;this.modelConfiguration=n;this.toolCallRounds=[];this.conversationProgress=t.ctx.get($s),this.conversation=t.conversation,this.turn=t.turn,this.toolsService=t.ctx.get(v0),this.prompt=new Fj(this.toolsService,{turnContext:this.turnContext,userMessage:sn(this.turnContext.turn.request.message),workspaceFolders:this.turnContext.turn.workspaceFolders,textDocumentProvider:new yg(this.turnContext.ctx)}),this.requestId=Ir()}static{o(this,"ToolCallingLoop")}static{this.NextToolCallId=Date.now()}async run(t){let r=0,n;for(;;){if(t.isCancellationRequested||n&&r++>=EPt)return;let i=await this.runOne(r,t);if(n={...i},this.toolCallRounds.push(i.round),!i.round.toolCalls.length||i.response.type!=="success"&&i.response.type!=="tool_calls")return}}async runOne(t,r){let n=await this.prompt.render(r),i=[],s="",a=new RC((f,m,h,p)=>{let A=f.trim().match(gR)!==null;this.conversationProgress.report(this.conversation,this.turn,{annotations:m,references:h,hideText:A,notifications:p.map(x=>({severity:"warning",message:x.message})),editAgentRounds:[{roundId:t,reply:f}]}),this.turn.response?this.turn.response.message=P9(this.turn.response.message,f):this.turn.response={message:f,type:"model"},this.turn.annotations.push(...m??[]),s+=f}),l=await this.turnContext.ctx.get(xr).updateExPValuesAndAssignments();l.properties.requestId=this.requestId;let c=this.toolsService.getToolsForModel(),u=await this.chatFetcher.fetchResponse({messages:n,modelConfiguration:this.modelConfiguration,uiKind:"conversationPanel",tools:this.getAvailableChatTools(c),intentParams:{intent:!0},llmInteraction:this.turnContext.toLlmInteraction()},r,l,(f,m)=>a.isFinishedAfter(f,m));if(u.type==="success")return{response:u,round:{response:u.value,toolInputRetry:0,toolCalls:i}};if(u.type==="tool_calls"){let f=u.toolCalls.map(m=>{if(!m.id){let h=`cls_${e.NextToolCallId++}`;m.id=h}return m});this.prompt.addToolCallModelResponse(s,f);for(let m of f){if(!m.id)throw new Error(`Tool call id is required but was not provided for function ${m.function.name}`);let h=this.findLanguageModelByName(c,m.function.name);if(h){let p=sC(m),A=this.toolsService.prepareInvocation(h.id,{input:p},r),x=!0,v=this.turnContext.turn.needToolCallConfirmation!==void 0?this.turnContext.turn.needToolCallConfirmation:!1;if(A.confirmationMessages&&v&&(x=(await this.toolsService.invokeToolConfirmation(this.turnContext,h.id,{title:A.confirmationMessages.title,message:A.confirmationMessages.message,input:p,roundId:t,toolCallId:m.id},r)).result==="accept"),x){await this.turnContext.agentToolCalls.start(t,m.id,h.name,A.progressMessage||`Running ${h.displayName} tool`);let E=await this.toolsService.invokeTool(this.turnContext,h.id,{toolInvocationToken:m.id,input:p,roundId:t,toolCallId:m.id},r);this.prompt.addToolCallResult(E,m.id),await this.turnContext.agentToolCalls.finish(t,m.id)}else{let E={content:JSON.stringify({message:"Tool invocation was dismissed by the user"})},b=new vo([new xo(E.content)],"cancelled");this.prompt.addToolCallResult(b,m.id)}}}return{response:u,round:{response:s,toolInputRetry:0,toolCalls:f.map(m=>({id:m.id,name:m.function.name,arguments:JSON.stringify(m.function.arguments)}))}}}return{response:u,round:{response:"",toolInputRetry:0,toolCalls:i}}}getAvailableChatTools(t){return t.map(r=>({type:"function",function:{name:r.nameForModel,description:r.description,parameters:r.inputSchema}}))}findLanguageModelByName(t,r){return t.find(n=>n.nameForModel===r)}getToolCallErrorPrefix(){}};var Lj=class{constructor(t,r){this.turnContext=t;this.chatFetcher=r;this.conversationProgress=t.ctx.get($s),this.chatFetcher=this.chatFetcher??new ka(t.ctx),this.conversation=t.conversation,this.turn=t.turn}static{o(this,"AgenticTurnProcessor")}async process(t,r,n,i,s){try{await this.processWithModelAndToolCall(t,r,this.turnContext,n,i,s)}catch(a){Zr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,a);let l=a instanceof Error?a.message:String(a);this.turn.status="error",this.turn.response={message:l,type:"meta"},await this.endProgress({error:{message:l,responseIsIncomplete:!0}})}}async processWithModelAndToolCall(t,r,n,i,s,a){if(await this.conversationProgress.begin(this.conversation,this.turn,t),r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let l=await vh.getModelConfiguration(this.turnContext.ctx,"edits",a);await new Nj(this.turnContext,this.chatFetcher,l).run(r),await this.endProgress({})}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};d();var due="collect-context",mue="generate-response",Qj=class{constructor(t,r,n){this.turnContext=t;this.strategy=r;this.chatFetcher=n;this.conversationProgress=t.ctx.get($s),this.chatFetcher=this.chatFetcher??new ka(t.ctx),this.postProcessor=new B9(t,this.chatFetcher,r.computeSuggestions),this.conversation=t.conversation,this.turn=t.turn}static{o(this,"ModelTurnProcessor")}async process(t,r,n,i,s){try{await this.processWithModel(t,r,this.turnContext,n,i,s)}catch(a){Zr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,a);let l=a instanceof Error?a.message:String(a);this.turn.status="error",this.turn.response={message:l,type:"meta"},await this.endProgress({error:{message:l,responseIsIncomplete:!0}})}}async processWithModel(t,r,n,i,s,a){await this.conversationProgress.begin(this.conversation,this.turn,t);let l=await a0(this.turnContext.ctx,this.turnContext,{languageId:s?.detectedLanguageId??""});if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let c=iR().find(h=>h.id===this.turn.template?.templateId);if(c?.response){await this.handleTemplateResponse(c,this.turn.template.userQuestion,r);return}let u=(await Og(this.turnContext.ctx)).find(h=>h.slug===this.turn.agent?.agentSlug);if(u){let h=await this.checkAgentPreconditions(u);if(h){await this.endProgress(h);return}}await n.steps.start(due,"Collecting context"),await this.collectContext(n,r,l,this.strategy.uiKind,c,u);let f=a?(await this.turnContext.ctx.get(ui).getBestChatModelConfig([a])).uiName:void 0,m=await this.strategy.buildConversationPrompt(n,s?.detectedLanguageId??"",void 0,f);if(!m)await n.steps.error(due,"Failed to collect context"),await this.endTurnWithResponse(this.strategy.earlyReturnResponse,"error");else{await n.steps.finish(due),await n.steps.start(mue,"Generating response");let h=this.augmentTelemetry(m,l,c,i,s);if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let p=await this.fetchConversationResponse(m.messages,r,l.extendedBy({messageSource:"chat.user"},{promptTokenLen:m.tokens}),h,s,a),A=await this.strategy.processResponse(this.turn);this.turn.status==="cancelled"&&this.turn.response?.type==="user"?await this.cancelProgress():(await this.finishGenerateResponseStep(p,n),await this.endProgress({error:p.error,followUp:p.followup,suggestedTitle:p.suggestedTitle,skillResolutions:m.skillResolutions,updatedDocuments:A}))}}async checkAgentPreconditions(t){try{let r=t.checkPreconditions?await t.checkPreconditions(this.turnContext.ctx,this.turn):void 0;if(r&&r.type==="authorizationRequired")return{unauthorized:{...r,agentName:t.name,agentSlug:t.slug}}}catch(r){Zr.error(this.turnContext.ctx,`Error checking preconditions for agent ${t.slug}`,r);let n=r instanceof Error?r.message:String(r);return this.turn.status="error",this.turn.response={message:n,type:"meta"},{error:{message:n,responseIsIncomplete:!0}}}}async endTurnWithResponse(t,r){this.turn.response={type:"meta",message:t},this.turn.status=r,await this.conversationProgress.report(this.conversation,this.turn,{reply:t}),await this.endProgress()}async handleTemplateResponse(t,r,n){if(!t.response)return;let i=await t.response(this.turnContext,r,n);this.turn.response={type:"meta",message:i.message},this.turn.status=i.error?.responseIsFiltered?"filtered":i.error?.responseIsIncomplete?"error":"success",i.error?.responseIsFiltered||i.error?.responseIsIncomplete?(await this.conversationProgress.report(this.conversation,this.turn,{reply:"Sure, I can definitely do that!",annotations:i.annotations,notifications:i.notifications,references:i.references}),await this.turnContext.steps.finishAll(),await this.endProgress({error:{message:i.message,code:i.error?.code||0,responseIsIncomplete:i.error?.responseIsIncomplete,responseIsFiltered:i.error?.responseIsFiltered}})):(await this.conversationProgress.report(this.conversation,this.turn,{reply:i.message,annotations:i.annotations,notifications:i.notifications,references:i.references,confirmationRequest:i.confirmationRequest}),await this.endProgress())}async collectContext(t,r,n,i,s,a){let c=await new sj(this.turnContext.ctx,this.chatFetcher).collectContext(t,r,n,i,s,a);return this.turn.skills=c.skillIds.map(u=>({skillId:u})),c}async fetchConversationResponse(t,r,n,i,s,a){r.onCancellationRequested(async()=>{await this.cancelProgress()});let l="",c=0,u=new RC((p,A,x,v)=>{let E=p.trim().match(gR)!==null;if(this.conversationProgress.report(this.conversation,this.turn,{reply:p,annotations:A,references:x,hideText:E,notifications:v.map(b=>({severity:"warning",message:b.message}))}),this.turn.response?this.turn.response.message=P9(this.turn.response.message,p):this.turn.response={message:p,type:"model"},this.turn.annotations.push(...A??[]),l+=p,this.strategy.currentDocument){let b=this.strategy.extractEditsFromResponse(l,this.strategy.currentDocument);b&&b.length>0&&(l="",this.conversationProgress.report(this.conversation,this.turn,{codeEdits:b}),c+=b.length)}}),f=await vh.getModelConfiguration(this.turnContext.ctx,"user",a);t=vh.transformMessages(t,f.modelFamily);let m={modelConfiguration:f,messages:t,uiKind:this.strategy.uiKind,intentParams:{intent:!0,intent_threshold:.7,intent_content:sn(this.turn.request.message)},llmInteraction:this.turnContext.toLlmInteraction()},h=await this.chatFetcher.fetchResponse(m,r,n,(p,A)=>u.isFinishedAfter(p,A));return i=i.extendedBy(void 0,{numCodeEdits:c}),await this.postProcessor.postProcess(h,r,u.appliedText,n,i,sn(this.turn.request.message),this.strategy.uiKind,s)}augmentTelemetry(t,r,n,i,s){let a;return i?(this.turn.request.type="follow-up",ove(this.turnContext.ctx,this.conversation,this.strategy.uiKind,sn(this.turn.request.message),t.tokens,i.type,i.id,s,r),a=i_(this.conversation,this.strategy.uiKind,sn(this.turn.request.message).length,t.tokens,i.type,i.id,r,t.skillResolutions)):a=i_(this.conversation,this.strategy.uiKind,sn(this.turn.request.message).length,t.tokens,n?.id,void 0,r,t.skillResolutions),a}async finishGenerateResponseStep(t,r){t.error?await r.steps.error(mue,t.error.message):await r.steps.finish(mue)}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};d();var Mj=class{constructor(t){this.ctx=t;this.earlyReturnResponse="Oops, an error has occurred. Please try again";this.uiKind="conversationPanel";this.computeSuggestions=!0}static{o(this,"PanelTurnProcessorStrategy")}processResponse(){return[]}async buildConversationPrompt(t,r,n,i){let s="user",a=await t.ctx.get(ui).getBestChatModelConfig(ms(s)),l={promptType:s,modelConfiguration:a,languageId:r,userSelectedModelName:i};return await this.ctx.get(hc).toPrompt(t,l)}extractEditsFromResponse(t,r){return[]}},Oj=class{constructor(t){this.ctx=t;this.earlyReturnResponse="Please open a file and select code for the inline chat to be available";this.uiKind="conversationInline";this.computeSuggestions=!1}static{o(this,"InlineTurnProcessorStrategy")}async buildConversationPrompt(t,r,n){let i=await this.getCurrentEditorSkill(t);if(!i)return;let s=await this.getDocumentIfValid(i.uri);if(!s)return;let a=n?.producesCodeEdits===!1?"user":"inline",l=await t.ctx.get(ui).getBestChatModelConfig(ms(a)),c={promptType:a,modelConfiguration:l,languageId:r};return c.promptType==="inline"&&(this.currentDocument=s),await this.ctx.get(hc).toPrompt(t,c)}async processResponse(t){let r=[],n=sn(t.response?.message??"");if(n&&t.status==="success"&&this.currentDocument){let i=await this.processInlineResponse(n,this.currentDocument);i&&r.push(i)}return r}async getCurrentEditorSkill(t){let r=await t.skillResolver.resolve(Hc);if(r)return r}async getDocumentIfValid(t){let r=await this.ctx.get(Pn).getOrReadTextDocument({uri:t});if(r.status==="valid")return r.document}async processInlineResponse(t,r){let i=uue(t,r).filter(a=>cue.includes(a.mode)),s=fue(i,r);if(s)return await this.ctx.get(Za).documentDiff({original:r.getText(),updated:s}),{uri:r.uri,text:s}}extractEditsFromResponse(t,r){return uue(t,r)}};d();d();var YUe=et(nc()),KUe=et(Xm());var w0=class{constructor(t,r,n){this.ctx=t;this.skillId=r;this.requestType=new YUe.ProtocolRequestType("conversation/context");this.typeCheck=ds.Compile(n)}static{o(this,"AgentSkillResolver")}async resolveSkill(t){let r=this.ctx.get(Hr).connection,n={conversationId:t.conversation.id,turnId:t.turn.id,skillId:this.skillId},i;try{let s=await r.sendRequest(this.requestType,n),[a,l]=s;if(l){let c=new KUe.ResponseError(l.code,l.message,l.data);Zr.error(this.ctx,`ResponseError while resolving skill ${this.skillId}`,c);return}i=a}catch(s){Zr.error(this.ctx,`Error while resolving skill ${this.skillId}`,s);return}if(i!=null){if(!this.typeCheck.Check(i))throw new dc(this.typeCheck.Errors(i));return i}}};var hue=class{constructor(t,r,n="",i="",s=[],a=[]){this.progressToken=t;this.chunks=r;this.followUp=n;this.suggestedTitle=i;this.skills=s;this.references=a}static{o(this,"SyntheticTurn")}},YA=class{constructor(){this.turns=[]}static{o(this,"SyntheticTurns")}add(t,r,n="",i="",s=[],a=[]){let l=new hue(t,r,n,i,s,a);return this.turns.push(l),l}get(t){return this.turns.find(r=>r.progressToken===t)}},Uj=class{constructor(t,r){this.turnContext=t;this.syntheticTurn=r;this.conversationProgress=t.ctx.get($s)}static{o(this,"SyntheticTurnProcessor")}async process(t,r){try{await this.processWithSyntheticTurns(this.syntheticTurn,t,r)}catch(n){Zr.error(this.turnContext.ctx,`Error processing turn ${this.turnContext.turn.id}`,n);let i=n.message;this.turnContext.turn.status="error",this.turnContext.turn.response={message:i,type:"meta"},await this.conversationProgress.end(this.turnContext.conversation,this.turnContext.turn,{error:{message:i,responseIsIncomplete:!0}})}}async processWithSyntheticTurns(t,r,n){await this.conversationProgress.begin(this.turnContext.conversation,this.turnContext.turn,r),await this.resolveSyntheticSkill(t,n),await this.processSyntheticChunks(t,n),await this.endSyntheticProgress(t,n),this.turnContext.turn.response={type:"model",message:t.chunks.join("")},this.turnContext.turn.status=n.isCancellationRequested?"cancelled":"success"}async resolveSyntheticSkill(t,r){let n=this.turnContext.ctx.get(co).getCapabilities(this.turnContext.conversation.id),i=t.skills.filter(s=>n.skills.includes(s));for(let s of i){let l=await new w0(this.turnContext.ctx,s,I.Object({value:I.String()})).resolveSkill(this.turnContext);l&&!r.isCancellationRequested&&await this.conversationProgress.report(this.turnContext.conversation,this.turnContext.turn,{reply:l.value})}}async processSyntheticChunks(t,r){for(let n of t.chunks)r.isCancellationRequested||(await this.conversationProgress.report(this.turnContext.conversation,this.turnContext.turn,{reply:n}),await H4(1))}async endSyntheticProgress(t,r){r.isCancellationRequested?await this.conversationProgress.cancel(this.turnContext.conversation,this.turnContext.turn):await this.conversationProgress.end(this.turnContext.conversation,this.turnContext.turn,{followUp:{message:t.followUp,type:"followup",id:Ir()},suggestedTitle:t.suggestedTitle,updatedDocuments:this.turnContext.conversation.source==="inline"?[{uri:"fakeUpdatedDoc.ts",text:"fake"}]:void 0})}};var KA=class{static{o(this,"TurnProcessorFactory")}async createProcessor(t,r,n){let i=t.ctx.get(YA).get(r);if(i)return new Uj(t,i);let a=(await Og(t.ctx)).find(c=>c.slug===t.turn.agent?.agentSlug);if(a?.turnProcessor)return a.turnProcessor(t);let l;return t.conversation.source==="inline"?l=new Oj(t.ctx):l=new Mj(t.ctx),t.turn.chatMode==="Agent"?new Lj(t):(n!==void 0&&(l.computeSuggestions=n),new Qj(t,l))}};d();function qj(e){if(e&&e.uri.length>0)return[{uri:e.uri,name:Di(e.uri)}]}o(qj,"resolveAsWorkspaceFolders");d();d();var IPt=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),Iu=class{constructor(t){this.tokens=[];this.handlers=[];this._isCancelled=!1;this.onCancellationRequested=o((t,r)=>this._isCancelled?IPt(t,r):(this.handlers.push(t.bind(r)),{dispose:o(()=>{},"dispose")}),"onCancellationRequested");this.tokens=t,this._isCancelled=t.some(r=>r.isCancellationRequested),t.forEach(r=>{r.onCancellationRequested(n=>this.cancel(n))})}static{o(this,"MergedToken")}cancel(t){this._isCancelled||(this._isCancelled=!0,this.handlers.forEach(r=>r(t)))}get isCancellationRequested(){return this.tokens.some(t=>t.isCancellationRequested)}};var _0=class{constructor(){this.tokens=new In(250)}static{o(this,"ProgressTokens")}add(t,r){let n=new Hn.CancellationTokenSource,i=new Iu([r,n.token]);return this.tokens.set(t.toString(),n),i}cancel(t){let r=this.tokens.get(t.toString());r&&(r.cancel(),this.tokens.delete(t.toString()))}};var TPt=I.Object({conversationId:I.Optional(xj),workDoneToken:I.Union([I.String(),I.Number()]),turns:I.Array(FUe,{minItems:1}),capabilities:I.Object({allSkills:I.Optional(I.Boolean()),skills:I.Array(I.String())}),doc:I.Optional(V0),textDocument:I.Optional(V0),selection:I.Optional(ya),visibleRanges:I.Optional(kj),computeSuggestions:I.Optional(I.Boolean()),references:I.Optional(I.Array(D9)),source:I.Optional(rm),workspaceFolder:I.Optional(I.String()),workspaceFolders:I.Optional(I.Array(Ij)),ignoredSkills:I.Optional(I.Array(I.String())),userLanguage:I.Optional(I.String()),model:I.Optional(I.String()),chatMode:I.Optional(Ej),needToolCallConfirmation:I.Optional(I.Boolean())});async function wPt(e,t,r){let n=await Wg(e,r,t);r.capabilities.allSkills&&(r.capabilities.skills=e.get(Xa).getDescriptors().map(f=>f.id));let i=e.get(co).create(r.capabilities,r);await _Pt(e,i,r,n);let s=i.turns[i.turns.length-1],a=Dj(r),l=e.get(_0).add(a.progressToken,t),c=new R9(e,i,s,l);return await(await e.get(KA).createProcessor(c,a.progressToken,r.computeSuggestions)).process(a,l,void 0,n,r.model),[{conversationId:i.id,turnId:s.id,agentSlug:s.agent?.agentSlug,modelFamily:r.model},null]}o(wPt,"handleConversationCreateChecked");async function _Pt(e,t,r,n){for(let i of r.turns){let s=bj(i.request),a=new v9({message:s,type:"user"},i.turnId);i.response&&(a.response={message:i.response,type:"model"}),i.agentSlug&&(a.agent={agentSlug:i.agentSlug}),a.chatMode=IH(r.chatMode),a.needToolCallConfirmation=r.needToolCallConfirmation;let l=r.workspaceFolder?{uri:r.workspaceFolder}:void 0,c=r.workspaceFolders&&r.workspaceFolders.length>0?r.workspaceFolders:qj(l),u=Rj({textDocument:n,selection:r.selection,visibleRanges:r.visibleRanges});await e.get(co).addTurn(t.id,a,r.references,u,l,c,r.ignoredSkills,void 0)}}o(_Pt,"addTurns");var JUe=st(TPt,wPt);d();var SPt=I.Object({conversationId:I.String()});function kPt(e,t,r){return e.get(co).destroy(r.conversationId),["OK",null]}o(kPt,"handleConversationDestroyChecked");var ZUe=fo(st(SPt,kPt));d();var RPt=I.Object({});function BPt(e,t,r){return[{path:e.get(fc).directory},null]}o(BPt,"handleConversationPersistenceChecked");var XUe=fo(st(RPt,BPt));d();d();var tqe=et(require("node:events"));var pue=class{static{o(this,"TokenPreconditionCheck")}async check(t){let r=await t.get(Bn).getAuthRecord(),n=t.get(Xs),i=n.fallbackAppId();return r&&r.githubAppId&&r.githubAppId!==i?{type:"token",status:"ok"}:{type:"token",status:"failed",githubAppId:n.githubAppId}}},gue=class{static{o(this,"ChatEnabledPreconditionCheck")}async check(t){return{type:"chat_enabled",status:(await t.get($r).getToken()).envelope.chat_enabled?"ok":"failed"}}},DPt=[new pue,new gue],eqe="onPreconditionsChanged",nm=class{constructor(t,r=DPt){this.ctx=t;this.checks=r;this.emitter=new tqe.default;Ca(t,async()=>{await this.check()})}static{o(this,"PreconditionsCheck")}check(t){return t&&(this.result=void 0),this.result===void 0&&(this.result=this.requestChecks()),this.result}async requestChecks(){let t=[];this.checks.length>0&&(t=await Promise.all(this.checks.map(i=>i.check(this.ctx))));let r=t.every(i=>i.status==="ok")?"ok":"failed",n={results:t,status:r};return this.emit(n),n}onChange(t){this.emitter.on(eqe,t)}emit(t){this.emitter.emit(eqe,t)}};var PPt=I.Object({forceCheck:I.Optional(I.Boolean())});async function FPt(e,t,r){let n=r.forceCheck??!1;return[await e.get(nm).check(n),null]}o(FPt,"handleConversationPreconditionsChecked");var rqe=fo(st(PPt,FPt));d();var NPt=I.Object({turnId:I.String(),rating:I.Number(),doc:I.Optional(V0),textDocument:I.Optional(V0),source:I.Optional(rm)});async function LPt(e,t,r){let n=await Wg(e,r,t),i=u5(r.source),s="unrated";r.rating>0?s="positive":r.rating<0&&(s="negative");let a=await a0(e,e.get(co).findByTurnId(r.turnId),{languageId:n?.detectedLanguageId??""});return sf(e,n,{rating:s,uiKind:i},{},`${Z0(i)}.messageRating`,a),["OK",null]}o(LPt,"handleConversationRatingChecked");var nqe=st(NPt,LPt);d();d();var Wj=class extends pC{static{o(this,"ClientLanguageModelTool")}constructor(t){super({...t,toolProvider:Eg,type:"client"}),this.confirmationMessages=t.confirmationMessages}prepareInvocation(t,r){return{progressMessage:`Running ${this.name} tool`,confirmationMessages:this.confirmationMessages}}async invoke(t,r,n){let i={name:this.name,input:r.input,conversationId:t.conversation.id,turnId:t.turn.id,roundId:r.roundId,toolCallId:r.toolCallId};try{return await t.ctx.get(aC).invokeClientTool(t,i)}catch(s){throw new Error(`Failed to invoke client tool ${this.name}: ${String(s)}`)}}async invokeConfirmation(t,r,n){let i={name:this.name,title:r.title,message:r.message,input:r.input,conversationId:t.conversation.id,turnId:t.turn.id,roundId:r.roundId,toolCallId:r.toolCallId};try{return await t.ctx.get(Ag).invokeClientToolConfirmation(t,i)}catch(s){throw new Error(`Failed to invoke client tool confirmation ${this.name}: ${String(s)}`)}}};var QPt=I.Object({tools:I.Array(NUe)});function MPt(e,t,r){return r.tools.forEach(n=>{e.get(v0).registerTool(new Wj({name:n.name,description:n.description,inputSchema:n.inputSchema,confirmationMessages:n.confirmationMessages}))}),["OK",null]}o(MPt,"conversationRegisterToolsChecked");var iqe=fo(st(QPt,MPt));d();var OPt=I.Object({});function UPt(e,t,r){return[_0e(e).map(i=>({id:i.id,description:i.description,shortDescription:i.shortDescription,scopes:i.scopes})),null]}o(UPt,"handleConversationTemplatesChecked");var oqe=fo(st(OPt,UPt));d();var qPt=I.Object({workDoneToken:I.Union([I.String(),I.Number()]),conversationId:xj,turnId:I.Optional(Nv),message:oue,followUp:I.Optional(I.Object({id:I.String(),type:I.String()})),doc:I.Optional(V0),textDocument:I.Optional(V0),selection:I.Optional(ya),visibleRanges:I.Optional(kj),computeSuggestions:I.Optional(I.Boolean()),references:I.Optional(I.Array(D9)),workspaceFolder:I.Optional(I.String()),workspaceFolders:I.Optional(I.Array(Ij)),ignoredSkills:I.Optional(I.Array(I.String())),confirmationResponse:ODe,model:I.Optional(I.String()),chatMode:I.Optional(Ej),needToolCallConfirmation:I.Optional(I.Boolean())});async function WPt(e,t,r){let n=await Wg(e,r,t),i=e.get(co),s=i.get(r.conversationId),a=bj(r.message),l=new v9({message:a,type:"user"},r.turnId);l.chatMode=IH(r.chatMode),l.needToolCallConfirmation=r.needToolCallConfirmation;let c=r.workspaceFolder?{uri:r.workspaceFolder}:void 0,u=r.workspaceFolders&&r.workspaceFolders.length>0?r.workspaceFolders:qj(c),f=Rj({textDocument:n,selection:r.selection,visibleRanges:r.visibleRanges});l=await i.addTurn(s.id,l,r.references,f,c,u,r.ignoredSkills,r.confirmationResponse);let m=Dj(r),h=e.get(_0).add(m.progressToken,t),p=new R9(e,s,l,h);return await(await e.get(KA).createProcessor(p,m.progressToken,r.computeSuggestions)).process(m,h,r.followUp,n,r.model),[{conversationId:s.id,turnId:l.id,agentSlug:l.agent?.agentSlug,modelFamily:r.model},null]}o(WPt,"handleConversationTurnChecked");var sqe=st(qPt,WPt);d();var GPt=I.Object({conversationId:I.String(),turnId:I.String(),source:I.Optional(rm)});async function HPt(e,t,r){e.get(co).deleteTurn(r.conversationId,r.turnId);let i=u5(r.source),s=await a0(e,e.get(co).findByTurnId(r.turnId),{languageId:""});return sf(e,void 0,{messageId:r.turnId,uiKind:i,conversationId:r.conversationId},{},`${Z0(i)}.messageDelete`,s),["OK",null]}o(HPt,"handleConversationTurnDeleteChecked");var aqe=fo(st(GPt,HPt));d();var jPt=I.Object({document:I.Object({uri:I.String(),text:I.String(),languageId:I.String(),version:I.Number()}),selection:I.Object({start:I.Object({line:I.Number(),character:I.Number()}),end:I.Object({line:I.Number(),character:I.Number()})})});function VPt(){return["You are a world-class software engineer and the author and maintainer of the discussed code. Your feedback prefectly combines detailed feedback and explanation of context.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.","Use Markdown formatting in your answers.","Make sure to include the programming language name at the start of the Markdown code blocks.","Avoid wrapping the whole response in triple backticks.","The user works in an IDE called Visual Studio Code which has a concept for editors with open files, integrated unit test support, an output pane that shows the output of running the code as well as an integrated terminal.","The active document is the source code the user is looking at right now.","You can only give one reply for each conversation turn.","","Additional Rules","Think step by step:","1. Examine the provided code and any other context like user question, related errors, project details, class definitions, etc.","2. Provide feedback on the current selection on where it can be improved or introduces a problem.","2a. Avoid commenting on correct code.","2b. Avoid commenting on commented out code.","2c. Keep scoping rules in mind.","3. Reply with an enumerated list of feedback with source line number, filepath, kind (bug, performance, consistency, documentation, naming, readability, style, other), severity (low, medium, high), and feedback text.","3a. E.g.: 1. Line 357 in src/flow.js, bug, high severity: `i` is not incremented.","3b. E.g.: 2. Line 361 in src/arrays.js, documentation, low severity: Function `binarySearch` is not documented.","3c. E.g.: 3. Line 176 in src/vs/platform/actionWidget/browser/actionWidget.ts, consistency, medium severity: The color id `'background.actionBar'` is not consistent with the other color ids used. Use `'actionBar.background'` instead.","3d. E.g.: 4. Line 410 in src/search.js, documentation, medium severity: Returning `-1` when the target is not found is a common convention, but it should be documented.","3e. E.g.: 5. Line 51 in src/account.py, bug, high severity: The deposit method is not thread-safe. You should use a lock to ensure that the balance update is an atomic operation.","3f. E.g.: 6. Line 220 in src/account.py, readability, low severity: The withdraw method is very long and combines multipe logical steps, consider splitting it into multiple methods.","4. Try to sort the feedback by file and line number.",'5. When there is no feedback to provide, reply with "No feedback to provide."',"","Focus on being clear, helpful, and thorough.","Use developer-friendly terms and analogies in your explanations.","Provide clear and relevant examples when helpful."].join(`
`)}o(VPt,"buildSystemMessage");function $Pt(e){let r=e.document.text.split(`
`).slice(e.selection.start.line,e.selection.end.line+1),n=e.selection.start.line+1,i=e.selection.end.line+1,s=r.map((a,l)=>{let c=e.selection.start.line+l+1;return`/* ${c>n&&c<i?"Selected ":""}Line ${c} */${a}`}).join(`
`);return["<currentChange>","Current selection with the selected lines labeled as such:","",`From the file: ${e.document.uri}`,`\`\`\`${e.document.languageId}/${e.document.uri}: FROM_LINE: ${n} - TO_LINE: ${i}`,s,"```","","</currentChange>"].join(`
`)}o($Pt,"buildUserMessage");function zPt(e,t){let r=[],n=e.text.split(`
`),i=/(\d+)\.\s*Line\s*(\d+)\s*in\s*([^,]+),\s*(\w+),\s*(\w+)\s*severity:\s*((?:[^`.\n]|`[^`]*`|\.(?=\s*[A-Z]))+)(?:\.|$)/gm,s;for(;(s=i.exec(t))!==null;){let[a,l,c,u,f,m,h]=s;if(!["bug","performance","consistency","documentation","naming","readability","style","other"].includes(f.toLowerCase()))continue;let p=parseInt(c)-1;if(p<0||p>=n.length)continue;let A=n[p],x=Math.max(A.search(/\S/),0),v=A.trimEnd().length,E={uri:e.uri,range:{start:{line:p,character:x},end:{line:p,character:v}},message:h.trim(),kind:f.toLowerCase(),severity:m.toLowerCase()};r.push(E)}return r}o(zPt,"parseReviewComments");async function YPt(e,t,r){if(!r.document.text)return[null,{code:cn.InvalidRequest,message:"Document text is required"}];if(!r.document.uri)return[null,{code:cn.InvalidRequest,message:"Document URI is required"}];if(!r.document.languageId)return[null,{code:cn.InvalidRequest,message:"Document language ID is required"}];let n=r.document.text.split(`
`);if(r.selection.start.line<0||r.selection.end.line>=n.length)return[null,{code:cn.InvalidRequest,message:"Invalid selection range"}];if(r.selection.start.line>r.selection.end.line)return[null,{code:cn.InvalidRequest,message:"Selection start line must be before end line"}];let i=e.get(ka),s=await e.get(ui).getBestChatModelConfig([mi.Gpt4]),a=[{role:"system",content:VPt()},{role:"user",content:$Pt(r)}],l=await e.get(xr).updateExPValuesAndAssignments(),c=await i.fetchResponse({modelConfiguration:s,messages:a,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:Eu.user("code-review",Ir())},t,l);if(c.type!=="success")return[null,{code:cn.InternalError,message:"Failed to generate code review"}];let u=zPt(r.document,c.value);return u.sort((f,m)=>f.range.start.line-m.range.start.line),[{comments:u},null]}o(YPt,"handleCopilotCodeReviewChecked");var lqe=fo(st(jPt,YPt));d();d();var QC=class{constructor(t,r,n,i,s){this.ctx=t;this.editConversation=r;this.currentTurn=n;this.partialResultToken=i;this.userSelectedModel=s;this.workingSetUriToPathMap=new Map;for(let a of n.workingSet)this.workingSetUriToPathMap.set(a.uri,wA.uriToPath(a.uri))}static{o(this,"EditTurnContext")}get editTurnId(){return this.currentTurn.id}get editConversationId(){return this.editConversation.id}mapToUriInWorkingSet(t){for(let[r,n]of this.workingSetUriToPathMap)if(n===t)return r}toLlmInteraction(){return Eu.user("conversation-edit-panel",this.editTurnId)}};d();async function Gj(e,t,r,n){let s=e.get(Ja).create("panel","en"),a=new uC({message:"",type:"user"},[]),l="file:///path/to/HelloWorld.java",c=new QC(e,s,a,n,mi.Gpt4o),u=e.get(cc);await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"edit-plan-generated",editDescription:`### [HelloWorld.java](${l})

Complete the \`main\` method to print "Hello, World!" to the console.`,uri:l}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generated",uri:l,partialText:`public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}`,languageId:"java",markdownCodeFence:"```"});let f="file:///path/to/HelloWorld.py";await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"edit-plan-generated",editDescription:`### [HelloWorld.py](${f})

Complete the \`main\` method to print "Hello, World!" to the console.`,uri:f}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generating",uri:f,partialText:`def main():
`,languageId:"python",markdownCodeFence:"```"}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generating",uri:f,partialText:`    println("Hello, World!")
`,languageId:"python",markdownCodeFence:"```"}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generated",uri:f,partialText:"",languageId:"python",markdownCodeFence:"```"})}o(Gj,"streamMockedResult");d();var KPt=I.Object({enableMock:I.Boolean()}),Gg=class{constructor(){this.enableMock=!1}static{o(this,"CopilotEditsMockManager")}isMockEnabled(){return this.enableMock}setMockEnabled(t){this.enableMock=t}};function JPt(e,t,r){return e.get(Gg).setMockEnabled(r.enableMock),["OK",null]}o(JPt,"handleTestingSetCopilotEditsResponseChecked");var cqe=st(KPt,JPt);var ZPt=I.Object({request:I.String(),response:I.Optional(I.String())}),XPt=I.Union([I.Literal("panel")]),eFt=I.Object({partialResultToken:I.Union([I.String(),I.Number()]),turns:I.Array(ZPt,{minItems:1}),workingSet:I.Optional(I.Array(dR)),source:I.Optional(XPt),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String()),model:I.Optional(I.String())});function tFt(e,t){let r=e.create(t.source,t.userLanguage);for(let n of t.turns){let i=new uC({message:n.request,type:"user"},t.workingSet);n.response&&(i.response={message:n.response,type:"model"}),t.workspaceFolder&&(i.workspaceFolder=t.workspaceFolder),e.addTurn(r.id,i)}return r}o(tFt,"buildEditConversation");async function rFt(e,t,r){if(e.get(Gg).isMockEnabled())return await Gj(e,Ir(),Ir(),r.partialResultToken),[[],null];let n=tFt(e.get(Ja),r),i=n.getLastTurn(),s=new QC(e,n,i,r.partialResultToken,r.model),a=e.get(_0).add(r.partialResultToken,t);return[await e.get(_A).createOrContinueEditConversation(s,a),null]}o(rFt,"handleEditConversationCreateChecked");var uqe=fo(st(eFt,rFt));d();var nFt=I.Object({editConversationId:I.String()});function iFt(e,t,r){return e.get(Ja).destroy(r.editConversationId),["OK",null]}o(iFt,"handleEditConversationDestroyChecked");var fqe=fo(st(nFt,iFt));d();var oFt=I.Object({partialResultToken:I.Union([I.String(),I.Number()]),editConversationId:I.String(),message:I.String(),workingSet:I.Optional(I.Array(dR)),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String()),model:I.Optional(I.String())});function sFt(e,t,r){let n=e.get(t),i=new uC({message:r.message,type:"user"},r.workingSet);return r.workspaceFolder&&(i.workspaceFolder=r.workspaceFolder),e.addTurn(n.id,i),n}o(sFt,"buildEditConversation");async function aFt(e,t,r){if(e.get(Gg).isMockEnabled())return await Gj(e,r.editConversationId,Ir(),r.partialResultToken),[[],null];let n=e.get(Ja),i=sFt(n,r.editConversationId,r),s=i.getLastTurn(),a=new QC(e,i,s,r.partialResultToken,r.model),l=e.get(_0).add(r.partialResultToken,t);return[await e.get(_A).createOrContinueEditConversation(a,l),null]}o(aFt,"handleEditConversationTurnChecked");var dqe=fo(st(oFt,aFt));d();var lFt=I.Object({editConversationId:I.String(),editTurnId:I.String(),source:I.Optional(rm)});async function cFt(e,t,r){e.get(Ja).deleteTurn(r.editConversationId,r.editTurnId);let i=await n_(e,r.editTurnId,r.editConversationId,{languageId:""});return sf(e,void 0,{messageId:r.editTurnId,uiKind:"editsPanel",conversationId:r.editConversationId},{},`${Z0("editsPanel")}.copilotEditsMessageDelete`,i),["OK",null]}o(cFt,"handleEditConversationTurnDeleteChecked");var mqe=fo(st(lFt,cFt));d();var uFt=I.Object({});function fFt(e,t,r){return[e.get(wg).getAllTools(),null]}o(fFt,"handleGetMCPToolsChecked");var hqe=st(uFt,fFt);d();var dFt=I.Object({});async function mFt(e,t,r){let n=await e.get($r).getToken();return[hFt(await e.get(Yu).getMetadata(),n),null]}o(mFt,"handleCopilotModelsChecked");function hFt(e,t){let r=t.getTokenValue("editor_preview_features")=="0",n=md.filterModelsWithEditorPreviewFeatures(e,r),i=[];return n.forEach(s=>{if(s.model_picker_enabled===!0){let a=[];s.capabilities.type==="chat"?(a.push("chat-panel"),a.push("edit-panel"),a.push("inline"),!j5e.has(s.capabilities.family)&&s.capabilities.supports?.tool_calls&&(s.capabilities.limits?.max_prompt_tokens??!1)&&a.push("agent-panel"),i.push({modelFamily:s.capabilities.family,modelName:s.name,modelPolicy:s.policy,scopes:a,id:s.id,preview:s.preview??!1,isChatDefault:s.is_chat_default??!1,isChatFallback:s.is_chat_fallback??!1,capabilities:{supports:{vision:s.capabilities.supports?.vision??!1}},billing:s.billing?{isPremium:s.billing?.is_premium??!0,multiplier:s.billing?.multiplier??0}:void 0})):s.capabilities.type==="completion"?i.push({modelFamily:s.capabilities.family,modelName:s.name,modelPolicy:s.policy,scopes:["completion"],id:s.id,preview:s.preview??!1,isChatDefault:s.is_chat_default??!1,isChatFallback:s.is_chat_fallback??!1,capabilities:{supports:{vision:s.capabilities.supports?.vision??!1}},billing:s.billing?{isPremium:s.billing?.is_premium??!0,multiplier:s.billing?.multiplier??0}:void 0}):i.push({modelFamily:s.capabilities.family,modelName:s.name,modelPolicy:s.policy,scopes:a,id:s.id,preview:s.preview??!1,isChatDefault:s.is_chat_default??!1,isChatFallback:s.is_chat_fallback??!1,capabilities:{supports:{vision:s.capabilities.supports?.vision??!1}},billing:s.billing?{isPremium:s.billing?.is_premium??!0,multiplier:s.billing?.multiplier??0}:void 0})}}),i}o(hFt,"filterModels");var pqe=fo(st(dFt,mFt));d();var pFt=I.Object({model:I.Optional(I.String()),status:I.Optional(I.String())});async function gFt(e,t,r){return r.model&&r.status==="enabled"?await e.get(Yu).acceptModelPolicy(r.model)?["OK",null]:[null,{code:cn.InternalError,message:"Failed to accept model policy"}]:[null,{code:cn.InvalidRequest,message:"Invalid model or status"}]}o(gFt,"handleCopilotModelsPolicyChecked");var gqe=fo(st(pFt,gFt));d();d();var JA=10;function Aqe(e,t){let r=t,n=e.lineAt(t.line);return n.isEmptyOrWhitespace||(r=n.range.end),r}o(Aqe,"panelPositionForDocument");d();var Aue=new Yt("solutions");async function*AFt(e){for await(let t of e){let r={...t};r.completionText=r.completionText.trimEnd(),yield r}}o(AFt,"trimChoices");var F9=class{constructor(t,r,n,i){this.textDocument=t;this.startPosition=r;this.cancellationToken=n;this.solutionCountTarget=i;this.targetPosition=Aqe(this.textDocument,this.startPosition)}static{o(this,"SolutionManager")}get savedTelemetryData(){return this._savedTelemetryData}set savedTelemetryData(t){this._savedTelemetryData=t}};function Hj(e){return e.replace(/\s+/g,"")}o(Hj,"normalizeCompletionText");async function yFt(e,t){let r=t.targetPosition,n=t.textDocument,i=Zy(e,n.uri),s=Ir(),a=ln.createAndMarkAsIssued({headerRequestId:s,languageId:n.detectedLanguageId,source:"open copilot"},{});t.savedTelemetryData=await e.get(xr).updateExPValuesAndAssignments({uri:n.uri,languageId:n.detectedLanguageId},a);let l=await A8(e,n,r,t.savedTelemetryData);if(l.type==="copilotContentExclusion")return{status:"FinishedNormally"};if(l.type==="contextTooShort")return{status:"FinishedWithError",error:"Context too short"};if(l.type==="promptCancelled")return{status:"FinishedWithError",error:"Prompt cancelled"};if(l.type==="promptTimeout")return{status:"FinishedWithError",error:"Prompt timeout"};if(l.type==="promptError")return{status:"FinishedWithError",error:"Prompt error"};let c=l.prompt,u=l.trailingWs;u.length>0&&(t.startPosition=No.position(t.startPosition.line,t.startPosition.character-u.length));let f=t.cancellationToken;t.savedTelemetryData=t.savedTelemetryData.extendedBy({},{...lI(c),solutionCount:t.solutionCountTarget,promptEndPos:n.offsetAt(r)}),Aue.debug(e,"prompt:",c),jt(e,"solution.requested",t.savedTelemetryData);let m=e.get(zm).forLanguage(e,n.detectedLanguageId,t.savedTelemetryData),h=Ju(n.detectedLanguageId),p=v_(n,r),A={stream:!0,extra:{language:n.detectedLanguageId,next_indent:p.next??0,prompt_tokens:c.prefixTokens??0,suffix_tokens:c.suffixTokens??0}};m==="parsing"&&!h&&(A.stop=[`

`,`\r
\r
`]);let x=Jy(e,t.savedTelemetryData),v={prompt:c,languageId:n.detectedLanguageId,repoInfo:i,ourRequestId:s,engineModelId:x.modelId,count:t.solutionCountTarget,uiKind:"synthesize",postOptions:A,requestLogProbs:!0,headers:x.headers},E;switch(m){case"server":E=o(()=>{},"finishedCb"),A.extra.force_indent=p.prev??-1,A.extra.trim_by_indentation=!0;break;case"parsingandserver":E=h?x_(e,n,t.startPosition,!1):()=>{},A.extra.force_indent=p.prev??-1,A.extra.trim_by_indentation=!0;break;case"parsing":default:E=h?x_(e,n,t.startPosition,!1):()=>{};break}let b=t.savedTelemetryData,_=await e.get(eu).fetchAndStreamCompletions(e,v,b.extendedBy(),E,f);if(_.type==="failed"||_.type==="canceled")return{status:"FinishedWithError",error:`${_.type}: ${_.reason}`};let R=_.choices;R=AFt(R),R=r_(R,W=>D_(e,n,r,W,!1,Aue));let P=r_(R,async W=>{let se=W.completionText;Aue.info(e,`Open Copilot completion: [${W.completionText}]`);let de=await mEe(e,n,r,W.completionText)??No.position(r.line,0),[re]=ax(n.getText(No.range(de,r)));se=re+se;let G=W.completionText;u.length>0&&G.startsWith(u)&&(G=G.substring(u.length));let U=W.meanLogProb,ne=U!==void 0?Math.exp(U):0,J=b.extendedBy({choiceIndex:W.choiceIndex.toString()});return{completionText:G,insertText:se,range:No.range(de,r),meanProb:ne,meanLogProb:U||0,requestId:W.requestId,choiceIndex:W.choiceIndex,telemetryData:J,copilotAnnotations:W.copilotAnnotations}});return Cqe(f,P[Symbol.asyncIterator]())}o(yFt,"launchSolutions");async function yqe(e,t){let r=await e;switch(r.status){case"Solution":await t.onSolution(r.solution),await yqe(r.next,t);break;case"FinishedNormally":await t.onFinishedNormally();break;case"FinishedWithError":await t.onFinishedWithError(r.error);break}}o(yqe,"reportSolutions");async function jj(e,t,r){return e.get(zi).withProgress(async()=>{let i=yFt(e,t);return await yqe(i,r)})}o(jj,"runSolutions");async function Cqe(e,t){if(e.isCancellationRequested)return{status:"FinishedWithError",error:"Cancelled"};let r=await t.next();return r.done===!0?{status:"FinishedNormally"}:{status:"Solution",solution:r.value,next:Cqe(e,t)}}o(Cqe,"generateSolutionsStream");var vqe=et(Iy()),yR=et(nc());d();d();function Vj(e,t){let r=e.split(`
`),n=t,i=t,s=r[t.line],a=s.indexOf("%");a!==-1&&(s=s.substring(0,a)+s.substring(a+1),n={line:t.line,character:a});let l=s.indexOf("^");if(l!==-1){let c=s.indexOf("^",l+1);if(c===-1)throw new Error("Challenge document must contain zero or two ^ characters.");s=s.substring(0,l)+s.substring(l+1,c)+s.substring(c+1),n={line:t.line,character:t.character},i={line:t.line,character:t.character+c-l-1}}return{cursorLine:s,lines:r,start:n,end:i}}o(Vj,"parseChallengeDoc");var CFt=I.Object({text:I.String(),score:I.Number()}),xFt=I.Object({documents:I.Array(CFt),options:I.Optional(I.Object({}))});async function $j(e,t,r){let n=Ir();for(let i=0;i<t.length&&i<10;i++){let{text:s,score:a}=t[i],{cursorLine:l,lines:c,start:u}=Vj(s,e),f=[l.slice(Math.min(u.character,e.character))].concat(c.slice(e.line+1)).join(`
`);r.offset=c.slice(0,e.line).reduce((m,h)=>m+h.length+1,0)+u.character,await r.onSolution({requestId:{headerRequestId:n,completionId:Ir(),created:0,serverExperiments:"",deploymentId:""},completionText:f,insertText:f,range:{start:e,end:e},meanProb:a,meanLogProb:-1,choiceIndex:i,telemetryData:Np.createEmptyConfigForTesting()})}await r.onFinishedNormally()}o($j,"runTestSolutions");var Oh=class{constructor(t){this.documents=t}static{o(this,"ExternalTestingPanelCompletionDocuments")}};function vFt(e,t,r){return e.forceSet(Oh,new Oh(r.documents)),["OK",null]}o(vFt,"handleTestingSetPanelCompletionDocumentsChecked");var xqe=st(xFt,vFt);var bqe=_F.type;function bFt(e,t,r,n,i){let s=Hj(n.completionText),a=(0,vqe.SHA256)(s).toString();return e.get(rs).set(a,{displayText:n.completionText,insertText:n.insertText,offset:r,uuid:a,range:n.range,uri:t.textDocument.uri,telemetry:n.telemetryData.extendedBy({},{rank:i-1}),index:n.choiceIndex,position:t.position,resultType:0,triggerCategory:"solution",copilotAnnotations:n.copilotAnnotations}),{range:n.range,insertText:n.insertText,command:{command:Lce,title:`Accept completion ${i}`,arguments:[a]}}}o(bFt,"makeCompletion");function Cue(e,t){return`${e}/${t}`}o(Cue,"progressMessage");var yue=class{constructor(t,r,n){this.ctx=t;this.params=r;this.onCompletion=n;this.offset=0;this.count=0;this.items=new Map}static{o(this,"SolutionHandler")}get service(){return this.ctx.get(Hr)}async onSolution(t){this.count+=1;let r=bFt(this.ctx,this.params,this.offset,t,this.items.size+1);this.items.has(r.command.arguments[0])||(this.items.set(r.command.arguments[0],r),await this.onCompletion(r)),this.params.workDoneToken!==void 0&&await this.service.connection.sendProgress(yR.WorkDoneProgress.type,this.params.workDoneToken,{kind:"report",message:Cue(this.count,JA),percentage:Math.round(100*this.count/JA)})}onFinishedNormally(){return EFt(this.params.workDoneToken,this.service,this.count)}async onFinishedWithError(t){if(this.error=t,this.params.workDoneToken!==void 0)return this.service.connection.sendProgress(yR.WorkDoneProgress.type,this.params.workDoneToken,{kind:"end",message:`Error: ${t}`})}};async function EFt(e,t,r=0){e!==void 0&&await t.connection.sendProgress(yR.WorkDoneProgress.type,e,{kind:"end",message:Cue(r,JA)})}o(EFt,"reportDone");var AR;async function IFt(e,t,r){let n=await Mh(e,r.textDocument,t),i=r.position;r.workDoneToken!==void 0&&await e.get(Hr).connection.sendProgress(yR.WorkDoneProgress.type,r.workDoneToken,{kind:"begin",title:"GitHub Copilot Completions Panel",cancellable:!0,message:Cue(0,JA),percentage:0});let s=[],a=o(f=>(s.push(f),Promise.resolve()),"onCompletion"),l=r.partialResultToken;l!==void 0&&(a=o(async f=>{await e.get(Hr).connection.sendProgress(_F.partialResult,l,{items:[f]})},"onCompletion"));let c=new yue(e,r,a),u=e.get(Oh);if(u.documents){let f=u.documents;await $j(i,f,c)}else{c.offset=n.offsetAt(i);let f=new F9(n,i,t,JA);await jj(e,f,c)}return c.error!==void 0?[null,{code:cn.InternalError,message:c.error}]:[{items:s},null]}o(IFt,"handleChecked");async function TFt(e,t,r){AR&&(AR.cancel(),AR.dispose()),AR=new Hn.CancellationTokenSource;let n=AR.token,i=new Iu([t,n]);try{return await IFt(e,i,r)}catch(s){if(n.isCancellationRequested&&!t.isCancellationRequested)return[null,{code:cn.ServerCancelled,message:"Request was superseded by a new request"}];throw s}}o(TFt,"handleCheckedWithAbort");var Eqe=st(Gye,TFt);d();d();d();function _Ft(e){let t=e.get(On).getLoginReachabilityUrl(),r=e.get(On).getAPIUrl(),n=e.get(On).getLastKnownEndpointUrl("proxy","_ping"),i=e.get(On).getLastKnownEndpointUrl("api","_ping"),s=e.get(On).getLastKnownEndpointUrl("telemetry","_ping");function a(l){return new URL(l).host}return o(a,"label"),[{label:a(t),url:t},{label:a(r),url:r},{label:a(n),url:n},{label:a(i),url:i},{label:a(s),url:s}]}o(_Ft,"urlsToCheck");async function Iqe(e){let t=_Ft(e).map(async({label:r,url:n})=>{let{message:i,status:s}=await SFt(e,n);return{label:r,url:n,message:i,status:s}});return await Promise.all(t)}o(Iqe,"checkReachability");async function SFt(e,t){try{let r=await e.get(Or).fetch(t,{}),n=r.status>=200&&r.status<400?"reachable":"unreachable";return{message:`HTTP ${r.status}`+(r.statusText?` - ${r.statusText}`:""),status:n}}catch(r){return{message:String(r),status:"unreachable"}}}o(SFt,"determineReachability");var im=et(require("os")),N9=et(require("tls"));async function Tqe(e){return{sections:[kFt(e),RFt(),await DFt(e),BFt(),PFt(e),await FFt(e)]}}o(Tqe,"collectDiagnostics");function wqe(e){return e.sections.map(NFt).join(im.EOL+im.EOL)}o(wqe,"formatDiagnosticsAsMarkdown");function kFt(e){return{name:"Copilot",items:{Version:d4(e),Build:ud(e),Editor:Ec(e)["Editor-Version"]}}}o(kFt,"collectCopilotSection");function RFt(){return{name:"Environment",items:{http_proxy:ZA("http_proxy"),https_proxy:ZA("https_proxy"),no_proxy:ZA("no_proxy"),SSL_CERT_FILE:ZA("SSL_CERT_FILE"),SSL_CERT_DIR:ZA("SSL_CERT_DIR"),OPENSSL_CONF:ZA("OPENSSL_CONF")}}}o(RFt,"collectEnvironmentSection");function BFt(){return{name:"Node setup",items:{"Number of root certificates":N9.rootCertificates.length,"Operating system":im.type(),"Operating system version":im.release(),"Operating system architecture":im.arch(),NODE_OPTIONS:ZA("NODE_OPTIONS"),NODE_EXTRA_CA_CERTS:ZA("NODE_EXTRA_CA_CERTS"),NODE_TLS_REJECT_UNAUTHORIZED:ZA("NODE_TLS_REJECT_UNAUTHORIZED"),"tls default min version":N9.DEFAULT_MIN_VERSION,"tls default max version":N9.DEFAULT_MAX_VERSION}}}o(BFt,"collectNodeSection");async function DFt(e){let t={};try{let r=await e.get($r).getToken();t["Send Restricted Telemetry"]=r.getTokenValue("rt")==="1"?"enabled":"disabled",t.Chat=r.envelope?.chat_enabled?"enabled":void 0,t["Content exclusion"]=r.envelope?.copilotignore_enabled?"enabled":"unavailable"}catch{}return Object.keys(t).forEach(r=>t[r]===void 0&&delete t[r]),{name:"Feature Flags",items:t}}o(DFt,"collectFeatureFlagsSection");function PFt(e){let t=e.get(Or);return{name:"Network Configuration",items:{"Proxy host":t.proxySettings?.host,"Proxy port":t.proxySettings?.port,"Kerberos SPN":t.proxySettings?.kerberosServicePrincipal,"Reject unauthorized":t.rejectUnauthorized?"enabled":"disabled",Fetcher:t.name}}}o(PFt,"collectNetworkConfigSection");async function FFt(e){return{name:"Reachability",items:Object.fromEntries((await Iqe(e)).map(({label:r,status:n,message:i})=>[r,i]))}}o(FFt,"collectReachabilitySection");function ZA(e){let t=Object.keys(process.env).find(r=>r.toLowerCase()===e.toLowerCase());return t?process.env[t]:void 0}o(ZA,"findEnvironmentVariable");function NFt(e){return`## ${e.name}`+im.EOL+im.EOL+Object.keys(e.items).filter(t=>t!=="name").map(t=>`- ${t}: ${e.items[t]??"n/a"}`).join(im.EOL)}o(NFt,"formatSectionAsMarkdown");var LFt=I.Object({});async function QFt(e){return[{report:wqe(await Tqe(e))},null]}o(QFt,"handleDiagnosticsChecked");var _qe=st(LFt,QFt);d();d();d();d();function Sqe(e,t,r){function n(s,a,l){let c=new RegExp(`^(${a})+`,"g");return s.split(`
`).map(u=>{let f=u.replace(c,""),m=u.length-f.length;return l(m)+f}).join(`
`)}o(n,"replace");let i;if(e.tabSize===void 0||typeof e.tabSize=="string"?i=4:i=e.tabSize,e.insertSpaces===!1){let s=o(a=>n(a," ",l=>"	".repeat(Math.floor(l/i))+" ".repeat(l%i)),"r");t.displayText=s(t.displayText),t.completionText=s(t.completionText)}else if(e.insertSpaces===!0){let s=o(a=>n(a,"	",l=>" ".repeat(l*i)),"r");if(t.displayText=s(t.displayText),t.completionText=s(t.completionText),r){let a=o(l=>{if(l==="")return l;let c=l.split(`
`)[0],u=c.length-c.trimStart().length,f=u%i;if(f!==0&&u>0){let m=" ".repeat(f);return n(l,m,h=>" ".repeat((Math.floor(h/i)+1)*i))}else return l},"re");t.displayText=a(t.displayText),t.completionText=a(t.completionText)}}return t}o(Sqe,"normalizeIndentCharacter");function kqe(e,t,r,n,i,s,a){let l=n.lineAt(i),c=t.map(u=>{let f=No.range(No.position(i.line,0),No.position(i.line,i.character+u.suffixCoverage)),m="";if(s&&(u.completion=Sqe(s,u.completion,l.isEmptyOrWhitespace)),l.isEmptyOrWhitespace&&(u.completion.displayNeedsWsOffset||u.completion.completionText.startsWith(l.text)))m=u.completion.completionText;else{let p=No.range(f.start,i);m=n.getText(p)+u.completion.displayText}return{uuid:Ir(),insertText:m,range:f,uri:n.uri,index:u.completion.completionIndex,telemetry:u.telemetry,displayText:u.completion.displayText,position:i,offset:n.offsetAt(i),resultType:r,copilotAnnotations:u.copilotAnnotations}});if(r===2&&a!==void 0){let u=c.find(f=>f.index===a);if(u){let f=c.filter(m=>m.index!==a);c=[u,...f]}}return c}o(kqe,"completionsFromGhostTextResults");async function xue(e,t,r,n,i={}){i={...i,positionBeforeApplyingEdits:r};let s=0;if(i.selectedCompletionInfo?.text){let h={range:i.selectedCompletionInfo.range,newText:i.selectedCompletionInfo.text};({textDocument:t,position:r}=RQ(t,h.range.end,[h])),s=r.character-h.range.end.character}let a=await cre(e,t,r,n,i);if(a.type!=="success")return a;let[l,c]=a.value;if(n?.isCancellationRequested)return{type:"canceled",reason:"after getGhostText",telemetryData:{telemetryBlob:a.telemetryBlob}};let u=W8e(e,t,r,c),f=kqe(e,l,c,t,r,i.formattingOptions,u);if(f.length===0)return{type:"empty",reason:"no completions in final result",telemetryData:a.telemetryData};let m=f.map(h=>{let{start:p,end:A}=h.range,x=Hn.Range.create(p,Hn.Position.create(A.line,A.character-s));return{...h,range:x}});return{...a,value:m}}o(xue,"getInlineCompletionsResult");async function zj(e,t,r,n,i={}){MFt(e,t,r);let s=await xue(e,t,r,n,i);return aEe(e,s)}o(zj,"getInlineCompletions");function MFt(e,t,r){let n=t.getText({start:{line:Math.max(r.line-1,0),character:0},end:r}),i=t.getText({start:r,end:{line:Math.min(r.line+2,t.lineCount-1),character:t.lineCount-1>r.line?0:r.character}});VQ.debug(e,`Requesting for ${t.uri} at ${r.line}:${r.character}`,`between ${JSON.stringify(n)} and ${JSON.stringify(i)}.`)}o(MFt,"logCompletionLocation");var Nqe=et(nc());d();var Rqe=require("crypto");var L9=class{static{o(this,"LspClientContextProvider")}constructor(t,r,n){this.id=r,this.selector=n,this.resolver=new bue(t,this.id)}},bue=class{constructor(t,r){this.ctx=t;this.id=r;this.contextItems=[];this.update=!1}static{o(this,"LspClientContextResolver")}async resolve(t,r){let n=[];if(this.contextItems.length>0)n=this.contextItems;else if(this.update){let i=this.ctx.get(Hr),s=(0,Rqe.randomUUID)(),a=i.connection.onProgress(IF.type,s,l=>{n.push(...l)});r.onCancellationRequested(()=>{a?.dispose()});try{let l=await i.connection.sendRequest(IF.type,{providerId:this.id,data:this.data,textDocument:{uri:t.documentContext.uri,languageId:t.documentContext.languageId,version:t.documentContext.version},position:t.documentContext.position,partialResultToken:s},r);n.push(...l)}finally{a?.dispose()}}return this.reset(),Promise.resolve(n)}setContextItems(t){this.contextItems=t}clearContextItems(){this.contextItems=[]}setUpdate(t){this.update=t}clearData(){this.data=void 0}reset(){this.clearContextItems(),this.clearData(),this.setUpdate(!1)}};function Q9(e,t,r){try{let n=e.get(ll),i=new Map;n.providers.forEach(s=>{i.set(s.id,s)}),t.providers.forEach(s=>{let a=i.get(s.id);a&&a instanceof L9&&a.resolver.setContextItems(s.contextItems)}),t.updating&&t.updating.length>0&&t.updating.forEach(s=>{let a=i.get(s);a&&a instanceof L9&&(a.resolver.setUpdate(!0),a.resolver.data=r)})}catch(n){li.error(e,"Failed to set context items on context providers",n)}}o(Q9,"setContextItems");var vue={nocase:!0,matchBase:!0,nonegate:!0,dot:!0};async function Bqe(e,t,r){return t.map(i=>{try{if(typeof i=="string")return Ea(r.uri,i,vue);if(typeof i=="object"){let s=!0;return"language"in i&&(s&&=r.languageId==(i.language||"")),"scheme"in i&&(s&&=Ea(r.uri,i.scheme||"",vue)),"pattern"in i&&(s&&=Ea(r.uri,i.pattern||"",vue)),s}}catch{return!1}return!1}).some(Boolean)?10:0}o(Bqe,"match");d();var OFt=I.Object({documents:I.Array(I.String()),basename:I.Optional(I.String()),options:I.Optional(I.Object({}))}),MC=class{constructor(t,r){this.documents=t;this.basename=r}static{o(this,"ExternalTestingCompletionDocuments")}};function UFt(e,t,r){return e.forceSet(MC,new MC(r.documents,r.basename||"")),["OK",null]}o(UFt,"handleTestingSetCompletionDocumentsChecked");var Dqe=new Yt("setCompletionDocuments"),Fqe=st(OFt,UFt);function Yj(e,t,r,n){let i=e.get(MC);if(i.documents){let s=n?3:1;if(r&&i.basename&&i.basename.trim().length>0){Dqe.debug(e,`Returning filtered completions by basename ${i.basename}`);let a=qFt(i,r);return a&&a.length>0?Pqe(a,s,t):void 0}else return Dqe.debug(e,"Returning completions for all pre-set documents"),Pqe(i.documents,s,t)}}o(Yj,"getTestCompletions");function Pqe(e,t,r){return e.slice(0,t).map(n=>{let{cursorLine:i,lines:s,start:a,end:l}=Vj(n,r);return{insertText:[i.slice(Math.min(a.character,r.character))].concat(s.slice(r.line+1)).join(`
`),range:{start:a,end:l}}})}o(Pqe,"sliceAndMapCompletions");function qFt(e,t){return e.basename===Di(t)?e.documents||[]:[]}o(qFt,"getFilteredDocs");var Lqe=I.Object({doc:I.Object({position:xl,insertSpaces:I.Optional(I.Boolean()),tabSize:I.Optional(I.Number()),uri:aw,version:I.Number()}),contextItems:I.Optional(ote)}),CR;async function Qqe(e,t,r,n){CR&&(CR.cancel(),CR.dispose()),CR=new Hn.CancellationTokenSource;let i=new Iu([t,CR.token]);r.contextItems&&Q9(e,r.contextItems);let s=Yj(e,r.doc.position,r.doc.uri,n);if(s)return[{completions:s.map(h=>({uuid:Ir(),text:h.insertText,displayText:h.insertText,position:r.doc.position,range:h.range,docVersion:r.doc.version}))},null];let a;try{a=await Mh(e,r.doc,i)}catch(m){if(!(m instanceof Nqe.ResponseError))throw m;switch(m.code){case cn.CopilotNotAvailable:case cn.ContentModified:return[{completions:[]},null]}throw m}let l=r.doc.position,c=await zj(e,a,l,i,{isCycling:n,formattingOptions:r.doc});if(!c)return[{completions:[]},null];let u=e.get(rs);for(let m of c)u.set(m.uuid,{...m,triggerCategory:"ghostText"});return[{completions:c.map(m=>({uuid:m.uuid,text:m.insertText,range:m.range,displayText:m.displayText,position:m.position,docVersion:a.version}))},null]}o(Qqe,"handleGetCompletionsHelper");var Mqe=st(Lqe,(e,t,r)=>Qqe(e,t,r,!1)),Oqe=st(Lqe,(e,t,r)=>Qqe(e,t,r,!0));d();var Uqe=et(Iy()),M9=et(nc());var WFt=I.Object({doc:I.Object({position:xl,uri:aw,version:I.Number()}),panelId:I.String()});function GFt(e,t,r,n,i){let s=Hj(i.completionText),a=(0,Uqe.SHA256)(s).toString();return e.get(rs).set(a,{displayText:i.insertText,insertText:i.completionText,offset:n,uuid:a,range:r,uri:t.doc.uri,telemetry:i.telemetryData,index:i.choiceIndex,position:r.end,resultType:0,triggerCategory:"solution",copilotAnnotations:i.copilotAnnotations}),{panelId:t.panelId,range:r,completionText:i.completionText,displayText:i.insertText,score:i.meanProb,solutionId:a}}o(GFt,"makeSolution");var Eue=class{constructor(t,r,n){this.ctx=t;this.params=r;this.range=n;this.offset=0}static{o(this,"SolutionHandler")}get service(){return this.ctx.get(Hr)}onSolution(t){return this.service.connection.sendNotification(new M9.NotificationType("PanelSolution"),GFt(this.ctx,this.params,this.range,this.offset,t))}onFinishedNormally(){return qqe(this.params.panelId,this.service)}onFinishedWithError(t){return this.service.connection.sendNotification(new M9.NotificationType("PanelSolutionsDone"),{status:"Error",message:t,panelId:this.params.panelId})}};async function qqe(e,t){return t.connection.sendNotification(new M9.NotificationType("PanelSolutionsDone"),{status:"OK",panelId:e})}o(qqe,"reportDone");var xR;async function HFt(e,t,r){xR&&(xR.cancel(),xR.dispose()),xR=new Hn.CancellationTokenSource;let n=new Iu([t,xR.token]),i=r.doc.position,s=No.range(i,i),a=new Eue(e,r,s),l=e.get(Oh);if(l.documents){let c=l.documents;$j(i,c,a)}else{let c;try{c=await Mh(e,r.doc,n)}catch(f){if(!(f instanceof M9.ResponseError))throw f;switch(f.code){case cn.CopilotNotAvailable:case cn.ContentModified:return jFt(e,r)}throw f}a.offset=c.offsetAt(i);let u=new F9(c,i,n,JA);jj(e,u,a)}return[{solutionCountTarget:JA},null]}o(HFt,"handleGetPanelCompletionsChecked");async function jFt(e,t){return await qqe(t.panelId,e.get(Hr)),[{solutionCountTarget:0},null]}o(jFt,"produceEmptySolutions");var Wqe=st(WFt,HFt);d();var VFt=I.Object({});function $Ft(e,t,r){return[{version:e.get(Eo).getDisplayVersion(),buildType:ud(e),runtimeVersion:`node/${process.versions.node}`},null]}o($Ft,"handleGetVersionChecked");var Gqe=st(VFt,$Ft);d();var zFt=I.Object({changes:I.Array(I.String()),userCommits:I.Array(I.String()),recentCommits:I.Array(I.String()),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String())});function YFt(e){let t=["You are an AI programming assistant, helping a software developer to come up with the best git commit message for their code changes.","You excel in interpreting the purpose behind code changes to craft succinct, clear commit messages that adhere to the repository's guidelines.","","# First, think step-by-step:","1. Analyze the CODE CHANGES thoroughly to understand what's been modified.","2. Identify the purpose of the changes to answer the *why* for the commit messages, also considering the optionally provided RECENT USER COMMITS.","3. Review the provided RECENT REPOSITORY COMMITS to identify established commit message conventions. Focus on the format and style, ignoring commit-specific details like refs, tags, and authors.","4. Generate a thoughtful and succinct commit message for the given CODE CHANGES. It MUST follow the established writing conventions.","5. Remove any meta information like issue references, tags, or author names from the commit message. The developer will add them.","6. Now only show your message, wrapped with a single markdown ```text codeblock! Do not provide any explanations or details"];return e&&t.push(`Respond in the following locale: ${e}`),t.join(`
`)}o(YFt,"buildSystemMessage");function KFt(e,t){let r=[];return e.userCommits.length>0&&r.push("# RECENT USER COMMITS (For reference only, do not copy!):",e.userCommits.map(n=>`- ${n}`).join(`
`),""),e.recentCommits.length>0&&r.push("# RECENT REPOSITORY COMMITS (For reference only, do not copy!):",e.recentCommits.map(n=>`- ${n}`).join(`
`),""),r.push("# CODE CHANGES:",e.changes.join(`
`),"","<reminder>","Now generate a commit message that describes the CODE CHANGES.","DO NOT COPY commits from RECENT COMMITS, but use them as reference for the commit style.","ONLY return a single markdown code block, NO OTHER PROSE!","```text","commit message goes here","```","</reminder>"),t&&r.push("<custom-instructions>",t,"</custom-instructions>"),r.join(`
`)}o(KFt,"buildUserMessage");async function JFt(e,t,r){if(r.changes.length===0)return[null,{code:cn.InvalidRequest,message:"No changes provided"}];let n=new ka(e),i=await e.get(ui).getBestChatModelConfig([mi.Gpt4oMini,mi.Gpt4o,mi.Gpt4]),s=[{uri:r.workspaceFolder?r.workspaceFolder:sl(process.cwd())}],a=await S9.getInstructions(e,s,{includeCodeGenerationInstructions:!1,includeCommitMessageGenerationInstructions:!0,customIntroduction:"When generating the commit message, please use the following custom instructions provided by the user."}),l=[{role:"system",content:YFt(r.userLanguage)},{role:"user",content:KFt(r,a)}],c=await e.get(xr).updateExPValuesAndAssignments(),u=await n.fetchResponse({modelConfiguration:i,messages:l,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:Eu.user("git-commit",Ir())},t,c);if(u.type!=="success")return[null,{code:cn.InternalError,message:"Failed to generate commit message"}];let f=u.value.match(/```text\n([\s\S]*?)\n```/);return[{commitMessage:f?f[1].trim():u.value.trim()},null]}o(JFt,"handleGitCommitGenerateChecked");var Hqe=fo(st(zFt,JFt));d();var Vqe=kJ.type,vR;function jqe(e){return{title:"Completion Accepted",command:Kk,arguments:[e]}}o(jqe,"makeCommand");async function ZFt(e,t,r){vR&&(vR.cancel(),vR.dispose());let n=r.context.triggerKind===1;vR=new Hn.CancellationTokenSource;let i=vR.token,s=new Iu([t,i]);r.contextItems&&Q9(e,r.contextItems,r.data);let a=Yj(e,r.position,r.textDocument.uri,n);if(a)return[{items:a.map(p=>({command:jqe(Ir()),...p}))},null];let l=await Mh(e,r.textDocument,s),c=r.position,u=await zj(e,l,c,s,{isCycling:n,selectedCompletionInfo:r.context.selectedCompletionInfo,formattingOptions:r.formattingOptions,data:r.data});if(!u)return t.isCancellationRequested?[null,{code:cn.RequestCancelled,message:"Request was canceled"}]:i.isCancellationRequested?[null,{code:cn.ServerCancelled,message:"Request was superseded by a new request"}]:[{items:[]},null];let f=e.get(rs);for(let h of u)f.set(h.uuid,{...h,triggerCategory:"ghostText"});return[{items:u.map(h=>({command:jqe(h.uuid),insertText:h.insertText,range:h.range}))},null]}o(ZFt,"handleChecked");var $qe=st(eM,(e,t,r)=>ZFt(e,t,r));d();var zqe=DJ.type,bR;async function eNt(e,t,r){bR&&(bR.cancel(),bR.dispose());let n=r.context.triggerKind===1;bR=new Hn.CancellationTokenSource;let i=bR.token,s=new Iu([t,i]);r.contextItems&&Q9(e,r.contextItems);let a=await Mh(e,r.textDocument,s),l=await xue(e,a,r.position,s,{promptOnly:!0,isCycling:n,selectedCompletionInfo:r.context.selectedCompletionInfo,formattingOptions:r.formattingOptions,data:r.data});if(l.type!=="promptOnly")throw new Error(`Unexpected result type ${l.type}`);return[{prompt:l.prompt},null]}o(eNt,"handleChecked");var Yqe=st(eM,(e,t,r)=>eNt(e,t,r));d();d();function Iue(e){let t=e.indexOf("-----BEGIN CERTIFICATE-----")+27,r=e.indexOf("-----END CERTIFICATE-----"),n=30,i=e.substring(t,t+n)+"..."+e.substring(r-n,r-1);return O9(i)}o(Iue,"asReadableCert");function O9(e){return e.replace(/\s/g,"")}o(O9,"normalizeNewlines");var rNt=I.Object({});async function nNt(e){return[{certificates:(await e.get(Ka).getAllRootCAs()).map(O9)},null]}o(nNt,"handleListCertificatesChecked");var Kqe=st(rNt,nNt);d();async function iNt(e,t,r){let n=e.get(Dh);if(r.textDocument.version===void 0)throw new Error("textDocument.version is undefined");let i=ec(r.textDocument.uri);e.get(jp).onUserPositionChange(i,new Ao(r.position.line,r.position.character));let s=await n.handleNextEditRequest(i,r.textDocument.version,t);return s?[{edits:s.map(l=>({text:l.edit.text,textDocument:l.edit.textDocument,range:l.edit.range,command:{title:"Accept inline edit",command:Kk,arguments:[l.id]}}))},null]:[{edits:[]},null]}o(iNt,"handleChecked");var Jqe=st(qye,iNt);d();var oNt=I.Object({uuid:I.String({minLength:1}),acceptedLength:I.Optional(I.Number({minimum:1}))});function sNt(e,t,r){let n=e.get(rs),i=n.get(r.uuid);if(i){n.delete(r.uuid);let s=aNt(r,i);cx(e,i.triggerCategory,i.insertText,i.offset,i.uri,i.telemetry,s,i.copilotAnnotations)}return["OK",null]}o(sNt,"notifyAcceptedChecked");function aNt(e,t){return e.acceptedLength===void 0?{compType:"full"}:e.acceptedLength<t.insertText.length?{compType:"partial",acceptedLength:e.acceptedLength}:{compType:"full"}}o(aNt,"getSuggestionStatus");var Zqe=st(oNt,sNt);d();var lNt=I.Object({uuids:I.Array(I.String())});function cNt(e,t,r){let n=e.get(rs),i=r.uuids.flatMap(s=>n.get(s)??[]);if(i.length>0){let s=i[0];for(let l of r.uuids)n.delete(l);let a=i.map(l=>({completionText:l.displayText,completionTelemetryData:l.telemetry}));aO(e,"ghostText",s.offset,s.uri,a),e.get(f0).resetState()}return["OK",null]}o(cNt,"notifyRejectedChecked");var Xqe=st(lNt,cNt);d();var uNt=I.Object({uuid:I.String({minLength:1})});function fNt(e,t,r){let i=e.get(rs).get(r.uuid);return i&&$Q(e,i.triggerCategory,i),["OK",null]}o(fNt,"notifyShownChecked");var eWe=st(uNt,fNt);d();var dNt=EEe;function mNt(e,t,r){let n=e.get(ll),i={unregistered:[],registered:[]};return r.providers.forEach(s=>{try{let a=new L9(e,s.id,s.selector);n.registerContextProvider(a),i.registered.push(s.id)}catch{i.unregistered.push(s.id)}}),[i,null]}o(mNt,"registerContextProviders");var tWe=st(dNt,mNt);d();d();var rWe=require("net");function Tue(e){return e.HTTPS_PROXY||e.https_proxy||e.HTTP_PROXY||e.http_proxy}o(Tue,"getProxyFromEnvironment");function hNt(e){return e.NODE_TLS_REJECT_UNAUTHORIZED!=="0"}o(hNt,"getRejectUnauthorizedFromEnvironment");var nWe=I.Object({proxy:I.Optional(I.String()),proxyStrictSSL:I.Optional(I.Boolean()),proxyAuthorization:I.Optional(I.String()),proxyKerberosServicePrincipal:I.Optional(I.String())});function iWe(e){let r={proxy:Tue(e),proxyStrictSSL:hNt(e)},n=e.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.AGENT_KERBEROS_SERVICE_PRINCIPAL;return n&&(r.proxyKerberosServicePrincipal=n),r}o(iWe,"getHttpSettingsFromEnvironment");function ER(e){(0,rWe.isIPv6)(e)?e="https://["+e+"]":/:\/\//.test(e)||(e=`https://${e}`);let{hostname:t,port:r,username:n,password:i}=new URL(e);return{host:t,port:pNt(r),proxyAuth:gNt(n,i)}}o(ER,"proxySettingFromUrl");function pNt(e){if(!e)return 80;let t=Number(e);if(isNaN(t))throw new TypeError("Invalid proxy port");return t}o(pNt,"parsePort");function gNt(e,t){return!e||!t?"":`${decodeURIComponent(e)}:${decodeURIComponent(t)}`}o(gNt,"getAuth");d();var _ue=I.Object({host:I.String(),port:I.Number(),username:I.Optional(I.String()),password:I.Optional(I.String()),rejectUnauthorized:I.Optional(I.Boolean())}),ANt=I.Object({uri:I.Optional(I.String())}),yNt=I.Object({showEditorCompletions:I.Optional(I.Boolean()),enableAutoCompletions:I.Optional(I.Boolean()),delayCompletions:I.Optional(I.Boolean()),filterCompletions:I.Optional(I.Boolean())}),sWe=I.Object({github:I.Optional(I.Object({copilot:I.Optional(I.Object({}))})),"github-enterprise":I.Optional(ANt),http:I.Optional(nWe),telemetry:I.Optional(I.Object({telemetryLevel:I.Optional(I.String())}))}),Sue=Object.keys(sWe.properties).filter(e=>e!=="github"),CNt=I.Intersect([sWe,yNt]),kue=I.Object({url:I.Optional(I.String())}),xNt=I.Object({settings:I.Optional(I.Union([I.Object({}),I.Array(I.Unknown(),{maxItems:0})])),networkProxy:I.Optional(_ue),authProvider:I.Optional(kue)}),oWe=ds.Compile(xNt),wue=ds.Compile(CNt);async function aWe(e,t){if(!oWe.Check(t))throw new dc(oWe.Errors(t));let r=Array.isArray(t.settings)?{}:t.settings;r&&await Rue(e,r),t.networkProxy!==void 0&&Kj(e,t.networkProxy),t.authProvider&&e.get(On).updateBaseUrl(e,t.authProvider.url),await IR(e,r)}o(aWe,"notifyChangeConfiguration");async function Rue(e,t){for(let i of wue.Errors(t)){let s=i.path.split("/")?.[1];T0.warn(e,`Invalid ${i.path.slice(1).replace(/\//g,".")} setting:`,i.message),delete t[s]}if(!wue.Check(t))throw new dc(wue.Errors(t));let r=e.get(Bf);r.setConfig(Rt.ShowEditorCompletions,t.showEditorCompletions),r.setConfig(Rt.DelayCompletions,t.delayCompletions),r.setConfig(Rt.EnableAutoCompletions,t.enableAutoCompletions),r.setConfig(Rt.FilterCompletions,t.filterCompletions);let n=t["github-enterprise"];n&&e.get(On).updateBaseUrl(e,n.uri),t.http&&Bue(e,t.http),t.github?.copilot&&await vNt(e,t.github.copilot)}o(Rue,"applySettingsToConfiguration");async function vNt(e,t){let r=e.get(Bf);for(let n of Object.values(Rt)){let i=C3e(t,n);r.setConfig(n,i)}t.mcp?await bNt(e,t.mcp):await ENt(e)}o(vNt,"applyCopilotConfiguration");function Bue(e,t){let r=e.get(Bf),n=e.get(Or);if(t.proxy===void 0&&(t=iWe(r.env)),n.rejectUnauthorized=t?.proxyStrictSSL,!t.proxy){n.proxySettings=void 0;return}try{n.proxySettings=ER(t.proxy),t.proxyAuthorization&&(n.proxySettings.proxyAuth=t.proxyAuthorization),t.proxyKerberosServicePrincipal&&(n.proxySettings.kerberosServicePrincipal=t.proxyKerberosServicePrincipal)}catch(i){if(!(i instanceof TypeError))throw i;T0.warn(e,"Invalid proxy URL",t.proxy,i),n.proxySettings=void 0}}o(Bue,"applyHttpConfiguration");function Kj(e,t){if(!t){e.get(Or).proxySettings=void 0,e.get(Or).rejectUnauthorized=void 0;return}let r;t.username&&(t.password?r=t.username+":"+t.password:r=t.username),e.get(Or).proxySettings={host:t.host,port:t.port,proxyAuth:r},e.get(Or).rejectUnauthorized=t.rejectUnauthorized??!0}o(Kj,"applyNetworkProxyConfiguration");async function bNt(e,t){try{let r=JSON.parse(t);await e.get(wg).updateMCPServers(r)}catch(r){T0.error(e,"Failed to apply MCP configuration",r)}}o(bNt,"applyMCPConfiguration");async function ENt(e){await e.get(wg).updateMCPServers({})}o(ENt,"removeMCPConfiguration");async function IR(e,t){if(!e.get(Ho).getCapabilities().redirectedTelemetry){let r=(t?.telemetry?.telemetryLevel??"all")==="all";await $y(e,"agent",r)}await e.get($r).primeToken()}o(IR,"initializePostConfigurationDependencies");var lWe=I.Object({name:I.String(),version:I.String(),readableName:I.Optional(I.String())}),INt=I.Object({editorInfo:lWe,editorPluginInfo:lWe,editorConfiguration:I.Optional(I.Object({})),networkProxy:I.Optional(_ue),authProvider:I.Optional(kue),redirectTelemetry:I.Optional(I.Boolean()),options:I.Optional(I.Object({}))});async function TNt(e,t,r){e.get(dn).setEditorAndPluginInfo(r.editorPluginInfo,r.editorInfo),KG(e,["setEditorInfo is deprecated. Use initializationOptions for editorInfo and editorPluginInfo","and workspace/didChangeConfiguration for editorConfiguration."]),r.editorConfiguration&&await Rue(e,r.editorConfiguration);let n=e.get(Or),i=e.get(Bf).env,s=Tue(i);if(r.editorInfo.name==="VisualStudio"){if(s)n.proxySettings=ER(s);else if(r.networkProxy){Kj(e,r.networkProxy);let a=i.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??i.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??i.AGENT_KERBEROS_SERVICE_PRINCIPAL;n.proxySettings&&a&&(n.proxySettings.kerberosServicePrincipal??=a)}}else r.networkProxy?Kj(e,r.networkProxy):s&&(n.proxySettings=ER(s));return r.authProvider&&e.get(On).updateBaseUrl(e,r.authProvider.url),await IR(e,r.editorConfiguration),["OK",null]}o(TNt,"handleSetEditorInfoChecked");var cWe=st(INt,TNt);d();var wNt=I.Object({options:I.Optional(I.Object({}))});async function _Nt(e,t,r){let n=e.get(Bn).pendingSignIn?.status;if(n===void 0)return[null,{code:cn.InvalidRequest,message:"No pending sign in"}];let i;try{return i=await n,[i,null]}catch(s){return[null,{code:cn.DeviceFlowFailed,message:String(s)}]}finally{e.get(Bn).pendingSignIn=void 0}}o(_Nt,"handleSignInConfirmChecked");var uWe=st(wNt,_Nt);d();var SNt=I.Object({options:I.Optional(I.Object({})),githubAppId:I.Optional(I.String())});async function kNt(e,t,r){try{let n=await e.get(Bn).checkAndUpdateStatus(e,{githubAppId:r.githubAppId});if(n.status==="OK")return[{status:"AlreadySignedIn",user:n.user},null];let i=r.githubAppId??e.get(Xs).findAppIdToAuthenticate(),s=await e.get(G4).getToken(e,i),a=s.waitForAuth.then(async l=>(e.get(Xs).githubAppId=i,await e.get(Bn).setAuthRecord(e,{...l,githubAppId:i}),await e.get(Bn).checkAndUpdateStatus(e,{freshSignIn:!0})));return e.get(Bn).pendingSignIn={verificationUri:s.verification_uri,status:a},[{status:"PromptUserDeviceFlow",userCode:s.user_code,verificationUri:s.verification_uri,expiresIn:s.expires_in,interval:s.interval,command:{command:lH,title:"Sign in with GitHub",arguments:[]}},null]}catch(n){if(!(n instanceof Ys))throw n;return[null,{code:cn.DeviceFlowFailed,message:n.message}]}}o(kNt,"handleSignInInitiateChecked");var Due=st(SNt,kNt);d();var RNt=I.Object({githubToken:I.String({minLength:1}),user:I.String({minLength:1}),githubAppId:I.Optional(I.String({minLength:1}))});async function BNt(e,t,r){let n=r.githubToken,i=r.user,s=r.githubAppId;return await e.get(Bn).setAuthRecord(e,{user:i,oauth_token:n,githubAppId:s}),[await e.get(Bn).checkAndUpdateStatus(e),null]}o(BNt,"handleSignInWithGithubTokenChecked");var fWe=st(RNt,BNt);d();var DNt=I.Object({options:I.Optional(I.Object({}))});async function PNt(e,t,r){return await e.get(Bn).deleteAuthRecord(e),[await e.get(Bn).checkAndUpdateStatus(e),null]}o(PNt,"handleSignOutChecked");var dWe=st(DNt,PNt);d();var FNt=I.Object({});function NNt(e,t,r){return Xxe(e),["OK",null]}o(NNt,"handleTelemetryAuthNotifyDismissedChecked");var mWe=st(FNt,NNt);d();var LNt=I.Object({authSource:I.Union([I.Literal("toast"),I.Literal("goldbar"),I.Literal("menu")])});function QNt(e,t,r){return Zxe(e,r.authSource),["OK",null]}o(QNt,"handleTelemetryAuthNotifyShownChecked");var hWe=st(LNt,QNt);d();var MNt=I.Object({authType:I.Union([I.Literal("editorAuth"),I.Literal("deviceFlow")])});function ONt(e,t,r){return pQ(e,r.authType),["OK",null]}o(ONt,"handleTelemetryGitHubLoginSuccessChecked");var pWe=st(MNt,ONt);d();var UNt=I.Object({authSource:I.Union([I.Literal("toast"),I.Literal("goldbar"),I.Literal("menu")]),authType:I.Union([I.Literal("editorAuth"),I.Literal("deviceFlow")])});function qNt(e,t,r){return hQ(e,r.authSource,r.authType),["OK",null]}o(qNt,"handleTelemetryNewGitHubLoginChecked");var gWe=st(UNt,qNt);d();var WNt=I.Object({transaction:I.Optional(I.String()),stacktrace:I.Optional(I.String()),properties:I.Optional(I.Record(I.String(),I.String())),platform:I.Optional(I.String()),exception_detail:I.Optional(I.Array(I.Object({type:I.Optional(I.String()),value:I.Optional(I.String()),stacktrace:I.Optional(I.Array(I.Object({filename:I.Optional(I.String()),lineno:I.Optional(I.Union([I.String(),I.Integer()])),colno:I.Optional(I.Union([I.String(),I.Integer()])),function:I.Optional(I.String()),in_app:I.Optional(I.Boolean())})))})))}),Pue=class extends Error{constructor(r,n){super(r);this.code=n;this.name="AgentEditorError"}static{o(this,"AgentEditorError")}};function GNt(e,t,r){let n=e.get(Eo),i=e.get(dn).getEditorPluginInfo(),s=r.properties||{},a;r.platform&&r.exception_detail&&Pg.has(i.name)&&(a=Object.assign({rollup_id:"auto",context:LJ(e),sensitive_context:{},deployed_to:n.getBuildType(),platform:r.platform,exception_detail:r.exception_detail},Pg.get(i.name)),r.transaction&&(a.transaction=r.transaction),n.getBuildType()!=="dev"&&(a.release=`${a.app}@${i.version}`));let l=new Pue(r.stacktrace??"N/A",i.name);return l.stack=void 0,xa(e,l,void 0,s,a),["OK",null]}o(GNt,"handleTelemetryExceptionChecked");var AWe=st(WNt,GNt);d();d();d();d();d();d();var yWe=et(require("tls"));var Jj=class{static{o(this,"RootCertificateConfigurator")}#e;constructor(t){this._certificateReader=t.get(Ka)}async enhanceProxySettings(t){let r=await this.getCertificates();return{...t,ca:r}}async getCertificates(){let t=await this._certificateReader.getAllRootCAs();if(t.length!==0)return t}async createSecureContext(){let t=await this._certificateReader.getAllRootCAs(),n=yWe.createSecureContext({_vscodeAdditionalCaCerts:t}),i=n.context;for(let s of t)i.addCACert(s);return{secureContext:n,certs:t}}async applyToRequestOptions(t){this.#e??=this.createSecureContext();let r=await this.#e;t.secureContext=r.secureContext,t.ca=r.certs,t.cert=r.certs}};d();var $9=et(PGe(),1),qLn={ALPN_HTTP2:$9.default.ALPN_HTTP2,ALPN_HTTP2C:$9.default.ALPN_HTTP2C,ALPN_HTTP1_1:$9.default.ALPN_HTTP1_1,ALPN_HTTP1_0:$9.default.ALPN_HTTP1_0},{fetch:WLn,context:FGe,reset:GLn,noCache:HLn,h1:jLn,keepAlive:VLn,h1NoCache:$Ln,keepAliveNoCache:zLn,cacheStats:YLn,clearCache:KLn,offPush:JLn,onPush:ZLn,createUrl:XLn,timeoutSignal:eQn,Body:tQn,Headers:NGe,Request:rQn,Response:nQn,AbortController:yV,AbortError:CV,AbortSignal:LGe,FetchBaseError:iQn,FetchError:oQn,ALPN_HTTP2:sQn,ALPN_HTTP2C:aQn,ALPN_HTTP1_1:lQn,ALPN_HTTP1_0:cQn}=$9.default;var z9=class extends Or{constructor(r){super();this.ctx=r;this.name="HelixFetcher";this.createSocketFactory=o((r,n)=>async i=>{i.rejectUnauthorized=n,i.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(i);let s=await this.certificateConfigurator.enhanceProxySettings(r);return await this.proxySocketFactory.createSocket(i,s)},"createSocketFactory");this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new Jj(r),this.proxySocketFactory=r.get(gg)}static{o(this,"HelixFetcher")}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.ctx)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.ctx)}get rejectUnauthorized(){return super.rejectUnauthorized}createFetchApi(r){let n=r.get(Eo);return super.rejectUnauthorized===!1&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),FGe({userAgent:`GithubCopilot/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,super.rejectUnauthorized):void 0,rejectUnauthorized:super.rejectUnauthorized})}async fetch(r,n){let i=n.signal,s=!1;if(n.timeout){let u=this.makeAbortController();setTimeout(()=>{u.abort(),s=!0},n.timeout),n.signal?.addEventListener("abort",()=>u.abort()),n.signal?.aborted&&u.abort(),i=u.signal}let a={...n,body:n.body?n.body:n.json,signal:i};await this.certificateConfigurator.applyToRequestOptions(a);let l=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(l);let c=await this.fetchApi.fetch(r,a).catch(u=>{throw s?new FT(`Request to <${r}> timed out after ${n.timeout}ms`,u):u});return new Ty(c.status,c.statusText,c.headers,()=>c.text(),()=>c.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new yV}};d();d();var DR=require("fs");var Y9=class extends Io{static{o(this,"LocalFileSystem")}async readFileString(t){return(await DR.promises.readFile(Il(t))).toString()}async stat(t){let{targetStat:r,lstat:n,stat:i}=await this.statWithLink(Il(t));return{ctime:r.ctimeMs,mtime:r.mtimeMs,size:r.size,type:this.getFileType(r,n,i)}}async readDirectory(t){let r=Il(t),n=await DR.promises.readdir(r,{withFileTypes:!0}),i=[];for(let s of n)i.push([s.name,s.isFile()?1:2]);return i}async statWithLink(t){let r=await DR.promises.lstat(t);if(r.isSymbolicLink())try{let n=await DR.promises.stat(t);return{lstat:r,stat:n,targetStat:n}}catch{}return{lstat:r,targetStat:r}}getFileType(t,r,n){let i=0;return t.isFile()&&(i=1),t.isDirectory()&&(i=2),r.isSymbolicLink()&&n&&(i|=64),i}};d();var xV=class extends Qh{constructor(r=[]){super();this._agents=r}static{o(this,"TestRemoteAgentRegistry")}agents(){return this._agents}};d();var vV=class extends Za{constructor(){super(...arguments);this.prompts=[];this.fetchResults=[];this.diffs=[]}static{o(this,"TestConversationInspector")}shouldInspect(){return!0}inspectPrompt(r){this.shouldInspect()&&this.prompts.push(r)}inspectFetchResult(r){this.shouldInspect()&&this.fetchResults.push(r)}documentDiff(r){this.shouldInspect()&&this.diffs.push(r)}};d();var dfe=class extends Ka{constructor(r){super();this.certificates=r}static{o(this,"TestCertificateReader")}getAllRootCAs(){return this.certificates}},MGe=o(e=>new dfe(e),"createTestCertificateReader");function pfe(e,t,r){let n=new mfe;n.set("x-github-request-id","1");for(let[i,s]of Object.entries(r||{}))n.set(i,s);return new Ty(e,"status text",n,()=>Promise.resolve(t??""),()=>null)}o(pfe,"createFakeResponse");function OGe(e,t,r){let n;return typeof t=="string"?n=t:n=JSON.stringify(t),pfe(e,n,Object.assign({"content-type":"application/json"},r))}o(OGe,"createFakeJsonResponse");var PR=class extends Or{constructor(){super(...arguments);this.name="FakeFetcher"}static{o(this,"FakeFetcher")}disconnectAll(){throw new Error("Method not implemented.")}makeAbortController(){return new hfe}};var bV=class extends PR{static{o(this,"NoFetchFetcher")}fetch(t,r){throw new Error("NoFetchFetcher does not support fetching")}};var mfe=class{constructor(){this.headers=new Map}static{o(this,"FakeHeaders")}append(t,r){this.headers.set(t.toLowerCase(),r)}delete(t){this.headers.delete(t.toLowerCase())}get(t){return this.headers.get(t.toLowerCase())??null}has(t){return this.headers.has(t.toLowerCase())}set(t,r){this.headers.set(t.toLowerCase(),r)}entries(){return this.headers.entries()}keys(){return this.headers.keys()}values(){return this.headers.values()}[Symbol.iterator](){return this.headers.entries()}},hfe=class{constructor(){this.signal={aborted:!1,addEventListener:o(()=>{},"addEventListener"),removeEventListener:o(()=>{},"removeEventListener")}}static{o(this,"FakeAbortController")}abort(){this.signal.aborted=!0}};d();function FMt(e){return{modelId:"gpt-3.5-turbo",modelFamily:e,uiName:"Test GPT",maxRequestTokens:6144,maxResponseTokens:2048,baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:"cl100k_base",isExperimental:!1,stream:!0,toolCalls:!0}}o(FMt,"fakeChatModelConfiguration");function NMt(e){return{modelId:"embedding-test",modelFamily:e,maxBatchSize:1,maxTokens:50,tokenizer:"cl100k_base"}}o(NMt,"fakeEmbeddingModelConfiguration");var EV=class extends ui{static{o(this,"TestModelConfigurationProvider")}getBestChatModelConfig(t){let r=t[0];return Promise.resolve(FMt(r))}getFirstMatchingEmbeddingModelConfiguration(t){return Promise.resolve(NMt(t))}};d();var IV=class extends tc{constructor(){super(...arguments);this.openedUrls=[];this.opened=new GI}static{o(this,"TestUrlOpener")}open(r){return this.openedUrls.push(r),this.opened.resolve(),Promise.resolve()}},TV=class extends va{constructor(){super();this.sentMessages=[];this.warningPromises=[]}static{o(this,"TestNotificationSender")}performDismiss(){this.actionToPerform="DISMISS"}performAction(r){this.actionToPerform=r}showWarningMessage(r,...n){this.sentMessages.push(r);let i;if(this.actionToPerform)if(this.actionToPerform==="DISMISS")i=Promise.resolve(void 0);else{let s=n.find(a=>a.title===this.actionToPerform);i=s?Promise.resolve(s):Promise.resolve(void 0)}else i=n?Promise.resolve(n[0]):Promise.resolve(void 0);return this.warningPromises.push(i),i}async waitForWarningMessages(){await Promise.all(this.warningPromises)}};d();function UGe(e,t,r,n){return $1.create(E5e(e),t,r,n,t)}o(UGe,"createTextDocument");var gfe=class extends Jr{constructor(r){super(r);this._openTextDocuments=[];this._notebookDocuments=new Map;this._workspaceFolders=[];this._focusSubscribers=[];this._changeSubscribers=[];this._openSubscribers=[];this._closeSubscribers=[];this.onDidFocusTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._focusSubscribers.push(s),{dispose:o(()=>{this._focusSubscribers=this._focusSubscribers.filter(a=>a!==s)},"dispose")}},"onDidFocusTextDocument");this.onDidChangeTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._changeSubscribers.push(s),{dispose:o(()=>{this._changeSubscribers=this._changeSubscribers.filter(a=>a!==s)},"dispose")}},"onDidChangeTextDocument");this.onDidOpenTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._openSubscribers.push(s),{dispose:o(()=>{this._openSubscribers=this._openSubscribers.filter(a=>a!==s)},"dispose")}},"onDidOpenTextDocument");this.onDidCloseTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._closeSubscribers.push(s),{dispose:o(()=>{this._closeSubscribers=this._closeSubscribers.filter(a=>a!==s)},"dispose")}},"onDidCloseTextDocument")}static{o(this,"SimpleTestTextDocumentManager")}init(r){this._workspaceFolders=r.map(n=>({uri:n.uri,name:n.name??Di(n.uri)}))}async readTextDocumentFromDisk(r){return super.readTextDocumentFromDisk(r)}getTextDocumentsUnsafe(){return this._openTextDocuments}setTextDocument(r,n,i){let s=UGe(r,n,0,i);return this._openTextDocuments.push(s),s}updateTextDocument(r,n){let i=this._openTextDocuments.findIndex(a=>a.uri===r.toString());if(i<0)throw new Error("Document not found");let s=this._openTextDocuments[i];this._openTextDocuments[i]=UGe(r,s.clientLanguageId,s.version+1,n)}setNotebookDocument(r,n){this._notebookDocuments.set(r.uri.replace(/#.*/,""),n)}findNotebook({uri:r}){return this._notebookDocuments.get(r.replace(/#.*/,""))}getWorkspaceFolders(){return this._workspaceFolders}emitEvent(r){switch(r.eventName){case"focus":this._focusSubscribers.forEach(n=>n(r.args));break;case"change":this._changeSubscribers.forEach(n=>n(r.args));break;case"open":this._openSubscribers.forEach(n=>n(r.args));break;case"close":this._closeSubscribers.forEach(n=>n(r.args));break}}},wV=class extends gfe{constructor(r){super(r);this.contents=new Map}static{o(this,"TestTextDocumentManager")}readTextDocumentFromDisk(r){return Promise.resolve(this.contents.get(r))}setDiskContents(r,n){this.contents.set(r,n)}};var Afe=class extends qa{static{o(this,"NullLog")}logIt(...t){}};function LMt(e){let t=new MI;return t.set(Op,e),t.set(b4,e),t.set(Eo,new Eo),t.set(ld,new ld({debug:!1,verboseLogging:!1,testMode:!0,simulation:!1})),t.set(Ka,MGe([])),t.set(gg,Wq(t)),t.set(bp,new bp),t.set(Hm,new VF),t.set(lf,new lf),t.set(Bp,new Bp),t.set(Pp,new Pp),t.set(Jl,new Jl(t,"tid=test",!0)),t.set(Bs,new Bs),t.set(va,new TV),t.set(tc,new IV),t.set(Lp,new C8),t.set(qa,new Afe),t.set($0,new $0),t.set(ws,new ws("test-session","test-machine")),t.set(On,new N6(t)),t.set(zu,new zu),$y(t,"copilot-test",!0),t.set(xr,new xr(t)),t.set(Sd,new Sd),t.set(af,new af),t.set(zm,new CI),t.set($r,new WC("tid=test")),t.set(zi,new eN),t.set(Do,new Do),t.set(ah,nO(t)),t.set(f0,new f0),t.set(Pd,new Pd),t.set(aA,aA.default),t.set(Ef,new Ef),t.set(md,new md(t,!1)),t.set(Xs,new Xs),t.set(Pn,new Pn(t)),t.set(of,new gQ),t.set(wl,new wl),t.set(ll,ZM(t,async(r,n,i)=>n.find(s=>s==="*")?1:n.find(s=>typeof s!="string"&&s.language===i.languageId)?10:0)),QMt(t),t.set(nh,new nh(t)),t.set(Ho,new Ho),t}o(LMt,"_createBaselineContext");function QMt(e){e.set(co,new co(e)),e.set($s,new $s(e)),e.set(hc,new hc(e)),e.set(Xa,new Xa),e.set(Ul,new Ul),e.set(Za,new vV),e.set(nm,new nm(e,[])),e.set(ui,new EV),e.set(Qh,new xV),e.set(Lg,new Lg(e)),e.set(BC,new BC),e.set(ca,new ca(e)),e.set(mc,new mc),e.set(Pf,new Pf)}o(QMt,"registerConversation");function qGe(){let e=LMt(new b4(new xI,new Map));return e.set(Or,new bV),e.set(dn,new yfe),e.set(Jr,new wV(e)),e.set(Io,new Y9),e.set(Lc,new Lc(e)),e.set(Ja,new Ja(e)),e.set(cc,new Vq(e)),GG(e),e}o(qGe,"createLibTestingContext");var yfe=class extends dn{constructor(r={name:"lib-tests-plugin",version:"2"},n={name:"lib-tests-editor",version:"1"},i=[{name:"lib-tests-related-plugin",version:"3"}]){super();this.editorPluginInfo=r;this.editorInfo=n;this.relatedPluginInfo=i}static{o(this,"LibTestsEditorInfo")}getEditorInfo(){return this.editorInfo}getEditorPluginInfo(){return this.editorPluginInfo}getRelatedPluginInfo(){return this.relatedPluginInfo}};var GGe=et(require("fs"));var WGe=`${process.env.HOME}/.copilot-testing-gh-token`,_V,SV;async function HGe(e){e.forceSet($r,new WC(await MMt()))}o(HGe,"setTestingCopilotTokenManager");var MMt=o(async()=>{if(process.env.GH_COPILOT_IDE_TOKEN)return process.env.GH_COPILOT_IDE_TOKEN;let e=process.env.GH_COPILOT_TOKEN??"";if(/=/.test(e))return e;if(SV)return SV;let t=e||process.env.GITHUB_COPILOT_TOKEN||await OMt(),r=qGe(),n=new z9(r);return r.forceSet(Or,n),SV=JF(r,{token:t}).then(i=>{if(i.kind==="success")return i.envelope.token;throw new Ys('Could not fetch testing Copilot token. Try running "npm run get_token" again?')}),SV},"getCopilotToken");async function OMt(){try{_V??=(await GGe.promises.readFile(WGe)).toString().trim()}catch{_V??=process.env.GITHUB_TOKEN??""}if(!_V)throw new Error(`Tests: either GH_COPILOT_IDE_TOKEN, GH_COPILOT_TOKEN, or GITHUB_TOKEN must be set, or there must be a GitHub token from an app with access to Copilot in ${WGe}. Run "npm run get_token" to get one.`);return _V}o(OMt,"getTestingGitHubToken");function jGe(e){return new M1({token:`test token ${Ir()}`,refresh_in:0,expires_at:0,...e})}o(jGe,"createTestCopilotToken");var WC=class extends $r{constructor(r){super();this.token=r;this.wasReset=!1}static{o(this,"FixedCopilotTokenManager")}async getGitHubSession(){return Promise.resolve({token:`copilot-client test oauth token ${Ir()}`})}getToken(){return Promise.resolve(jGe({token:this.token}))}resetToken(){this.wasReset=!0}checkCopilotToken(){return Promise.resolve({status:"OK"})}};var kV=class extends Bn{static{o(this,"NotAuthManager")}constructor(){super(null,null)}getAuthRecord(){return Promise.resolve(void 0)}checkAndUpdateStatus(t,r){return Promise.resolve({status:"NotSignedIn"})}},RV=class extends Bn{static{o(this,"AlwaysAuthManager")}constructor(){super(null,new WC("tid=valid-copilot-token"))}getAuthRecord(){return Promise.resolve({user:"user",oauth_token:"",githubAppId:""})}};var UMt=I.Object({options:I.Optional(I.Object({}))});async function qMt(e,t,r){return e.forceSet(Bn,new RV),e.get($r).resetToken(),e.get(zi).forceNormal(),await new Promise(n=>setTimeout(n,0)),["OK",null]}o(qMt,"handleTestingAlwaysAuthChecked");var VGe=st(UMt,qMt);d();var WMt=I.Object({messages:I.Array(I.Object({role:I.Enum(Nl),content:I.String(),name:I.Optional(I.String())})),modelFamily:I.Optional(I.Enum(mi)),stop:I.Optional(I.Array(I.String())),conversationOptions:I.Optional(I.Object({maxResponseTokens:I.Optional(I.Number()),temperature:I.Optional(I.Number())}))});async function GMt(e,t,r){let n=new ka(e),i=await e.get(ui).getBestChatModelConfig([r.modelFamily??mi.Gpt35turbo]),s=await n_(e,"","");return[await n.fetchResponse({modelConfiguration:i,messages:r.messages,uiKind:"conversationIntegrationTest",stop:r.stop,intentParams:{intent:!0},llmInteraction:Eu.user("test",Ir())},t,s),null]}o(GMt,"handleChatMLChecked");var $Ge=fo(st(WMt,GMt));d();d();var zGe=require("crypto"),YGe=require("http"),KGe=require("stream"),JGe=require("util"),J9=et(Xm());var HMt=9e4,jMt=new J9.ProtocolRequestType("copilot/fetch"),VMt=new J9.ProtocolRequestType("copilot/fetchCancel"),$Mt=new J9.ProgressType,zMt=new J9.ProtocolRequestType("copilot/fetchDisconnectAll"),Hg=class extends Error{static{o(this,"EditorFetcherError")}constructor(t){super(t),this.name="EditorFetcherError"}},K9=class extends Or{constructor(r){super();this.ctx=r;this.name="EditorFetcher";this.userAgent=`GithubCopilot/${r.get(Eo).getVersion()}`}static{o(this,"EditorFetcher")}disconnectAll(){return this.ctx.get(Hr).connection.sendRequest(zMt,{})}makeAbortController(){return new yV}async fetch(r,n){n.headers||={},n.headers["user-agent"]=this.userAgent;let{signal:i}=n,s=this.ctx.get(Hr).connection,a=(0,zGe.randomUUID)(),l=new Hn.CancellationTokenSource,c=new KGe.PassThrough,u=o(()=>{s.sendRequest(VMt,{workDoneToken:a})},"sendCancelRequest"),f=o(()=>{c.emit("error",new CV("EditorFetch request aborted")),c.end()},"destroyBodyStream");if(i){if(!(i instanceof LGe))throw new Hg("EditorFetcher received unexpected abort signal");if(i.aborted)throw new CV("EditorFetcher signal aborted before fetch");i.addEventListener("abort",u)}s.onProgress($Mt,a,h=>{h.kind==="end"?(i?.removeEventListener("abort",u),i?.removeEventListener("abort",f),h.error&&c.emit("error",new Hg(h.error)),c.end()):h.kind==="report"&&c.write(h.chunk)});let m=await new Promise((h,p)=>{let A=setTimeout(()=>{p(new Hg("Request timed out from lsp server"))},n.timeout??HMt),x=o(()=>{p(new CV("EditorFetcher request aborted"))},"rejectIfAborted");i?.addEventListener("abort",x),s.sendRequest(jMt,KMt(r,a,n),l.token).then(h).catch(v=>{let E="EditorFetcher request failed";v&&typeof v=="object"&&"message"in v&&(E+=`: ${String(v.message)}`),v&&typeof v=="object"&&"data"in v&&(E+=`: ${(0,JGe.inspect)(v.data)}`),p(new Hg(E))}).finally(()=>{i?.removeEventListener("abort",x),clearTimeout(A)})});if(!m.status)throw new Hg("EditorFetcher received invalid response");return i?.addEventListener("abort",f),new Ty(m.status,YGe.STATUS_CODES[m.status]??"",new NGe(m.headers),()=>YMt(c),()=>c)}};function YMt(e){return new Promise((t,r)=>{let n="";e.on("error",r),e.on("end",()=>t(n)),e.on("data",i=>n+=String(i))})}o(YMt,"consumeStream");function KMt(e,t,r){let{timeout:n,method:i}=r,s=r.headers??{},a=r.json?JSON.stringify(r.json):r.body;return r.json&&(s["content-type"]="application/json"),{url:e,headers:s,body:a,timeout:n,method:i,workDoneToken:t}}o(KMt,"convertOptionsToParams");var JMt=I.Object({url:I.String(),headers:I.Optional(I.Record(I.String(),I.String())),body:I.Optional(I.String()),timeout:I.Optional(I.Number()),method:I.Optional(I.Union([I.Literal("GET"),I.Literal("POST")])),cancelBeforeRequest:I.Optional(I.Boolean()),cancelAfterRequest:I.Optional(I.Boolean()),cancelAfterFirstChunk:I.Optional(I.Boolean())});async function ZMt(e,t,r){let n=new K9(e),i=n.makeAbortController(),s=i.signal,{url:a,cancelBeforeRequest:l,cancelAfterRequest:c,cancelAfterFirstChunk:u,...f}=r;l&&i.abort();let m=n.fetch(a,{signal:s,...f});c&&i.abort();let h;try{h=await m}catch(x){return[{error:`Fetch stream error: ${x instanceof Hg?x.message:String(x)}`},null]}let{status:p}=h,A=Object.fromEntries(Array.from(h.headers));try{if(u){let v=h.body();for await(let E of v){let b=E.toString();return i.abort(),[{status:p,headers:A,body:b},null]}}let x=await h.text();return[{status:p,headers:A,body:x},null]}catch(x){return[{error:`Fetch stream error: ${x instanceof Hg?x.message:String(x)}`},null]}}o(ZMt,"handleTestingFetchChecked");var ZGe=st(JMt,ZMt);d();var XMt=I.Object({});async function eOt(e,t,r){return await e.get(Do).flush(),["OK",null]}o(eOt,"handleTestingFlushPromiseQueueChecked");var XGe=st(XMt,eOt);d();var tOt=I.Object({filePath:I.String(),code:I.String(),offset:I.Number(),languageId:I.String(),timeout:I.Optional(I.Number()),waitForContext:I.Optional(I.Boolean())});async function rOt(e,t,r){try{await e.get(Zd).start();let n=e.get(Ev),i=r.timeout??1e3,s=Date.now(),a=[],l=!0;for(;l;)try{a=await n.indexClient.getContext(r.filePath,r.code,r.offset,r.languageId,t)}catch{}finally{l=(r.waitForContext??!1)&&a.length==0&&Date.now()-s<i}return[{initialized:!0,context:a},null]}catch{return[{initialized:!1,context:[]},null]}}o(rOt,"handleTestingGetContextChecked");var eHe=st(tOt,rOt);d();var nOt=I.Object({uri:I.String()});async function iOt(e,t,r){let i=await e.get(Jr).getTextDocument(r);return[{uri:r.uri,languageId:i?.clientLanguageId??"unknown",version:i?.version??-1,text:i?.getText()??""},null]}o(iOt,"handleGetDocumentChecked");var tHe=st(nOt,iOt);d();d();d();var BV=et(require("assert"));var n2=class{constructor(){this.events=[];this.errors=[]}static{o(this,"TelemetrySpy")}sendTelemetryEvent(t,r={},n={}){this.events.push({name:t,properties:r,measurements:n})}sendTelemetryErrorEvent(t,r={},n={},i){this.errors.push({name:t,properties:r,measurements:n,errorProps:i})}sendTelemetryException(t,r={},n={}){this.events.push({name:"error.exception",properties:{message:t.message,...r},measurements:n})}dispose(){return Promise.resolve()}get hasEvent(){return this.events.length>0}get hasError(){return this.errors.length>0}get exceptions(){return this.events.filter(t=>t.name==="error.exception")}get hasException(){return this.exceptions.length>0}get firstEvent(){return this.events[0]}get firstError(){return this.errors[0]}get firstException(){return this.exceptions[0]}eventsMatching(t){return this.events.filter(t)}eventByName(t){let r=this.events.filter(n=>n.name===t);return BV.strictEqual(r.length,1,`Expected exactly one event with name ${t}`),r[0]}errorsMatching(t){return this.errors.filter(t)}exceptionsMatching(t){return this.exceptions.filter(t)}assertHasProperty(t){BV.ok(this.eventsMatching(r=>r.name!=="ghostText.produced").every(r=>t(r.properties)))}};var Z9=class extends Do{static{o(this,"TestPromiseQueue")}async awaitPromises(){await Promise.all(this.promises)}};var oOt=I.Object({});async function sOt(e,t,r){let n=e.get(Bs),i=n.getReporter(e),s=n.getRestrictedReporter(e);if(!(i instanceof n2)||!(s instanceof n2||s===void 0))return[null,{code:cn.InternalError,message:"Telemetry is not being captured. You must first call testing/setTelemetryCapture."}];let a=e.get(Do);return a instanceof Z9&&await a.awaitPromises(),[{standard:{events:i.events,errors:i.errors},restricted:{events:s?.events||[],errors:s?.errors||[]}},null]}o(sOt,"handleTestingGetTelemetryChecked");var rHe=st(oOt,sOt);d();var aOt=I.Object({options:I.Optional(I.Object({}))});async function lOt(e,t,r){e.forceSet(Bn,new kV),e.get($r).resetToken();try{await e.get($r).getToken()}catch{}return await new Promise(n=>setTimeout(n,0)),["OK",null]}o(lOt,"handleTestingNeverAuthChecked");var nHe=st(aOt,lOt);d();d();var Cfe=class extends PR{static{o(this,"ExpConfigFetcher")}constructor(t){super(),this.fullConfig={Features:[],Flights:{},Configs:[{Id:"vscode",Parameters:t.Parameters}],ParameterGroups:[],AssignmentContext:t.AssignmentContext}}fetch(t,r){return t.endsWith("telemetry")?Promise.resolve(OGe(200,this.fullConfig)):Promise.resolve(pfe(404,""))}},DV=class extends Cfe{constructor(r,n){super(r);this.delegate=n}static{o(this,"ExpConfigFetcherWithDelegate")}fetch(r,n){return r.endsWith("telemetry")?super.fetch(r,n):this.delegate.fetch(r,n)}makeAbortController(){return this.delegate.makeAbortController()}};var cOt=I.Object({expFlags:I.Record(I.String(),I.Union([I.String(),I.Number(),I.Boolean()]))});function uOt(e,t,r){if(r.expFlags){let n={AssignmentContext:"assignmentcontext",Parameters:{...r.expFlags}};e.forceSet(Or,new DV(n,e.get(Or)))}return["OK",null]}o(uOt,"handleTestingOverrideExpFlagsChecked");var iHe=st(cOt,uOt);d();var fOt=I.Object({rules:Vee});function dOt(e,t,r){let n=e.get(Lc);return n?(n.setTestingRules(r.rules),["OK",null]):[null,{code:cn.InternalError,message:"Could not set content exclusion rules"}]}o(dOt,"handleTestingSetContentExclusionRulesChecked");var oHe=st(fOt,dOt);d();var mOt=I.Object({workDoneToken:I.Union([I.String(),I.Number()]),chunks:I.Array(I.String()),followUp:I.Optional(I.String()),suggestedTitle:I.Optional(I.String()),skills:I.Optional(I.Array(I.String())),references:I.Optional(I.Array(D9)),options:I.Optional(I.Object({}))});function hOt(e,t,r){return e.get(YA).add(r.workDoneToken,r.chunks,r.followUp,r.suggestedTitle,r.skills,r.references),["OK",null]}o(hOt,"handleTestingSetSyntheticTurnsChecked");var sHe=st(mOt,hOt);d();var pOt=I.Object({telemetryCapture:I.Boolean()});async function gOt(e,t,r){return r.telemetryCapture?(await $y(e,"agent",!1),e.get(Bs).setReporter(new n2),e.get(Bs).setRestrictedReporter(new n2),e.forceSet(Do,new Z9)):(await $y(e,"agent",!0),e.forceSet(Do,new Do)),["OK",null]}o(gOt,"handleTestingSetTelemetryCaptureChecked");var aHe=st(pOt,gOt);d();var AOt=I.Object({});async function yOt(e,t,r){let n=e.get(va),i=e.get(qa);return await n.showWarningMessage("This is a test message",{title:"Some Action"}).then(a=>s(3,"response from message request",a?.title)).catch(a=>s(1,"error sending show message request",a)),["OK",null];function s(a,l,c){return i.logIt(e,a,"triggerShowMessage",`${l} (${String(c)})`)}o(s,"sendNotification")}o(yOt,"handleTriggerShowMessageChecked");var lHe=st(AOt,yOt);d();var COt=I.Object({options:I.Optional(I.Object({})),githubAppId:I.Optional(I.String())}),xfe=class extends Bn{constructor(r,n){super(void 0,r);this.githubAppId=n;this.user="user"}static{o(this,"FakeAuthManager")}getAuthRecord(){return Promise.resolve({user:this.user,oauth_token:"",githubAppId:this.githubAppId})}};async function xOt(e,t,r){return await HGe(e),e.forceSet(Bn,new xfe(e.get($r),r.githubAppId)),["OK",null]}o(xOt,"handleTestingUseTestingTokenChecked");var cHe=st(COt,xOt);d();var vOt=I.Object({});async function bOt(e,t,r){return await new y9().uninstall(e),["OK",null]}o(bOt,"handleUninstallChecked");var uHe=st(vOt,bOt);d();var EOt=IEe;function IOt(e,t,r){let n=e.get(ll),i={unregistered:[],notUnregistered:[]};return r.providers.forEach(s=>{try{n.unregisterContextProvider(s.id),i.unregistered.push(s.id)}catch{i.notUnregistered.push(s.id)}}),[i,null]}o(IOt,"unregisterContextProviders");var fHe=st(EOt,IOt);d();var vfe=et(require("os"));var TOt=I.Object({expectedCertificate:I.String()});async function wOt(e,t,r){let i=(await qq(e).getAllRootCAs()).map(O9),s=O9(r.expectedCertificate);return i.includes(s)?[{status:!0,message:"Certificate verified"},null]:[{status:!1,message:`expected certificate not found - Expected to find certificate ${Iue(s)}. Only found those installed on the system:${vfe.EOL}${i.map(a=>"- "+Iue(a)).join(vfe.EOL)}`},null]}o(wOt,"handleVerifyCertificateChecked");var dHe=st(TOt,wOt);d();var _Ot=I.Object({});async function SOt(){return[{status:!!await new ZS().load()},null]}o(SOt,"handleVerifyKerberosChecked");var mHe=st(_Ot,SOt);d();var kOt=I.Object({source:I.String(),version:I.Number(),uri:I.String()});async function ROt(e,t,r){let i=await e.get(Jr).getTextDocument(r);return i?i.getText()!==r.source?[{status:!1,message:`Source mismatch: [State] ${i.getText()} !== [Request] ${r.source}`},null]:i.version!==r.version?[{status:!1,message:`Version mismatch: [State] ${i.version} !== [Request] ${r.version}`},null]:[{status:!0,message:""},null]:[{status:!1,message:`Document not found: <${r.uri}>`},null]}o(ROt,"handleVerifyStateChecked");var hHe=st(kOt,ROt);d();var BOt=I.Object({});function DOt(e,t,r){return[e.get(Jr).getWorkspaceFolders().map(i=>{let s=new URL(i.uri),a=decodeURIComponent(s.pathname);return{...i,path:a}}),null]}o(DOt,"handleVerifyWorkspaceStateChecked");var pHe=st(BOt,DOt);var Wv=class{constructor(t){this.handlers=t}static{o(this,"MethodHandlers")}};function gHe(){let e=new Map;return e.set(Vqe.method,$qe),e.set(zqe.method,Yqe),e.set("getCompletions",Mqe),e.set("getCompletionsCycling",Oqe),e.set("getPanelCompletions",Wqe),e.set(bqe.method,Eqe),e.set("getVersion",Gqe),e.set("setEditorInfo",cWe),e.set("checkStatus",DMe),e.set("checkFileStatus",BMe),e.set("signInInitiate",Due),e.set("signIn",Due),e.set("signInConfirm",uWe),e.set("signInWithGithubToken",fWe),e.set("signOut",dWe),e.set("notifyShown",eWe),e.set("notifyAccepted",Zqe),e.set("notifyRejected",Xqe),e.set("telemetry/exception",AWe),e.set("telemetry/authNotifyDismissed",mWe),e.set("telemetry/authNotifyShown",hWe),e.set("telemetry/gitHubLoginSuccess",pWe),e.set("telemetry/newGitHubLogin",gWe),e.set("textDocument/copilotInlineEdit",Jqe),e.set("testing/overrideExpFlags",iHe),e.set("testing/alwaysAuth",VGe),e.set("testing/neverAuth",nHe),e.set("testing/useTestingToken",cHe),e.set("testing/setCompletionDocuments",Fqe),e.set("testing/setPanelCompletionDocuments",xqe),e.set("testing/triggerShowMessageRequest",lHe),e.set("testing/getTelemetry",rHe),e.set("testing/setTelemetryCapture",aHe),e.set("testing/flushPromiseQueue",XGe),e.set("testing/getDocument",tHe),e.set("testing/chatml",$Ge),e.set("testing/setSyntheticTurns",sHe),e.set("testing/fetch",ZGe),e.set("testing/setContentExclusionRules",oHe),e.set("testing/setCopilotEditsResponse",cqe),e.set("testing/getContext",eHe),e.set("uninstall",uHe),e.set("debug/diagnostics",_qe),e.set("debug/listCertificates",Kqe),e.set("debug/verifyState",hHe),e.set("debug/verifyCertificate",dHe),e.set("debug/verifyKerberos",mHe),e.set("debug/verifyWorkspaceState",pHe),e.set("context/registerProviders",tWe),e.set("context/unregisterProviders",fHe),e.set("conversation/preconditions",rqe),e.set("conversation/persistence",XUe),e.set("conversation/create",JUe),e.set("conversation/turn",sqe),e.set("conversation/turnDelete",aqe),e.set("conversation/destroy",ZUe),e.set("conversation/rating",nqe),e.set("conversation/copyCode",MUe),e.set("conversation/insertCode",OUe),e.set("conversation/templates",oqe),e.set("conversation/agents",QUe),e.set("conversation/registerTools",iqe),e.set("copilot/models",pqe),e.set("copilot/setModelPolicy",gqe),e.set("copilot/codeReview",lqe),e.set("git/commitGenerate",Hqe),e.set("editConversation/create",uqe),e.set("editConversation/turn",dqe),e.set("editConversation/turnDelete",mqe),e.set("editConversation/destroy",fqe),e.set("mcp/getTools",hqe),new Wv(e)}o(gHe,"getAllMethods");d();d();d();var AHe=et(Xm());var jg=class{constructor(t){this.ctx=t}static{o(this,"AbstractNotification")}get type(){return new AHe.NotificationType(this.name)}};var bfe=class extends jg{constructor(){super(...arguments);this.name=TJ.method;this.params=kye}static{o(this,"DidChangeAuthNotificationHandler")}handle(r){let n=this.ctx.get(Bn);r?.handle&&r?.accessToken?n.setTransientAuthRecord(this.ctx,{oauth_token:r.accessToken,user:r.handle,githubAppId:r.githubAppId}):n.setTransientAuthRecord(this.ctx,null)}},yHe=[bfe];d();var Efe=class extends jg{constructor(){super(...arguments);this.name=RJ.method;this.params=Qye}static{o(this,"DidShowCompletionNotificationHandler")}handle(r){let n=r.item.command.arguments[0],s=this.ctx.get(rs).get(n);s&&G8e(this.ctx,s)}},Ife=class extends jg{constructor(){super(...arguments);this.name=PJ.method;this.params=Wye}static{o(this,"DidShowInlineEditNotificationHandler")}async handle(r){let n=r.item.command.arguments[0];await this.ctx.get(Dh).handleShown(n)}},Tfe=class extends jg{constructor(){super(...arguments);this.name=BJ.method;this.params=Mye}static{o(this,"DidPartiallyAcceptCompletionNotificationHandler")}handle(r){let n=r.item.command.arguments[0],i=r.acceptedLength,s=this.ctx.get(rs),a=s.get(n);a&&(s.delete(n),i>=a.insertText.length?lO(this.ctx,a):H8e(this.ctx,a,i))}},CHe=[Efe,Ife,Tfe];d();var PV=class extends jg{constructor(){super(...arguments);this.name="window/workDoneProgress/cancel";this.params=I.Object({token:I.Union([I.String(),I.Number()])})}static{o(this,"WorkDoneProgressCancelNotification")}handle(r){this.ctx.get(_0).cancel(r.token)}};var POt=[...yHe,...CHe,PV];function xHe(e,t){for(let r of POt){let n=new r(e),i=ds.Compile(n.params);t.onNotification(n.type,Gu(e,async s=>{qA(s),i.Check(s)?await n.handle(s):T0.error(e,`Notification ${n.name}:`,new dc(i.Errors(s)))},`Notification ${n.name}`))}}o(xHe,"registerNotifications");d();var bHe=et(require("events")),FV=et(nc());var vHe=new Yt("AgentTextDocumentConfiguration"),wfe=class{constructor(t){this.ctx=t;this.emitter=new bHe.default}static{o(this,"AgentTextDocumentsConfiguration")}create(t,r,n,i){try{return $1.create(t,r,n,i)}catch(s){throw vHe.exception(this.ctx,s,".create"),s}}update(t,r,n){try{let i=[];for(let a of r)if(FV.TextDocumentContentChangeEvent.isIncremental(a)){let l={range:a.range,rangeOffset:t.offsetAt(a.range.start),rangeLength:t.offsetAt(a.range.end)-t.offsetAt(a.range.start),text:a.text};i.push(l)}let s={document:{uri:t.uri,version:n},contentChanges:i};return this.emitter.emit("change",s),$1.withChanges(t,r,n)}catch(i){throw vHe.exception(this.ctx,i,".update"),i}}},GC=class extends Jr{constructor(r){super(r);this._documents=new Map;this.workspaceFolders=[];this.onDidChangeTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("change",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("change",s)},"dispose")}},"onDidChangeTextDocument");this.onDidOpenTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("open",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("open",s)},"dispose")}},"onDidOpenTextDocument");this.onDidCloseTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("close",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("close",s)},"dispose")}},"onDidCloseTextDocument");this.onDidFocusTextDocument=o((r,n,i)=>this.connection.onNotification(SJ.type,s=>{let a=("textDocument"in s?s.textDocument:s)??{};r.call(n,"uri"in a?{document:a}:void 0)}),"onDidFocusTextDocument");this._textDocumentConfiguration=new wfe(r),this._notebookDocuments=new FV.NotebookDocuments(this._textDocumentConfiguration)}static{o(this,"AgentTextDocumentManager")}get connection(){return this.ctx.get(Hr).connection}init(r){this.connection.onDidOpenTextDocument(n=>{let i=n.textDocument,s=this._textDocumentConfiguration.create(i.uri,i.languageId,i.version,i.text);this._documents.set(ec(i.uri),s),this._textDocumentConfiguration.emitter.emit("open",{document:{...i,uri:s.uri}})}),this.connection.onDidChangeTextDocument(n=>{let i=n.textDocument,s=n.contentChanges,{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=ec(i.uri),c=this._documents.get(l);c!==void 0&&(c=this._textDocumentConfiguration.update(c,s,a),this._documents.set(l,c))}),this.connection.onDidCloseTextDocument(n=>{let i=ec(n.textDocument.uri);this._documents.delete(i),this._textDocumentConfiguration.emitter.emit("close",{document:{uri:i}})}),this._notebookDocuments.listen(this.connection),this.workspaceFolders.length=0,this.workspaceFolders.push(...r)}didChangeWorkspaceFolders(r){r.added.forEach(n=>this.registerWorkspaceFolder(n)),r.removed.forEach(n=>this.unregisterWorkspaceFolder(n))}unregisterWorkspaceFolder(r){let n=this.workspaceFolders.findIndex(i=>i.uri===r.uri);n>=0&&this.workspaceFolders.splice(n,1)}registerWorkspaceFolder(r){this.workspaceFolders.push(r)}getTextDocumentsUnsafe(){return[...this._documents.values()]}getTextDocumentUnsafe(r){return this._documents.get(ec(r.uri))}getWorkspaceFolders(){return this.workspaceFolders}findNotebook(r){let n=this._notebookDocuments.findNotebookDocumentForCell(r.uri);if(n)return{getCells:o(()=>n.cells.map((i,s)=>this.wrapCell(i,s)).filter(i=>!!i),"getCells"),getCellFor:o(({uri:i})=>{let s=n.cells.findIndex(a=>a.document===i);return s!==-1?this.wrapCell(n.cells[s],s):void 0},"getCellFor")}}wrapCell(r,n){let i=this._notebookDocuments.getCellTextDocument(r);if(i)return{kind:r.kind,metadata:r.metadata??{},index:n,document:i}}};var EHe=ds.Compile(Fye);function qA(e){if(e!==null){if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=qA(e[t]);else if(typeof e=="object"){let t=e;for(let r in t)t[r]===null?delete t[r]:t[r]=qA(t[r])}return e}}o(qA,"purgeNulls");var Hr=class{constructor(t,r){this.ctx=t;this.connection=r;this.initialized=!1;this.#i=this.ctx.get(qa)}static{o(this,"Service")}#e;#t;#i;get clientCapabilities(){return this.#t}listen(){let t=this.ctx,r=this.connection;r.onRequest(this.messageHandler.bind(this)),xHe(t,r);let n={name:"GitHub Copilot Language Server",version:t.get(Eo).getDisplayVersion(),nodeVersion:process.versions.node},i,s=o(async c=>{try{if(i&&c&&typeof c=="object"&&!("settings"in c)){let u=await r.workspace.getConfiguration(["github.copilot",...Sue].map(m=>({section:m}))),f={github:{copilot:u.shift()}};for(let m of Sue)f[m]=u.shift();c.settings=f}return aWe(t,qA(c))}catch(u){T0.exception(t,u,"didChangeConfiguration")}},"didChangeConfiguration");function a(c){try{t.get(GC).didChangeWorkspaceFolders(c),t.get(Ef).emit(c)}catch(u){T0.exception(t,u,"didChangeWorkspaceFolders")}}o(a,"didChangeWorkspaceFolders"),this.connection.onNotification("vs/didAddWorkspaceFolder",({name:c,uri:u})=>a({added:[{uri:u,name:c??u}],removed:[]})),this.connection.onNotification("vs/didRemoveWorkspaceFolder",({name:c,uri:u})=>a({added:[],removed:[{uri:u,name:c??u}]})),r.onInitialize(async c=>{if(this.initialized)throw new Error("initialize request sent after initialized notification");this.#t=c.capabilities;let u=c.capabilities.copilot,f=qA(c.initializationOptions);if(f){if(!EHe.Check(f))throw new dc(EHe.Errors(f));let A=f,x=t.get(dn);A.editorPluginInfo?x.setEditorAndPluginInfo({version:"unknown",...A.editorPluginInfo},A.editorInfo&&{version:"unknown",...A.editorInfo},A.relatedPluginInfo??[]):T0.warn(t,"editorInfo and editorPluginInfo will soon be required in initializationOptions. This will replace setEditorInfo."),A.copilotIntegrationId&&x.setCopilotIntegrationId(A.copilotIntegrationId),A.githubAppId&&(t.get(Xs).githubAppId=A.githubAppId),A.copilotCapabilities&&(u=A.copilotCapabilities)}let m=c.capabilities.workspace?.workspaceFolders??!1;t.get(GC).init(c.workspaceFolders??[]),ZIe(this.ctx),t.get(Ef).emit({added:c.workspaceFolders??[],removed:[]}),i=c.capabilities.workspace?.configuration,u&&(t.get(Ho).setCapabilities(u),"openURL"in u&&KG(t,["The openURL Copilot capability has been removed in favor of window/showDocument."]));let p=o(async()=>{this.initialized||(this.initialized=!0,T0.info(t,`${n.name} ${n.version} initialized`),m&&(r.workspace.onDidChangeWorkspaceFolders(a),await this.ctx.get(Zd).start()),i?await s({}):await IR(t),this.installationTelemetryTimer=setTimeout(()=>{new y9().startup(t).catch(()=>{})},1e3),t.get(WA).emit(),await d8e(t))},"onInitialized");return r.onInitialized(Gu(t,p,"onInitialized")),t.get(Ph).init(),u?.token&&t.get(Bn).setTransientAuthRecord(t,null),u?.redirectedTelemetry&&await kMe(t),IHe.lt(process.versions.node,"20.8.0")&&T0.warn(t,`Node.js ${process.versions.node} support is deprecated. Please upgrade to Node.js 20.8 or newer.`),{capabilities:{textDocumentSync:{openClose:!0,change:Wh.TextDocumentSyncKind.Incremental},notebookDocumentSync:{notebookSelector:[{notebook:"*"}]},workspace:{workspaceFolders:{supported:m,changeNotifications:m}},executeCommandProvider:{commands:bMe(t,r)},inlineCompletionProvider:{}},serverInfo:n}}),r.onShutdown(async()=>{await(this.#e??=this.deactivate())}),r.onExit(()=>void this.onExit()),r.onDidChangeConfiguration(Gu(t,s,"onDidChangeConfiguration")),r.listen();let l=new uH;this.ctx.forceSet(qa,l)}async messageHandler(t,r,n){let i=this.ctx.get(Wv).handlers.get(t);if(!i)return new Wh.ResponseError(cn.MethodNotFound,`Method not found: ${t}`);if(!this.initialized)return new Wh.ResponseError(cn.ServerNotInitialized,"Agent service not initialized.");if(this.#e)return new Wh.ResponseError(cn.InvalidRequest,"Agent service shut down.");if(t!=="setEditorInfo"&&!TMe(this.ctx.get(dn)))throw new Wh.ResponseError(cn.ServerNotInitialized,"editorInfo and editorPluginInfo not set in initializationOptions");Array.isArray(r)&&(r=r[0]),qA(r);try{let[s,a]=await i(this.ctx,n,r);return a?new Wh.ResponseError(a.code,a.message,a.data):s}catch(s){if(n.isCancellationRequested)return new Wh.ResponseError(cn.RequestCancelled,"Request was canceled");if(s instanceof Ys)return new Wh.ResponseError(cn.NoCopilotToken,`Not authenticated: ${s.message}`);throw s instanceof Wh.ResponseError||T0.exception(this.ctx,s,`Request ${t}`),s}}async onExit(){try{this.ctx.get(Th).dispose()}catch(t){T0.exception(this.ctx,t,"failed to dispose ripgrep process manager")}this.ctx.forceSet(qa,this.#i),await(this.#e??=this.deactivate())}async deactivate(){let t=this.ctx;clearTimeout(this.installationTelemetryTimer),hre(t),await Promise.race([new Promise(r=>setTimeout(r,100)),t.get(Do).flush()]),await Promise.race([new Promise(r=>setTimeout(r,1800)),t.get(Bs).deactivate()])}dispose(){clearTimeout(this.installationTelemetryTimer),this.connection.dispose()}},T0=new Yt("lsp");var NV=class e extends sx{constructor(r){super(r);this.reportedUnknownProviders=new Set}static{o(this,"AgentRelatedFilesProvider")}get service(){return this.context.get(Hr)}static mapProviderNameToNeighboringFileType(r){let n="CSharpCopilotCompletionContextProvider",i="CSharpRoslynCompletionRelatedContextProvider",s="CppCopilotCompletionContextProvider",a="CppCopilotCompletionSemanticCodeContextProvider";switch(r){case n:return"related/csharp";case i:return"related/csharproslyn";case s:return"related/cpp";case a:return"related/cppsemanticcodecontext";default:return"related/other"}}convert(r){let n={entries:[],traits:r.traits};for(let i of r.entries){let s={type:e.mapProviderNameToNeighboringFileType(i.providerName),uris:i.uris};n.entries.push(s),s.type==="related/other"&&!this.reportedUnknownProviders.has(i.providerName)&&(this.reportedUnknownProviders.add(i.providerName),al.warn(this.context,`unknown providerName ${i.providerName}`))}return n}async getRelatedFilesResponse(r,n,i){al.debug(this.context,`Fetching related files for ${r.uri}`);let s=this.context.get(Ho).getCapabilities().related??!1;if(e.relatedCapabilityTelemetry(this.context,n,s),!s)return al.debug(this.context,"`copilot/related` not supported"),e8e;try{let a=await this.service.connection.sendRequest(FJ.type,{textDocument:{uri:r.uri},data:r.data,telemetry:{properties:n.properties,measurements:n.measurements}},i);return this.convert(a)}catch(a){al.exception(this.context,a,".copilotRelated");return}}static{this.telemetrySent=!1}static relatedCapabilityTelemetry(r,n,i){try{if(!i||e.telemetrySent)return;e.telemetrySent=!0,jt(r,"copilotRelated.hasRelatedCapability",n)}catch(s){al.exception(r,s,"copilotRelated")}}};d();var wHe=et(nc());var THe=new Yt("copilotTokenManager"),_fe=class e extends dI{static{o(this,"AgentClientCopilotTokenManager")}static{this.RequestType=new wHe.ProtocolRequestType("copilot/token")}constructor(t){super(t)}async fetchCopilotTokenEnvelope(){let t=this.ctx.get(Hr).connection;try{this.didChangeToken??=t.onNotification("copilot/didChangeToken",()=>{this.resetToken()});let r=await t.sendRequest(e.RequestType,{force:!1});if(!r?.envelope)throw THe.debug(this.ctx,"Envelope missing from copilot/token response"),new fd({reason:"NotSignedIn",message:"Editor did not return a token"});let{accessToken:n,handle:i,githubAppId:s,envelope:a,tokenEndpoint:l}=r;THe.debug(this.ctx,"Retrieved envelope from copilot/token");let c=new M1(a);if(c.isExpired())throw new Ys("Expired token in copilot/token response");if(i&&n)this.ctx.get(Bn).setTransientAuthRecord(this.ctx,{user:i,oauth_token:n,githubAppId:s},!1);else if(!await this.getGitHubSession())throw new fd({reason:"NotSignedIn"});return l!==void 0&&this.ctx.get(On).updateBaseUrlFromTokenEndpoint(this.ctx,l),cw(this.ctx,c),a}catch(r){throw r instanceof Error?new Ys(r.message,r):r}}},FR=class extends $r{constructor(r,n=new dI(r)){super();this.ctx=r;this.fallback=n;this.client=new _fe(r)}static{o(this,"AgentCopilotTokenManager")}canGetToken(){return this.ctx.get(Ho).getCapabilities().token??!1}getDelegate(){return this.canGetToken()?this.client:this.fallback}resetToken(r){this.getDelegate().resetToken(r)}async getToken(){return this.getDelegate().getToken()}async getGitHubSession(){return this.fallback.getGitHubSession()}};d();var FOt=new Yt("Public Code References"),LV=class extends of{static{o(this,"CLSCitationManager")}async handleIPCodeCitation(t,r){let n=r.location?.start.line!==void 0?r.location.start.line+1:"-",i=r.location?.start.character!==void 0?r.location.start.character+1:"-",s=(r.matchingText??"").replace(/[\r\n]/g," ");FOt.info(t,`Text found matching public code in ${r.inDocumentUri} [Ln ${n}, Col ${i}] near ${s}...:`+r.details.map((a,l)=>`
  ${l+1}) [${a.license}] ${a.url}`).join("")),!(r.version===void 0||r.location===void 0)&&t.get(Ho).getCapabilities().ipCodeCitation===!0&&await t.get(Hr).connection.sendNotification(wJ.type,{uri:r.inDocumentUri,version:r.version,range:r.location,matchingText:r.matchingText??"",citations:r.details})}};d();d();function _He(e){NOt(e)}o(_He,"activateExtensibilityPlatformFeature");function NOt(e){e.set(Qh,new _j(e)),e.set(Lg,new Lg(e))}o(NOt,"registerContextDependencies");d();var SHe=I.String(),Sfe=class{constructor(t){this.turnContext=t}static{o(this,"BuildLogsSkillProcessor")}value(){return .9}processSkill(t){return this.turnContext.collectLabel(MV,"build logs"),`The contents of the application build logs:
\`\`\`
${t}
\`\`\``}},MV="build-logs",QV=class extends Ml{static{o(this,"BuildLogsSkill")}constructor(t){super(MV,"The application build logs, which can be used to fix build or compilation errors.","Reading build logs",()=>t,r=>new Sfe(r))}};d();var LOt=I.Object({uri:I.String(),visibleRange:I.Optional(ya),openedAt:I.Optional(I.String()),activeAt:I.Optional(I.String())}),kHe=I.Object({files:I.Array(LOt)}),QOt=3,kfe=class{constructor(t){this.turnContext=t}static{o(this,"RecentFilesSkillProcessor")}value(){return .7}async processSkill(t){let r=await this.getDocuments(t);if(r.length>0){let n=this.toElidableDocs(r),i=PC(n,"inversePositional");return await this.preElideDocuments(i)}}async getDocuments(t){let r=this.sortFiles(t.files);r=this.filterIncludedDocs(r);let n=this.turnContext.ctx.get(Pn),i=[];for(let s of r){let a=await n.getOrReadTextDocument(s),l=gs(a);if(await this.turnContext.collectFile(UV,s.uri,l),a.status==="valid"&&l!=="empty"&&(i.push([a.document,s]),i.length===QOt))break}return i.reverse()}sortFiles(t){return t.sort((r,n)=>r.activeAt&&n.activeAt?new Date(r.activeAt).getTime()-new Date(n.activeAt).getTime():r.activeAt?-1:n.activeAt?1:0).reverse()}filterIncludedDocs(t){return t.filter(r=>!this.turnContext.isFileIncluded(r.uri))}toElidableDocs(t){return t.map(r=>{let[n,i]=r,s=this.turnContext.ctx.get(Pn).getRelativePath(n),a=new Qg(n,void 0,i.visibleRange);return new tr([[`Code excerpt from file \`${s}\`:`,1],[a.fromAllCode({addLineNumbers:!1}),.9]])})}async preElideDocuments(t){let r=(await this.turnContext.ctx.get(ui).getBestChatModelConfig(ms("user"))).maxRequestTokens,n=t.elide(Math.floor(r*.1)).getText();return new tr([n])}},UV="recent-files",OV=class extends Ml{static{o(this,"RecentFilesSkill")}constructor(t){super(UV,"Provides code examples helpful for creating, explaining, refactoring, or fixing code. It's based on the files the user has worked on in the editor.","Resolving recent files",()=>t,r=>new kfe(r))}};d();var RHe=I.String(),Rfe=class{constructor(t){this.turnContext=t}static{o(this,"RuntimeLogsSkillProcessor")}value(){return .9}processSkill(t){return this.turnContext.collectLabel(WV,"runtime logs"),`The contents of the application runtime logs:
\`\`\`
${t}
\`\`\``}},WV="runtime-logs",qV=class extends Ml{static{o(this,"RuntimeLogsSkill")}constructor(t){super(WV,"The application runtime or debug logs, which are used to view output logs from the console. This is useful for debugging and troubleshooting runtime issues.","Reading runtime logs",()=>t,r=>new Rfe(r))}};d();var GV=et(Xm());var HV=class extends Za{constructor(r){super();this.ctx=r}static{o(this,"AgentConversationInspector")}shouldInspect(){return DF(this.ctx)}get connection(){if(this.shouldInspect())return this.ctx.get(Hr).connection}async inspectPrompt(r){return this.connection?.sendNotification(new GV.NotificationType("conversation/inspectPrompt"),r)}async inspectFetchResult(r){return this.connection?.sendNotification(new GV.NotificationType("conversation/inspectFetchResult"),r)}async documentDiff(r){return this.connection?.sendNotification(new GV.NotificationType("conversation/documentDiff"),r)}};d();var BHe=et(nc());var NR=class{constructor(t){this.ctx=t;this.notificationEndpoint="conversation/preconditionsNotification";t.get(nm).onChange(r=>{this.sendNotification(r)})}static{o(this,"PreconditionsNotifier")}sendNotification(t){return this.ctx.get(Hr).connection.sendNotification(new BHe.NotificationType(this.notificationEndpoint),t)}};function DHe(e){MOt(e),OOt(e),_He(e)}o(DHe,"activateConversationFeature");function MOt(e){e.set(co,new co(e)),e.set(Ul,new Ul),e.set(hc,new hc(e)),e.set(ui,new tW(e)),e.set(YA,new YA),e.set($s,new $s(e)),e.set(nm,new nm(e)),e.set(NR,new NR(e)),e.set(Yu,new nN(e,new rN(e))),e.set(KA,new KA),e.set(BC,new BC),e.set(Za,new HV(e)),e.set(ca,new ca(e)),e.set(mc,new mc),e.set(Pf,new Pf)}o(MOt,"registerContextDependencies");function OOt(e){let t=new Xa;t.registerSkill(new RH(new kH(e))),t.registerSkill(new nj(new w0(e,qg,TUe))),t.registerSkill(new DH(new w0(e,Nh,AOe))),t.registerSkill(new hH(new w0(e,Hc,OMe))),t.registerSkill(new ij),t.registerSkill(new OV(new w0(e,UV,kHe))),t.registerSkill(new pH(new w0(e,Tv,qMe))),t.registerSkill(new FH(new w0(e,FC,_Oe))),t.registerSkill(new qV(new w0(e,WV,RHe))),t.registerSkill(new QV(new w0(e,MV,SHe))),t.registerSkill(new LH(new w0(e,Lh,SOe))),t.registerSkill(new QH(new w0(e,Sv,ROe))),e.set(Xa,t)}o(OOt,"registerSkills");d();var PHe=et(ei());var jV=class extends cc{static{o(this,"AgentEditProgressReporter")}constructor(t){super(t)}async reportTurn(t,r){await this.ctx.get(Hr).connection.sendProgress(new PHe.ProgressType,t.partialResultToken,[{editConversationId:t.editConversationId,editTurnId:t.editTurnId,...r}])}};d();var FHe=et(nc()),NHe=et(Xm());var VV=class extends Ag{constructor(){super(...arguments);this.requestType=new FHe.ProtocolRequestType("conversation/invokeClientToolConfirmation");this.typeCheck=ds.Compile(xFe)}static{o(this,"AgentClientToolConfirmationInvoker")}async invokeClientToolConfirmation(r,n){let i=this.ctx.get(Hr).connection,s;try{let a=await i.sendRequest(this.requestType,n),[l,c]=a;if(c){let u=new NHe.ResponseError(c.code,c.message,c.data);throw Zr.error(this.ctx,`ResponseError while invoking client tool confirmation ${n.name}`,u),new Error(`Failed to invoke client tool confirmation ${n.name}: ${c.message}`)}s=l}catch(a){throw new Error(`Failed to invoke client tool confirmation ${n.name}: ${String(a)}`)}if(s==null)throw new Error(`Failed to invoke client tool confirmation ${n.name}: No result returned`);if(!this.typeCheck.Check(s))throw new dc(this.typeCheck.Errors(s));return s}};d();var LHe=et(nc()),QHe=et(Xm());var $V=class extends aC{constructor(){super(...arguments);this.requestType=new LHe.ProtocolRequestType("conversation/invokeClientTool");this.typeCheck=ds.Compile(CFe)}static{o(this,"AgentClientToolInvoker")}async invokeClientTool(r,n){let i=this.ctx.get(Hr).connection,s;try{let a=await i.sendRequest(this.requestType,n),[l,c]=a;if(c){let u=new QHe.ResponseError(c.code,c.message,c.data);throw Zr.error(this.ctx,`ResponseError while invoking client tool ${n.name}`,u),new Error(`Failed to invoke client tool ${n.name}: ${c.message}`)}s=l}catch(a){throw new Error(`Failed to invoke client tool ${n.name}: ${String(a)}`)}if(s==null)throw new Error(`Failed to invoke client tool ${n.name}: No result returned`);if(!this.typeCheck.Check(s))throw new dc(this.typeCheck.Errors(s));return this.transformToToolResult(s)}transformToToolResult(r){let n=r.content.map(i=>typeof i.value=="string"?new xo(i.value):new V6(i.value));return new vo(n,r.status??"success")}};d();var Bfe=et(Xm());var UOt={type:new Bfe.NotificationType("featureFlagsNotification")},qOt={type:new Bfe.NotificationType("copilot/didChangeFeatureFlags")},LR=class{constructor(t){this.ctx=t;Ca(t,r=>this.sendNotification(r))}static{o(this,"FeatureFlagsNotifier")}async sendNotification(t){let r=this.ctx,n=r.get(xr),i=await n.updateExPValuesAndAssignments(),s=!1;t.envelope.chat_enabled&&(s=n.ideEnableCopilotEditsAgent(i));let a={},l=p8(r,i);l.length>0&&(a.ExpContextProviders=l);let c=new Map;JM(r,c,i);for(let[m,h]of c.entries())a[m]=h;let u=r.get(Ho),f=r.get(Hr).connection;if(u.getCapabilities().didChangeFeatureFlags)await f.sendNotification(qOt.type,{envelope:{...t.envelope,token:void 0,expires_at:void 0,refresh_in:void 0,user_notification:void 0,limited_user_quotas:void 0,limited_user_reset_date:void 0,error_details:void 0,organization_list:void 0,enterprise_list:void 0,endpoints:void 0},activeExps:a,cea:s});else{let m={rt:t.getTokenValue("rt")==="1",sn:t.getTokenValue("sn")==="1",chat:t.envelope.chat_enabled??!1,ic:t.envelope.chat_enabled??!1,pc:!0,cea:s,ae:a};t.envelope.xcode_chat&&t.envelope.chat_enabled&&(m.xc=!0),await f.sendNotification(UOt.type,m)}}};d();var zV=class extends zi{constructor(r){super();this.ctx=r;this.notificationEndpoint="statusNotification"}static{o(this,"NotificationStatusReporter")}didChange(r){let n=r.kind;r.busy&&n!=="Error"&&(n="InProgress"),this.ctx.get(Hr).connection.sendNotification(NJ.type,{busy:r.busy,kind:r.kind,status:n,message:r.message??""}),this.ctx.get(Hr).connection.sendNotification("didChangeStatus",{busy:r.busy,kind:r.kind,message:r.message})}};d();var MHe=new Y9;d();d();var WOt=new Yt("fetcher"),GOt="https://default.exp-tas.com/",YV=class extends Or{constructor(r,n,i,s){super();this.ctx=r;this.defaultFetcher=n;this.fallbackFetcher=i;this.onFallbackSuccess=s}static{o(this,"FallbackFetcher")}async fetch(r,n){try{return await this.defaultFetcher.fetch(r,n)}catch(i){if(bc(i)||`${r}/`.startsWith(GOt))throw i;WOt.info(this.ctx,`Request to <${r}> failed, attempting fallback.`,i);let s=await this.fallbackFetcher.fetch(r,n);return this.onFallbackSuccess(),s}}set proxySettings(r){this.defaultFetcher.proxySettings=r}get proxySettings(){return this.defaultFetcher.proxySettings}get name(){return this.defaultFetcher.name}async disconnectAll(){return this.defaultFetcher.disconnectAll()}makeAbortController(){return this.defaultFetcher.makeAbortController()}};var OHe=new Yt("fetcher"),KV=class extends Or{constructor(r,n=new z9(r),i=new K9(r)){super();this.ctx=r;this.helixFetcher=n;this.editorFetcher=i;this.currentFetcher=this.helixFetcher,this.fallbackFetcher=new YV(r,n,i,()=>{OHe.info(this.ctx,"Fallback fetch succeeded, switching to editor fetcher."),this.currentFetcher=this.editorFetcher}),r.get(WA).once(()=>{this.updateFetcher()}),r.get(Bf).onConfigChange(Rt.FetchStrategy,a=>{this.fetchStrategy=a,this.updateFetcher()}),this.fetchStrategy=jn(r,Rt.FetchStrategy)}static{o(this,"AgentDelegatingFetcher")}get editorFetcherCapability(){return this.ctx.get(Ho).getCapabilities().fetch??!1}updateFetcher(){let r,n;if(!this.editorFetcherCapability)n="Using Helix fetcher, editor does not have fetch capability.",r=this.helixFetcher;else if(this.fetchStrategy==="client")n="Using editor fetcher, fetch strategy set to client.",r=this.editorFetcher;else if(this.fetchStrategy==="native")n="Using Helix fetcher, fetch strategy set to native.",r=this.helixFetcher;else{let i=jn(this.ctx,Rt.DebugUseEditorFetcher);i?.toString()==="true"?(n="Using editor fetcher, debug flag is enabled.",r=this.editorFetcher):i?.toString()==="false"?(n="Using Helix fetcher, debug flag is disabled.",r=this.helixFetcher):(n="Editor fetcher capability available, will fallback if needed.",r=this.fallbackFetcher)}this.currentFetcher!=r&&(OHe.debug(this.ctx,n),this.currentFetcher=r)}get name(){return this.currentFetcher.name}set proxySettings(r){this.helixFetcher.proxySettings=r}get proxySettings(){return this.helixFetcher.proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.helixFetcher.rejectUnauthorized=r}get rejectUnauthorized(){return super.rejectUnauthorized}fetch(r,n){return this.currentFetcher.fetch(r,n)}disconnectAll(){return this.currentFetcher.disconnectAll()}makeAbortController(){return this.currentFetcher.makeAbortController()}};d();var JV=class extends va{constructor(r){super();this.ctx=r}static{o(this,"ConnectionNotificationSender")}get connection(){return this.ctx.get(Hr).connection}showWarningMessage(r,...n){return this.connection.window.showWarningMessage(r,...n)}};d();d();var UHe=et(require("crypto")),qHe=require("os");var HOt=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function jOt(e){let t=e.replace(/-/g,":").toLowerCase();return!HOt.has(t)}o(jOt,"validateMacAddress");function VOt(){let e=(0,qHe.networkInterfaces)();for(let t in e){let r=e[t];if(r){for(let{mac:n}of r)if(jOt(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}o(VOt,"getMac");var Dfe;function $Ot(){try{let e=VOt();return UHe.createHash("sha256").update(e,"utf8").digest("hex")}catch{return}}o($Ot,"getMacMachineId");function WHe(){return Dfe||(Dfe=$Ot()||Ir()),Dfe}o(WHe,"getMachineId");var zOt=Ir()+Date.now(),GHe=new ws(zOt,WHe());d();d();var MR=et(require("node:process"),1),lje=require("node:buffer"),Hfe=et(require("node:path"),1),cje=require("node:url"),uje=et(require("node:child_process"),1),Hv=et(require("node:fs/promises"),1);d();var Qfe=et(require("node:process"),1),VHe=et(require("node:os"),1),$He=et(require("node:fs"),1);d();var HHe=et(require("node:fs"),1);d();var Ffe=et(require("node:fs"),1);var Pfe;function YOt(){try{return Ffe.default.statSync("/.dockerenv"),!0}catch{return!1}}o(YOt,"hasDockerEnv");function KOt(){try{return Ffe.default.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}o(KOt,"hasDockerCGroup");function Nfe(){return Pfe===void 0&&(Pfe=YOt()||KOt()),Pfe}o(Nfe,"isDocker");var Lfe,JOt=o(()=>{try{return HHe.default.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv");function X9(){return Lfe===void 0&&(Lfe=JOt()||Nfe()),Lfe}o(X9,"isInsideContainer");var jHe=o(()=>{if(Qfe.default.platform!=="linux")return!1;if(VHe.default.release().toLowerCase().includes("microsoft"))return!X9();try{return $He.default.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!X9():!1}catch{return!1}},"isWsl"),QR=Qfe.default.env.__IS_WSL_TEST__?jHe:jHe();d();function Gv(e,t,r){let n=o(i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0}),"define");return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let i=r();return n(i),i},set(i){n(i)}}),e}o(Gv,"defineLazyProperty");d();var rje=require("node:util"),XV=et(require("node:process"),1),nje=require("node:child_process");d();var zHe=require("node:util"),YHe=et(require("node:process"),1),KHe=require("node:child_process");var ZOt=(0,zHe.promisify)(KHe.execFile);async function Mfe(){if(YHe.default.platform!=="darwin")throw new Error("macOS only");let{stdout:e}=await ZOt("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(e)?.groups.id??"com.apple.Safari"}o(Mfe,"defaultBrowserId");d();d();var JHe=et(require("node:process"),1),ZHe=require("node:util"),Ofe=require("node:child_process");var XOt=(0,ZHe.promisify)(Ofe.execFile);async function XHe(e,{humanReadableOutput:t=!0}={}){if(JHe.default.platform!=="darwin")throw new Error("macOS only");let r=t?[]:["-ss"],{stdout:n}=await XOt("osascript",["-e",e,r]);return n.trim()}o(XHe,"runAppleScript");async function Ufe(e){return XHe(`tell application "Finder" to set app_path to application file id "${e}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}o(Ufe,"bundleName");d();var eje=require("node:util"),tje=require("node:child_process");var eUt=(0,eje.promisify)(tje.execFile),tUt={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},MSEdgeDHTML:{name:"Edge",id:"com.microsoft.edge"},MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"}},ZV=class extends Error{static{o(this,"UnknownBrowserError")}};async function qfe(e=eUt){let{stdout:t}=await e("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),r=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(t);if(!r)throw new ZV(`Cannot find Windows browser in stdout: ${JSON.stringify(t)}`);let{id:n}=r.groups,i=tUt[n];if(!i)throw new ZV(`Unknown browser ID: ${n}`);return i}o(qfe,"defaultBrowser");var rUt=(0,rje.promisify)(nje.execFile),nUt=o(e=>e.toLowerCase().replaceAll(/(?:^|\s|-)\S/g,t=>t.toUpperCase()),"titleize");async function Wfe(){if(XV.default.platform==="darwin"){let e=await Mfe();return{name:await Ufe(e),id:e}}if(XV.default.platform==="linux"){let{stdout:e}=await rUt("xdg-mime",["query","default","x-scheme-handler/http"]),t=e.trim();return{name:nUt(t.replace(/.desktop$/,"").replace("-"," ")),id:t}}if(XV.default.platform==="win32")return qfe();throw new Error("Only macOS, Linux, and Windows are supported")}o(Wfe,"defaultBrowser");var Gfe=Hfe.default.dirname((0,cje.fileURLToPath)(importMetaUrlShim)),ije=Hfe.default.join(Gfe,"xdg-open"),{platform:e7,arch:oje}=MR.default,iUt=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await Hv.default.access(r,Hv.constants.F_OK),n=!0}catch{}if(!n)return e;let i=await Hv.default.readFile(r,{encoding:"utf8"}),s=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return s?(t=s.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),sje=o(async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(i){r=i}throw r},"pTryEach"),e$=o(async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return sje(e.app,l=>e$({...e,app:l}));let{name:t,arguments:r=[]}=e.app??{};if(r=[...r],Array.isArray(t))return sje(t,l=>e$({...e,app:{name:l,arguments:r}}));if(t==="browser"||t==="browserPrivate"){let l={"com.google.chrome":"chrome","google-chrome.desktop":"chrome","org.mozilla.firefox":"firefox","firefox.desktop":"firefox","com.microsoft.msedge":"edge","com.microsoft.edge":"edge","com.microsoft.edgemac":"edge","microsoft-edge.desktop":"edge"},c={chrome:"--incognito",firefox:"--private-window",edge:"--inPrivate"},u=await Wfe();if(u.id in l){let f=l[u.id];return t==="browserPrivate"&&r.push(c[f]),e$({...e,app:{name:t7[f],arguments:r}})}throw new Error(`${u.name} is not supported as a default browser`)}let n,i=[],s={};if(e7==="darwin")n="open",e.wait&&i.push("--wait-apps"),e.background&&i.push("--background"),e.newInstance&&i.push("--new"),t&&i.push("-a",t);else if(e7==="win32"||QR&&!X9()&&!t){let l=await iUt();n=QR?`${l}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${MR.default.env.SYSTEMROOT||MR.default.env.windir||"C:\\Windows"}\\System32\\WindowsPowerShell\\v1.0\\powershell`,i.push("-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand"),QR||(s.windowsVerbatimArguments=!0);let c=["Start"];e.wait&&c.push("-Wait"),t?(c.push(`"\`"${t}\`""`),e.target&&r.push(e.target)):e.target&&c.push(`"${e.target}"`),r.length>0&&(r=r.map(u=>`"\`"${u}\`""`),c.push("-ArgumentList",r.join(","))),e.target=lje.Buffer.from(c.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let l=!Gfe||Gfe==="/",c=!1;try{await Hv.default.access(ije,Hv.constants.X_OK),c=!0}catch{}n=MR.default.versions.electron??(e7==="android"||l||!c)?"xdg-open":ije}r.length>0&&i.push(...r),e.wait||(s.stdio="ignore",s.detached=!0)}e7==="darwin"&&r.length>0&&i.push("--args",...r),e.target&&i.push(e.target);let a=uje.default.spawn(n,i,s);return e.wait?new Promise((l,c)=>{a.once("error",c),a.once("close",u=>{if(!e.allowNonzeroExitCode&&u>0){c(new Error(`Exited with code ${u}`));return}l(a)})}):(a.unref(),a)},"baseOpen"),oUt=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return e$({...t,target:e})},"open");function aje(e){if(typeof e=="string"||Array.isArray(e))return e;let{[oje]:t}=e;if(!t)throw new Error(`${oje} is not supported`);return t}o(aje,"detectArchBinary");function jfe({[e7]:e},{wsl:t}){if(t&&QR)return aje(t);if(!e)throw new Error(`${e7} is not supported`);return aje(e)}o(jfe,"detectPlatformBinary");var t7={};Gv(t7,"chrome",()=>jfe({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));Gv(t7,"firefox",()=>jfe({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));Gv(t7,"edge",()=>jfe({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));Gv(t7,"browser",()=>"browser");Gv(t7,"browserPrivate",()=>"browserPrivate");var t$=oUt;var r$=class extends tc{constructor(r,n=new Vfe){super();this.ctx=r;this.fallback=n}static{o(this,"AgentUrlOpener")}async open(r){let n=this.ctx.get(Hr);if(!(n.clientCapabilities?.window?.showDocument?.support&&(await n.connection.window.showDocument({uri:r,external:!0})).success))return this.fallback.open(r)}},Vfe=class extends tc{static{o(this,"SpawnUrlOpener")}async open(t){await t$(t)}};d();d();var n$=class extends WG{static{o(this,"AgentWorkspaceWatcher")}async getWatchedFiles(){return(await this.ctx.get(Ph).getWatchedFiles({workspaceUri:this.workspaceFolder.uri,workspaceFolder:this.workspaceFolder,excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0})).watchedFiles}startWatching(){if(this.status==="ready")return;this.ctx.get(Ph).onDidChangeWatchedFiles(this.onDidChangeWatchedFilesHandler.bind(this)),this.status="ready"}stopWatching(){this.status="stopped",this.ctx.get(Ph).offDidChangeWatchedFiles(this.onDidChangeWatchedFilesHandler.bind(this))}onDidChangeWatchedFilesHandler(t){if(t.workspaceFolder.uri!==this.workspaceFolder.uri)return;let n=t.created.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);if(n.length){let a=n.map(l=>l.document).filter(l=>l!==void 0);this.onFilesCreated(a)}let i=t.changed.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);if(i.length){let a=i.map(l=>l.document).filter(l=>l!==void 0);this.onFilesUpdated(a)}let s=t.deleted.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);s.length&&this.onFilesDeleted(s.map(a=>({uri:a.uri})))}};var i$=class extends qc{static{o(this,"AgentWorkspaceWatcherProvider")}createWatcher(t){return new n$(this.ctx,t)}shouldStartWatching(t){return!!this.ctx.get(Ho).getCapabilities().watchedFiles&&(!this.hasWatcher(t)||this.getStatus(t)==="stopped")}};function fje(e){let t=new Bf(process.env),r=QDe(t);r.set(Bf,t),r.set(WA,new WA),r.set(Or,new KV(r)),r.set(ka,new ka(r)),Bue(r,{});let n=gLe();r.set(fc,n);let i=new FR(r);r.set($r,i),r.set(FR,i);let s=new t_(r,n);r.set(t_,s),r.set(Bn,new Bn(s,i)),r.set(G4,new G4),r.set(ws,GHe),r.set(dn,new cH),r.set(Wv,gHe()),r.set(rs,new rs),r.set(Io,MHe),r.set(sx,new NV(r)),r.set(qc,new i$(r)),r.set(Ph,new Ph(r)),r.set(wl,new wl),r.set(ll,ZM(r,Bqe)),GG(r),wLe(r),yEe(r),r.set(Hr,new Hr(r,e)),r.set(va,new JV(r)),r.set(tc,new r$(r)),r.set(zi,new zV(r)),r.set(LR,new LR(r));let a=new GC(r);return r.set(Jr,a),r.set(GC,a),r.set(On,new N6(r)),r.set(Lc,new Lc(r)),DHe(r),JDe(r),r.set(_0,new _0),r.set(MC,new MC),r.set(Oh,new Oh),r.set(of,new LV),r.set(Gg,new Gg),r.set(jp,new u8(r)),r.set(Dh,new Dh(r)),r.set(_A,new _A(r)),r.set(Ja,new Ja(r)),r.set(cc,new jV(r)),r.set(aC,new $V(r)),r.set(Ag,new VV(r)),r.set(v0,new v0(r)),r.set(FA,new FA(r)),r.set(Th,new Th(r)),r.set(wg,new wg(r)),r}o(fje,"createLanguageServerContext");d();var $fe=require("events"),OR=et(require("fs"));var s$=et(nc());d();var mje=et(require("fs")),hje=et(require("http")),r7=et(require("path"));var o$=class{constructor(t,r){this.port=t;let n;this.server=hje.createServer((i,s)=>{if(i.headers.accept&&i.headers.accept=="text/event-stream")switch(s.writeHead(200,{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}),i.url){case"/stdin":r.on("read",l=>{dje(s,JSON.stringify(l))});return;case"/stdout":r.on("write",l=>{dje(s,JSON.stringify(l))});return;default:s.writeHead(404),s.end();return}s.writeHead(200,{"Content-Type":"text/html"});let a=__dirname;r7.basename(__dirname)!=="debug"&&(a=r7.dirname(__dirname)),n??=mje.readFileSync(r7.join(a,"dist","debugServer.html")).toString(),s.write(n),s.end()}),this.server.on("error",i=>{console.error(i)})}static{o(this,"DebugServer")}listen(){return this.server.listen(this.port),this}getPort(){return this.server.address().port}};function dje(e,t){e.write("data: "+t.toString().replace(/\n/g,`
data: `)+`

`)}o(dje,"writeData");var zfe=class extends s$.AbstractMessageWriter{constructor(r,n){super();this.delegate=r;this.ev=n}static{o(this,"DebugMessageWriter")}async write(r){return this.ev.emit("write",r),this.delegate.write(r)}end(){this.ev.emit("end"),this.delegate.end()}},Yfe=class extends s$.AbstractMessageReader{constructor(r,n){super();this.delegate=r;this.ev=n}static{o(this,"DebugMessageReader")}listen(r){return this.delegate.listen(n=>{this.ev.emit("read",n),r(n)})}};async function pje(e,t,r){let n,i=parseInt(e.GH_COPILOT_DEBUG_UI_PORT??e.GITHUB_COPILOT_DEBUG_UI_PORT);if(!isNaN(i)){n??=new $fe.EventEmitter;let l=new o$(i,n).listen();i===0&&await t$(`http://localhost:${l.getPort()}`)}let s=e.GITHUB_COPILOT_RECORD??"",a;try{let l=Date.now().toString();s==="1"||s==="true"?a=OR.openSync(`stdio${l}.log`,"w"):s&&s!=="0"&&s!=="false"&&(a=OR.openSync(s.replaceAll("%s",l),"w"))}catch(l){console.error(l)}if(a){let l=o(c=>{a&&OR.appendFile(a,c,u=>{u&&(a=void 0,console.error(u))})},"log");n??=new $fe.EventEmitter,n.on("read",c=>l(`<-- ${JSON.stringify(c)}
`)),n.on("write",c=>l(`--> ${JSON.stringify(c)}
`))}return n&&(t=new Yfe(t,n),r=new zfe(r,n)),[t,r]}o(pje,"wrapTransports");async function Cje(){let e=Jxe(process.argv.slice(2)).version(new Eo().getDisplayVersion()).strict().option("debug",{type:"boolean",hidden:!0}).option("clientProcessId",{type:"string",hidden:!0}).option("stdio",{type:"boolean",describe:"Use stdio"});"pkg"in process||e.option("node-ipc",{type:"boolean",describe:"Use node IPC",conflicts:"stdio"});let t=await e.parse(),r,n;t["node-ipc"]?(r=new am.IPCMessageReader(process),n=new am.IPCMessageWriter(process)):t.stdio?(r=new am.StreamMessageReader(process.stdin),n=new am.StreamMessageWriter(process.stdout)):(console.error("error: required option '--stdio' not specified"),process.exit(1)),"pkg"in process&&process.platform!=="win32"&&(process.env.TMPDIR=await gje.mkdtemp(Aje.default.tmpdir()+"/github-copilot-"));let i=(0,am.createConnection)(am.ProposedFeatures.all,...await pje(process.env,r,n)),s=fje(i);console=X3e(s);let a=s.get(Hr);r.onClose(()=>a.onExit()),process.on("SIGINT",()=>{a.onExit().finally(()=>process.exit(130)).catch(()=>{})}),process.on("SIGTERM",()=>{a.onExit().finally(()=>process.exit(143)).catch(()=>{})}),a.listen()}o(Cje,"main");yje.isMainThread?require.main===module&&Cje():J3e()&&Z3e();0&&(module.exports={getTokenizer,getTokenizerAsync,main});
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cdric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

undici/lib/web/fetch/body.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

undici/lib/web/websocket/frame.js:
  (*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> *)

@vscode/prompt-tsx/dist/base/util/vs/nls.js:
@vscode/prompt-tsx/dist/base/util/vs/common/platform.js:
@vscode/prompt-tsx/dist/base/util/vs/common/process.js:
@vscode/prompt-tsx/dist/base/util/vs/common/path.js:
@vscode/prompt-tsx/dist/base/util/vs/common/uri.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

yargs-parser/build/lib/string-utils.js:
yargs-parser/build/lib/tokenize-arg-string.js:
yargs-parser/build/lib/yargs-parser-types.js:
yargs-parser/build/lib/yargs-parser.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/index.js:
  (**
   * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
   * CJS and ESM environments.
   *
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
//# sourceMappingURL=main.js.map
